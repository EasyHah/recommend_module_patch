import { defineStore } from 'pinia'
type Side='left'|'right'
export const useUIStore = defineStore('ui',{state:()=>({fullscreen:false,drawer:{leftOpen:false,rightOpen:false,leftPinned:false,rightPinned:false,leftWidth:360,rightWidth:360}}),actions:{toggleFullscreen(){this.fullscreen=!this.fullscreen;if(this.fullscreen)this.closeBoth()},hover(side:Side,enter:boolean){const pinnedKey=`${side}Pinned` as const;const openKey=`${side}Open` as const;if(!this.drawer[pinnedKey]) this.drawer[openKey]=enter},toggleOpen(side:Side){const openKey=`${side}Open` as const;this.drawer[openKey]=!this.drawer[openKey]},togglePin(side:Side){const pinnedKey=`${side}Pinned` as const;const openKey=`${side}Open` as const;this.drawer[pinnedKey]=!this.drawer[pinnedKey];if(this.drawer[pinnedKey]) this.drawer[openKey]=true},setLeftWidth(px:number){this.drawer.leftWidth=Math.max(280,Math.min(440,px))},setRightWidth(px:number){this.drawer.rightWidth=Math.max(280,Math.min(440,px))},closeBoth(){this.drawer.leftOpen=false;this.drawer.rightOpen=false;this.drawer.leftPinned=false;this.drawer.rightPinned=false}}})
