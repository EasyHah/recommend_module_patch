var H_=Object.defineProperty;var W_=(ha,ua,Sa)=>ua in ha?H_(ha,ua,{enumerable:!0,configurable:!0,writable:!0,value:Sa}):ha[ua]=Sa;var I_=(ha,ua,Sa)=>W_(ha,typeof ua!="symbol"?ua+"":ua,Sa);(function(){const ua=document.createElement("link").relList;if(ua&&ua.supports&&ua.supports("modulepreload"))return;for(const ka of document.querySelectorAll('link[rel="modulepreload"]'))ba(ka);new MutationObserver(ka=>{for(const _y of ka)if(_y.type==="childList")for(const Ty of _y.addedNodes)Ty.tagName==="LINK"&&Ty.rel==="modulepreload"&&ba(Ty)}).observe(document,{childList:!0,subtree:!0});function Sa(ka){const _y={};return ka.integrity&&(_y.integrity=ka.integrity),ka.referrerPolicy&&(_y.referrerPolicy=ka.referrerPolicy),ka.crossOrigin==="use-credentials"?_y.credentials="include":ka.crossOrigin==="anonymous"?_y.credentials="omit":_y.credentials="same-origin",_y}function ba(ka){if(ka.ep)return;ka.ep=!0;const _y=Sa(ka);fetch(ka.href,_y)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(ha){const ua=Object.create(null);for(const Sa of ha.split(","))ua[Sa]=1;return Sa=>Sa in ua}const EMPTY_OBJ$1={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=ha=>ha.charCodeAt(0)===111&&ha.charCodeAt(1)===110&&(ha.charCodeAt(2)>122||ha.charCodeAt(2)<97),isModelListener=ha=>ha.startsWith("onUpdate:"),extend$1=Object.assign,remove=(ha,ua)=>{const Sa=ha.indexOf(ua);Sa>-1&&ha.splice(Sa,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn$1=(ha,ua)=>hasOwnProperty$1.call(ha,ua),isArray$3=Array.isArray,isMap=ha=>toTypeString(ha)==="[object Map]",isSet=ha=>toTypeString(ha)==="[object Set]",isDate=ha=>toTypeString(ha)==="[object Date]",isFunction$1=ha=>typeof ha=="function",isString$1=ha=>typeof ha=="string",isSymbol=ha=>typeof ha=="symbol",isObject$4=ha=>ha!==null&&typeof ha=="object",isPromise=ha=>(isObject$4(ha)||isFunction$1(ha))&&isFunction$1(ha.then)&&isFunction$1(ha.catch),objectToString=Object.prototype.toString,toTypeString=ha=>objectToString.call(ha),toRawType=ha=>toTypeString(ha).slice(8,-1),isPlainObject$1=ha=>toTypeString(ha)==="[object Object]",isIntegerKey=ha=>isString$1(ha)&&ha!=="NaN"&&ha[0]!=="-"&&""+parseInt(ha,10)===ha,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=ha=>{const ua=Object.create(null);return Sa=>ua[Sa]||(ua[Sa]=ha(Sa))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(ha=>ha.replace(camelizeRE,(ua,Sa)=>Sa?Sa.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(ha=>ha.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(ha=>ha.charAt(0).toUpperCase()+ha.slice(1)),toHandlerKey=cacheStringFunction(ha=>ha?`on${capitalize(ha)}`:""),hasChanged=(ha,ua)=>!Object.is(ha,ua),invokeArrayFns=(ha,...ua)=>{for(let Sa=0;Sa<ha.length;Sa++)ha[Sa](...ua)},def=(ha,ua,Sa,ba=!1)=>{Object.defineProperty(ha,ua,{configurable:!0,enumerable:!1,writable:ba,value:Sa})},looseToNumber=ha=>{const ua=parseFloat(ha);return isNaN(ua)?ha:ua},toNumber=ha=>{const ua=isString$1(ha)?Number(ha):NaN;return isNaN(ua)?ha:ua};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle$1(ha){if(isArray$3(ha)){const ua={};for(let Sa=0;Sa<ha.length;Sa++){const ba=ha[Sa],ka=isString$1(ba)?parseStringStyle(ba):normalizeStyle$1(ba);if(ka)for(const _y in ka)ua[_y]=ka[_y]}return ua}else if(isString$1(ha)||isObject$4(ha))return ha}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(ha){const ua={};return ha.replace(styleCommentRE,"").split(listDelimiterRE).forEach(Sa=>{if(Sa){const ba=Sa.split(propertyDelimiterRE);ba.length>1&&(ua[ba[0].trim()]=ba[1].trim())}}),ua}function normalizeClass(ha){let ua="";if(isString$1(ha))ua=ha;else if(isArray$3(ha))for(let Sa=0;Sa<ha.length;Sa++){const ba=normalizeClass(ha[Sa]);ba&&(ua+=ba+" ")}else if(isObject$4(ha))for(const Sa in ha)ha[Sa]&&(ua+=Sa+" ");return ua.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(ha){return!!ha||ha===""}function looseCompareArrays(ha,ua){if(ha.length!==ua.length)return!1;let Sa=!0;for(let ba=0;Sa&&ba<ha.length;ba++)Sa=looseEqual(ha[ba],ua[ba]);return Sa}function looseEqual(ha,ua){if(ha===ua)return!0;let Sa=isDate(ha),ba=isDate(ua);if(Sa||ba)return Sa&&ba?ha.getTime()===ua.getTime():!1;if(Sa=isSymbol(ha),ba=isSymbol(ua),Sa||ba)return ha===ua;if(Sa=isArray$3(ha),ba=isArray$3(ua),Sa||ba)return Sa&&ba?looseCompareArrays(ha,ua):!1;if(Sa=isObject$4(ha),ba=isObject$4(ua),Sa||ba){if(!Sa||!ba)return!1;const ka=Object.keys(ha).length,_y=Object.keys(ua).length;if(ka!==_y)return!1;for(const Ty in ha){const Ay=ha.hasOwnProperty(Ty),Ey=ua.hasOwnProperty(Ty);if(Ay&&!Ey||!Ay&&Ey||!looseEqual(ha[Ty],ua[Ty]))return!1}}return String(ha)===String(ua)}function looseIndexOf(ha,ua){return ha.findIndex(Sa=>looseEqual(Sa,ua))}const isRef$1=ha=>!!(ha&&ha.__v_isRef===!0),toDisplayString=ha=>isString$1(ha)?ha:ha==null?"":isArray$3(ha)||isObject$4(ha)&&(ha.toString===objectToString||!isFunction$1(ha.toString))?isRef$1(ha)?toDisplayString(ha.value):JSON.stringify(ha,replacer,2):String(ha),replacer=(ha,ua)=>isRef$1(ua)?replacer(ha,ua.value):isMap(ua)?{[`Map(${ua.size})`]:[...ua.entries()].reduce((Sa,[ba,ka],_y)=>(Sa[stringifySymbol(ba,_y)+" =>"]=ka,Sa),{})}:isSet(ua)?{[`Set(${ua.size})`]:[...ua.values()].map(Sa=>stringifySymbol(Sa))}:isSymbol(ua)?stringifySymbol(ua):isObject$4(ua)&&!isArray$3(ua)&&!isPlainObject$1(ua)?String(ua):ua,stringifySymbol=(ha,ua="")=>{var Sa;return isSymbol(ha)?`Symbol(${(Sa=ha.description)!=null?Sa:ua})`:ha};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(ua=!1){this.detached=ua,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!ua&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let ua,Sa;if(this.scopes)for(ua=0,Sa=this.scopes.length;ua<Sa;ua++)this.scopes[ua].pause();for(ua=0,Sa=this.effects.length;ua<Sa;ua++)this.effects[ua].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let ua,Sa;if(this.scopes)for(ua=0,Sa=this.scopes.length;ua<Sa;ua++)this.scopes[ua].resume();for(ua=0,Sa=this.effects.length;ua<Sa;ua++)this.effects[ua].resume()}}run(ua){if(this._active){const Sa=activeEffectScope;try{return activeEffectScope=this,ua()}finally{activeEffectScope=Sa}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(ua){if(this._active){this._active=!1;let Sa,ba;for(Sa=0,ba=this.effects.length;Sa<ba;Sa++)this.effects[Sa].stop();for(this.effects.length=0,Sa=0,ba=this.cleanups.length;Sa<ba;Sa++)this.cleanups[Sa]();if(this.cleanups.length=0,this.scopes){for(Sa=0,ba=this.scopes.length;Sa<ba;Sa++)this.scopes[Sa].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!ua){const ka=this.parent.scopes.pop();ka&&ka!==this&&(this.parent.scopes[this.index]=ka,ka.index=this.index)}this.parent=void 0}}}function effectScope(ha){return new EffectScope(ha)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(ha,ua=!1){activeEffectScope&&activeEffectScope.cleanups.push(ha)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(ua){this.fn=ua,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const ua=activeSub,Sa=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=ua,shouldTrack=Sa,this.flags&=-3}}stop(){if(this.flags&1){for(let ua=this.deps;ua;ua=ua.nextDep)removeSub(ua);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(ha,ua=!1){if(ha.flags|=8,ua){ha.next=batchedComputed,batchedComputed=ha;return}ha.next=batchedSub,batchedSub=ha}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let ua=batchedComputed;for(batchedComputed=void 0;ua;){const Sa=ua.next;ua.next=void 0,ua.flags&=-9,ua=Sa}}let ha;for(;batchedSub;){let ua=batchedSub;for(batchedSub=void 0;ua;){const Sa=ua.next;if(ua.next=void 0,ua.flags&=-9,ua.flags&1)try{ua.trigger()}catch(ba){ha||(ha=ba)}ua=Sa}}if(ha)throw ha}function prepareDeps(ha){for(let ua=ha.deps;ua;ua=ua.nextDep)ua.version=-1,ua.prevActiveLink=ua.dep.activeLink,ua.dep.activeLink=ua}function cleanupDeps(ha){let ua,Sa=ha.depsTail,ba=Sa;for(;ba;){const ka=ba.prevDep;ba.version===-1?(ba===Sa&&(Sa=ka),removeSub(ba),removeDep(ba)):ua=ba,ba.dep.activeLink=ba.prevActiveLink,ba.prevActiveLink=void 0,ba=ka}ha.deps=ua,ha.depsTail=Sa}function isDirty(ha){for(let ua=ha.deps;ua;ua=ua.nextDep)if(ua.dep.version!==ua.version||ua.dep.computed&&(refreshComputed(ua.dep.computed)||ua.dep.version!==ua.version))return!0;return!!ha._dirty}function refreshComputed(ha){if(ha.flags&4&&!(ha.flags&16)||(ha.flags&=-17,ha.globalVersion===globalVersion)||(ha.globalVersion=globalVersion,!ha.isSSR&&ha.flags&128&&(!ha.deps&&!ha._dirty||!isDirty(ha))))return;ha.flags|=2;const ua=ha.dep,Sa=activeSub,ba=shouldTrack;activeSub=ha,shouldTrack=!0;try{prepareDeps(ha);const ka=ha.fn(ha._value);(ua.version===0||hasChanged(ka,ha._value))&&(ha.flags|=128,ha._value=ka,ua.version++)}catch(ka){throw ua.version++,ka}finally{activeSub=Sa,shouldTrack=ba,cleanupDeps(ha),ha.flags&=-3}}function removeSub(ha,ua=!1){const{dep:Sa,prevSub:ba,nextSub:ka}=ha;if(ba&&(ba.nextSub=ka,ha.prevSub=void 0),ka&&(ka.prevSub=ba,ha.nextSub=void 0),Sa.subs===ha&&(Sa.subs=ba,!ba&&Sa.computed)){Sa.computed.flags&=-5;for(let _y=Sa.computed.deps;_y;_y=_y.nextDep)removeSub(_y,!0)}!ua&&!--Sa.sc&&Sa.map&&Sa.map.delete(Sa.key)}function removeDep(ha){const{prevDep:ua,nextDep:Sa}=ha;ua&&(ua.nextDep=Sa,ha.prevDep=void 0),Sa&&(Sa.prevDep=ua,ha.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const ha=trackStack.pop();shouldTrack=ha===void 0?!0:ha}function cleanupEffect(ha){const{cleanup:ua}=ha;if(ha.cleanup=void 0,ua){const Sa=activeSub;activeSub=void 0;try{ua()}finally{activeSub=Sa}}}let globalVersion=0;class Link{constructor(ua,Sa){this.sub=ua,this.dep=Sa,this.version=Sa.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(ua){this.computed=ua,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(ua){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let Sa=this.activeLink;if(Sa===void 0||Sa.sub!==activeSub)Sa=this.activeLink=new Link(activeSub,this),activeSub.deps?(Sa.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=Sa,activeSub.depsTail=Sa):activeSub.deps=activeSub.depsTail=Sa,addSub(Sa);else if(Sa.version===-1&&(Sa.version=this.version,Sa.nextDep)){const ba=Sa.nextDep;ba.prevDep=Sa.prevDep,Sa.prevDep&&(Sa.prevDep.nextDep=ba),Sa.prevDep=activeSub.depsTail,Sa.nextDep=void 0,activeSub.depsTail.nextDep=Sa,activeSub.depsTail=Sa,activeSub.deps===Sa&&(activeSub.deps=ba)}return Sa}trigger(ua){this.version++,globalVersion++,this.notify(ua)}notify(ua){startBatch();try{for(let Sa=this.subs;Sa;Sa=Sa.prevSub)Sa.sub.notify()&&Sa.sub.dep.notify()}finally{endBatch()}}}function addSub(ha){if(ha.dep.sc++,ha.sub.flags&4){const ua=ha.dep.computed;if(ua&&!ha.dep.subs){ua.flags|=20;for(let ba=ua.deps;ba;ba=ba.nextDep)addSub(ba)}const Sa=ha.dep.subs;Sa!==ha&&(ha.prevSub=Sa,Sa&&(Sa.nextSub=ha)),ha.dep.subs=ha}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(ha,ua,Sa){if(shouldTrack&&activeSub){let ba=targetMap.get(ha);ba||targetMap.set(ha,ba=new Map);let ka=ba.get(Sa);ka||(ba.set(Sa,ka=new Dep),ka.map=ba,ka.key=Sa),ka.track()}}function trigger$2(ha,ua,Sa,ba,ka,_y){const Ty=targetMap.get(ha);if(!Ty){globalVersion++;return}const Ay=Ey=>{Ey&&Ey.trigger()};if(startBatch(),ua==="clear")Ty.forEach(Ay);else{const Ey=isArray$3(ha),My=Ey&&isIntegerKey(Sa);if(Ey&&Sa==="length"){const Dy=Number(ba);Ty.forEach((Iy,Ly)=>{(Ly==="length"||Ly===ARRAY_ITERATE_KEY||!isSymbol(Ly)&&Ly>=Dy)&&Ay(Iy)})}else switch((Sa!==void 0||Ty.has(void 0))&&Ay(Ty.get(Sa)),My&&Ay(Ty.get(ARRAY_ITERATE_KEY)),ua){case"add":Ey?My&&Ay(Ty.get("length")):(Ay(Ty.get(ITERATE_KEY)),isMap(ha)&&Ay(Ty.get(MAP_KEY_ITERATE_KEY)));break;case"delete":Ey||(Ay(Ty.get(ITERATE_KEY)),isMap(ha)&&Ay(Ty.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(ha)&&Ay(Ty.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(ha,ua){const Sa=targetMap.get(ha);return Sa&&Sa.get(ua)}function reactiveReadArray(ha){const ua=toRaw(ha);return ua===ha?ua:(track(ua,"iterate",ARRAY_ITERATE_KEY),isShallow(ha)?ua:ua.map(toReactive))}function shallowReadArray(ha){return track(ha=toRaw(ha),"iterate",ARRAY_ITERATE_KEY),ha}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator$1(this,Symbol.iterator,toReactive)},concat(...ha){return reactiveReadArray(this).concat(...ha.map(ua=>isArray$3(ua)?reactiveReadArray(ua):ua))},entries(){return iterator$1(this,"entries",ha=>(ha[1]=toReactive(ha[1]),ha))},every(ha,ua){return apply(this,"every",ha,ua,void 0,arguments)},filter(ha,ua){return apply(this,"filter",ha,ua,Sa=>Sa.map(toReactive),arguments)},find(ha,ua){return apply(this,"find",ha,ua,toReactive,arguments)},findIndex(ha,ua){return apply(this,"findIndex",ha,ua,void 0,arguments)},findLast(ha,ua){return apply(this,"findLast",ha,ua,toReactive,arguments)},findLastIndex(ha,ua){return apply(this,"findLastIndex",ha,ua,void 0,arguments)},forEach(ha,ua){return apply(this,"forEach",ha,ua,void 0,arguments)},includes(...ha){return searchProxy(this,"includes",ha)},indexOf(...ha){return searchProxy(this,"indexOf",ha)},join(ha){return reactiveReadArray(this).join(ha)},lastIndexOf(...ha){return searchProxy(this,"lastIndexOf",ha)},map(ha,ua){return apply(this,"map",ha,ua,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...ha){return noTracking(this,"push",ha)},reduce(ha,...ua){return reduce$1(this,"reduce",ha,ua)},reduceRight(ha,...ua){return reduce$1(this,"reduceRight",ha,ua)},shift(){return noTracking(this,"shift")},some(ha,ua){return apply(this,"some",ha,ua,void 0,arguments)},splice(...ha){return noTracking(this,"splice",ha)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(ha){return reactiveReadArray(this).toSorted(ha)},toSpliced(...ha){return reactiveReadArray(this).toSpliced(...ha)},unshift(...ha){return noTracking(this,"unshift",ha)},values(){return iterator$1(this,"values",toReactive)}};function iterator$1(ha,ua,Sa){const ba=shallowReadArray(ha),ka=ba[ua]();return ba!==ha&&!isShallow(ha)&&(ka._next=ka.next,ka.next=()=>{const _y=ka._next();return _y.value&&(_y.value=Sa(_y.value)),_y}),ka}const arrayProto$1=Array.prototype;function apply(ha,ua,Sa,ba,ka,_y){const Ty=shallowReadArray(ha),Ay=Ty!==ha&&!isShallow(ha),Ey=Ty[ua];if(Ey!==arrayProto$1[ua]){const Iy=Ey.apply(ha,_y);return Ay?toReactive(Iy):Iy}let My=Sa;Ty!==ha&&(Ay?My=function(Iy,Ly){return Sa.call(this,toReactive(Iy),Ly,ha)}:Sa.length>2&&(My=function(Iy,Ly){return Sa.call(this,Iy,Ly,ha)}));const Dy=Ey.call(Ty,My,ba);return Ay&&ka?ka(Dy):Dy}function reduce$1(ha,ua,Sa,ba){const ka=shallowReadArray(ha);let _y=Sa;return ka!==ha&&(isShallow(ha)?Sa.length>3&&(_y=function(Ty,Ay,Ey){return Sa.call(this,Ty,Ay,Ey,ha)}):_y=function(Ty,Ay,Ey){return Sa.call(this,Ty,toReactive(Ay),Ey,ha)}),ka[ua](_y,...ba)}function searchProxy(ha,ua,Sa){const ba=toRaw(ha);track(ba,"iterate",ARRAY_ITERATE_KEY);const ka=ba[ua](...Sa);return(ka===-1||ka===!1)&&isProxy(Sa[0])?(Sa[0]=toRaw(Sa[0]),ba[ua](...Sa)):ka}function noTracking(ha,ua,Sa=[]){pauseTracking(),startBatch();const ba=toRaw(ha)[ua].apply(ha,Sa);return endBatch(),resetTracking(),ba}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(ha=>ha!=="arguments"&&ha!=="caller").map(ha=>Symbol[ha]).filter(isSymbol));function hasOwnProperty(ha){isSymbol(ha)||(ha=String(ha));const ua=toRaw(this);return track(ua,"has",ha),ua.hasOwnProperty(ha)}class BaseReactiveHandler{constructor(ua=!1,Sa=!1){this._isReadonly=ua,this._isShallow=Sa}get(ua,Sa,ba){if(Sa==="__v_skip")return ua.__v_skip;const ka=this._isReadonly,_y=this._isShallow;if(Sa==="__v_isReactive")return!ka;if(Sa==="__v_isReadonly")return ka;if(Sa==="__v_isShallow")return _y;if(Sa==="__v_raw")return ba===(ka?_y?shallowReadonlyMap:readonlyMap:_y?shallowReactiveMap:reactiveMap).get(ua)||Object.getPrototypeOf(ua)===Object.getPrototypeOf(ba)?ua:void 0;const Ty=isArray$3(ua);if(!ka){let Ey;if(Ty&&(Ey=arrayInstrumentations[Sa]))return Ey;if(Sa==="hasOwnProperty")return hasOwnProperty}const Ay=Reflect.get(ua,Sa,isRef(ua)?ua:ba);return(isSymbol(Sa)?builtInSymbols.has(Sa):isNonTrackableKeys(Sa))||(ka||track(ua,"get",Sa),_y)?Ay:isRef(Ay)?Ty&&isIntegerKey(Sa)?Ay:Ay.value:isObject$4(Ay)?ka?readonly(Ay):reactive(Ay):Ay}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(ua=!1){super(!1,ua)}set(ua,Sa,ba,ka){let _y=ua[Sa];if(!this._isShallow){const Ey=isReadonly(_y);if(!isShallow(ba)&&!isReadonly(ba)&&(_y=toRaw(_y),ba=toRaw(ba)),!isArray$3(ua)&&isRef(_y)&&!isRef(ba))return Ey?!1:(_y.value=ba,!0)}const Ty=isArray$3(ua)&&isIntegerKey(Sa)?Number(Sa)<ua.length:hasOwn$1(ua,Sa),Ay=Reflect.set(ua,Sa,ba,isRef(ua)?ua:ka);return ua===toRaw(ka)&&(Ty?hasChanged(ba,_y)&&trigger$2(ua,"set",Sa,ba):trigger$2(ua,"add",Sa,ba)),Ay}deleteProperty(ua,Sa){const ba=hasOwn$1(ua,Sa);ua[Sa];const ka=Reflect.deleteProperty(ua,Sa);return ka&&ba&&trigger$2(ua,"delete",Sa,void 0),ka}has(ua,Sa){const ba=Reflect.has(ua,Sa);return(!isSymbol(Sa)||!builtInSymbols.has(Sa))&&track(ua,"has",Sa),ba}ownKeys(ua){return track(ua,"iterate",isArray$3(ua)?"length":ITERATE_KEY),Reflect.ownKeys(ua)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(ua=!1){super(!0,ua)}set(ua,Sa){return!0}deleteProperty(ua,Sa){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=ha=>ha,getProto=ha=>Reflect.getPrototypeOf(ha);function createIterableMethod(ha,ua,Sa){return function(...ba){const ka=this.__v_raw,_y=toRaw(ka),Ty=isMap(_y),Ay=ha==="entries"||ha===Symbol.iterator&&Ty,Ey=ha==="keys"&&Ty,My=ka[ha](...ba),Dy=Sa?toShallow:ua?toReadonly:toReactive;return!ua&&track(_y,"iterate",Ey?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Iy,done:Ly}=My.next();return Ly?{value:Iy,done:Ly}:{value:Ay?[Dy(Iy[0]),Dy(Iy[1])]:Dy(Iy),done:Ly}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(ha){return function(...ua){return ha==="delete"?!1:ha==="clear"?void 0:this}}function createInstrumentations(ha,ua){const Sa={get(ka){const _y=this.__v_raw,Ty=toRaw(_y),Ay=toRaw(ka);ha||(hasChanged(ka,Ay)&&track(Ty,"get",ka),track(Ty,"get",Ay));const{has:Ey}=getProto(Ty),My=ua?toShallow:ha?toReadonly:toReactive;if(Ey.call(Ty,ka))return My(_y.get(ka));if(Ey.call(Ty,Ay))return My(_y.get(Ay));_y!==Ty&&_y.get(ka)},get size(){const ka=this.__v_raw;return!ha&&track(toRaw(ka),"iterate",ITERATE_KEY),Reflect.get(ka,"size",ka)},has(ka){const _y=this.__v_raw,Ty=toRaw(_y),Ay=toRaw(ka);return ha||(hasChanged(ka,Ay)&&track(Ty,"has",ka),track(Ty,"has",Ay)),ka===Ay?_y.has(ka):_y.has(ka)||_y.has(Ay)},forEach(ka,_y){const Ty=this,Ay=Ty.__v_raw,Ey=toRaw(Ay),My=ua?toShallow:ha?toReadonly:toReactive;return!ha&&track(Ey,"iterate",ITERATE_KEY),Ay.forEach((Dy,Iy)=>ka.call(_y,My(Dy),My(Iy),Ty))}};return extend$1(Sa,ha?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(ka){!ua&&!isShallow(ka)&&!isReadonly(ka)&&(ka=toRaw(ka));const _y=toRaw(this);return getProto(_y).has.call(_y,ka)||(_y.add(ka),trigger$2(_y,"add",ka,ka)),this},set(ka,_y){!ua&&!isShallow(_y)&&!isReadonly(_y)&&(_y=toRaw(_y));const Ty=toRaw(this),{has:Ay,get:Ey}=getProto(Ty);let My=Ay.call(Ty,ka);My||(ka=toRaw(ka),My=Ay.call(Ty,ka));const Dy=Ey.call(Ty,ka);return Ty.set(ka,_y),My?hasChanged(_y,Dy)&&trigger$2(Ty,"set",ka,_y):trigger$2(Ty,"add",ka,_y),this},delete(ka){const _y=toRaw(this),{has:Ty,get:Ay}=getProto(_y);let Ey=Ty.call(_y,ka);Ey||(ka=toRaw(ka),Ey=Ty.call(_y,ka)),Ay&&Ay.call(_y,ka);const My=_y.delete(ka);return Ey&&trigger$2(_y,"delete",ka,void 0),My},clear(){const ka=toRaw(this),_y=ka.size!==0,Ty=ka.clear();return _y&&trigger$2(ka,"clear",void 0,void 0),Ty}}),["keys","values","entries",Symbol.iterator].forEach(ka=>{Sa[ka]=createIterableMethod(ka,ha,ua)}),Sa}function createInstrumentationGetter(ha,ua){const Sa=createInstrumentations(ha,ua);return(ba,ka,_y)=>ka==="__v_isReactive"?!ha:ka==="__v_isReadonly"?ha:ka==="__v_raw"?ba:Reflect.get(hasOwn$1(Sa,ka)&&ka in ba?Sa:ba,ka,_y)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(ha){switch(ha){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(ha){return ha.__v_skip||!Object.isExtensible(ha)?0:targetTypeMap(toRawType(ha))}function reactive(ha){return isReadonly(ha)?ha:createReactiveObject(ha,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(ha){return createReactiveObject(ha,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(ha){return createReactiveObject(ha,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(ha){return createReactiveObject(ha,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(ha,ua,Sa,ba,ka){if(!isObject$4(ha)||ha.__v_raw&&!(ua&&ha.__v_isReactive))return ha;const _y=getTargetType(ha);if(_y===0)return ha;const Ty=ka.get(ha);if(Ty)return Ty;const Ay=new Proxy(ha,_y===2?ba:Sa);return ka.set(ha,Ay),Ay}function isReactive(ha){return isReadonly(ha)?isReactive(ha.__v_raw):!!(ha&&ha.__v_isReactive)}function isReadonly(ha){return!!(ha&&ha.__v_isReadonly)}function isShallow(ha){return!!(ha&&ha.__v_isShallow)}function isProxy(ha){return ha?!!ha.__v_raw:!1}function toRaw(ha){const ua=ha&&ha.__v_raw;return ua?toRaw(ua):ha}function markRaw(ha){return!hasOwn$1(ha,"__v_skip")&&Object.isExtensible(ha)&&def(ha,"__v_skip",!0),ha}const toReactive=ha=>isObject$4(ha)?reactive(ha):ha,toReadonly=ha=>isObject$4(ha)?readonly(ha):ha;function isRef(ha){return ha?ha.__v_isRef===!0:!1}function ref(ha){return createRef(ha,!1)}function shallowRef(ha){return createRef(ha,!0)}function createRef(ha,ua){return isRef(ha)?ha:new RefImpl(ha,ua)}class RefImpl{constructor(ua,Sa){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=Sa?ua:toRaw(ua),this._value=Sa?ua:toReactive(ua),this.__v_isShallow=Sa}get value(){return this.dep.track(),this._value}set value(ua){const Sa=this._rawValue,ba=this.__v_isShallow||isShallow(ua)||isReadonly(ua);ua=ba?ua:toRaw(ua),hasChanged(ua,Sa)&&(this._rawValue=ua,this._value=ba?ua:toReactive(ua),this.dep.trigger())}}function unref(ha){return isRef(ha)?ha.value:ha}const shallowUnwrapHandlers={get:(ha,ua,Sa)=>ua==="__v_raw"?ha:unref(Reflect.get(ha,ua,Sa)),set:(ha,ua,Sa,ba)=>{const ka=ha[ua];return isRef(ka)&&!isRef(Sa)?(ka.value=Sa,!0):Reflect.set(ha,ua,Sa,ba)}};function proxyRefs(ha){return isReactive(ha)?ha:new Proxy(ha,shallowUnwrapHandlers)}class CustomRefImpl{constructor(ua){this.__v_isRef=!0,this._value=void 0;const Sa=this.dep=new Dep,{get:ba,set:ka}=ua(Sa.track.bind(Sa),Sa.trigger.bind(Sa));this._get=ba,this._set=ka}get value(){return this._value=this._get()}set value(ua){this._set(ua)}}function customRef(ha){return new CustomRefImpl(ha)}function toRefs(ha){const ua=isArray$3(ha)?new Array(ha.length):{};for(const Sa in ha)ua[Sa]=propertyToRef(ha,Sa);return ua}class ObjectRefImpl{constructor(ua,Sa,ba){this._object=ua,this._key=Sa,this._defaultValue=ba,this.__v_isRef=!0,this._value=void 0}get value(){const ua=this._object[this._key];return this._value=ua===void 0?this._defaultValue:ua}set value(ua){this._object[this._key]=ua}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(ua){this._getter=ua,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function toRef(ha,ua,Sa){return isRef(ha)?ha:isFunction$1(ha)?new GetterRefImpl(ha):isObject$4(ha)&&arguments.length>1?propertyToRef(ha,ua,Sa):ref(ha)}function propertyToRef(ha,ua,Sa){const ba=ha[ua];return isRef(ba)?ba:new ObjectRefImpl(ha,ua,Sa)}class ComputedRefImpl{constructor(ua,Sa,ba){this.fn=ua,this.setter=Sa,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!Sa,this.isSSR=ba}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const ua=this.dep.track();return refreshComputed(this),ua&&(ua.version=this.dep.version),this._value}set value(ua){this.setter&&this.setter(ua)}}function computed$1(ha,ua,Sa=!1){let ba,ka;return isFunction$1(ha)?ba=ha:(ba=ha.get,ka=ha.set),new ComputedRefImpl(ba,ka,Sa)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(ha,ua=!1,Sa=activeWatcher){if(Sa){let ba=cleanupMap.get(Sa);ba||cleanupMap.set(Sa,ba=[]),ba.push(ha)}}function watch$1(ha,ua,Sa=EMPTY_OBJ$1){const{immediate:ba,deep:ka,once:_y,scheduler:Ty,augmentJob:Ay,call:Ey}=Sa,My=zy=>ka?zy:isShallow(zy)||ka===!1||ka===0?traverse(zy,1):traverse(zy);let Dy,Iy,Ly,Py,Ry=!1,Vy=!1;if(isRef(ha)?(Iy=()=>ha.value,Ry=isShallow(ha)):isReactive(ha)?(Iy=()=>My(ha),Ry=!0):isArray$3(ha)?(Vy=!0,Ry=ha.some(zy=>isReactive(zy)||isShallow(zy)),Iy=()=>ha.map(zy=>{if(isRef(zy))return zy.value;if(isReactive(zy))return My(zy);if(isFunction$1(zy))return Ey?Ey(zy,2):zy()})):isFunction$1(ha)?ua?Iy=Ey?()=>Ey(ha,2):ha:Iy=()=>{if(Ly){pauseTracking();try{Ly()}finally{resetTracking()}}const zy=activeWatcher;activeWatcher=Dy;try{return Ey?Ey(ha,3,[Py]):ha(Py)}finally{activeWatcher=zy}}:Iy=NOOP,ua&&ka){const zy=Iy,Hy=ka===!0?1/0:ka;Iy=()=>traverse(zy(),Hy)}const Ny=getCurrentScope(),By=()=>{Dy.stop(),Ny&&Ny.active&&remove(Ny.effects,Dy)};if(_y&&ua){const zy=ua;ua=(...Hy)=>{zy(...Hy),By()}}let Oy=Vy?new Array(ha.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const Fy=zy=>{if(!(!(Dy.flags&1)||!Dy.dirty&&!zy))if(ua){const Hy=Dy.run();if(ka||Ry||(Vy?Hy.some((Gy,Wy)=>hasChanged(Gy,Oy[Wy])):hasChanged(Hy,Oy))){Ly&&Ly();const Gy=activeWatcher;activeWatcher=Dy;try{const Wy=[Hy,Oy===INITIAL_WATCHER_VALUE?void 0:Vy&&Oy[0]===INITIAL_WATCHER_VALUE?[]:Oy,Py];Oy=Hy,Ey?Ey(ua,3,Wy):ua(...Wy)}finally{activeWatcher=Gy}}}else Dy.run()};return Ay&&Ay(Fy),Dy=new ReactiveEffect(Iy),Dy.scheduler=Ty?()=>Ty(Fy,!1):Fy,Py=zy=>onWatcherCleanup(zy,!1,Dy),Ly=Dy.onStop=()=>{const zy=cleanupMap.get(Dy);if(zy){if(Ey)Ey(zy,4);else for(const Hy of zy)Hy();cleanupMap.delete(Dy)}},ua?ba?Fy(!0):Oy=Dy.run():Ty?Ty(Fy.bind(null,!0),!0):Dy.run(),By.pause=Dy.pause.bind(Dy),By.resume=Dy.resume.bind(Dy),By.stop=By,By}function traverse(ha,ua=1/0,Sa){if(ua<=0||!isObject$4(ha)||ha.__v_skip||(Sa=Sa||new Set,Sa.has(ha)))return ha;if(Sa.add(ha),ua--,isRef(ha))traverse(ha.value,ua,Sa);else if(isArray$3(ha))for(let ba=0;ba<ha.length;ba++)traverse(ha[ba],ua,Sa);else if(isSet(ha)||isMap(ha))ha.forEach(ba=>{traverse(ba,ua,Sa)});else if(isPlainObject$1(ha)){for(const ba in ha)traverse(ha[ba],ua,Sa);for(const ba of Object.getOwnPropertySymbols(ha))Object.prototype.propertyIsEnumerable.call(ha,ba)&&traverse(ha[ba],ua,Sa)}return ha}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(ha,...ua){if(isWarning)return;isWarning=!0,pauseTracking();const Sa=stack.length?stack[stack.length-1].component:null,ba=Sa&&Sa.appContext.config.warnHandler,ka=getComponentTrace();if(ba)callWithErrorHandling(ba,Sa,11,[ha+ua.map(_y=>{var Ty,Ay;return(Ay=(Ty=_y.toString)==null?void 0:Ty.call(_y))!=null?Ay:JSON.stringify(_y)}).join(""),Sa&&Sa.proxy,ka.map(({vnode:_y})=>`at <${formatComponentName(Sa,_y.type)}>`).join(`
`),ka]);else{const _y=[`[Vue warn]: ${ha}`,...ua];ka.length&&_y.push(`
`,...formatTrace(ka)),console.warn(..._y)}resetTracking(),isWarning=!1}function getComponentTrace(){let ha=stack[stack.length-1];if(!ha)return[];const ua=[];for(;ha;){const Sa=ua[0];Sa&&Sa.vnode===ha?Sa.recurseCount++:ua.push({vnode:ha,recurseCount:0});const ba=ha.component&&ha.component.parent;ha=ba&&ba.vnode}return ua}function formatTrace(ha){const ua=[];return ha.forEach((Sa,ba)=>{ua.push(...ba===0?[]:[`
`],...formatTraceEntry(Sa))}),ua}function formatTraceEntry({vnode:ha,recurseCount:ua}){const Sa=ua>0?`... (${ua} recursive calls)`:"",ba=ha.component?ha.component.parent==null:!1,ka=` at <${formatComponentName(ha.component,ha.type,ba)}`,_y=">"+Sa;return ha.props?[ka,...formatProps(ha.props),_y]:[ka+_y]}function formatProps(ha){const ua=[],Sa=Object.keys(ha);return Sa.slice(0,3).forEach(ba=>{ua.push(...formatProp(ba,ha[ba]))}),Sa.length>3&&ua.push(" ..."),ua}function formatProp(ha,ua,Sa){return isString$1(ua)?(ua=JSON.stringify(ua),Sa?ua:[`${ha}=${ua}`]):typeof ua=="number"||typeof ua=="boolean"||ua==null?Sa?ua:[`${ha}=${ua}`]:isRef(ua)?(ua=formatProp(ha,toRaw(ua.value),!0),Sa?ua:[`${ha}=Ref<`,ua,">"]):isFunction$1(ua)?[`${ha}=fn${ua.name?`<${ua.name}>`:""}`]:(ua=toRaw(ua),Sa?ua:[`${ha}=`,ua])}function callWithErrorHandling(ha,ua,Sa,ba){try{return ba?ha(...ba):ha()}catch(ka){handleError(ka,ua,Sa)}}function callWithAsyncErrorHandling(ha,ua,Sa,ba){if(isFunction$1(ha)){const ka=callWithErrorHandling(ha,ua,Sa,ba);return ka&&isPromise(ka)&&ka.catch(_y=>{handleError(_y,ua,Sa)}),ka}if(isArray$3(ha)){const ka=[];for(let _y=0;_y<ha.length;_y++)ka.push(callWithAsyncErrorHandling(ha[_y],ua,Sa,ba));return ka}}function handleError(ha,ua,Sa,ba=!0){const ka=ua?ua.vnode:null,{errorHandler:_y,throwUnhandledErrorInProduction:Ty}=ua&&ua.appContext.config||EMPTY_OBJ$1;if(ua){let Ay=ua.parent;const Ey=ua.proxy,My=`https://vuejs.org/error-reference/#runtime-${Sa}`;for(;Ay;){const Dy=Ay.ec;if(Dy){for(let Iy=0;Iy<Dy.length;Iy++)if(Dy[Iy](ha,Ey,My)===!1)return}Ay=Ay.parent}if(_y){pauseTracking(),callWithErrorHandling(_y,null,10,[ha,Ey,My]),resetTracking();return}}logError$1(ha,Sa,ka,ba,Ty)}function logError$1(ha,ua,Sa,ba=!0,ka=!1){if(ka)throw ha;console.error(ha)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(ha){const ua=currentFlushPromise||resolvedPromise;return ha?ua.then(this?ha.bind(this):ha):ua}function findInsertionIndex$1(ha){let ua=flushIndex+1,Sa=queue.length;for(;ua<Sa;){const ba=ua+Sa>>>1,ka=queue[ba],_y=getId$1(ka);_y<ha||_y===ha&&ka.flags&2?ua=ba+1:Sa=ba}return ua}function queueJob(ha){if(!(ha.flags&1)){const ua=getId$1(ha),Sa=queue[queue.length-1];!Sa||!(ha.flags&2)&&ua>=getId$1(Sa)?queue.push(ha):queue.splice(findInsertionIndex$1(ua),0,ha),ha.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(ha){isArray$3(ha)?pendingPostFlushCbs.push(...ha):activePostFlushCbs&&ha.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,ha):ha.flags&1||(pendingPostFlushCbs.push(ha),ha.flags|=1),queueFlush()}function flushPreFlushCbs(ha,ua,Sa=flushIndex+1){for(;Sa<queue.length;Sa++){const ba=queue[Sa];if(ba&&ba.flags&2){if(ha&&ba.id!==ha.uid)continue;queue.splice(Sa,1),Sa--,ba.flags&4&&(ba.flags&=-2),ba(),ba.flags&4||(ba.flags&=-2)}}}function flushPostFlushCbs(ha){if(pendingPostFlushCbs.length){const ua=[...new Set(pendingPostFlushCbs)].sort((Sa,ba)=>getId$1(Sa)-getId$1(ba));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...ua);return}for(activePostFlushCbs=ua,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const Sa=activePostFlushCbs[postFlushIndex];Sa.flags&4&&(Sa.flags&=-2),Sa.flags&8||Sa(),Sa.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId$1=ha=>ha.id==null?ha.flags&2?-1:1/0:ha.id;function flushJobs(ha){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const ua=queue[flushIndex];ua&&!(ua.flags&8)&&(ua.flags&4&&(ua.flags&=-2),callWithErrorHandling(ua,ua.i,ua.i?15:14),ua.flags&4||(ua.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const ua=queue[flushIndex];ua&&(ua.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(ha){const ua=currentRenderingInstance;return currentRenderingInstance=ha,currentScopeId=ha&&ha.type.__scopeId||null,ua}function withCtx(ha,ua=currentRenderingInstance,Sa){if(!ua||ha._n)return ha;const ba=(...ka)=>{ba._d&&setBlockTracking(-1);const _y=setCurrentRenderingInstance(ua);let Ty;try{Ty=ha(...ka)}finally{setCurrentRenderingInstance(_y),ba._d&&setBlockTracking(1)}return Ty};return ba._n=!0,ba._c=!0,ba._d=!0,ba}function withDirectives(ha,ua){if(currentRenderingInstance===null)return ha;const Sa=getComponentPublicInstance(currentRenderingInstance),ba=ha.dirs||(ha.dirs=[]);for(let ka=0;ka<ua.length;ka++){let[_y,Ty,Ay,Ey=EMPTY_OBJ$1]=ua[ka];_y&&(isFunction$1(_y)&&(_y={mounted:_y,updated:_y}),_y.deep&&traverse(Ty),ba.push({dir:_y,instance:Sa,value:Ty,oldValue:void 0,arg:Ay,modifiers:Ey}))}return ha}function invokeDirectiveHook(ha,ua,Sa,ba){const ka=ha.dirs,_y=ua&&ua.dirs;for(let Ty=0;Ty<ka.length;Ty++){const Ay=ka[Ty];_y&&(Ay.oldValue=_y[Ty].value);let Ey=Ay.dir[ba];Ey&&(pauseTracking(),callWithAsyncErrorHandling(Ey,Sa,8,[ha.el,Ay,ha,ua]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=ha=>ha.__isTeleport,isTeleportDisabled=ha=>ha&&(ha.disabled||ha.disabled===""),isTeleportDeferred=ha=>ha&&(ha.defer||ha.defer===""),isTargetSVG=ha=>typeof SVGElement<"u"&&ha instanceof SVGElement,isTargetMathML=ha=>typeof MathMLElement=="function"&&ha instanceof MathMLElement,resolveTarget=(ha,ua)=>{const Sa=ha&&ha.to;return isString$1(Sa)?ua?ua(Sa):null:Sa},TeleportImpl={name:"Teleport",__isTeleport:!0,process(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My){const{mc:Dy,pc:Iy,pbc:Ly,o:{insert:Py,querySelector:Ry,createText:Vy,createComment:Ny}}=My,By=isTeleportDisabled(ua.props);let{shapeFlag:Oy,children:Fy,dynamicChildren:zy}=ua;if(ha==null){const Hy=ua.el=Vy(""),Gy=ua.anchor=Vy("");Py(Hy,Sa,ba),Py(Gy,Sa,ba);const Wy=(Yy,jy)=>{Oy&16&&(ka&&ka.isCE&&(ka.ce._teleportTarget=Yy),Dy(Fy,Yy,jy,ka,_y,Ty,Ay,Ey))},Uy=()=>{const Yy=ua.target=resolveTarget(ua.props,Ry),jy=prepareAnchor(Yy,ua,Vy,Py);Yy&&(Ty!=="svg"&&isTargetSVG(Yy)?Ty="svg":Ty!=="mathml"&&isTargetMathML(Yy)&&(Ty="mathml"),By||(Wy(Yy,jy),updateCssVars(ua,!1)))};By&&(Wy(Sa,Gy),updateCssVars(ua,!0)),isTeleportDeferred(ua.props)?(ua.el.__isMounted=!1,queuePostRenderEffect(()=>{Uy(),delete ua.el.__isMounted},_y)):Uy()}else{if(isTeleportDeferred(ua.props)&&ha.el.__isMounted===!1){queuePostRenderEffect(()=>{TeleportImpl.process(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My)},_y);return}ua.el=ha.el,ua.targetStart=ha.targetStart;const Hy=ua.anchor=ha.anchor,Gy=ua.target=ha.target,Wy=ua.targetAnchor=ha.targetAnchor,Uy=isTeleportDisabled(ha.props),Yy=Uy?Sa:Gy,jy=Uy?Hy:Wy;if(Ty==="svg"||isTargetSVG(Gy)?Ty="svg":(Ty==="mathml"||isTargetMathML(Gy))&&(Ty="mathml"),zy?(Ly(ha.dynamicChildren,zy,Yy,ka,_y,Ty,Ay),traverseStaticChildren(ha,ua,!0)):Ey||Iy(ha,ua,Yy,jy,ka,_y,Ty,Ay,!1),By)Uy?ua.props&&ha.props&&ua.props.to!==ha.props.to&&(ua.props.to=ha.props.to):moveTeleport(ua,Sa,Hy,My,1);else if((ua.props&&ua.props.to)!==(ha.props&&ha.props.to)){const Ky=ua.target=resolveTarget(ua.props,Ry);Ky&&moveTeleport(ua,Ky,null,My,0)}else Uy&&moveTeleport(ua,Gy,Wy,My,1);updateCssVars(ua,By)}},remove(ha,ua,Sa,{um:ba,o:{remove:ka}},_y){const{shapeFlag:Ty,children:Ay,anchor:Ey,targetStart:My,targetAnchor:Dy,target:Iy,props:Ly}=ha;if(Iy&&(ka(My),ka(Dy)),_y&&ka(Ey),Ty&16){const Py=_y||!isTeleportDisabled(Ly);for(let Ry=0;Ry<Ay.length;Ry++){const Vy=Ay[Ry];ba(Vy,ua,Sa,Py,!!Vy.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(ha,ua,Sa,{o:{insert:ba},m:ka},_y=2){_y===0&&ba(ha.targetAnchor,ua,Sa);const{el:Ty,anchor:Ay,shapeFlag:Ey,children:My,props:Dy}=ha,Iy=_y===2;if(Iy&&ba(Ty,ua,Sa),(!Iy||isTeleportDisabled(Dy))&&Ey&16)for(let Ly=0;Ly<My.length;Ly++)ka(My[Ly],ua,Sa,2);Iy&&ba(Ay,ua,Sa)}function hydrateTeleport(ha,ua,Sa,ba,ka,_y,{o:{nextSibling:Ty,parentNode:Ay,querySelector:Ey,insert:My,createText:Dy}},Iy){const Ly=ua.target=resolveTarget(ua.props,Ey);if(Ly){const Py=isTeleportDisabled(ua.props),Ry=Ly._lpa||Ly.firstChild;if(ua.shapeFlag&16)if(Py)ua.anchor=Iy(Ty(ha),ua,Ay(ha),Sa,ba,ka,_y),ua.targetStart=Ry,ua.targetAnchor=Ry&&Ty(Ry);else{ua.anchor=Ty(ha);let Vy=Ry;for(;Vy;){if(Vy&&Vy.nodeType===8){if(Vy.data==="teleport start anchor")ua.targetStart=Vy;else if(Vy.data==="teleport anchor"){ua.targetAnchor=Vy,Ly._lpa=ua.targetAnchor&&Ty(ua.targetAnchor);break}}Vy=Ty(Vy)}ua.targetAnchor||prepareAnchor(Ly,ua,Dy,My),Iy(Ry&&Ty(Ry),ua,Ly,Sa,ba,ka,_y)}updateCssVars(ua,Py)}return ua.anchor&&Ty(ua.anchor)}const Teleport=TeleportImpl;function updateCssVars(ha,ua){const Sa=ha.ctx;if(Sa&&Sa.ut){let ba,ka;for(ua?(ba=ha.el,ka=ha.anchor):(ba=ha.targetStart,ka=ha.targetAnchor);ba&&ba!==ka;)ba.nodeType===1&&ba.setAttribute("data-v-owner",Sa.uid),ba=ba.nextSibling;Sa.ut()}}function prepareAnchor(ha,ua,Sa,ba){const ka=ua.targetStart=Sa(""),_y=ua.targetAnchor=Sa("");return ka[TeleportEndKey]=_y,ha&&(ba(ka,ha),ba(_y,ha)),_y}const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const ha={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{ha.isMounted=!0}),onBeforeUnmount(()=>{ha.isUnmounting=!0}),ha}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=ha=>{const ua=ha.subTree;return ua.component?recursiveGetSubtree(ua.component):ua},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(ha,{slots:ua}){const Sa=getCurrentInstance(),ba=useTransitionState();return()=>{const ka=ua.default&&getTransitionRawChildren(ua.default(),!0);if(!ka||!ka.length)return;const _y=findNonCommentChild(ka),Ty=toRaw(ha),{mode:Ay}=Ty;if(ba.isLeaving)return emptyPlaceholder(_y);const Ey=getInnerChild$1(_y);if(!Ey)return emptyPlaceholder(_y);let My=resolveTransitionHooks(Ey,Ty,ba,Sa,Iy=>My=Iy);Ey.type!==Comment&&setTransitionHooks(Ey,My);let Dy=Sa.subTree&&getInnerChild$1(Sa.subTree);if(Dy&&Dy.type!==Comment&&!isSameVNodeType(Ey,Dy)&&recursiveGetSubtree(Sa).type!==Comment){let Iy=resolveTransitionHooks(Dy,Ty,ba,Sa);if(setTransitionHooks(Dy,Iy),Ay==="out-in"&&Ey.type!==Comment)return ba.isLeaving=!0,Iy.afterLeave=()=>{ba.isLeaving=!1,Sa.job.flags&8||Sa.update(),delete Iy.afterLeave,Dy=void 0},emptyPlaceholder(_y);Ay==="in-out"&&Ey.type!==Comment?Iy.delayLeave=(Ly,Py,Ry)=>{const Vy=getLeavingNodesForType(ba,Dy);Vy[String(Dy.key)]=Dy,Ly[leaveCbKey]=()=>{Py(),Ly[leaveCbKey]=void 0,delete My.delayedLeave,Dy=void 0},My.delayedLeave=()=>{Ry(),delete My.delayedLeave,Dy=void 0}}:Dy=void 0}else Dy&&(Dy=void 0);return _y}}};function findNonCommentChild(ha){let ua=ha[0];if(ha.length>1){for(const Sa of ha)if(Sa.type!==Comment){ua=Sa;break}}return ua}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(ha,ua){const{leavingVNodes:Sa}=ha;let ba=Sa.get(ua.type);return ba||(ba=Object.create(null),Sa.set(ua.type,ba)),ba}function resolveTransitionHooks(ha,ua,Sa,ba,ka){const{appear:_y,mode:Ty,persisted:Ay=!1,onBeforeEnter:Ey,onEnter:My,onAfterEnter:Dy,onEnterCancelled:Iy,onBeforeLeave:Ly,onLeave:Py,onAfterLeave:Ry,onLeaveCancelled:Vy,onBeforeAppear:Ny,onAppear:By,onAfterAppear:Oy,onAppearCancelled:Fy}=ua,zy=String(ha.key),Hy=getLeavingNodesForType(Sa,ha),Gy=(Yy,jy)=>{Yy&&callWithAsyncErrorHandling(Yy,ba,9,jy)},Wy=(Yy,jy)=>{const Ky=jy[1];Gy(Yy,jy),isArray$3(Yy)?Yy.every(Xy=>Xy.length<=1)&&Ky():Yy.length<=1&&Ky()},Uy={mode:Ty,persisted:Ay,beforeEnter(Yy){let jy=Ey;if(!Sa.isMounted)if(_y)jy=Ny||Ey;else return;Yy[leaveCbKey]&&Yy[leaveCbKey](!0);const Ky=Hy[zy];Ky&&isSameVNodeType(ha,Ky)&&Ky.el[leaveCbKey]&&Ky.el[leaveCbKey](),Gy(jy,[Yy])},enter(Yy){let jy=My,Ky=Dy,Xy=Iy;if(!Sa.isMounted)if(_y)jy=By||My,Ky=Oy||Dy,Xy=Fy||Iy;else return;let Zy=!1;const Jy=Yy[enterCbKey$1]=t_=>{Zy||(Zy=!0,t_?Gy(Xy,[Yy]):Gy(Ky,[Yy]),Uy.delayedLeave&&Uy.delayedLeave(),Yy[enterCbKey$1]=void 0)};jy?Wy(jy,[Yy,Jy]):Jy()},leave(Yy,jy){const Ky=String(ha.key);if(Yy[enterCbKey$1]&&Yy[enterCbKey$1](!0),Sa.isUnmounting)return jy();Gy(Ly,[Yy]);let Xy=!1;const Zy=Yy[leaveCbKey]=Jy=>{Xy||(Xy=!0,jy(),Jy?Gy(Vy,[Yy]):Gy(Ry,[Yy]),Yy[leaveCbKey]=void 0,Hy[Ky]===ha&&delete Hy[Ky])};Hy[Ky]=ha,Py?Wy(Py,[Yy,Zy]):Zy()},clone(Yy){const jy=resolveTransitionHooks(Yy,ua,Sa,ba,ka);return ka&&ka(jy),jy}};return Uy}function emptyPlaceholder(ha){if(isKeepAlive(ha))return ha=cloneVNode(ha),ha.children=null,ha}function getInnerChild$1(ha){if(!isKeepAlive(ha))return isTeleport(ha.type)&&ha.children?findNonCommentChild(ha.children):ha;if(ha.component)return ha.component.subTree;const{shapeFlag:ua,children:Sa}=ha;if(Sa){if(ua&16)return Sa[0];if(ua&32&&isFunction$1(Sa.default))return Sa.default()}}function setTransitionHooks(ha,ua){ha.shapeFlag&6&&ha.component?(ha.transition=ua,setTransitionHooks(ha.component.subTree,ua)):ha.shapeFlag&128?(ha.ssContent.transition=ua.clone(ha.ssContent),ha.ssFallback.transition=ua.clone(ha.ssFallback)):ha.transition=ua}function getTransitionRawChildren(ha,ua=!1,Sa){let ba=[],ka=0;for(let _y=0;_y<ha.length;_y++){let Ty=ha[_y];const Ay=Sa==null?Ty.key:String(Sa)+String(Ty.key!=null?Ty.key:_y);Ty.type===Fragment?(Ty.patchFlag&128&&ka++,ba=ba.concat(getTransitionRawChildren(Ty.children,ua,Ay))):(ua||Ty.type!==Comment)&&ba.push(Ay!=null?cloneVNode(Ty,{key:Ay}):Ty)}if(ka>1)for(let _y=0;_y<ba.length;_y++)ba[_y].patchFlag=-2;return ba}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(ha,ua){return isFunction$1(ha)?extend$1({name:ha.name},ua,{setup:ha}):ha}function markAsyncBoundary(ha){ha.ids=[ha.ids[0]+ha.ids[2]+++"-",0,0]}function setRef(ha,ua,Sa,ba,ka=!1){if(isArray$3(ha)){ha.forEach((Ry,Vy)=>setRef(Ry,ua&&(isArray$3(ua)?ua[Vy]:ua),Sa,ba,ka));return}if(isAsyncWrapper(ba)&&!ka){ba.shapeFlag&512&&ba.type.__asyncResolved&&ba.component.subTree.component&&setRef(ha,ua,Sa,ba.component.subTree);return}const _y=ba.shapeFlag&4?getComponentPublicInstance(ba.component):ba.el,Ty=ka?null:_y,{i:Ay,r:Ey}=ha,My=ua&&ua.r,Dy=Ay.refs===EMPTY_OBJ$1?Ay.refs={}:Ay.refs,Iy=Ay.setupState,Ly=toRaw(Iy),Py=Iy===EMPTY_OBJ$1?()=>!1:Ry=>hasOwn$1(Ly,Ry);if(My!=null&&My!==Ey&&(isString$1(My)?(Dy[My]=null,Py(My)&&(Iy[My]=null)):isRef(My)&&(My.value=null)),isFunction$1(Ey))callWithErrorHandling(Ey,Ay,12,[Ty,Dy]);else{const Ry=isString$1(Ey),Vy=isRef(Ey);if(Ry||Vy){const Ny=()=>{if(ha.f){const By=Ry?Py(Ey)?Iy[Ey]:Dy[Ey]:Ey.value;ka?isArray$3(By)&&remove(By,_y):isArray$3(By)?By.includes(_y)||By.push(_y):Ry?(Dy[Ey]=[_y],Py(Ey)&&(Iy[Ey]=Dy[Ey])):(Ey.value=[_y],ha.k&&(Dy[ha.k]=Ey.value))}else Ry?(Dy[Ey]=Ty,Py(Ey)&&(Iy[Ey]=Ty)):Vy&&(Ey.value=Ty,ha.k&&(Dy[ha.k]=Ty))};Ty?(Ny.id=-1,queuePostRenderEffect(Ny,Sa)):Ny()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=ha=>!!ha.type.__asyncLoader,isKeepAlive=ha=>ha.type.__isKeepAlive;function onActivated(ha,ua){registerKeepAliveHook(ha,"a",ua)}function onDeactivated(ha,ua){registerKeepAliveHook(ha,"da",ua)}function registerKeepAliveHook(ha,ua,Sa=currentInstance){const ba=ha.__wdc||(ha.__wdc=()=>{let ka=Sa;for(;ka;){if(ka.isDeactivated)return;ka=ka.parent}return ha()});if(injectHook(ua,ba,Sa),Sa){let ka=Sa.parent;for(;ka&&ka.parent;)isKeepAlive(ka.parent.vnode)&&injectToKeepAliveRoot(ba,ua,Sa,ka),ka=ka.parent}}function injectToKeepAliveRoot(ha,ua,Sa,ba){const ka=injectHook(ua,ha,ba,!0);onUnmounted(()=>{remove(ba[ua],ka)},Sa)}function injectHook(ha,ua,Sa=currentInstance,ba=!1){if(Sa){const ka=Sa[ha]||(Sa[ha]=[]),_y=ua.__weh||(ua.__weh=(...Ty)=>{pauseTracking();const Ay=setCurrentInstance(Sa),Ey=callWithAsyncErrorHandling(ua,Sa,ha,Ty);return Ay(),resetTracking(),Ey});return ba?ka.unshift(_y):ka.push(_y),_y}}const createHook=ha=>(ua,Sa=currentInstance)=>{(!isInSSRComponentSetup||ha==="sp")&&injectHook(ha,(...ba)=>ua(...ba),Sa)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(ha,ua=currentInstance){injectHook("ec",ha,ua)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(ha,ua){return resolveAsset(COMPONENTS,ha,!0,ua)||ha}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(ha){return isString$1(ha)?resolveAsset(COMPONENTS,ha,!1)||ha:ha||NULL_DYNAMIC_COMPONENT}function resolveDirective(ha){return resolveAsset(DIRECTIVES,ha)}function resolveAsset(ha,ua,Sa=!0,ba=!1){const ka=currentRenderingInstance||currentInstance;if(ka){const _y=ka.type;if(ha===COMPONENTS){const Ay=getComponentName(_y,!1);if(Ay&&(Ay===ua||Ay===camelize(ua)||Ay===capitalize(camelize(ua))))return _y}const Ty=resolve(ka[ha]||_y[ha],ua)||resolve(ka.appContext[ha],ua);return!Ty&&ba?_y:Ty}}function resolve(ha,ua){return ha&&(ha[ua]||ha[camelize(ua)]||ha[capitalize(camelize(ua))])}function renderList(ha,ua,Sa,ba){let ka;const _y=Sa,Ty=isArray$3(ha);if(Ty||isString$1(ha)){const Ay=Ty&&isReactive(ha);let Ey=!1,My=!1;Ay&&(Ey=!isShallow(ha),My=isReadonly(ha),ha=shallowReadArray(ha)),ka=new Array(ha.length);for(let Dy=0,Iy=ha.length;Dy<Iy;Dy++)ka[Dy]=ua(Ey?My?toReadonly(toReactive(ha[Dy])):toReactive(ha[Dy]):ha[Dy],Dy,void 0,_y)}else if(typeof ha=="number"){ka=new Array(ha);for(let Ay=0;Ay<ha;Ay++)ka[Ay]=ua(Ay+1,Ay,void 0,_y)}else if(isObject$4(ha))if(ha[Symbol.iterator])ka=Array.from(ha,(Ay,Ey)=>ua(Ay,Ey,void 0,_y));else{const Ay=Object.keys(ha);ka=new Array(Ay.length);for(let Ey=0,My=Ay.length;Ey<My;Ey++){const Dy=Ay[Ey];ka[Ey]=ua(ha[Dy],Dy,Ey,_y)}}else ka=[];return ka}function renderSlot(ha,ua,Sa={},ba,ka){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return ua!=="default"&&(Sa.name=ua),openBlock(),createBlock(Fragment,null,[createVNode$1("slot",Sa,ba&&ba())],64);let _y=ha[ua];_y&&_y._c&&(_y._d=!1),openBlock();const Ty=_y&&ensureValidVNode(_y(Sa)),Ay=Sa.key||Ty&&Ty.key,Ey=createBlock(Fragment,{key:(Ay&&!isSymbol(Ay)?Ay:`_${ua}`)+(!Ty&&ba?"_fb":"")},Ty||(ba?ba():[]),Ty&&ha._===1?64:-2);return!ka&&Ey.scopeId&&(Ey.slotScopeIds=[Ey.scopeId+"-s"]),_y&&_y._c&&(_y._d=!0),Ey}function ensureValidVNode(ha){return ha.some(ua=>isVNode(ua)?!(ua.type===Comment||ua.type===Fragment&&!ensureValidVNode(ua.children)):!0)?ha:null}const getPublicInstance=ha=>ha?isStatefulComponent(ha)?getComponentPublicInstance(ha):getPublicInstance(ha.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:ha=>ha,$el:ha=>ha.vnode.el,$data:ha=>ha.data,$props:ha=>ha.props,$attrs:ha=>ha.attrs,$slots:ha=>ha.slots,$refs:ha=>ha.refs,$parent:ha=>getPublicInstance(ha.parent),$root:ha=>getPublicInstance(ha.root),$host:ha=>ha.ce,$emit:ha=>ha.emit,$options:ha=>resolveMergedOptions(ha),$forceUpdate:ha=>ha.f||(ha.f=()=>{queueJob(ha.update)}),$nextTick:ha=>ha.n||(ha.n=nextTick.bind(ha.proxy)),$watch:ha=>instanceWatch.bind(ha)}),hasSetupBinding=(ha,ua)=>ha!==EMPTY_OBJ$1&&!ha.__isScriptSetup&&hasOwn$1(ha,ua),PublicInstanceProxyHandlers={get({_:ha},ua){if(ua==="__v_skip")return!0;const{ctx:Sa,setupState:ba,data:ka,props:_y,accessCache:Ty,type:Ay,appContext:Ey}=ha;let My;if(ua[0]!=="$"){const Py=Ty[ua];if(Py!==void 0)switch(Py){case 1:return ba[ua];case 2:return ka[ua];case 4:return Sa[ua];case 3:return _y[ua]}else{if(hasSetupBinding(ba,ua))return Ty[ua]=1,ba[ua];if(ka!==EMPTY_OBJ$1&&hasOwn$1(ka,ua))return Ty[ua]=2,ka[ua];if((My=ha.propsOptions[0])&&hasOwn$1(My,ua))return Ty[ua]=3,_y[ua];if(Sa!==EMPTY_OBJ$1&&hasOwn$1(Sa,ua))return Ty[ua]=4,Sa[ua];shouldCacheAccess&&(Ty[ua]=0)}}const Dy=publicPropertiesMap[ua];let Iy,Ly;if(Dy)return ua==="$attrs"&&track(ha.attrs,"get",""),Dy(ha);if((Iy=Ay.__cssModules)&&(Iy=Iy[ua]))return Iy;if(Sa!==EMPTY_OBJ$1&&hasOwn$1(Sa,ua))return Ty[ua]=4,Sa[ua];if(Ly=Ey.config.globalProperties,hasOwn$1(Ly,ua))return Ly[ua]},set({_:ha},ua,Sa){const{data:ba,setupState:ka,ctx:_y}=ha;return hasSetupBinding(ka,ua)?(ka[ua]=Sa,!0):ba!==EMPTY_OBJ$1&&hasOwn$1(ba,ua)?(ba[ua]=Sa,!0):hasOwn$1(ha.props,ua)||ua[0]==="$"&&ua.slice(1)in ha?!1:(_y[ua]=Sa,!0)},has({_:{data:ha,setupState:ua,accessCache:Sa,ctx:ba,appContext:ka,propsOptions:_y}},Ty){let Ay;return!!Sa[Ty]||ha!==EMPTY_OBJ$1&&hasOwn$1(ha,Ty)||hasSetupBinding(ua,Ty)||(Ay=_y[0])&&hasOwn$1(Ay,Ty)||hasOwn$1(ba,Ty)||hasOwn$1(publicPropertiesMap,Ty)||hasOwn$1(ka.config.globalProperties,Ty)},defineProperty(ha,ua,Sa){return Sa.get!=null?ha._.accessCache[ua]=0:hasOwn$1(Sa,"value")&&this.set(ha,ua,Sa.value,null),Reflect.defineProperty(ha,ua,Sa)}};function useSlots(){return getContext().slots}function getContext(ha){const ua=getCurrentInstance();return ua.setupContext||(ua.setupContext=createSetupContext(ua))}function normalizePropsOrEmits(ha){return isArray$3(ha)?ha.reduce((ua,Sa)=>(ua[Sa]=null,ua),{}):ha}function mergeModels(ha,ua){return!ha||!ua?ha||ua:isArray$3(ha)&&isArray$3(ua)?ha.concat(ua):extend$1({},normalizePropsOrEmits(ha),normalizePropsOrEmits(ua))}let shouldCacheAccess=!0;function applyOptions(ha){const ua=resolveMergedOptions(ha),Sa=ha.proxy,ba=ha.ctx;shouldCacheAccess=!1,ua.beforeCreate&&callHook$1(ua.beforeCreate,ha,"bc");const{data:ka,computed:_y,methods:Ty,watch:Ay,provide:Ey,inject:My,created:Dy,beforeMount:Iy,mounted:Ly,beforeUpdate:Py,updated:Ry,activated:Vy,deactivated:Ny,beforeDestroy:By,beforeUnmount:Oy,destroyed:Fy,unmounted:zy,render:Hy,renderTracked:Gy,renderTriggered:Wy,errorCaptured:Uy,serverPrefetch:Yy,expose:jy,inheritAttrs:Ky,components:Xy,directives:Zy,filters:Jy}=ua;if(My&&resolveInjections(My,ba,null),Ty)for(const r_ in Ty){const i_=Ty[r_];isFunction$1(i_)&&(ba[r_]=i_.bind(Sa))}if(ka){const r_=ka.call(Sa,Sa);isObject$4(r_)&&(ha.data=reactive(r_))}if(shouldCacheAccess=!0,_y)for(const r_ in _y){const i_=_y[r_],l_=isFunction$1(i_)?i_.bind(Sa,Sa):isFunction$1(i_.get)?i_.get.bind(Sa,Sa):NOOP,c_=!isFunction$1(i_)&&isFunction$1(i_.set)?i_.set.bind(Sa):NOOP,d_=computed({get:l_,set:c_});Object.defineProperty(ba,r_,{enumerable:!0,configurable:!0,get:()=>d_.value,set:f_=>d_.value=f_})}if(Ay)for(const r_ in Ay)createWatcher(Ay[r_],ba,Sa,r_);if(Ey){const r_=isFunction$1(Ey)?Ey.call(Sa):Ey;Reflect.ownKeys(r_).forEach(i_=>{provide(i_,r_[i_])})}Dy&&callHook$1(Dy,ha,"c");function Qy(r_,i_){isArray$3(i_)?i_.forEach(l_=>r_(l_.bind(Sa))):i_&&r_(i_.bind(Sa))}if(Qy(onBeforeMount,Iy),Qy(onMounted,Ly),Qy(onBeforeUpdate,Py),Qy(onUpdated,Ry),Qy(onActivated,Vy),Qy(onDeactivated,Ny),Qy(onErrorCaptured,Uy),Qy(onRenderTracked,Gy),Qy(onRenderTriggered,Wy),Qy(onBeforeUnmount,Oy),Qy(onUnmounted,zy),Qy(onServerPrefetch,Yy),isArray$3(jy))if(jy.length){const r_=ha.exposed||(ha.exposed={});jy.forEach(i_=>{Object.defineProperty(r_,i_,{get:()=>Sa[i_],set:l_=>Sa[i_]=l_,enumerable:!0})})}else ha.exposed||(ha.exposed={});Hy&&ha.render===NOOP&&(ha.render=Hy),Ky!=null&&(ha.inheritAttrs=Ky),Xy&&(ha.components=Xy),Zy&&(ha.directives=Zy),Yy&&markAsyncBoundary(ha)}function resolveInjections(ha,ua,Sa=NOOP){isArray$3(ha)&&(ha=normalizeInject(ha));for(const ba in ha){const ka=ha[ba];let _y;isObject$4(ka)?"default"in ka?_y=inject(ka.from||ba,ka.default,!0):_y=inject(ka.from||ba):_y=inject(ka),isRef(_y)?Object.defineProperty(ua,ba,{enumerable:!0,configurable:!0,get:()=>_y.value,set:Ty=>_y.value=Ty}):ua[ba]=_y}}function callHook$1(ha,ua,Sa){callWithAsyncErrorHandling(isArray$3(ha)?ha.map(ba=>ba.bind(ua.proxy)):ha.bind(ua.proxy),ua,Sa)}function createWatcher(ha,ua,Sa,ba){let ka=ba.includes(".")?createPathGetter(Sa,ba):()=>Sa[ba];if(isString$1(ha)){const _y=ua[ha];isFunction$1(_y)&&watch(ka,_y)}else if(isFunction$1(ha))watch(ka,ha.bind(Sa));else if(isObject$4(ha))if(isArray$3(ha))ha.forEach(_y=>createWatcher(_y,ua,Sa,ba));else{const _y=isFunction$1(ha.handler)?ha.handler.bind(Sa):ua[ha.handler];isFunction$1(_y)&&watch(ka,_y,ha)}}function resolveMergedOptions(ha){const ua=ha.type,{mixins:Sa,extends:ba}=ua,{mixins:ka,optionsCache:_y,config:{optionMergeStrategies:Ty}}=ha.appContext,Ay=_y.get(ua);let Ey;return Ay?Ey=Ay:!ka.length&&!Sa&&!ba?Ey=ua:(Ey={},ka.length&&ka.forEach(My=>mergeOptions$1(Ey,My,Ty,!0)),mergeOptions$1(Ey,ua,Ty)),isObject$4(ua)&&_y.set(ua,Ey),Ey}function mergeOptions$1(ha,ua,Sa,ba=!1){const{mixins:ka,extends:_y}=ua;_y&&mergeOptions$1(ha,_y,Sa,!0),ka&&ka.forEach(Ty=>mergeOptions$1(ha,Ty,Sa,!0));for(const Ty in ua)if(!(ba&&Ty==="expose")){const Ay=internalOptionMergeStrats[Ty]||Sa&&Sa[Ty];ha[Ty]=Ay?Ay(ha[Ty],ua[Ty]):ua[Ty]}return ha}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(ha,ua){return ua?ha?function(){return extend$1(isFunction$1(ha)?ha.call(this,this):ha,isFunction$1(ua)?ua.call(this,this):ua)}:ua:ha}function mergeInject(ha,ua){return mergeObjectOptions(normalizeInject(ha),normalizeInject(ua))}function normalizeInject(ha){if(isArray$3(ha)){const ua={};for(let Sa=0;Sa<ha.length;Sa++)ua[ha[Sa]]=ha[Sa];return ua}return ha}function mergeAsArray(ha,ua){return ha?[...new Set([].concat(ha,ua))]:ua}function mergeObjectOptions(ha,ua){return ha?extend$1(Object.create(null),ha,ua):ua}function mergeEmitsOrPropsOptions(ha,ua){return ha?isArray$3(ha)&&isArray$3(ua)?[...new Set([...ha,...ua])]:extend$1(Object.create(null),normalizePropsOrEmits(ha),normalizePropsOrEmits(ua??{})):ua}function mergeWatchOptions(ha,ua){if(!ha)return ua;if(!ua)return ha;const Sa=extend$1(Object.create(null),ha);for(const ba in ua)Sa[ba]=mergeAsArray(ha[ba],ua[ba]);return Sa}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(ha,ua){return function(ba,ka=null){isFunction$1(ba)||(ba=extend$1({},ba)),ka!=null&&!isObject$4(ka)&&(ka=null);const _y=createAppContext(),Ty=new WeakSet,Ay=[];let Ey=!1;const My=_y.app={_uid:uid$1++,_component:ba,_props:ka,_container:null,_context:_y,_instance:null,version,get config(){return _y.config},set config(Dy){},use(Dy,...Iy){return Ty.has(Dy)||(Dy&&isFunction$1(Dy.install)?(Ty.add(Dy),Dy.install(My,...Iy)):isFunction$1(Dy)&&(Ty.add(Dy),Dy(My,...Iy))),My},mixin(Dy){return _y.mixins.includes(Dy)||_y.mixins.push(Dy),My},component(Dy,Iy){return Iy?(_y.components[Dy]=Iy,My):_y.components[Dy]},directive(Dy,Iy){return Iy?(_y.directives[Dy]=Iy,My):_y.directives[Dy]},mount(Dy,Iy,Ly){if(!Ey){const Py=My._ceVNode||createVNode$1(ba,ka);return Py.appContext=_y,Ly===!0?Ly="svg":Ly===!1&&(Ly=void 0),ha(Py,Dy,Ly),Ey=!0,My._container=Dy,Dy.__vue_app__=My,getComponentPublicInstance(Py.component)}},onUnmount(Dy){Ay.push(Dy)},unmount(){Ey&&(callWithAsyncErrorHandling(Ay,My._instance,16),ha(null,My._container),delete My._container.__vue_app__)},provide(Dy,Iy){return _y.provides[Dy]=Iy,My},runWithContext(Dy){const Iy=currentApp;currentApp=My;try{return Dy()}finally{currentApp=Iy}}};return My}}let currentApp=null;function provide(ha,ua){if(currentInstance){let Sa=currentInstance.provides;const ba=currentInstance.parent&&currentInstance.parent.provides;ba===Sa&&(Sa=currentInstance.provides=Object.create(ba)),Sa[ha]=ua}}function inject(ha,ua,Sa=!1){const ba=getCurrentInstance();if(ba||currentApp){let ka=currentApp?currentApp._context.provides:ba?ba.parent==null||ba.ce?ba.vnode.appContext&&ba.vnode.appContext.provides:ba.parent.provides:void 0;if(ka&&ha in ka)return ka[ha];if(arguments.length>1)return Sa&&isFunction$1(ua)?ua.call(ba&&ba.proxy):ua}}function hasInjectionContext(){return!!(getCurrentInstance()||currentApp)}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=ha=>Object.getPrototypeOf(ha)===internalObjectProto;function initProps$1(ha,ua,Sa,ba=!1){const ka={},_y=createInternalObject();ha.propsDefaults=Object.create(null),setFullProps(ha,ua,ka,_y);for(const Ty in ha.propsOptions[0])Ty in ka||(ka[Ty]=void 0);Sa?ha.props=ba?ka:shallowReactive(ka):ha.type.props?ha.props=ka:ha.props=_y,ha.attrs=_y}function updateProps$2(ha,ua,Sa,ba){const{props:ka,attrs:_y,vnode:{patchFlag:Ty}}=ha,Ay=toRaw(ka),[Ey]=ha.propsOptions;let My=!1;if((ba||Ty>0)&&!(Ty&16)){if(Ty&8){const Dy=ha.vnode.dynamicProps;for(let Iy=0;Iy<Dy.length;Iy++){let Ly=Dy[Iy];if(isEmitListener(ha.emitsOptions,Ly))continue;const Py=ua[Ly];if(Ey)if(hasOwn$1(_y,Ly))Py!==_y[Ly]&&(_y[Ly]=Py,My=!0);else{const Ry=camelize(Ly);ka[Ry]=resolvePropValue(Ey,Ay,Ry,Py,ha,!1)}else Py!==_y[Ly]&&(_y[Ly]=Py,My=!0)}}}else{setFullProps(ha,ua,ka,_y)&&(My=!0);let Dy;for(const Iy in Ay)(!ua||!hasOwn$1(ua,Iy)&&((Dy=hyphenate(Iy))===Iy||!hasOwn$1(ua,Dy)))&&(Ey?Sa&&(Sa[Iy]!==void 0||Sa[Dy]!==void 0)&&(ka[Iy]=resolvePropValue(Ey,Ay,Iy,void 0,ha,!0)):delete ka[Iy]);if(_y!==Ay)for(const Iy in _y)(!ua||!hasOwn$1(ua,Iy))&&(delete _y[Iy],My=!0)}My&&trigger$2(ha.attrs,"set","")}function setFullProps(ha,ua,Sa,ba){const[ka,_y]=ha.propsOptions;let Ty=!1,Ay;if(ua)for(let Ey in ua){if(isReservedProp(Ey))continue;const My=ua[Ey];let Dy;ka&&hasOwn$1(ka,Dy=camelize(Ey))?!_y||!_y.includes(Dy)?Sa[Dy]=My:(Ay||(Ay={}))[Dy]=My:isEmitListener(ha.emitsOptions,Ey)||(!(Ey in ba)||My!==ba[Ey])&&(ba[Ey]=My,Ty=!0)}if(_y){const Ey=toRaw(Sa),My=Ay||EMPTY_OBJ$1;for(let Dy=0;Dy<_y.length;Dy++){const Iy=_y[Dy];Sa[Iy]=resolvePropValue(ka,Ey,Iy,My[Iy],ha,!hasOwn$1(My,Iy))}}return Ty}function resolvePropValue(ha,ua,Sa,ba,ka,_y){const Ty=ha[Sa];if(Ty!=null){const Ay=hasOwn$1(Ty,"default");if(Ay&&ba===void 0){const Ey=Ty.default;if(Ty.type!==Function&&!Ty.skipFactory&&isFunction$1(Ey)){const{propsDefaults:My}=ka;if(Sa in My)ba=My[Sa];else{const Dy=setCurrentInstance(ka);ba=My[Sa]=Ey.call(null,ua),Dy()}}else ba=Ey;ka.ce&&ka.ce._setProp(Sa,ba)}Ty[0]&&(_y&&!Ay?ba=!1:Ty[1]&&(ba===""||ba===hyphenate(Sa))&&(ba=!0))}return ba}const mixinPropsCache=new WeakMap;function normalizePropsOptions(ha,ua,Sa=!1){const ba=Sa?mixinPropsCache:ua.propsCache,ka=ba.get(ha);if(ka)return ka;const _y=ha.props,Ty={},Ay=[];let Ey=!1;if(!isFunction$1(ha)){const Dy=Iy=>{Ey=!0;const[Ly,Py]=normalizePropsOptions(Iy,ua,!0);extend$1(Ty,Ly),Py&&Ay.push(...Py)};!Sa&&ua.mixins.length&&ua.mixins.forEach(Dy),ha.extends&&Dy(ha.extends),ha.mixins&&ha.mixins.forEach(Dy)}if(!_y&&!Ey)return isObject$4(ha)&&ba.set(ha,EMPTY_ARR),EMPTY_ARR;if(isArray$3(_y))for(let Dy=0;Dy<_y.length;Dy++){const Iy=camelize(_y[Dy]);validatePropName(Iy)&&(Ty[Iy]=EMPTY_OBJ$1)}else if(_y)for(const Dy in _y){const Iy=camelize(Dy);if(validatePropName(Iy)){const Ly=_y[Dy],Py=Ty[Iy]=isArray$3(Ly)||isFunction$1(Ly)?{type:Ly}:extend$1({},Ly),Ry=Py.type;let Vy=!1,Ny=!0;if(isArray$3(Ry))for(let By=0;By<Ry.length;++By){const Oy=Ry[By],Fy=isFunction$1(Oy)&&Oy.name;if(Fy==="Boolean"){Vy=!0;break}else Fy==="String"&&(Ny=!1)}else Vy=isFunction$1(Ry)&&Ry.name==="Boolean";Py[0]=Vy,Py[1]=Ny,(Vy||hasOwn$1(Py,"default"))&&Ay.push(Iy)}}const My=[Ty,Ay];return isObject$4(ha)&&ba.set(ha,My),My}function validatePropName(ha){return ha[0]!=="$"&&!isReservedProp(ha)}const isInternalKey=ha=>ha==="_"||ha==="__"||ha==="_ctx"||ha==="$stable",normalizeSlotValue=ha=>isArray$3(ha)?ha.map(normalizeVNode):[normalizeVNode(ha)],normalizeSlot$1=(ha,ua,Sa)=>{if(ua._n)return ua;const ba=withCtx((...ka)=>normalizeSlotValue(ua(...ka)),Sa);return ba._c=!1,ba},normalizeObjectSlots=(ha,ua,Sa)=>{const ba=ha._ctx;for(const ka in ha){if(isInternalKey(ka))continue;const _y=ha[ka];if(isFunction$1(_y))ua[ka]=normalizeSlot$1(ka,_y,ba);else if(_y!=null){const Ty=normalizeSlotValue(_y);ua[ka]=()=>Ty}}},normalizeVNodeSlots=(ha,ua)=>{const Sa=normalizeSlotValue(ua);ha.slots.default=()=>Sa},assignSlots=(ha,ua,Sa)=>{for(const ba in ua)(Sa||!isInternalKey(ba))&&(ha[ba]=ua[ba])},initSlots=(ha,ua,Sa)=>{const ba=ha.slots=createInternalObject();if(ha.vnode.shapeFlag&32){const ka=ua.__;ka&&def(ba,"__",ka,!0);const _y=ua._;_y?(assignSlots(ba,ua,Sa),Sa&&def(ba,"_",_y,!0)):normalizeObjectSlots(ua,ba)}else ua&&normalizeVNodeSlots(ha,ua)},updateSlots=(ha,ua,Sa)=>{const{vnode:ba,slots:ka}=ha;let _y=!0,Ty=EMPTY_OBJ$1;if(ba.shapeFlag&32){const Ay=ua._;Ay?Sa&&Ay===1?_y=!1:assignSlots(ka,ua,Sa):(_y=!ua.$stable,normalizeObjectSlots(ua,ka)),Ty=ua}else ua&&(normalizeVNodeSlots(ha,ua),Ty={default:1});if(_y)for(const Ay in ka)!isInternalKey(Ay)&&Ty[Ay]==null&&delete ka[Ay]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(ha){return baseCreateRenderer(ha)}function baseCreateRenderer(ha,ua){const Sa=getGlobalThis();Sa.__VUE__=!0;const{insert:ba,remove:ka,patchProp:_y,createElement:Ty,createText:Ay,createComment:Ey,setText:My,setElementText:Dy,parentNode:Iy,nextSibling:Ly,setScopeId:Py=NOOP,insertStaticContent:Ry}=ha,Vy=(qy,e_,a_,s_=null,u_=null,h_=null,__=void 0,y_=null,w_=!!e_.dynamicChildren)=>{if(qy===e_)return;qy&&!isSameVNodeType(qy,e_)&&(s_=v_(qy),f_(qy,u_,h_,!0),qy=null),e_.patchFlag===-2&&(w_=!1,e_.dynamicChildren=null);const{type:S_,ref:C_,shapeFlag:x_}=e_;switch(S_){case Text:Ny(qy,e_,a_,s_);break;case Comment:By(qy,e_,a_,s_);break;case Static:qy==null&&Oy(e_,a_,s_,__);break;case Fragment:Xy(qy,e_,a_,s_,u_,h_,__,y_,w_);break;default:x_&1?Hy(qy,e_,a_,s_,u_,h_,__,y_,w_):x_&6?Zy(qy,e_,a_,s_,u_,h_,__,y_,w_):(x_&64||x_&128)&&S_.process(qy,e_,a_,s_,u_,h_,__,y_,w_,o_)}C_!=null&&u_?setRef(C_,qy&&qy.ref,h_,e_||qy,!e_):C_==null&&qy&&qy.ref!=null&&setRef(qy.ref,null,h_,qy,!0)},Ny=(qy,e_,a_,s_)=>{if(qy==null)ba(e_.el=Ay(e_.children),a_,s_);else{const u_=e_.el=qy.el;e_.children!==qy.children&&My(u_,e_.children)}},By=(qy,e_,a_,s_)=>{qy==null?ba(e_.el=Ey(e_.children||""),a_,s_):e_.el=qy.el},Oy=(qy,e_,a_,s_)=>{[qy.el,qy.anchor]=Ry(qy.children,e_,a_,s_,qy.el,qy.anchor)},Fy=({el:qy,anchor:e_},a_,s_)=>{let u_;for(;qy&&qy!==e_;)u_=Ly(qy),ba(qy,a_,s_),qy=u_;ba(e_,a_,s_)},zy=({el:qy,anchor:e_})=>{let a_;for(;qy&&qy!==e_;)a_=Ly(qy),ka(qy),qy=a_;ka(e_)},Hy=(qy,e_,a_,s_,u_,h_,__,y_,w_)=>{e_.type==="svg"?__="svg":e_.type==="math"&&(__="mathml"),qy==null?Gy(e_,a_,s_,u_,h_,__,y_,w_):Yy(qy,e_,u_,h_,__,y_,w_)},Gy=(qy,e_,a_,s_,u_,h_,__,y_)=>{let w_,S_;const{props:C_,shapeFlag:x_,transition:T_,dirs:k_}=qy;if(w_=qy.el=Ty(qy.type,h_,C_&&C_.is,C_),x_&8?Dy(w_,qy.children):x_&16&&Uy(qy.children,w_,null,s_,u_,resolveChildrenNamespace(qy,h_),__,y_),k_&&invokeDirectiveHook(qy,null,s_,"created"),Wy(w_,qy,qy.scopeId,__,s_),C_){for(const D_ in C_)D_!=="value"&&!isReservedProp(D_)&&_y(w_,D_,null,C_[D_],h_,s_);"value"in C_&&_y(w_,"value",null,C_.value,h_),(S_=C_.onVnodeBeforeMount)&&invokeVNodeHook(S_,s_,qy)}k_&&invokeDirectiveHook(qy,null,s_,"beforeMount");const E_=needTransition(u_,T_);E_&&T_.beforeEnter(w_),ba(w_,e_,a_),((S_=C_&&C_.onVnodeMounted)||E_||k_)&&queuePostRenderEffect(()=>{S_&&invokeVNodeHook(S_,s_,qy),E_&&T_.enter(w_),k_&&invokeDirectiveHook(qy,null,s_,"mounted")},u_)},Wy=(qy,e_,a_,s_,u_)=>{if(a_&&Py(qy,a_),s_)for(let h_=0;h_<s_.length;h_++)Py(qy,s_[h_]);if(u_){let h_=u_.subTree;if(e_===h_||isSuspense(h_.type)&&(h_.ssContent===e_||h_.ssFallback===e_)){const __=u_.vnode;Wy(qy,__,__.scopeId,__.slotScopeIds,u_.parent)}}},Uy=(qy,e_,a_,s_,u_,h_,__,y_,w_=0)=>{for(let S_=w_;S_<qy.length;S_++){const C_=qy[S_]=y_?cloneIfMounted(qy[S_]):normalizeVNode(qy[S_]);Vy(null,C_,e_,a_,s_,u_,h_,__,y_)}},Yy=(qy,e_,a_,s_,u_,h_,__)=>{const y_=e_.el=qy.el;let{patchFlag:w_,dynamicChildren:S_,dirs:C_}=e_;w_|=qy.patchFlag&16;const x_=qy.props||EMPTY_OBJ$1,T_=e_.props||EMPTY_OBJ$1;let k_;if(a_&&toggleRecurse(a_,!1),(k_=T_.onVnodeBeforeUpdate)&&invokeVNodeHook(k_,a_,e_,qy),C_&&invokeDirectiveHook(e_,qy,a_,"beforeUpdate"),a_&&toggleRecurse(a_,!0),(x_.innerHTML&&T_.innerHTML==null||x_.textContent&&T_.textContent==null)&&Dy(y_,""),S_?jy(qy.dynamicChildren,S_,y_,a_,s_,resolveChildrenNamespace(e_,u_),h_):__||i_(qy,e_,y_,null,a_,s_,resolveChildrenNamespace(e_,u_),h_,!1),w_>0){if(w_&16)Ky(y_,x_,T_,a_,u_);else if(w_&2&&x_.class!==T_.class&&_y(y_,"class",null,T_.class,u_),w_&4&&_y(y_,"style",x_.style,T_.style,u_),w_&8){const E_=e_.dynamicProps;for(let D_=0;D_<E_.length;D_++){const M_=E_[D_],L_=x_[M_],P_=T_[M_];(P_!==L_||M_==="value")&&_y(y_,M_,L_,P_,u_,a_)}}w_&1&&qy.children!==e_.children&&Dy(y_,e_.children)}else!__&&S_==null&&Ky(y_,x_,T_,a_,u_);((k_=T_.onVnodeUpdated)||C_)&&queuePostRenderEffect(()=>{k_&&invokeVNodeHook(k_,a_,e_,qy),C_&&invokeDirectiveHook(e_,qy,a_,"updated")},s_)},jy=(qy,e_,a_,s_,u_,h_,__)=>{for(let y_=0;y_<e_.length;y_++){const w_=qy[y_],S_=e_[y_],C_=w_.el&&(w_.type===Fragment||!isSameVNodeType(w_,S_)||w_.shapeFlag&198)?Iy(w_.el):a_;Vy(w_,S_,C_,null,s_,u_,h_,__,!0)}},Ky=(qy,e_,a_,s_,u_)=>{if(e_!==a_){if(e_!==EMPTY_OBJ$1)for(const h_ in e_)!isReservedProp(h_)&&!(h_ in a_)&&_y(qy,h_,e_[h_],null,u_,s_);for(const h_ in a_){if(isReservedProp(h_))continue;const __=a_[h_],y_=e_[h_];__!==y_&&h_!=="value"&&_y(qy,h_,y_,__,u_,s_)}"value"in a_&&_y(qy,"value",e_.value,a_.value,u_)}},Xy=(qy,e_,a_,s_,u_,h_,__,y_,w_)=>{const S_=e_.el=qy?qy.el:Ay(""),C_=e_.anchor=qy?qy.anchor:Ay("");let{patchFlag:x_,dynamicChildren:T_,slotScopeIds:k_}=e_;k_&&(y_=y_?y_.concat(k_):k_),qy==null?(ba(S_,a_,s_),ba(C_,a_,s_),Uy(e_.children||[],a_,C_,u_,h_,__,y_,w_)):x_>0&&x_&64&&T_&&qy.dynamicChildren?(jy(qy.dynamicChildren,T_,a_,u_,h_,__,y_),(e_.key!=null||u_&&e_===u_.subTree)&&traverseStaticChildren(qy,e_,!0)):i_(qy,e_,a_,C_,u_,h_,__,y_,w_)},Zy=(qy,e_,a_,s_,u_,h_,__,y_,w_)=>{e_.slotScopeIds=y_,qy==null?e_.shapeFlag&512?u_.ctx.activate(e_,a_,s_,__,w_):Jy(e_,a_,s_,u_,h_,__,w_):t_(qy,e_,w_)},Jy=(qy,e_,a_,s_,u_,h_,__)=>{const y_=qy.component=createComponentInstance(qy,s_,u_);if(isKeepAlive(qy)&&(y_.ctx.renderer=o_),setupComponent(y_,!1,__),y_.asyncDep){if(u_&&u_.registerDep(y_,Qy,__),!qy.el){const w_=y_.subTree=createVNode$1(Comment);By(null,w_,e_,a_),qy.placeholder=w_.el}}else Qy(y_,qy,e_,a_,u_,h_,__)},t_=(qy,e_,a_)=>{const s_=e_.component=qy.component;if(shouldUpdateComponent(qy,e_,a_))if(s_.asyncDep&&!s_.asyncResolved){r_(s_,e_,a_);return}else s_.next=e_,s_.update();else e_.el=qy.el,s_.vnode=e_},Qy=(qy,e_,a_,s_,u_,h_,__)=>{const y_=()=>{if(qy.isMounted){let{next:x_,bu:T_,u:k_,parent:E_,vnode:D_}=qy;{const N_=locateNonHydratedAsyncRoot(qy);if(N_){x_&&(x_.el=D_.el,r_(qy,x_,__)),N_.asyncDep.then(()=>{qy.isUnmounted||y_()});return}}let M_=x_,L_;toggleRecurse(qy,!1),x_?(x_.el=D_.el,r_(qy,x_,__)):x_=D_,T_&&invokeArrayFns(T_),(L_=x_.props&&x_.props.onVnodeBeforeUpdate)&&invokeVNodeHook(L_,E_,x_,D_),toggleRecurse(qy,!0);const P_=renderComponentRoot(qy),V_=qy.subTree;qy.subTree=P_,Vy(V_,P_,Iy(V_.el),v_(V_),qy,u_,h_),x_.el=P_.el,M_===null&&updateHOCHostEl(qy,P_.el),k_&&queuePostRenderEffect(k_,u_),(L_=x_.props&&x_.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(L_,E_,x_,D_),u_)}else{let x_;const{el:T_,props:k_}=e_,{bm:E_,m:D_,parent:M_,root:L_,type:P_}=qy,V_=isAsyncWrapper(e_);toggleRecurse(qy,!1),E_&&invokeArrayFns(E_),!V_&&(x_=k_&&k_.onVnodeBeforeMount)&&invokeVNodeHook(x_,M_,e_),toggleRecurse(qy,!0);{L_.ce&&L_.ce._def.shadowRoot!==!1&&L_.ce._injectChildStyle(P_);const N_=qy.subTree=renderComponentRoot(qy);Vy(null,N_,a_,s_,qy,u_,h_),e_.el=N_.el}if(D_&&queuePostRenderEffect(D_,u_),!V_&&(x_=k_&&k_.onVnodeMounted)){const N_=e_;queuePostRenderEffect(()=>invokeVNodeHook(x_,M_,N_),u_)}(e_.shapeFlag&256||M_&&isAsyncWrapper(M_.vnode)&&M_.vnode.shapeFlag&256)&&qy.a&&queuePostRenderEffect(qy.a,u_),qy.isMounted=!0,e_=a_=s_=null}};qy.scope.on();const w_=qy.effect=new ReactiveEffect(y_);qy.scope.off();const S_=qy.update=w_.run.bind(w_),C_=qy.job=w_.runIfDirty.bind(w_);C_.i=qy,C_.id=qy.uid,w_.scheduler=()=>queueJob(C_),toggleRecurse(qy,!0),S_()},r_=(qy,e_,a_)=>{e_.component=qy;const s_=qy.vnode.props;qy.vnode=e_,qy.next=null,updateProps$2(qy,e_.props,s_,a_),updateSlots(qy,e_.children,a_),pauseTracking(),flushPreFlushCbs(qy),resetTracking()},i_=(qy,e_,a_,s_,u_,h_,__,y_,w_=!1)=>{const S_=qy&&qy.children,C_=qy?qy.shapeFlag:0,x_=e_.children,{patchFlag:T_,shapeFlag:k_}=e_;if(T_>0){if(T_&128){c_(S_,x_,a_,s_,u_,h_,__,y_,w_);return}else if(T_&256){l_(S_,x_,a_,s_,u_,h_,__,y_,w_);return}}k_&8?(C_&16&&A_(S_,u_,h_),x_!==S_&&Dy(a_,x_)):C_&16?k_&16?c_(S_,x_,a_,s_,u_,h_,__,y_,w_):A_(S_,u_,h_,!0):(C_&8&&Dy(a_,""),k_&16&&Uy(x_,a_,s_,u_,h_,__,y_,w_))},l_=(qy,e_,a_,s_,u_,h_,__,y_,w_)=>{qy=qy||EMPTY_ARR,e_=e_||EMPTY_ARR;const S_=qy.length,C_=e_.length,x_=Math.min(S_,C_);let T_;for(T_=0;T_<x_;T_++){const k_=e_[T_]=w_?cloneIfMounted(e_[T_]):normalizeVNode(e_[T_]);Vy(qy[T_],k_,a_,null,u_,h_,__,y_,w_)}S_>C_?A_(qy,u_,h_,!0,!1,x_):Uy(e_,a_,s_,u_,h_,__,y_,w_,x_)},c_=(qy,e_,a_,s_,u_,h_,__,y_,w_)=>{let S_=0;const C_=e_.length;let x_=qy.length-1,T_=C_-1;for(;S_<=x_&&S_<=T_;){const k_=qy[S_],E_=e_[S_]=w_?cloneIfMounted(e_[S_]):normalizeVNode(e_[S_]);if(isSameVNodeType(k_,E_))Vy(k_,E_,a_,null,u_,h_,__,y_,w_);else break;S_++}for(;S_<=x_&&S_<=T_;){const k_=qy[x_],E_=e_[T_]=w_?cloneIfMounted(e_[T_]):normalizeVNode(e_[T_]);if(isSameVNodeType(k_,E_))Vy(k_,E_,a_,null,u_,h_,__,y_,w_);else break;x_--,T_--}if(S_>x_){if(S_<=T_){const k_=T_+1,E_=k_<C_?e_[k_].el:s_;for(;S_<=T_;)Vy(null,e_[S_]=w_?cloneIfMounted(e_[S_]):normalizeVNode(e_[S_]),a_,E_,u_,h_,__,y_,w_),S_++}}else if(S_>T_)for(;S_<=x_;)f_(qy[S_],u_,h_,!0),S_++;else{const k_=S_,E_=S_,D_=new Map;for(S_=E_;S_<=T_;S_++){const R_=e_[S_]=w_?cloneIfMounted(e_[S_]):normalizeVNode(e_[S_]);R_.key!=null&&D_.set(R_.key,S_)}let M_,L_=0;const P_=T_-E_+1;let V_=!1,N_=0;const O_=new Array(P_);for(S_=0;S_<P_;S_++)O_[S_]=0;for(S_=k_;S_<=x_;S_++){const R_=qy[S_];if(L_>=P_){f_(R_,u_,h_,!0);continue}let B_;if(R_.key!=null)B_=D_.get(R_.key);else for(M_=E_;M_<=T_;M_++)if(O_[M_-E_]===0&&isSameVNodeType(R_,e_[M_])){B_=M_;break}B_===void 0?f_(R_,u_,h_,!0):(O_[B_-E_]=S_+1,B_>=N_?N_=B_:V_=!0,Vy(R_,e_[B_],a_,null,u_,h_,__,y_,w_),L_++)}const F_=V_?getSequence(O_):EMPTY_ARR;for(M_=F_.length-1,S_=P_-1;S_>=0;S_--){const R_=E_+S_,B_=e_[R_],z_=e_[R_+1],G_=R_+1<C_?z_.el||z_.placeholder:s_;O_[S_]===0?Vy(null,B_,a_,G_,u_,h_,__,y_,w_):V_&&(M_<0||S_!==F_[M_]?d_(B_,a_,G_,2):M_--)}}},d_=(qy,e_,a_,s_,u_=null)=>{const{el:h_,type:__,transition:y_,children:w_,shapeFlag:S_}=qy;if(S_&6){d_(qy.component.subTree,e_,a_,s_);return}if(S_&128){qy.suspense.move(e_,a_,s_);return}if(S_&64){__.move(qy,e_,a_,o_);return}if(__===Fragment){ba(h_,e_,a_);for(let x_=0;x_<w_.length;x_++)d_(w_[x_],e_,a_,s_);ba(qy.anchor,e_,a_);return}if(__===Static){Fy(qy,e_,a_);return}if(s_!==2&&S_&1&&y_)if(s_===0)y_.beforeEnter(h_),ba(h_,e_,a_),queuePostRenderEffect(()=>y_.enter(h_),u_);else{const{leave:x_,delayLeave:T_,afterLeave:k_}=y_,E_=()=>{qy.ctx.isUnmounted?ka(h_):ba(h_,e_,a_)},D_=()=>{x_(h_,()=>{E_(),k_&&k_()})};T_?T_(h_,E_,D_):D_()}else ba(h_,e_,a_)},f_=(qy,e_,a_,s_=!1,u_=!1)=>{const{type:h_,props:__,ref:y_,children:w_,dynamicChildren:S_,shapeFlag:C_,patchFlag:x_,dirs:T_,cacheIndex:k_}=qy;if(x_===-2&&(u_=!1),y_!=null&&(pauseTracking(),setRef(y_,null,a_,qy,!0),resetTracking()),k_!=null&&(e_.renderCache[k_]=void 0),C_&256){e_.ctx.deactivate(qy);return}const E_=C_&1&&T_,D_=!isAsyncWrapper(qy);let M_;if(D_&&(M_=__&&__.onVnodeBeforeUnmount)&&invokeVNodeHook(M_,e_,qy),C_&6)$_(qy.component,a_,s_);else{if(C_&128){qy.suspense.unmount(a_,s_);return}E_&&invokeDirectiveHook(qy,null,e_,"beforeUnmount"),C_&64?qy.type.remove(qy,e_,a_,o_,s_):S_&&!S_.hasOnce&&(h_!==Fragment||x_>0&&x_&64)?A_(S_,e_,a_,!1,!0):(h_===Fragment&&x_&384||!u_&&C_&16)&&A_(w_,e_,a_),s_&&m_(qy)}(D_&&(M_=__&&__.onVnodeUnmounted)||E_)&&queuePostRenderEffect(()=>{M_&&invokeVNodeHook(M_,e_,qy),E_&&invokeDirectiveHook(qy,null,e_,"unmounted")},a_)},m_=qy=>{const{type:e_,el:a_,anchor:s_,transition:u_}=qy;if(e_===Fragment){b_(a_,s_);return}if(e_===Static){zy(qy);return}const h_=()=>{ka(a_),u_&&!u_.persisted&&u_.afterLeave&&u_.afterLeave()};if(qy.shapeFlag&1&&u_&&!u_.persisted){const{leave:__,delayLeave:y_}=u_,w_=()=>__(a_,h_);y_?y_(qy.el,h_,w_):w_()}else h_()},b_=(qy,e_)=>{let a_;for(;qy!==e_;)a_=Ly(qy),ka(qy),qy=a_;ka(e_)},$_=(qy,e_,a_)=>{const{bum:s_,scope:u_,job:h_,subTree:__,um:y_,m:w_,a:S_,parent:C_,slots:{__:x_}}=qy;invalidateMount(w_),invalidateMount(S_),s_&&invokeArrayFns(s_),C_&&isArray$3(x_)&&x_.forEach(T_=>{C_.renderCache[T_]=void 0}),u_.stop(),h_&&(h_.flags|=8,f_(__,qy,e_,a_)),y_&&queuePostRenderEffect(y_,e_),queuePostRenderEffect(()=>{qy.isUnmounted=!0},e_),e_&&e_.pendingBranch&&!e_.isUnmounted&&qy.asyncDep&&!qy.asyncResolved&&qy.suspenseId===e_.pendingId&&(e_.deps--,e_.deps===0&&e_.resolve())},A_=(qy,e_,a_,s_=!1,u_=!1,h_=0)=>{for(let __=h_;__<qy.length;__++)f_(qy[__],e_,a_,s_,u_)},v_=qy=>{if(qy.shapeFlag&6)return v_(qy.component.subTree);if(qy.shapeFlag&128)return qy.suspense.next();const e_=Ly(qy.anchor||qy.el),a_=e_&&e_[TeleportEndKey];return a_?Ly(a_):e_};let g_=!1;const p_=(qy,e_,a_)=>{qy==null?e_._vnode&&f_(e_._vnode,null,null,!0):Vy(e_._vnode||null,qy,e_,null,null,null,a_),e_._vnode=qy,g_||(g_=!0,flushPreFlushCbs(),flushPostFlushCbs(),g_=!1)},o_={p:Vy,um:f_,m:d_,r:m_,mt:Jy,mc:Uy,pc:i_,pbc:jy,n:v_,o:ha};return{render:p_,hydrate:void 0,createApp:createAppAPI(p_)}}function resolveChildrenNamespace({type:ha,props:ua},Sa){return Sa==="svg"&&ha==="foreignObject"||Sa==="mathml"&&ha==="annotation-xml"&&ua&&ua.encoding&&ua.encoding.includes("html")?void 0:Sa}function toggleRecurse({effect:ha,job:ua},Sa){Sa?(ha.flags|=32,ua.flags|=4):(ha.flags&=-33,ua.flags&=-5)}function needTransition(ha,ua){return(!ha||ha&&!ha.pendingBranch)&&ua&&!ua.persisted}function traverseStaticChildren(ha,ua,Sa=!1){const ba=ha.children,ka=ua.children;if(isArray$3(ba)&&isArray$3(ka))for(let _y=0;_y<ba.length;_y++){const Ty=ba[_y];let Ay=ka[_y];Ay.shapeFlag&1&&!Ay.dynamicChildren&&((Ay.patchFlag<=0||Ay.patchFlag===32)&&(Ay=ka[_y]=cloneIfMounted(ka[_y]),Ay.el=Ty.el),!Sa&&Ay.patchFlag!==-2&&traverseStaticChildren(Ty,Ay)),Ay.type===Text&&(Ay.el=Ty.el),Ay.type===Comment&&!Ay.el&&(Ay.el=Ty.el)}}function getSequence(ha){const ua=ha.slice(),Sa=[0];let ba,ka,_y,Ty,Ay;const Ey=ha.length;for(ba=0;ba<Ey;ba++){const My=ha[ba];if(My!==0){if(ka=Sa[Sa.length-1],ha[ka]<My){ua[ba]=ka,Sa.push(ba);continue}for(_y=0,Ty=Sa.length-1;_y<Ty;)Ay=_y+Ty>>1,ha[Sa[Ay]]<My?_y=Ay+1:Ty=Ay;My<ha[Sa[_y]]&&(_y>0&&(ua[ba]=Sa[_y-1]),Sa[_y]=ba)}}for(_y=Sa.length,Ty=Sa[_y-1];_y-- >0;)Sa[_y]=Ty,Ty=ua[Ty];return Sa}function locateNonHydratedAsyncRoot(ha){const ua=ha.subTree.component;if(ua)return ua.asyncDep&&!ua.asyncResolved?ua:locateNonHydratedAsyncRoot(ua)}function invalidateMount(ha){if(ha)for(let ua=0;ua<ha.length;ua++)ha[ua].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(ha,ua){return doWatch(ha,null,ua)}function watchSyncEffect(ha,ua){return doWatch(ha,null,{flush:"sync"})}function watch(ha,ua,Sa){return doWatch(ha,ua,Sa)}function doWatch(ha,ua,Sa=EMPTY_OBJ$1){const{immediate:ba,deep:ka,flush:_y,once:Ty}=Sa,Ay=extend$1({},Sa),Ey=ua&&ba||!ua&&_y!=="post";let My;if(isInSSRComponentSetup){if(_y==="sync"){const Py=useSSRContext();My=Py.__watcherHandles||(Py.__watcherHandles=[])}else if(!Ey){const Py=()=>{};return Py.stop=NOOP,Py.resume=NOOP,Py.pause=NOOP,Py}}const Dy=currentInstance;Ay.call=(Py,Ry,Vy)=>callWithAsyncErrorHandling(Py,Dy,Ry,Vy);let Iy=!1;_y==="post"?Ay.scheduler=Py=>{queuePostRenderEffect(Py,Dy&&Dy.suspense)}:_y!=="sync"&&(Iy=!0,Ay.scheduler=(Py,Ry)=>{Ry?Py():queueJob(Py)}),Ay.augmentJob=Py=>{ua&&(Py.flags|=4),Iy&&(Py.flags|=2,Dy&&(Py.id=Dy.uid,Py.i=Dy))};const Ly=watch$1(ha,ua,Ay);return isInSSRComponentSetup&&(My?My.push(Ly):Ey&&Ly()),Ly}function instanceWatch(ha,ua,Sa){const ba=this.proxy,ka=isString$1(ha)?ha.includes(".")?createPathGetter(ba,ha):()=>ba[ha]:ha.bind(ba,ba);let _y;isFunction$1(ua)?_y=ua:(_y=ua.handler,Sa=ua);const Ty=setCurrentInstance(this),Ay=doWatch(ka,_y.bind(ba),Sa);return Ty(),Ay}function createPathGetter(ha,ua){const Sa=ua.split(".");return()=>{let ba=ha;for(let ka=0;ka<Sa.length&&ba;ka++)ba=ba[Sa[ka]];return ba}}function useModel(ha,ua,Sa=EMPTY_OBJ$1){const ba=getCurrentInstance(),ka=camelize(ua),_y=hyphenate(ua),Ty=getModelModifiers(ha,ka),Ay=customRef((Ey,My)=>{let Dy,Iy=EMPTY_OBJ$1,Ly;return watchSyncEffect(()=>{const Py=ha[ka];hasChanged(Dy,Py)&&(Dy=Py,My())}),{get(){return Ey(),Sa.get?Sa.get(Dy):Dy},set(Py){const Ry=Sa.set?Sa.set(Py):Py;if(!hasChanged(Ry,Dy)&&!(Iy!==EMPTY_OBJ$1&&hasChanged(Py,Iy)))return;const Vy=ba.vnode.props;Vy&&(ua in Vy||ka in Vy||_y in Vy)&&(`onUpdate:${ua}`in Vy||`onUpdate:${ka}`in Vy||`onUpdate:${_y}`in Vy)||(Dy=Py,My()),ba.emit(`update:${ua}`,Ry),hasChanged(Py,Ry)&&hasChanged(Py,Iy)&&!hasChanged(Ry,Ly)&&My(),Iy=Py,Ly=Ry}}});return Ay[Symbol.iterator]=()=>{let Ey=0;return{next(){return Ey<2?{value:Ey++?Ty||EMPTY_OBJ$1:Ay,done:!1}:{done:!0}}}},Ay}const getModelModifiers=(ha,ua)=>ua==="modelValue"||ua==="model-value"?ha.modelModifiers:ha[`${ua}Modifiers`]||ha[`${camelize(ua)}Modifiers`]||ha[`${hyphenate(ua)}Modifiers`];function emit(ha,ua,...Sa){if(ha.isUnmounted)return;const ba=ha.vnode.props||EMPTY_OBJ$1;let ka=Sa;const _y=ua.startsWith("update:"),Ty=_y&&getModelModifiers(ba,ua.slice(7));Ty&&(Ty.trim&&(ka=Sa.map(Dy=>isString$1(Dy)?Dy.trim():Dy)),Ty.number&&(ka=Sa.map(looseToNumber)));let Ay,Ey=ba[Ay=toHandlerKey(ua)]||ba[Ay=toHandlerKey(camelize(ua))];!Ey&&_y&&(Ey=ba[Ay=toHandlerKey(hyphenate(ua))]),Ey&&callWithAsyncErrorHandling(Ey,ha,6,ka);const My=ba[Ay+"Once"];if(My){if(!ha.emitted)ha.emitted={};else if(ha.emitted[Ay])return;ha.emitted[Ay]=!0,callWithAsyncErrorHandling(My,ha,6,ka)}}function normalizeEmitsOptions(ha,ua,Sa=!1){const ba=ua.emitsCache,ka=ba.get(ha);if(ka!==void 0)return ka;const _y=ha.emits;let Ty={},Ay=!1;if(!isFunction$1(ha)){const Ey=My=>{const Dy=normalizeEmitsOptions(My,ua,!0);Dy&&(Ay=!0,extend$1(Ty,Dy))};!Sa&&ua.mixins.length&&ua.mixins.forEach(Ey),ha.extends&&Ey(ha.extends),ha.mixins&&ha.mixins.forEach(Ey)}return!_y&&!Ay?(isObject$4(ha)&&ba.set(ha,null),null):(isArray$3(_y)?_y.forEach(Ey=>Ty[Ey]=null):extend$1(Ty,_y),isObject$4(ha)&&ba.set(ha,Ty),Ty)}function isEmitListener(ha,ua){return!ha||!isOn(ua)?!1:(ua=ua.slice(2).replace(/Once$/,""),hasOwn$1(ha,ua[0].toLowerCase()+ua.slice(1))||hasOwn$1(ha,hyphenate(ua))||hasOwn$1(ha,ua))}function markAttrsAccessed(){}function renderComponentRoot(ha){const{type:ua,vnode:Sa,proxy:ba,withProxy:ka,propsOptions:[_y],slots:Ty,attrs:Ay,emit:Ey,render:My,renderCache:Dy,props:Iy,data:Ly,setupState:Py,ctx:Ry,inheritAttrs:Vy}=ha,Ny=setCurrentRenderingInstance(ha);let By,Oy;try{if(Sa.shapeFlag&4){const zy=ka||ba,Hy=zy;By=normalizeVNode(My.call(Hy,zy,Dy,Iy,Py,Ly,Ry)),Oy=Ay}else{const zy=ua;By=normalizeVNode(zy.length>1?zy(Iy,{attrs:Ay,slots:Ty,emit:Ey}):zy(Iy,null)),Oy=ua.props?Ay:getFunctionalFallthrough(Ay)}}catch(zy){blockStack.length=0,handleError(zy,ha,1),By=createVNode$1(Comment)}let Fy=By;if(Oy&&Vy!==!1){const zy=Object.keys(Oy),{shapeFlag:Hy}=Fy;zy.length&&Hy&7&&(_y&&zy.some(isModelListener)&&(Oy=filterModelListeners(Oy,_y)),Fy=cloneVNode(Fy,Oy,!1,!0))}return Sa.dirs&&(Fy=cloneVNode(Fy,null,!1,!0),Fy.dirs=Fy.dirs?Fy.dirs.concat(Sa.dirs):Sa.dirs),Sa.transition&&setTransitionHooks(Fy,Sa.transition),By=Fy,setCurrentRenderingInstance(Ny),By}const getFunctionalFallthrough=ha=>{let ua;for(const Sa in ha)(Sa==="class"||Sa==="style"||isOn(Sa))&&((ua||(ua={}))[Sa]=ha[Sa]);return ua},filterModelListeners=(ha,ua)=>{const Sa={};for(const ba in ha)(!isModelListener(ba)||!(ba.slice(9)in ua))&&(Sa[ba]=ha[ba]);return Sa};function shouldUpdateComponent(ha,ua,Sa){const{props:ba,children:ka,component:_y}=ha,{props:Ty,children:Ay,patchFlag:Ey}=ua,My=_y.emitsOptions;if(ua.dirs||ua.transition)return!0;if(Sa&&Ey>=0){if(Ey&1024)return!0;if(Ey&16)return ba?hasPropsChanged(ba,Ty,My):!!Ty;if(Ey&8){const Dy=ua.dynamicProps;for(let Iy=0;Iy<Dy.length;Iy++){const Ly=Dy[Iy];if(Ty[Ly]!==ba[Ly]&&!isEmitListener(My,Ly))return!0}}}else return(ka||Ay)&&(!Ay||!Ay.$stable)?!0:ba===Ty?!1:ba?Ty?hasPropsChanged(ba,Ty,My):!0:!!Ty;return!1}function hasPropsChanged(ha,ua,Sa){const ba=Object.keys(ua);if(ba.length!==Object.keys(ha).length)return!0;for(let ka=0;ka<ba.length;ka++){const _y=ba[ka];if(ua[_y]!==ha[_y]&&!isEmitListener(Sa,_y))return!0}return!1}function updateHOCHostEl({vnode:ha,parent:ua},Sa){for(;ua;){const ba=ua.subTree;if(ba.suspense&&ba.suspense.activeBranch===ha&&(ba.el=ha.el),ba===ha)(ha=ua.vnode).el=Sa,ua=ua.parent;else break}}const isSuspense=ha=>ha.__isSuspense;function queueEffectWithSuspense(ha,ua){ua&&ua.pendingBranch?isArray$3(ha)?ua.effects.push(...ha):ua.effects.push(ha):queuePostFlushCb(ha)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(ha=!1){blockStack.push(currentBlock=ha?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(ha,ua=!1){isBlockTreeEnabled+=ha,ha<0&&currentBlock&&ua&&(currentBlock.hasOnce=!0)}function setupBlock(ha){return ha.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(ha),ha}function createElementBlock(ha,ua,Sa,ba,ka,_y){return setupBlock(createBaseVNode(ha,ua,Sa,ba,ka,_y,!0))}function createBlock(ha,ua,Sa,ba,ka){return setupBlock(createVNode$1(ha,ua,Sa,ba,ka,!0))}function isVNode(ha){return ha?ha.__v_isVNode===!0:!1}function isSameVNodeType(ha,ua){return ha.type===ua.type&&ha.key===ua.key}const normalizeKey=({key:ha})=>ha??null,normalizeRef=({ref:ha,ref_key:ua,ref_for:Sa})=>(typeof ha=="number"&&(ha=""+ha),ha!=null?isString$1(ha)||isRef(ha)||isFunction$1(ha)?{i:currentRenderingInstance,r:ha,k:ua,f:!!Sa}:ha:null);function createBaseVNode(ha,ua=null,Sa=null,ba=0,ka=null,_y=ha===Fragment?0:1,Ty=!1,Ay=!1){const Ey={__v_isVNode:!0,__v_skip:!0,type:ha,props:ua,key:ua&&normalizeKey(ua),ref:ua&&normalizeRef(ua),scopeId:currentScopeId,slotScopeIds:null,children:Sa,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:_y,patchFlag:ba,dynamicProps:ka,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return Ay?(normalizeChildren(Ey,Sa),_y&128&&ha.normalize(Ey)):Sa&&(Ey.shapeFlag|=isString$1(Sa)?8:16),isBlockTreeEnabled>0&&!Ty&&currentBlock&&(Ey.patchFlag>0||_y&6)&&Ey.patchFlag!==32&&currentBlock.push(Ey),Ey}const createVNode$1=_createVNode;function _createVNode(ha,ua=null,Sa=null,ba=0,ka=null,_y=!1){if((!ha||ha===NULL_DYNAMIC_COMPONENT)&&(ha=Comment),isVNode(ha)){const Ay=cloneVNode(ha,ua,!0);return Sa&&normalizeChildren(Ay,Sa),isBlockTreeEnabled>0&&!_y&&currentBlock&&(Ay.shapeFlag&6?currentBlock[currentBlock.indexOf(ha)]=Ay:currentBlock.push(Ay)),Ay.patchFlag=-2,Ay}if(isClassComponent(ha)&&(ha=ha.__vccOpts),ua){ua=guardReactiveProps(ua);let{class:Ay,style:Ey}=ua;Ay&&!isString$1(Ay)&&(ua.class=normalizeClass(Ay)),isObject$4(Ey)&&(isProxy(Ey)&&!isArray$3(Ey)&&(Ey=extend$1({},Ey)),ua.style=normalizeStyle$1(Ey))}const Ty=isString$1(ha)?1:isSuspense(ha)?128:isTeleport(ha)?64:isObject$4(ha)?4:isFunction$1(ha)?2:0;return createBaseVNode(ha,ua,Sa,ba,ka,Ty,_y,!0)}function guardReactiveProps(ha){return ha?isProxy(ha)||isInternalObject(ha)?extend$1({},ha):ha:null}function cloneVNode(ha,ua,Sa=!1,ba=!1){const{props:ka,ref:_y,patchFlag:Ty,children:Ay,transition:Ey}=ha,My=ua?mergeProps(ka||{},ua):ka,Dy={__v_isVNode:!0,__v_skip:!0,type:ha.type,props:My,key:My&&normalizeKey(My),ref:ua&&ua.ref?Sa&&_y?isArray$3(_y)?_y.concat(normalizeRef(ua)):[_y,normalizeRef(ua)]:normalizeRef(ua):_y,scopeId:ha.scopeId,slotScopeIds:ha.slotScopeIds,children:Ay,target:ha.target,targetStart:ha.targetStart,targetAnchor:ha.targetAnchor,staticCount:ha.staticCount,shapeFlag:ha.shapeFlag,patchFlag:ua&&ha.type!==Fragment?Ty===-1?16:Ty|16:Ty,dynamicProps:ha.dynamicProps,dynamicChildren:ha.dynamicChildren,appContext:ha.appContext,dirs:ha.dirs,transition:Ey,component:ha.component,suspense:ha.suspense,ssContent:ha.ssContent&&cloneVNode(ha.ssContent),ssFallback:ha.ssFallback&&cloneVNode(ha.ssFallback),placeholder:ha.placeholder,el:ha.el,anchor:ha.anchor,ctx:ha.ctx,ce:ha.ce};return Ey&&ba&&setTransitionHooks(Dy,Ey.clone(Dy)),Dy}function createTextVNode(ha=" ",ua=0){return createVNode$1(Text,null,ha,ua)}function createCommentVNode(ha="",ua=!1){return ua?(openBlock(),createBlock(Comment,null,ha)):createVNode$1(Comment,null,ha)}function normalizeVNode(ha){return ha==null||typeof ha=="boolean"?createVNode$1(Comment):isArray$3(ha)?createVNode$1(Fragment,null,ha.slice()):isVNode(ha)?cloneIfMounted(ha):createVNode$1(Text,null,String(ha))}function cloneIfMounted(ha){return ha.el===null&&ha.patchFlag!==-1||ha.memo?ha:cloneVNode(ha)}function normalizeChildren(ha,ua){let Sa=0;const{shapeFlag:ba}=ha;if(ua==null)ua=null;else if(isArray$3(ua))Sa=16;else if(typeof ua=="object")if(ba&65){const ka=ua.default;ka&&(ka._c&&(ka._d=!1),normalizeChildren(ha,ka()),ka._c&&(ka._d=!0));return}else{Sa=32;const ka=ua._;!ka&&!isInternalObject(ua)?ua._ctx=currentRenderingInstance:ka===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?ua._=1:(ua._=2,ha.patchFlag|=1024))}else isFunction$1(ua)?(ua={default:ua,_ctx:currentRenderingInstance},Sa=32):(ua=String(ua),ba&64?(Sa=16,ua=[createTextVNode(ua)]):Sa=8);ha.children=ua,ha.shapeFlag|=Sa}function mergeProps(...ha){const ua={};for(let Sa=0;Sa<ha.length;Sa++){const ba=ha[Sa];for(const ka in ba)if(ka==="class")ua.class!==ba.class&&(ua.class=normalizeClass([ua.class,ba.class]));else if(ka==="style")ua.style=normalizeStyle$1([ua.style,ba.style]);else if(isOn(ka)){const _y=ua[ka],Ty=ba[ka];Ty&&_y!==Ty&&!(isArray$3(_y)&&_y.includes(Ty))&&(ua[ka]=_y?[].concat(_y,Ty):Ty)}else ka!==""&&(ua[ka]=ba[ka])}return ua}function invokeVNodeHook(ha,ua,Sa,ba=null){callWithAsyncErrorHandling(ha,ua,7,[Sa,ba])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(ha,ua,Sa){const ba=ha.type,ka=(ua?ua.appContext:ha.appContext)||emptyAppContext,_y={uid:uid++,vnode:ha,type:ba,parent:ua,appContext:ka,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:ua?ua.provides:Object.create(ka.provides),ids:ua?ua.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(ba,ka),emitsOptions:normalizeEmitsOptions(ba,ka),emit:null,emitted:null,propsDefaults:EMPTY_OBJ$1,inheritAttrs:ba.inheritAttrs,ctx:EMPTY_OBJ$1,data:EMPTY_OBJ$1,props:EMPTY_OBJ$1,attrs:EMPTY_OBJ$1,slots:EMPTY_OBJ$1,refs:EMPTY_OBJ$1,setupState:EMPTY_OBJ$1,setupContext:null,suspense:Sa,suspenseId:Sa?Sa.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return _y.ctx={_:_y},_y.root=ua?ua.root:_y,_y.emit=emit.bind(null,_y),ha.ce&&ha.ce(_y),_y}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const ha=getGlobalThis(),ua=(Sa,ba)=>{let ka;return(ka=ha[Sa])||(ka=ha[Sa]=[]),ka.push(ba),_y=>{ka.length>1?ka.forEach(Ty=>Ty(_y)):ka[0](_y)}};internalSetCurrentInstance=ua("__VUE_INSTANCE_SETTERS__",Sa=>currentInstance=Sa),setInSSRSetupState=ua("__VUE_SSR_SETTERS__",Sa=>isInSSRComponentSetup=Sa)}const setCurrentInstance=ha=>{const ua=currentInstance;return internalSetCurrentInstance(ha),ha.scope.on(),()=>{ha.scope.off(),internalSetCurrentInstance(ua)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(ha){return ha.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(ha,ua=!1,Sa=!1){ua&&setInSSRSetupState(ua);const{props:ba,children:ka}=ha.vnode,_y=isStatefulComponent(ha);initProps$1(ha,ba,_y,ua),initSlots(ha,ka,Sa||ua);const Ty=_y?setupStatefulComponent(ha,ua):void 0;return ua&&setInSSRSetupState(!1),Ty}function setupStatefulComponent(ha,ua){const Sa=ha.type;ha.accessCache=Object.create(null),ha.proxy=new Proxy(ha.ctx,PublicInstanceProxyHandlers);const{setup:ba}=Sa;if(ba){pauseTracking();const ka=ha.setupContext=ba.length>1?createSetupContext(ha):null,_y=setCurrentInstance(ha),Ty=callWithErrorHandling(ba,ha,0,[ha.props,ka]),Ay=isPromise(Ty);if(resetTracking(),_y(),(Ay||ha.sp)&&!isAsyncWrapper(ha)&&markAsyncBoundary(ha),Ay){if(Ty.then(unsetCurrentInstance,unsetCurrentInstance),ua)return Ty.then(Ey=>{handleSetupResult(ha,Ey)}).catch(Ey=>{handleError(Ey,ha,0)});ha.asyncDep=Ty}else handleSetupResult(ha,Ty)}else finishComponentSetup(ha)}function handleSetupResult(ha,ua,Sa){isFunction$1(ua)?ha.type.__ssrInlineRender?ha.ssrRender=ua:ha.render=ua:isObject$4(ua)&&(ha.setupState=proxyRefs(ua)),finishComponentSetup(ha)}function finishComponentSetup(ha,ua,Sa){const ba=ha.type;ha.render||(ha.render=ba.render||NOOP);{const ka=setCurrentInstance(ha);pauseTracking();try{applyOptions(ha)}finally{resetTracking(),ka()}}}const attrsProxyHandlers={get(ha,ua){return track(ha,"get",""),ha[ua]}};function createSetupContext(ha){const ua=Sa=>{ha.exposed=Sa||{}};return{attrs:new Proxy(ha.attrs,attrsProxyHandlers),slots:ha.slots,emit:ha.emit,expose:ua}}function getComponentPublicInstance(ha){return ha.exposed?ha.exposeProxy||(ha.exposeProxy=new Proxy(proxyRefs(markRaw(ha.exposed)),{get(ua,Sa){if(Sa in ua)return ua[Sa];if(Sa in publicPropertiesMap)return publicPropertiesMap[Sa](ha)},has(ua,Sa){return Sa in ua||Sa in publicPropertiesMap}})):ha.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=ha=>ha.replace(classifyRE,ua=>ua.toUpperCase()).replace(/[-_]/g,"");function getComponentName(ha,ua=!0){return isFunction$1(ha)?ha.displayName||ha.name:ha.name||ua&&ha.__name}function formatComponentName(ha,ua,Sa=!1){let ba=getComponentName(ua);if(!ba&&ua.__file){const ka=ua.__file.match(/([^/\\]+)\.\w+$/);ka&&(ba=ka[1])}if(!ba&&ha&&ha.parent){const ka=_y=>{for(const Ty in _y)if(_y[Ty]===ua)return Ty};ba=ka(ha.components||ha.parent.type.components)||ka(ha.appContext.components)}return ba?classify(ba):Sa?"App":"Anonymous"}function isClassComponent(ha){return isFunction$1(ha)&&"__vccOpts"in ha}const computed=(ha,ua)=>computed$1(ha,ua,isInSSRComponentSetup);function h$1(ha,ua,Sa){const ba=arguments.length;return ba===2?isObject$4(ua)&&!isArray$3(ua)?isVNode(ua)?createVNode$1(ha,null,[ua]):createVNode$1(ha,ua):createVNode$1(ha,null,ua):(ba>3?Sa=Array.prototype.slice.call(arguments,2):ba===3&&isVNode(Sa)&&(Sa=[Sa]),createVNode$1(ha,ua,Sa))}const version="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt$2=typeof window<"u"&&window.trustedTypes;if(tt$2)try{policy=tt$2.createPolicy("vue",{createHTML:ha=>ha})}catch{}const unsafeToTrustedHTML=policy?ha=>policy.createHTML(ha):ha=>ha,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(ha,ua,Sa)=>{ua.insertBefore(ha,Sa||null)},remove:ha=>{const ua=ha.parentNode;ua&&ua.removeChild(ha)},createElement:(ha,ua,Sa,ba)=>{const ka=ua==="svg"?doc.createElementNS(svgNS,ha):ua==="mathml"?doc.createElementNS(mathmlNS,ha):Sa?doc.createElement(ha,{is:Sa}):doc.createElement(ha);return ha==="select"&&ba&&ba.multiple!=null&&ka.setAttribute("multiple",ba.multiple),ka},createText:ha=>doc.createTextNode(ha),createComment:ha=>doc.createComment(ha),setText:(ha,ua)=>{ha.nodeValue=ua},setElementText:(ha,ua)=>{ha.textContent=ua},parentNode:ha=>ha.parentNode,nextSibling:ha=>ha.nextSibling,querySelector:ha=>doc.querySelector(ha),setScopeId(ha,ua){ha.setAttribute(ua,"")},insertStaticContent(ha,ua,Sa,ba,ka,_y){const Ty=Sa?Sa.previousSibling:ua.lastChild;if(ka&&(ka===_y||ka.nextSibling))for(;ua.insertBefore(ka.cloneNode(!0),Sa),!(ka===_y||!(ka=ka.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(ba==="svg"?`<svg>${ha}</svg>`:ba==="mathml"?`<math>${ha}</math>`:ha);const Ay=templateContainer.content;if(ba==="svg"||ba==="mathml"){const Ey=Ay.firstChild;for(;Ey.firstChild;)Ay.appendChild(Ey.firstChild);Ay.removeChild(Ey)}ua.insertBefore(Ay,Sa)}return[Ty?Ty.nextSibling:ua.firstChild,Sa?Sa.previousSibling:ua.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend$1({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=ha=>(ha.displayName="Transition",ha.props=TransitionPropsValidators,ha),Transition=decorate$1((ha,{slots:ua})=>h$1(BaseTransition,resolveTransitionProps(ha),ua)),callHook=(ha,ua=[])=>{isArray$3(ha)?ha.forEach(Sa=>Sa(...ua)):ha&&ha(...ua)},hasExplicitCallback=ha=>ha?isArray$3(ha)?ha.some(ua=>ua.length>1):ha.length>1:!1;function resolveTransitionProps(ha){const ua={};for(const Xy in ha)Xy in DOMTransitionPropsValidators||(ua[Xy]=ha[Xy]);if(ha.css===!1)return ua;const{name:Sa="v",type:ba,duration:ka,enterFromClass:_y=`${Sa}-enter-from`,enterActiveClass:Ty=`${Sa}-enter-active`,enterToClass:Ay=`${Sa}-enter-to`,appearFromClass:Ey=_y,appearActiveClass:My=Ty,appearToClass:Dy=Ay,leaveFromClass:Iy=`${Sa}-leave-from`,leaveActiveClass:Ly=`${Sa}-leave-active`,leaveToClass:Py=`${Sa}-leave-to`}=ha,Ry=normalizeDuration(ka),Vy=Ry&&Ry[0],Ny=Ry&&Ry[1],{onBeforeEnter:By,onEnter:Oy,onEnterCancelled:Fy,onLeave:zy,onLeaveCancelled:Hy,onBeforeAppear:Gy=By,onAppear:Wy=Oy,onAppearCancelled:Uy=Fy}=ua,Yy=(Xy,Zy,Jy,t_)=>{Xy._enterCancelled=t_,removeTransitionClass(Xy,Zy?Dy:Ay),removeTransitionClass(Xy,Zy?My:Ty),Jy&&Jy()},jy=(Xy,Zy)=>{Xy._isLeaving=!1,removeTransitionClass(Xy,Iy),removeTransitionClass(Xy,Py),removeTransitionClass(Xy,Ly),Zy&&Zy()},Ky=Xy=>(Zy,Jy)=>{const t_=Xy?Wy:Oy,Qy=()=>Yy(Zy,Xy,Jy);callHook(t_,[Zy,Qy]),nextFrame(()=>{removeTransitionClass(Zy,Xy?Ey:_y),addTransitionClass(Zy,Xy?Dy:Ay),hasExplicitCallback(t_)||whenTransitionEnds(Zy,ba,Vy,Qy)})};return extend$1(ua,{onBeforeEnter(Xy){callHook(By,[Xy]),addTransitionClass(Xy,_y),addTransitionClass(Xy,Ty)},onBeforeAppear(Xy){callHook(Gy,[Xy]),addTransitionClass(Xy,Ey),addTransitionClass(Xy,My)},onEnter:Ky(!1),onAppear:Ky(!0),onLeave(Xy,Zy){Xy._isLeaving=!0;const Jy=()=>jy(Xy,Zy);addTransitionClass(Xy,Iy),Xy._enterCancelled?(addTransitionClass(Xy,Ly),forceReflow()):(forceReflow(),addTransitionClass(Xy,Ly)),nextFrame(()=>{Xy._isLeaving&&(removeTransitionClass(Xy,Iy),addTransitionClass(Xy,Py),hasExplicitCallback(zy)||whenTransitionEnds(Xy,ba,Ny,Jy))}),callHook(zy,[Xy,Jy])},onEnterCancelled(Xy){Yy(Xy,!1,void 0,!0),callHook(Fy,[Xy])},onAppearCancelled(Xy){Yy(Xy,!0,void 0,!0),callHook(Uy,[Xy])},onLeaveCancelled(Xy){jy(Xy),callHook(Hy,[Xy])}})}function normalizeDuration(ha){if(ha==null)return null;if(isObject$4(ha))return[NumberOf(ha.enter),NumberOf(ha.leave)];{const ua=NumberOf(ha);return[ua,ua]}}function NumberOf(ha){return toNumber(ha)}function addTransitionClass(ha,ua){ua.split(/\s+/).forEach(Sa=>Sa&&ha.classList.add(Sa)),(ha[vtcKey]||(ha[vtcKey]=new Set)).add(ua)}function removeTransitionClass(ha,ua){ua.split(/\s+/).forEach(ba=>ba&&ha.classList.remove(ba));const Sa=ha[vtcKey];Sa&&(Sa.delete(ua),Sa.size||(ha[vtcKey]=void 0))}function nextFrame(ha){requestAnimationFrame(()=>{requestAnimationFrame(ha)})}let endId=0;function whenTransitionEnds(ha,ua,Sa,ba){const ka=ha._endId=++endId,_y=()=>{ka===ha._endId&&ba()};if(Sa!=null)return setTimeout(_y,Sa);const{type:Ty,timeout:Ay,propCount:Ey}=getTransitionInfo(ha,ua);if(!Ty)return ba();const My=Ty+"end";let Dy=0;const Iy=()=>{ha.removeEventListener(My,Ly),_y()},Ly=Py=>{Py.target===ha&&++Dy>=Ey&&Iy()};setTimeout(()=>{Dy<Ey&&Iy()},Ay+1),ha.addEventListener(My,Ly)}function getTransitionInfo(ha,ua){const Sa=window.getComputedStyle(ha),ba=Ry=>(Sa[Ry]||"").split(", "),ka=ba(`${TRANSITION}Delay`),_y=ba(`${TRANSITION}Duration`),Ty=getTimeout(ka,_y),Ay=ba(`${ANIMATION}Delay`),Ey=ba(`${ANIMATION}Duration`),My=getTimeout(Ay,Ey);let Dy=null,Iy=0,Ly=0;ua===TRANSITION?Ty>0&&(Dy=TRANSITION,Iy=Ty,Ly=_y.length):ua===ANIMATION?My>0&&(Dy=ANIMATION,Iy=My,Ly=Ey.length):(Iy=Math.max(Ty,My),Dy=Iy>0?Ty>My?TRANSITION:ANIMATION:null,Ly=Dy?Dy===TRANSITION?_y.length:Ey.length:0);const Py=Dy===TRANSITION&&/\b(transform|all)(,|$)/.test(ba(`${TRANSITION}Property`).toString());return{type:Dy,timeout:Iy,propCount:Ly,hasTransform:Py}}function getTimeout(ha,ua){for(;ha.length<ua.length;)ha=ha.concat(ha);return Math.max(...ua.map((Sa,ba)=>toMs(Sa)+toMs(ha[ba])))}function toMs(ha){return ha==="auto"?0:Number(ha.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(ha,ua,Sa){const ba=ha[vtcKey];ba&&(ua=(ua?[ua,...ba]:[...ba]).join(" ")),ua==null?ha.removeAttribute("class"):Sa?ha.setAttribute("class",ua):ha.className=ua}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(ha,{value:ua},{transition:Sa}){ha[vShowOriginalDisplay]=ha.style.display==="none"?"":ha.style.display,Sa&&ua?Sa.beforeEnter(ha):setDisplay(ha,ua)},mounted(ha,{value:ua},{transition:Sa}){Sa&&ua&&Sa.enter(ha)},updated(ha,{value:ua,oldValue:Sa},{transition:ba}){!ua!=!Sa&&(ba?ua?(ba.beforeEnter(ha),setDisplay(ha,!0),ba.enter(ha)):ba.leave(ha,()=>{setDisplay(ha,!1)}):setDisplay(ha,ua))},beforeUnmount(ha,{value:ua}){setDisplay(ha,ua)}};function setDisplay(ha,ua){ha.style.display=ua?ha[vShowOriginalDisplay]:"none",ha[vShowHidden]=!ua}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(ha,ua,Sa){const ba=ha.style,ka=isString$1(Sa);let _y=!1;if(Sa&&!ka){if(ua)if(isString$1(ua))for(const Ty of ua.split(";")){const Ay=Ty.slice(0,Ty.indexOf(":")).trim();Sa[Ay]==null&&setStyle(ba,Ay,"")}else for(const Ty in ua)Sa[Ty]==null&&setStyle(ba,Ty,"");for(const Ty in Sa)Ty==="display"&&(_y=!0),setStyle(ba,Ty,Sa[Ty])}else if(ka){if(ua!==Sa){const Ty=ba[CSS_VAR_TEXT];Ty&&(Sa+=";"+Ty),ba.cssText=Sa,_y=displayRE.test(Sa)}}else ua&&ha.removeAttribute("style");vShowOriginalDisplay in ha&&(ha[vShowOriginalDisplay]=_y?ba.display:"",ha[vShowHidden]&&(ba.display="none"))}const importantRE=/\s*!important$/;function setStyle(ha,ua,Sa){if(isArray$3(Sa))Sa.forEach(ba=>setStyle(ha,ua,ba));else if(Sa==null&&(Sa=""),ua.startsWith("--"))ha.setProperty(ua,Sa);else{const ba=autoPrefix(ha,ua);importantRE.test(Sa)?ha.setProperty(hyphenate(ba),Sa.replace(importantRE,""),"important"):ha[ba]=Sa}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(ha,ua){const Sa=prefixCache[ua];if(Sa)return Sa;let ba=camelize(ua);if(ba!=="filter"&&ba in ha)return prefixCache[ua]=ba;ba=capitalize(ba);for(let ka=0;ka<prefixes.length;ka++){const _y=prefixes[ka]+ba;if(_y in ha)return prefixCache[ua]=_y}return ua}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(ha,ua,Sa,ba,ka,_y=isSpecialBooleanAttr(ua)){ba&&ua.startsWith("xlink:")?Sa==null?ha.removeAttributeNS(xlinkNS,ua.slice(6,ua.length)):ha.setAttributeNS(xlinkNS,ua,Sa):Sa==null||_y&&!includeBooleanAttr(Sa)?ha.removeAttribute(ua):ha.setAttribute(ua,_y?"":isSymbol(Sa)?String(Sa):Sa)}function patchDOMProp(ha,ua,Sa,ba,ka){if(ua==="innerHTML"||ua==="textContent"){Sa!=null&&(ha[ua]=ua==="innerHTML"?unsafeToTrustedHTML(Sa):Sa);return}const _y=ha.tagName;if(ua==="value"&&_y!=="PROGRESS"&&!_y.includes("-")){const Ay=_y==="OPTION"?ha.getAttribute("value")||"":ha.value,Ey=Sa==null?ha.type==="checkbox"?"on":"":String(Sa);(Ay!==Ey||!("_value"in ha))&&(ha.value=Ey),Sa==null&&ha.removeAttribute(ua),ha._value=Sa;return}let Ty=!1;if(Sa===""||Sa==null){const Ay=typeof ha[ua];Ay==="boolean"?Sa=includeBooleanAttr(Sa):Sa==null&&Ay==="string"?(Sa="",Ty=!0):Ay==="number"&&(Sa=0,Ty=!0)}try{ha[ua]=Sa}catch{}Ty&&ha.removeAttribute(ka||ua)}function addEventListener$1(ha,ua,Sa,ba){ha.addEventListener(ua,Sa,ba)}function removeEventListener$1(ha,ua,Sa,ba){ha.removeEventListener(ua,Sa,ba)}const veiKey=Symbol("_vei");function patchEvent(ha,ua,Sa,ba,ka=null){const _y=ha[veiKey]||(ha[veiKey]={}),Ty=_y[ua];if(ba&&Ty)Ty.value=ba;else{const[Ay,Ey]=parseName(ua);if(ba){const My=_y[ua]=createInvoker(ba,ka);addEventListener$1(ha,Ay,My,Ey)}else Ty&&(removeEventListener$1(ha,Ay,Ty,Ey),_y[ua]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(ha){let ua;if(optionsModifierRE.test(ha)){ua={};let ba;for(;ba=ha.match(optionsModifierRE);)ha=ha.slice(0,ha.length-ba[0].length),ua[ba[0].toLowerCase()]=!0}return[ha[2]===":"?ha.slice(3):hyphenate(ha.slice(2)),ua]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(ha,ua){const Sa=ba=>{if(!ba._vts)ba._vts=Date.now();else if(ba._vts<=Sa.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(ba,Sa.value),ua,5,[ba])};return Sa.value=ha,Sa.attached=getNow(),Sa}function patchStopImmediatePropagation(ha,ua){if(isArray$3(ua)){const Sa=ha.stopImmediatePropagation;return ha.stopImmediatePropagation=()=>{Sa.call(ha),ha._stopped=!0},ua.map(ba=>ka=>!ka._stopped&&ba&&ba(ka))}else return ua}const isNativeOn=ha=>ha.charCodeAt(0)===111&&ha.charCodeAt(1)===110&&ha.charCodeAt(2)>96&&ha.charCodeAt(2)<123,patchProp=(ha,ua,Sa,ba,ka,_y)=>{const Ty=ka==="svg";ua==="class"?patchClass(ha,ba,Ty):ua==="style"?patchStyle(ha,Sa,ba):isOn(ua)?isModelListener(ua)||patchEvent(ha,ua,Sa,ba,_y):(ua[0]==="."?(ua=ua.slice(1),!0):ua[0]==="^"?(ua=ua.slice(1),!1):shouldSetAsProp(ha,ua,ba,Ty))?(patchDOMProp(ha,ua,ba),!ha.tagName.includes("-")&&(ua==="value"||ua==="checked"||ua==="selected")&&patchAttr(ha,ua,ba,Ty,_y,ua!=="value")):ha._isVueCE&&(/[A-Z]/.test(ua)||!isString$1(ba))?patchDOMProp(ha,camelize(ua),ba,_y,ua):(ua==="true-value"?ha._trueValue=ba:ua==="false-value"&&(ha._falseValue=ba),patchAttr(ha,ua,ba,Ty))};function shouldSetAsProp(ha,ua,Sa,ba){if(ba)return!!(ua==="innerHTML"||ua==="textContent"||ua in ha&&isNativeOn(ua)&&isFunction$1(Sa));if(ua==="spellcheck"||ua==="draggable"||ua==="translate"||ua==="autocorrect"||ua==="form"||ua==="list"&&ha.tagName==="INPUT"||ua==="type"&&ha.tagName==="TEXTAREA")return!1;if(ua==="width"||ua==="height"){const ka=ha.tagName;if(ka==="IMG"||ka==="VIDEO"||ka==="CANVAS"||ka==="SOURCE")return!1}return isNativeOn(ua)&&isString$1(Sa)?!1:ua in ha}const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),decorate=ha=>(delete ha.props.mode,ha),TransitionGroupImpl=decorate({name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(ha,{slots:ua}){const Sa=getCurrentInstance(),ba=useTransitionState();let ka,_y;return onUpdated(()=>{if(!ka.length)return;const Ty=ha.moveClass||`${ha.name||"v"}-move`;if(!hasCSSTransform(ka[0].el,Sa.vnode.el,Ty)){ka=[];return}ka.forEach(callPendingCbs),ka.forEach(recordPosition);const Ay=ka.filter(applyTranslation);forceReflow(),Ay.forEach(Ey=>{const My=Ey.el,Dy=My.style;addTransitionClass(My,Ty),Dy.transform=Dy.webkitTransform=Dy.transitionDuration="";const Iy=My[moveCbKey]=Ly=>{Ly&&Ly.target!==My||(!Ly||/transform$/.test(Ly.propertyName))&&(My.removeEventListener("transitionend",Iy),My[moveCbKey]=null,removeTransitionClass(My,Ty))};My.addEventListener("transitionend",Iy)}),ka=[]}),()=>{const Ty=toRaw(ha),Ay=resolveTransitionProps(Ty);let Ey=Ty.tag||Fragment;if(ka=[],_y)for(let My=0;My<_y.length;My++){const Dy=_y[My];Dy.el&&Dy.el instanceof Element&&(ka.push(Dy),setTransitionHooks(Dy,resolveTransitionHooks(Dy,Ay,ba,Sa)),positionMap.set(Dy,Dy.el.getBoundingClientRect()))}_y=ua.default?getTransitionRawChildren(ua.default()):[];for(let My=0;My<_y.length;My++){const Dy=_y[My];Dy.key!=null&&setTransitionHooks(Dy,resolveTransitionHooks(Dy,Ay,ba,Sa))}return createVNode$1(Ey,null,_y)}}}),TransitionGroup=TransitionGroupImpl;function callPendingCbs(ha){const ua=ha.el;ua[moveCbKey]&&ua[moveCbKey](),ua[enterCbKey]&&ua[enterCbKey]()}function recordPosition(ha){newPositionMap.set(ha,ha.el.getBoundingClientRect())}function applyTranslation(ha){const ua=positionMap.get(ha),Sa=newPositionMap.get(ha),ba=ua.left-Sa.left,ka=ua.top-Sa.top;if(ba||ka){const _y=ha.el.style;return _y.transform=_y.webkitTransform=`translate(${ba}px,${ka}px)`,_y.transitionDuration="0s",ha}}function hasCSSTransform(ha,ua,Sa){const ba=ha.cloneNode(),ka=ha[vtcKey];ka&&ka.forEach(Ay=>{Ay.split(/\s+/).forEach(Ey=>Ey&&ba.classList.remove(Ey))}),Sa.split(/\s+/).forEach(Ay=>Ay&&ba.classList.add(Ay)),ba.style.display="none";const _y=ua.nodeType===1?ua:ua.parentNode;_y.appendChild(ba);const{hasTransform:Ty}=getTransitionInfo(ba);return _y.removeChild(ba),Ty}const getModelAssigner=ha=>{const ua=ha.props["onUpdate:modelValue"]||!1;return isArray$3(ua)?Sa=>invokeArrayFns(ua,Sa):ua};function onCompositionStart(ha){ha.target.composing=!0}function onCompositionEnd(ha){const ua=ha.target;ua.composing&&(ua.composing=!1,ua.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(ha,{modifiers:{lazy:ua,trim:Sa,number:ba}},ka){ha[assignKey]=getModelAssigner(ka);const _y=ba||ka.props&&ka.props.type==="number";addEventListener$1(ha,ua?"change":"input",Ty=>{if(Ty.target.composing)return;let Ay=ha.value;Sa&&(Ay=Ay.trim()),_y&&(Ay=looseToNumber(Ay)),ha[assignKey](Ay)}),Sa&&addEventListener$1(ha,"change",()=>{ha.value=ha.value.trim()}),ua||(addEventListener$1(ha,"compositionstart",onCompositionStart),addEventListener$1(ha,"compositionend",onCompositionEnd),addEventListener$1(ha,"change",onCompositionEnd))},mounted(ha,{value:ua}){ha.value=ua??""},beforeUpdate(ha,{value:ua,oldValue:Sa,modifiers:{lazy:ba,trim:ka,number:_y}},Ty){if(ha[assignKey]=getModelAssigner(Ty),ha.composing)return;const Ay=(_y||ha.type==="number")&&!/^0\d/.test(ha.value)?looseToNumber(ha.value):ha.value,Ey=ua??"";Ay!==Ey&&(document.activeElement===ha&&ha.type!=="range"&&(ba&&ua===Sa||ka&&ha.value.trim()===Ey)||(ha.value=Ey))}},vModelCheckbox={deep:!0,created(ha,ua,Sa){ha[assignKey]=getModelAssigner(Sa),addEventListener$1(ha,"change",()=>{const ba=ha._modelValue,ka=getValue(ha),_y=ha.checked,Ty=ha[assignKey];if(isArray$3(ba)){const Ay=looseIndexOf(ba,ka),Ey=Ay!==-1;if(_y&&!Ey)Ty(ba.concat(ka));else if(!_y&&Ey){const My=[...ba];My.splice(Ay,1),Ty(My)}}else if(isSet(ba)){const Ay=new Set(ba);_y?Ay.add(ka):Ay.delete(ka),Ty(Ay)}else Ty(getCheckboxValue(ha,_y))})},mounted:setChecked,beforeUpdate(ha,ua,Sa){ha[assignKey]=getModelAssigner(Sa),setChecked(ha,ua,Sa)}};function setChecked(ha,{value:ua,oldValue:Sa},ba){ha._modelValue=ua;let ka;if(isArray$3(ua))ka=looseIndexOf(ua,ba.props.value)>-1;else if(isSet(ua))ka=ua.has(ba.props.value);else{if(ua===Sa)return;ka=looseEqual(ua,getCheckboxValue(ha,!0))}ha.checked!==ka&&(ha.checked=ka)}const vModelRadio={created(ha,{value:ua},Sa){ha.checked=looseEqual(ua,Sa.props.value),ha[assignKey]=getModelAssigner(Sa),addEventListener$1(ha,"change",()=>{ha[assignKey](getValue(ha))})},beforeUpdate(ha,{value:ua,oldValue:Sa},ba){ha[assignKey]=getModelAssigner(ba),ua!==Sa&&(ha.checked=looseEqual(ua,ba.props.value))}},vModelSelect={deep:!0,created(ha,{value:ua,modifiers:{number:Sa}},ba){const ka=isSet(ua);addEventListener$1(ha,"change",()=>{const _y=Array.prototype.filter.call(ha.options,Ty=>Ty.selected).map(Ty=>Sa?looseToNumber(getValue(Ty)):getValue(Ty));ha[assignKey](ha.multiple?ka?new Set(_y):_y:_y[0]),ha._assigning=!0,nextTick(()=>{ha._assigning=!1})}),ha[assignKey]=getModelAssigner(ba)},mounted(ha,{value:ua}){setSelected(ha,ua)},beforeUpdate(ha,ua,Sa){ha[assignKey]=getModelAssigner(Sa)},updated(ha,{value:ua}){ha._assigning||setSelected(ha,ua)}};function setSelected(ha,ua){const Sa=ha.multiple,ba=isArray$3(ua);if(!(Sa&&!ba&&!isSet(ua))){for(let ka=0,_y=ha.options.length;ka<_y;ka++){const Ty=ha.options[ka],Ay=getValue(Ty);if(Sa)if(ba){const Ey=typeof Ay;Ey==="string"||Ey==="number"?Ty.selected=ua.some(My=>String(My)===String(Ay)):Ty.selected=looseIndexOf(ua,Ay)>-1}else Ty.selected=ua.has(Ay);else if(looseEqual(getValue(Ty),ua)){ha.selectedIndex!==ka&&(ha.selectedIndex=ka);return}}!Sa&&ha.selectedIndex!==-1&&(ha.selectedIndex=-1)}}function getValue(ha){return"_value"in ha?ha._value:ha.value}function getCheckboxValue(ha,ua){const Sa=ua?"_trueValue":"_falseValue";return Sa in ha?ha[Sa]:ua}const vModelDynamic={created(ha,ua,Sa){callModelHook(ha,ua,Sa,null,"created")},mounted(ha,ua,Sa){callModelHook(ha,ua,Sa,null,"mounted")},beforeUpdate(ha,ua,Sa,ba){callModelHook(ha,ua,Sa,ba,"beforeUpdate")},updated(ha,ua,Sa,ba){callModelHook(ha,ua,Sa,ba,"updated")}};function resolveDynamicModel(ha,ua){switch(ha){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(ua){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(ha,ua,Sa,ba,ka){const Ty=resolveDynamicModel(ha.tagName,Sa.props&&Sa.props.type)[ka];Ty&&Ty(ha,ua,Sa,ba)}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:ha=>ha.stopPropagation(),prevent:ha=>ha.preventDefault(),self:ha=>ha.target!==ha.currentTarget,ctrl:ha=>!ha.ctrlKey,shift:ha=>!ha.shiftKey,alt:ha=>!ha.altKey,meta:ha=>!ha.metaKey,left:ha=>"button"in ha&&ha.button!==0,middle:ha=>"button"in ha&&ha.button!==1,right:ha=>"button"in ha&&ha.button!==2,exact:(ha,ua)=>systemModifiers.some(Sa=>ha[`${Sa}Key`]&&!ua.includes(Sa))},withModifiers=(ha,ua)=>{const Sa=ha._withMods||(ha._withMods={}),ba=ua.join(".");return Sa[ba]||(Sa[ba]=(ka,..._y)=>{for(let Ty=0;Ty<ua.length;Ty++){const Ay=modifierGuards[ua[Ty]];if(Ay&&Ay(ka,ua))return}return ha(ka,..._y)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(ha,ua)=>{const Sa=ha._withKeys||(ha._withKeys={}),ba=ua.join(".");return Sa[ba]||(Sa[ba]=ka=>{if(!("key"in ka))return;const _y=hyphenate(ka.key);if(ua.some(Ty=>Ty===_y||keyNames[Ty]===_y))return ha(ka)})},rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$1=(...ha)=>{ensureRenderer().render(...ha)},createApp=(...ha)=>{const ua=ensureRenderer().createApp(...ha),{mount:Sa}=ua;return ua.mount=ba=>{const ka=normalizeContainer(ba);if(!ka)return;const _y=ua._component;!isFunction$1(_y)&&!_y.render&&!_y.template&&(_y.template=ka.innerHTML),ka.nodeType===1&&(ka.textContent="");const Ty=Sa(ka,!1,resolveRootNamespace(ka));return ka instanceof Element&&(ka.removeAttribute("v-cloak"),ka.setAttribute("data-v-app","")),Ty},ua};function resolveRootNamespace(ha){if(ha instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&ha instanceof MathMLElement)return"mathml"}function normalizeContainer(ha){return isString$1(ha)?document.querySelector(ha):ha}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=ha=>activePinia=ha,piniaSymbol=Symbol();function isPlainObject(ha){return ha&&typeof ha=="object"&&Object.prototype.toString.call(ha)==="[object Object]"&&typeof ha.toJSON!="function"}var MutationType;(function(ha){ha.direct="direct",ha.patchObject="patch object",ha.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const ha=effectScope(!0),ua=ha.run(()=>ref({}));let Sa=[],ba=[];const ka=markRaw({install(_y){setActivePinia(ka),ka._a=_y,_y.provide(piniaSymbol,ka),_y.config.globalProperties.$pinia=ka,ba.forEach(Ty=>Sa.push(Ty)),ba=[]},use(_y){return this._a?Sa.push(_y):ba.push(_y),this},_p:Sa,_a:null,_e:ha,_s:new Map,state:ua});return ka}const noop$2=()=>{};function addSubscription(ha,ua,Sa,ba=noop$2){ha.push(ua);const ka=()=>{const _y=ha.indexOf(ua);_y>-1&&(ha.splice(_y,1),ba())};return!Sa&&getCurrentScope()&&onScopeDispose(ka),ka}function triggerSubscriptions(ha,...ua){ha.slice().forEach(Sa=>{Sa(...ua)})}const fallbackRunWithContext=ha=>ha(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(ha,ua){ha instanceof Map&&ua instanceof Map?ua.forEach((Sa,ba)=>ha.set(ba,Sa)):ha instanceof Set&&ua instanceof Set&&ua.forEach(ha.add,ha);for(const Sa in ua){if(!ua.hasOwnProperty(Sa))continue;const ba=ua[Sa],ka=ha[Sa];isPlainObject(ka)&&isPlainObject(ba)&&ha.hasOwnProperty(Sa)&&!isRef(ba)&&!isReactive(ba)?ha[Sa]=mergeReactiveObjects(ka,ba):ha[Sa]=ba}return ha}const skipHydrateSymbol=Symbol();function shouldHydrate(ha){return!isPlainObject(ha)||!ha.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(ha){return!!(isRef(ha)&&ha.effect)}function createOptionsStore(ha,ua,Sa,ba){const{state:ka,actions:_y,getters:Ty}=ua,Ay=Sa.state.value[ha];let Ey;function My(){Ay||(Sa.state.value[ha]=ka?ka():{});const Dy=toRefs(Sa.state.value[ha]);return assign$1(Dy,_y,Object.keys(Ty||{}).reduce((Iy,Ly)=>(Iy[Ly]=markRaw(computed(()=>{setActivePinia(Sa);const Py=Sa._s.get(ha);return Ty[Ly].call(Py,Py)})),Iy),{}))}return Ey=createSetupStore(ha,My,ua,Sa,ba,!0),Ey}function createSetupStore(ha,ua,Sa={},ba,ka,_y){let Ty;const Ay=assign$1({actions:{}},Sa),Ey={deep:!0};let My,Dy,Iy=[],Ly=[],Py;const Ry=ba.state.value[ha];!_y&&!Ry&&(ba.state.value[ha]={}),ref({});let Vy;function Ny(Uy){let Yy;My=Dy=!1,typeof Uy=="function"?(Uy(ba.state.value[ha]),Yy={type:MutationType.patchFunction,storeId:ha,events:Py}):(mergeReactiveObjects(ba.state.value[ha],Uy),Yy={type:MutationType.patchObject,payload:Uy,storeId:ha,events:Py});const jy=Vy=Symbol();nextTick().then(()=>{Vy===jy&&(My=!0)}),Dy=!0,triggerSubscriptions(Iy,Yy,ba.state.value[ha])}const By=_y?function(){const{state:Yy}=Sa,jy=Yy?Yy():{};this.$patch(Ky=>{assign$1(Ky,jy)})}:noop$2;function Oy(){Ty.stop(),Iy=[],Ly=[],ba._s.delete(ha)}const Fy=(Uy,Yy="")=>{if(ACTION_MARKER in Uy)return Uy[ACTION_NAME]=Yy,Uy;const jy=function(){setActivePinia(ba);const Ky=Array.from(arguments),Xy=[],Zy=[];function Jy(r_){Xy.push(r_)}function t_(r_){Zy.push(r_)}triggerSubscriptions(Ly,{args:Ky,name:jy[ACTION_NAME],store:Hy,after:Jy,onError:t_});let Qy;try{Qy=Uy.apply(this&&this.$id===ha?this:Hy,Ky)}catch(r_){throw triggerSubscriptions(Zy,r_),r_}return Qy instanceof Promise?Qy.then(r_=>(triggerSubscriptions(Xy,r_),r_)).catch(r_=>(triggerSubscriptions(Zy,r_),Promise.reject(r_))):(triggerSubscriptions(Xy,Qy),Qy)};return jy[ACTION_MARKER]=!0,jy[ACTION_NAME]=Yy,jy},zy={_p:ba,$id:ha,$onAction:addSubscription.bind(null,Ly),$patch:Ny,$reset:By,$subscribe(Uy,Yy={}){const jy=addSubscription(Iy,Uy,Yy.detached,()=>Ky()),Ky=Ty.run(()=>watch(()=>ba.state.value[ha],Xy=>{(Yy.flush==="sync"?Dy:My)&&Uy({storeId:ha,type:MutationType.direct,events:Py},Xy)},assign$1({},Ey,Yy)));return jy},$dispose:Oy},Hy=reactive(zy);ba._s.set(ha,Hy);const Wy=(ba._a&&ba._a.runWithContext||fallbackRunWithContext)(()=>ba._e.run(()=>(Ty=effectScope()).run(()=>ua({action:Fy}))));for(const Uy in Wy){const Yy=Wy[Uy];if(isRef(Yy)&&!isComputed(Yy)||isReactive(Yy))_y||(Ry&&shouldHydrate(Yy)&&(isRef(Yy)?Yy.value=Ry[Uy]:mergeReactiveObjects(Yy,Ry[Uy])),ba.state.value[ha][Uy]=Yy);else if(typeof Yy=="function"){const jy=Fy(Yy,Uy);Wy[Uy]=jy,Ay.actions[Uy]=Yy}}return assign$1(Hy,Wy),assign$1(toRaw(Hy),Wy),Object.defineProperty(Hy,"$state",{get:()=>ba.state.value[ha],set:Uy=>{Ny(Yy=>{assign$1(Yy,Uy)})}}),ba._p.forEach(Uy=>{assign$1(Hy,Ty.run(()=>Uy({store:Hy,app:ba._a,pinia:ba,options:Ay})))}),Ry&&_y&&Sa.hydrate&&Sa.hydrate(Hy.$state,Ry),My=!0,Dy=!0,Hy}/*! #__NO_SIDE_EFFECTS__ */function defineStore(ha,ua,Sa){let ba,ka;const _y=typeof ua=="function";ba=ha,ka=_y?Sa:ua;function Ty(Ay,Ey){const My=hasInjectionContext();return Ay=Ay||(My?inject(piniaSymbol,null):null),Ay&&setActivePinia(Ay),Ay=activePinia,Ay._s.has(ba)||(_y?createSetupStore(ba,ua,ka,Ay):createOptionsStore(ba,ka,Ay)),Ay._s.get(ba)}return Ty.$id=ba,Ty}function storeToRefs(ha){{const ua=toRaw(ha),Sa={};for(const ba in ua){const ka=ua[ba];ka.effect?Sa[ba]=computed({get:()=>ha[ba],set(_y){ha[ba]=_y}}):(isRef(ka)||isReactive(ka))&&(Sa[ba]=toRef(ha,ba))}return Sa}}const _export_sfc=(ha,ua)=>{const Sa=ha.__vccOpts||ha;for(const[ba,ka]of ua)Sa[ba]=ka;return Sa},_sfc_main$o={};function _sfc_render(ha,ua){const Sa=resolveComponent("router-view");return openBlock(),createBlock(Sa)}const App=_export_sfc(_sfc_main$o,[["render",_sfc_render]]),lastRoute=ref(null),KEY="route-bridge/latest";function publishBridge(ha){lastRoute.value=ha;try{localStorage.setItem(KEY,JSON.stringify(ha))}catch{}}function getBridge(){if(lastRoute.value)return lastRoute.value;try{const ha=localStorage.getItem(KEY);if(ha)return JSON.parse(ha)}catch{}return null}function subscribeBridge(ha){const ua=getBridge();ua&&ha(ua);const Sa=watch(lastRoute,ba=>{ba&&ha(ba)},{immediate:!1});return()=>Sa()}const _hoisted_1$k={class:"page"},_hoisted_2$j={class:"grid grid-cols-2 gap-12"},_hoisted_3$i={class:"form-col"},_hoisted_4$i={class:"row"},_hoisted_5$i={class:"row"},_hoisted_6$d={class:"row"},_hoisted_7$c={class:"row"},_hoisted_8$c={class:"btn-row"},_hoisted_9$c=["disabled"],_hoisted_10$c={key:0,class:"error"},_hoisted_11$c={key:1,class:"metrics"},_sfc_main$n=defineComponent({__name:"RoutePlan",setup(ha){const ua=ref("上海市人民广场"),Sa=ref("浦东国际机场"),ba=ref(new Date(Date.now()+10*60*1e3).toISOString().slice(0,16)),ka=ref(new Date(Date.now()+3*60*60*1e3).toISOString().slice(0,16)),_y=ref(null),Ty=ref(null),Ay=ref(null),Ey=ref(!1),My=ref(0),Dy=ref(0),Iy=ref("amap"),Ly=ref("");function Py(Fy){const zy=Fy.split(",").map(Hy=>Hy.trim());if(zy.length===2){const Hy=Number(zy[0]),Gy=Number(zy[1]);if(!Number.isNaN(Hy)&&!Number.isNaN(Gy))return{lat:Hy,lng:Gy}}return null}async function Ry(){if(window.AMap)return window.AMap;const Fy="4a9cbe5db372c8aaf0e68b72e6e7134e",zy="169149541b6d8d92f1bff5da1acfd356";return window._AMapSecurityConfig={securityJsCode:zy},await new Promise((Hy,Gy)=>{const Wy=document.createElement("script");Wy.src=`https://webapi.amap.com/maps?v=2.0&key=${Fy}`,Wy.async=!0,Wy.onload=()=>Hy(),Wy.onerror=()=>Gy(new Error("AMap 加载失败")),document.head.appendChild(Wy)}),window.AMap}async function Vy(Fy){(!Ty.value||!Ay.value)&&(await new Promise(zy=>{Fy.plugin(["AMap.Geocoder","AMap.Driving"],()=>zy())}),Ty.value=new Fy.Geocoder,Ay.value=new Fy.Driving({map:_y.value,policy:Fy.DrivingPolicy.LEAST_TIME}))}async function Ny(Fy,zy){const Hy=Py(zy);return Hy?new Fy.LngLat(Hy.lng,Hy.lat):new Promise((Gy,Wy)=>{Ty.value.getLocation(zy,(Uy,Yy)=>{var jy;Uy==="complete"&&((jy=Yy.geocodes)!=null&&jy.length)?Gy(Yy.geocodes[0].location):Wy(new Error("地理编码失败: "+zy))})})}async function By(){try{Ly.value="";const Fy=await Ry();_y.value||(_y.value=new Fy.Map("amap-container",{zoom:11,center:[121.47,31.23]})),await Vy(Fy);const zy=await Ny(Fy,ua.value),Hy=await Ny(Fy,Sa.value);await new Promise((Gy,Wy)=>{Ay.value.search(zy,Hy,(Uy,Yy)=>{var jy;if(Uy==="complete"&&((jy=Yy==null?void 0:Yy.routes)!=null&&jy.length)){const Ky=Yy.routes[0];My.value=Ky.distance/1e3,Dy.value=Ky.time/60,Ey.value=!0,Gy()}else Wy(new Error("路径规划失败"))})})}catch(Fy){Ly.value=(Fy==null?void 0:Fy.message)||String(Fy),Ey.value=!1}}function Oy(){Ey.value&&Ry().then(async Fy=>{const zy=await Ny(Fy,ua.value),Hy=await Ny(Fy,Sa.value),Gy={lat:zy.lat,lng:zy.lng},Wy={lat:Hy.lat,lng:Hy.lng};publishBridge({origin:Gy,destination:Wy,route:{distanceKm:My.value,durationMin:Dy.value,waypoints:[],provider:Iy.value,updatedAt:new Date().toISOString()},window:[new Date(ba.value).toISOString(),new Date(ka.value).toISOString()]}),alert("路线已推送到推荐页，打开“商家推荐”并点击“从路径读取”。")})}return onMounted(async()=>{try{const Fy=await Ry();_y.value=new Fy.Map("amap-container",{zoom:11,center:[121.47,31.23]})}catch{}}),(Fy,zy)=>{const Hy=resolveComponent("FluentCard");return openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$j,[createVNode$1(Hy,{title:"路径规划"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$i,[createBaseVNode("div",_hoisted_4$i,[zy[4]||(zy[4]=createBaseVNode("label",null,"起点",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":zy[0]||(zy[0]=Gy=>ua.value=Gy),placeholder:"地址 或 lat,lng（逗号分隔）"},null,512),[[vModelText,ua.value]])]),createBaseVNode("div",_hoisted_5$i,[zy[5]||(zy[5]=createBaseVNode("label",null,"终点",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":zy[1]||(zy[1]=Gy=>Sa.value=Gy),placeholder:"地址 或 lat,lng（逗号分隔）"},null,512),[[vModelText,Sa.value]])]),createBaseVNode("div",_hoisted_6$d,[zy[6]||(zy[6]=createBaseVNode("label",null,"时间窗开始",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":zy[2]||(zy[2]=Gy=>ba.value=Gy),type:"datetime-local"},null,512),[[vModelText,ba.value]])]),createBaseVNode("div",_hoisted_7$c,[zy[7]||(zy[7]=createBaseVNode("label",null,"时间窗结束",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":zy[3]||(zy[3]=Gy=>ka.value=Gy),type:"datetime-local"},null,512),[[vModelText,ka.value]])]),createBaseVNode("div",_hoisted_8$c,[createBaseVNode("button",{class:"btn primary",onClick:By},"规划路线"),createBaseVNode("button",{class:"btn",disabled:!Ey.value,onClick:Oy},"用此路线做推荐",8,_hoisted_9$c)]),Ly.value?(openBlock(),createElementBlock("p",_hoisted_10$c,toDisplayString(Ly.value),1)):createCommentVNode("",!0),Ey.value?(openBlock(),createElementBlock("ul",_hoisted_11$c,[createBaseVNode("li",null,[zy[8]||(zy[8]=createTextVNode("总距离：",-1)),createBaseVNode("b",null,toDisplayString(My.value.toFixed(2)),1),zy[9]||(zy[9]=createTextVNode(" km",-1))]),createBaseVNode("li",null,[zy[10]||(zy[10]=createTextVNode("预计时长：",-1)),createBaseVNode("b",null,toDisplayString(Dy.value.toFixed(0)),1),zy[11]||(zy[11]=createTextVNode(" 分钟",-1))]),createBaseVNode("li",null,[zy[12]||(zy[12]=createTextVNode("来源：",-1)),createBaseVNode("b",null,toDisplayString(Iy.value),1)])])):createCommentVNode("",!0)])]),_:1}),createVNode$1(Hy,{title:"地图"},{default:withCtx(()=>zy[13]||(zy[13]=[createBaseVNode("div",{id:"amap-container",class:"map"},null,-1)])),_:1,__:[13]})])])}}}),RoutePlan=_export_sfc(_sfc_main$n,[["__scopeId","data-v-91dbaf69"]]),_hoisted_1$j={class:"fc-header"},_hoisted_2$i={class:"fc-title"},_hoisted_3$h={key:0},_hoisted_4$h={class:"fc-actions"},_hoisted_5$h={key:0,class:"fc-footer"},_sfc_main$m=defineComponent({__name:"FluentCard",props:{title:{},strong:{type:Boolean},hoverable:{type:Boolean},collapsible:{type:Boolean},defaultCollapsed:{type:Boolean},scrollable:{type:Boolean},bodyPadding:{},minBodyHeight:{}},setup(ha){const ua=ha,Sa=ref(!!ua.defaultCollapsed),ba=computed(()=>({padding:`${ua.bodyPadding??10}px`,minHeight:ua.minBodyHeight?`${ua.minBodyHeight}px`:void 0}));return(ka,_y)=>(openBlock(),createElementBlock("section",{class:normalizeClass(["fluent-card",[ka.strong?"fluent-acrylic-strong":"fluent-acrylic",{hoverable:ka.hoverable,collapsed:Sa.value}]])},[createBaseVNode("header",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$i,[renderSlot(ka.$slots,"icon",{},void 0,!0),ka.title?(openBlock(),createElementBlock("span",_hoisted_3$h,toDisplayString(ka.title),1)):createCommentVNode("",!0),renderSlot(ka.$slots,"title",{},void 0,!0)]),createBaseVNode("div",_hoisted_4$h,[renderSlot(ka.$slots,"actions",{},void 0,!0),ka.collapsible?(openBlock(),createElementBlock("button",{key:0,class:"fc-btn",onClick:_y[0]||(_y[0]=Ty=>Sa.value=!Sa.value)},toDisplayString(Sa.value?"展开":"收起"),1)):createCommentVNode("",!0)])]),withDirectives(createBaseVNode("div",{class:normalizeClass(["fc-body",{scrollable:ka.scrollable}]),style:normalizeStyle$1(ba.value)},[renderSlot(ka.$slots,"default",{},void 0,!0)],6),[[vShow,!Sa.value]]),!Sa.value&&ka.$slots.footer?(openBlock(),createElementBlock("footer",_hoisted_5$h,[renderSlot(ka.$slots,"footer",{},void 0,!0)])):createCommentVNode("",!0)],2))}}),FluentCard=_export_sfc(_sfc_main$m,[["__scopeId","data-v-efa9793f"]]),_hoisted_1$i={class:"section"},_hoisted_2$h={class:"grid-3"},_hoisted_3$g=["value"],_hoisted_4$g=["disabled"],_hoisted_5$g=["value"],_hoisted_6$c=["disabled"],_hoisted_7$b=["value"],_hoisted_8$b={class:"section"},_hoisted_9$b={class:"grid-3"},_hoisted_10$b=["value"],_hoisted_11$b=["disabled"],_hoisted_12$a=["value"],_hoisted_13$a=["disabled"],_hoisted_14$9=["value"],_hoisted_15$9={class:"grid grid-cols-2 gap-12"},_hoisted_16$9={class:"section"},_hoisted_17$8={class:"row"},_hoisted_18$8={class:"row"},_hoisted_19$8={class:"section"},_hoisted_20$7={class:"row"},_hoisted_21$6={class:"row"},_hoisted_22$5={key:0,class:"row"},_hoisted_23$5={class:"inline"},_sfc_main$l=defineComponent({__name:"RecQueryForm",props:{modelValue:{}},emits:["update:modelValue","submit"],setup(ha,{emit:ua}){const Sa=ha,ba=ua,ka=reactive({origin:{lat:0,lng:0},destination:{lat:0,lng:0},window:["",""],demand:{type:"normal",weightKg:0,temperature:null}});watch(()=>Sa.modelValue,jy=>{jy&&Object.assign(ka,jy)},{immediate:!0,deep:!0});function _y(jy){return JSON.parse(JSON.stringify(jy))}const Ty=ref({}),Ay=ref([]),Ey=reactive({from:[],to:[]}),My=reactive({from:[],to:[]}),Dy=reactive({province:"",city:"",district:"",detail:""}),Iy=reactive({province:"",city:"",district:"",detail:""});async function Ly(){try{const Ky=await(await fetch("/data/locations.json",{cache:"force-cache"})).json(),Xy=Array.isArray(Ky)?Ky[0]||{}:Ky;Ty.value=Xy,Ay.value=Object.keys(Xy)}catch(jy){console.error("加载 locations.json 失败",jy),Ty.value={},Ay.value=[]}}function Py(jy){const Ky=jy==="from"?Dy.province:Iy.province,Xy=Ty.value[Ky]||{};Ey[jy]=Object.keys(Xy),My[jy]=[],jy==="from"?(Dy.city="",Dy.district=""):(Iy.city="",Iy.district="")}function Ry(jy){const Ky=jy==="from"?Dy.province:Iy.province,Xy=jy==="from"?Dy.city:Iy.city,Zy=(Ty.value[Ky]||{})[Xy]||[];My[jy]=Zy,jy==="from"?Dy.district="":Iy.district=""}function Vy(jy){return[jy.province,jy.city,jy.district,jy.detail].filter(Boolean).join("")}const Ny=ref(""),By=ref("");function Oy(){const jy=new Date,Ky=new Date(jy);Ky.setMinutes(0,0,0),Ky.setHours(Ky.getHours()+1);const Xy=new Date(Ky);Xy.setHours(Xy.getHours()+4),Ny.value=Ky.toISOString().slice(0,16),By.value=Xy.toISOString().slice(0,16)}const Fy=ref(null),zy=ref(null);watch([Fy,zy],([jy,Ky])=>{ka.demand.temperature=ka.demand.type==="cold"&&jy!=null&&Ky!=null?[jy,Ky]:null});async function Hy(){if(window.AMap)return window.AMap;const jy="4a9cbe5db372c8aaf0e68b72e6e7134e",Ky="169149541b6d8d92f1bff5da1acfd356";return window._AMapSecurityConfig={securityJsCode:Ky},await new Promise((Xy,Zy)=>{const Jy=document.createElement("script");Jy.src=`https://webapi.amap.com/maps?v=2.0&key=${jy}`,Jy.async=!0,Jy.onload=()=>{console.log("[AMap] JSAPI loaded"),Xy()},Jy.onerror=()=>Zy(new Error("AMap JSAPI 脚本加载失败")),document.head.appendChild(Jy)}),window.AMap}async function Gy(jy,...Ky){return new Promise(Xy=>{jy.plugin(Ky,()=>{console.log("[AMap] plugins ready:",Ky),Xy()})})}async function Wy(jy,Ky){return await Gy(jy,"AMap.Geocoder"),new Promise((Xy,Zy)=>{new jy.Geocoder({city:"全国"}).getLocation(Ky,(t_,Qy)=>{var r_;if(console.log("[AMap] geocode status=",t_,Qy),t_==="complete"&&((r_=Qy==null?void 0:Qy.geocodes)!=null&&r_.length)){const{lng:i_,lat:l_}=Qy.geocodes[0].location;Xy([i_,l_])}else Zy(new Error("地址解析失败: "+Ky))})})}async function Uy(){const jy=Vy(Dy),Ky=Vy(Iy);if(!jy||!Ky){alert("请完善出发地与目的地");return}console.log("[Form] submit clicked",{originAddr:jy,destAddr:Ky});try{const Xy=await Hy(),[Zy,Jy]=await Wy(Xy,jy),[t_,Qy]=await Wy(Xy,Ky);ka.origin={lat:Jy,lng:Zy},ka.destination={lat:Qy,lng:t_},ka.window=[new Date(Ny.value).toISOString(),new Date(By.value).toISOString()];const r_=JSON.parse(JSON.stringify(ka));ba("update:modelValue",r_),console.log("[Form] emit submit with query:",r_),ba("submit",r_)}catch(Xy){console.error("[Form] submit error",Xy),alert((Xy==null?void 0:Xy.message)||"地理编码失败，请检查浏览器扩展/网络后重试")}}function Yy(){Dy.province=Dy.city=Dy.district=Dy.detail="",Iy.province=Iy.city=Iy.district=Iy.detail="",Oy();const jy=_y({...ka,origin:{lat:0,lng:0},destination:{lat:0,lng:0},window:["",""],demand:{type:"",weightKg:0,temperature:null}});ba("update:modelValue",jy)}return onMounted(()=>{Ly(),Oy()}),(jy,Ky)=>(openBlock(),createBlock(FluentCard,{title:"运输需求（地址输入）",class:"mb-4 blue-card"},{default:withCtx(()=>[createBaseVNode("form",{onSubmit:withModifiers(Uy,["prevent"]),class:"grid gap-3"},[createBaseVNode("div",_hoisted_1$i,[Ky[21]||(Ky[21]=createBaseVNode("h4",{class:"sec-title"},"出发地",-1)),createBaseVNode("div",_hoisted_2$h,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ky[0]||(Ky[0]=Xy=>Dy.province=Xy),onChange:Ky[1]||(Ky[1]=Xy=>Py("from")),required:""},[Ky[18]||(Ky[18]=createBaseVNode("option",{value:"",disabled:""},"请选择省",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(Ay.value,Xy=>(openBlock(),createElementBlock("option",{key:"p-"+Xy,value:Xy},toDisplayString(Xy),9,_hoisted_3$g))),128))],544),[[vModelSelect,Dy.province]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ky[2]||(Ky[2]=Xy=>Dy.city=Xy),disabled:!Ey.from.length,onChange:Ky[3]||(Ky[3]=Xy=>Ry("from")),required:""},[Ky[19]||(Ky[19]=createBaseVNode("option",{value:"",disabled:""},"请选择市",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(Ey.from,Xy=>(openBlock(),createElementBlock("option",{key:"c-"+Xy,value:Xy},toDisplayString(Xy),9,_hoisted_5$g))),128))],40,_hoisted_4$g),[[vModelSelect,Dy.city]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ky[4]||(Ky[4]=Xy=>Dy.district=Xy),disabled:!My.from.length},[Ky[20]||(Ky[20]=createBaseVNode("option",{value:"",disabled:""},"请选择区",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(My.from,Xy=>(openBlock(),createElementBlock("option",{key:"d-"+Xy,value:Xy},toDisplayString(Xy),9,_hoisted_7$b))),128))],8,_hoisted_6$c),[[vModelSelect,Dy.district]])]),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Ky[5]||(Ky[5]=Xy=>Dy.detail=Xy),placeholder:"输入街道、门牌号等详细信息"},null,512),[[vModelText,Dy.detail]])]),createBaseVNode("div",_hoisted_8$b,[Ky[25]||(Ky[25]=createBaseVNode("h4",{class:"sec-title"},"目的地",-1)),createBaseVNode("div",_hoisted_9$b,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ky[6]||(Ky[6]=Xy=>Iy.province=Xy),onChange:Ky[7]||(Ky[7]=Xy=>Py("to")),required:""},[Ky[22]||(Ky[22]=createBaseVNode("option",{value:"",disabled:""},"请选择省",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(Ay.value,Xy=>(openBlock(),createElementBlock("option",{key:"pp-"+Xy,value:Xy},toDisplayString(Xy),9,_hoisted_10$b))),128))],544),[[vModelSelect,Iy.province]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ky[8]||(Ky[8]=Xy=>Iy.city=Xy),disabled:!Ey.to.length,onChange:Ky[9]||(Ky[9]=Xy=>Ry("to")),required:""},[Ky[23]||(Ky[23]=createBaseVNode("option",{value:"",disabled:""},"请选择市",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(Ey.to,Xy=>(openBlock(),createElementBlock("option",{key:"cc-"+Xy,value:Xy},toDisplayString(Xy),9,_hoisted_12$a))),128))],40,_hoisted_11$b),[[vModelSelect,Iy.city]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ky[10]||(Ky[10]=Xy=>Iy.district=Xy),disabled:!My.to.length},[Ky[24]||(Ky[24]=createBaseVNode("option",{value:"",disabled:""},"请选择区",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(My.to,Xy=>(openBlock(),createElementBlock("option",{key:"dd-"+Xy,value:Xy},toDisplayString(Xy),9,_hoisted_14$9))),128))],8,_hoisted_13$a),[[vModelSelect,Iy.district]])]),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Ky[11]||(Ky[11]=Xy=>Iy.detail=Xy),placeholder:"输入街道、门牌号等详细信息"},null,512),[[vModelText,Iy.detail]])]),createBaseVNode("div",_hoisted_15$9,[createBaseVNode("div",_hoisted_16$9,[Ky[28]||(Ky[28]=createBaseVNode("h4",{class:"sec-title"},"时间窗",-1)),createBaseVNode("div",_hoisted_17$8,[Ky[26]||(Ky[26]=createBaseVNode("label",null,"开始",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Ky[12]||(Ky[12]=Xy=>Ny.value=Xy),type:"datetime-local",required:""},null,512),[[vModelText,Ny.value]])]),createBaseVNode("div",_hoisted_18$8,[Ky[27]||(Ky[27]=createBaseVNode("label",null,"结束",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Ky[13]||(Ky[13]=Xy=>By.value=Xy),type:"datetime-local",required:""},null,512),[[vModelText,By.value]])])]),createBaseVNode("div",_hoisted_19$8,[Ky[34]||(Ky[34]=createBaseVNode("h4",{class:"sec-title"},"需求",-1)),createBaseVNode("div",_hoisted_20$7,[Ky[30]||(Ky[30]=createBaseVNode("label",null,"类型",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ky[14]||(Ky[14]=Xy=>ka.demand.type=Xy),required:""},Ky[29]||(Ky[29]=[createBaseVNode("option",{value:"",disabled:""},"请选择",-1),createBaseVNode("option",{value:"normal"},"普通",-1),createBaseVNode("option",{value:"cold"},"冷链",-1),createBaseVNode("option",{value:"hazmat"},"危化",-1),createBaseVNode("option",{value:"fragile"},"易碎",-1)]),512),[[vModelSelect,ka.demand.type]])]),createBaseVNode("div",_hoisted_21$6,[Ky[31]||(Ky[31]=createBaseVNode("label",null,"载重(kg)",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Ky[15]||(Ky[15]=Xy=>ka.demand.weightKg=Xy),type:"number",min:"1",required:""},null,512),[[vModelText,ka.demand.weightKg,void 0,{number:!0}]])]),ka.demand.type==="cold"?(openBlock(),createElementBlock("div",_hoisted_22$5,[Ky[33]||(Ky[33]=createBaseVNode("label",null,"温区(℃)",-1)),createBaseVNode("div",_hoisted_23$5,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Ky[16]||(Ky[16]=Xy=>Fy.value=Xy),type:"number",step:"0.1",placeholder:"min"},null,512),[[vModelText,Fy.value,void 0,{number:!0}]]),Ky[32]||(Ky[32]=createBaseVNode("span",{class:"sep"},"~",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Ky[17]||(Ky[17]=Xy=>zy.value=Xy),type:"number",step:"0.1",placeholder:"max"},null,512),[[vModelText,zy.value,void 0,{number:!0}]])])])):createCommentVNode("",!0)])]),createBaseVNode("div",{class:"actions"},[Ky[35]||(Ky[35]=createBaseVNode("button",{type:"submit",class:"btn primary"},"规划 / 查询",-1)),createBaseVNode("button",{type:"button",class:"btn",onClick:Yy},"清除")])],32)]),_:1}))}}),RecQueryForm=_export_sfc(_sfc_main$l,[["__scopeId","data-v-5f547bb2"]]),_hoisted_1$h={class:"toolbar"},_hoisted_2$g={class:"left"},_hoisted_3$f={class:"right"},_hoisted_4$f={class:"table-wrap"},_hoisted_5$f={class:"tab"},_hoisted_6$b={class:"name"},_hoisted_7$a={key:0,class:"tips"},_hoisted_8$a={key:1,class:"tips"},_hoisted_9$a={class:"num"},_hoisted_10$a={class:"cap"},_hoisted_11$a={key:0},_hoisted_12$9={key:1},_hoisted_13$9={key:2},_hoisted_14$8={class:"num"},_hoisted_15$8={class:"num"},_hoisted_16$8={class:"num"},_hoisted_17$7={class:"weather-info"},_hoisted_18$7={key:1,class:"weather-factors"},_hoisted_19$7={key:2,class:"no-weather"},_hoisted_20$6={class:"tags"},_hoisted_21$5=["disabled","onClick"],_sfc_main$k=defineComponent({__name:"RecResultTable",props:{items:{}},emits:["add-compare","open-compare"],setup(ha){const ua=ha,Sa=ref("score"),ba=computed(()=>ua.items.filter(Ay=>Ay.feasible).length),ka=computed(()=>{const Ay=[...ua.items];switch(Sa.value){case"distance":return Ay.sort((Ey,My)=>Ey.distanceKm-My.distanceKm);case"rating":return Ay.sort((Ey,My)=>My.vendor.metrics.rating-Ey.vendor.metrics.rating);case"price":return Ay.sort((Ey,My)=>Ey.vendor.metrics.priceIndex-My.vendor.metrics.priceIndex);case"onTime":return Ay.sort((Ey,My)=>My.vendor.metrics.onTimeRate-Ey.vendor.metrics.onTimeRate);case"weather":return Ay.sort((Ey,My)=>(My.weatherScore||0)-(Ey.weatherScore||0));default:return Ay.sort((Ey,My)=>My.score-Ey.score)}});function _y(Ay){switch(Ay){case"low":return"risk-low";case"medium":return"risk-medium";case"high":return"risk-high";case"extreme":return"risk-extreme";default:return""}}function Ty(Ay){return["天气适宜","天气一般","天气影响","恶劣天气","注意温控","防风加固","防水防湿","谨慎驾驶"].includes(Ay)?"weather-tag":""}return(Ay,Ey)=>(openBlock(),createBlock(FluentCard,{title:"匹配结果"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$g,[Ey[2]||(Ey[2]=createTextVNode("共 ",-1)),createBaseVNode("b",null,toDisplayString(Ay.items.length),1),Ey[3]||(Ey[3]=createTextVNode(" 条（可行：",-1)),createBaseVNode("b",null,toDisplayString(ba.value),1),Ey[4]||(Ey[4]=createTextVNode("）",-1))]),createBaseVNode("div",_hoisted_3$f,[Ey[6]||(Ey[6]=createBaseVNode("label",null,"排序",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ey[0]||(Ey[0]=My=>Sa.value=My)},Ey[5]||(Ey[5]=[createBaseVNode("option",{value:"score"},"综合",-1),createBaseVNode("option",{value:"distance"},"距离",-1),createBaseVNode("option",{value:"rating"},"评分",-1),createBaseVNode("option",{value:"price"},"价格指数",-1),createBaseVNode("option",{value:"onTime"},"准点率",-1),createBaseVNode("option",{value:"weather"},"天气适应性",-1)]),512),[[vModelSelect,Sa.value]]),createBaseVNode("button",{class:"btn small",onClick:Ey[1]||(Ey[1]=My=>Ay.$emit("open-compare"))},"打开对比")])]),createBaseVNode("div",_hoisted_4$f,[createBaseVNode("table",_hoisted_5$f,[Ey[7]||(Ey[7]=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{style:{width:"26%"}},"商家"),createBaseVNode("th",null,"距离(km)"),createBaseVNode("th",null,"能力"),createBaseVNode("th",null,"评分"),createBaseVNode("th",null,"准点率"),createBaseVNode("th",null,"价格指数"),createBaseVNode("th",null,"天气适应性"),createBaseVNode("th",null,"标签"),createBaseVNode("th",null,"操作")])],-1)),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.value,My=>{var Dy;return openBlock(),createElementBlock("tr",{key:My.vendor.id,class:normalizeClass({unfeasible:!My.feasible})},[createBaseVNode("td",null,[createBaseVNode("div",_hoisted_6$b,toDisplayString(My.vendor.name),1),My.feasible?(openBlock(),createElementBlock("div",_hoisted_8$a,"综合分："+toDisplayString(My.score),1)):(openBlock(),createElementBlock("div",_hoisted_7$a,toDisplayString(My.reasons.join("；")),1))]),createBaseVNode("td",_hoisted_9$a,toDisplayString(My.distanceKm.toFixed(1)),1),createBaseVNode("td",_hoisted_10$a,[createBaseVNode("span",null,"载重≤"+toDisplayString(My.vendor.capabilities.maxWeightKg)+"kg",1),My.vendor.capabilities.types.includes("cold")?(openBlock(),createElementBlock("span",_hoisted_11$a,"/ 冷链")):createCommentVNode("",!0),My.vendor.capabilities.types.includes("hazmat")?(openBlock(),createElementBlock("span",_hoisted_12$9,"/ 危化")):createCommentVNode("",!0),My.vendor.capabilities.cold?(openBlock(),createElementBlock("span",_hoisted_13$9,"/ "+toDisplayString(My.vendor.capabilities.cold.min)+"~"+toDisplayString(My.vendor.capabilities.cold.max)+"℃",1)):createCommentVNode("",!0)]),createBaseVNode("td",_hoisted_14$8,toDisplayString(My.vendor.metrics.rating.toFixed(1)),1),createBaseVNode("td",_hoisted_15$8,toDisplayString((My.vendor.metrics.onTimeRate*100).toFixed(0))+"%",1),createBaseVNode("td",_hoisted_16$8,toDisplayString(My.vendor.metrics.priceIndex.toFixed(2)),1),createBaseVNode("td",_hoisted_17$7,[My.weatherScore!==void 0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["weather-score",_y(My.weatherRisk)])},toDisplayString((My.weatherScore*100).toFixed(0))+"% ",3)):createCommentVNode("",!0),(Dy=My.weatherFactors)!=null&&Dy.length?(openBlock(),createElementBlock("div",_hoisted_18$7,toDisplayString(My.weatherFactors.join("、")),1)):createCommentVNode("",!0),My.weatherScore?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_19$7,"-"))]),createBaseVNode("td",null,[createBaseVNode("div",_hoisted_20$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(My.buckets,Iy=>(openBlock(),createElementBlock("span",{key:Iy,class:normalizeClass(["tag",Ty(Iy)])},toDisplayString(Iy),3))),128))])]),createBaseVNode("td",null,[createBaseVNode("button",{class:"btn small",disabled:!My.feasible,onClick:Iy=>Ay.$emit("add-compare",My.vendor)},"加入对比",8,_hoisted_21$5)])],2)}),128))])])])]),_:1}))}}),RecResultTable=_export_sfc(_sfc_main$k,[["__scopeId","data-v-3e35611a"]]),_hoisted_1$g={class:"head"},_hoisted_2$f={class:"title"},_hoisted_3$e={class:"body"},_hoisted_4$e={key:0,class:"empty"},_hoisted_5$e={key:1,class:"list"},_hoisted_6$a={class:"top"},_hoisted_7$9={class:"name"},_hoisted_8$9=["onClick"],_hoisted_9$9={class:"grid"},_hoisted_10$9={class:"tags"},_hoisted_11$9={key:0,class:"tag"},_sfc_main$j=defineComponent({__name:"CompareDrawer",props:{open:{type:Boolean},items:{}},emits:["close","remove"],setup(ha,{emit:ua}){const Sa=ha,ba=ua;function ka(Ty){(Ty.key==="Escape"||Ty.key==="Esc")&&Sa.open&&ba("close")}onMounted(()=>window.addEventListener("keydown",ka)),onBeforeUnmount(()=>window.removeEventListener("keydown",ka));function _y(Ty){return{normal:"普货",cold:"冷链",hazmat:"危化",fragile:"易碎"}[Ty]}return(Ty,Ay)=>(openBlock(),createElementBlock(Fragment,null,[Ty.open?(openBlock(),createElementBlock("div",{key:0,class:"backdrop",onClick:Ay[0]||(Ay[0]=Ey=>Ty.$emit("close"))})):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["drawer",{open:Ty.open}])},[createBaseVNode("div",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$f,"候选对比（"+toDisplayString(Ty.items.length)+"）",1),createBaseVNode("button",{class:"icon",onClick:Ay[1]||(Ay[1]=Ey=>Ty.$emit("close"))},"✕")]),createBaseVNode("div",_hoisted_3$e,[Ty.items.length===0?(openBlock(),createElementBlock("div",_hoisted_4$e,"从结果表格点击“加入对比”")):(openBlock(),createElementBlock("div",_hoisted_5$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ty.items,Ey=>(openBlock(),createElementBlock("div",{key:Ey.id,class:"card"},[createBaseVNode("div",_hoisted_6$a,[createBaseVNode("div",_hoisted_7$9,toDisplayString(Ey.name),1),createBaseVNode("button",{class:"remove",onClick:My=>Ty.$emit("remove",Ey.id)},"移除",8,_hoisted_8$9)]),createBaseVNode("div",_hoisted_9$9,[createBaseVNode("div",null,[Ay[2]||(Ay[2]=createBaseVNode("label",null,"载重",-1)),createBaseVNode("b",null,toDisplayString(Ey.capabilities.maxWeightKg),1),Ay[3]||(Ay[3]=createTextVNode("kg",-1))]),createBaseVNode("div",null,[Ay[4]||(Ay[4]=createBaseVNode("label",null,"服务半径",-1)),createBaseVNode("b",null,toDisplayString(Ey.serviceRadiusKm),1),Ay[5]||(Ay[5]=createTextVNode("km",-1))]),createBaseVNode("div",null,[Ay[6]||(Ay[6]=createBaseVNode("label",null,"评分",-1)),createBaseVNode("b",null,toDisplayString(Ey.metrics.rating.toFixed(1)),1)]),createBaseVNode("div",null,[Ay[7]||(Ay[7]=createBaseVNode("label",null,"准点率",-1)),createBaseVNode("b",null,toDisplayString((Ey.metrics.onTimeRate*100).toFixed(0)),1),Ay[8]||(Ay[8]=createTextVNode("%",-1))]),createBaseVNode("div",null,[Ay[9]||(Ay[9]=createBaseVNode("label",null,"价格指数",-1)),createBaseVNode("b",null,toDisplayString(Ey.metrics.priceIndex.toFixed(2)),1)]),createBaseVNode("div",null,[Ay[10]||(Ay[10]=createBaseVNode("label",null,"负载率",-1)),createBaseVNode("b",null,toDisplayString((Ey.metrics.capacityUtilization*100).toFixed(0)),1),Ay[11]||(Ay[11]=createTextVNode("%",-1))])]),createBaseVNode("div",_hoisted_10$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ey.capabilities.types,My=>(openBlock(),createElementBlock("span",{key:My,class:"tag"},"#"+toDisplayString(_y(My)),1))),128)),Ey.capabilities.cold?(openBlock(),createElementBlock("span",_hoisted_11$9,"#"+toDisplayString(Ey.capabilities.cold.min)+"~"+toDisplayString(Ey.capabilities.cold.max)+"℃",1)):createCommentVNode("",!0)])]))),128))]))])],2)],64))}}),CompareDrawer=_export_sfc(_sfc_main$j,[["__scopeId","data-v-4190af40"]]);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ha){return ha&&ha.__esModule&&Object.prototype.hasOwnProperty.call(ha,"default")?ha.default:ha}var dist$2={exports:{}};(function(ha,ua){(function(Sa,ba){ha.exports=ba()})(commonjsGlobal,function(){function Sa(Iy){var Ly=[];return Iy.AMapUI&&Ly.push(ba(Iy.AMapUI)),Iy.Loca&&Ly.push(ka(Iy.Loca)),Promise.all(Ly)}function ba(Iy){return new Promise(function(Ly,Py){var Ry=[];if(Iy.plugins)for(var Vy=0;Vy<Iy.plugins.length;Vy+=1)Ty.AMapUI.plugins.indexOf(Iy.plugins[Vy])==-1&&Ry.push(Iy.plugins[Vy]);if(Ay.AMapUI===_y.failed)Py("前次请求 AMapUI 失败");else if(Ay.AMapUI===_y.notload){Ay.AMapUI=_y.loading,Ty.AMapUI.version=Iy.version||Ty.AMapUI.version,Vy=Ty.AMapUI.version;var Ny=document.body||document.head,By=document.createElement("script");By.type="text/javascript",By.src="https://webapi.amap.com/ui/"+Vy+"/main.js",By.onerror=function(Oy){Ay.AMapUI=_y.failed,Py("请求 AMapUI 失败")},By.onload=function(){if(Ay.AMapUI=_y.loaded,Ry.length)window.AMapUI.loadUI(Ry,function(){for(var Oy=0,Fy=Ry.length;Oy<Fy;Oy++){var zy=Ry[Oy].split("/").slice(-1)[0];window.AMapUI[zy]=arguments[Oy]}for(Ly();Ey.AMapUI.length;)Ey.AMapUI.splice(0,1)[0]()});else for(Ly();Ey.AMapUI.length;)Ey.AMapUI.splice(0,1)[0]()},Ny.appendChild(By)}else Ay.AMapUI===_y.loaded?Iy.version&&Iy.version!==Ty.AMapUI.version?Py("不允许多个版本 AMapUI 混用"):Ry.length?window.AMapUI.loadUI(Ry,function(){for(var Oy=0,Fy=Ry.length;Oy<Fy;Oy++){var zy=Ry[Oy].split("/").slice(-1)[0];window.AMapUI[zy]=arguments[Oy]}Ly()}):Ly():Iy.version&&Iy.version!==Ty.AMapUI.version?Py("不允许多个版本 AMapUI 混用"):Ey.AMapUI.push(function(Oy){Oy?Py(Oy):Ry.length?window.AMapUI.loadUI(Ry,function(){for(var Fy=0,zy=Ry.length;Fy<zy;Fy++){var Hy=Ry[Fy].split("/").slice(-1)[0];window.AMapUI[Hy]=arguments[Fy]}Ly()}):Ly()})})}function ka(Iy){return new Promise(function(Ly,Py){if(Ay.Loca===_y.failed)Py("前次请求 Loca 失败");else if(Ay.Loca===_y.notload){Ay.Loca=_y.loading,Ty.Loca.version=Iy.version||Ty.Loca.version;var Ry=Ty.Loca.version,Vy=Ty.AMap.version.startsWith("2"),Ny=Ry.startsWith("2");if(Vy&&!Ny||!Vy&&Ny)Py("JSAPI 与 Loca 版本不对应！！");else{Vy=Ty.key,Ny=document.body||document.head;var By=document.createElement("script");By.type="text/javascript",By.src="https://webapi.amap.com/loca?v="+Ry+"&key="+Vy,By.onerror=function(Oy){Ay.Loca=_y.failed,Py("请求 AMapUI 失败")},By.onload=function(){for(Ay.Loca=_y.loaded,Ly();Ey.Loca.length;)Ey.Loca.splice(0,1)[0]()},Ny.appendChild(By)}}else Ay.Loca===_y.loaded?Iy.version&&Iy.version!==Ty.Loca.version?Py("不允许多个版本 Loca 混用"):Ly():Iy.version&&Iy.version!==Ty.Loca.version?Py("不允许多个版本 Loca 混用"):Ey.Loca.push(function(Oy){Oy?Py(Oy):Py()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var _y;(function(Iy){Iy.notload="notload",Iy.loading="loading",Iy.loaded="loaded",Iy.failed="failed"})(_y||(_y={}));var Ty={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},Ay={AMap:_y.notload,AMapUI:_y.notload,Loca:_y.notload},Ey={AMapUI:[],Loca:[]},My=[],Dy=function(Iy){typeof Iy=="function"&&(Ay.AMap===_y.loaded?Iy(window.AMap):My.push(Iy))};return{load:function(Iy){return new Promise(function(Ly,Py){if(Ay.AMap==_y.failed)Py("");else if(Ay.AMap==_y.notload){var Ry=Iy.key,Vy=Iy.version,Ny=Iy.plugins;Ry?(window.AMap&&location.host!=="lbs.amap.com"&&Py("禁止多种API加载方式混用"),Ty.key=Ry,Ty.AMap.version=Vy||Ty.AMap.version,Ty.AMap.plugins=Ny||Ty.AMap.plugins,Ay.AMap=_y.loading,Vy=document.body||document.head,window.___onAPILoaded=function(Oy){if(delete window.___onAPILoaded,Oy)Ay.AMap=_y.failed,Py(Oy);else for(Ay.AMap=_y.loaded,Sa(Iy).then(function(){Ly(window.AMap)}).catch(Py);My.length;)My.splice(0,1)[0]()},Ny=document.createElement("script"),Ny.type="text/javascript",Ny.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+Ty.AMap.version+"&key="+Ry+"&plugin="+Ty.AMap.plugins.join(","),Ny.onerror=function(Oy){Ay.AMap=_y.failed,Py(Oy)},Vy.appendChild(Ny)):Py("请填写key")}else if(Ay.AMap==_y.loaded)if(Iy.key&&Iy.key!==Ty.key)Py("多个不一致的 key");else if(Iy.version&&Iy.version!==Ty.AMap.version)Py("不允许多个版本 JSAPI 混用");else{if(Ry=[],Iy.plugins)for(Vy=0;Vy<Iy.plugins.length;Vy+=1)Ty.AMap.plugins.indexOf(Iy.plugins[Vy])==-1&&Ry.push(Iy.plugins[Vy]);Ry.length?window.AMap.plugin(Ry,function(){Sa(Iy).then(function(){Ly(window.AMap)}).catch(Py)}):Sa(Iy).then(function(){Ly(window.AMap)}).catch(Py)}else if(Iy.key&&Iy.key!==Ty.key)Py("多个不一致的 key");else if(Iy.version&&Iy.version!==Ty.AMap.version)Py("不允许多个版本 JSAPI 混用");else{var By=[];if(Iy.plugins)for(Vy=0;Vy<Iy.plugins.length;Vy+=1)Ty.AMap.plugins.indexOf(Iy.plugins[Vy])==-1&&By.push(Iy.plugins[Vy]);Dy(function(){By.length?window.AMap.plugin(By,function(){Sa(Iy).then(function(){Ly(window.AMap)}).catch(Py)}):Sa(Iy).then(function(){Ly(window.AMap)}).catch(Py)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,Ty={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},Ay={AMap:_y.notload,AMapUI:_y.notload,Loca:_y.notload},Ey={AMap:[],AMapUI:[],Loca:[]}}}})})(dist$2);var distExports=dist$2.exports;const AMapLoader=getDefaultExportFromCjs(distExports),_sfc_main$i=defineComponent({__name:"AmapRoute",props:{origin:{},destination:{},mode:{}},setup(ha,{expose:ua}){const Sa=ha,ba=ref(null);let ka,_y,Ty,Ay=[];async function Ey(){ka=await AMapLoader.load({key:"4a9cbe5db372c8aaf0e68b72e6e7134e",version:"2.0",plugins:["AMap.Driving","AMap.Walking","AMap.Riding","AMap.Transfer","AMap.TruckDriving"]}),_y=new ka.Map(ba.value,{viewMode:"2D",zoom:11,resizeEnable:!0,jogEnable:!0,defaultCursor:"pointer"}),await My(Sa.mode??"driving")}async function My(Py){var Ry;try{(Ry=Ty==null?void 0:Ty.clear)==null||Ry.call(Ty)}catch{}Ty=null,Py==="driving"?Ty=new ka.Driving({map:_y,showTraffic:!1,policy:ka.DrivingPolicy.LEAST_TIME}):Py==="walking"?Ty=new ka.Walking({map:_y}):Py==="riding"?Ty=new ka.Riding({map:_y}):Py==="transit"?Ty=new ka.Transfer({map:_y,city:"全国"}):Py==="truck"&&(Ty=new ka.TruckDriving({map:_y,size:4}))}function Dy(){var Py;Ay.forEach(Ry=>_y.remove(Ry)),Ay=[];try{(Py=Ty==null?void 0:Ty.clear)==null||Py.call(Ty)}catch{}}function Iy(Py){const Ry=new ka.Polyline({path:Py,strokeOpacity:.9,strokeWeight:6});_y.add(Ry),Ay.push(Ry),_y.setFitView(Ay,!1,[80,80,80,380])}async function Ly(Py,Ry,Vy=Sa.mode??"driving"){if(!ka||!_y)return;await My(Vy),Dy();const Ny=new ka.LngLat(Py.lng,Py.lat),By=new ka.LngLat(Ry.lng,Ry.lat);Vy==="transit"?Ty.search(Ny,By,(Oy,Fy)=>{var Hy,Gy,Wy;if(Oy!=="complete"||!Fy)return;const zy=((Wy=(Gy=(Hy=Fy.plans)==null?void 0:Hy[0])==null?void 0:Gy.segments)==null?void 0:Wy.flatMap(Uy=>{var Yy;return((Yy=Uy.transit)==null?void 0:Yy.path)||[]}))||[];zy.length&&Iy(zy)}):Ty.search(Ny,By,(Oy,Fy)=>{var Hy,Gy,Wy,Uy,Yy;if(Oy!=="complete"||!Fy)return;const zy=((Gy=(Hy=Fy.routes)==null?void 0:Hy[0])==null?void 0:Gy.polyline)||((Yy=(Uy=(Wy=Fy.paths)==null?void 0:Wy[0])==null?void 0:Uy.steps)==null?void 0:Yy.flatMap(jy=>jy.polyline))||[];zy.length&&Iy(zy)})}return onMounted(Ey),watch(()=>[Sa.origin,Sa.destination,Sa.mode],Py=>{const[Ry,Vy,Ny]=Py;Ry&&Vy&&Ly(Ry,Vy,Ny||"driving")}),ua({route:Ly,clearRoute:Dy}),(Py,Ry)=>(openBlock(),createElementBlock("div",{ref_key:"mapEl",ref:ba,class:"amap-container"},null,512))}}),AmapRoute=_export_sfc(_sfc_main$i,[["__scopeId","data-v-f965d8ed"]]),toRad=ha=>ha*Math.PI/180,haversine=(ha,ua)=>{const ba=toRad(ua.lat-ha.lat),ka=toRad(ua.lng-ha.lng),_y=toRad(ha.lat),Ty=toRad(ua.lat),Ay=Math.sin(ba/2)**2+Math.cos(_y)*Math.cos(Ty)*Math.sin(ka/2)**2;return 2*6371*Math.asin(Math.sqrt(Ay))},clamp$1=(ha,ua=0,Sa=1)=>Math.max(ua,Math.min(Sa,ha));function hardCheck(ha,ua,Sa){const ba=[];if(ha.demand.weightKg>ua.capabilities.maxWeightKg&&ba.push(`重量超过上限(${ua.capabilities.maxWeightKg}kg)`),ua.capabilities.types.includes(ha.demand.type)||ba.push(`不支持类型 ${ha.demand.type}`),ha.demand.type==="cold"){const ka=ua.capabilities.cold,_y=ha.demand.temperature;!ka||!_y?ba.push("冷链/温控能力缺失"):(_y[0]<ka.min||_y[1]>ka.max)&&ba.push(`温区不覆盖(${ka.min}~${ka.max}℃)`)}return Sa>ua.serviceRadiusKm&&ba.push(`超出服务半径(${ua.serviceRadiusKm}km)`),{ok:ba.length===0,reasons:ba}}function softScore(ha,ua,Sa){const ba=1-clamp$1(Sa/50),ka=ua.metrics.rating/5,_y=clamp$1(ua.metrics.onTimeRate),Ty=clamp$1(1.2-ua.metrics.priceIndex,0,1),Ay=1-clamp$1(ua.metrics.capacityUtilization);return Math.round(100*(.25*ba+.25*_y+.2*Ty+.2*ka+.1*Ay))}function bucketize(ha,ua,Sa){const ba=[];return Sa<=10&&ba.push("就近优先"),ua.capabilities.cold&&ua.capabilities.types.includes("cold")&&ba.push("冷链认证"),ua.capabilities.maxWeightKg>=1e4&&ba.push("大吨位"),ua.metrics.priceIndex<.9&&ba.push("价格友好"),ua.metrics.rating>=4.5&&ba.push("高评分"),ba}function matchVendors(ha,ua){return ua.map(Sa=>{const ba=haversine(ha.origin,Sa.location),{ok:ka,reasons:_y}=hardCheck(ha,Sa,ba),Ty=ka?softScore(ha,Sa,ba):0,Ay=bucketize(ha,Sa,ba);return{vendor:Sa,distanceKm:Math.round(ba*10)/10,feasible:ka,reasons:_y,buckets:Ay,score:Ty}}).sort((Sa,ba)=>ba.score-Sa.score)}const _hoisted_1$f={class:"page"},_hoisted_2$e=["title"],_sfc_main$h=defineComponent({__name:"Recommend",setup(ha){const ua=ref(null),Sa=ref("driving");ref([]);const ba=ref([]),ka=ref(!1),_y=ref([]),Ty=ref({origin:{lat:31.2304,lng:121.4737},destination:{lat:31.299,lng:121.3846},window:[new Date().toISOString(),new Date(Date.now()+4*36e5).toISOString()],demand:{type:"normal",weightKg:500,temperature:null}});function Ay(Dy){var Iy;!(Dy!=null&&Dy.origin)||!(Dy!=null&&Dy.destination)||(Iy=ua.value)==null||Iy.route(Dy.origin,Dy.destination,Sa.value)}function Ey(Dy){_y.value.find(Iy=>Iy.id===Dy.id)||_y.value.push(Dy),ka.value=!0}function My(Dy){_y.value=_y.value.filter(Iy=>Iy.id!==Dy)}return(Dy,Iy)=>(openBlock(),createElementBlock("div",_hoisted_1$f,[createVNode$1(RecQueryForm,{modelValue:Ty.value,"onUpdate:modelValue":Iy[0]||(Iy[0]=Ly=>Ty.value=Ly),onSubmit:Ay},null,8,["modelValue"]),createVNode$1(AmapRoute,{ref_key:"amapRef",ref:ua,origin:Ty.value.origin,destination:Ty.value.destination,mode:Sa.value},null,8,["origin","destination","mode"]),createVNode$1(RecResultTable,{items:ba.value,onAddCompare:Ey,onOpenCompare:Iy[1]||(Iy[1]=Ly=>ka.value=!0)},null,8,["items"]),createVNode$1(CompareDrawer,{open:ka.value,items:_y.value,onClose:Iy[2]||(Iy[2]=Ly=>ka.value=!1),onRemove:My},null,8,["open","items"]),createBaseVNode("button",{class:"compare-fab",onClick:Iy[3]||(Iy[3]=Ly=>ka.value=!ka.value),title:_y.value.length?`已选 ${_y.value.length} 家`:"暂无候选，先从表格中加入对比"}," 对比("+toDisplayString(_y.value.length)+") ",9,_hoisted_2$e)]))}}),Recommend=_export_sfc(_sfc_main$h,[["__scopeId","data-v-2e421d3d"]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isRouteComponent(ha){return typeof ha=="object"||"displayName"in ha||"props"in ha||"__vccOpts"in ha}function isESModule(ha){return ha.__esModule||ha[Symbol.toStringTag]==="Module"||ha.default&&isRouteComponent(ha.default)}const assign=Object.assign;function applyToParams(ha,ua){const Sa={};for(const ba in ua){const ka=ua[ba];Sa[ba]=isArray$2(ka)?ka.map(ha):ha(ka)}return Sa}const noop$1=()=>{},isArray$2=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(ha){return encodeURI(""+ha).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(ha){return commonEncode(ha).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(ha){return commonEncode(ha).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(ha){return encodeQueryValue(ha).replace(EQUAL_RE,"%3D")}function encodePath(ha){return commonEncode(ha).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(ha){return ha==null?"":encodePath(ha).replace(SLASH_RE,"%2F")}function decode$1(ha){try{return decodeURIComponent(""+ha)}catch{}return""+ha}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=ha=>ha.replace(TRAILING_SLASH_RE,"");function parseURL(ha,ua,Sa="/"){let ba,ka={},_y="",Ty="";const Ay=ua.indexOf("#");let Ey=ua.indexOf("?");return Ay<Ey&&Ay>=0&&(Ey=-1),Ey>-1&&(ba=ua.slice(0,Ey),_y=ua.slice(Ey+1,Ay>-1?Ay:ua.length),ka=ha(_y)),Ay>-1&&(ba=ba||ua.slice(0,Ay),Ty=ua.slice(Ay,ua.length)),ba=resolveRelativePath(ba??ua,Sa),{fullPath:ba+(_y&&"?")+_y+Ty,path:ba,query:ka,hash:decode$1(Ty)}}function stringifyURL(ha,ua){const Sa=ua.query?ha(ua.query):"";return ua.path+(Sa&&"?")+Sa+(ua.hash||"")}function stripBase(ha,ua){return!ua||!ha.toLowerCase().startsWith(ua.toLowerCase())?ha:ha.slice(ua.length)||"/"}function isSameRouteLocation(ha,ua,Sa){const ba=ua.matched.length-1,ka=Sa.matched.length-1;return ba>-1&&ba===ka&&isSameRouteRecord(ua.matched[ba],Sa.matched[ka])&&isSameRouteLocationParams(ua.params,Sa.params)&&ha(ua.query)===ha(Sa.query)&&ua.hash===Sa.hash}function isSameRouteRecord(ha,ua){return(ha.aliasOf||ha)===(ua.aliasOf||ua)}function isSameRouteLocationParams(ha,ua){if(Object.keys(ha).length!==Object.keys(ua).length)return!1;for(const Sa in ha)if(!isSameRouteLocationParamsValue(ha[Sa],ua[Sa]))return!1;return!0}function isSameRouteLocationParamsValue(ha,ua){return isArray$2(ha)?isEquivalentArray(ha,ua):isArray$2(ua)?isEquivalentArray(ua,ha):ha===ua}function isEquivalentArray(ha,ua){return isArray$2(ua)?ha.length===ua.length&&ha.every((Sa,ba)=>Sa===ua[ba]):ha.length===1&&ha[0]===ua}function resolveRelativePath(ha,ua){if(ha.startsWith("/"))return ha;if(!ha)return ua;const Sa=ua.split("/"),ba=ha.split("/"),ka=ba[ba.length-1];(ka===".."||ka===".")&&ba.push("");let _y=Sa.length-1,Ty,Ay;for(Ty=0;Ty<ba.length;Ty++)if(Ay=ba[Ty],Ay!==".")if(Ay==="..")_y>1&&_y--;else break;return Sa.slice(0,_y).join("/")+"/"+ba.slice(Ty).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(ha){ha.pop="pop",ha.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(ha){ha.back="back",ha.forward="forward",ha.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(ha){if(!ha)if(isBrowser){const ua=document.querySelector("base");ha=ua&&ua.getAttribute("href")||"/",ha=ha.replace(/^\w+:\/\/[^\/]+/,"")}else ha="/";return ha[0]!=="/"&&ha[0]!=="#"&&(ha="/"+ha),removeTrailingSlash(ha)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(ha,ua){return ha.replace(BEFORE_HASH_RE,"#")+ua}function getElementPosition(ha,ua){const Sa=document.documentElement.getBoundingClientRect(),ba=ha.getBoundingClientRect();return{behavior:ua.behavior,left:ba.left-Sa.left-(ua.left||0),top:ba.top-Sa.top-(ua.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(ha){let ua;if("el"in ha){const Sa=ha.el,ba=typeof Sa=="string"&&Sa.startsWith("#"),ka=typeof Sa=="string"?ba?document.getElementById(Sa.slice(1)):document.querySelector(Sa):Sa;if(!ka)return;ua=getElementPosition(ka,ha)}else ua=ha;"scrollBehavior"in document.documentElement.style?window.scrollTo(ua):window.scrollTo(ua.left!=null?ua.left:window.scrollX,ua.top!=null?ua.top:window.scrollY)}function getScrollKey(ha,ua){return(history.state?history.state.position-ua:-1)+ha}const scrollPositions=new Map;function saveScrollPosition(ha,ua){scrollPositions.set(ha,ua)}function getSavedScrollPosition(ha){const ua=scrollPositions.get(ha);return scrollPositions.delete(ha),ua}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(ha,ua){const{pathname:Sa,search:ba,hash:ka}=ua,_y=ha.indexOf("#");if(_y>-1){let Ay=ka.includes(ha.slice(_y))?ha.slice(_y).length:1,Ey=ka.slice(Ay);return Ey[0]!=="/"&&(Ey="/"+Ey),stripBase(Ey,"")}return stripBase(Sa,ha)+ba+ka}function useHistoryListeners(ha,ua,Sa,ba){let ka=[],_y=[],Ty=null;const Ay=({state:Ly})=>{const Py=createCurrentLocation(ha,location),Ry=Sa.value,Vy=ua.value;let Ny=0;if(Ly){if(Sa.value=Py,ua.value=Ly,Ty&&Ty===Ry){Ty=null;return}Ny=Vy?Ly.position-Vy.position:0}else ba(Py);ka.forEach(By=>{By(Sa.value,Ry,{delta:Ny,type:NavigationType.pop,direction:Ny?Ny>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function Ey(){Ty=Sa.value}function My(Ly){ka.push(Ly);const Py=()=>{const Ry=ka.indexOf(Ly);Ry>-1&&ka.splice(Ry,1)};return _y.push(Py),Py}function Dy(){const{history:Ly}=window;Ly.state&&Ly.replaceState(assign({},Ly.state,{scroll:computeScrollPosition()}),"")}function Iy(){for(const Ly of _y)Ly();_y=[],window.removeEventListener("popstate",Ay),window.removeEventListener("beforeunload",Dy)}return window.addEventListener("popstate",Ay),window.addEventListener("beforeunload",Dy,{passive:!0}),{pauseListeners:Ey,listen:My,destroy:Iy}}function buildState(ha,ua,Sa,ba=!1,ka=!1){return{back:ha,current:ua,forward:Sa,replaced:ba,position:window.history.length,scroll:ka?computeScrollPosition():null}}function useHistoryStateNavigation(ha){const{history:ua,location:Sa}=window,ba={value:createCurrentLocation(ha,Sa)},ka={value:ua.state};ka.value||_y(ba.value,{back:null,current:ba.value,forward:null,position:ua.length-1,replaced:!0,scroll:null},!0);function _y(Ey,My,Dy){const Iy=ha.indexOf("#"),Ly=Iy>-1?(Sa.host&&document.querySelector("base")?ha:ha.slice(Iy))+Ey:createBaseLocation()+ha+Ey;try{ua[Dy?"replaceState":"pushState"](My,"",Ly),ka.value=My}catch(Py){console.error(Py),Sa[Dy?"replace":"assign"](Ly)}}function Ty(Ey,My){const Dy=assign({},ua.state,buildState(ka.value.back,Ey,ka.value.forward,!0),My,{position:ka.value.position});_y(Ey,Dy,!0),ba.value=Ey}function Ay(Ey,My){const Dy=assign({},ka.value,ua.state,{forward:Ey,scroll:computeScrollPosition()});_y(Dy.current,Dy,!0);const Iy=assign({},buildState(ba.value,Ey,null),{position:Dy.position+1},My);_y(Ey,Iy,!1),ba.value=Ey}return{location:ba,state:ka,push:Ay,replace:Ty}}function createWebHistory(ha){ha=normalizeBase(ha);const ua=useHistoryStateNavigation(ha),Sa=useHistoryListeners(ha,ua.state,ua.location,ua.replace);function ba(_y,Ty=!0){Ty||Sa.pauseListeners(),history.go(_y)}const ka=assign({location:"",base:ha,go:ba,createHref:createHref.bind(null,ha)},ua,Sa);return Object.defineProperty(ka,"location",{enumerable:!0,get:()=>ua.location.value}),Object.defineProperty(ka,"state",{enumerable:!0,get:()=>ua.state.value}),ka}function isRouteLocation(ha){return typeof ha=="string"||ha&&typeof ha=="object"}function isRouteName(ha){return typeof ha=="string"||typeof ha=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(ha){ha[ha.aborted=4]="aborted",ha[ha.cancelled=8]="cancelled",ha[ha.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(ha,ua){return assign(new Error,{type:ha,[NavigationFailureSymbol]:!0},ua)}function isNavigationFailure(ha,ua){return ha instanceof Error&&NavigationFailureSymbol in ha&&(ua==null||!!(ha.type&ua))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(ha,ua){const Sa=assign({},BASE_PATH_PARSER_OPTIONS,ua),ba=[];let ka=Sa.start?"^":"";const _y=[];for(const My of ha){const Dy=My.length?[]:[90];Sa.strict&&!My.length&&(ka+="/");for(let Iy=0;Iy<My.length;Iy++){const Ly=My[Iy];let Py=40+(Sa.sensitive?.25:0);if(Ly.type===0)Iy||(ka+="/"),ka+=Ly.value.replace(REGEX_CHARS_RE,"\\$&"),Py+=40;else if(Ly.type===1){const{value:Ry,repeatable:Vy,optional:Ny,regexp:By}=Ly;_y.push({name:Ry,repeatable:Vy,optional:Ny});const Oy=By||BASE_PARAM_PATTERN;if(Oy!==BASE_PARAM_PATTERN){Py+=10;try{new RegExp(`(${Oy})`)}catch(zy){throw new Error(`Invalid custom RegExp for param "${Ry}" (${Oy}): `+zy.message)}}let Fy=Vy?`((?:${Oy})(?:/(?:${Oy}))*)`:`(${Oy})`;Iy||(Fy=Ny&&My.length<2?`(?:/${Fy})`:"/"+Fy),Ny&&(Fy+="?"),ka+=Fy,Py+=20,Ny&&(Py+=-8),Vy&&(Py+=-20),Oy===".*"&&(Py+=-50)}Dy.push(Py)}ba.push(Dy)}if(Sa.strict&&Sa.end){const My=ba.length-1;ba[My][ba[My].length-1]+=.7000000000000001}Sa.strict||(ka+="/?"),Sa.end?ka+="$":Sa.strict&&!ka.endsWith("/")&&(ka+="(?:/|$)");const Ty=new RegExp(ka,Sa.sensitive?"":"i");function Ay(My){const Dy=My.match(Ty),Iy={};if(!Dy)return null;for(let Ly=1;Ly<Dy.length;Ly++){const Py=Dy[Ly]||"",Ry=_y[Ly-1];Iy[Ry.name]=Py&&Ry.repeatable?Py.split("/"):Py}return Iy}function Ey(My){let Dy="",Iy=!1;for(const Ly of ha){(!Iy||!Dy.endsWith("/"))&&(Dy+="/"),Iy=!1;for(const Py of Ly)if(Py.type===0)Dy+=Py.value;else if(Py.type===1){const{value:Ry,repeatable:Vy,optional:Ny}=Py,By=Ry in My?My[Ry]:"";if(isArray$2(By)&&!Vy)throw new Error(`Provided param "${Ry}" is an array but it is not repeatable (* or + modifiers)`);const Oy=isArray$2(By)?By.join("/"):By;if(!Oy)if(Ny)Ly.length<2&&(Dy.endsWith("/")?Dy=Dy.slice(0,-1):Iy=!0);else throw new Error(`Missing required param "${Ry}"`);Dy+=Oy}}return Dy||"/"}return{re:Ty,score:ba,keys:_y,parse:Ay,stringify:Ey}}function compareScoreArray(ha,ua){let Sa=0;for(;Sa<ha.length&&Sa<ua.length;){const ba=ua[Sa]-ha[Sa];if(ba)return ba;Sa++}return ha.length<ua.length?ha.length===1&&ha[0]===80?-1:1:ha.length>ua.length?ua.length===1&&ua[0]===80?1:-1:0}function comparePathParserScore(ha,ua){let Sa=0;const ba=ha.score,ka=ua.score;for(;Sa<ba.length&&Sa<ka.length;){const _y=compareScoreArray(ba[Sa],ka[Sa]);if(_y)return _y;Sa++}if(Math.abs(ka.length-ba.length)===1){if(isLastScoreNegative(ba))return 1;if(isLastScoreNegative(ka))return-1}return ka.length-ba.length}function isLastScoreNegative(ha){const ua=ha[ha.length-1];return ha.length>0&&ua[ua.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(ha){if(!ha)return[[]];if(ha==="/")return[[ROOT_TOKEN]];if(!ha.startsWith("/"))throw new Error(`Invalid path "${ha}"`);function ua(Py){throw new Error(`ERR (${Sa})/"${My}": ${Py}`)}let Sa=0,ba=Sa;const ka=[];let _y;function Ty(){_y&&ka.push(_y),_y=[]}let Ay=0,Ey,My="",Dy="";function Iy(){My&&(Sa===0?_y.push({type:0,value:My}):Sa===1||Sa===2||Sa===3?(_y.length>1&&(Ey==="*"||Ey==="+")&&ua(`A repeatable param (${My}) must be alone in its segment. eg: '/:ids+.`),_y.push({type:1,value:My,regexp:Dy,repeatable:Ey==="*"||Ey==="+",optional:Ey==="*"||Ey==="?"})):ua("Invalid state to consume buffer"),My="")}function Ly(){My+=Ey}for(;Ay<ha.length;){if(Ey=ha[Ay++],Ey==="\\"&&Sa!==2){ba=Sa,Sa=4;continue}switch(Sa){case 0:Ey==="/"?(My&&Iy(),Ty()):Ey===":"?(Iy(),Sa=1):Ly();break;case 4:Ly(),Sa=ba;break;case 1:Ey==="("?Sa=2:VALID_PARAM_RE.test(Ey)?Ly():(Iy(),Sa=0,Ey!=="*"&&Ey!=="?"&&Ey!=="+"&&Ay--);break;case 2:Ey===")"?Dy[Dy.length-1]=="\\"?Dy=Dy.slice(0,-1)+Ey:Sa=3:Dy+=Ey;break;case 3:Iy(),Sa=0,Ey!=="*"&&Ey!=="?"&&Ey!=="+"&&Ay--,Dy="";break;default:ua("Unknown state");break}}return Sa===2&&ua(`Unfinished custom RegExp for param "${My}"`),Iy(),Ty(),ka}function createRouteRecordMatcher(ha,ua,Sa){const ba=tokensToParser(tokenizePath(ha.path),Sa),ka=assign(ba,{record:ha,parent:ua,children:[],alias:[]});return ua&&!ka.record.aliasOf==!ua.record.aliasOf&&ua.children.push(ka),ka}function createRouterMatcher(ha,ua){const Sa=[],ba=new Map;ua=mergeOptions({strict:!1,end:!0,sensitive:!1},ua);function ka(Iy){return ba.get(Iy)}function _y(Iy,Ly,Py){const Ry=!Py,Vy=normalizeRouteRecord(Iy);Vy.aliasOf=Py&&Py.record;const Ny=mergeOptions(ua,Iy),By=[Vy];if("alias"in Iy){const zy=typeof Iy.alias=="string"?[Iy.alias]:Iy.alias;for(const Hy of zy)By.push(normalizeRouteRecord(assign({},Vy,{components:Py?Py.record.components:Vy.components,path:Hy,aliasOf:Py?Py.record:Vy})))}let Oy,Fy;for(const zy of By){const{path:Hy}=zy;if(Ly&&Hy[0]!=="/"){const Gy=Ly.record.path,Wy=Gy[Gy.length-1]==="/"?"":"/";zy.path=Ly.record.path+(Hy&&Wy+Hy)}if(Oy=createRouteRecordMatcher(zy,Ly,Ny),Py?Py.alias.push(Oy):(Fy=Fy||Oy,Fy!==Oy&&Fy.alias.push(Oy),Ry&&Iy.name&&!isAliasRecord(Oy)&&Ty(Iy.name)),isMatchable(Oy)&&Ey(Oy),Vy.children){const Gy=Vy.children;for(let Wy=0;Wy<Gy.length;Wy++)_y(Gy[Wy],Oy,Py&&Py.children[Wy])}Py=Py||Oy}return Fy?()=>{Ty(Fy)}:noop$1}function Ty(Iy){if(isRouteName(Iy)){const Ly=ba.get(Iy);Ly&&(ba.delete(Iy),Sa.splice(Sa.indexOf(Ly),1),Ly.children.forEach(Ty),Ly.alias.forEach(Ty))}else{const Ly=Sa.indexOf(Iy);Ly>-1&&(Sa.splice(Ly,1),Iy.record.name&&ba.delete(Iy.record.name),Iy.children.forEach(Ty),Iy.alias.forEach(Ty))}}function Ay(){return Sa}function Ey(Iy){const Ly=findInsertionIndex(Iy,Sa);Sa.splice(Ly,0,Iy),Iy.record.name&&!isAliasRecord(Iy)&&ba.set(Iy.record.name,Iy)}function My(Iy,Ly){let Py,Ry={},Vy,Ny;if("name"in Iy&&Iy.name){if(Py=ba.get(Iy.name),!Py)throw createRouterError(1,{location:Iy});Ny=Py.record.name,Ry=assign(paramsFromLocation(Ly.params,Py.keys.filter(Fy=>!Fy.optional).concat(Py.parent?Py.parent.keys.filter(Fy=>Fy.optional):[]).map(Fy=>Fy.name)),Iy.params&&paramsFromLocation(Iy.params,Py.keys.map(Fy=>Fy.name))),Vy=Py.stringify(Ry)}else if(Iy.path!=null)Vy=Iy.path,Py=Sa.find(Fy=>Fy.re.test(Vy)),Py&&(Ry=Py.parse(Vy),Ny=Py.record.name);else{if(Py=Ly.name?ba.get(Ly.name):Sa.find(Fy=>Fy.re.test(Ly.path)),!Py)throw createRouterError(1,{location:Iy,currentLocation:Ly});Ny=Py.record.name,Ry=assign({},Ly.params,Iy.params),Vy=Py.stringify(Ry)}const By=[];let Oy=Py;for(;Oy;)By.unshift(Oy.record),Oy=Oy.parent;return{name:Ny,path:Vy,params:Ry,matched:By,meta:mergeMetaFields(By)}}ha.forEach(Iy=>_y(Iy));function Dy(){Sa.length=0,ba.clear()}return{addRoute:_y,resolve:My,removeRoute:Ty,clearRoutes:Dy,getRoutes:Ay,getRecordMatcher:ka}}function paramsFromLocation(ha,ua){const Sa={};for(const ba of ua)ba in ha&&(Sa[ba]=ha[ba]);return Sa}function normalizeRouteRecord(ha){const ua={path:ha.path,redirect:ha.redirect,name:ha.name,meta:ha.meta||{},aliasOf:ha.aliasOf,beforeEnter:ha.beforeEnter,props:normalizeRecordProps(ha),children:ha.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in ha?ha.components||null:ha.component&&{default:ha.component}};return Object.defineProperty(ua,"mods",{value:{}}),ua}function normalizeRecordProps(ha){const ua={},Sa=ha.props||!1;if("component"in ha)ua.default=Sa;else for(const ba in ha.components)ua[ba]=typeof Sa=="object"?Sa[ba]:Sa;return ua}function isAliasRecord(ha){for(;ha;){if(ha.record.aliasOf)return!0;ha=ha.parent}return!1}function mergeMetaFields(ha){return ha.reduce((ua,Sa)=>assign(ua,Sa.meta),{})}function mergeOptions(ha,ua){const Sa={};for(const ba in ha)Sa[ba]=ba in ua?ua[ba]:ha[ba];return Sa}function findInsertionIndex(ha,ua){let Sa=0,ba=ua.length;for(;Sa!==ba;){const _y=Sa+ba>>1;comparePathParserScore(ha,ua[_y])<0?ba=_y:Sa=_y+1}const ka=getInsertionAncestor(ha);return ka&&(ba=ua.lastIndexOf(ka,ba-1)),ba}function getInsertionAncestor(ha){let ua=ha;for(;ua=ua.parent;)if(isMatchable(ua)&&comparePathParserScore(ha,ua)===0)return ua}function isMatchable({record:ha}){return!!(ha.name||ha.components&&Object.keys(ha.components).length||ha.redirect)}function parseQuery(ha){const ua={};if(ha===""||ha==="?")return ua;const ba=(ha[0]==="?"?ha.slice(1):ha).split("&");for(let ka=0;ka<ba.length;++ka){const _y=ba[ka].replace(PLUS_RE," "),Ty=_y.indexOf("="),Ay=decode$1(Ty<0?_y:_y.slice(0,Ty)),Ey=Ty<0?null:decode$1(_y.slice(Ty+1));if(Ay in ua){let My=ua[Ay];isArray$2(My)||(My=ua[Ay]=[My]),My.push(Ey)}else ua[Ay]=Ey}return ua}function stringifyQuery(ha){let ua="";for(let Sa in ha){const ba=ha[Sa];if(Sa=encodeQueryKey(Sa),ba==null){ba!==void 0&&(ua+=(ua.length?"&":"")+Sa);continue}(isArray$2(ba)?ba.map(_y=>_y&&encodeQueryValue(_y)):[ba&&encodeQueryValue(ba)]).forEach(_y=>{_y!==void 0&&(ua+=(ua.length?"&":"")+Sa,_y!=null&&(ua+="="+_y))})}return ua}function normalizeQuery(ha){const ua={};for(const Sa in ha){const ba=ha[Sa];ba!==void 0&&(ua[Sa]=isArray$2(ba)?ba.map(ka=>ka==null?null:""+ka):ba==null?ba:""+ba)}return ua}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let ha=[];function ua(ba){return ha.push(ba),()=>{const ka=ha.indexOf(ba);ka>-1&&ha.splice(ka,1)}}function Sa(){ha=[]}return{add:ua,list:()=>ha.slice(),reset:Sa}}function guardToPromiseFn(ha,ua,Sa,ba,ka,_y=Ty=>Ty()){const Ty=ba&&(ba.enterCallbacks[ka]=ba.enterCallbacks[ka]||[]);return()=>new Promise((Ay,Ey)=>{const My=Ly=>{Ly===!1?Ey(createRouterError(4,{from:Sa,to:ua})):Ly instanceof Error?Ey(Ly):isRouteLocation(Ly)?Ey(createRouterError(2,{from:ua,to:Ly})):(Ty&&ba.enterCallbacks[ka]===Ty&&typeof Ly=="function"&&Ty.push(Ly),Ay())},Dy=_y(()=>ha.call(ba&&ba.instances[ka],ua,Sa,My));let Iy=Promise.resolve(Dy);ha.length<3&&(Iy=Iy.then(My)),Iy.catch(Ly=>Ey(Ly))})}function extractComponentsGuards(ha,ua,Sa,ba,ka=_y=>_y()){const _y=[];for(const Ty of ha)for(const Ay in Ty.components){let Ey=Ty.components[Ay];if(!(ua!=="beforeRouteEnter"&&!Ty.instances[Ay]))if(isRouteComponent(Ey)){const Dy=(Ey.__vccOpts||Ey)[ua];Dy&&_y.push(guardToPromiseFn(Dy,Sa,ba,Ty,Ay,ka))}else{let My=Ey();_y.push(()=>My.then(Dy=>{if(!Dy)throw new Error(`Couldn't resolve component "${Ay}" at "${Ty.path}"`);const Iy=isESModule(Dy)?Dy.default:Dy;Ty.mods[Ay]=Dy,Ty.components[Ay]=Iy;const Py=(Iy.__vccOpts||Iy)[ua];return Py&&guardToPromiseFn(Py,Sa,ba,Ty,Ay,ka)()}))}}return _y}function useLink(ha){const ua=inject(routerKey),Sa=inject(routeLocationKey),ba=computed(()=>{const Ey=unref(ha.to);return ua.resolve(Ey)}),ka=computed(()=>{const{matched:Ey}=ba.value,{length:My}=Ey,Dy=Ey[My-1],Iy=Sa.matched;if(!Dy||!Iy.length)return-1;const Ly=Iy.findIndex(isSameRouteRecord.bind(null,Dy));if(Ly>-1)return Ly;const Py=getOriginalPath(Ey[My-2]);return My>1&&getOriginalPath(Dy)===Py&&Iy[Iy.length-1].path!==Py?Iy.findIndex(isSameRouteRecord.bind(null,Ey[My-2])):Ly}),_y=computed(()=>ka.value>-1&&includesParams(Sa.params,ba.value.params)),Ty=computed(()=>ka.value>-1&&ka.value===Sa.matched.length-1&&isSameRouteLocationParams(Sa.params,ba.value.params));function Ay(Ey={}){if(guardEvent(Ey)){const My=ua[unref(ha.replace)?"replace":"push"](unref(ha.to)).catch(noop$1);return ha.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>My),My}return Promise.resolve()}return{route:ba,href:computed(()=>ba.value.href),isActive:_y,isExactActive:Ty,navigate:Ay}}function preferSingleVNode(ha){return ha.length===1?ha[0]:ha}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink,setup(ha,{slots:ua}){const Sa=reactive(useLink(ha)),{options:ba}=inject(routerKey),ka=computed(()=>({[getLinkClass(ha.activeClass,ba.linkActiveClass,"router-link-active")]:Sa.isActive,[getLinkClass(ha.exactActiveClass,ba.linkExactActiveClass,"router-link-exact-active")]:Sa.isExactActive}));return()=>{const _y=ua.default&&preferSingleVNode(ua.default(Sa));return ha.custom?_y:h$1("a",{"aria-current":Sa.isExactActive?ha.ariaCurrentValue:null,href:Sa.href,onClick:Sa.navigate,class:ka.value},_y)}}}),RouterLink=RouterLinkImpl;function guardEvent(ha){if(!(ha.metaKey||ha.altKey||ha.ctrlKey||ha.shiftKey)&&!ha.defaultPrevented&&!(ha.button!==void 0&&ha.button!==0)){if(ha.currentTarget&&ha.currentTarget.getAttribute){const ua=ha.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(ua))return}return ha.preventDefault&&ha.preventDefault(),!0}}function includesParams(ha,ua){for(const Sa in ua){const ba=ua[Sa],ka=ha[Sa];if(typeof ba=="string"){if(ba!==ka)return!1}else if(!isArray$2(ka)||ka.length!==ba.length||ba.some((_y,Ty)=>_y!==ka[Ty]))return!1}return!0}function getOriginalPath(ha){return ha?ha.aliasOf?ha.aliasOf.path:ha.path:""}const getLinkClass=(ha,ua,Sa)=>ha??ua??Sa,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(ha,{attrs:ua,slots:Sa}){const ba=inject(routerViewLocationKey),ka=computed(()=>ha.route||ba.value),_y=inject(viewDepthKey,0),Ty=computed(()=>{let My=unref(_y);const{matched:Dy}=ka.value;let Iy;for(;(Iy=Dy[My])&&!Iy.components;)My++;return My}),Ay=computed(()=>ka.value.matched[Ty.value]);provide(viewDepthKey,computed(()=>Ty.value+1)),provide(matchedRouteKey,Ay),provide(routerViewLocationKey,ka);const Ey=ref();return watch(()=>[Ey.value,Ay.value,ha.name],([My,Dy,Iy],[Ly,Py,Ry])=>{Dy&&(Dy.instances[Iy]=My,Py&&Py!==Dy&&My&&My===Ly&&(Dy.leaveGuards.size||(Dy.leaveGuards=Py.leaveGuards),Dy.updateGuards.size||(Dy.updateGuards=Py.updateGuards))),My&&Dy&&(!Py||!isSameRouteRecord(Dy,Py)||!Ly)&&(Dy.enterCallbacks[Iy]||[]).forEach(Vy=>Vy(My))},{flush:"post"}),()=>{const My=ka.value,Dy=ha.name,Iy=Ay.value,Ly=Iy&&Iy.components[Dy];if(!Ly)return normalizeSlot(Sa.default,{Component:Ly,route:My});const Py=Iy.props[Dy],Ry=Py?Py===!0?My.params:typeof Py=="function"?Py(My):Py:null,Ny=h$1(Ly,assign({},Ry,ua,{onVnodeUnmounted:By=>{By.component.isUnmounted&&(Iy.instances[Dy]=null)},ref:Ey}));return normalizeSlot(Sa.default,{Component:Ny,route:My})||Ny}}});function normalizeSlot(ha,ua){if(!ha)return null;const Sa=ha(ua);return Sa.length===1?Sa[0]:Sa}const RouterView=RouterViewImpl;function createRouter(ha){const ua=createRouterMatcher(ha.routes,ha),Sa=ha.parseQuery||parseQuery,ba=ha.stringifyQuery||stringifyQuery,ka=ha.history,_y=useCallbacks(),Ty=useCallbacks(),Ay=useCallbacks(),Ey=shallowRef(START_LOCATION_NORMALIZED);let My=START_LOCATION_NORMALIZED;isBrowser&&ha.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const Dy=applyToParams.bind(null,v_=>""+v_),Iy=applyToParams.bind(null,encodeParam),Ly=applyToParams.bind(null,decode$1);function Py(v_,g_){let p_,o_;return isRouteName(v_)?(p_=ua.getRecordMatcher(v_),o_=g_):o_=v_,ua.addRoute(o_,p_)}function Ry(v_){const g_=ua.getRecordMatcher(v_);g_&&ua.removeRoute(g_)}function Vy(){return ua.getRoutes().map(v_=>v_.record)}function Ny(v_){return!!ua.getRecordMatcher(v_)}function By(v_,g_){if(g_=assign({},g_||Ey.value),typeof v_=="string"){const a_=parseURL(Sa,v_,g_.path),s_=ua.resolve({path:a_.path},g_),u_=ka.createHref(a_.fullPath);return assign(a_,s_,{params:Ly(s_.params),hash:decode$1(a_.hash),redirectedFrom:void 0,href:u_})}let p_;if(v_.path!=null)p_=assign({},v_,{path:parseURL(Sa,v_.path,g_.path).path});else{const a_=assign({},v_.params);for(const s_ in a_)a_[s_]==null&&delete a_[s_];p_=assign({},v_,{params:Iy(a_)}),g_.params=Iy(g_.params)}const o_=ua.resolve(p_,g_),n_=v_.hash||"";o_.params=Dy(Ly(o_.params));const qy=stringifyURL(ba,assign({},v_,{hash:encodeHash(n_),path:o_.path})),e_=ka.createHref(qy);return assign({fullPath:qy,hash:n_,query:ba===stringifyQuery?normalizeQuery(v_.query):v_.query||{}},o_,{redirectedFrom:void 0,href:e_})}function Oy(v_){return typeof v_=="string"?parseURL(Sa,v_,Ey.value.path):assign({},v_)}function Fy(v_,g_){if(My!==v_)return createRouterError(8,{from:g_,to:v_})}function zy(v_){return Wy(v_)}function Hy(v_){return zy(assign(Oy(v_),{replace:!0}))}function Gy(v_){const g_=v_.matched[v_.matched.length-1];if(g_&&g_.redirect){const{redirect:p_}=g_;let o_=typeof p_=="function"?p_(v_):p_;return typeof o_=="string"&&(o_=o_.includes("?")||o_.includes("#")?o_=Oy(o_):{path:o_},o_.params={}),assign({query:v_.query,hash:v_.hash,params:o_.path!=null?{}:v_.params},o_)}}function Wy(v_,g_){const p_=My=By(v_),o_=Ey.value,n_=v_.state,qy=v_.force,e_=v_.replace===!0,a_=Gy(p_);if(a_)return Wy(assign(Oy(a_),{state:typeof a_=="object"?assign({},n_,a_.state):n_,force:qy,replace:e_}),g_||p_);const s_=p_;s_.redirectedFrom=g_;let u_;return!qy&&isSameRouteLocation(ba,o_,p_)&&(u_=createRouterError(16,{to:s_,from:o_}),d_(o_,o_,!0,!1)),(u_?Promise.resolve(u_):jy(s_,o_)).catch(h_=>isNavigationFailure(h_)?isNavigationFailure(h_,2)?h_:c_(h_):i_(h_,s_,o_)).then(h_=>{if(h_){if(isNavigationFailure(h_,2))return Wy(assign({replace:e_},Oy(h_.to),{state:typeof h_.to=="object"?assign({},n_,h_.to.state):n_,force:qy}),g_||s_)}else h_=Xy(s_,o_,!0,e_,n_);return Ky(s_,o_,h_),h_})}function Uy(v_,g_){const p_=Fy(v_,g_);return p_?Promise.reject(p_):Promise.resolve()}function Yy(v_){const g_=b_.values().next().value;return g_&&typeof g_.runWithContext=="function"?g_.runWithContext(v_):v_()}function jy(v_,g_){let p_;const[o_,n_,qy]=extractChangingRecords(v_,g_);p_=extractComponentsGuards(o_.reverse(),"beforeRouteLeave",v_,g_);for(const a_ of o_)a_.leaveGuards.forEach(s_=>{p_.push(guardToPromiseFn(s_,v_,g_))});const e_=Uy.bind(null,v_,g_);return p_.push(e_),A_(p_).then(()=>{p_=[];for(const a_ of _y.list())p_.push(guardToPromiseFn(a_,v_,g_));return p_.push(e_),A_(p_)}).then(()=>{p_=extractComponentsGuards(n_,"beforeRouteUpdate",v_,g_);for(const a_ of n_)a_.updateGuards.forEach(s_=>{p_.push(guardToPromiseFn(s_,v_,g_))});return p_.push(e_),A_(p_)}).then(()=>{p_=[];for(const a_ of qy)if(a_.beforeEnter)if(isArray$2(a_.beforeEnter))for(const s_ of a_.beforeEnter)p_.push(guardToPromiseFn(s_,v_,g_));else p_.push(guardToPromiseFn(a_.beforeEnter,v_,g_));return p_.push(e_),A_(p_)}).then(()=>(v_.matched.forEach(a_=>a_.enterCallbacks={}),p_=extractComponentsGuards(qy,"beforeRouteEnter",v_,g_,Yy),p_.push(e_),A_(p_))).then(()=>{p_=[];for(const a_ of Ty.list())p_.push(guardToPromiseFn(a_,v_,g_));return p_.push(e_),A_(p_)}).catch(a_=>isNavigationFailure(a_,8)?a_:Promise.reject(a_))}function Ky(v_,g_,p_){Ay.list().forEach(o_=>Yy(()=>o_(v_,g_,p_)))}function Xy(v_,g_,p_,o_,n_){const qy=Fy(v_,g_);if(qy)return qy;const e_=g_===START_LOCATION_NORMALIZED,a_=isBrowser?history.state:{};p_&&(o_||e_?ka.replace(v_.fullPath,assign({scroll:e_&&a_&&a_.scroll},n_)):ka.push(v_.fullPath,n_)),Ey.value=v_,d_(v_,g_,p_,e_),c_()}let Zy;function Jy(){Zy||(Zy=ka.listen((v_,g_,p_)=>{if(!$_.listening)return;const o_=By(v_),n_=Gy(o_);if(n_){Wy(assign(n_,{replace:!0,force:!0}),o_).catch(noop$1);return}My=o_;const qy=Ey.value;isBrowser&&saveScrollPosition(getScrollKey(qy.fullPath,p_.delta),computeScrollPosition()),jy(o_,qy).catch(e_=>isNavigationFailure(e_,12)?e_:isNavigationFailure(e_,2)?(Wy(assign(Oy(e_.to),{force:!0}),o_).then(a_=>{isNavigationFailure(a_,20)&&!p_.delta&&p_.type===NavigationType.pop&&ka.go(-1,!1)}).catch(noop$1),Promise.reject()):(p_.delta&&ka.go(-p_.delta,!1),i_(e_,o_,qy))).then(e_=>{e_=e_||Xy(o_,qy,!1),e_&&(p_.delta&&!isNavigationFailure(e_,8)?ka.go(-p_.delta,!1):p_.type===NavigationType.pop&&isNavigationFailure(e_,20)&&ka.go(-1,!1)),Ky(o_,qy,e_)}).catch(noop$1)}))}let t_=useCallbacks(),Qy=useCallbacks(),r_;function i_(v_,g_,p_){c_(v_);const o_=Qy.list();return o_.length?o_.forEach(n_=>n_(v_,g_,p_)):console.error(v_),Promise.reject(v_)}function l_(){return r_&&Ey.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((v_,g_)=>{t_.add([v_,g_])})}function c_(v_){return r_||(r_=!v_,Jy(),t_.list().forEach(([g_,p_])=>v_?p_(v_):g_()),t_.reset()),v_}function d_(v_,g_,p_,o_){const{scrollBehavior:n_}=ha;if(!isBrowser||!n_)return Promise.resolve();const qy=!p_&&getSavedScrollPosition(getScrollKey(v_.fullPath,0))||(o_||!p_)&&history.state&&history.state.scroll||null;return nextTick().then(()=>n_(v_,g_,qy)).then(e_=>e_&&scrollToPosition(e_)).catch(e_=>i_(e_,v_,g_))}const f_=v_=>ka.go(v_);let m_;const b_=new Set,$_={currentRoute:Ey,listening:!0,addRoute:Py,removeRoute:Ry,clearRoutes:ua.clearRoutes,hasRoute:Ny,getRoutes:Vy,resolve:By,options:ha,push:zy,replace:Hy,go:f_,back:()=>f_(-1),forward:()=>f_(1),beforeEach:_y.add,beforeResolve:Ty.add,afterEach:Ay.add,onError:Qy.add,isReady:l_,install(v_){const g_=this;v_.component("RouterLink",RouterLink),v_.component("RouterView",RouterView),v_.config.globalProperties.$router=g_,Object.defineProperty(v_.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(Ey)}),isBrowser&&!m_&&Ey.value===START_LOCATION_NORMALIZED&&(m_=!0,zy(ka.location).catch(n_=>{}));const p_={};for(const n_ in START_LOCATION_NORMALIZED)Object.defineProperty(p_,n_,{get:()=>Ey.value[n_],enumerable:!0});v_.provide(routerKey,g_),v_.provide(routeLocationKey,shallowReactive(p_)),v_.provide(routerViewLocationKey,Ey);const o_=v_.unmount;b_.add(v_),v_.unmount=function(){b_.delete(v_),b_.size<1&&(My=START_LOCATION_NORMALIZED,Zy&&Zy(),Zy=null,Ey.value=START_LOCATION_NORMALIZED,m_=!1,r_=!1),o_()}}};function A_(v_){return v_.reduce((g_,p_)=>g_.then(()=>Yy(p_)),Promise.resolve())}return $_}function extractChangingRecords(ha,ua){const Sa=[],ba=[],ka=[],_y=Math.max(ua.matched.length,ha.matched.length);for(let Ty=0;Ty<_y;Ty++){const Ay=ua.matched[Ty];Ay&&(ha.matched.find(My=>isSameRouteRecord(My,Ay))?ba.push(Ay):Sa.push(Ay));const Ey=ha.matched[Ty];Ey&&(ua.matched.find(My=>isSameRouteRecord(My,Ey))||ka.push(Ey))}return[Sa,ba,ka]}function useRouter(){return inject(routerKey)}function useRoute(ha){return inject(routeLocationKey)}const _hoisted_1$e={class:"weather-tooltip-header"},_hoisted_2$d={class:"weather-tooltip-content"},_hoisted_3$d={class:"weather-main"},_hoisted_4$d={class:"weather-icon"},_hoisted_5$d=["src","alt"],_hoisted_6$9={class:"weather-info"},_hoisted_7$8={class:"temperature"},_hoisted_8$8={class:"weather-desc"},_hoisted_9$8={class:"weather-details"},_hoisted_10$8={class:"detail-item"},_hoisted_11$8={class:"value"},_hoisted_12$8={class:"detail-item"},_hoisted_13$8={class:"value"},_hoisted_14$7={class:"detail-item"},_hoisted_15$7={class:"value"},_hoisted_16$7={class:"detail-item"},_hoisted_17$6={class:"value"},_hoisted_18$6={class:"risk-level"},_hoisted_19$6={key:0,class:"risk-factors"},_sfc_main$g=defineComponent({__name:"WeatherTooltip",props:{visible:{type:Boolean,default:!1},data:{default:()=>({})},x:{default:0},y:{default:0}},emits:["close"],setup(ha,{emit:ua}){const Sa=ha,ba=ua,ka=computed(()=>({left:`${Sa.x}px`,top:`${Sa.y}px`,transform:"translate(-50%, -100%)",zIndex:1e6})),_y=computed(()=>Sa.data.icon?`https://a.hecdn.net/img/common/icon/202106d/${Sa.data.icon}.png`:"/src/assets/weather-default.svg");function Ty(Ey){return{low:"低风险",medium:"中等风险",high:"高风险",extreme:"极高风险"}[Ey]||"未知"}function Ay(){ba("close")}return(Ey,My)=>{var Dy;return Ey.visible?(openBlock(),createElementBlock("div",{key:0,class:"weather-tooltip",style:normalizeStyle$1(ka.value)},[createBaseVNode("div",_hoisted_1$e,[createBaseVNode("h4",null,toDisplayString(Ey.data.location||"天气信息"),1),createBaseVNode("button",{class:"close-btn",onClick:Ay},"×")]),createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$d,[createBaseVNode("div",_hoisted_4$d,[createBaseVNode("img",{src:_y.value,alt:Ey.data.weather||"未知"},null,8,_hoisted_5$d)]),createBaseVNode("div",_hoisted_6$9,[createBaseVNode("div",_hoisted_7$8,toDisplayString(Ey.data.temperature)+"°C",1),createBaseVNode("div",_hoisted_8$8,toDisplayString(Ey.data.weather),1)])]),createBaseVNode("div",_hoisted_9$8,[createBaseVNode("div",_hoisted_10$8,[My[0]||(My[0]=createBaseVNode("span",{class:"label"},"体感温度",-1)),createBaseVNode("span",_hoisted_11$8,toDisplayString(Ey.data.feelsLike)+"°C",1)]),createBaseVNode("div",_hoisted_12$8,[My[1]||(My[1]=createBaseVNode("span",{class:"label"},"湿度",-1)),createBaseVNode("span",_hoisted_13$8,toDisplayString(Ey.data.humidity)+"%",1)]),createBaseVNode("div",_hoisted_14$7,[My[2]||(My[2]=createBaseVNode("span",{class:"label"},"风速",-1)),createBaseVNode("span",_hoisted_15$7,toDisplayString(Ey.data.windSpeed)+" km/h",1)]),createBaseVNode("div",_hoisted_16$7,[My[3]||(My[3]=createBaseVNode("span",{class:"label"},"能见度",-1)),createBaseVNode("span",_hoisted_17$6,toDisplayString(Ey.data.visibility)+" km",1)])]),Ey.data.riskLevel?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["risk-info",`risk-${Ey.data.riskLevel}`])},[My[4]||(My[4]=createBaseVNode("div",{class:"risk-label"},"物流风险",-1)),createBaseVNode("div",_hoisted_18$6,toDisplayString(Ty(Ey.data.riskLevel)),1),(Dy=Ey.data.riskFactors)!=null&&Dy.length?(openBlock(),createElementBlock("div",_hoisted_19$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ey.data.riskFactors,Iy=>(openBlock(),createElementBlock("div",{key:Iy,class:"risk-factor"}," • "+toDisplayString(Iy),1))),128))])):createCommentVNode("",!0)],2)):createCommentVNode("",!0)])],4)):createCommentVNode("",!0)}}}),WeatherTooltip=_export_sfc(_sfc_main$g,[["__scopeId","data-v-55506909"]]);class WeatherService{constructor(){I_(this,"baseUrl","https://n84nmt9v5f.re.qweatherapi.com/v7");I_(this,"apiKey","");this.apiKey="4cbe4daab16940e3966c5d630c451c92"}setApiKey(ua){this.apiKey=ua}async getWeather(ua){if(!this.apiKey)throw new Error("请设置VITE_QWEATHER_KEY环境变量");try{let Sa;typeof ua=="string"?Sa=ua:Sa=`${ua.lng},${ua.lat}`;const[ba,ka]=await Promise.all([fetch(`${this.baseUrl}/weather/now?location=${Sa}&key=${this.apiKey}`),fetch(`${this.baseUrl}/weather/7d?location=${Sa}&key=${this.apiKey}`)]);if(!ba.ok||!ka.ok)throw new Error("天气数据获取失败");const _y=await ba.json(),Ty=await ka.json();if(_y.code!=="200"||Ty.code!=="200")throw new Error(`天气API错误: ${_y.code} ${Ty.code}`);return this.formatWeatherData(_y,Ty)}catch(Sa){throw console.error("获取天气数据失败:",Sa),Sa}}async getRouteWeather(ua){const Sa=ua.map(ba=>this.getWeather(ba));return Promise.all(Sa)}async getDisasterWarning(ua){if(!this.apiKey)throw new Error("请设置VITE_QWEATHER_KEY环境变量");try{let Sa;typeof ua=="string"?Sa=ua:Sa=`${ua.lng},${ua.lat}`;const ba=await fetch(`${this.baseUrl}/warning/now?location=${Sa}&key=${this.apiKey}`);if(!ba.ok)throw new Error("灾害预警数据获取失败");const ka=await ba.json();if(ka.code!=="200")throw new Error(`预警API错误: ${ka.code}`);return(ka.warning||[]).map(Ty=>({id:Ty.id||Math.random().toString(36).substr(2,9),title:Ty.title||"预警信息",type:Ty.type||"未知类型",level:Ty.level||"blue",status:Ty.status||"active",text:Ty.text||"",startTime:Ty.startTime||new Date().toISOString(),endTime:Ty.endTime,areas:Ty.areas&&Array.isArray(Ty.areas)?Ty.areas:Ty.area&&Array.isArray(Ty.area)?Ty.area:Ty.locationName?[Ty.locationName]:["未指定区域"]}))}catch(Sa){return console.error("获取灾害预警失败:",Sa),[]}}async getProvinceWeather(){const ua={北京:"101010100",天津:"101030100",河北:"101090101",山西:"101100101",内蒙古:"101080101",辽宁:"101070101",吉林:"101060101",黑龙江:"101050101",上海:"101020100",江苏:"101190101",浙江:"101210101",安徽:"101220101",福建:"101230101",江西:"101240101",山东:"101120101",河南:"101180101",湖北:"101200101",湖南:"101250101",广东:"101280101",广西:"101300101",海南:"101310101",重庆:"101040100",四川:"101270101",贵州:"101260101",云南:"101290101",西藏:"101140101",陕西:"101110101",甘肃:"101160101",青海:"101150101",宁夏:"101170101",新疆:"101130101"},Sa={};try{const ba=Object.entries(ua).map(async([ka,_y])=>{try{const Ay=await(await fetch(`${this.baseUrl}/weather/now?location=${_y}&key=${this.apiKey}`)).json();Ay.code==="200"&&Ay.now&&(Sa[ka]={temp:parseInt(Ay.now.temp),weather:Ay.now.text,color:this.getTempColor(parseInt(Ay.now.temp))})}catch(Ty){console.warn(`获取${ka}天气失败:`,Ty)}});return await Promise.allSettled(ba),Sa}catch(ba){return console.error("获取省份天气失败:",ba),{}}}getTempColor(ua){return ua>=35?"#8B0000":ua>=30?"#FF4500":ua>=25?"#FF8C00":ua>=20?"#FFD700":ua>=15?"#ADFF2F":ua>=10?"#00FF7F":ua>=5?"#00BFFF":ua>=0?"#4169E1":ua>=-10?"#8A2BE2":"#4B0082"}formatWeatherData(ua,Sa){var _y;const ba=ua.now,ka=ua.location||Sa.location;return{location:{name:(ka==null?void 0:ka.name)||"未知",lat:parseFloat((ka==null?void 0:ka.lat)||"0"),lon:parseFloat((ka==null?void 0:ka.lon)||"0")},current:{temp:parseInt(ba.temp),feelsLike:parseInt(ba.feelsLike),humidity:parseInt(ba.humidity),pressure:parseInt(ba.pressure),visibility:parseInt(ba.vis),windSpeed:parseInt(ba.windSpeed),windDir:parseInt(ba.wind360),weather:ba.text,icon:ba.icon,updateTime:ba.obsTime},forecast:((_y=Sa.daily)==null?void 0:_y.map(Ty=>({date:Ty.fxDate,tempMax:parseInt(Ty.tempMax),tempMin:parseInt(Ty.tempMin),weather:Ty.textDay,icon:Ty.iconDay,windSpeed:parseInt(Ty.windSpeedDay),windDir:parseInt(Ty.wind360Day),humidity:parseInt(Ty.humidity),pressure:parseInt(Ty.pressure),precipitation:parseFloat(Ty.precip)})))||[]}}getWeatherImpact(ua){const Sa=[];let ba=1;ua.current.temp>35||ua.current.temp<-10?(Sa.push("极端温度"),ba*=.7):(ua.current.temp>30||ua.current.temp<0)&&(Sa.push("不适宜温度"),ba*=.85),ua.current.windSpeed>20?(Sa.push("强风"),ba*=.8):ua.current.windSpeed>15&&(Sa.push("中等风力"),ba*=.9),(ua.current.weather.includes("雨")||ua.current.weather.includes("雪")||ua.current.weather.includes("雾"))&&(Sa.push("降水天气"),ba*=.8),ua.current.visibility<5?(Sa.push("低能见度"),ba*=.7):ua.current.visibility<10&&(Sa.push("能见度一般"),ba*=.9);let _y;return ba>=.9?_y="low":ba>=.8?_y="medium":ba>=.7?_y="high":_y="extreme",{level:_y,factors:Sa,score:ba}}}const weatherService=new WeatherService,_hoisted_1$d={class:"weather-page"},_hoisted_2$c={class:"weather-grid"},_hoisted_3$c={key:0,class:"province-grid"},_hoisted_4$c={class:"province-name"},_hoisted_5$c={class:"province-temp"},_hoisted_6$8={class:"province-weather"},_hoisted_7$7={key:1,class:"loading"},_hoisted_8$7={key:2,class:"no-data"},_hoisted_9$7={key:0,class:"current-route-info"},_hoisted_10$7={class:"route-point"},_hoisted_11$7={class:"point-name"},_hoisted_12$7={class:"route-point"},_hoisted_13$7={class:"point-name"},_hoisted_14$6={class:"layer-controls"},_hoisted_15$6={class:"layer-toggle"},_hoisted_16$6={class:"layer-toggle"},_hoisted_17$5={key:1,class:"map-container"},_hoisted_18$5={key:3,class:"route-analysis"},_hoisted_19$5={class:"risk-score"},_hoisted_20$5={key:0,class:"critical-sections"},_hoisted_21$4={class:"section-risk"},_hoisted_22$4={class:"section-severity"},_hoisted_23$4={class:"section-recommendation"},_hoisted_24$4={key:1,class:"alternatives"},_hoisted_25$4={class:"alt-description"},_hoisted_26$3={class:"alt-distance"},_hoisted_27$3={class:"alt-risk"},_hoisted_28$2={key:2,class:"timing-info"},_hoisted_29$2={key:0,class:"timing-item"},_hoisted_30$2={key:1,class:"timing-item"},_hoisted_31$2={key:2,class:"timing-item"},_hoisted_32$2={key:0,class:"warnings-list"},_hoisted_33$1={class:"warning-header"},_hoisted_34$1={class:"warning-type"},_hoisted_35={class:"warning-level"},_hoisted_36={class:"warning-title"},_hoisted_37={class:"warning-areas"},_hoisted_38={class:"warning-logistics"},_hoisted_39={key:1,class:"loading"},_hoisted_40={key:2,class:"no-warnings"},_sfc_main$f=defineComponent({__name:"WeatherAnalysis",setup(ha){const ua=useRoute(),Sa=ref({}),ba=ref(null),ka=ref([]),_y=ref({province:!1,route:!1,warnings:!1}),Ty=ref("北京市"),Ay=ref("上海市"),Ey=ref(null),My=ref(null),Dy=ref(null),Iy=ref(!1),Ly=ref(!1),Py=ref(!0),Ry=ref(!0),Vy=ref(!1);let Ny=null,By=null,Oy=[];const Fy=ref(!1),zy=ref({}),Hy=ref({x:0,y:0}),Gy=ref([{name:"北京",lng:116.397428,lat:39.90923},{name:"上海",lng:121.473701,lat:31.230416},{name:"广州",lng:113.280637,lat:23.125178},{name:"深圳",lng:114.085947,lat:22.547},{name:"杭州",lng:120.153576,lat:30.287459},{name:"南京",lng:118.767413,lat:32.041544},{name:"武汉",lng:114.298572,lat:30.584355},{name:"成都",lng:104.065735,lat:30.659462},{name:"重庆",lng:106.504962,lat:29.533155},{name:"西安",lng:108.948024,lat:34.263161},{name:"天津",lng:117.190182,lat:39.125596},{name:"苏州",lng:120.619585,lat:31.299379},{name:"青岛",lng:120.355173,lat:36.082982},{name:"郑州",lng:113.625368,lat:34.746599},{name:"长沙",lng:112.982279,lat:28.19409}]);async function Wy(){_y.value.province=!0;try{const o_=await weatherService.getProvinceWeather(),n_={};Object.entries(o_).forEach(([qy,e_])=>{const a_=(s_,u_)=>u_.includes("暴雨")||u_.includes("雷暴")||u_.includes("冰雹")?"extreme":u_.includes("雨")||u_.includes("雪")||u_.includes("雾")||s_>35||s_<-10?"high":u_.includes("阴")||u_.includes("云")||s_>30||s_<0?"medium":"low";n_[qy]={temperature:e_.temp,weather:e_.weather,color:e_.color,riskLevel:a_(e_.temp,e_.weather)}}),Sa.value=n_}catch(o_){console.error("加载省份天气失败:",o_)}finally{_y.value.province=!1}}async function Uy(){if(!(!Ty.value||!Ay.value)){_y.value.route=!0;try{await nextTick(),Ny&&A_(Ty.value,Ay.value);const o_={overallRisk:"medium",riskScore:.75,criticalSections:[{startPoint:{lat:39.9042,lng:116.4074},endPoint:{lat:31.2304,lng:121.4737},riskType:"途经强降雨区域",severity:6,recommendation:"建议绕行或延后2-3小时出发"}],alternativeRoutes:[{description:"经京沪高速绕行",additionalDistance:45,reducedRisk:.3}],timing:{bestDepartureTime:"明日6:00-8:00",worstConditions:"今日14:00-18:00（强降雨时段）",optimalWindow:["06:00","08:00"]}};ba.value=o_}catch(o_){console.error("路径天气分析失败:",o_)}finally{_y.value.route=!1}}}async function Yy(){_y.value.warnings=!0;try{const o_=[{lat:39.9042,lng:116.4074},{lat:31.2304,lng:121.4737},{lat:23.1291,lng:113.2644}],n_=[];for(const qy of o_){const a_=(await weatherService.getDisasterWarning(qy)).map(s_=>{var u_,h_,__,y_,w_,S_,C_,x_;return{id:s_.id||Math.random().toString(36).substr(2,9),type:s_.type||"未知类型",level:(u_=s_.level)!=null&&u_.includes("红")?"red":(h_=s_.level)!=null&&h_.includes("橙")?"orange":(__=s_.level)!=null&&__.includes("黄")?"yellow":"blue",title:s_.title||"预警信息",description:s_.text||"",startTime:s_.startTime||new Date().toISOString(),endTime:s_.endTime,areas:s_.areas&&Array.isArray(s_.areas)?s_.areas:["未指定区域"],logisticsImpact:{roadClosure:((y_=s_.level)==null?void 0:y_.includes("红"))||((w_=s_.level)==null?void 0:w_.includes("橙"))||!1,speedReduction:(S_=s_.level)!=null&&S_.includes("红")?40:(C_=s_.level)!=null&&C_.includes("橙")?20:0,vehicleRestrictions:(x_=s_.type)!=null&&x_.includes("大风")?["高栏车","空载货车"]:[]}}});n_.push(...a_)}ka.value=n_}catch(o_){console.error("加载预警信息失败:",o_),ka.value=[]}finally{_y.value.warnings=!1}}function jy(o_){switch(o_){case"low":return"低风险";case"medium":return"中等风险";case"high":return"高风险";case"extreme":return"极高风险";default:return"未知"}}function Ky(){Py.value=!Py.value,l_()}function Xy(){Ry.value=!Ry.value,l_()}function Zy(){Vy.value=!Vy.value,Vy.value?document.body.style.overflow="hidden":document.body.style.overflow="",setTimeout(async()=>{Ly.value=!0,Vy.value?await r_():await Qy(),Ly.value=!1},100)}function Jy(o_){o_.key==="Escape"&&Vy.value&&Zy()}async function t_(){if(typeof window.AMap<"u"&&window.AMap.Driving)return window.AMap;const o_="4a9cbe5db372c8aaf0e68b72e6e7134e",n_="169149541b6d8d92f1bff5da1acfd356";window._AMapSecurityConfig={securityJsCode:n_},console.log("开始加载高德地图API...");try{return typeof window.AMap>"u"&&await new Promise((qy,e_)=>{const a_=document.createElement("script");a_.src=`https://webapi.amap.com/maps?v=2.0&key=${o_}`,a_.async=!0,a_.onload=()=>{console.log("高德地图API加载成功"),qy()},a_.onerror=()=>{e_(new Error("高德地图API加载失败"))},document.head.appendChild(a_)}),window.AMap.Driving||(console.log("加载高德地图插件..."),await new Promise(qy=>{window.AMap.plugin(["AMap.Driving","AMap.Geocoder","AMap.InfoWindow","AMap.Marker","AMap.Circle"],()=>{console.log("高德地图插件加载成功"),qy()})})),window.AMap}catch(qy){return console.error("高德地图API加载失败:",qy),null}}async function Qy(){const o_=await t_();if(!o_){console.error("高德地图API未加载");return}Ny&&Ny.destroy(),Ny=new o_.Map("routeMap",{zoom:6,center:[116.397428,39.90923],mapStyle:"amap://styles/macaron"}),Ry.value&&i_(),Ey.value&&My.value&&Ly.value&&setTimeout(async()=>{await m_()},500)}async function r_(){const o_=await t_();if(!o_){console.error("高德地图API未加载");return}Ny&&Ny.destroy(),Ny=new o_.Map("routeMapFullscreen",{zoom:6,center:[116.397428,39.90923],mapStyle:"amap://styles/macaron"}),Ry.value&&i_(),Ey.value&&My.value&&Ly.value&&setTimeout(async()=>{await m_()},500)}function i_(){if(!Ny||!Object.keys(Sa.value).length)return;const o_={北京市:[116.407,39.904],天津市:[117.323,39.114],河北省:[114.469,38.037],山西省:[112.55,37.87],内蒙古自治区:[111.75,40.841],辽宁省:[123.431,41.836],吉林省:[125.325,43.897],黑龙江省:[126.662,45.742],上海市:[121.473,31.23],江苏省:[118.763,32.061],浙江省:[120.154,30.265],安徽省:[117.284,31.861],福建省:[119.296,26.099],江西省:[115.909,28.675],山东省:[117.121,36.651],河南省:[113.753,34.766],湖北省:[114.342,30.546],湖南省:[112.983,28.113],广东省:[113.266,23.132],广西壮族自治区:[108.327,22.816],海南省:[110.349,20.017],重庆市:[106.551,29.563],四川省:[104.075,30.651],贵州省:[106.633,26.647],云南省:[102.71,25.046],西藏自治区:[91.117,29.647],陕西省:[108.954,34.265],甘肃省:[103.826,36.058],青海省:[101.78,36.621],宁夏回族自治区:[106.259,38.472],新疆维吾尔自治区:[87.628,43.793],台湾省:[121.565,25.033],香港特别行政区:[114.165,22.275],澳门特别行政区:[113.549,22.199]},n_=qy=>{switch(qy){case"low":return"#10b981";case"medium":return"#f59e0b";case"high":return"#ef4444";case"extreme":return"#dc2626";default:return"#6b7280"}};Object.entries(Sa.value).forEach(([qy,e_])=>{const a_=o_[qy];if(!a_)return;const s_=n_(e_.riskLevel),u_=jy(e_.riskLevel),h_=new window.AMap.Circle({center:a_,radius:8e4,fillColor:s_,fillOpacity:.3,strokeColor:s_,strokeWeight:3,strokeOpacity:1});h_.setMap(Ny);const __=new window.AMap.Marker({position:a_,content:`
        <div class="province-risk-marker" style="background-color: ${s_}">
          <div class="province-name">${qy.replace("省","").replace("市","").replace("自治区","").replace("特别行政区","")}</div>
          <div class="risk-level">${u_}</div>
          <div class="temperature">${e_.temperature}°C</div>
          <div class="risk-indicator">
            ${e_.riskLevel==="extreme"?"🔴":e_.riskLevel==="high"?"🟡":e_.riskLevel==="medium"?"🟠":"🟢"}
          </div>
        </div>
      `,offset:new window.AMap.Pixel(-40,-50)});__.setMap(Ny),Oy.push(h_,__);const y_=new window.AMap.Marker({position:a_,content:`
        <div class="province-marker" style="background-color: ${s_}">
          <div class="province-name">${qy.replace("省","").replace("市","").replace("自治区","").replace("特别行政区","")}</div>
          <div class="province-temp">${e_.temperature}°C</div>
        </div>
      `,offset:new window.AMap.Pixel(-25,-25)});y_.setMap(Ny),Oy.push(y_),y_.on("click",w_=>{d_({name:qy},{current:{temp:e_.temperature,feelsLike:e_.temperature,humidity:60,windSpeed:15,visibility:20,weather:e_.weather,icon:"100"}},w_.originEvent)})})}function l_(){Ny&&(Oy.forEach(o_=>o_.setMap(null)),Oy=[],Py.value&&c_(),Ry.value&&i_(),console.log("图层已更新 - 天气图层:",Py.value,"省份色彩:",Ry.value))}function c_(){if(!Ny)return;[{name:"北京",lat:39.9042,lng:116.4074},{name:"上海",lat:31.2304,lng:121.4737},{name:"广州",lat:23.1291,lng:113.2644},{name:"深圳",lat:22.5431,lng:114.0579},{name:"成都",lat:30.5728,lng:104.0668},{name:"杭州",lat:30.2741,lng:120.1551}].forEach(async n_=>{try{const qy=await weatherService.getWeather({lat:n_.lat,lng:n_.lng}),e_=new window.AMap.Marker({position:[n_.lng,n_.lat],content:`
          <div class="weather-marker" data-city="${n_.name}">
            <div class="weather-temp">${qy.current.temp}°</div>
            <div class="weather-desc">${qy.current.weather}</div>
          </div>
        `,offset:new window.AMap.Pixel(-20,-30)});e_.setMap(Ny),Oy.push(e_),e_.on("click",()=>{d_(n_,qy)})}catch(qy){console.error(`获取${n_.name}天气失败:`,qy)}})}function d_(o_,n_,qy){zy.value={location:o_.name,temperature:n_.current.temp,feelsLike:n_.current.feelsLike,humidity:n_.current.humidity,windSpeed:n_.current.windSpeed,visibility:n_.current.visibility,weather:n_.current.weather,icon:n_.current.icon,riskLevel:"low",riskFactors:[]},qy?Hy.value={x:qy.clientX,y:qy.clientY}:Hy.value={x:window.innerWidth/2,y:window.innerHeight/2},Fy.value=!0}function f_(){Fy.value=!1}async function m_(){if(!Ey.value||!My.value){console.warn("请选择起点和终点"),alert("请选择起点和终点");return}if(!Ny&&(console.error("地图未初始化，尝试重新初始化..."),await Qy(),!Ny)){alert("地图初始化失败，请刷新页面重试");return}if(typeof window.AMap>"u"){console.error("高德地图API不可用"),alert("地图服务不可用，请刷新页面重试");return}Iy.value=!0;try{$_();const o_=new window.AMap.Marker({position:[Ey.value.lng,Ey.value.lat],content:`
        <div class="route-point-marker start-marker">
          <div class="marker-icon">📍</div>
          <div class="marker-label">起点</div>
        </div>
      `,offset:new window.AMap.Pixel(-15,-40)}),n_=new window.AMap.Marker({position:[My.value.lng,My.value.lat],content:`
        <div class="route-point-marker end-marker">
          <div class="marker-icon">🎯</div>
          <div class="marker-label">终点</div>
        </div>
      `,offset:new window.AMap.Pixel(-15,-40)});o_.setMap(Ny),n_.setMap(Ny),Oy.push(o_,n_);const qy=new window.AMap.Driving({map:Ny,showTraffic:!0,hideMarkers:!0,autoFitView:!0,policy:window.AMap.DrivingPolicy.LEAST_TIME}),e_=await new Promise((a_,s_)=>{qy.search(new window.AMap.LngLat(Ey.value.lng,Ey.value.lat),new window.AMap.LngLat(My.value.lng,My.value.lat),(u_,h_)=>{u_==="complete"?a_(h_):s_(new Error("路线搜索失败"))})});if(e_.routes&&e_.routes.length>0){Dy.value=e_.routes[0],setTimeout(()=>{v_(Dy.value)},1e3);const a_=(Dy.value.distance/1e3).toFixed(1),s_=Math.round(Dy.value.time/60);console.log(`路线规划成功！距离: ${a_}km，预计时间: ${s_}分钟`),Ly.value||alert(`路线规划成功！距离: ${a_}km，预计时间: ${s_}分钟`),await Promise.all([b_(Ey.value,"起点"),b_(My.value,"终点")])}else throw new Error("未找到合适的路线")}catch(o_){console.error("路线搜索失败:",o_),console.error("路线搜索失败，请重试"),alert("路线搜索失败，请重试")}finally{Iy.value=!1}}async function b_(o_,n_){try{const qy=await weatherService.getWeather(o_);console.log(`${n_} (${o_.name}) 天气:`,qy)}catch(qy){console.error(`获取${n_}天气失败:`,qy)}}function $_(){Oy.forEach(o_=>{o_.setMap(null)}),Oy.length=0,Dy.value=null,Ny&&(Ny.clearMap(),Ry.value&&setTimeout(()=>{i_()},100))}function A_(o_,n_){if(!Ny)return;By&&By.setMap(null),new window.AMap.Driving({map:Ny,showTraffic:!1,hideMarkers:!1}).search(o_,n_,(e_,a_)=>{e_==="complete"&&a_.routes&&a_.routes.length?(By=a_.routes[0],v_(a_.routes[0])):console.error("路径规划失败:",e_,a_)})}function v_(o_){if(!o_.steps)return;const n_=o_.steps,qy=[];for(let e_=0;e_<n_.length;e_+=Math.max(1,Math.floor(n_.length/8))){const a_=n_[e_];a_.start_location&&qy.push({lat:a_.start_location.lat,lng:a_.start_location.lng,instruction:a_.instruction||"",stepIndex:e_})}qy.forEach(async(e_,a_)=>{try{const s_=await weatherService.getWeather(e_),u_=g_(s_),h_=p_(u_),__=new window.AMap.Marker({position:[e_.lng,e_.lat],content:`
          <div class="route-weather-marker" style="background-color: ${h_}">
            <div class="temp">${s_.current.temp}°</div>
            <div class="weather-icon">🌤️</div>
          </div>
        `,offset:new window.AMap.Pixel(-12,-12)});if(__.setMap(Ny),Oy.push(__),__.on("click",y_=>{d_({name:`路径点 ${a_+1}`},s_,y_.originEvent)}),u_==="high"||u_==="extreme"){const y_=new window.AMap.InfoWindow({content:`
            <div class="risk-warning">
              <strong>⚠️ ${u_==="extreme"?"极高风险":"高风险"}区域</strong>
              <br>建议谨慎通过或绕行
            </div>
          `,offset:new window.AMap.Pixel(0,-30)});setTimeout(()=>{y_.open(Ny,__.getPosition()),setTimeout(()=>y_.close(),3e3)},a_*500)}}catch(s_){console.error(`获取路径点${a_}天气失败:`,s_)}})}function g_(o_){const n_=o_.current.temp,qy=o_.current.windSpeed,e_=o_.current.visibility,a_=o_.current.weather;let s_=0;return n_<-10||n_>40?s_+=3:n_<0||n_>35?s_+=2:(n_<5||n_>30)&&(s_+=1),qy>20?s_+=3:qy>15?s_+=2:qy>10&&(s_+=1),e_<5?s_+=3:e_<10?s_+=2:e_<20&&(s_+=1),a_.includes("暴雨")||a_.includes("暴雪")||a_.includes("大雾")?s_+=3:a_.includes("雨")||a_.includes("雪")||a_.includes("雾")?s_+=2:(a_.includes("阴")||a_.includes("多云"))&&(s_+=1),s_>=8?"extreme":s_>=6?"high":s_>=3?"medium":"low"}function p_(o_){switch(o_){case"low":return"#10b981";case"medium":return"#f59e0b";case"high":return"#ef4444";case"extreme":return"#dc2626";default:return"#6b7280"}}return onMounted(async()=>{if(console.log("WeatherAnalysis 页面加载，路由参数:",ua.query),ua.query.origin&&ua.query.destination){const[o_,n_]=ua.query.origin.split(",").map(Number),[qy,e_]=ua.query.destination.split(",").map(Number);console.log("解析的坐标 - 起点:",o_,n_,"终点:",qy,e_),Ty.value=`${o_},${n_}`,Ay.value=`${qy},${e_}`,Ey.value={name:`起点(${o_.toFixed(4)}, ${n_.toFixed(4)})`,lat:o_,lng:n_,adcode:"",level:""},My.value={name:`终点(${qy.toFixed(4)}, ${e_.toFixed(4)})`,lat:qy,lng:e_,adcode:"",level:""},console.log("设置起点:",Ey.value.name),console.log("设置终点:",My.value.name);const a_=Gy.value.find(u_=>Math.abs(u_.lat-o_)<.5&&Math.abs(u_.lng-n_)<.5),s_=Gy.value.find(u_=>Math.abs(u_.lat-qy)<.5&&Math.abs(u_.lng-e_)<.5);a_&&(Ey.value.name=a_.name,console.log("匹配到起点城市:",a_.name)),s_&&(My.value.name=s_.name,console.log("匹配到终点城市:",s_.name))}await Promise.all([Wy(),Yy()]),await nextTick(),await Qy(),Ey.value&&My.value&&(console.log("自动规划路线 - 起点:",Ey.value.name,"终点:",My.value.name),setTimeout(async()=>{await m_()},1e3)),Ty.value&&Ay.value&&ua.query.showRoute==="true"&&await Uy(),document.addEventListener("keydown",Jy)}),onUnmounted(()=>{document.removeEventListener("keydown",Jy),document.body.style.overflow=""}),(o_,n_)=>(openBlock(),createElementBlock("div",_hoisted_1$d,[n_[12]||(n_[12]=createBaseVNode("header",{class:"page-header"},[createBaseVNode("h2",null,"🌤️ 天气分析"),createBaseVNode("p",{class:"subtitle"},"实时天气监控与物流影响分析")],-1)),createBaseVNode("div",_hoisted_2$c,[createVNode$1(FluentCard,{title:"全国天气概览",class:"overview-card"},{default:withCtx(()=>[Sa.value&&Object.keys(Sa.value).length>0?(openBlock(),createElementBlock("div",_hoisted_3$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.value,(qy,e_)=>(openBlock(),createElementBlock("div",{key:e_,class:"province-item",style:normalizeStyle$1({borderLeftColor:qy.color})},[createBaseVNode("div",_hoisted_4$c,toDisplayString(e_),1),createBaseVNode("div",_hoisted_5$c,toDisplayString(qy.temperature)+"°C",1),createBaseVNode("div",_hoisted_6$8,toDisplayString(qy.weather),1)],4))),128))])):_y.value.province?(openBlock(),createElementBlock("div",_hoisted_7$7,"正在加载全国天气数据...")):(openBlock(),createElementBlock("div",_hoisted_8$7,"暂无天气数据"))]),_:1}),createVNode$1(FluentCard,{title:"路线天气分析",class:"route-card"},{default:withCtx(()=>{var qy;return[Ey.value&&My.value?(openBlock(),createElementBlock("div",_hoisted_9$7,[createBaseVNode("div",_hoisted_10$7,[n_[2]||(n_[2]=createBaseVNode("span",{class:"point-label"},"起点：",-1)),createBaseVNode("span",_hoisted_11$7,toDisplayString(Ey.value.name),1)]),createBaseVNode("div",_hoisted_12$7,[n_[3]||(n_[3]=createBaseVNode("span",{class:"point-label"},"终点：",-1)),createBaseVNode("span",_hoisted_13$7,toDisplayString(My.value.name),1)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_14$6,[createBaseVNode("label",_hoisted_15$6,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":n_[0]||(n_[0]=e_=>Py.value=e_),onChange:Ky},null,544),[[vModelCheckbox,Py.value]]),n_[4]||(n_[4]=createBaseVNode("span",null,"天气图层",-1))]),createBaseVNode("label",_hoisted_16$6,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":n_[1]||(n_[1]=e_=>Ry.value=e_),onChange:Xy},null,544),[[vModelCheckbox,Ry.value]]),n_[5]||(n_[5]=createBaseVNode("span",null,"省份风险色彩",-1))])]),Vy.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_17$5,[n_[6]||(n_[6]=createBaseVNode("div",{id:"routeMap",class:"route-map"},null,-1)),createBaseVNode("div",{class:"map-controls-overlay"},[createBaseVNode("button",{onClick:Zy,class:"fullscreen-btn",title:"全屏显示"}," 🔍 ")])])),Vy.value?(openBlock(),createBlock(Teleport,{key:2,to:"body"},[createBaseVNode("div",{class:"map-fullscreen-overlay"},[createBaseVNode("div",{class:"map-fullscreen-container"},[n_[7]||(n_[7]=createBaseVNode("div",{id:"routeMapFullscreen",class:"route-map-fullscreen"},null,-1)),createBaseVNode("div",{class:"map-controls-overlay"},[createBaseVNode("button",{onClick:Zy,class:"fullscreen-btn fullscreen-close-btn",title:"退出全屏"}," ✕ ")])])])])):createCommentVNode("",!0),ba.value?(openBlock(),createElementBlock("div",_hoisted_18$5,[createBaseVNode("div",{class:normalizeClass(["risk-summary",`risk-${ba.value.overallRisk}`])},[createBaseVNode("h4",null,"整体风险："+toDisplayString(jy(ba.value.overallRisk)),1),createBaseVNode("div",_hoisted_19$5,"风险评分："+toDisplayString((ba.value.riskScore*100).toFixed(0))+"%",1)],2),ba.value.criticalSections.length>0?(openBlock(),createElementBlock("div",_hoisted_20$5,[n_[8]||(n_[8]=createBaseVNode("h5",null,"关键风险路段",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(ba.value.criticalSections,(e_,a_)=>(openBlock(),createElementBlock("div",{key:a_,class:"section-item"},[createBaseVNode("div",_hoisted_21$4,toDisplayString(e_.riskType),1),createBaseVNode("div",_hoisted_22$4,"严重程度: "+toDisplayString(e_.severity)+"/10",1),createBaseVNode("div",_hoisted_23$4,toDisplayString(e_.recommendation),1)]))),128))])):createCommentVNode("",!0),(qy=ba.value.alternativeRoutes)!=null&&qy.length?(openBlock(),createElementBlock("div",_hoisted_24$4,[n_[9]||(n_[9]=createBaseVNode("h5",null,"建议路线",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(ba.value.alternativeRoutes,(e_,a_)=>(openBlock(),createElementBlock("div",{key:a_,class:"alternative-item"},[createBaseVNode("div",_hoisted_25$4,toDisplayString(e_.description),1),createBaseVNode("div",_hoisted_26$3,"额外距离: +"+toDisplayString(e_.additionalDistance)+"km",1),createBaseVNode("div",_hoisted_27$3,"风险降低: "+toDisplayString((e_.reducedRisk*100).toFixed(0))+"%",1)]))),128))])):createCommentVNode("",!0),ba.value.timing?(openBlock(),createElementBlock("div",_hoisted_28$2,[n_[10]||(n_[10]=createBaseVNode("h5",null,"最佳时机",-1)),ba.value.timing.bestDepartureTime?(openBlock(),createElementBlock("div",_hoisted_29$2," 推荐出发时间: "+toDisplayString(ba.value.timing.bestDepartureTime),1)):createCommentVNode("",!0),ba.value.timing.worstConditions?(openBlock(),createElementBlock("div",_hoisted_30$2," 避免时间段: "+toDisplayString(ba.value.timing.worstConditions),1)):createCommentVNode("",!0),ba.value.timing.optimalWindow?(openBlock(),createElementBlock("div",_hoisted_31$2," 最佳窗口期: "+toDisplayString(ba.value.timing.optimalWindow.join(" - ")),1)):createCommentVNode("",!0)])):createCommentVNode("",!0)])):createCommentVNode("",!0)]}),_:1}),createVNode$1(FluentCard,{title:"实时预警",class:"warnings-card"},{default:withCtx(()=>[ka.value.length>0?(openBlock(),createElementBlock("div",_hoisted_32$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.value,qy=>{var e_,a_;return openBlock(),createElementBlock("div",{key:qy.id,class:normalizeClass(["warning-item",`level-${qy.level}`])},[createBaseVNode("div",_hoisted_33$1,[createBaseVNode("span",_hoisted_34$1,toDisplayString(qy.type),1),createBaseVNode("span",_hoisted_35,toDisplayString(qy.level)+"级",1)]),createBaseVNode("div",_hoisted_36,toDisplayString(qy.title),1),createBaseVNode("div",_hoisted_37,"影响区域: "+toDisplayString(qy.areas&&qy.areas.length>0?qy.areas.join("、"):"未指定"),1),createBaseVNode("div",_hoisted_38," 物流影响: "+toDisplayString((e_=qy.logisticsImpact)!=null&&e_.roadClosure?"道路封闭":"道路通行")+" "+toDisplayString(((a_=qy.logisticsImpact)==null?void 0:a_.speedReduction)>0?`限速${qy.logisticsImpact.speedReduction}km/h`:""),1)],2)}),128))])):_y.value.warnings?(openBlock(),createElementBlock("div",_hoisted_39,"正在获取预警信息...")):(openBlock(),createElementBlock("div",_hoisted_40,"暂无气象预警"))]),_:1}),createVNode$1(FluentCard,{title:"物流建议",class:"recommendations-card"},{default:withCtx(()=>n_[11]||(n_[11]=[createBaseVNode("div",{class:"recommendation-categories"},[createBaseVNode("div",{class:"category"},[createBaseVNode("h4",null,"🚛 车辆准备"),createBaseVNode("ul",null,[createBaseVNode("li",null,"检查防雨防晒设备"),createBaseVNode("li",null,"确保轮胎状况良好"),createBaseVNode("li",null,"准备应急工具包"),createBaseVNode("li",null,"检查冷链设备运行状态")])]),createBaseVNode("div",{class:"category"},[createBaseVNode("h4",null,"📦 货物保护"),createBaseVNode("ul",null,[createBaseVNode("li",null,"使用防潮包装材料"),createBaseVNode("li",null,"加固易碎物品包装"),createBaseVNode("li",null,"温敏货物使用保温措施"),createBaseVNode("li",null,"确保包装密封性良好")])]),createBaseVNode("div",{class:"category"},[createBaseVNode("h4",null,"🛣️ 路线规划"),createBaseVNode("ul",null,[createBaseVNode("li",null,"避开恶劣天气区域"),createBaseVNode("li",null,"选择主干道优先"),createBaseVNode("li",null,"预设备用路线方案"),createBaseVNode("li",null,"关注实时路况信息")])]),createBaseVNode("div",{class:"category"},[createBaseVNode("h4",null,"⏰ 时间安排"),createBaseVNode("ul",null,[createBaseVNode("li",null,"避开恶劣天气时段"),createBaseVNode("li",null,"预留额外缓冲时间"),createBaseVNode("li",null,"考虑休息站点天气"),createBaseVNode("li",null,"灵活调整配送计划")])])],-1)])),_:1,__:[11]})]),createVNode$1(WeatherTooltip,{visible:Fy.value,data:zy.value,x:Hy.value.x,y:Hy.value.y,onClose:f_},null,8,["visible","data","x","y"])]))}}),WeatherAnalysis=_export_sfc(_sfc_main$f,[["__scopeId","data-v-0aeec9a5"]]),scriptRel="modulepreload",assetsURL=function(ha){return"/"+ha},seen={},__vitePreload=function(ua,Sa,ba){let ka=Promise.resolve();if(Sa&&Sa.length>0){document.getElementsByTagName("link");const Ty=document.querySelector("meta[property=csp-nonce]"),Ay=(Ty==null?void 0:Ty.nonce)||(Ty==null?void 0:Ty.getAttribute("nonce"));ka=Promise.allSettled(Sa.map(Ey=>{if(Ey=assetsURL(Ey),Ey in seen)return;seen[Ey]=!0;const My=Ey.endsWith(".css"),Dy=My?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Ey}"]${Dy}`))return;const Iy=document.createElement("link");if(Iy.rel=My?"stylesheet":scriptRel,My||(Iy.as="script"),Iy.crossOrigin="",Iy.href=Ey,Ay&&Iy.setAttribute("nonce",Ay),document.head.appendChild(Iy),My)return new Promise((Ly,Py)=>{Iy.addEventListener("load",Ly),Iy.addEventListener("error",()=>Py(new Error(`Unable to preload CSS for ${Ey}`)))})}))}function _y(Ty){const Ay=new Event("vite:preloadError",{cancelable:!0});if(Ay.payload=Ty,window.dispatchEvent(Ay),!Ay.defaultPrevented)throw Ty}return ka.then(Ty=>{for(const Ay of Ty||[])Ay.status==="rejected"&&_y(Ay.reason);return ua().catch(_y)})};class DisasterService{async getDisastersInArea(ua,Sa=50){try{return(await weatherService.getDisasterWarning(ua)).map(_y=>this.enhanceDisasterData(_y,ua)).filter(_y=>this.calculateDistance(ua,_y.affectedArea.center)<=Sa)}catch(ba){return console.error("获取灾害数据失败:",ba),[]}}async assessRouteRisk(ua){const Sa=[],ba=[],ka=[],_y=[];try{for(const My of ua){const Dy=await this.getDisastersInArea(My,30);Sa.push(...Dy)}const Ty=Sa.filter((My,Dy,Iy)=>Dy===Iy.findIndex(Ly=>Ly.id===My.id));let Ay=1;for(const My of Ty){const Dy=this.analyzeLogisticsImpact(My);ba.push({type:My.type,severity:this.getSeverityText(My.severity),impact:Dy.description,mitigation:Dy.mitigation}),Ay*=Dy.scoreMultiplier,ka.push(...Dy.recommendations),My.logisticsImpact.roadClosure&&_y.push(My.affectedArea.center)}let Ey;return Ay>=.9?Ey="low":Ay>=.75?Ey="medium":Ay>=.5?Ey="high":Ey="extreme",Ey!=="low"&&(ka.unshift("建议提前规划备用路线"),ka.push("密切关注天气和路况更新")),{overallRisk:Ey,score:Ay,factors:ba,recommendations:[...new Set(ka)],blockedAreas:_y}}catch(Ty){return console.error("路径风险评估失败:",Ty),{overallRisk:"medium",score:.8,factors:[],recommendations:["无法获取完整风险信息，建议谨慎行驶"],blockedAreas:[]}}}async getSafeRouteAlternatives(ua,Sa){const ba=await this.assessRouteRisk([ua,Sa]),ka=[],_y=[{name:"交通救援",phone:"12122",service:"道路救援"},{name:"气象服务",phone:"12121",service:"天气咨询"},{name:"物流调度",phone:"95338",service:"货运协调"}];return ba.overallRisk!=="low"&&(ka.push({description:"国道绕行，避开高风险区域",riskLevel:"low",additionalDistance:50,estimatedDelay:60},{description:"选择高速公路主干道",riskLevel:"medium",additionalDistance:20,estimatedDelay:30}),ba.overallRisk==="extreme"&&ka.push({description:"建议延迟出发，等待天气好转",riskLevel:"low",additionalDistance:0,estimatedDelay:240})),{alternatives:ka,emergencyContacts:_y}}enhanceDisasterData(ua,Sa){const ba=this.parseSeverity(ua.level),ka=this.categorizeDisaster(ua.type),_y={center:Sa,radius:this.estimateAffectedRadius(ua.type,ba)},Ty=this.assessLogisticsImpact(ua,ba);return{...ua,severity:ba,category:ka,affectedArea:_y,logisticsImpact:Ty}}parseSeverity(ua){const Sa=ua.toLowerCase();return Sa.includes("蓝")||Sa.includes("四级")?1:Sa.includes("黄")||Sa.includes("三级")?2:Sa.includes("橙")||Sa.includes("二级")?3:Sa.includes("红")||Sa.includes("一级")?4:2}categorizeDisaster(ua){const Sa=["暴雨","台风","雷电","大风","雾","霾","高温","寒潮","雪"],ba=["地震","滑坡","泥石流"],ka=["交通"];return Sa.some(_y=>ua.includes(_y))?"weather":ba.some(_y=>ua.includes(_y))?"geological":ka.some(_y=>ua.includes(_y))?"traffic":"other"}estimateAffectedRadius(ua,Sa){return(ua.includes("台风")?200:ua.includes("暴雨")?100:ua.includes("大风")?150:ua.includes("雾")?80:50)*(Sa/2)}assessLogisticsImpact(ua,Sa){const ba=ua.type;let ka=!1,_y=null;const Ty=[];let Ay=null;return(ba.includes("暴雨")||ba.includes("台风"))&&(Sa>=3?(ka=!0,Ay="建议选择地势较高的道路"):(_y=60,Ty.push("危化品运输车"))),ba.includes("大风")&&Sa>=2&&(Ty.push("高架车","空载货车"),_y=40),(ba.includes("雾")||ba.includes("霾"))&&Sa>=2&&(_y=40,Ay="建议等待能见度改善"),(ba.includes("雪")||ba.includes("道路结冰"))&&(Ty.push("未安装防滑链车辆"),_y=30),{roadClosure:ka,speedLimit:_y,vehicleRestriction:Ty,alternativeRoute:Ay}}analyzeLogisticsImpact(ua){const Sa=ua.type,ba=ua.severity;let ka=1,_y="",Ty="";const Ay=[];return(Sa.includes("暴雨")||Sa.includes("台风"))&&(ka=ba>=3?.3:.7,_y="可能导致道路积水，影响通行",Ty="选择排水良好的道路，准备防水措施",Ay.push("携带防水布","关注积水路段信息")),Sa.includes("大风")&&(ka=ba>=3?.4:.8,_y="强风可能影响高档车辆行驶安全",Ty="降低车速，避免高架桥梁",Ay.push("加强货物捆绑","避免侧风路段")),(Sa.includes("雾")||Sa.includes("霾"))&&(ka=ba>=2?.5:.8,_y="低能见度影响驾驶安全",Ty="开启雾灯，保持安全距离",Ay.push("降低车速","使用GPS导航")),{scoreMultiplier:ka,description:_y,mitigation:Ty,recommendations:Ay}}getSeverityText(ua){switch(ua){case 1:return"轻微";case 2:return"一般";case 3:return"严重";case 4:return"特别严重";default:return"未知"}}calculateDistance(ua,Sa){const ka=(Sa.lat-ua.lat)*Math.PI/180,_y=(Sa.lng-ua.lng)*Math.PI/180,Ty=Math.sin(ka/2)*Math.sin(ka/2)+Math.cos(ua.lat*Math.PI/180)*Math.cos(Sa.lat*Math.PI/180)*Math.sin(_y/2)*Math.sin(_y/2);return 6371*(2*Math.atan2(Math.sqrt(Ty),Math.sqrt(1-Ty)))}}const disasterService=new DisasterService;function enhancedHardCheck(ha,ua,Sa,ba){var Ty,Ay,Ey;const ka=hardCheck(ha,ua,Sa),_y=[...ka.reasons];return(Ty=ha.weatherConsideration)!=null&&Ty.enabled&&ha.weatherConsideration.avoidSevereWeather&&(ba!==void 0&&ba<.3&&_y.push("天气条件过于恶劣，建议延后或改路线"),(Ey=(Ay=ha.routeWeather)==null?void 0:Ay.risks)!=null&&Ey.some(My=>My.level==="extreme")&&_y.push("路径存在极端天气风险")),{ok:ka.ok&&_y.length===ka.reasons.length,reasons:_y}}function enhancedSoftScore(ha,ua,Sa,ba){var Ty,Ay;const ka=softScore(ha,ua,Sa);if(!((Ty=ha.weatherConsideration)!=null&&Ty.enabled))return ka;let _y=1;if(ba){_y=weatherService.getWeatherImpact(ba).score;const My=((Ay=ha.weatherConsideration)==null?void 0:Ay.priority)||"medium";let Dy=.15;switch(My){case"low":Dy=.08;break;case"high":Dy=.25;break;default:Dy=.15;break}const Iy=ka*(1-Dy)+ka*_y*Dy;return Math.round(Iy)}return ka}function enhancedBucketize(ha,ua,Sa,ba){var Ty;const ka=bucketize(ha,ua,Sa),_y=[];if((Ty=ha.weatherConsideration)!=null&&Ty.enabled&&ba){const Ay=weatherService.getWeatherImpact(ba);switch(Ay.level){case"low":_y.push("天气适宜");break;case"medium":_y.push("天气一般");break;case"high":_y.push("天气影响");break;case"extreme":_y.push("恶劣天气");break}Ay.factors.includes("极端温度")&&_y.push("注意温控"),Ay.factors.includes("强风")&&_y.push("防风加固"),Ay.factors.includes("降水天气")&&_y.push("防水防湿"),Ay.factors.includes("低能见度")&&_y.push("谨慎驾驶")}return[...ka,..._y]}async function enhancedMatchVendors(ha,ua){var ka,_y;const Sa=[];let ba=ha.routeWeather;if((ka=ha.weatherConsideration)!=null&&ka.enabled&&!ba)try{const Ty=await weatherService.getWeather(ha.origin),Ay=await weatherService.getWeather(ha.destination);ba={origin:{temperature:Ty.current.temp,humidity:Ty.current.humidity,windSpeed:Ty.current.windSpeed,windDirection:Ty.current.windDir,weather:Ty.current.weather,visibility:Ty.current.visibility,pressure:Ty.current.pressure,icon:Ty.current.icon},destination:{temperature:Ay.current.temp,humidity:Ay.current.humidity,windSpeed:Ay.current.windSpeed,windDirection:Ay.current.windDir,weather:Ay.current.weather,visibility:Ay.current.visibility,pressure:Ay.current.pressure,icon:Ay.current.icon},risks:[]};const Ey=await disasterService.assessRouteRisk([ha.origin,ha.destination]);ba.risks=Ey.factors.map(My=>({type:My.type,level:My.severity,description:My.impact})),ha.routeWeather=ba}catch(Ty){console.warn("获取天气数据失败，使用基础推荐算法:",Ty)}for(const Ty of ua){const Ay=haversine(ha.origin,Ty.location);let Ey,My=1,Dy=[],Iy="low";if((_y=ha.weatherConsideration)!=null&&_y.enabled)try{Ey=await weatherService.getWeather(Ty.location);const Ny=weatherService.getWeatherImpact(Ey);My=Ny.score,Dy=Ny.factors,Iy=Ny.level}catch(Ny){console.warn(`获取供应商 ${Ty.name} 位置天气失败:`,Ny)}const Ly=enhancedHardCheck(ha,Ty,Ay,My),Py=Ly.ok?enhancedSoftScore(ha,Ty,Ay,Ey):0,Ry=enhancedBucketize(ha,Ty,Ay,Ey),Vy={vendor:Ty,distanceKm:Math.round(Ay*10)/10,feasible:Ly.ok,reasons:Ly.reasons,buckets:Ry,score:Py,weatherScore:My,weatherFactors:Dy,weatherRisk:Iy};Sa.push(Vy)}return Sa.sort((Ty,Ay)=>Ay.score-Ty.score)}function getWeatherRecommendations(ha,ua){var Dy;const Sa=[],ba=[];let ka="天气条件良好，适宜物流配送";if(!((Dy=ha.weatherConsideration)!=null&&Dy.enabled)||!ha.routeWeather)return{summary:"未启用天气分析",recommendations:["建议开启天气分析以获得更准确的推荐"],riskAlerts:[]};const _y=ha.routeWeather.risks,Ty=_y.filter(Iy=>Iy.level==="high"||Iy.level==="extreme").length;Ty>0&&(ka=`检测到 ${Ty} 个高风险天气因素`,ba.push(`路径存在${Ty}个天气风险点`)),_y.forEach(Iy=>{switch(Iy.level){case"extreme":Sa.push(`极端${Iy.type}：建议延后出发或选择替代路线`),ba.push(`极端天气警告：${Iy.description}`);break;case"high":Sa.push(`${Iy.type}影响较大：${Iy.description}`);break;case"medium":Sa.push(`注意${Iy.type}：采取预防措施`);break}}),ua.filter(Iy=>Iy.weatherRisk==="low"||Iy.weatherRisk==="medium").length<ua.length/2&&Sa.push("当前天气对多数供应商有影响，建议延后或加强防护");const Ey=ha.routeWeather.origin.temperature,My=ha.routeWeather.destination.temperature;return Math.abs(Ey-My)>10&&Sa.push(`起终点温差较大(${Math.abs(Ey-My)}°C)，注意货物温控`),(Ey>35||My>35)&&Sa.push("高温天气，避免午间配送，注意冷链运输"),(Ey<0||My<0)&&Sa.push("低温天气，注意防冻措施和车辆预热"),Sa.length===0&&Sa.push("天气条件适宜，可正常安排物流配送"),{summary:ka,recommendations:[...new Set(Sa)],riskAlerts:ba}}const enhancedRecommendScore=Object.freeze(Object.defineProperty({__proto__:null,bucketize,enhancedBucketize,enhancedHardCheck,enhancedMatchVendors,enhancedSoftScore,getWeatherRecommendations,hardCheck,haversine,softScore},Symbol.toStringTag,{value:"Module"}));async function testWeatherIntegration(){console.log("🧪 开始天气功能集成测试...");const ha={weatherService:!1,disasterService:!1,enhancedRecommend:!1,errors:[]};try{console.log("📡 测试天气服务...");const ua=await weatherService.getProvinceWeather();Object.keys(ua).length>0?(console.log("✅ 省份天气获取成功:",Object.keys(ua).length,"个省份"),ha.weatherService=!0):ha.errors.push("省份天气数据为空");const Sa=await weatherService.getWeather({lat:39.9042,lng:116.4074});Sa.current&&Sa.forecast?console.log("✅ 位置天气获取成功:",Sa.location.name):ha.errors.push("位置天气数据不完整")}catch(ua){ha.errors.push(`天气服务错误: ${ua}`),console.error("❌ 天气服务测试失败:",ua)}try{console.log("⚠️ 测试灾害预警服务...");const ua=await disasterService.getDisastersInArea({lat:39.9042,lng:116.4074});console.log("✅ 灾害预警服务正常，获取到",ua.length,"条预警信息"),ha.disasterService=!0;const Sa=await disasterService.assessRouteRisk([{lat:39.9042,lng:116.4074},{lat:31.2304,lng:121.4737}]);console.log("✅ 路径风险评估完成，整体风险:",Sa.overallRisk)}catch(ua){ha.errors.push(`灾害服务错误: ${ua}`),console.error("❌ 灾害服务测试失败:",ua)}try{console.log("🤖 测试增强推荐算法...");const ua={origin:{lat:39.9042,lng:116.4074},destination:{lat:31.2304,lng:121.4737},window:[new Date().toISOString(),new Date(Date.now()+4*60*60*1e3).toISOString()],demand:{type:"normal",weightKg:1e3,temperature:null},weatherConsideration:{enabled:!0,priority:"high",avoidSevereWeather:!0,temperatureRange:[-5,35]}},ba=await enhancedMatchVendors(ua,[{id:"test-vendor-1",name:"测试物流A",location:{lat:39.9142,lng:116.4174},serviceRadiusKm:100,capabilities:{types:["normal","cold"],maxWeightKg:2e3,cold:{min:-18,max:8}},metrics:{rating:4.5,onTimeRate:.95,priceIndex:1.2,capacityUtilization:.7}},{id:"test-vendor-2",name:"测试物流B",location:{lat:39.8942,lng:116.3974},serviceRadiusKm:80,capabilities:{types:["normal"],maxWeightKg:1500},metrics:{rating:4.2,onTimeRate:.88,priceIndex:1,capacityUtilization:.6}}]);ba&&ba.length>0?(console.log("✅ 增强推荐算法测试成功"),console.log("📊 推荐结果数量:",ba.length),ba.forEach((ka,_y)=>{console.log(`  ${_y+1}. ${ka.vendor.name}`),console.log(`     综合评分: ${ka.score}`),console.log(`     天气评分: ${ka.weatherScore?(ka.weatherScore*100).toFixed(0)+"%":"未评估"}`),console.log(`     天气风险: ${ka.weatherRisk}`),console.log(`     标签: ${ka.buckets.join(", ")}`)}),ha.enhancedRecommend=!0):ha.errors.push("增强推荐算法返回结果为空")}catch(ua){ha.errors.push(`增强推荐算法错误: ${ua}`),console.error("❌ 增强推荐算法测试失败:",ua)}return console.log(`
📋 测试结果总结:`),console.log("天气服务:",ha.weatherService?"✅ 通过":"❌ 失败"),console.log("灾害服务:",ha.disasterService?"✅ 通过":"❌ 失败"),console.log("增强推荐:",ha.enhancedRecommend?"✅ 通过":"❌ 失败"),ha.errors.length>0?(console.log(`
❌ 发现的问题:`),ha.errors.forEach((ua,Sa)=>{console.log(`  ${Sa+1}. ${ua}`)})):console.log(`
🎉 所有测试通过！天气功能集成成功！`),ha}function testWeatherLayers(){console.log("🗺️ 测试天气图层功能...");try{return typeof window<"u"&&window.Cesium?console.log("✅ Cesium 环境检查通过"):console.log("⚠️ Cesium 环境未就绪（可能在服务器端或尚未加载）"),console.log("✅ 天气图层控制对象创建成功:",{weather:!0,temperature:!0,warnings:!0,weatherOpacity:70}),!0}catch(ha){return console.error("❌ 天气图层测试失败:",ha),!1}}function checkEnvironment(){console.log("🔍 检查环境配置...");const ha={qweatherKey:!0,amapKey:!0,amapSecurity:!0};return console.log("和风天气API密钥:",ha.qweatherKey?"✅ 已配置":"❌ 未配置"),console.log("高德地图API密钥:",ha.amapKey?"✅ 已配置":"❌ 未配置"),console.log("高德地图安全密钥:",ha.amapSecurity?"✅ 已配置":"⚠️ 未配置（可选）"),ha.qweatherKey&&ha.amapKey||(console.log(`
💡 配置建议:`),ha.qweatherKey||console.log("- 请在.env.local文件中添加 VITE_QWEATHER_KEY=你的和风天气API密钥"),ha.amapKey||console.log("- 请在.env.local文件中添加 VITE_AMAP_KEY=你的高德地图API密钥")),ha}async function quickTest(){console.log(`⚡ 执行快速集成测试...
`);const ha=checkEnvironment();testWeatherLayers(),ha.qweatherKey?await testWeatherIntegration():console.log(`
⚠️ 跳过API相关测试（缺少必需的环境变量）`),console.log(`
🏁 快速测试完成`)}typeof window<"u"&&(window.weatherTest={full:testWeatherIntegration,layers:testWeatherLayers,env:checkEnvironment,quick:quickTest},console.log("🔧 天气功能测试工具已加载到 window.weatherTest"),console.log("可用方法: full(), layers(), env(), quick()"));const _hoisted_1$c={class:"weather-test-container"},_hoisted_2$b={class:"test-grid"},_hoisted_3$b={class:"test-results"},_hoisted_4$b={key:0,class:"message"},_hoisted_5$b=["disabled"],_hoisted_6$7={key:0,class:"test-results"},_hoisted_7$6={key:0,class:"message"},_hoisted_8$6=["disabled"],_hoisted_9$6={key:0,class:"test-results"},_hoisted_10$6={key:0,class:"data-preview"},_hoisted_11$6={class:"weather-info"},_hoisted_12$6={class:"location-selector"},_hoisted_13$6={key:0,class:"weather-display"},_hoisted_14$5={class:"weather-item"},_hoisted_15$5={class:"weather-item"},_hoisted_16$5={class:"weather-item"},_hoisted_17$4={class:"weather-item"},_hoisted_18$4=["disabled"],_hoisted_19$4={key:0,class:"risk-results"},_hoisted_20$4={class:"risk-item"},_hoisted_21$3={class:"risk-item"},_hoisted_22$3={class:"warnings"},_hoisted_23$3={class:"status-grid"},_hoisted_24$3={class:"status-item"},_hoisted_25$3={class:"status-item"},_hoisted_26$2={class:"status-item"},_hoisted_27$2={class:"status-item"},_sfc_main$e=defineComponent({__name:"WeatherTest",setup(ha){const ua=ref({}),Sa=ref([]),ba=ref([]),ka=ref(!1),_y=ref("116.4074,39.9042"),Ty=ref(null),Ay=ref(null),Ey=ref({weather:"unknown",recommend:"unknown",visualization:"unknown",risk:"unknown"}),My=Vy=>Ey.value[Vy],Dy=async()=>{try{const Vy=checkEnvironment();ua.value={},ua.value.weatherApi={test:"和风天气API",status:Vy.qweatherKey?"success":"error",description:Vy.qweatherKey?"API密钥已配置":"需要配置VITE_QWEATHER_KEY"},ua.value.amapApi={test:"高德地图API",status:Vy.amapKey?"success":"error",description:Vy.amapKey?"API密钥已配置":"需要配置VITE_AMAP_KEY"},ua.value.amapSecurity={test:"高德地图安全密钥",status:Vy.amapSecurity?"success":"error",description:Vy.amapSecurity?"安全密钥已配置":"建议配置VITE_AMAP_SECURITY"},Ey.value.weather=Vy.qweatherKey?"online":"offline"}catch(Vy){console.error("环境检测失败:",Vy)}},Iy=async()=>{ka.value=!0,Sa.value=[];try{try{const Vy=await weatherService.getProvinceWeather();Sa.value.push({test:"省份天气获取",status:Object.keys(Vy).length>0?"success":"error",message:`获取到${Object.keys(Vy).length}个省份天气数据`})}catch(Vy){Sa.value.push({test:"省份天气获取",status:"error",message:Vy instanceof Error?Vy.message:"未知错误"})}try{const Vy=await weatherService.getWeather({lat:39.9042,lng:116.4074});Sa.value.push({test:"位置天气获取",status:Vy.current?"success":"error",message:Vy.current?`当前温度: ${Vy.current.temp}°C, ${Vy.current.weather}`:"无天气数据"})}catch(Vy){Sa.value.push({test:"位置天气获取",status:"error",message:Vy instanceof Error?Vy.message:"未知错误"})}Ey.value.weather=Sa.value.every(Vy=>Vy.status==="success")?"online":"error"}finally{ka.value=!1}},Ly=async()=>{var Vy;ka.value=!0,ba.value=[];try{const{enhancedMatchVendors:Ny}=await __vitePreload(async()=>{const{enhancedMatchVendors:zy}=await Promise.resolve().then(()=>enhancedRecommendScore);return{enhancedMatchVendors:zy}},void 0),By={origin:{lat:39.9042,lng:116.4074},destination:{lat:39.8942,lng:116.3974},cargoType:"normal",cargoWeightKg:1e3,maxDistanceKm:100,window:[new Date().toISOString(),new Date(Date.now()+24*60*60*1e3).toISOString()],demand:{type:"normal",weightKg:1e3},weatherConsideration:{enabled:!0,priority:"medium",avoidSevereWeather:!0,temperatureRange:[-10,35]}},Fy=await Ny(By,[{id:"test-vendor-1",name:"测试物流A",location:{lat:39.9142,lng:116.4174},serviceRadiusKm:100,capabilities:{types:["normal","cold"],maxWeightKg:2e3,cold:{min:-18,max:8}},metrics:{rating:4.5,onTimeRate:.95,priceIndex:1.2,capacityUtilization:.7}}]);ba.value.push({test:"增强推荐算法",status:Fy&&Fy.length>0?"success":"error",message:`找到${(Fy==null?void 0:Fy.length)||0}个匹配供应商`,data:Fy==null?void 0:Fy.slice(0,2)}),ba.value.push({test:"天气因素整合",status:(Vy=By.weatherConsideration)!=null&&Vy.enabled?"success":"error",message:"天气考虑因素已启用"}),Ey.value.recommend=ba.value.every(zy=>zy.status==="success")?"online":"error"}catch(Ny){console.error("推荐系统测试失败:",Ny),ba.value.push({test:"推荐系统测试",status:"error",message:Ny instanceof Error?Ny.message:"未知错误"}),Ey.value.recommend="error"}finally{ka.value=!1}},Py=async()=>{try{const[Vy,Ny]=_y.value.split(",").map(Number),By=await weatherService.getWeather({lat:Ny,lng:Vy});Ty.value=By}catch(Vy){console.error("加载天气数据失败:",Vy)}},Ry=async()=>{ka.value=!0;try{const[Vy,Ny]=_y.value.split(",").map(Number),By=[{lat:Ny,lng:Vy},{lat:Ny+.1,lng:Vy+.1}],Oy=await disasterService.assessRouteRisk(By);Ay.value={riskLevel:Oy.overallRisk,riskScore:Math.round(Oy.score*10),warnings:Oy.recommendations},Ey.value.risk="online"}catch(Vy){console.error("风险评估失败:",Vy),Ey.value.risk="error"}finally{ka.value=!1}};return onMounted(async()=>{await Dy(),await Py()}),(Vy,Ny)=>(openBlock(),createElementBlock("div",_hoisted_1$c,[createVNode$1(FluentCard,{class:"test-header-card"},{default:withCtx(()=>Ny[1]||(Ny[1]=[createBaseVNode("h2",null,"天气功能集成测试",-1),createBaseVNode("p",null,"测试天气API集成、3D可视化和推荐系统增强功能",-1)])),_:1,__:[1]}),createBaseVNode("div",_hoisted_2$b,[createVNode$1(FluentCard,null,{default:withCtx(()=>[Ny[2]||(Ny[2]=createBaseVNode("h3",null,"环境检测",-1)),createBaseVNode("div",_hoisted_3$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ua.value,(By,Oy)=>(openBlock(),createElementBlock("div",{key:Oy,class:"test-item"},[createBaseVNode("span",{class:normalizeClass(["status",By.status])},toDisplayString(By.status==="success"?"✓":"✗"),3),createBaseVNode("span",null,toDisplayString(By.description),1),By.message?(openBlock(),createElementBlock("span",_hoisted_4$b,toDisplayString(By.message),1)):createCommentVNode("",!0)]))),128))])]),_:1,__:[2]}),createVNode$1(FluentCard,null,{default:withCtx(()=>[Ny[3]||(Ny[3]=createBaseVNode("h3",null,"天气服务测试",-1)),createBaseVNode("button",{class:"btn primary",onClick:Iy,disabled:ka.value},toDisplayString(ka.value?"测试中...":"开始测试"),9,_hoisted_5$b),Sa.value.length?(openBlock(),createElementBlock("div",_hoisted_6$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.value,By=>(openBlock(),createElementBlock("div",{key:By.test,class:"test-item"},[createBaseVNode("span",{class:normalizeClass(["status",By.status])},toDisplayString(By.status==="success"?"✓":"✗"),3),createBaseVNode("span",null,toDisplayString(By.test),1),By.message?(openBlock(),createElementBlock("span",_hoisted_7$6,toDisplayString(By.message),1)):createCommentVNode("",!0)]))),128))])):createCommentVNode("",!0)]),_:1,__:[3]}),createVNode$1(FluentCard,null,{default:withCtx(()=>[Ny[4]||(Ny[4]=createBaseVNode("h3",null,"推荐系统增强测试",-1)),createBaseVNode("button",{class:"btn primary",onClick:Ly,disabled:ka.value},toDisplayString(ka.value?"测试中...":"开始测试"),9,_hoisted_8$6),ba.value.length?(openBlock(),createElementBlock("div",_hoisted_9$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ba.value,By=>(openBlock(),createElementBlock("div",{key:By.test,class:"test-item"},[createBaseVNode("span",{class:normalizeClass(["status",By.status])},toDisplayString(By.status==="success"?"✓":"✗"),3),createBaseVNode("span",null,toDisplayString(By.test),1),By.data?(openBlock(),createElementBlock("span",_hoisted_10$6,toDisplayString(JSON.stringify(By.data).slice(0,100))+"...",1)):createCommentVNode("",!0)]))),128))])):createCommentVNode("",!0)]),_:1,__:[4]}),createVNode$1(FluentCard,null,{default:withCtx(()=>{var By,Oy,Fy,zy;return[Ny[11]||(Ny[11]=createBaseVNode("h3",null,"实时天气数据",-1)),createBaseVNode("div",_hoisted_11$6,[createBaseVNode("div",_hoisted_12$6,[Ny[6]||(Ny[6]=createBaseVNode("label",null,"选择城市:",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ny[0]||(Ny[0]=Hy=>_y.value=Hy),onChange:Py},Ny[5]||(Ny[5]=[createBaseVNode("option",{value:"116.4074,39.9042"},"北京",-1),createBaseVNode("option",{value:"121.4737,31.2304"},"上海",-1),createBaseVNode("option",{value:"113.2644,23.1291"},"广州",-1),createBaseVNode("option",{value:"114.0579,22.5431"},"深圳",-1)]),544),[[vModelSelect,_y.value]])]),Ty.value?(openBlock(),createElementBlock("div",_hoisted_13$6,[createBaseVNode("div",_hoisted_14$5,[Ny[7]||(Ny[7]=createBaseVNode("strong",null,"温度:",-1)),createTextVNode(" "+toDisplayString((By=Ty.value.current)==null?void 0:By.temp)+"°C ",1)]),createBaseVNode("div",_hoisted_15$5,[Ny[8]||(Ny[8]=createBaseVNode("strong",null,"天气:",-1)),createTextVNode(" "+toDisplayString((Oy=Ty.value.current)==null?void 0:Oy.weather),1)]),createBaseVNode("div",_hoisted_16$5,[Ny[9]||(Ny[9]=createBaseVNode("strong",null,"湿度:",-1)),createTextVNode(" "+toDisplayString((Fy=Ty.value.current)==null?void 0:Fy.humidity)+"% ",1)]),createBaseVNode("div",_hoisted_17$4,[Ny[10]||(Ny[10]=createBaseVNode("strong",null,"风速:",-1)),createTextVNode(" "+toDisplayString((zy=Ty.value.current)==null?void 0:zy.windSpeed)+" km/h ",1)])])):createCommentVNode("",!0)])]}),_:1,__:[11]}),createVNode$1(FluentCard,null,{default:withCtx(()=>[Ny[15]||(Ny[15]=createBaseVNode("h3",null,"物流风险评估",-1)),createBaseVNode("button",{class:"btn primary",onClick:Ry,disabled:ka.value}," 评估路线风险 ",8,_hoisted_18$4),Ay.value?(openBlock(),createElementBlock("div",_hoisted_19$4,[createBaseVNode("div",_hoisted_20$4,[Ny[12]||(Ny[12]=createBaseVNode("strong",null,"总体风险:",-1)),createBaseVNode("span",{class:normalizeClass(["risk-level",Ay.value.riskLevel])},toDisplayString(Ay.value.riskLevel),3)]),createBaseVNode("div",_hoisted_21$3,[Ny[13]||(Ny[13]=createBaseVNode("strong",null,"风险评分:",-1)),createTextVNode(" "+toDisplayString(Ay.value.riskScore)+"/10 ",1)]),createBaseVNode("div",_hoisted_22$3,[Ny[14]||(Ny[14]=createBaseVNode("h4",null,"预警信息:",-1)),createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ay.value.warnings,By=>(openBlock(),createElementBlock("li",{key:By},toDisplayString(By),1))),128))])])])):createCommentVNode("",!0)]),_:1,__:[15]}),createVNode$1(FluentCard,{class:"integration-status"},{default:withCtx(()=>[Ny[20]||(Ny[20]=createBaseVNode("h3",null,"集成状态总览",-1)),createBaseVNode("div",_hoisted_23$3,[createBaseVNode("div",_hoisted_24$3,[Ny[16]||(Ny[16]=createBaseVNode("div",{class:"status-label"},"天气API",-1)),createBaseVNode("div",{class:normalizeClass(["status-indicator",My("weather")])},null,2)]),createBaseVNode("div",_hoisted_25$3,[Ny[17]||(Ny[17]=createBaseVNode("div",{class:"status-label"},"推荐系统",-1)),createBaseVNode("div",{class:normalizeClass(["status-indicator",My("recommend")])},null,2)]),createBaseVNode("div",_hoisted_26$2,[Ny[18]||(Ny[18]=createBaseVNode("div",{class:"status-label"},"3D可视化",-1)),createBaseVNode("div",{class:normalizeClass(["status-indicator",My("visualization")])},null,2)]),createBaseVNode("div",_hoisted_27$2,[Ny[19]||(Ny[19]=createBaseVNode("div",{class:"status-label"},"风险评估",-1)),createBaseVNode("div",{class:normalizeClass(["status-indicator",My("risk")])},null,2)])])]),_:1,__:[20]})])]))}}),WeatherTest=_export_sfc(_sfc_main$e,[["__scopeId","data-v-4def5993"]]),_imports_0="/wallpaper.jpg",useUIStore=defineStore("ui",{state:()=>({fullscreen:!1,drawer:{leftOpen:!1,rightOpen:!1,leftPinned:!1,rightPinned:!1,leftWidth:360,rightWidth:360}}),actions:{toggleFullscreen(){this.fullscreen=!this.fullscreen,this.fullscreen&&this.closeBoth()},hover(ha,ua){const Sa=`${ha}Pinned`,ba=`${ha}Open`;this.drawer[Sa]||(this.drawer[ba]=ua)},toggleOpen(ha){const ua=`${ha}Open`;this.drawer[ua]=!this.drawer[ua]},togglePin(ha){const ua=`${ha}Pinned`,Sa=`${ha}Open`;this.drawer[ua]=!this.drawer[ua],this.drawer[ua]&&(this.drawer[Sa]=!0)},setLeftWidth(ha){this.drawer.leftWidth=Math.max(280,Math.min(440,ha))},setRightWidth(ha){this.drawer.rightWidth=Math.max(280,Math.min(440,ha))},closeBoth(){this.drawer.leftOpen=!1,this.drawer.rightOpen=!1,this.drawer.leftPinned=!1,this.drawer.rightPinned=!1}}}),recommendSidebarOpen=ref(!1);function closeRecommend(){recommendSidebarOpen.value=!1}function toggleRecommend(){recommendSidebarOpen.value=!recommendSidebarOpen.value}const _hoisted_1$b={class:"topbar fluent-acrylic-strong"},_hoisted_2$a={class:"left"},_hoisted_3$a={class:"time"},_hoisted_4$a={class:"center"},_hoisted_5$a={class:"right"},_sfc_main$d=defineComponent({__name:"TopBar",setup(ha){const ua=useUIStore(),{fullscreen:Sa}=storeToRefs(ua),ba=ref("— —");let ka;function _y(){const Ey=new Date,My=Dy=>Dy<10?"0"+Dy:""+Dy;ba.value=`${Ey.getFullYear()}-${My(Ey.getMonth()+1)}-${My(Ey.getDate())} ${My(Ey.getHours())}:${My(Ey.getMinutes())}:${My(Ey.getSeconds())}`}onMounted(()=>{_y(),ka=window.setInterval(_y,1e3)}),onBeforeUnmount(()=>{ka&&window.clearInterval(ka)});const Ty=useRoute(),Ay=Ey=>Ty.path===Ey;return(Ey,My)=>{const Dy=resolveComponent("RouterLink");return openBlock(),createElementBlock("header",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("span",_hoisted_3$a,toDisplayString(ba.value),1),createBaseVNode("button",{class:"nav-btn",onClick:My[0]||(My[0]=Iy=>unref(ua).toggleFullscreen())},toDisplayString(unref(Sa)?"退出全屏":"全屏"),1)]),createBaseVNode("nav",_hoisted_4$a,[createVNode$1(Dy,{class:normalizeClass(["nav-btn",{active:Ay("/")}]),to:"/"},{default:withCtx(()=>My[2]||(My[2]=[createTextVNode("总览",-1)])),_:1,__:[2]},8,["class"]),createVNode$1(Dy,{class:normalizeClass(["nav-btn",{active:Ay("/scene")}]),to:"/scene/gu"},{default:withCtx(()=>My[3]||(My[3]=[createTextVNode("三维场景",-1)])),_:1,__:[3]},8,["class"]),createVNode$1(Dy,{class:normalizeClass(["nav-btn",{active:Ay("/video-recognition")}]),to:"/video-recognition"},{default:withCtx(()=>My[4]||(My[4]=[createTextVNode("视频识别",-1)])),_:1,__:[4]},8,["class"])]),createBaseVNode("div",_hoisted_5$a,[createBaseVNode("button",{class:"nav-btn",onClick:My[1]||(My[1]=Iy=>unref(toggleRecommend)())},"推荐侧栏"),My[5]||(My[5]=createBaseVNode("div",{class:"persona"},[createBaseVNode("img",{class:"avatar",alt:"logo",src:_imports_0}),createBaseVNode("div",{class:"name"},"Winlike Industrial")],-1))])])}}}),TopBar=_export_sfc(_sfc_main$d,[["__scopeId","data-v-b79c2e02"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(ha,ua){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Sa,ba){Sa.__proto__=ba}||function(Sa,ba){for(var ka in ba)Object.prototype.hasOwnProperty.call(ba,ka)&&(Sa[ka]=ba[ka])},extendStatics(ha,ua)};function __extends(ha,ua){if(typeof ua!="function"&&ua!==null)throw new TypeError("Class extends value "+String(ua)+" is not a constructor or null");extendStatics(ha,ua);function Sa(){this.constructor=ha}ha.prototype=ua===null?Object.create(ua):(Sa.prototype=ua.prototype,new Sa)}var Browser=function(){function ha(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return ha}(),Env=function(){function ha(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return ha}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:!env.hasGlobalWindow||"Deno"in window?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(ha,ua){var Sa=ua.browser,ba=ha.match(/Firefox\/([\d.]+)/),ka=ha.match(/MSIE\s([\d.]+)/)||ha.match(/Trident\/.+?rv:(([\d.]+))/),_y=ha.match(/Edge?\/([\d.]+)/),Ty=/micromessenger/i.test(ha);ba&&(Sa.firefox=!0,Sa.version=ba[1]),ka&&(Sa.ie=!0,Sa.version=ka[1]),_y&&(Sa.edge=!0,Sa.version=_y[1],Sa.newEdge=+_y[1].split(".")[0]>18),Ty&&(Sa.weChat=!0),ua.svgSupported=typeof SVGRect<"u",ua.touchEventsSupported="ontouchstart"in window&&!Sa.ie&&!Sa.edge,ua.pointerEventsSupported="onpointerdown"in window&&(Sa.edge||Sa.ie&&+Sa.version>=11),ua.domSupported=typeof document<"u";var Ay=document.documentElement.style;ua.transform3dSupported=(Sa.ie&&"transition"in Ay||Sa.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in Ay)&&!("OTransition"in Ay),ua.transformSupported=ua.transform3dSupported||Sa.ie&&+Sa.version>=9}var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(ha){var ua={};if(typeof JSON>"u")return ua;for(var Sa=0;Sa<ha.length;Sa++){var ba=String.fromCharCode(Sa+32),ka=(ha.charCodeAt(Sa)-OFFSET)/SCALE;ua[ba]=ka}return ua}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var ha,ua;return function(Sa,ba){if(!ha){var ka=platformApi.createCanvas();ha=ka&&ka.getContext("2d")}if(ha)return ua!==ba&&(ua=ha.font=ba||DEFAULT_FONT),ha.measureText(Sa);Sa=Sa||"",ba=ba||DEFAULT_FONT;var _y=/((?:\d+)?\.?\d*)px/.exec(ba),Ty=_y&&+_y[1]||DEFAULT_FONT_SIZE,Ay=0;if(ba.indexOf("mono")>=0)Ay=Ty*Sa.length;else for(var Ey=0;Ey<Sa.length;Ey++){var My=DEFAULT_TEXT_WIDTH_MAP[Sa[Ey]];Ay+=My==null?Ty:My*Ty}return{width:Ay}}}(),loadImage:function(ha,ua,Sa){var ba=new Image;return ba.onload=ua,ba.onerror=Sa,ba.src=ha,ba}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(ha,ua){return ha["[object "+ua+"]"]=!0,ha},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(ha,ua){return ha["[object "+ua+"Array]"]=!0,ha},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var ha=[],ua=0;ua<arguments.length;ua++)ha[ua]=arguments[ua];typeof console<"u"&&console.error.apply(console,ha)}function clone$4(ha){if(ha==null||typeof ha!="object")return ha;var ua=ha,Sa=objToString.call(ha);if(Sa==="[object Array]"){if(!isPrimitive(ha)){ua=[];for(var ba=0,ka=ha.length;ba<ka;ba++)ua[ba]=clone$4(ha[ba])}}else if(TYPED_ARRAY[Sa]){if(!isPrimitive(ha)){var _y=ha.constructor;if(_y.from)ua=_y.from(ha);else{ua=new _y(ha.length);for(var ba=0,ka=ha.length;ba<ka;ba++)ua[ba]=ha[ba]}}}else if(!BUILTIN_OBJECT[Sa]&&!isPrimitive(ha)&&!isDom(ha)){ua={};for(var Ty in ha)ha.hasOwnProperty(Ty)&&Ty!==protoKey&&(ua[Ty]=clone$4(ha[Ty]))}return ua}function merge(ha,ua,Sa){if(!isObject$3(ua)||!isObject$3(ha))return Sa?clone$4(ua):ha;for(var ba in ua)if(ua.hasOwnProperty(ba)&&ba!==protoKey){var ka=ha[ba],_y=ua[ba];isObject$3(_y)&&isObject$3(ka)&&!isArray$1(_y)&&!isArray$1(ka)&&!isDom(_y)&&!isDom(ka)&&!isBuiltInObject(_y)&&!isBuiltInObject(ka)&&!isPrimitive(_y)&&!isPrimitive(ka)?merge(ka,_y,Sa):(Sa||!(ba in ha))&&(ha[ba]=clone$4(ua[ba]))}return ha}function mergeAll(ha,ua){for(var Sa=ha[0],ba=1,ka=ha.length;ba<ka;ba++)Sa=merge(Sa,ha[ba],ua);return Sa}function extend(ha,ua){if(Object.assign)Object.assign(ha,ua);else for(var Sa in ua)ua.hasOwnProperty(Sa)&&Sa!==protoKey&&(ha[Sa]=ua[Sa]);return ha}function defaults(ha,ua,Sa){for(var ba=keys(ua),ka=0,_y=ba.length;ka<_y;ka++){var Ty=ba[ka];(Sa?ua[Ty]!=null:ha[Ty]==null)&&(ha[Ty]=ua[Ty])}return ha}function indexOf(ha,ua){if(ha){if(ha.indexOf)return ha.indexOf(ua);for(var Sa=0,ba=ha.length;Sa<ba;Sa++)if(ha[Sa]===ua)return Sa}return-1}function inherits(ha,ua){var Sa=ha.prototype;function ba(){}ba.prototype=ua.prototype,ha.prototype=new ba;for(var ka in Sa)Sa.hasOwnProperty(ka)&&(ha.prototype[ka]=Sa[ka]);ha.prototype.constructor=ha,ha.superClass=ua}function mixin(ha,ua,Sa){if(ha="prototype"in ha?ha.prototype:ha,ua="prototype"in ua?ua.prototype:ua,Object.getOwnPropertyNames)for(var ba=Object.getOwnPropertyNames(ua),ka=0;ka<ba.length;ka++){var _y=ba[ka];_y!=="constructor"&&(Sa?ua[_y]!=null:ha[_y]==null)&&(ha[_y]=ua[_y])}else defaults(ha,ua,Sa)}function isArrayLike(ha){return!ha||typeof ha=="string"?!1:typeof ha.length=="number"}function each$f(ha,ua,Sa){if(ha&&ua)if(ha.forEach&&ha.forEach===nativeForEach)ha.forEach(ua,Sa);else if(ha.length===+ha.length)for(var ba=0,ka=ha.length;ba<ka;ba++)ua.call(Sa,ha[ba],ba,ha);else for(var _y in ha)ha.hasOwnProperty(_y)&&ua.call(Sa,ha[_y],_y,ha)}function map$1(ha,ua,Sa){if(!ha)return[];if(!ua)return slice(ha);if(ha.map&&ha.map===nativeMap)return ha.map(ua,Sa);for(var ba=[],ka=0,_y=ha.length;ka<_y;ka++)ba.push(ua.call(Sa,ha[ka],ka,ha));return ba}function reduce(ha,ua,Sa,ba){if(ha&&ua){for(var ka=0,_y=ha.length;ka<_y;ka++)Sa=ua.call(ba,Sa,ha[ka],ka,ha);return Sa}}function filter(ha,ua,Sa){if(!ha)return[];if(!ua)return slice(ha);if(ha.filter&&ha.filter===nativeFilter)return ha.filter(ua,Sa);for(var ba=[],ka=0,_y=ha.length;ka<_y;ka++)ua.call(Sa,ha[ka],ka,ha)&&ba.push(ha[ka]);return ba}function find(ha,ua,Sa){if(ha&&ua){for(var ba=0,ka=ha.length;ba<ka;ba++)if(ua.call(Sa,ha[ba],ba,ha))return ha[ba]}}function keys(ha){if(!ha)return[];if(Object.keys)return Object.keys(ha);var ua=[];for(var Sa in ha)ha.hasOwnProperty(Sa)&&ua.push(Sa);return ua}function bindPolyfill(ha,ua){for(var Sa=[],ba=2;ba<arguments.length;ba++)Sa[ba-2]=arguments[ba];return function(){return ha.apply(ua,Sa.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(ha){for(var ua=[],Sa=1;Sa<arguments.length;Sa++)ua[Sa-1]=arguments[Sa];return function(){return ha.apply(this,ua.concat(nativeSlice.call(arguments)))}}function isArray$1(ha){return Array.isArray?Array.isArray(ha):objToString.call(ha)==="[object Array]"}function isFunction(ha){return typeof ha=="function"}function isString(ha){return typeof ha=="string"}function isStringSafe(ha){return objToString.call(ha)==="[object String]"}function isNumber(ha){return typeof ha=="number"}function isObject$3(ha){var ua=typeof ha;return ua==="function"||!!ha&&ua==="object"}function isBuiltInObject(ha){return!!BUILTIN_OBJECT[objToString.call(ha)]}function isTypedArray(ha){return!!TYPED_ARRAY[objToString.call(ha)]}function isDom(ha){return typeof ha=="object"&&typeof ha.nodeType=="number"&&typeof ha.ownerDocument=="object"}function isGradientObject(ha){return ha.colorStops!=null}function isImagePatternObject(ha){return ha.image!=null}function isRegExp(ha){return objToString.call(ha)==="[object RegExp]"}function eqNaN(ha){return ha!==ha}function retrieve(){for(var ha=[],ua=0;ua<arguments.length;ua++)ha[ua]=arguments[ua];for(var Sa=0,ba=ha.length;Sa<ba;Sa++)if(ha[Sa]!=null)return ha[Sa]}function retrieve2(ha,ua){return ha??ua}function retrieve3(ha,ua,Sa){return ha??ua??Sa}function slice(ha){for(var ua=[],Sa=1;Sa<arguments.length;Sa++)ua[Sa-1]=arguments[Sa];return nativeSlice.apply(ha,ua)}function normalizeCssArray$1(ha){if(typeof ha=="number")return[ha,ha,ha,ha];var ua=ha.length;return ua===2?[ha[0],ha[1],ha[0],ha[1]]:ua===3?[ha[0],ha[1],ha[2],ha[1]]:ha}function assert(ha,ua){if(!ha)throw new Error(ua)}function trim$1(ha){return ha==null?null:typeof ha.trim=="function"?ha.trim():ha.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(ha){ha[primitiveKey]=!0}function isPrimitive(ha){return ha[primitiveKey]}var MapPolyfill=function(){function ha(){this.data={}}return ha.prototype.delete=function(ua){var Sa=this.has(ua);return Sa&&delete this.data[ua],Sa},ha.prototype.has=function(ua){return this.data.hasOwnProperty(ua)},ha.prototype.get=function(ua){return this.data[ua]},ha.prototype.set=function(ua,Sa){return this.data[ua]=Sa,this},ha.prototype.keys=function(){return keys(this.data)},ha.prototype.forEach=function(ua){var Sa=this.data;for(var ba in Sa)Sa.hasOwnProperty(ba)&&ua(Sa[ba],ba)},ha}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function ha(ua){var Sa=isArray$1(ua);this.data=maybeNativeMap();var ba=this;ua instanceof ha?ua.each(ka):ua&&each$f(ua,ka);function ka(_y,Ty){Sa?ba.set(_y,Ty):ba.set(Ty,_y)}}return ha.prototype.hasKey=function(ua){return this.data.has(ua)},ha.prototype.get=function(ua){return this.data.get(ua)},ha.prototype.set=function(ua,Sa){return this.data.set(ua,Sa),Sa},ha.prototype.each=function(ua,Sa){this.data.forEach(function(ba,ka){ua.call(Sa,ba,ka)})},ha.prototype.keys=function(){var ua=this.data.keys();return isNativeMapSupported?Array.from(ua):ua},ha.prototype.removeKey=function(ua){this.data.delete(ua)},ha}();function createHashMap(ha){return new HashMap(ha)}function concatArray(ha,ua){for(var Sa=new ha.constructor(ha.length+ua.length),ba=0;ba<ha.length;ba++)Sa[ba]=ha[ba];for(var ka=ha.length,ba=0;ba<ua.length;ba++)Sa[ba+ka]=ua[ba];return Sa}function createObject(ha,ua){var Sa;if(Object.create)Sa=Object.create(ha);else{var ba=function(){};ba.prototype=ha,Sa=new ba}return ua&&extend(Sa,ua),Sa}function disableUserSelect(ha){var ua=ha.style;ua.webkitUserSelect="none",ua.userSelect="none",ua.webkitTapHighlightColor="rgba(0,0,0,0)",ua["-webkit-touch-callout"]="none"}function hasOwn(ha,ua){return ha.hasOwnProperty(ua)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$2(ha,ua){return ha==null&&(ha=0),ua==null&&(ua=0),[ha,ua]}function copy$1(ha,ua){return ha[0]=ua[0],ha[1]=ua[1],ha}function clone$3(ha){return[ha[0],ha[1]]}function set$1(ha,ua,Sa){return ha[0]=ua,ha[1]=Sa,ha}function add(ha,ua,Sa){return ha[0]=ua[0]+Sa[0],ha[1]=ua[1]+Sa[1],ha}function scaleAndAdd$1(ha,ua,Sa,ba){return ha[0]=ua[0]+Sa[0]*ba,ha[1]=ua[1]+Sa[1]*ba,ha}function sub(ha,ua,Sa){return ha[0]=ua[0]-Sa[0],ha[1]=ua[1]-Sa[1],ha}function len(ha){return Math.sqrt(lenSquare(ha))}function lenSquare(ha){return ha[0]*ha[0]+ha[1]*ha[1]}function scale$2(ha,ua,Sa){return ha[0]=ua[0]*Sa,ha[1]=ua[1]*Sa,ha}function normalize$3(ha,ua){var Sa=len(ua);return Sa===0?(ha[0]=0,ha[1]=0):(ha[0]=ua[0]/Sa,ha[1]=ua[1]/Sa),ha}function distance(ha,ua){return Math.sqrt((ha[0]-ua[0])*(ha[0]-ua[0])+(ha[1]-ua[1])*(ha[1]-ua[1]))}var dist$1=distance;function distanceSquare(ha,ua){return(ha[0]-ua[0])*(ha[0]-ua[0])+(ha[1]-ua[1])*(ha[1]-ua[1])}var distSquare=distanceSquare;function lerp$1(ha,ua,Sa,ba){return ha[0]=ua[0]+ba*(Sa[0]-ua[0]),ha[1]=ua[1]+ba*(Sa[1]-ua[1]),ha}function applyTransform$1(ha,ua,Sa){var ba=ua[0],ka=ua[1];return ha[0]=Sa[0]*ba+Sa[2]*ka+Sa[4],ha[1]=Sa[1]*ba+Sa[3]*ka+Sa[5],ha}function min$1(ha,ua,Sa){return ha[0]=Math.min(ua[0],Sa[0]),ha[1]=Math.min(ua[1],Sa[1]),ha}function max$1(ha,ua,Sa){return ha[0]=Math.max(ua[0],Sa[0]),ha[1]=Math.max(ua[1],Sa[1]),ha}var Param=function(){function ha(ua,Sa){this.target=ua,this.topTarget=Sa&&Sa.topTarget}return ha}(),Draggable=function(){function ha(ua){this.handler=ua,ua.on("mousedown",this._dragStart,this),ua.on("mousemove",this._drag,this),ua.on("mouseup",this._dragEnd,this)}return ha.prototype._dragStart=function(ua){for(var Sa=ua.target;Sa&&!Sa.draggable;)Sa=Sa.parent||Sa.__hostTarget;Sa&&(this._draggingTarget=Sa,Sa.dragging=!0,this._x=ua.offsetX,this._y=ua.offsetY,this.handler.dispatchToElement(new Param(Sa,ua),"dragstart",ua.event))},ha.prototype._drag=function(ua){var Sa=this._draggingTarget;if(Sa){var ba=ua.offsetX,ka=ua.offsetY,_y=ba-this._x,Ty=ka-this._y;this._x=ba,this._y=ka,Sa.drift(_y,Ty,ua),this.handler.dispatchToElement(new Param(Sa,ua),"drag",ua.event);var Ay=this.handler.findHover(ba,ka,Sa).target,Ey=this._dropTarget;this._dropTarget=Ay,Sa!==Ay&&(Ey&&Ay!==Ey&&this.handler.dispatchToElement(new Param(Ey,ua),"dragleave",ua.event),Ay&&Ay!==Ey&&this.handler.dispatchToElement(new Param(Ay,ua),"dragenter",ua.event))}},ha.prototype._dragEnd=function(ua){var Sa=this._draggingTarget;Sa&&(Sa.dragging=!1),this.handler.dispatchToElement(new Param(Sa,ua),"dragend",ua.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,ua),"drop",ua.event),this._draggingTarget=null,this._dropTarget=null},ha}(),Eventful=function(){function ha(ua){ua&&(this._$eventProcessor=ua)}return ha.prototype.on=function(ua,Sa,ba,ka){this._$handlers||(this._$handlers={});var _y=this._$handlers;if(typeof Sa=="function"&&(ka=ba,ba=Sa,Sa=null),!ba||!ua)return this;var Ty=this._$eventProcessor;Sa!=null&&Ty&&Ty.normalizeQuery&&(Sa=Ty.normalizeQuery(Sa)),_y[ua]||(_y[ua]=[]);for(var Ay=0;Ay<_y[ua].length;Ay++)if(_y[ua][Ay].h===ba)return this;var Ey={h:ba,query:Sa,ctx:ka||this,callAtLast:ba.zrEventfulCallAtLast},My=_y[ua].length-1,Dy=_y[ua][My];return Dy&&Dy.callAtLast?_y[ua].splice(My,0,Ey):_y[ua].push(Ey),this},ha.prototype.isSilent=function(ua){var Sa=this._$handlers;return!Sa||!Sa[ua]||!Sa[ua].length},ha.prototype.off=function(ua,Sa){var ba=this._$handlers;if(!ba)return this;if(!ua)return this._$handlers={},this;if(Sa){if(ba[ua]){for(var ka=[],_y=0,Ty=ba[ua].length;_y<Ty;_y++)ba[ua][_y].h!==Sa&&ka.push(ba[ua][_y]);ba[ua]=ka}ba[ua]&&ba[ua].length===0&&delete ba[ua]}else delete ba[ua];return this},ha.prototype.trigger=function(ua){for(var Sa=[],ba=1;ba<arguments.length;ba++)Sa[ba-1]=arguments[ba];if(!this._$handlers)return this;var ka=this._$handlers[ua],_y=this._$eventProcessor;if(ka)for(var Ty=Sa.length,Ay=ka.length,Ey=0;Ey<Ay;Ey++){var My=ka[Ey];if(!(_y&&_y.filter&&My.query!=null&&!_y.filter(ua,My.query)))switch(Ty){case 0:My.h.call(My.ctx);break;case 1:My.h.call(My.ctx,Sa[0]);break;case 2:My.h.call(My.ctx,Sa[0],Sa[1]);break;default:My.h.apply(My.ctx,Sa);break}}return _y&&_y.afterTrigger&&_y.afterTrigger(ua),this},ha.prototype.triggerWithContext=function(ua){for(var Sa=[],ba=1;ba<arguments.length;ba++)Sa[ba-1]=arguments[ba];if(!this._$handlers)return this;var ka=this._$handlers[ua],_y=this._$eventProcessor;if(ka)for(var Ty=Sa.length,Ay=Sa[Ty-1],Ey=ka.length,My=0;My<Ey;My++){var Dy=ka[My];if(!(_y&&_y.filter&&Dy.query!=null&&!_y.filter(ua,Dy.query)))switch(Ty){case 0:Dy.h.call(Ay);break;case 1:Dy.h.call(Ay,Sa[0]);break;case 2:Dy.h.call(Ay,Sa[0],Sa[1]);break;default:Dy.h.apply(Ay,Sa.slice(1,Ty-1));break}}return _y&&_y.afterTrigger&&_y.afterTrigger(ua),this},ha}(),LN2=Math.log(2);function determinant(ha,ua,Sa,ba,ka,_y){var Ty=ba+"-"+ka,Ay=ha.length;if(_y.hasOwnProperty(Ty))return _y[Ty];if(ua===1){var Ey=Math.round(Math.log((1<<Ay)-1&~ka)/LN2);return ha[Sa][Ey]}for(var My=ba|1<<Sa,Dy=Sa+1;ba&1<<Dy;)Dy++;for(var Iy=0,Ly=0,Py=0;Ly<Ay;Ly++){var Ry=1<<Ly;Ry&ka||(Iy+=(Py%2?-1:1)*ha[Sa][Ly]*determinant(ha,ua-1,Dy,My,ka|Ry,_y),Py++)}return _y[Ty]=Iy,Iy}function buildTransformer(ha,ua){var Sa=[[ha[0],ha[1],1,0,0,0,-ua[0]*ha[0],-ua[0]*ha[1]],[0,0,0,ha[0],ha[1],1,-ua[1]*ha[0],-ua[1]*ha[1]],[ha[2],ha[3],1,0,0,0,-ua[2]*ha[2],-ua[2]*ha[3]],[0,0,0,ha[2],ha[3],1,-ua[3]*ha[2],-ua[3]*ha[3]],[ha[4],ha[5],1,0,0,0,-ua[4]*ha[4],-ua[4]*ha[5]],[0,0,0,ha[4],ha[5],1,-ua[5]*ha[4],-ua[5]*ha[5]],[ha[6],ha[7],1,0,0,0,-ua[6]*ha[6],-ua[6]*ha[7]],[0,0,0,ha[6],ha[7],1,-ua[7]*ha[6],-ua[7]*ha[7]]],ba={},ka=determinant(Sa,8,0,0,0,ba);if(ka!==0){for(var _y=[],Ty=0;Ty<8;Ty++)for(var Ay=0;Ay<8;Ay++)_y[Ay]==null&&(_y[Ay]=0),_y[Ay]+=((Ty+Ay)%2?-1:1)*determinant(Sa,7,Ty===0?1:0,1<<Ty,1<<Ay,ba)/ka*ua[Ty];return function(Ey,My,Dy){var Iy=My*_y[6]+Dy*_y[7]+1;Ey[0]=(My*_y[0]+Dy*_y[1]+_y[2])/Iy,Ey[1]=(My*_y[3]+Dy*_y[4]+_y[5])/Iy}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(ha,ua,Sa,ba,ka){return transformCoordWithViewport(_calcOut$1,ua,ba,ka,!0)&&transformCoordWithViewport(ha,Sa,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(ha,ua,Sa,ba,ka){if(ua.getBoundingClientRect&&env.domSupported&&!isCanvasEl(ua)){var _y=ua[EVENT_SAVED_PROP]||(ua[EVENT_SAVED_PROP]={}),Ty=prepareCoordMarkers(ua,_y),Ay=preparePointerTransformer(Ty,_y,ka);if(Ay)return Ay(ha,Sa,ba),!0}return!1}function prepareCoordMarkers(ha,ua){var Sa=ua.markers;if(Sa)return Sa;Sa=ua.markers=[];for(var ba=["left","right"],ka=["top","bottom"],_y=0;_y<4;_y++){var Ty=document.createElement("div"),Ay=Ty.style,Ey=_y%2,My=(_y>>1)%2;Ay.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",ba[Ey]+":0",ka[My]+":0",ba[1-Ey]+":auto",ka[1-My]+":auto",""].join("!important;"),ha.appendChild(Ty),Sa.push(Ty)}return Sa}function preparePointerTransformer(ha,ua,Sa){for(var ba=Sa?"invTrans":"trans",ka=ua[ba],_y=ua.srcCoords,Ty=[],Ay=[],Ey=!0,My=0;My<4;My++){var Dy=ha[My].getBoundingClientRect(),Iy=2*My,Ly=Dy.left,Py=Dy.top;Ty.push(Ly,Py),Ey=Ey&&_y&&Ly===_y[Iy]&&Py===_y[Iy+1],Ay.push(ha[My].offsetLeft,ha[My].offsetTop)}return Ey&&ka?ka:(ua.srcCoords=Ty,ua[ba]=Sa?buildTransformer(Ay,Ty):buildTransformer(Ty,Ay))}function isCanvasEl(ha){return ha.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(ha){return ha==null?"":(ha+"").replace(replaceReg,function(ua,Sa){return replaceMap[Sa]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env.browser.firefox&&+env.browser.version.split(".")[0]<39;function clientToLocal(ha,ua,Sa,ba){return Sa=Sa||{},ba?calculateZrXY(ha,ua,Sa):firefoxNotSupportOffsetXY&&ua.layerX!=null&&ua.layerX!==ua.offsetX?(Sa.zrX=ua.layerX,Sa.zrY=ua.layerY):ua.offsetX!=null?(Sa.zrX=ua.offsetX,Sa.zrY=ua.offsetY):calculateZrXY(ha,ua,Sa),Sa}function calculateZrXY(ha,ua,Sa){if(env.domSupported&&ha.getBoundingClientRect){var ba=ua.clientX,ka=ua.clientY;if(isCanvasEl(ha)){var _y=ha.getBoundingClientRect();Sa.zrX=ba-_y.left,Sa.zrY=ka-_y.top;return}else if(transformCoordWithViewport(_calcOut,ha,ba,ka)){Sa.zrX=_calcOut[0],Sa.zrY=_calcOut[1];return}}Sa.zrX=Sa.zrY=0}function getNativeEvent(ha){return ha||window.event}function normalizeEvent(ha,ua,Sa){if(ua=getNativeEvent(ua),ua.zrX!=null)return ua;var ba=ua.type,ka=ba&&ba.indexOf("touch")>=0;if(ka){var Ty=ba!=="touchend"?ua.targetTouches[0]:ua.changedTouches[0];Ty&&clientToLocal(ha,Ty,ua,Sa)}else{clientToLocal(ha,ua,ua,Sa);var _y=getWheelDeltaMayPolyfill(ua);ua.zrDelta=_y?_y/120:-(ua.detail||0)/3}var Ay=ua.button;return ua.which==null&&Ay!==void 0&&MOUSE_EVENT_REG.test(ua.type)&&(ua.which=Ay&1?1:Ay&2?3:Ay&4?2:0),ua}function getWheelDeltaMayPolyfill(ha){var ua=ha.wheelDelta;if(ua)return ua;var Sa=ha.deltaX,ba=ha.deltaY;if(Sa==null||ba==null)return ua;var ka=Math.abs(ba!==0?ba:Sa),_y=ba>0?-1:ba<0?1:Sa>0?-1:1;return 3*ka*_y}function addEventListener(ha,ua,Sa,ba){ha.addEventListener(ua,Sa,ba)}function removeEventListener(ha,ua,Sa,ba){ha.removeEventListener(ua,Sa,ba)}var stop=function(ha){ha.preventDefault(),ha.stopPropagation(),ha.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(ha){return ha.which===2||ha.which===3}var GestureMgr=function(){function ha(){this._track=[]}return ha.prototype.recognize=function(ua,Sa,ba){return this._doTrack(ua,Sa,ba),this._recognize(ua)},ha.prototype.clear=function(){return this._track.length=0,this},ha.prototype._doTrack=function(ua,Sa,ba){var ka=ua.touches;if(ka){for(var _y={points:[],touches:[],target:Sa,event:ua},Ty=0,Ay=ka.length;Ty<Ay;Ty++){var Ey=ka[Ty],My=clientToLocal(ba,Ey,{});_y.points.push([My.zrX,My.zrY]),_y.touches.push(Ey)}this._track.push(_y)}},ha.prototype._recognize=function(ua){for(var Sa in recognizers)if(recognizers.hasOwnProperty(Sa)){var ba=recognizers[Sa](this._track,ua);if(ba)return ba}},ha}();function dist(ha){var ua=ha[1][0]-ha[0][0],Sa=ha[1][1]-ha[0][1];return Math.sqrt(ua*ua+Sa*Sa)}function center$1(ha){return[(ha[0][0]+ha[1][0])/2,(ha[0][1]+ha[1][1])/2]}var recognizers={pinch:function(ha,ua){var Sa=ha.length;if(Sa){var ba=(ha[Sa-1]||{}).points,ka=(ha[Sa-2]||{}).points||ba;if(ka&&ka.length>1&&ba&&ba.length>1){var _y=dist(ba)/dist(ka);!isFinite(_y)&&(_y=1),ua.pinchScale=_y;var Ty=center$1(ba);return ua.pinchX=Ty[0],ua.pinchY=Ty[1],{type:"pinch",target:ha[0].target,event:ua}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(ha){return ha[0]=1,ha[1]=0,ha[2]=0,ha[3]=1,ha[4]=0,ha[5]=0,ha}function copy(ha,ua){return ha[0]=ua[0],ha[1]=ua[1],ha[2]=ua[2],ha[3]=ua[3],ha[4]=ua[4],ha[5]=ua[5],ha}function mul(ha,ua,Sa){var ba=ua[0]*Sa[0]+ua[2]*Sa[1],ka=ua[1]*Sa[0]+ua[3]*Sa[1],_y=ua[0]*Sa[2]+ua[2]*Sa[3],Ty=ua[1]*Sa[2]+ua[3]*Sa[3],Ay=ua[0]*Sa[4]+ua[2]*Sa[5]+ua[4],Ey=ua[1]*Sa[4]+ua[3]*Sa[5]+ua[5];return ha[0]=ba,ha[1]=ka,ha[2]=_y,ha[3]=Ty,ha[4]=Ay,ha[5]=Ey,ha}function translate(ha,ua,Sa){return ha[0]=ua[0],ha[1]=ua[1],ha[2]=ua[2],ha[3]=ua[3],ha[4]=ua[4]+Sa[0],ha[5]=ua[5]+Sa[1],ha}function rotate(ha,ua,Sa,ba){ba===void 0&&(ba=[0,0]);var ka=ua[0],_y=ua[2],Ty=ua[4],Ay=ua[1],Ey=ua[3],My=ua[5],Dy=Math.sin(Sa),Iy=Math.cos(Sa);return ha[0]=ka*Iy+Ay*Dy,ha[1]=-ka*Dy+Ay*Iy,ha[2]=_y*Iy+Ey*Dy,ha[3]=-_y*Dy+Iy*Ey,ha[4]=Iy*(Ty-ba[0])+Dy*(My-ba[1])+ba[0],ha[5]=Iy*(My-ba[1])-Dy*(Ty-ba[0])+ba[1],ha}function scale$1(ha,ua,Sa){var ba=Sa[0],ka=Sa[1];return ha[0]=ua[0]*ba,ha[1]=ua[1]*ka,ha[2]=ua[2]*ba,ha[3]=ua[3]*ka,ha[4]=ua[4]*ba,ha[5]=ua[5]*ka,ha}function invert(ha,ua){var Sa=ua[0],ba=ua[2],ka=ua[4],_y=ua[1],Ty=ua[3],Ay=ua[5],Ey=Sa*Ty-_y*ba;return Ey?(Ey=1/Ey,ha[0]=Ty*Ey,ha[1]=-_y*Ey,ha[2]=-ba*Ey,ha[3]=Sa*Ey,ha[4]=(ba*Ay-Ty*ka)*Ey,ha[5]=(_y*ka-Sa*Ay)*Ey,ha):null}function clone$2(ha){var ua=create$1();return copy(ua,ha),ua}var Point=function(){function ha(ua,Sa){this.x=ua||0,this.y=Sa||0}return ha.prototype.copy=function(ua){return this.x=ua.x,this.y=ua.y,this},ha.prototype.clone=function(){return new ha(this.x,this.y)},ha.prototype.set=function(ua,Sa){return this.x=ua,this.y=Sa,this},ha.prototype.equal=function(ua){return ua.x===this.x&&ua.y===this.y},ha.prototype.add=function(ua){return this.x+=ua.x,this.y+=ua.y,this},ha.prototype.scale=function(ua){this.x*=ua,this.y*=ua},ha.prototype.scaleAndAdd=function(ua,Sa){this.x+=ua.x*Sa,this.y+=ua.y*Sa},ha.prototype.sub=function(ua){return this.x-=ua.x,this.y-=ua.y,this},ha.prototype.dot=function(ua){return this.x*ua.x+this.y*ua.y},ha.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},ha.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},ha.prototype.normalize=function(){var ua=this.len();return this.x/=ua,this.y/=ua,this},ha.prototype.distance=function(ua){var Sa=this.x-ua.x,ba=this.y-ua.y;return Math.sqrt(Sa*Sa+ba*ba)},ha.prototype.distanceSquare=function(ua){var Sa=this.x-ua.x,ba=this.y-ua.y;return Sa*Sa+ba*ba},ha.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},ha.prototype.transform=function(ua){if(ua){var Sa=this.x,ba=this.y;return this.x=ua[0]*Sa+ua[2]*ba+ua[4],this.y=ua[1]*Sa+ua[3]*ba+ua[5],this}},ha.prototype.toArray=function(ua){return ua[0]=this.x,ua[1]=this.y,ua},ha.prototype.fromArray=function(ua){this.x=ua[0],this.y=ua[1]},ha.set=function(ua,Sa,ba){ua.x=Sa,ua.y=ba},ha.copy=function(ua,Sa){ua.x=Sa.x,ua.y=Sa.y},ha.len=function(ua){return Math.sqrt(ua.x*ua.x+ua.y*ua.y)},ha.lenSquare=function(ua){return ua.x*ua.x+ua.y*ua.y},ha.dot=function(ua,Sa){return ua.x*Sa.x+ua.y*Sa.y},ha.add=function(ua,Sa,ba){ua.x=Sa.x+ba.x,ua.y=Sa.y+ba.y},ha.sub=function(ua,Sa,ba){ua.x=Sa.x-ba.x,ua.y=Sa.y-ba.y},ha.scale=function(ua,Sa,ba){ua.x=Sa.x*ba,ua.y=Sa.y*ba},ha.scaleAndAdd=function(ua,Sa,ba,ka){ua.x=Sa.x+ba.x*ka,ua.y=Sa.y+ba.y*ka},ha.lerp=function(ua,Sa,ba,ka){var _y=1-ka;ua.x=_y*Sa.x+ka*ba.x,ua.y=_y*Sa.y+ka*ba.y},ha}(),mathMin$a=Math.min,mathMax$a=Math.max,lt$1=new Point,rb$1=new Point,lb$1=new Point,rt$2=new Point,minTv$1=new Point,maxTv$1=new Point,BoundingRect=function(){function ha(ua,Sa,ba,ka){ba<0&&(ua=ua+ba,ba=-ba),ka<0&&(Sa=Sa+ka,ka=-ka),this.x=ua,this.y=Sa,this.width=ba,this.height=ka}return ha.prototype.union=function(ua){var Sa=mathMin$a(ua.x,this.x),ba=mathMin$a(ua.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(ua.x+ua.width,this.x+this.width)-Sa:this.width=ua.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(ua.y+ua.height,this.y+this.height)-ba:this.height=ua.height,this.x=Sa,this.y=ba},ha.prototype.applyTransform=function(ua){ha.applyTransform(this,this,ua)},ha.prototype.calculateTransform=function(ua){var Sa=this,ba=ua.width/Sa.width,ka=ua.height/Sa.height,_y=create$1();return translate(_y,_y,[-Sa.x,-Sa.y]),scale$1(_y,_y,[ba,ka]),translate(_y,_y,[ua.x,ua.y]),_y},ha.prototype.intersect=function(ua,Sa){if(!ua)return!1;ua instanceof ha||(ua=ha.create(ua));var ba=this,ka=ba.x,_y=ba.x+ba.width,Ty=ba.y,Ay=ba.y+ba.height,Ey=ua.x,My=ua.x+ua.width,Dy=ua.y,Iy=ua.y+ua.height,Ly=!(_y<Ey||My<ka||Ay<Dy||Iy<Ty);if(Sa){var Py=1/0,Ry=0,Vy=Math.abs(_y-Ey),Ny=Math.abs(My-ka),By=Math.abs(Ay-Dy),Oy=Math.abs(Iy-Ty),Fy=Math.min(Vy,Ny),zy=Math.min(By,Oy);_y<Ey||My<ka?Fy>Ry&&(Ry=Fy,Vy<Ny?Point.set(maxTv$1,-Vy,0):Point.set(maxTv$1,Ny,0)):Fy<Py&&(Py=Fy,Vy<Ny?Point.set(minTv$1,Vy,0):Point.set(minTv$1,-Ny,0)),Ay<Dy||Iy<Ty?zy>Ry&&(Ry=zy,By<Oy?Point.set(maxTv$1,0,-By):Point.set(maxTv$1,0,Oy)):Fy<Py&&(Py=Fy,By<Oy?Point.set(minTv$1,0,By):Point.set(minTv$1,0,-Oy))}return Sa&&Point.copy(Sa,Ly?minTv$1:maxTv$1),Ly},ha.prototype.contain=function(ua,Sa){var ba=this;return ua>=ba.x&&ua<=ba.x+ba.width&&Sa>=ba.y&&Sa<=ba.y+ba.height},ha.prototype.clone=function(){return new ha(this.x,this.y,this.width,this.height)},ha.prototype.copy=function(ua){ha.copy(this,ua)},ha.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},ha.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},ha.prototype.isZero=function(){return this.width===0||this.height===0},ha.create=function(ua){return new ha(ua.x,ua.y,ua.width,ua.height)},ha.copy=function(ua,Sa){ua.x=Sa.x,ua.y=Sa.y,ua.width=Sa.width,ua.height=Sa.height},ha.applyTransform=function(ua,Sa,ba){if(!ba){ua!==Sa&&ha.copy(ua,Sa);return}if(ba[1]<1e-5&&ba[1]>-1e-5&&ba[2]<1e-5&&ba[2]>-1e-5){var ka=ba[0],_y=ba[3],Ty=ba[4],Ay=ba[5];ua.x=Sa.x*ka+Ty,ua.y=Sa.y*_y+Ay,ua.width=Sa.width*ka,ua.height=Sa.height*_y,ua.width<0&&(ua.x+=ua.width,ua.width=-ua.width),ua.height<0&&(ua.y+=ua.height,ua.height=-ua.height);return}lt$1.x=lb$1.x=Sa.x,lt$1.y=rt$2.y=Sa.y,rb$1.x=rt$2.x=Sa.x+Sa.width,rb$1.y=lb$1.y=Sa.y+Sa.height,lt$1.transform(ba),rt$2.transform(ba),rb$1.transform(ba),lb$1.transform(ba),ua.x=mathMin$a(lt$1.x,rb$1.x,lb$1.x,rt$2.x),ua.y=mathMin$a(lt$1.y,rb$1.y,lb$1.y,rt$2.y);var Ey=mathMax$a(lt$1.x,rb$1.x,lb$1.x,rt$2.x),My=mathMax$a(lt$1.y,rb$1.y,lb$1.y,rt$2.y);ua.width=Ey-ua.x,ua.height=My-ua.y},ha}(),SILENT="silent";function makeEventPacket(ha,ua,Sa){return{type:ha,event:Sa,target:ua.target,topTarget:ua.topTarget,cancelBubble:!1,offsetX:Sa.zrX,offsetY:Sa.zrY,gestureEvent:Sa.gestureEvent,pinchX:Sa.pinchX,pinchY:Sa.pinchY,pinchScale:Sa.pinchScale,wheelDelta:Sa.zrDelta,zrByTouch:Sa.zrByTouch,which:Sa.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.handler=null,Sa}return ua.prototype.dispose=function(){},ua.prototype.setCursor=function(){},ua}(Eventful),HoveredResult=function(){function ha(ua,Sa){this.x=ua,this.y=Sa}return ha}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect(0,0,0,0),Handler=function(ha){__extends(ua,ha);function ua(Sa,ba,ka,_y,Ty){var Ay=ha.call(this)||this;return Ay._hovered=new HoveredResult(0,0),Ay.storage=Sa,Ay.painter=ba,Ay.painterRoot=_y,Ay._pointerSize=Ty,ka=ka||new EmptyProxy,Ay.proxy=null,Ay.setHandlerProxy(ka),Ay._draggingMgr=new Draggable(Ay),Ay}return ua.prototype.setHandlerProxy=function(Sa){this.proxy&&this.proxy.dispose(),Sa&&(each$f(handlerNames,function(ba){Sa.on&&Sa.on(ba,this[ba],this)},this),Sa.handler=this),this.proxy=Sa},ua.prototype.mousemove=function(Sa){var ba=Sa.zrX,ka=Sa.zrY,_y=isOutsideBoundary(this,ba,ka),Ty=this._hovered,Ay=Ty.target;Ay&&!Ay.__zr&&(Ty=this.findHover(Ty.x,Ty.y),Ay=Ty.target);var Ey=this._hovered=_y?new HoveredResult(ba,ka):this.findHover(ba,ka),My=Ey.target,Dy=this.proxy;Dy.setCursor&&Dy.setCursor(My?My.cursor:"default"),Ay&&My!==Ay&&this.dispatchToElement(Ty,"mouseout",Sa),this.dispatchToElement(Ey,"mousemove",Sa),My&&My!==Ay&&this.dispatchToElement(Ey,"mouseover",Sa)},ua.prototype.mouseout=function(Sa){var ba=Sa.zrEventControl;ba!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",Sa),ba!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:Sa})},ua.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},ua.prototype.dispatch=function(Sa,ba){var ka=this[Sa];ka&&ka.call(this,ba)},ua.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},ua.prototype.setCursorStyle=function(Sa){var ba=this.proxy;ba.setCursor&&ba.setCursor(Sa)},ua.prototype.dispatchToElement=function(Sa,ba,ka){Sa=Sa||{};var _y=Sa.target;if(!(_y&&_y.silent)){for(var Ty="on"+ba,Ay=makeEventPacket(ba,Sa,ka);_y&&(_y[Ty]&&(Ay.cancelBubble=!!_y[Ty].call(_y,Ay)),_y.trigger(ba,Ay),_y=_y.__hostTarget?_y.__hostTarget:_y.parent,!Ay.cancelBubble););Ay.cancelBubble||(this.trigger(ba,Ay),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(Ey){typeof Ey[Ty]=="function"&&Ey[Ty].call(Ey,Ay),Ey.trigger&&Ey.trigger(ba,Ay)}))}},ua.prototype.findHover=function(Sa,ba,ka){var _y=this.storage.getDisplayList(),Ty=new HoveredResult(Sa,ba);if(setHoverTarget(_y,Ty,Sa,ba,ka),this._pointerSize&&!Ty.target){for(var Ay=[],Ey=this._pointerSize,My=Ey/2,Dy=new BoundingRect(Sa-My,ba-My,Ey,Ey),Iy=_y.length-1;Iy>=0;Iy--){var Ly=_y[Iy];Ly!==ka&&!Ly.ignore&&!Ly.ignoreCoarsePointer&&(!Ly.parent||!Ly.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(Ly.getBoundingRect()),Ly.transform&&tmpRect$1.applyTransform(Ly.transform),tmpRect$1.intersect(Dy)&&Ay.push(Ly))}if(Ay.length)for(var Py=4,Ry=Math.PI/12,Vy=Math.PI*2,Ny=0;Ny<My;Ny+=Py)for(var By=0;By<Vy;By+=Ry){var Oy=Sa+Ny*Math.cos(By),Fy=ba+Ny*Math.sin(By);if(setHoverTarget(Ay,Ty,Oy,Fy,ka),Ty.target)return Ty}}return Ty},ua.prototype.processGesture=function(Sa,ba){this._gestureMgr||(this._gestureMgr=new GestureMgr);var ka=this._gestureMgr;ba==="start"&&ka.clear();var _y=ka.recognize(Sa,this.findHover(Sa.zrX,Sa.zrY,null).target,this.proxy.dom);if(ba==="end"&&ka.clear(),_y){var Ty=_y.type;Sa.gestureEvent=Ty;var Ay=new HoveredResult;Ay.target=_y.target,this.dispatchToElement(Ay,Ty,_y.event)}},ua}(Eventful);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(ha){Handler.prototype[ha]=function(ua){var Sa=ua.zrX,ba=ua.zrY,ka=isOutsideBoundary(this,Sa,ba),_y,Ty;if((ha!=="mouseup"||!ka)&&(_y=this.findHover(Sa,ba),Ty=_y.target),ha==="mousedown")this._downEl=Ty,this._downPoint=[ua.zrX,ua.zrY],this._upEl=Ty;else if(ha==="mouseup")this._upEl=Ty;else if(ha==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[ua.zrX,ua.zrY])>4)return;this._downPoint=null}this.dispatchToElement(_y,ha,ua)}});function isHover(ha,ua,Sa){if(ha[ha.rectHover?"rectContain":"contain"](ua,Sa)){for(var ba=ha,ka=void 0,_y=!1;ba;){if(ba.ignoreClip&&(_y=!0),!_y){var Ty=ba.getClipPath();if(Ty&&!Ty.contain(ua,Sa))return!1}ba.silent&&(ka=!0);var Ay=ba.__hostTarget;ba=Ay||ba.parent}return ka?SILENT:!0}return!1}function setHoverTarget(ha,ua,Sa,ba,ka){for(var _y=ha.length-1;_y>=0;_y--){var Ty=ha[_y],Ay=void 0;if(Ty!==ka&&!Ty.ignore&&(Ay=isHover(Ty,Sa,ba))&&(!ua.topTarget&&(ua.topTarget=Ty),Ay!==SILENT)){ua.target=Ty;break}}}function isOutsideBoundary(ha,ua,Sa){var ba=ha.painter;return ua<0||ua>ba.getWidth()||Sa<0||Sa>ba.getHeight()}var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(ha){for(var ua=0;ha>=DEFAULT_MIN_MERGE;)ua|=ha&1,ha>>=1;return ha+ua}function makeAscendingRun(ha,ua,Sa,ba){var ka=ua+1;if(ka===Sa)return 1;if(ba(ha[ka++],ha[ua])<0){for(;ka<Sa&&ba(ha[ka],ha[ka-1])<0;)ka++;reverseRun(ha,ua,ka)}else for(;ka<Sa&&ba(ha[ka],ha[ka-1])>=0;)ka++;return ka-ua}function reverseRun(ha,ua,Sa){for(Sa--;ua<Sa;){var ba=ha[ua];ha[ua++]=ha[Sa],ha[Sa--]=ba}}function binaryInsertionSort(ha,ua,Sa,ba,ka){for(ba===ua&&ba++;ba<Sa;ba++){for(var _y=ha[ba],Ty=ua,Ay=ba,Ey;Ty<Ay;)Ey=Ty+Ay>>>1,ka(_y,ha[Ey])<0?Ay=Ey:Ty=Ey+1;var My=ba-Ty;switch(My){case 3:ha[Ty+3]=ha[Ty+2];case 2:ha[Ty+2]=ha[Ty+1];case 1:ha[Ty+1]=ha[Ty];break;default:for(;My>0;)ha[Ty+My]=ha[Ty+My-1],My--}ha[Ty]=_y}}function gallopLeft(ha,ua,Sa,ba,ka,_y){var Ty=0,Ay=0,Ey=1;if(_y(ha,ua[Sa+ka])>0){for(Ay=ba-ka;Ey<Ay&&_y(ha,ua[Sa+ka+Ey])>0;)Ty=Ey,Ey=(Ey<<1)+1,Ey<=0&&(Ey=Ay);Ey>Ay&&(Ey=Ay),Ty+=ka,Ey+=ka}else{for(Ay=ka+1;Ey<Ay&&_y(ha,ua[Sa+ka-Ey])<=0;)Ty=Ey,Ey=(Ey<<1)+1,Ey<=0&&(Ey=Ay);Ey>Ay&&(Ey=Ay);var My=Ty;Ty=ka-Ey,Ey=ka-My}for(Ty++;Ty<Ey;){var Dy=Ty+(Ey-Ty>>>1);_y(ha,ua[Sa+Dy])>0?Ty=Dy+1:Ey=Dy}return Ey}function gallopRight(ha,ua,Sa,ba,ka,_y){var Ty=0,Ay=0,Ey=1;if(_y(ha,ua[Sa+ka])<0){for(Ay=ka+1;Ey<Ay&&_y(ha,ua[Sa+ka-Ey])<0;)Ty=Ey,Ey=(Ey<<1)+1,Ey<=0&&(Ey=Ay);Ey>Ay&&(Ey=Ay);var My=Ty;Ty=ka-Ey,Ey=ka-My}else{for(Ay=ba-ka;Ey<Ay&&_y(ha,ua[Sa+ka+Ey])>=0;)Ty=Ey,Ey=(Ey<<1)+1,Ey<=0&&(Ey=Ay);Ey>Ay&&(Ey=Ay),Ty+=ka,Ey+=ka}for(Ty++;Ty<Ey;){var Dy=Ty+(Ey-Ty>>>1);_y(ha,ua[Sa+Dy])<0?Ey=Dy:Ty=Dy+1}return Ey}function TimSort(ha,ua){var Sa=DEFAULT_MIN_GALLOPING,ba,ka,_y=0,Ty=[];ba=[],ka=[];function Ay(Py,Ry){ba[_y]=Py,ka[_y]=Ry,_y+=1}function Ey(){for(;_y>1;){var Py=_y-2;if(Py>=1&&ka[Py-1]<=ka[Py]+ka[Py+1]||Py>=2&&ka[Py-2]<=ka[Py]+ka[Py-1])ka[Py-1]<ka[Py+1]&&Py--;else if(ka[Py]>ka[Py+1])break;Dy(Py)}}function My(){for(;_y>1;){var Py=_y-2;Py>0&&ka[Py-1]<ka[Py+1]&&Py--,Dy(Py)}}function Dy(Py){var Ry=ba[Py],Vy=ka[Py],Ny=ba[Py+1],By=ka[Py+1];ka[Py]=Vy+By,Py===_y-3&&(ba[Py+1]=ba[Py+2],ka[Py+1]=ka[Py+2]),_y--;var Oy=gallopRight(ha[Ny],ha,Ry,Vy,0,ua);Ry+=Oy,Vy-=Oy,Vy!==0&&(By=gallopLeft(ha[Ry+Vy-1],ha,Ny,By,By-1,ua),By!==0&&(Vy<=By?Iy(Ry,Vy,Ny,By):Ly(Ry,Vy,Ny,By)))}function Iy(Py,Ry,Vy,Ny){var By=0;for(By=0;By<Ry;By++)Ty[By]=ha[Py+By];var Oy=0,Fy=Vy,zy=Py;if(ha[zy++]=ha[Fy++],--Ny===0){for(By=0;By<Ry;By++)ha[zy+By]=Ty[Oy+By];return}if(Ry===1){for(By=0;By<Ny;By++)ha[zy+By]=ha[Fy+By];ha[zy+Ny]=Ty[Oy];return}for(var Hy=Sa,Gy,Wy,Uy;;){Gy=0,Wy=0,Uy=!1;do if(ua(ha[Fy],Ty[Oy])<0){if(ha[zy++]=ha[Fy++],Wy++,Gy=0,--Ny===0){Uy=!0;break}}else if(ha[zy++]=Ty[Oy++],Gy++,Wy=0,--Ry===1){Uy=!0;break}while((Gy|Wy)<Hy);if(Uy)break;do{if(Gy=gallopRight(ha[Fy],Ty,Oy,Ry,0,ua),Gy!==0){for(By=0;By<Gy;By++)ha[zy+By]=Ty[Oy+By];if(zy+=Gy,Oy+=Gy,Ry-=Gy,Ry<=1){Uy=!0;break}}if(ha[zy++]=ha[Fy++],--Ny===0){Uy=!0;break}if(Wy=gallopLeft(Ty[Oy],ha,Fy,Ny,0,ua),Wy!==0){for(By=0;By<Wy;By++)ha[zy+By]=ha[Fy+By];if(zy+=Wy,Fy+=Wy,Ny-=Wy,Ny===0){Uy=!0;break}}if(ha[zy++]=Ty[Oy++],--Ry===1){Uy=!0;break}Hy--}while(Gy>=DEFAULT_MIN_GALLOPING||Wy>=DEFAULT_MIN_GALLOPING);if(Uy)break;Hy<0&&(Hy=0),Hy+=2}if(Sa=Hy,Sa<1&&(Sa=1),Ry===1){for(By=0;By<Ny;By++)ha[zy+By]=ha[Fy+By];ha[zy+Ny]=Ty[Oy]}else{if(Ry===0)throw new Error;for(By=0;By<Ry;By++)ha[zy+By]=Ty[Oy+By]}}function Ly(Py,Ry,Vy,Ny){var By=0;for(By=0;By<Ny;By++)Ty[By]=ha[Vy+By];var Oy=Py+Ry-1,Fy=Ny-1,zy=Vy+Ny-1,Hy=0,Gy=0;if(ha[zy--]=ha[Oy--],--Ry===0){for(Hy=zy-(Ny-1),By=0;By<Ny;By++)ha[Hy+By]=Ty[By];return}if(Ny===1){for(zy-=Ry,Oy-=Ry,Gy=zy+1,Hy=Oy+1,By=Ry-1;By>=0;By--)ha[Gy+By]=ha[Hy+By];ha[zy]=Ty[Fy];return}for(var Wy=Sa;;){var Uy=0,Yy=0,jy=!1;do if(ua(Ty[Fy],ha[Oy])<0){if(ha[zy--]=ha[Oy--],Uy++,Yy=0,--Ry===0){jy=!0;break}}else if(ha[zy--]=Ty[Fy--],Yy++,Uy=0,--Ny===1){jy=!0;break}while((Uy|Yy)<Wy);if(jy)break;do{if(Uy=Ry-gallopRight(Ty[Fy],ha,Py,Ry,Ry-1,ua),Uy!==0){for(zy-=Uy,Oy-=Uy,Ry-=Uy,Gy=zy+1,Hy=Oy+1,By=Uy-1;By>=0;By--)ha[Gy+By]=ha[Hy+By];if(Ry===0){jy=!0;break}}if(ha[zy--]=Ty[Fy--],--Ny===1){jy=!0;break}if(Yy=Ny-gallopLeft(ha[Oy],Ty,0,Ny,Ny-1,ua),Yy!==0){for(zy-=Yy,Fy-=Yy,Ny-=Yy,Gy=zy+1,Hy=Fy+1,By=0;By<Yy;By++)ha[Gy+By]=Ty[Hy+By];if(Ny<=1){jy=!0;break}}if(ha[zy--]=ha[Oy--],--Ry===0){jy=!0;break}Wy--}while(Uy>=DEFAULT_MIN_GALLOPING||Yy>=DEFAULT_MIN_GALLOPING);if(jy)break;Wy<0&&(Wy=0),Wy+=2}if(Sa=Wy,Sa<1&&(Sa=1),Ny===1){for(zy-=Ry,Oy-=Ry,Gy=zy+1,Hy=Oy+1,By=Ry-1;By>=0;By--)ha[Gy+By]=ha[Hy+By];ha[zy]=Ty[Fy]}else{if(Ny===0)throw new Error;for(Hy=zy-(Ny-1),By=0;By<Ny;By++)ha[Hy+By]=Ty[By]}}return{mergeRuns:Ey,forceMergeRuns:My,pushRun:Ay}}function sort$2(ha,ua,Sa,ba){Sa||(Sa=0),ba||(ba=ha.length);var ka=ba-Sa;if(!(ka<2)){var _y=0;if(ka<DEFAULT_MIN_MERGE){_y=makeAscendingRun(ha,Sa,ba,ua),binaryInsertionSort(ha,Sa,ba,Sa+_y,ua);return}var Ty=TimSort(ha,ua),Ay=minRunLength(ka);do{if(_y=makeAscendingRun(ha,Sa,ba,ua),_y<Ay){var Ey=ka;Ey>Ay&&(Ey=Ay),binaryInsertionSort(ha,Sa,Sa+Ey,Sa+_y,ua),_y=Ey}Ty.pushRun(Sa,_y),Ty.mergeRuns(),ka-=_y,Sa+=_y}while(ka!==0);Ty.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(ha,ua){return ha.zlevel===ua.zlevel?ha.z===ua.z?ha.z2-ua.z2:ha.z-ua.z:ha.zlevel-ua.zlevel}var Storage=function(){function ha(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return ha.prototype.traverse=function(ua,Sa){for(var ba=0;ba<this._roots.length;ba++)this._roots[ba].traverse(ua,Sa)},ha.prototype.getDisplayList=function(ua,Sa){Sa=Sa||!1;var ba=this._displayList;return(ua||!ba.length)&&this.updateDisplayList(Sa),ba},ha.prototype.updateDisplayList=function(ua){this._displayListLen=0;for(var Sa=this._roots,ba=this._displayList,ka=0,_y=Sa.length;ka<_y;ka++)this._updateAndAddDisplayable(Sa[ka],null,ua);ba.length=this._displayListLen,sort$2(ba,shapeCompareFunc)},ha.prototype._updateAndAddDisplayable=function(ua,Sa,ba){if(!(ua.ignore&&!ba)){ua.beforeUpdate(),ua.update(),ua.afterUpdate();var ka=ua.getClipPath();if(ua.ignoreClip)Sa=null;else if(ka){Sa?Sa=Sa.slice():Sa=[];for(var _y=ka,Ty=ua;_y;)_y.parent=Ty,_y.updateTransform(),Sa.push(_y),Ty=_y,_y=_y.getClipPath()}if(ua.childrenRef){for(var Ay=ua.childrenRef(),Ey=0;Ey<Ay.length;Ey++){var My=Ay[Ey];ua.__dirty&&(My.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(My,Sa,ba)}ua.__dirty=0}else{var Dy=ua;Sa&&Sa.length?Dy.__clipPaths=Sa:Dy.__clipPaths&&Dy.__clipPaths.length>0&&(Dy.__clipPaths=[]),isNaN(Dy.z)&&(logInvalidZError(),Dy.z=0),isNaN(Dy.z2)&&(logInvalidZError(),Dy.z2=0),isNaN(Dy.zlevel)&&(logInvalidZError(),Dy.zlevel=0),this._displayList[this._displayListLen++]=Dy}var Iy=ua.getDecalElement&&ua.getDecalElement();Iy&&this._updateAndAddDisplayable(Iy,Sa,ba);var Ly=ua.getTextGuideLine();Ly&&this._updateAndAddDisplayable(Ly,Sa,ba);var Py=ua.getTextContent();Py&&this._updateAndAddDisplayable(Py,Sa,ba)}},ha.prototype.addRoot=function(ua){ua.__zr&&ua.__zr.storage===this||this._roots.push(ua)},ha.prototype.delRoot=function(ua){if(ua instanceof Array){for(var Sa=0,ba=ua.length;Sa<ba;Sa++)this.delRoot(ua[Sa]);return}var ka=indexOf(this._roots,ua);ka>=0&&this._roots.splice(ka,1)},ha.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},ha.prototype.getRoots=function(){return this._roots},ha.prototype.dispose=function(){this._displayList=null,this._roots=null},ha}(),requestAnimationFrame$1;requestAnimationFrame$1=env.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(ha){return setTimeout(ha,16)};var easingFuncs={linear:function(ha){return ha},quadraticIn:function(ha){return ha*ha},quadraticOut:function(ha){return ha*(2-ha)},quadraticInOut:function(ha){return(ha*=2)<1?.5*ha*ha:-.5*(--ha*(ha-2)-1)},cubicIn:function(ha){return ha*ha*ha},cubicOut:function(ha){return--ha*ha*ha+1},cubicInOut:function(ha){return(ha*=2)<1?.5*ha*ha*ha:.5*((ha-=2)*ha*ha+2)},quarticIn:function(ha){return ha*ha*ha*ha},quarticOut:function(ha){return 1- --ha*ha*ha*ha},quarticInOut:function(ha){return(ha*=2)<1?.5*ha*ha*ha*ha:-.5*((ha-=2)*ha*ha*ha-2)},quinticIn:function(ha){return ha*ha*ha*ha*ha},quinticOut:function(ha){return--ha*ha*ha*ha*ha+1},quinticInOut:function(ha){return(ha*=2)<1?.5*ha*ha*ha*ha*ha:.5*((ha-=2)*ha*ha*ha*ha+2)},sinusoidalIn:function(ha){return 1-Math.cos(ha*Math.PI/2)},sinusoidalOut:function(ha){return Math.sin(ha*Math.PI/2)},sinusoidalInOut:function(ha){return .5*(1-Math.cos(Math.PI*ha))},exponentialIn:function(ha){return ha===0?0:Math.pow(1024,ha-1)},exponentialOut:function(ha){return ha===1?1:1-Math.pow(2,-10*ha)},exponentialInOut:function(ha){return ha===0?0:ha===1?1:(ha*=2)<1?.5*Math.pow(1024,ha-1):.5*(-Math.pow(2,-10*(ha-1))+2)},circularIn:function(ha){return 1-Math.sqrt(1-ha*ha)},circularOut:function(ha){return Math.sqrt(1- --ha*ha)},circularInOut:function(ha){return(ha*=2)<1?-.5*(Math.sqrt(1-ha*ha)-1):.5*(Math.sqrt(1-(ha-=2)*ha)+1)},elasticIn:function(ha){var ua,Sa=.1,ba=.4;return ha===0?0:ha===1?1:(!Sa||Sa<1?(Sa=1,ua=ba/4):ua=ba*Math.asin(1/Sa)/(2*Math.PI),-(Sa*Math.pow(2,10*(ha-=1))*Math.sin((ha-ua)*(2*Math.PI)/ba)))},elasticOut:function(ha){var ua,Sa=.1,ba=.4;return ha===0?0:ha===1?1:(!Sa||Sa<1?(Sa=1,ua=ba/4):ua=ba*Math.asin(1/Sa)/(2*Math.PI),Sa*Math.pow(2,-10*ha)*Math.sin((ha-ua)*(2*Math.PI)/ba)+1)},elasticInOut:function(ha){var ua,Sa=.1,ba=.4;return ha===0?0:ha===1?1:(!Sa||Sa<1?(Sa=1,ua=ba/4):ua=ba*Math.asin(1/Sa)/(2*Math.PI),(ha*=2)<1?-.5*(Sa*Math.pow(2,10*(ha-=1))*Math.sin((ha-ua)*(2*Math.PI)/ba)):Sa*Math.pow(2,-10*(ha-=1))*Math.sin((ha-ua)*(2*Math.PI)/ba)*.5+1)},backIn:function(ha){var ua=1.70158;return ha*ha*((ua+1)*ha-ua)},backOut:function(ha){var ua=1.70158;return--ha*ha*((ua+1)*ha+ua)+1},backInOut:function(ha){var ua=2.5949095;return(ha*=2)<1?.5*(ha*ha*((ua+1)*ha-ua)):.5*((ha-=2)*ha*((ua+1)*ha+ua)+2)},bounceIn:function(ha){return 1-easingFuncs.bounceOut(1-ha)},bounceOut:function(ha){return ha<1/2.75?7.5625*ha*ha:ha<2/2.75?7.5625*(ha-=1.5/2.75)*ha+.75:ha<2.5/2.75?7.5625*(ha-=2.25/2.75)*ha+.9375:7.5625*(ha-=2.625/2.75)*ha+.984375},bounceInOut:function(ha){return ha<.5?easingFuncs.bounceIn(ha*2)*.5:easingFuncs.bounceOut(ha*2-1)*.5+.5}},mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(ha){return ha>-EPSILON$4&&ha<EPSILON$4}function isNotAroundZero$1(ha){return ha>EPSILON$4||ha<-EPSILON$4}function cubicAt(ha,ua,Sa,ba,ka){var _y=1-ka;return _y*_y*(_y*ha+3*ka*ua)+ka*ka*(ka*ba+3*_y*Sa)}function cubicDerivativeAt(ha,ua,Sa,ba,ka){var _y=1-ka;return 3*(((ua-ha)*_y+2*(Sa-ua)*ka)*_y+(ba-Sa)*ka*ka)}function cubicRootAt(ha,ua,Sa,ba,ka,_y){var Ty=ba+3*(ua-Sa)-ha,Ay=3*(Sa-ua*2+ha),Ey=3*(ua-ha),My=ha-ka,Dy=Ay*Ay-3*Ty*Ey,Iy=Ay*Ey-9*Ty*My,Ly=Ey*Ey-3*Ay*My,Py=0;if(isAroundZero$1(Dy)&&isAroundZero$1(Iy))if(isAroundZero$1(Ay))_y[0]=0;else{var Ry=-Ey/Ay;Ry>=0&&Ry<=1&&(_y[Py++]=Ry)}else{var Vy=Iy*Iy-4*Dy*Ly;if(isAroundZero$1(Vy)){var Ny=Iy/Dy,Ry=-Ay/Ty+Ny,By=-Ny/2;Ry>=0&&Ry<=1&&(_y[Py++]=Ry),By>=0&&By<=1&&(_y[Py++]=By)}else if(Vy>0){var Oy=mathSqrt$3(Vy),Fy=Dy*Ay+1.5*Ty*(-Iy+Oy),zy=Dy*Ay+1.5*Ty*(-Iy-Oy);Fy<0?Fy=-mathPow$2(-Fy,ONE_THIRD):Fy=mathPow$2(Fy,ONE_THIRD),zy<0?zy=-mathPow$2(-zy,ONE_THIRD):zy=mathPow$2(zy,ONE_THIRD);var Ry=(-Ay-(Fy+zy))/(3*Ty);Ry>=0&&Ry<=1&&(_y[Py++]=Ry)}else{var Hy=(2*Dy*Ay-3*Ty*Iy)/(2*mathSqrt$3(Dy*Dy*Dy)),Gy=Math.acos(Hy)/3,Wy=mathSqrt$3(Dy),Uy=Math.cos(Gy),Ry=(-Ay-2*Wy*Uy)/(3*Ty),By=(-Ay+Wy*(Uy+THREE_SQRT*Math.sin(Gy)))/(3*Ty),Yy=(-Ay+Wy*(Uy-THREE_SQRT*Math.sin(Gy)))/(3*Ty);Ry>=0&&Ry<=1&&(_y[Py++]=Ry),By>=0&&By<=1&&(_y[Py++]=By),Yy>=0&&Yy<=1&&(_y[Py++]=Yy)}}return Py}function cubicExtrema(ha,ua,Sa,ba,ka){var _y=6*Sa-12*ua+6*ha,Ty=9*ua+3*ba-3*ha-9*Sa,Ay=3*ua-3*ha,Ey=0;if(isAroundZero$1(Ty)){if(isNotAroundZero$1(_y)){var My=-Ay/_y;My>=0&&My<=1&&(ka[Ey++]=My)}}else{var Dy=_y*_y-4*Ty*Ay;if(isAroundZero$1(Dy))ka[0]=-_y/(2*Ty);else if(Dy>0){var Iy=mathSqrt$3(Dy),My=(-_y+Iy)/(2*Ty),Ly=(-_y-Iy)/(2*Ty);My>=0&&My<=1&&(ka[Ey++]=My),Ly>=0&&Ly<=1&&(ka[Ey++]=Ly)}}return Ey}function cubicSubdivide(ha,ua,Sa,ba,ka,_y){var Ty=(ua-ha)*ka+ha,Ay=(Sa-ua)*ka+ua,Ey=(ba-Sa)*ka+Sa,My=(Ay-Ty)*ka+Ty,Dy=(Ey-Ay)*ka+Ay,Iy=(Dy-My)*ka+My;_y[0]=ha,_y[1]=Ty,_y[2]=My,_y[3]=Iy,_y[4]=Iy,_y[5]=Dy,_y[6]=Ey,_y[7]=ba}function cubicProjectPoint(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My,Dy){var Iy,Ly=.005,Py=1/0,Ry,Vy,Ny,By;_v0[0]=Ey,_v0[1]=My;for(var Oy=0;Oy<1;Oy+=.05)_v1[0]=cubicAt(ha,Sa,ka,Ty,Oy),_v1[1]=cubicAt(ua,ba,_y,Ay,Oy),Ny=distSquare(_v0,_v1),Ny<Py&&(Iy=Oy,Py=Ny);Py=1/0;for(var Fy=0;Fy<32&&!(Ly<EPSILON_NUMERIC);Fy++)Ry=Iy-Ly,Vy=Iy+Ly,_v1[0]=cubicAt(ha,Sa,ka,Ty,Ry),_v1[1]=cubicAt(ua,ba,_y,Ay,Ry),Ny=distSquare(_v1,_v0),Ry>=0&&Ny<Py?(Iy=Ry,Py=Ny):(_v2[0]=cubicAt(ha,Sa,ka,Ty,Vy),_v2[1]=cubicAt(ua,ba,_y,Ay,Vy),By=distSquare(_v2,_v0),Vy<=1&&By<Py?(Iy=Vy,Py=By):Ly*=.5);return Dy&&(Dy[0]=cubicAt(ha,Sa,ka,Ty,Iy),Dy[1]=cubicAt(ua,ba,_y,Ay,Iy)),mathSqrt$3(Py)}function cubicLength(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey){for(var My=ha,Dy=ua,Iy=0,Ly=1/Ey,Py=1;Py<=Ey;Py++){var Ry=Py*Ly,Vy=cubicAt(ha,Sa,ka,Ty,Ry),Ny=cubicAt(ua,ba,_y,Ay,Ry),By=Vy-My,Oy=Ny-Dy;Iy+=Math.sqrt(By*By+Oy*Oy),My=Vy,Dy=Ny}return Iy}function quadraticAt$1(ha,ua,Sa,ba){var ka=1-ba;return ka*(ka*ha+2*ba*ua)+ba*ba*Sa}function quadraticDerivativeAt(ha,ua,Sa,ba){return 2*((1-ba)*(ua-ha)+ba*(Sa-ua))}function quadraticRootAt(ha,ua,Sa,ba,ka){var _y=ha-2*ua+Sa,Ty=2*(ua-ha),Ay=ha-ba,Ey=0;if(isAroundZero$1(_y)){if(isNotAroundZero$1(Ty)){var My=-Ay/Ty;My>=0&&My<=1&&(ka[Ey++]=My)}}else{var Dy=Ty*Ty-4*_y*Ay;if(isAroundZero$1(Dy)){var My=-Ty/(2*_y);My>=0&&My<=1&&(ka[Ey++]=My)}else if(Dy>0){var Iy=mathSqrt$3(Dy),My=(-Ty+Iy)/(2*_y),Ly=(-Ty-Iy)/(2*_y);My>=0&&My<=1&&(ka[Ey++]=My),Ly>=0&&Ly<=1&&(ka[Ey++]=Ly)}}return Ey}function quadraticExtremum(ha,ua,Sa){var ba=ha+Sa-2*ua;return ba===0?.5:(ha-ua)/ba}function quadraticSubdivide(ha,ua,Sa,ba,ka){var _y=(ua-ha)*ba+ha,Ty=(Sa-ua)*ba+ua,Ay=(Ty-_y)*ba+_y;ka[0]=ha,ka[1]=_y,ka[2]=Ay,ka[3]=Ay,ka[4]=Ty,ka[5]=Sa}function quadraticProjectPoint(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey){var My,Dy=.005,Iy=1/0;_v0[0]=Ty,_v0[1]=Ay;for(var Ly=0;Ly<1;Ly+=.05){_v1[0]=quadraticAt$1(ha,Sa,ka,Ly),_v1[1]=quadraticAt$1(ua,ba,_y,Ly);var Py=distSquare(_v0,_v1);Py<Iy&&(My=Ly,Iy=Py)}Iy=1/0;for(var Ry=0;Ry<32&&!(Dy<EPSILON_NUMERIC);Ry++){var Vy=My-Dy,Ny=My+Dy;_v1[0]=quadraticAt$1(ha,Sa,ka,Vy),_v1[1]=quadraticAt$1(ua,ba,_y,Vy);var Py=distSquare(_v1,_v0);if(Vy>=0&&Py<Iy)My=Vy,Iy=Py;else{_v2[0]=quadraticAt$1(ha,Sa,ka,Ny),_v2[1]=quadraticAt$1(ua,ba,_y,Ny);var By=distSquare(_v2,_v0);Ny<=1&&By<Iy?(My=Ny,Iy=By):Dy*=.5}}return Ey&&(Ey[0]=quadraticAt$1(ha,Sa,ka,My),Ey[1]=quadraticAt$1(ua,ba,_y,My)),mathSqrt$3(Iy)}function quadraticLength(ha,ua,Sa,ba,ka,_y,Ty){for(var Ay=ha,Ey=ua,My=0,Dy=1/Ty,Iy=1;Iy<=Ty;Iy++){var Ly=Iy*Dy,Py=quadraticAt$1(ha,Sa,ka,Ly),Ry=quadraticAt$1(ua,ba,_y,Ly),Vy=Py-Ay,Ny=Ry-Ey;My+=Math.sqrt(Vy*Vy+Ny*Ny),Ay=Py,Ey=Ry}return My}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(ha){var ua=ha&&regexp.exec(ha);if(ua){var Sa=ua[1].split(","),ba=+trim$1(Sa[0]),ka=+trim$1(Sa[1]),_y=+trim$1(Sa[2]),Ty=+trim$1(Sa[3]);if(isNaN(ba+ka+_y+Ty))return;var Ay=[];return function(Ey){return Ey<=0?0:Ey>=1?1:cubicRootAt(0,ba,_y,1,Ey,Ay)&&cubicAt(0,ka,Ty,1,Ay[0])}}}var Clip=function(){function ha(ua){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=ua.life||1e3,this._delay=ua.delay||0,this.loop=ua.loop||!1,this.onframe=ua.onframe||noop,this.ondestroy=ua.ondestroy||noop,this.onrestart=ua.onrestart||noop,ua.easing&&this.setEasing(ua.easing)}return ha.prototype.step=function(ua,Sa){if(this._inited||(this._startTime=ua+this._delay,this._inited=!0),this._paused){this._pausedTime+=Sa;return}var ba=this._life,ka=ua-this._startTime-this._pausedTime,_y=ka/ba;_y<0&&(_y=0),_y=Math.min(_y,1);var Ty=this.easingFunc,Ay=Ty?Ty(_y):_y;if(this.onframe(Ay),_y===1)if(this.loop){var Ey=ka%ba;this._startTime=ua-Ey,this._pausedTime=0,this.onrestart()}else return!0;return!1},ha.prototype.pause=function(){this._paused=!0},ha.prototype.resume=function(){this._paused=!1},ha.prototype.setEasing=function(ua){this.easing=ua,this.easingFunc=isFunction(ua)?ua:easingFuncs[ua]||createCubicEasingFunc(ua)},ha}(),Entry=function(){function ha(ua){this.value=ua}return ha}(),LinkedList=function(){function ha(){this._len=0}return ha.prototype.insert=function(ua){var Sa=new Entry(ua);return this.insertEntry(Sa),Sa},ha.prototype.insertEntry=function(ua){this.head?(this.tail.next=ua,ua.prev=this.tail,ua.next=null,this.tail=ua):this.head=this.tail=ua,this._len++},ha.prototype.remove=function(ua){var Sa=ua.prev,ba=ua.next;Sa?Sa.next=ba:this.head=ba,ba?ba.prev=Sa:this.tail=Sa,ua.next=ua.prev=null,this._len--},ha.prototype.len=function(){return this._len},ha.prototype.clear=function(){this.head=this.tail=null,this._len=0},ha}(),LRU=function(){function ha(ua){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=ua}return ha.prototype.put=function(ua,Sa){var ba=this._list,ka=this._map,_y=null;if(ka[ua]==null){var Ty=ba.len(),Ay=this._lastRemovedEntry;if(Ty>=this._maxSize&&Ty>0){var Ey=ba.head;ba.remove(Ey),delete ka[Ey.key],_y=Ey.value,this._lastRemovedEntry=Ey}Ay?Ay.value=Sa:Ay=new Entry(Sa),Ay.key=ua,ba.insertEntry(Ay),ka[ua]=Ay}return _y},ha.prototype.get=function(ua){var Sa=this._map[ua],ba=this._list;if(Sa!=null)return Sa!==ba.tail&&(ba.remove(Sa),ba.insertEntry(Sa)),Sa.value},ha.prototype.clear=function(){this._list.clear(),this._map={}},ha.prototype.len=function(){return this._list.len()},ha}(),kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(ha){return ha=Math.round(ha),ha<0?0:ha>255?255:ha}function clampCssAngle(ha){return ha=Math.round(ha),ha<0?0:ha>360?360:ha}function clampCssFloat(ha){return ha<0?0:ha>1?1:ha}function parseCssInt(ha){var ua=ha;return ua.length&&ua.charAt(ua.length-1)==="%"?clampCssByte(parseFloat(ua)/100*255):clampCssByte(parseInt(ua,10))}function parseCssFloat(ha){var ua=ha;return ua.length&&ua.charAt(ua.length-1)==="%"?clampCssFloat(parseFloat(ua)/100):clampCssFloat(parseFloat(ua))}function cssHueToRgb(ha,ua,Sa){return Sa<0?Sa+=1:Sa>1&&(Sa-=1),Sa*6<1?ha+(ua-ha)*Sa*6:Sa*2<1?ua:Sa*3<2?ha+(ua-ha)*(2/3-Sa)*6:ha}function lerpNumber(ha,ua,Sa){return ha+(ua-ha)*Sa}function setRgba(ha,ua,Sa,ba,ka){return ha[0]=ua,ha[1]=Sa,ha[2]=ba,ha[3]=ka,ha}function copyRgba(ha,ua){return ha[0]=ua[0],ha[1]=ua[1],ha[2]=ua[2],ha[3]=ua[3],ha}var colorCache=new LRU(20),lastRemovedArr=null;function putToCache(ha,ua){lastRemovedArr&&copyRgba(lastRemovedArr,ua),lastRemovedArr=colorCache.put(ha,lastRemovedArr||ua.slice())}function parse(ha,ua){if(ha){ua=ua||[];var Sa=colorCache.get(ha);if(Sa)return copyRgba(ua,Sa);ha=ha+"";var ba=ha.replace(/ /g,"").toLowerCase();if(ba in kCSSColorTable)return copyRgba(ua,kCSSColorTable[ba]),putToCache(ha,ua),ua;var ka=ba.length;if(ba.charAt(0)==="#"){if(ka===4||ka===5){var _y=parseInt(ba.slice(1,4),16);if(!(_y>=0&&_y<=4095)){setRgba(ua,0,0,0,1);return}return setRgba(ua,(_y&3840)>>4|(_y&3840)>>8,_y&240|(_y&240)>>4,_y&15|(_y&15)<<4,ka===5?parseInt(ba.slice(4),16)/15:1),putToCache(ha,ua),ua}else if(ka===7||ka===9){var _y=parseInt(ba.slice(1,7),16);if(!(_y>=0&&_y<=16777215)){setRgba(ua,0,0,0,1);return}return setRgba(ua,(_y&16711680)>>16,(_y&65280)>>8,_y&255,ka===9?parseInt(ba.slice(7),16)/255:1),putToCache(ha,ua),ua}return}var Ty=ba.indexOf("("),Ay=ba.indexOf(")");if(Ty!==-1&&Ay+1===ka){var Ey=ba.substr(0,Ty),My=ba.substr(Ty+1,Ay-(Ty+1)).split(","),Dy=1;switch(Ey){case"rgba":if(My.length!==4)return My.length===3?setRgba(ua,+My[0],+My[1],+My[2],1):setRgba(ua,0,0,0,1);Dy=parseCssFloat(My.pop());case"rgb":if(My.length>=3)return setRgba(ua,parseCssInt(My[0]),parseCssInt(My[1]),parseCssInt(My[2]),My.length===3?Dy:parseCssFloat(My[3])),putToCache(ha,ua),ua;setRgba(ua,0,0,0,1);return;case"hsla":if(My.length!==4){setRgba(ua,0,0,0,1);return}return My[3]=parseCssFloat(My[3]),hsla2rgba(My,ua),putToCache(ha,ua),ua;case"hsl":if(My.length!==3){setRgba(ua,0,0,0,1);return}return hsla2rgba(My,ua),putToCache(ha,ua),ua;default:return}}setRgba(ua,0,0,0,1)}}function hsla2rgba(ha,ua){var Sa=(parseFloat(ha[0])%360+360)%360/360,ba=parseCssFloat(ha[1]),ka=parseCssFloat(ha[2]),_y=ka<=.5?ka*(ba+1):ka+ba-ka*ba,Ty=ka*2-_y;return ua=ua||[],setRgba(ua,clampCssByte(cssHueToRgb(Ty,_y,Sa+1/3)*255),clampCssByte(cssHueToRgb(Ty,_y,Sa)*255),clampCssByte(cssHueToRgb(Ty,_y,Sa-1/3)*255),1),ha.length===4&&(ua[3]=ha[3]),ua}function rgba2hsla(ha){if(ha){var ua=ha[0]/255,Sa=ha[1]/255,ba=ha[2]/255,ka=Math.min(ua,Sa,ba),_y=Math.max(ua,Sa,ba),Ty=_y-ka,Ay=(_y+ka)/2,Ey,My;if(Ty===0)Ey=0,My=0;else{Ay<.5?My=Ty/(_y+ka):My=Ty/(2-_y-ka);var Dy=((_y-ua)/6+Ty/2)/Ty,Iy=((_y-Sa)/6+Ty/2)/Ty,Ly=((_y-ba)/6+Ty/2)/Ty;ua===_y?Ey=Ly-Iy:Sa===_y?Ey=1/3+Dy-Ly:ba===_y&&(Ey=2/3+Iy-Dy),Ey<0&&(Ey+=1),Ey>1&&(Ey-=1)}var Py=[Ey*360,My,Ay];return ha[3]!=null&&Py.push(ha[3]),Py}}function lift(ha,ua){var Sa=parse(ha);if(Sa){for(var ba=0;ba<3;ba++)ua<0?Sa[ba]=Sa[ba]*(1-ua)|0:Sa[ba]=(255-Sa[ba])*ua+Sa[ba]|0,Sa[ba]>255?Sa[ba]=255:Sa[ba]<0&&(Sa[ba]=0);return stringify(Sa,Sa.length===4?"rgba":"rgb")}}function fastLerp(ha,ua,Sa){if(!(!(ua&&ua.length)||!(ha>=0&&ha<=1))){Sa=Sa||[];var ba=ha*(ua.length-1),ka=Math.floor(ba),_y=Math.ceil(ba),Ty=ua[ka],Ay=ua[_y],Ey=ba-ka;return Sa[0]=clampCssByte(lerpNumber(Ty[0],Ay[0],Ey)),Sa[1]=clampCssByte(lerpNumber(Ty[1],Ay[1],Ey)),Sa[2]=clampCssByte(lerpNumber(Ty[2],Ay[2],Ey)),Sa[3]=clampCssFloat(lerpNumber(Ty[3],Ay[3],Ey)),Sa}}function lerp(ha,ua,Sa){if(!(!(ua&&ua.length)||!(ha>=0&&ha<=1))){var ba=ha*(ua.length-1),ka=Math.floor(ba),_y=Math.ceil(ba),Ty=parse(ua[ka]),Ay=parse(ua[_y]),Ey=ba-ka,My=stringify([clampCssByte(lerpNumber(Ty[0],Ay[0],Ey)),clampCssByte(lerpNumber(Ty[1],Ay[1],Ey)),clampCssByte(lerpNumber(Ty[2],Ay[2],Ey)),clampCssFloat(lerpNumber(Ty[3],Ay[3],Ey))],"rgba");return Sa?{color:My,leftIndex:ka,rightIndex:_y,value:ba}:My}}function modifyHSL(ha,ua,Sa,ba){var ka=parse(ha);if(ha)return ka=rgba2hsla(ka),ua!=null&&(ka[0]=clampCssAngle(ua)),Sa!=null&&(ka[1]=parseCssFloat(Sa)),ba!=null&&(ka[2]=parseCssFloat(ba)),stringify(hsla2rgba(ka),"rgba")}function modifyAlpha(ha,ua){var Sa=parse(ha);if(Sa&&ua!=null)return Sa[3]=clampCssFloat(ua),stringify(Sa,"rgba")}function stringify(ha,ua){if(!(!ha||!ha.length)){var Sa=ha[0]+","+ha[1]+","+ha[2];return(ua==="rgba"||ua==="hsva"||ua==="hsla")&&(Sa+=","+ha[3]),ua+"("+Sa+")"}}function lum(ha,ua){var Sa=parse(ha);return Sa?(.299*Sa[0]+.587*Sa[1]+.114*Sa[2])*Sa[3]/255+(1-Sa[3])*ua:0}var liftedColorCache=new LRU(100);function liftColor(ha){if(isString(ha)){var ua=liftedColorCache.get(ha);return ua||(ua=lift(ha,-.1),liftedColorCache.put(ha,ua)),ua}else if(isGradientObject(ha)){var Sa=extend({},ha);return Sa.colorStops=map$1(ha.colorStops,function(ba){return{offset:ba.offset,color:lift(ba.color,-.1)}}),Sa}return ha}var mathRound$1=Math.round;function normalizeColor(ha){var ua;if(!ha||ha==="transparent")ha="none";else if(typeof ha=="string"&&ha.indexOf("rgba")>-1){var Sa=parse(ha);Sa&&(ha="rgb("+Sa[0]+","+Sa[1]+","+Sa[2]+")",ua=Sa[3])}return{color:ha,opacity:ua??1}}var EPSILON$3=1e-4;function isAroundZero(ha){return ha<EPSILON$3&&ha>-EPSILON$3}function round3(ha){return mathRound$1(ha*1e3)/1e3}function round4(ha){return mathRound$1(ha*1e4)/1e4}function getMatrixStr(ha){return"matrix("+round3(ha[0])+","+round3(ha[1])+","+round3(ha[2])+","+round3(ha[3])+","+round4(ha[4])+","+round4(ha[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(ha,ua,Sa){return Sa==="top"?ha+=ua/2:Sa==="bottom"&&(ha-=ua/2),ha}function hasShadow(ha){return ha&&(ha.shadowBlur||ha.shadowOffsetX||ha.shadowOffsetY)}function getShadowKey(ha){var ua=ha.style,Sa=ha.getGlobalScale();return[ua.shadowColor,(ua.shadowBlur||0).toFixed(2),(ua.shadowOffsetX||0).toFixed(2),(ua.shadowOffsetY||0).toFixed(2),Sa[0],Sa[1]].join(",")}function isImagePattern(ha){return ha&&!!ha.image}function isSVGPattern(ha){return ha&&!!ha.svgElement}function isPattern(ha){return isImagePattern(ha)||isSVGPattern(ha)}function isLinearGradient(ha){return ha.type==="linear"}function isRadialGradient(ha){return ha.type==="radial"}function isGradient(ha){return ha&&(ha.type==="linear"||ha.type==="radial")}function getIdURL(ha){return"url(#"+ha+")"}function getPathPrecision(ha){var ua=ha.getGlobalScale(),Sa=Math.max(ua[0],ua[1]);return Math.max(Math.ceil(Math.log(Sa)/Math.log(10)),1)}function getSRTTransformString(ha){var ua=ha.x||0,Sa=ha.y||0,ba=(ha.rotation||0)*RADIAN_TO_DEGREE,ka=retrieve2(ha.scaleX,1),_y=retrieve2(ha.scaleY,1),Ty=ha.skewX||0,Ay=ha.skewY||0,Ey=[];return(ua||Sa)&&Ey.push("translate("+ua+"px,"+Sa+"px)"),ba&&Ey.push("rotate("+ba+")"),(ka!==1||_y!==1)&&Ey.push("scale("+ka+","+_y+")"),(Ty||Ay)&&Ey.push("skew("+mathRound$1(Ty*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(Ay*RADIAN_TO_DEGREE)+"deg)"),Ey.join(" ")}var encodeBase64=function(){return env.hasGlobalWindow&&isFunction(window.btoa)?function(ha){return window.btoa(unescape(encodeURIComponent(ha)))}:typeof Buffer<"u"?function(ha){return Buffer.from(ha).toString("base64")}:function(ha){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(ha,ua,Sa){return(ua-ha)*Sa+ha}function interpolate1DArray(ha,ua,Sa,ba){for(var ka=ua.length,_y=0;_y<ka;_y++)ha[_y]=interpolateNumber$1(ua[_y],Sa[_y],ba);return ha}function interpolate2DArray(ha,ua,Sa,ba){for(var ka=ua.length,_y=ka&&ua[0].length,Ty=0;Ty<ka;Ty++){ha[Ty]||(ha[Ty]=[]);for(var Ay=0;Ay<_y;Ay++)ha[Ty][Ay]=interpolateNumber$1(ua[Ty][Ay],Sa[Ty][Ay],ba)}return ha}function add1DArray(ha,ua,Sa,ba){for(var ka=ua.length,_y=0;_y<ka;_y++)ha[_y]=ua[_y]+Sa[_y]*ba;return ha}function add2DArray(ha,ua,Sa,ba){for(var ka=ua.length,_y=ka&&ua[0].length,Ty=0;Ty<ka;Ty++){ha[Ty]||(ha[Ty]=[]);for(var Ay=0;Ay<_y;Ay++)ha[Ty][Ay]=ua[Ty][Ay]+Sa[Ty][Ay]*ba}return ha}function fillColorStops(ha,ua){for(var Sa=ha.length,ba=ua.length,ka=Sa>ba?ua:ha,_y=Math.min(Sa,ba),Ty=ka[_y-1]||{color:[0,0,0,0],offset:0},Ay=_y;Ay<Math.max(Sa,ba);Ay++)ka.push({offset:Ty.offset,color:Ty.color.slice()})}function fillArray(ha,ua,Sa){var ba=ha,ka=ua;if(!(!ba.push||!ka.push)){var _y=ba.length,Ty=ka.length;if(_y!==Ty){var Ay=_y>Ty;if(Ay)ba.length=Ty;else for(var Ey=_y;Ey<Ty;Ey++)ba.push(Sa===1?ka[Ey]:arraySlice.call(ka[Ey]))}for(var My=ba[0]&&ba[0].length,Ey=0;Ey<ba.length;Ey++)if(Sa===1)isNaN(ba[Ey])&&(ba[Ey]=ka[Ey]);else for(var Dy=0;Dy<My;Dy++)isNaN(ba[Ey][Dy])&&(ba[Ey][Dy]=ka[Ey][Dy])}}function cloneValue(ha){if(isArrayLike(ha)){var ua=ha.length;if(isArrayLike(ha[0])){for(var Sa=[],ba=0;ba<ua;ba++)Sa.push(arraySlice.call(ha[ba]));return Sa}return arraySlice.call(ha)}return ha}function rgba2String(ha){return ha[0]=Math.floor(ha[0])||0,ha[1]=Math.floor(ha[1])||0,ha[2]=Math.floor(ha[2])||0,ha[3]=ha[3]==null?1:ha[3],"rgba("+ha.join(",")+")"}function guessArrayDim(ha){return isArrayLike(ha&&ha[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(ha){return ha===VALUE_TYPE_LINEAR_GRADIENT||ha===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(ha){return ha===VALUE_TYPE_1D_ARRAY||ha===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function ha(ua){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=ua}return ha.prototype.isFinished=function(){return this._finished},ha.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},ha.prototype.needsAnimate=function(){return this.keyframes.length>=1},ha.prototype.getAdditiveTrack=function(){return this._additiveTrack},ha.prototype.addKeyframe=function(ua,Sa,ba){this._needsSort=!0;var ka=this.keyframes,_y=ka.length,Ty=!1,Ay=VALUE_TYPE_UNKOWN,Ey=Sa;if(isArrayLike(Sa)){var My=guessArrayDim(Sa);Ay=My,(My===1&&!isNumber(Sa[0])||My===2&&!isNumber(Sa[0][0]))&&(Ty=!0)}else if(isNumber(Sa)&&!eqNaN(Sa))Ay=VALUE_TYPE_NUMBER;else if(isString(Sa))if(!isNaN(+Sa))Ay=VALUE_TYPE_NUMBER;else{var Dy=parse(Sa);Dy&&(Ey=Dy,Ay=VALUE_TYPE_COLOR)}else if(isGradientObject(Sa)){var Iy=extend({},Ey);Iy.colorStops=map$1(Sa.colorStops,function(Py){return{offset:Py.offset,color:parse(Py.color)}}),isLinearGradient(Sa)?Ay=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(Sa)&&(Ay=VALUE_TYPE_RADIAL_GRADIENT),Ey=Iy}_y===0?this.valType=Ay:(Ay!==this.valType||Ay===VALUE_TYPE_UNKOWN)&&(Ty=!0),this.discrete=this.discrete||Ty;var Ly={time:ua,value:Ey,rawValue:Sa,percent:0};return ba&&(Ly.easing=ba,Ly.easingFunc=isFunction(ba)?ba:easingFuncs[ba]||createCubicEasingFunc(ba)),ka.push(Ly),Ly},ha.prototype.prepare=function(ua,Sa){var ba=this.keyframes;this._needsSort&&ba.sort(function(Vy,Ny){return Vy.time-Ny.time});for(var ka=this.valType,_y=ba.length,Ty=ba[_y-1],Ay=this.discrete,Ey=isArrayValueType(ka),My=isGradientValueType(ka),Dy=0;Dy<_y;Dy++){var Iy=ba[Dy],Ly=Iy.value,Py=Ty.value;Iy.percent=Iy.time/ua,Ay||(Ey&&Dy!==_y-1?fillArray(Ly,Py,ka):My&&fillColorStops(Ly.colorStops,Py.colorStops))}if(!Ay&&ka!==VALUE_TYPE_RADIAL_GRADIENT&&Sa&&this.needsAnimate()&&Sa.needsAnimate()&&ka===Sa.valType&&!Sa._finished){this._additiveTrack=Sa;for(var Ry=ba[0].value,Dy=0;Dy<_y;Dy++)ka===VALUE_TYPE_NUMBER?ba[Dy].additiveValue=ba[Dy].value-Ry:ka===VALUE_TYPE_COLOR?ba[Dy].additiveValue=add1DArray([],ba[Dy].value,Ry,-1):isArrayValueType(ka)&&(ba[Dy].additiveValue=ka===VALUE_TYPE_1D_ARRAY?add1DArray([],ba[Dy].value,Ry,-1):add2DArray([],ba[Dy].value,Ry,-1))}},ha.prototype.step=function(ua,Sa){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var ba=this._additiveTrack!=null,ka=ba?"additiveValue":"value",_y=this.valType,Ty=this.keyframes,Ay=Ty.length,Ey=this.propName,My=_y===VALUE_TYPE_COLOR,Dy,Iy=this._lastFr,Ly=Math.min,Py,Ry;if(Ay===1)Py=Ry=Ty[0];else{if(Sa<0)Dy=0;else if(Sa<this._lastFrP){var Vy=Ly(Iy+1,Ay-1);for(Dy=Vy;Dy>=0&&!(Ty[Dy].percent<=Sa);Dy--);Dy=Ly(Dy,Ay-2)}else{for(Dy=Iy;Dy<Ay&&!(Ty[Dy].percent>Sa);Dy++);Dy=Ly(Dy-1,Ay-2)}Ry=Ty[Dy+1],Py=Ty[Dy]}if(Py&&Ry){this._lastFr=Dy,this._lastFrP=Sa;var Ny=Ry.percent-Py.percent,By=Ny===0?1:Ly((Sa-Py.percent)/Ny,1);Ry.easingFunc&&(By=Ry.easingFunc(By));var Oy=ba?this._additiveValue:My?tmpRgba:ua[Ey];if((isArrayValueType(_y)||My)&&!Oy&&(Oy=this._additiveValue=[]),this.discrete)ua[Ey]=By<1?Py.rawValue:Ry.rawValue;else if(isArrayValueType(_y))_y===VALUE_TYPE_1D_ARRAY?interpolate1DArray(Oy,Py[ka],Ry[ka],By):interpolate2DArray(Oy,Py[ka],Ry[ka],By);else if(isGradientValueType(_y)){var Fy=Py[ka],zy=Ry[ka],Hy=_y===VALUE_TYPE_LINEAR_GRADIENT;ua[Ey]={type:Hy?"linear":"radial",x:interpolateNumber$1(Fy.x,zy.x,By),y:interpolateNumber$1(Fy.y,zy.y,By),colorStops:map$1(Fy.colorStops,function(Wy,Uy){var Yy=zy.colorStops[Uy];return{offset:interpolateNumber$1(Wy.offset,Yy.offset,By),color:rgba2String(interpolate1DArray([],Wy.color,Yy.color,By))}}),global:zy.global},Hy?(ua[Ey].x2=interpolateNumber$1(Fy.x2,zy.x2,By),ua[Ey].y2=interpolateNumber$1(Fy.y2,zy.y2,By)):ua[Ey].r=interpolateNumber$1(Fy.r,zy.r,By)}else if(My)interpolate1DArray(Oy,Py[ka],Ry[ka],By),ba||(ua[Ey]=rgba2String(Oy));else{var Gy=interpolateNumber$1(Py[ka],Ry[ka],By);ba?this._additiveValue=Gy:ua[Ey]=Gy}ba&&this._addToTarget(ua)}}},ha.prototype._addToTarget=function(ua){var Sa=this.valType,ba=this.propName,ka=this._additiveValue;Sa===VALUE_TYPE_NUMBER?ua[ba]=ua[ba]+ka:Sa===VALUE_TYPE_COLOR?(parse(ua[ba],tmpRgba),add1DArray(tmpRgba,tmpRgba,ka,1),ua[ba]=rgba2String(tmpRgba)):Sa===VALUE_TYPE_1D_ARRAY?add1DArray(ua[ba],ua[ba],ka,1):Sa===VALUE_TYPE_2D_ARRAY&&add2DArray(ua[ba],ua[ba],ka,1)},ha}(),Animator=function(){function ha(ua,Sa,ba,ka){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=ua,this._loop=Sa,Sa&&ka){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=ka,this._allowDiscrete=ba}return ha.prototype.getMaxTime=function(){return this._maxTime},ha.prototype.getDelay=function(){return this._delay},ha.prototype.getLoop=function(){return this._loop},ha.prototype.getTarget=function(){return this._target},ha.prototype.changeTarget=function(ua){this._target=ua},ha.prototype.when=function(ua,Sa,ba){return this.whenWithKeys(ua,Sa,keys(Sa),ba)},ha.prototype.whenWithKeys=function(ua,Sa,ba,ka){for(var _y=this._tracks,Ty=0;Ty<ba.length;Ty++){var Ay=ba[Ty],Ey=_y[Ay];if(!Ey){Ey=_y[Ay]=new Track(Ay);var My=void 0,Dy=this._getAdditiveTrack(Ay);if(Dy){var Iy=Dy.keyframes,Ly=Iy[Iy.length-1];My=Ly&&Ly.value,Dy.valType===VALUE_TYPE_COLOR&&My&&(My=rgba2String(My))}else My=this._target[Ay];if(My==null)continue;ua>0&&Ey.addKeyframe(0,cloneValue(My),ka),this._trackKeys.push(Ay)}Ey.addKeyframe(ua,cloneValue(Sa[Ay]),ka)}return this._maxTime=Math.max(this._maxTime,ua),this},ha.prototype.pause=function(){this._clip.pause(),this._paused=!0},ha.prototype.resume=function(){this._clip.resume(),this._paused=!1},ha.prototype.isPaused=function(){return!!this._paused},ha.prototype.duration=function(ua){return this._maxTime=ua,this._force=!0,this},ha.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var ua=this._doneCbs;if(ua)for(var Sa=ua.length,ba=0;ba<Sa;ba++)ua[ba].call(this)},ha.prototype._abortedCallback=function(){this._setTracksFinished();var ua=this.animation,Sa=this._abortedCbs;if(ua&&ua.removeClip(this._clip),this._clip=null,Sa)for(var ba=0;ba<Sa.length;ba++)Sa[ba].call(this)},ha.prototype._setTracksFinished=function(){for(var ua=this._tracks,Sa=this._trackKeys,ba=0;ba<Sa.length;ba++)ua[Sa[ba]].setFinished()},ha.prototype._getAdditiveTrack=function(ua){var Sa,ba=this._additiveAnimators;if(ba)for(var ka=0;ka<ba.length;ka++){var _y=ba[ka].getTrack(ua);_y&&(Sa=_y)}return Sa},ha.prototype.start=function(ua){if(!(this._started>0)){this._started=1;for(var Sa=this,ba=[],ka=this._maxTime||0,_y=0;_y<this._trackKeys.length;_y++){var Ty=this._trackKeys[_y],Ay=this._tracks[Ty],Ey=this._getAdditiveTrack(Ty),My=Ay.keyframes,Dy=My.length;if(Ay.prepare(ka,Ey),Ay.needsAnimate())if(!this._allowDiscrete&&Ay.discrete){var Iy=My[Dy-1];Iy&&(Sa._target[Ay.propName]=Iy.rawValue),Ay.setFinished()}else ba.push(Ay)}if(ba.length||this._force){var Ly=new Clip({life:ka,loop:this._loop,delay:this._delay||0,onframe:function(Py){Sa._started=2;var Ry=Sa._additiveAnimators;if(Ry){for(var Vy=!1,Ny=0;Ny<Ry.length;Ny++)if(Ry[Ny]._clip){Vy=!0;break}Vy||(Sa._additiveAnimators=null)}for(var Ny=0;Ny<ba.length;Ny++)ba[Ny].step(Sa._target,Py);var By=Sa._onframeCbs;if(By)for(var Ny=0;Ny<By.length;Ny++)By[Ny](Sa._target,Py)},ondestroy:function(){Sa._doneCallback()}});this._clip=Ly,this.animation&&this.animation.addClip(Ly),ua&&Ly.setEasing(ua)}else this._doneCallback();return this}},ha.prototype.stop=function(ua){if(this._clip){var Sa=this._clip;ua&&Sa.onframe(1),this._abortedCallback()}},ha.prototype.delay=function(ua){return this._delay=ua,this},ha.prototype.during=function(ua){return ua&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(ua)),this},ha.prototype.done=function(ua){return ua&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(ua)),this},ha.prototype.aborted=function(ua){return ua&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(ua)),this},ha.prototype.getClip=function(){return this._clip},ha.prototype.getTrack=function(ua){return this._tracks[ua]},ha.prototype.getTracks=function(){var ua=this;return map$1(this._trackKeys,function(Sa){return ua._tracks[Sa]})},ha.prototype.stopTracks=function(ua,Sa){if(!ua.length||!this._clip)return!0;for(var ba=this._tracks,ka=this._trackKeys,_y=0;_y<ua.length;_y++){var Ty=ba[ua[_y]];Ty&&!Ty.isFinished()&&(Sa?Ty.step(this._target,1):this._started===1&&Ty.step(this._target,0),Ty.setFinished())}for(var Ay=!0,_y=0;_y<ka.length;_y++)if(!ba[ka[_y]].isFinished()){Ay=!1;break}return Ay&&this._abortedCallback(),Ay},ha.prototype.saveTo=function(ua,Sa,ba){if(ua){Sa=Sa||this._trackKeys;for(var ka=0;ka<Sa.length;ka++){var _y=Sa[ka],Ty=this._tracks[_y];if(!(!Ty||Ty.isFinished())){var Ay=Ty.keyframes,Ey=Ay[ba?0:Ay.length-1];Ey&&(ua[_y]=cloneValue(Ey.rawValue))}}}},ha.prototype.__changeFinalValue=function(ua,Sa){Sa=Sa||keys(ua);for(var ba=0;ba<Sa.length;ba++){var ka=Sa[ba],_y=this._tracks[ka];if(_y){var Ty=_y.keyframes;if(Ty.length>1){var Ay=Ty.pop();_y.addKeyframe(Ay.time,ua[ka]),_y.prepare(this._maxTime,_y.getAdditiveTrack())}}}},ha}();function getTime(){return new Date().getTime()}var Animation=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this)||this;return ba._running=!1,ba._time=0,ba._pausedTime=0,ba._pauseStart=0,ba._paused=!1,Sa=Sa||{},ba.stage=Sa.stage||{},ba}return ua.prototype.addClip=function(Sa){Sa.animation&&this.removeClip(Sa),this._head?(this._tail.next=Sa,Sa.prev=this._tail,Sa.next=null,this._tail=Sa):this._head=this._tail=Sa,Sa.animation=this},ua.prototype.addAnimator=function(Sa){Sa.animation=this;var ba=Sa.getClip();ba&&this.addClip(ba)},ua.prototype.removeClip=function(Sa){if(Sa.animation){var ba=Sa.prev,ka=Sa.next;ba?ba.next=ka:this._head=ka,ka?ka.prev=ba:this._tail=ba,Sa.next=Sa.prev=Sa.animation=null}},ua.prototype.removeAnimator=function(Sa){var ba=Sa.getClip();ba&&this.removeClip(ba),Sa.animation=null},ua.prototype.update=function(Sa){for(var ba=getTime()-this._pausedTime,ka=ba-this._time,_y=this._head;_y;){var Ty=_y.next,Ay=_y.step(ba,ka);Ay&&(_y.ondestroy(),this.removeClip(_y)),_y=Ty}this._time=ba,Sa||(this.trigger("frame",ka),this.stage.update&&this.stage.update())},ua.prototype._startLoop=function(){var Sa=this;this._running=!0;function ba(){Sa._running&&(requestAnimationFrame$1(ba),!Sa._paused&&Sa.update())}requestAnimationFrame$1(ba)},ua.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},ua.prototype.stop=function(){this._running=!1},ua.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},ua.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},ua.prototype.clear=function(){for(var Sa=this._head;Sa;){var ba=Sa.next;Sa.prev=Sa.next=Sa.animation=null,Sa=ba}this._head=this._tail=null},ua.prototype.isFinished=function(){return this._head==null},ua.prototype.animate=function(Sa,ba){ba=ba||{},this.start();var ka=new Animator(Sa,ba.loop);return this.addAnimator(ka),ka},ua}(Eventful),TOUCH_CLICK_DELAY=300,globalEventSupported=env.domSupported,localNativeListenerNames=function(){var ha=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ua=["touchstart","touchend","touchmove"],Sa={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},ba=map$1(ha,function(ka){var _y=ka.replace("mouse","pointer");return Sa.hasOwnProperty(_y)?_y:ka});return{mouse:ha,touch:ua,pointer:ba}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(ha){var ua=ha.pointerType;return ua==="pen"||ua==="touch"}function setTouchTimer(ha){ha.touching=!0,ha.touchTimer!=null&&(clearTimeout(ha.touchTimer),ha.touchTimer=null),ha.touchTimer=setTimeout(function(){ha.touching=!1,ha.touchTimer=null},700)}function markTouch(ha){ha&&(ha.zrByTouch=!0)}function normalizeGlobalEvent(ha,ua){return normalizeEvent(ha.dom,new FakeGlobalEvent(ha,ua),!0)}function isLocalEl(ha,ua){for(var Sa=ua,ba=!1;Sa&&Sa.nodeType!==9&&!(ba=Sa.domBelongToZr||Sa!==ua&&Sa===ha.painterRoot);)Sa=Sa.parentNode;return ba}var FakeGlobalEvent=function(){function ha(ua,Sa){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=Sa.type,this.target=this.currentTarget=ua.dom,this.pointerType=Sa.pointerType,this.clientX=Sa.clientX,this.clientY=Sa.clientY}return ha}(),localDOMHandlers={mousedown:function(ha){ha=normalizeEvent(this.dom,ha),this.__mayPointerCapture=[ha.zrX,ha.zrY],this.trigger("mousedown",ha)},mousemove:function(ha){ha=normalizeEvent(this.dom,ha);var ua=this.__mayPointerCapture;ua&&(ha.zrX!==ua[0]||ha.zrY!==ua[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",ha)},mouseup:function(ha){ha=normalizeEvent(this.dom,ha),this.__togglePointerCapture(!1),this.trigger("mouseup",ha)},mouseout:function(ha){ha=normalizeEvent(this.dom,ha);var ua=ha.toElement||ha.relatedTarget;isLocalEl(this,ua)||(this.__pointerCapturing&&(ha.zrEventControl="no_globalout"),this.trigger("mouseout",ha))},wheel:function(ha){wheelEventSupported=!0,ha=normalizeEvent(this.dom,ha),this.trigger("mousewheel",ha)},mousewheel:function(ha){wheelEventSupported||(ha=normalizeEvent(this.dom,ha),this.trigger("mousewheel",ha))},touchstart:function(ha){ha=normalizeEvent(this.dom,ha),markTouch(ha),this.__lastTouchMoment=new Date,this.handler.processGesture(ha,"start"),localDOMHandlers.mousemove.call(this,ha),localDOMHandlers.mousedown.call(this,ha)},touchmove:function(ha){ha=normalizeEvent(this.dom,ha),markTouch(ha),this.handler.processGesture(ha,"change"),localDOMHandlers.mousemove.call(this,ha)},touchend:function(ha){ha=normalizeEvent(this.dom,ha),markTouch(ha),this.handler.processGesture(ha,"end"),localDOMHandlers.mouseup.call(this,ha),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,ha)},pointerdown:function(ha){localDOMHandlers.mousedown.call(this,ha)},pointermove:function(ha){isPointerFromTouch(ha)||localDOMHandlers.mousemove.call(this,ha)},pointerup:function(ha){localDOMHandlers.mouseup.call(this,ha)},pointerout:function(ha){isPointerFromTouch(ha)||localDOMHandlers.mouseout.call(this,ha)}};each$f(["click","dblclick","contextmenu"],function(ha){localDOMHandlers[ha]=function(ua){ua=normalizeEvent(this.dom,ua),this.trigger(ha,ua)}});var globalDOMHandlers={pointermove:function(ha){isPointerFromTouch(ha)||globalDOMHandlers.mousemove.call(this,ha)},pointerup:function(ha){globalDOMHandlers.mouseup.call(this,ha)},mousemove:function(ha){this.trigger("mousemove",ha)},mouseup:function(ha){var ua=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",ha),ua&&(ha.zrEventControl="only_globalout",this.trigger("mouseout",ha))}};function mountLocalDOMEventListeners(ha,ua){var Sa=ua.domHandlers;env.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(ba){mountSingleDOMEventListener(ua,ba,function(ka){Sa[ba].call(ha,ka)})}):(env.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(ba){mountSingleDOMEventListener(ua,ba,function(ka){Sa[ba].call(ha,ka),setTouchTimer(ua)})}),each$f(localNativeListenerNames.mouse,function(ba){mountSingleDOMEventListener(ua,ba,function(ka){ka=getNativeEvent(ka),ua.touching||Sa[ba].call(ha,ka)})}))}function mountGlobalDOMEventListeners(ha,ua){env.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,Sa):env.touchEventsSupported||each$f(globalNativeListenerNames.mouse,Sa);function Sa(ba){function ka(_y){_y=getNativeEvent(_y),isLocalEl(ha,_y.target)||(_y=normalizeGlobalEvent(ha,_y),ua.domHandlers[ba].call(ha,_y))}mountSingleDOMEventListener(ua,ba,ka,{capture:!0})}}function mountSingleDOMEventListener(ha,ua,Sa,ba){ha.mounted[ua]=Sa,ha.listenerOpts[ua]=ba,addEventListener(ha.domTarget,ua,Sa,ba)}function unmountDOMEventListeners(ha){var ua=ha.mounted;for(var Sa in ua)ua.hasOwnProperty(Sa)&&removeEventListener(ha.domTarget,Sa,ua[Sa],ha.listenerOpts[Sa]);ha.mounted={}}var DOMHandlerScope=function(){function ha(ua,Sa){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=ua,this.domHandlers=Sa}return ha}(),HandlerDomProxy=function(ha){__extends(ua,ha);function ua(Sa,ba){var ka=ha.call(this)||this;return ka.__pointerCapturing=!1,ka.dom=Sa,ka.painterRoot=ba,ka._localHandlerScope=new DOMHandlerScope(Sa,localDOMHandlers),globalEventSupported&&(ka._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(ka,ka._localHandlerScope),ka}return ua.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},ua.prototype.setCursor=function(Sa){this.dom.style&&(this.dom.style.cursor=Sa||"default")},ua.prototype.__togglePointerCapture=function(Sa){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+Sa){this.__pointerCapturing=Sa;var ba=this._globalHandlerScope;Sa?mountGlobalDOMEventListeners(this,ba):unmountDOMEventListeners(ba)}},ua}(Eventful),dpr=1;env.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(ha){return ha>EPSILON$2||ha<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function ha(){}return ha.prototype.getLocalTransform=function(ua){return ha.getLocalTransform(this,ua)},ha.prototype.setPosition=function(ua){this.x=ua[0],this.y=ua[1]},ha.prototype.setScale=function(ua){this.scaleX=ua[0],this.scaleY=ua[1]},ha.prototype.setSkew=function(ua){this.skewX=ua[0],this.skewY=ua[1]},ha.prototype.setOrigin=function(ua){this.originX=ua[0],this.originY=ua[1]},ha.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},ha.prototype.updateTransform=function(){var ua=this.parent&&this.parent.transform,Sa=this.needLocalTransform(),ba=this.transform;if(!(Sa||ua)){ba&&(mIdentity(ba),this.invTransform=null);return}ba=ba||create$1(),Sa?this.getLocalTransform(ba):mIdentity(ba),ua&&(Sa?mul(ba,ua,ba):copy(ba,ua)),this.transform=ba,this._resolveGlobalScaleRatio(ba)},ha.prototype._resolveGlobalScaleRatio=function(ua){var Sa=this.globalScaleRatio;if(Sa!=null&&Sa!==1){this.getGlobalScale(scaleTmp);var ba=scaleTmp[0]<0?-1:1,ka=scaleTmp[1]<0?-1:1,_y=((scaleTmp[0]-ba)*Sa+ba)/scaleTmp[0]||0,Ty=((scaleTmp[1]-ka)*Sa+ka)/scaleTmp[1]||0;ua[0]*=_y,ua[1]*=_y,ua[2]*=Ty,ua[3]*=Ty}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,ua)},ha.prototype.getComputedTransform=function(){for(var ua=this,Sa=[];ua;)Sa.push(ua),ua=ua.parent;for(;ua=Sa.pop();)ua.updateTransform();return this.transform},ha.prototype.setLocalTransform=function(ua){if(ua){var Sa=ua[0]*ua[0]+ua[1]*ua[1],ba=ua[2]*ua[2]+ua[3]*ua[3],ka=Math.atan2(ua[1],ua[0]),_y=Math.PI/2+ka-Math.atan2(ua[3],ua[2]);ba=Math.sqrt(ba)*Math.cos(_y),Sa=Math.sqrt(Sa),this.skewX=_y,this.skewY=0,this.rotation=-ka,this.x=+ua[4],this.y=+ua[5],this.scaleX=Sa,this.scaleY=ba,this.originX=0,this.originY=0}},ha.prototype.decomposeTransform=function(){if(this.transform){var ua=this.parent,Sa=this.transform;ua&&ua.transform&&(ua.invTransform=ua.invTransform||create$1(),mul(tmpTransform,ua.invTransform,Sa),Sa=tmpTransform);var ba=this.originX,ka=this.originY;(ba||ka)&&(originTransform[4]=ba,originTransform[5]=ka,mul(tmpTransform,Sa,originTransform),tmpTransform[4]-=ba,tmpTransform[5]-=ka,Sa=tmpTransform),this.setLocalTransform(Sa)}},ha.prototype.getGlobalScale=function(ua){var Sa=this.transform;return ua=ua||[],Sa?(ua[0]=Math.sqrt(Sa[0]*Sa[0]+Sa[1]*Sa[1]),ua[1]=Math.sqrt(Sa[2]*Sa[2]+Sa[3]*Sa[3]),Sa[0]<0&&(ua[0]=-ua[0]),Sa[3]<0&&(ua[1]=-ua[1]),ua):(ua[0]=1,ua[1]=1,ua)},ha.prototype.transformCoordToLocal=function(ua,Sa){var ba=[ua,Sa],ka=this.invTransform;return ka&&applyTransform$1(ba,ba,ka),ba},ha.prototype.transformCoordToGlobal=function(ua,Sa){var ba=[ua,Sa],ka=this.transform;return ka&&applyTransform$1(ba,ba,ka),ba},ha.prototype.getLineScale=function(){var ua=this.transform;return ua&&abs(ua[0]-1)>1e-10&&abs(ua[3]-1)>1e-10?Math.sqrt(abs(ua[0]*ua[3]-ua[2]*ua[1])):1},ha.prototype.copyTransform=function(ua){copyTransform(this,ua)},ha.getLocalTransform=function(ua,Sa){Sa=Sa||[];var ba=ua.originX||0,ka=ua.originY||0,_y=ua.scaleX,Ty=ua.scaleY,Ay=ua.anchorX,Ey=ua.anchorY,My=ua.rotation||0,Dy=ua.x,Iy=ua.y,Ly=ua.skewX?Math.tan(ua.skewX):0,Py=ua.skewY?Math.tan(-ua.skewY):0;if(ba||ka||Ay||Ey){var Ry=ba+Ay,Vy=ka+Ey;Sa[4]=-Ry*_y-Ly*Vy*Ty,Sa[5]=-Vy*Ty-Py*Ry*_y}else Sa[4]=Sa[5]=0;return Sa[0]=_y,Sa[3]=Ty,Sa[1]=Py*_y,Sa[2]=Ly*Ty,My&&rotate(Sa,Sa,My),Sa[4]+=ba+Dy,Sa[5]+=ka+Iy,Sa},ha.initDefaultProps=function(){var ua=ha.prototype;ua.scaleX=ua.scaleY=ua.globalScaleRatio=1,ua.x=ua.y=ua.originX=ua.originY=ua.skewX=ua.skewY=ua.rotation=ua.anchorX=ua.anchorY=0}(),ha}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(ha,ua){for(var Sa=0;Sa<TRANSFORMABLE_PROPS.length;Sa++){var ba=TRANSFORMABLE_PROPS[Sa];ha[ba]=ua[ba]}}var textWidthCache={};function getWidth(ha,ua){ua=ua||DEFAULT_FONT;var Sa=textWidthCache[ua];Sa||(Sa=textWidthCache[ua]=new LRU(500));var ba=Sa.get(ha);return ba==null&&(ba=platformApi.measureText(ha,ua).width,Sa.put(ha,ba)),ba}function innerGetBoundingRect(ha,ua,Sa,ba){var ka=getWidth(ha,ua),_y=getLineHeight(ua),Ty=adjustTextX(0,ka,Sa),Ay=adjustTextY(0,_y,ba),Ey=new BoundingRect(Ty,Ay,ka,_y);return Ey}function getBoundingRect(ha,ua,Sa,ba){var ka=((ha||"")+"").split(`
`),_y=ka.length;if(_y===1)return innerGetBoundingRect(ka[0],ua,Sa,ba);for(var Ty=new BoundingRect(0,0,0,0),Ay=0;Ay<ka.length;Ay++){var Ey=innerGetBoundingRect(ka[Ay],ua,Sa,ba);Ay===0?Ty.copy(Ey):Ty.union(Ey)}return Ty}function adjustTextX(ha,ua,Sa){return Sa==="right"?ha-=ua:Sa==="center"&&(ha-=ua/2),ha}function adjustTextY(ha,ua,Sa){return Sa==="middle"?ha-=ua/2:Sa==="bottom"&&(ha-=ua),ha}function getLineHeight(ha){return getWidth("国",ha)}function parsePercent$1(ha,ua){return typeof ha=="string"?ha.lastIndexOf("%")>=0?parseFloat(ha)/100*ua:parseFloat(ha):ha}function calculateTextPosition(ha,ua,Sa){var ba=ua.position||"inside",ka=ua.distance!=null?ua.distance:5,_y=Sa.height,Ty=Sa.width,Ay=_y/2,Ey=Sa.x,My=Sa.y,Dy="left",Iy="top";if(ba instanceof Array)Ey+=parsePercent$1(ba[0],Sa.width),My+=parsePercent$1(ba[1],Sa.height),Dy=null,Iy=null;else switch(ba){case"left":Ey-=ka,My+=Ay,Dy="right",Iy="middle";break;case"right":Ey+=ka+Ty,My+=Ay,Iy="middle";break;case"top":Ey+=Ty/2,My-=ka,Dy="center",Iy="bottom";break;case"bottom":Ey+=Ty/2,My+=_y+ka,Dy="center";break;case"inside":Ey+=Ty/2,My+=Ay,Dy="center",Iy="middle";break;case"insideLeft":Ey+=ka,My+=Ay,Iy="middle";break;case"insideRight":Ey+=Ty-ka,My+=Ay,Dy="right",Iy="middle";break;case"insideTop":Ey+=Ty/2,My+=ka,Dy="center";break;case"insideBottom":Ey+=Ty/2,My+=_y-ka,Dy="center",Iy="bottom";break;case"insideTopLeft":Ey+=ka,My+=ka;break;case"insideTopRight":Ey+=Ty-ka,My+=ka,Dy="right";break;case"insideBottomLeft":Ey+=ka,My+=_y-ka,Iy="bottom";break;case"insideBottomRight":Ey+=Ty-ka,My+=_y-ka,Dy="right",Iy="bottom";break}return ha=ha||{},ha.x=Ey,ha.y=My,ha.align=Dy,ha.verticalAlign=Iy,ha}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(ha,ua){return ha[ua]=!0,ha},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect(0,0,0,0),Element$1=function(){function ha(ua){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(ua)}return ha.prototype._init=function(ua){this.attr(ua)},ha.prototype.drift=function(ua,Sa,ba){switch(this.draggable){case"horizontal":Sa=0;break;case"vertical":ua=0;break}var ka=this.transform;ka||(ka=this.transform=[1,0,0,1,0,0]),ka[4]+=ua,ka[5]+=Sa,this.decomposeTransform(),this.markRedraw()},ha.prototype.beforeUpdate=function(){},ha.prototype.afterUpdate=function(){},ha.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},ha.prototype.updateInnerText=function(ua){var Sa=this._textContent;if(Sa&&(!Sa.ignore||ua)){this.textConfig||(this.textConfig={});var ba=this.textConfig,ka=ba.local,_y=Sa.innerTransformable,Ty=void 0,Ay=void 0,Ey=!1;_y.parent=ka?this:null;var My=!1;if(_y.copyTransform(Sa),ba.position!=null){var Dy=tmpBoundingRect;ba.layoutRect?Dy.copy(ba.layoutRect):Dy.copy(this.getBoundingRect()),ka||Dy.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,ba,Dy):calculateTextPosition(tmpTextPosCalcRes,ba,Dy),_y.x=tmpTextPosCalcRes.x,_y.y=tmpTextPosCalcRes.y,Ty=tmpTextPosCalcRes.align,Ay=tmpTextPosCalcRes.verticalAlign;var Iy=ba.origin;if(Iy&&ba.rotation!=null){var Ly=void 0,Py=void 0;Iy==="center"?(Ly=Dy.width*.5,Py=Dy.height*.5):(Ly=parsePercent$1(Iy[0],Dy.width),Py=parsePercent$1(Iy[1],Dy.height)),My=!0,_y.originX=-_y.x+Ly+(ka?0:Dy.x),_y.originY=-_y.y+Py+(ka?0:Dy.y)}}ba.rotation!=null&&(_y.rotation=ba.rotation);var Ry=ba.offset;Ry&&(_y.x+=Ry[0],_y.y+=Ry[1],My||(_y.originX=-Ry[0],_y.originY=-Ry[1]));var Vy=ba.inside==null?typeof ba.position=="string"&&ba.position.indexOf("inside")>=0:ba.inside,Ny=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),By=void 0,Oy=void 0,Fy=void 0;Vy&&this.canBeInsideText()?(By=ba.insideFill,Oy=ba.insideStroke,(By==null||By==="auto")&&(By=this.getInsideTextFill()),(Oy==null||Oy==="auto")&&(Oy=this.getInsideTextStroke(By),Fy=!0)):(By=ba.outsideFill,Oy=ba.outsideStroke,(By==null||By==="auto")&&(By=this.getOutsideFill()),(Oy==null||Oy==="auto")&&(Oy=this.getOutsideStroke(By),Fy=!0)),By=By||"#000",(By!==Ny.fill||Oy!==Ny.stroke||Fy!==Ny.autoStroke||Ty!==Ny.align||Ay!==Ny.verticalAlign)&&(Ey=!0,Ny.fill=By,Ny.stroke=Oy,Ny.autoStroke=Fy,Ny.align=Ty,Ny.verticalAlign=Ay,Sa.setDefaultTextStyle(Ny)),Sa.__dirty|=REDRAW_BIT,Ey&&Sa.dirtyStyle(!0)}},ha.prototype.canBeInsideText=function(){return!0},ha.prototype.getInsideTextFill=function(){return"#fff"},ha.prototype.getInsideTextStroke=function(ua){return"#000"},ha.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},ha.prototype.getOutsideStroke=function(ua){var Sa=this.__zr&&this.__zr.getBackgroundColor(),ba=typeof Sa=="string"&&parse(Sa);ba||(ba=[255,255,255,1]);for(var ka=ba[3],_y=this.__zr.isDarkMode(),Ty=0;Ty<3;Ty++)ba[Ty]=ba[Ty]*ka+(_y?0:255)*(1-ka);return ba[3]=1,stringify(ba,"rgba")},ha.prototype.traverse=function(ua,Sa){},ha.prototype.attrKV=function(ua,Sa){ua==="textConfig"?this.setTextConfig(Sa):ua==="textContent"?this.setTextContent(Sa):ua==="clipPath"?this.setClipPath(Sa):ua==="extra"?(this.extra=this.extra||{},extend(this.extra,Sa)):this[ua]=Sa},ha.prototype.hide=function(){this.ignore=!0,this.markRedraw()},ha.prototype.show=function(){this.ignore=!1,this.markRedraw()},ha.prototype.attr=function(ua,Sa){if(typeof ua=="string")this.attrKV(ua,Sa);else if(isObject$3(ua))for(var ba=ua,ka=keys(ba),_y=0;_y<ka.length;_y++){var Ty=ka[_y];this.attrKV(Ty,ua[Ty])}return this.markRedraw(),this},ha.prototype.saveCurrentToNormalState=function(ua){this._innerSaveToNormal(ua);for(var Sa=this._normalState,ba=0;ba<this.animators.length;ba++){var ka=this.animators[ba],_y=ka.__fromStateTransition;if(!(ka.getLoop()||_y&&_y!==PRESERVED_NORMAL_STATE)){var Ty=ka.targetName,Ay=Ty?Sa[Ty]:Sa;ka.saveTo(Ay)}}},ha.prototype._innerSaveToNormal=function(ua){var Sa=this._normalState;Sa||(Sa=this._normalState={}),ua.textConfig&&!Sa.textConfig&&(Sa.textConfig=this.textConfig),this._savePrimaryToNormal(ua,Sa,PRIMARY_STATES_KEYS$1)},ha.prototype._savePrimaryToNormal=function(ua,Sa,ba){for(var ka=0;ka<ba.length;ka++){var _y=ba[ka];ua[_y]!=null&&!(_y in Sa)&&(Sa[_y]=this[_y])}},ha.prototype.hasState=function(){return this.currentStates.length>0},ha.prototype.getState=function(ua){return this.states[ua]},ha.prototype.ensureState=function(ua){var Sa=this.states;return Sa[ua]||(Sa[ua]={}),Sa[ua]},ha.prototype.clearStates=function(ua){this.useState(PRESERVED_NORMAL_STATE,!1,ua)},ha.prototype.useState=function(ua,Sa,ba,ka){var _y=ua===PRESERVED_NORMAL_STATE,Ty=this.hasState();if(!(!Ty&&_y)){var Ay=this.currentStates,Ey=this.stateTransition;if(!(indexOf(Ay,ua)>=0&&(Sa||Ay.length===1))){var My;if(this.stateProxy&&!_y&&(My=this.stateProxy(ua)),My||(My=this.states&&this.states[ua]),!My&&!_y){logError("State "+ua+" not exists.");return}_y||this.saveCurrentToNormalState(My);var Dy=!!(My&&My.hoverLayer||ka);Dy&&this._toggleHoverLayerFlag(!0),this._applyStateObj(ua,My,this._normalState,Sa,!ba&&!this.__inHover&&Ey&&Ey.duration>0,Ey);var Iy=this._textContent,Ly=this._textGuide;return Iy&&Iy.useState(ua,Sa,ba,Dy),Ly&&Ly.useState(ua,Sa,ba,Dy),_y?(this.currentStates=[],this._normalState={}):Sa?this.currentStates.push(ua):this.currentStates=[ua],this._updateAnimationTargets(),this.markRedraw(),!Dy&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),My}}},ha.prototype.useStates=function(ua,Sa,ba){if(!ua.length)this.clearStates();else{var ka=[],_y=this.currentStates,Ty=ua.length,Ay=Ty===_y.length;if(Ay){for(var Ey=0;Ey<Ty;Ey++)if(ua[Ey]!==_y[Ey]){Ay=!1;break}}if(Ay)return;for(var Ey=0;Ey<Ty;Ey++){var My=ua[Ey],Dy=void 0;this.stateProxy&&(Dy=this.stateProxy(My,ua)),Dy||(Dy=this.states[My]),Dy&&ka.push(Dy)}var Iy=ka[Ty-1],Ly=!!(Iy&&Iy.hoverLayer||ba);Ly&&this._toggleHoverLayerFlag(!0);var Py=this._mergeStates(ka),Ry=this.stateTransition;this.saveCurrentToNormalState(Py),this._applyStateObj(ua.join(","),Py,this._normalState,!1,!Sa&&!this.__inHover&&Ry&&Ry.duration>0,Ry);var Vy=this._textContent,Ny=this._textGuide;Vy&&Vy.useStates(ua,Sa,Ly),Ny&&Ny.useStates(ua,Sa,Ly),this._updateAnimationTargets(),this.currentStates=ua.slice(),this.markRedraw(),!Ly&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},ha.prototype.isSilent=function(){for(var ua=this.silent,Sa=this.parent;!ua&&Sa;){if(Sa.silent){ua=!0;break}Sa=Sa.parent}return ua},ha.prototype._updateAnimationTargets=function(){for(var ua=0;ua<this.animators.length;ua++){var Sa=this.animators[ua];Sa.targetName&&Sa.changeTarget(this[Sa.targetName])}},ha.prototype.removeState=function(ua){var Sa=indexOf(this.currentStates,ua);if(Sa>=0){var ba=this.currentStates.slice();ba.splice(Sa,1),this.useStates(ba)}},ha.prototype.replaceState=function(ua,Sa,ba){var ka=this.currentStates.slice(),_y=indexOf(ka,ua),Ty=indexOf(ka,Sa)>=0;_y>=0?Ty?ka.splice(_y,1):ka[_y]=Sa:ba&&!Ty&&ka.push(Sa),this.useStates(ka)},ha.prototype.toggleState=function(ua,Sa){Sa?this.useState(ua,!0):this.removeState(ua)},ha.prototype._mergeStates=function(ua){for(var Sa={},ba,ka=0;ka<ua.length;ka++){var _y=ua[ka];extend(Sa,_y),_y.textConfig&&(ba=ba||{},extend(ba,_y.textConfig))}return ba&&(Sa.textConfig=ba),Sa},ha.prototype._applyStateObj=function(ua,Sa,ba,ka,_y,Ty){var Ay=!(Sa&&ka);Sa&&Sa.textConfig?(this.textConfig=extend({},ka?this.textConfig:ba.textConfig),extend(this.textConfig,Sa.textConfig)):Ay&&ba.textConfig&&(this.textConfig=ba.textConfig);for(var Ey={},My=!1,Dy=0;Dy<PRIMARY_STATES_KEYS$1.length;Dy++){var Iy=PRIMARY_STATES_KEYS$1[Dy],Ly=_y&&DEFAULT_ANIMATABLE_MAP[Iy];Sa&&Sa[Iy]!=null?Ly?(My=!0,Ey[Iy]=Sa[Iy]):this[Iy]=Sa[Iy]:Ay&&ba[Iy]!=null&&(Ly?(My=!0,Ey[Iy]=ba[Iy]):this[Iy]=ba[Iy])}if(!_y)for(var Dy=0;Dy<this.animators.length;Dy++){var Py=this.animators[Dy],Ry=Py.targetName;Py.getLoop()||Py.__changeFinalValue(Ry?(Sa||ba)[Ry]:Sa||ba)}My&&this._transitionState(ua,Ey,Ty)},ha.prototype._attachComponent=function(ua){if(!(ua.__zr&&!ua.__hostTarget)&&ua!==this){var Sa=this.__zr;Sa&&ua.addSelfToZr(Sa),ua.__zr=Sa,ua.__hostTarget=this}},ha.prototype._detachComponent=function(ua){ua.__zr&&ua.removeSelfFromZr(ua.__zr),ua.__zr=null,ua.__hostTarget=null},ha.prototype.getClipPath=function(){return this._clipPath},ha.prototype.setClipPath=function(ua){this._clipPath&&this._clipPath!==ua&&this.removeClipPath(),this._attachComponent(ua),this._clipPath=ua,this.markRedraw()},ha.prototype.removeClipPath=function(){var ua=this._clipPath;ua&&(this._detachComponent(ua),this._clipPath=null,this.markRedraw())},ha.prototype.getTextContent=function(){return this._textContent},ha.prototype.setTextContent=function(ua){var Sa=this._textContent;Sa!==ua&&(Sa&&Sa!==ua&&this.removeTextContent(),ua.innerTransformable=new Transformable,this._attachComponent(ua),this._textContent=ua,this.markRedraw())},ha.prototype.setTextConfig=function(ua){this.textConfig||(this.textConfig={}),extend(this.textConfig,ua),this.markRedraw()},ha.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},ha.prototype.removeTextContent=function(){var ua=this._textContent;ua&&(ua.innerTransformable=null,this._detachComponent(ua),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},ha.prototype.getTextGuideLine=function(){return this._textGuide},ha.prototype.setTextGuideLine=function(ua){this._textGuide&&this._textGuide!==ua&&this.removeTextGuideLine(),this._attachComponent(ua),this._textGuide=ua,this.markRedraw()},ha.prototype.removeTextGuideLine=function(){var ua=this._textGuide;ua&&(this._detachComponent(ua),this._textGuide=null,this.markRedraw())},ha.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var ua=this.__zr;ua&&(this.__inHover?ua.refreshHover():ua.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},ha.prototype.dirty=function(){this.markRedraw()},ha.prototype._toggleHoverLayerFlag=function(ua){this.__inHover=ua;var Sa=this._textContent,ba=this._textGuide;Sa&&(Sa.__inHover=ua),ba&&(ba.__inHover=ua)},ha.prototype.addSelfToZr=function(ua){if(this.__zr!==ua){this.__zr=ua;var Sa=this.animators;if(Sa)for(var ba=0;ba<Sa.length;ba++)ua.animation.addAnimator(Sa[ba]);this._clipPath&&this._clipPath.addSelfToZr(ua),this._textContent&&this._textContent.addSelfToZr(ua),this._textGuide&&this._textGuide.addSelfToZr(ua)}},ha.prototype.removeSelfFromZr=function(ua){if(this.__zr){this.__zr=null;var Sa=this.animators;if(Sa)for(var ba=0;ba<Sa.length;ba++)ua.animation.removeAnimator(Sa[ba]);this._clipPath&&this._clipPath.removeSelfFromZr(ua),this._textContent&&this._textContent.removeSelfFromZr(ua),this._textGuide&&this._textGuide.removeSelfFromZr(ua)}},ha.prototype.animate=function(ua,Sa,ba){var ka=ua?this[ua]:this,_y=new Animator(ka,Sa,ba);return ua&&(_y.targetName=ua),this.addAnimator(_y,ua),_y},ha.prototype.addAnimator=function(ua,Sa){var ba=this.__zr,ka=this;ua.during(function(){ka.updateDuringAnimation(Sa)}).done(function(){var _y=ka.animators,Ty=indexOf(_y,ua);Ty>=0&&_y.splice(Ty,1)}),this.animators.push(ua),ba&&ba.animation.addAnimator(ua),ba&&ba.wakeUp()},ha.prototype.updateDuringAnimation=function(ua){this.markRedraw()},ha.prototype.stopAnimation=function(ua,Sa){for(var ba=this.animators,ka=ba.length,_y=[],Ty=0;Ty<ka;Ty++){var Ay=ba[Ty];!ua||ua===Ay.scope?Ay.stop(Sa):_y.push(Ay)}return this.animators=_y,this},ha.prototype.animateTo=function(ua,Sa,ba){animateTo(this,ua,Sa,ba)},ha.prototype.animateFrom=function(ua,Sa,ba){animateTo(this,ua,Sa,ba,!0)},ha.prototype._transitionState=function(ua,Sa,ba,ka){for(var _y=animateTo(this,Sa,ba,ka),Ty=0;Ty<_y.length;Ty++)_y[Ty].__fromStateTransition=ua},ha.prototype.getBoundingRect=function(){return null},ha.prototype.getPaintRect=function(){return null},ha.initDefaultProps=function(){var ua=ha.prototype;ua.type="element",ua.name="",ua.ignore=ua.silent=ua.isGroup=ua.draggable=ua.dragging=ua.ignoreClip=ua.__inHover=!1,ua.__dirty=REDRAW_BIT;function Sa(ba,ka,_y,Ty){Object.defineProperty(ua,ba,{get:function(){if(!this[ka]){var Ey=this[ka]=[];Ay(this,Ey)}return this[ka]},set:function(Ey){this[_y]=Ey[0],this[Ty]=Ey[1],this[ka]=Ey,Ay(this,Ey)}});function Ay(Ey,My){Object.defineProperty(My,0,{get:function(){return Ey[_y]},set:function(Dy){Ey[_y]=Dy}}),Object.defineProperty(My,1,{get:function(){return Ey[Ty]},set:function(Dy){Ey[Ty]=Dy}})}}Object.defineProperty&&(Sa("position","_legacyPos","x","y"),Sa("scale","_legacyScale","scaleX","scaleY"),Sa("origin","_legacyOrigin","originX","originY"))}(),ha}();mixin(Element$1,Eventful);mixin(Element$1,Transformable);function animateTo(ha,ua,Sa,ba,ka){Sa=Sa||{};var _y=[];animateToShallow(ha,"",ha,ua,Sa,ba,_y,ka);var Ty=_y.length,Ay=!1,Ey=Sa.done,My=Sa.aborted,Dy=function(){Ay=!0,Ty--,Ty<=0&&(Ay?Ey&&Ey():My&&My())},Iy=function(){Ty--,Ty<=0&&(Ay?Ey&&Ey():My&&My())};Ty||Ey&&Ey(),_y.length>0&&Sa.during&&_y[0].during(function(Ry,Vy){Sa.during(Vy)});for(var Ly=0;Ly<_y.length;Ly++){var Py=_y[Ly];Dy&&Py.done(Dy),Iy&&Py.aborted(Iy),Sa.force&&Py.duration(Sa.duration),Py.start(Sa.easing)}return _y}function copyArrShallow(ha,ua,Sa){for(var ba=0;ba<Sa;ba++)ha[ba]=ua[ba]}function is2DArray(ha){return isArrayLike(ha[0])}function copyValue(ha,ua,Sa){if(isArrayLike(ua[Sa]))if(isArrayLike(ha[Sa])||(ha[Sa]=[]),isTypedArray(ua[Sa])){var ba=ua[Sa].length;ha[Sa].length!==ba&&(ha[Sa]=new ua[Sa].constructor(ba),copyArrShallow(ha[Sa],ua[Sa],ba))}else{var ka=ua[Sa],_y=ha[Sa],Ty=ka.length;if(is2DArray(ka))for(var Ay=ka[0].length,Ey=0;Ey<Ty;Ey++)_y[Ey]?copyArrShallow(_y[Ey],ka[Ey],Ay):_y[Ey]=Array.prototype.slice.call(ka[Ey]);else copyArrShallow(_y,ka,Ty);_y.length=ka.length}else ha[Sa]=ua[Sa]}function isValueSame(ha,ua){return ha===ua||isArrayLike(ha)&&isArrayLike(ua)&&is1DArraySame(ha,ua)}function is1DArraySame(ha,ua){var Sa=ha.length;if(Sa!==ua.length)return!1;for(var ba=0;ba<Sa;ba++)if(ha[ba]!==ua[ba])return!1;return!0}function animateToShallow(ha,ua,Sa,ba,ka,_y,Ty,Ay){for(var Ey=keys(ba),My=ka.duration,Dy=ka.delay,Iy=ka.additive,Ly=ka.setToFinal,Py=!isObject$3(_y),Ry=ha.animators,Vy=[],Ny=0;Ny<Ey.length;Ny++){var By=Ey[Ny],Oy=ba[By];if(Oy!=null&&Sa[By]!=null&&(Py||_y[By]))if(isObject$3(Oy)&&!isArrayLike(Oy)&&!isGradientObject(Oy)){if(ua){Ay||(Sa[By]=Oy,ha.updateDuringAnimation(ua));continue}animateToShallow(ha,By,Sa[By],Oy,ka,_y&&_y[By],Ty,Ay)}else Vy.push(By);else Ay||(Sa[By]=Oy,ha.updateDuringAnimation(ua),Vy.push(By))}var Fy=Vy.length;if(!Iy&&Fy)for(var zy=0;zy<Ry.length;zy++){var Hy=Ry[zy];if(Hy.targetName===ua){var Gy=Hy.stopTracks(Vy);if(Gy){var Wy=indexOf(Ry,Hy);Ry.splice(Wy,1)}}}if(ka.force||(Vy=filter(Vy,function(Ky){return!isValueSame(ba[Ky],Sa[Ky])}),Fy=Vy.length),Fy>0||ka.force&&!Ty.length){var Uy=void 0,Yy=void 0,jy=void 0;if(Ay){Yy={},Ly&&(Uy={});for(var zy=0;zy<Fy;zy++){var By=Vy[zy];Yy[By]=Sa[By],Ly?Uy[By]=ba[By]:Sa[By]=ba[By]}}else if(Ly){jy={};for(var zy=0;zy<Fy;zy++){var By=Vy[zy];jy[By]=cloneValue(Sa[By]),copyValue(Sa,ba,By)}}var Hy=new Animator(Sa,!1,!1,Iy?filter(Ry,function(Xy){return Xy.targetName===ua}):null);Hy.targetName=ua,ka.scope&&(Hy.scope=ka.scope),Ly&&Uy&&Hy.whenWithKeys(0,Uy,Vy),jy&&Hy.whenWithKeys(0,jy,Vy),Hy.whenWithKeys(My??500,Ay?Yy:ba,Vy).delay(Dy||0),ha.addAnimator(Hy,ua),Ty.push(Hy)}}var Group$3=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this)||this;return ba.isGroup=!0,ba._children=[],ba.attr(Sa),ba}return ua.prototype.childrenRef=function(){return this._children},ua.prototype.children=function(){return this._children.slice()},ua.prototype.childAt=function(Sa){return this._children[Sa]},ua.prototype.childOfName=function(Sa){for(var ba=this._children,ka=0;ka<ba.length;ka++)if(ba[ka].name===Sa)return ba[ka]},ua.prototype.childCount=function(){return this._children.length},ua.prototype.add=function(Sa){return Sa&&Sa!==this&&Sa.parent!==this&&(this._children.push(Sa),this._doAdd(Sa)),this},ua.prototype.addBefore=function(Sa,ba){if(Sa&&Sa!==this&&Sa.parent!==this&&ba&&ba.parent===this){var ka=this._children,_y=ka.indexOf(ba);_y>=0&&(ka.splice(_y,0,Sa),this._doAdd(Sa))}return this},ua.prototype.replace=function(Sa,ba){var ka=indexOf(this._children,Sa);return ka>=0&&this.replaceAt(ba,ka),this},ua.prototype.replaceAt=function(Sa,ba){var ka=this._children,_y=ka[ba];if(Sa&&Sa!==this&&Sa.parent!==this&&Sa!==_y){ka[ba]=Sa,_y.parent=null;var Ty=this.__zr;Ty&&_y.removeSelfFromZr(Ty),this._doAdd(Sa)}return this},ua.prototype._doAdd=function(Sa){Sa.parent&&Sa.parent.remove(Sa),Sa.parent=this;var ba=this.__zr;ba&&ba!==Sa.__zr&&Sa.addSelfToZr(ba),ba&&ba.refresh()},ua.prototype.remove=function(Sa){var ba=this.__zr,ka=this._children,_y=indexOf(ka,Sa);return _y<0?this:(ka.splice(_y,1),Sa.parent=null,ba&&Sa.removeSelfFromZr(ba),ba&&ba.refresh(),this)},ua.prototype.removeAll=function(){for(var Sa=this._children,ba=this.__zr,ka=0;ka<Sa.length;ka++){var _y=Sa[ka];ba&&_y.removeSelfFromZr(ba),_y.parent=null}return Sa.length=0,this},ua.prototype.eachChild=function(Sa,ba){for(var ka=this._children,_y=0;_y<ka.length;_y++){var Ty=ka[_y];Sa.call(ba,Ty,_y)}return this},ua.prototype.traverse=function(Sa,ba){for(var ka=0;ka<this._children.length;ka++){var _y=this._children[ka],Ty=Sa.call(ba,_y);_y.isGroup&&!Ty&&_y.traverse(Sa,ba)}return this},ua.prototype.addSelfToZr=function(Sa){ha.prototype.addSelfToZr.call(this,Sa);for(var ba=0;ba<this._children.length;ba++){var ka=this._children[ba];ka.addSelfToZr(Sa)}},ua.prototype.removeSelfFromZr=function(Sa){ha.prototype.removeSelfFromZr.call(this,Sa);for(var ba=0;ba<this._children.length;ba++){var ka=this._children[ba];ka.removeSelfFromZr(Sa)}},ua.prototype.getBoundingRect=function(Sa){for(var ba=new BoundingRect(0,0,0,0),ka=Sa||this._children,_y=[],Ty=null,Ay=0;Ay<ka.length;Ay++){var Ey=ka[Ay];if(!(Ey.ignore||Ey.invisible)){var My=Ey.getBoundingRect(),Dy=Ey.getLocalTransform(_y);Dy?(BoundingRect.applyTransform(ba,My,Dy),Ty=Ty||ba.clone(),Ty.union(ba)):(Ty=Ty||My.clone(),Ty.union(My))}}return Ty||ba},ua}(Element$1);Group$3.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(ha){delete instances$1[ha]}function isDarkMode(ha){if(!ha)return!1;if(typeof ha=="string")return lum(ha,1)<DARK_MODE_THRESHOLD;if(ha.colorStops){for(var ua=ha.colorStops,Sa=0,ba=ua.length,ka=0;ka<ba;ka++)Sa+=lum(ua[ka].color,1);return Sa/=ba,Sa<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function ha(ua,Sa,ba){var ka=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,ba=ba||{},this.dom=Sa,this.id=ua;var _y=new Storage,Ty=ba.renderer||"canvas";painterCtors[Ty]||(Ty=keys(painterCtors)[0]),ba.useDirtyRect=ba.useDirtyRect==null?!1:ba.useDirtyRect;var Ay=new painterCtors[Ty](Sa,_y,ba,ua),Ey=ba.ssr||Ay.ssrOnly;this.storage=_y,this.painter=Ay;var My=!env.node&&!env.worker&&!Ey?new HandlerDomProxy(Ay.getViewportRoot(),Ay.root):null,Dy=ba.useCoarsePointer,Iy=Dy==null||Dy==="auto"?env.touchEventsSupported:!!Dy,Ly=44,Py;Iy&&(Py=retrieve2(ba.pointerSize,Ly)),this.handler=new Handler(_y,Ay,My,Ay.root,Py),this.animation=new Animation({stage:{update:Ey?null:function(){return ka._flush(!0)}}}),Ey||this.animation.start()}return ha.prototype.add=function(ua){this._disposed||!ua||(this.storage.addRoot(ua),ua.addSelfToZr(this),this.refresh())},ha.prototype.remove=function(ua){this._disposed||!ua||(this.storage.delRoot(ua),ua.removeSelfFromZr(this),this.refresh())},ha.prototype.configLayer=function(ua,Sa){this._disposed||(this.painter.configLayer&&this.painter.configLayer(ua,Sa),this.refresh())},ha.prototype.setBackgroundColor=function(ua){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(ua),this.refresh(),this._backgroundColor=ua,this._darkMode=isDarkMode(ua))},ha.prototype.getBackgroundColor=function(){return this._backgroundColor},ha.prototype.setDarkMode=function(ua){this._darkMode=ua},ha.prototype.isDarkMode=function(){return this._darkMode},ha.prototype.refreshImmediately=function(ua){this._disposed||(ua||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},ha.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},ha.prototype.flush=function(){this._disposed||this._flush(!1)},ha.prototype._flush=function(ua){var Sa,ba=getTime();this._needsRefresh&&(Sa=!0,this.refreshImmediately(ua)),this._needsRefreshHover&&(Sa=!0,this.refreshHoverImmediately());var ka=getTime();Sa?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:ka-ba})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},ha.prototype.setSleepAfterStill=function(ua){this._sleepAfterStill=ua},ha.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},ha.prototype.refreshHover=function(){this._needsRefreshHover=!0},ha.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},ha.prototype.resize=function(ua){this._disposed||(ua=ua||{},this.painter.resize(ua.width,ua.height),this.handler.resize())},ha.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},ha.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},ha.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},ha.prototype.setCursorStyle=function(ua){this._disposed||this.handler.setCursorStyle(ua)},ha.prototype.findHover=function(ua,Sa){if(!this._disposed)return this.handler.findHover(ua,Sa)},ha.prototype.on=function(ua,Sa,ba){return this._disposed||this.handler.on(ua,Sa,ba),this},ha.prototype.off=function(ua,Sa){this._disposed||this.handler.off(ua,Sa)},ha.prototype.trigger=function(ua,Sa){this._disposed||this.handler.trigger(ua,Sa)},ha.prototype.clear=function(){if(!this._disposed){for(var ua=this.storage.getRoots(),Sa=0;Sa<ua.length;Sa++)ua[Sa]instanceof Group$3&&ua[Sa].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},ha.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,delInstance(this.id))},ha}();function init$2(ha,ua){var Sa=new ZRender(guid(),ha,ua);return instances$1[Sa.id]=Sa,Sa}function registerPainter(ha,ua){painterCtors[ha]=ua}var ssrDataGetter;function getElementSSRData(ha){if(typeof ssrDataGetter=="function")return ssrDataGetter(ha)}function registerSSRDataGetter(ha){ssrDataGetter=ha}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(ha){return ha.replace(/^\s+|\s+$/g,"")}function linearMap$2(ha,ua,Sa,ba){var ka=ua[0],_y=ua[1],Ty=Sa[0],Ay=Sa[1],Ey=_y-ka,My=Ay-Ty;if(Ey===0)return My===0?Ty:(Ty+Ay)/2;if(ba)if(Ey>0){if(ha<=ka)return Ty;if(ha>=_y)return Ay}else{if(ha>=ka)return Ty;if(ha<=_y)return Ay}else{if(ha===ka)return Ty;if(ha===_y)return Ay}return(ha-ka)/Ey*My+Ty}function parsePercent(ha,ua){switch(ha){case"center":case"middle":ha="50%";break;case"left":case"top":ha="0%";break;case"right":case"bottom":ha="100%";break}return isString(ha)?_trim(ha).match(/%$/)?parseFloat(ha)/100*ua:parseFloat(ha):ha==null?NaN:+ha}function round$3(ha,ua,Sa){return ua==null&&(ua=10),ua=Math.min(Math.max(0,ua),ROUND_SUPPORTED_PRECISION_MAX),ha=(+ha).toFixed(ua),Sa?ha:+ha}function asc$2(ha){return ha.sort(function(ua,Sa){return ua-Sa}),ha}function getPrecision(ha){if(ha=+ha,isNaN(ha))return 0;if(ha>1e-14){for(var ua=1,Sa=0;Sa<15;Sa++,ua*=10)if(Math.round(ha*ua)/ua===ha)return Sa}return getPrecisionSafe(ha)}function getPrecisionSafe(ha){var ua=ha.toString().toLowerCase(),Sa=ua.indexOf("e"),ba=Sa>0?+ua.slice(Sa+1):0,ka=Sa>0?Sa:ua.length,_y=ua.indexOf("."),Ty=_y<0?0:ka-1-_y;return Math.max(0,Ty-ba)}function getPixelPrecision(ha,ua){var Sa=Math.log,ba=Math.LN10,ka=Math.floor(Sa(ha[1]-ha[0])/ba),_y=Math.round(Sa(Math.abs(ua[1]-ua[0]))/ba),Ty=Math.min(Math.max(-ka+_y,0),20);return isFinite(Ty)?Ty:20}function getPercentSeats(ha,ua){var Sa=reduce(ha,function(Py,Ry){return Py+(isNaN(Ry)?0:Ry)},0);if(Sa===0)return[];for(var ba=Math.pow(10,ua),ka=map$1(ha,function(Py){return(isNaN(Py)?0:Py)/Sa*ba*100}),_y=ba*100,Ty=map$1(ka,function(Py){return Math.floor(Py)}),Ay=reduce(Ty,function(Py,Ry){return Py+Ry},0),Ey=map$1(ka,function(Py,Ry){return Py-Ty[Ry]});Ay<_y;){for(var My=Number.NEGATIVE_INFINITY,Dy=null,Iy=0,Ly=Ey.length;Iy<Ly;++Iy)Ey[Iy]>My&&(My=Ey[Iy],Dy=Iy);++Ty[Dy],Ey[Dy]=0,++Ay}return map$1(Ty,function(Py){return Py/ba})}function addSafe(ha,ua){var Sa=Math.max(getPrecision(ha),getPrecision(ua)),ba=ha+ua;return Sa>ROUND_SUPPORTED_PRECISION_MAX?ba:round$3(ba,Sa)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(ha){var ua=Math.PI*2;return(ha%ua+ua)%ua}function isRadianAroundZero(ha){return ha>-RADIAN_EPSILON&&ha<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(ha){if(ha instanceof Date)return ha;if(isString(ha)){var ua=TIME_REG.exec(ha);if(!ua)return new Date(NaN);if(ua[8]){var Sa=+ua[4]||0;return ua[8].toUpperCase()!=="Z"&&(Sa-=+ua[8].slice(0,3)),new Date(Date.UTC(+ua[1],+(ua[2]||1)-1,+ua[3]||1,Sa,+(ua[5]||0),+ua[6]||0,ua[7]?+ua[7].substring(0,3):0))}else return new Date(+ua[1],+(ua[2]||1)-1,+ua[3]||1,+ua[4]||0,+(ua[5]||0),+ua[6]||0,ua[7]?+ua[7].substring(0,3):0)}else if(ha==null)return new Date(NaN);return new Date(Math.round(ha))}function quantity(ha){return Math.pow(10,quantityExponent(ha))}function quantityExponent(ha){if(ha===0)return 0;var ua=Math.floor(Math.log(ha)/Math.LN10);return ha/Math.pow(10,ua)>=10&&ua++,ua}function nice(ha,ua){var Sa=quantityExponent(ha),ba=Math.pow(10,Sa),ka=ha/ba,_y;return ka<1.5?_y=1:ka<2.5?_y=2:ka<4?_y=3:ka<7?_y=5:_y=10,ha=_y*ba,Sa>=-20?+ha.toFixed(Sa<0?-Sa:0):ha}function quantile(ha,ua){var Sa=(ha.length-1)*ua+1,ba=Math.floor(Sa),ka=+ha[ba-1],_y=Sa-ba;return _y?ka+_y*(ha[ba]-ka):ka}function reformIntervals(ha){ha.sort(function(Ey,My){return Ay(Ey,My,0)?-1:1});for(var ua=-1/0,Sa=1,ba=0;ba<ha.length;){for(var ka=ha[ba].interval,_y=ha[ba].close,Ty=0;Ty<2;Ty++)ka[Ty]<=ua&&(ka[Ty]=ua,_y[Ty]=Ty?1:1-Sa),ua=ka[Ty],Sa=_y[Ty];ka[0]===ka[1]&&_y[0]*_y[1]!==1?ha.splice(ba,1):ba++}return ha;function Ay(Ey,My,Dy){return Ey.interval[Dy]<My.interval[Dy]||Ey.interval[Dy]===My.interval[Dy]&&(Ey.close[Dy]-My.close[Dy]===(Dy?-1:1)||!Dy&&Ay(Ey,My,1))}}function numericToNumber(ha){var ua=parseFloat(ha);return ua==ha&&(ua!==0||!isString(ha)||ha.indexOf("x")<=0)?ua:NaN}function isNumeric(ha){return!isNaN(numericToNumber(ha))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(ha,ua){return ua===0?ha:getGreatestCommonDividor(ua,ha%ua)}function getLeastCommonMultiple(ha,ua){return ha==null?ua:ua==null?ha:ha*ua/getGreatestCommonDividor(ha,ua)}function throwError(ha){throw new Error(ha)}function interpolateNumber(ha,ua,Sa){return(ua-ha)*Sa+ha}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(ha){return ha instanceof Array?ha:ha==null?[]:[ha]}function defaultEmphasis(ha,ua,Sa){if(ha){ha[ua]=ha[ua]||{},ha.emphasis=ha.emphasis||{},ha.emphasis[ua]=ha.emphasis[ua]||{};for(var ba=0,ka=Sa.length;ba<ka;ba++){var _y=Sa[ba];!ha.emphasis[ua].hasOwnProperty(_y)&&ha[ua].hasOwnProperty(_y)&&(ha.emphasis[ua][_y]=ha[ua][_y])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(ha){return isObject$3(ha)&&!isArray$1(ha)&&!(ha instanceof Date)?ha.value:ha}function isDataItemOption(ha){return isObject$3(ha)&&!(ha instanceof Array)}function mappingToExists(ha,ua,Sa){var ba=Sa==="normalMerge",ka=Sa==="replaceMerge",_y=Sa==="replaceAll";ha=ha||[],ua=(ua||[]).slice();var Ty=createHashMap();each$f(ua,function(Ey,My){if(!isObject$3(Ey)){ua[My]=null;return}});var Ay=prepareResult(ha,Ty,Sa);return(ba||ka)&&mappingById(Ay,ha,Ty,ua),ba&&mappingByName(Ay,ua),ba||ka?mappingByIndex(Ay,ua,ka):_y&&mappingInReplaceAllMode(Ay,ua),makeIdAndName(Ay),Ay}function prepareResult(ha,ua,Sa){var ba=[];if(Sa==="replaceAll")return ba;for(var ka=0;ka<ha.length;ka++){var _y=ha[ka];_y&&_y.id!=null&&ua.set(_y.id,ka),ba.push({existing:Sa==="replaceMerge"||isComponentIdInternal(_y)?null:_y,newOption:null,keyInfo:null,brandNew:null})}return ba}function mappingById(ha,ua,Sa,ba){each$f(ba,function(ka,_y){if(!(!ka||ka.id==null)){var Ty=makeComparableKey(ka.id),Ay=Sa.get(Ty);if(Ay!=null){var Ey=ha[Ay];assert(!Ey.newOption,'Duplicated option on id "'+Ty+'".'),Ey.newOption=ka,Ey.existing=ua[Ay],ba[_y]=null}}})}function mappingByName(ha,ua){each$f(ua,function(Sa,ba){if(!(!Sa||Sa.name==null))for(var ka=0;ka<ha.length;ka++){var _y=ha[ka].existing;if(!ha[ka].newOption&&_y&&(_y.id==null||Sa.id==null)&&!isComponentIdInternal(Sa)&&!isComponentIdInternal(_y)&&keyExistAndEqual("name",_y,Sa)){ha[ka].newOption=Sa,ua[ba]=null;return}}})}function mappingByIndex(ha,ua,Sa){each$f(ua,function(ba){if(ba){for(var ka,_y=0;(ka=ha[_y])&&(ka.newOption||isComponentIdInternal(ka.existing)||ka.existing&&ba.id!=null&&!keyExistAndEqual("id",ba,ka.existing));)_y++;ka?(ka.newOption=ba,ka.brandNew=Sa):ha.push({newOption:ba,brandNew:Sa,existing:null,keyInfo:null}),_y++}})}function mappingInReplaceAllMode(ha,ua){each$f(ua,function(Sa){ha.push({newOption:Sa,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(ha){var ua=createHashMap();each$f(ha,function(Sa){var ba=Sa.existing;ba&&ua.set(ba.id,Sa)}),each$f(ha,function(Sa){var ba=Sa.newOption;assert(!ba||ba.id==null||!ua.get(ba.id)||ua.get(ba.id)===Sa,"id duplicates: "+(ba&&ba.id)),ba&&ba.id!=null&&ua.set(ba.id,Sa),!Sa.keyInfo&&(Sa.keyInfo={})}),each$f(ha,function(Sa,ba){var ka=Sa.existing,_y=Sa.newOption,Ty=Sa.keyInfo;if(isObject$3(_y)){if(Ty.name=_y.name!=null?makeComparableKey(_y.name):ka?ka.name:DUMMY_COMPONENT_NAME_PREFIX+ba,ka)Ty.id=makeComparableKey(ka.id);else if(_y.id!=null)Ty.id=makeComparableKey(_y.id);else{var Ay=0;do Ty.id="\0"+Ty.name+"\0"+Ay++;while(ua.get(Ty.id))}ua.set(Ty.id,Sa)}})}function keyExistAndEqual(ha,ua,Sa){var ba=convertOptionIdName(ua[ha],null),ka=convertOptionIdName(Sa[ha],null);return ba!=null&&ka!=null&&ba===ka}function makeComparableKey(ha){return convertOptionIdName(ha,"")}function convertOptionIdName(ha,ua){return ha==null?ua:isString(ha)?ha:isNumber(ha)||isStringSafe(ha)?ha+"":ua}function isNameSpecified(ha){var ua=ha.name;return!!(ua&&ua.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(ha){return ha&&ha.id!=null&&makeComparableKey(ha.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(ha){return INTERNAL_COMPONENT_ID_PREFIX+ha}function setComponentTypeToKeyInfo(ha,ua,Sa){each$f(ha,function(ba){var ka=ba.newOption;isObject$3(ka)&&(ba.keyInfo.mainType=ua,ba.keyInfo.subType=determineSubType(ua,ka,ba.existing,Sa))})}function determineSubType(ha,ua,Sa,ba){var ka=ua.type?ua.type:Sa?Sa.subType:ba.determineSubType(ha,ua);return ka}function compressBatches(ha,ua){var Sa={},ba={};return ka(ha||[],Sa),ka(ua||[],ba,Sa),[_y(Sa),_y(ba)];function ka(Ty,Ay,Ey){for(var My=0,Dy=Ty.length;My<Dy;My++){var Iy=convertOptionIdName(Ty[My].seriesId,null);if(Iy==null)return;for(var Ly=normalizeToArray(Ty[My].dataIndex),Py=Ey&&Ey[Iy],Ry=0,Vy=Ly.length;Ry<Vy;Ry++){var Ny=Ly[Ry];Py&&Py[Ny]?Py[Ny]=null:(Ay[Iy]||(Ay[Iy]={}))[Ny]=1}}}function _y(Ty,Ay){var Ey=[];for(var My in Ty)if(Ty.hasOwnProperty(My)&&Ty[My]!=null)if(Ay)Ey.push(+My);else{var Dy=_y(Ty[My],!0);Dy.length&&Ey.push({seriesId:My,dataIndex:Dy})}return Ey}}function queryDataIndex(ha,ua){if(ua.dataIndexInside!=null)return ua.dataIndexInside;if(ua.dataIndex!=null)return isArray$1(ua.dataIndex)?map$1(ua.dataIndex,function(Sa){return ha.indexOfRawIndex(Sa)}):ha.indexOfRawIndex(ua.dataIndex);if(ua.name!=null)return isArray$1(ua.name)?map$1(ua.name,function(Sa){return ha.indexOfName(Sa)}):ha.indexOfName(ua.name)}function makeInner(){var ha="__ec_inner_"+innerUniqueIndex++;return function(ua){return ua[ha]||(ua[ha]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(ha,ua,Sa){var ba=preParseFinder(ua,Sa),ka=ba.mainTypeSpecified,_y=ba.queryOptionMap,Ty=ba.others,Ay=Ty,Ey=Sa?Sa.defaultMainType:null;return!ka&&Ey&&_y.set(Ey,{}),_y.each(function(My,Dy){var Iy=queryReferringComponents(ha,Dy,My,{useDefault:Ey===Dy,enableAll:Sa&&Sa.enableAll!=null?Sa.enableAll:!0,enableNone:Sa&&Sa.enableNone!=null?Sa.enableNone:!0});Ay[Dy+"Models"]=Iy.models,Ay[Dy+"Model"]=Iy.models[0]}),Ay}function preParseFinder(ha,ua){var Sa;if(isString(ha)){var ba={};ba[ha+"Index"]=0,Sa=ba}else Sa=ha;var ka=createHashMap(),_y={},Ty=!1;return each$f(Sa,function(Ay,Ey){if(Ey==="dataIndex"||Ey==="dataIndexInside"){_y[Ey]=Ay;return}var My=Ey.match(/^(\w+)(Index|Id|Name)$/)||[],Dy=My[1],Iy=(My[2]||"").toLowerCase();if(!(!Dy||!Iy||ua&&ua.includeMainTypes&&indexOf(ua.includeMainTypes,Dy)<0)){Ty=Ty||!!Dy;var Ly=ka.get(Dy)||ka.set(Dy,{});Ly[Iy]=Ay}}),{mainTypeSpecified:Ty,queryOptionMap:ka,others:_y}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(ha,ua,Sa,ba){ba=ba||SINGLE_REFERRING;var ka=Sa.index,_y=Sa.id,Ty=Sa.name,Ay={models:null,specified:ka!=null||_y!=null||Ty!=null};if(!Ay.specified){var Ey=void 0;return Ay.models=ba.useDefault&&(Ey=ha.getComponent(ua))?[Ey]:[],Ay}return ka==="none"||ka===!1?(assert(ba.enableNone,'`"none"` or `false` is not a valid value on index option.'),Ay.models=[],Ay):(ka==="all"&&(assert(ba.enableAll,'`"all"` is not a valid value on index option.'),ka=_y=Ty=null),Ay.models=ha.queryComponents({mainType:ua,index:ka,id:_y,name:Ty}),Ay)}function setAttribute(ha,ua,Sa){ha.setAttribute?ha.setAttribute(ua,Sa):ha[ua]=Sa}function getAttribute(ha,ua){return ha.getAttribute?ha.getAttribute(ua):ha[ua]}function getTooltipRenderMode(ha){return ha==="auto"?env.domSupported?"html":"richText":ha||"html"}function groupData(ha,ua){var Sa=createHashMap(),ba=[];return each$f(ha,function(ka){var _y=ua(ka);(Sa.get(_y)||(ba.push(_y),Sa.set(_y,[]))).push(ka)}),{keys:ba,buckets:Sa}}function interpolateRawValues(ha,ua,Sa,ba,ka){var _y=ua==null||ua==="auto";if(ba==null)return ba;if(isNumber(ba)){var Ty=interpolateNumber(Sa||0,ba,ka);return round$3(Ty,_y?Math.max(getPrecision(Sa||0),getPrecision(ba)):ua)}else{if(isString(ba))return ka<1?Sa:ba;for(var Ay=[],Ey=Sa,My=ba,Dy=Math.max(Ey?Ey.length:0,My.length),Iy=0;Iy<Dy;++Iy){var Ly=ha.getDimensionInfo(Iy);if(Ly&&Ly.type==="ordinal")Ay[Iy]=(ka<1&&Ey?Ey:My)[Iy];else{var Py=Ey&&Ey[Iy]?Ey[Iy]:0,Ry=My[Iy],Ty=interpolateNumber(Py,Ry,ka);Ay[Iy]=round$3(Ty,_y?Math.max(getPrecision(Py),getPrecision(Ry)):ua)}}return Ay}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(ha){var ua={main:"",sub:""};if(ha){var Sa=ha.split(TYPE_DELIMITER);ua.main=Sa[0]||"",ua.sub=Sa[1]||""}return ua}function checkClassType(ha){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(ha),'componentType "'+ha+'" illegal')}function isExtendedClass(ha){return!!(ha&&ha[IS_EXTENDED_CLASS])}function enableClassExtend(ha,ua){ha.$constructor=ha,ha.extend=function(Sa){var ba=this,ka;return isESClass(ba)?ka=function(_y){__extends(Ty,_y);function Ty(){return _y.apply(this,arguments)||this}return Ty}(ba):(ka=function(){(Sa.$constructor||ba).apply(this,arguments)},inherits(ka,this)),extend(ka.prototype,Sa),ka[IS_EXTENDED_CLASS]=!0,ka.extend=this.extend,ka.superCall=superCall,ka.superApply=superApply,ka.superClass=ba,ka}}function isESClass(ha){return isFunction(ha)&&/^class\s/.test(Function.prototype.toString.call(ha))}function mountExtend(ha,ua){ha.extend=ua.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(ha){var ua=["__\0is_clz",classBase++].join("_");ha.prototype[ua]=!0,ha.isInstance=function(Sa){return!!(Sa&&Sa[ua])}}function superCall(ha,ua){for(var Sa=[],ba=2;ba<arguments.length;ba++)Sa[ba-2]=arguments[ba];return this.superClass.prototype[ua].apply(ha,Sa)}function superApply(ha,ua,Sa){return this.superClass.prototype[ua].apply(ha,Sa)}function enableClassManagement(ha){var ua={};ha.registerClass=function(ba){var ka=ba.type||ba.prototype.type;if(ka){checkClassType(ka),ba.prototype.type=ka;var _y=parseClassType(ka);if(!_y.sub)ua[_y.main]=ba;else if(_y.sub!==IS_CONTAINER){var Ty=Sa(_y);Ty[_y.sub]=ba}}return ba},ha.getClass=function(ba,ka,_y){var Ty=ua[ba];if(Ty&&Ty[IS_CONTAINER]&&(Ty=ka?Ty[ka]:null),_y&&!Ty)throw new Error(ka?"Component "+ba+"."+(ka||"")+" is used but not imported.":ba+".type should be specified.");return Ty},ha.getClassesByMainType=function(ba){var ka=parseClassType(ba),_y=[],Ty=ua[ka.main];return Ty&&Ty[IS_CONTAINER]?each$f(Ty,function(Ay,Ey){Ey!==IS_CONTAINER&&_y.push(Ay)}):_y.push(Ty),_y},ha.hasClass=function(ba){var ka=parseClassType(ba);return!!ua[ka.main]},ha.getAllClassMainTypes=function(){var ba=[];return each$f(ua,function(ka,_y){ba.push(_y)}),ba},ha.hasSubTypes=function(ba){var ka=parseClassType(ba),_y=ua[ka.main];return _y&&_y[IS_CONTAINER]};function Sa(ba){var ka=ua[ba.main];return(!ka||!ka[IS_CONTAINER])&&(ka=ua[ba.main]={},ka[IS_CONTAINER]=!0),ka}}function makeStyleMapper(ha,ua){for(var Sa=0;Sa<ha.length;Sa++)ha[Sa][1]||(ha[Sa][1]=ha[Sa][0]);return ua=ua||!1,function(ba,ka,_y){for(var Ty={},Ay=0;Ay<ha.length;Ay++){var Ey=ha[Ay][1];if(!(ka&&indexOf(ka,Ey)>=0||_y&&indexOf(_y,Ey)<0)){var My=ba.getShallow(Ey,ua);My!=null&&(Ty[ha[Ay][0]]=My)}}return Ty}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function ha(){}return ha.prototype.getAreaStyle=function(ua,Sa){return getAreaStyle(this,ua,Sa)},ha}(),globalImageCache=new LRU(50);function findExistImage(ha){if(typeof ha=="string"){var ua=globalImageCache.get(ha);return ua&&ua.image}else return ha}function createOrUpdateImage(ha,ua,Sa,ba,ka){if(ha)if(typeof ha=="string"){if(ua&&ua.__zrImageSrc===ha||!Sa)return ua;var _y=globalImageCache.get(ha),Ty={hostEl:Sa,cb:ba,cbPayload:ka};return _y?(ua=_y.image,!isImageReady(ua)&&_y.pending.push(Ty)):(ua=platformApi.loadImage(ha,imageOnLoad,imageOnLoad),ua.__zrImageSrc=ha,globalImageCache.put(ha,ua.__cachedImgObj={image:ua,pending:[Ty]})),ua}else return ha;else return ua}function imageOnLoad(){var ha=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var ua=0;ua<ha.pending.length;ua++){var Sa=ha.pending[ua],ba=Sa.cb;ba&&ba(this,Sa.cbPayload),Sa.hostEl.dirty()}ha.pending.length=0}function isImageReady(ha){return ha&&ha.width&&ha.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText2(ha,ua,Sa,ba,ka,_y){if(!Sa){ha.text="",ha.isTruncated=!1;return}var Ty=(ua+"").split(`
`);_y=prepareTruncateOptions(Sa,ba,ka,_y);for(var Ay=!1,Ey={},My=0,Dy=Ty.length;My<Dy;My++)truncateSingleLine(Ey,Ty[My],_y),Ty[My]=Ey.textLine,Ay=Ay||Ey.isTruncated;ha.text=Ty.join(`
`),ha.isTruncated=Ay}function prepareTruncateOptions(ha,ua,Sa,ba){ba=ba||{};var ka=extend({},ba);ka.font=ua,Sa=retrieve2(Sa,"..."),ka.maxIterations=retrieve2(ba.maxIterations,2);var _y=ka.minChar=retrieve2(ba.minChar,0);ka.cnCharWidth=getWidth("国",ua);var Ty=ka.ascCharWidth=getWidth("a",ua);ka.placeholder=retrieve2(ba.placeholder,"");for(var Ay=ha=Math.max(0,ha-1),Ey=0;Ey<_y&&Ay>=Ty;Ey++)Ay-=Ty;var My=getWidth(Sa,ua);return My>Ay&&(Sa="",My=0),Ay=ha-My,ka.ellipsis=Sa,ka.ellipsisWidth=My,ka.contentWidth=Ay,ka.containerWidth=ha,ka}function truncateSingleLine(ha,ua,Sa){var ba=Sa.containerWidth,ka=Sa.font,_y=Sa.contentWidth;if(!ba){ha.textLine="",ha.isTruncated=!1;return}var Ty=getWidth(ua,ka);if(Ty<=ba){ha.textLine=ua,ha.isTruncated=!1;return}for(var Ay=0;;Ay++){if(Ty<=_y||Ay>=Sa.maxIterations){ua+=Sa.ellipsis;break}var Ey=Ay===0?estimateLength(ua,_y,Sa.ascCharWidth,Sa.cnCharWidth):Ty>0?Math.floor(ua.length*_y/Ty):0;ua=ua.substr(0,Ey),Ty=getWidth(ua,ka)}ua===""&&(ua=Sa.placeholder),ha.textLine=ua,ha.isTruncated=!0}function estimateLength(ha,ua,Sa,ba){for(var ka=0,_y=0,Ty=ha.length;_y<Ty&&ka<ua;_y++){var Ay=ha.charCodeAt(_y);ka+=0<=Ay&&Ay<=127?Sa:ba}return _y}function parsePlainText(ha,ua){ha!=null&&(ha+="");var Sa=ua.overflow,ba=ua.padding,ka=ua.font,_y=Sa==="truncate",Ty=getLineHeight(ka),Ay=retrieve2(ua.lineHeight,Ty),Ey=!!ua.backgroundColor,My=ua.lineOverflow==="truncate",Dy=!1,Iy=ua.width,Ly;Iy!=null&&(Sa==="break"||Sa==="breakAll")?Ly=ha?wrapText(ha,ua.font,Iy,Sa==="breakAll",0).lines:[]:Ly=ha?ha.split(`
`):[];var Py=Ly.length*Ay,Ry=retrieve2(ua.height,Py);if(Py>Ry&&My){var Vy=Math.floor(Ry/Ay);Dy=Dy||Ly.length>Vy,Ly=Ly.slice(0,Vy)}if(ha&&_y&&Iy!=null)for(var Ny=prepareTruncateOptions(Iy,ka,ua.ellipsis,{minChar:ua.truncateMinChar,placeholder:ua.placeholder}),By={},Oy=0;Oy<Ly.length;Oy++)truncateSingleLine(By,Ly[Oy],Ny),Ly[Oy]=By.textLine,Dy=Dy||By.isTruncated;for(var Fy=Ry,zy=0,Oy=0;Oy<Ly.length;Oy++)zy=Math.max(getWidth(Ly[Oy],ka),zy);Iy==null&&(Iy=zy);var Hy=zy;return ba&&(Fy+=ba[0]+ba[2],Hy+=ba[1]+ba[3],Iy+=ba[1]+ba[3]),Ey&&(Hy=Iy),{lines:Ly,height:Ry,outerWidth:Hy,outerHeight:Fy,lineHeight:Ay,calculatedLineHeight:Ty,contentWidth:zy,contentHeight:Py,width:Iy,isTruncated:Dy}}var RichTextToken=function(){function ha(){}return ha}(),RichTextLine=function(){function ha(ua){this.tokens=[],ua&&(this.tokens=ua)}return ha}(),RichTextContentBlock=function(){function ha(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return ha}();function parseRichText(ha,ua){var Sa=new RichTextContentBlock;if(ha!=null&&(ha+=""),!ha)return Sa;for(var ba=ua.width,ka=ua.height,_y=ua.overflow,Ty=(_y==="break"||_y==="breakAll")&&ba!=null?{width:ba,accumWidth:0,breakAll:_y==="breakAll"}:null,Ay=STYLE_REG.lastIndex=0,Ey;(Ey=STYLE_REG.exec(ha))!=null;){var My=Ey.index;My>Ay&&pushTokens(Sa,ha.substring(Ay,My),ua,Ty),pushTokens(Sa,Ey[2],ua,Ty,Ey[1]),Ay=STYLE_REG.lastIndex}Ay<ha.length&&pushTokens(Sa,ha.substring(Ay,ha.length),ua,Ty);var Dy=[],Iy=0,Ly=0,Py=ua.padding,Ry=_y==="truncate",Vy=ua.lineOverflow==="truncate",Ny={};function By(c_,d_,f_){c_.width=d_,c_.lineHeight=f_,Iy+=f_,Ly=Math.max(Ly,d_)}e:for(var Oy=0;Oy<Sa.lines.length;Oy++){for(var Fy=Sa.lines[Oy],zy=0,Hy=0,Gy=0;Gy<Fy.tokens.length;Gy++){var Wy=Fy.tokens[Gy],Uy=Wy.styleName&&ua.rich[Wy.styleName]||{},Yy=Wy.textPadding=Uy.padding,jy=Yy?Yy[1]+Yy[3]:0,Ky=Wy.font=Uy.font||ua.font;Wy.contentHeight=getLineHeight(Ky);var Xy=retrieve2(Uy.height,Wy.contentHeight);if(Wy.innerHeight=Xy,Yy&&(Xy+=Yy[0]+Yy[2]),Wy.height=Xy,Wy.lineHeight=retrieve3(Uy.lineHeight,ua.lineHeight,Xy),Wy.align=Uy&&Uy.align||ua.align,Wy.verticalAlign=Uy&&Uy.verticalAlign||"middle",Vy&&ka!=null&&Iy+Wy.lineHeight>ka){var Zy=Sa.lines.length;Gy>0?(Fy.tokens=Fy.tokens.slice(0,Gy),By(Fy,Hy,zy),Sa.lines=Sa.lines.slice(0,Oy+1)):Sa.lines=Sa.lines.slice(0,Oy),Sa.isTruncated=Sa.isTruncated||Sa.lines.length<Zy;break e}var Jy=Uy.width,t_=Jy==null||Jy==="auto";if(typeof Jy=="string"&&Jy.charAt(Jy.length-1)==="%")Wy.percentWidth=Jy,Dy.push(Wy),Wy.contentWidth=getWidth(Wy.text,Ky);else{if(t_){var Qy=Uy.backgroundColor,r_=Qy&&Qy.image;r_&&(r_=findExistImage(r_),isImageReady(r_)&&(Wy.width=Math.max(Wy.width,r_.width*Xy/r_.height)))}var i_=Ry&&ba!=null?ba-Hy:null;i_!=null&&i_<Wy.width?!t_||i_<jy?(Wy.text="",Wy.width=Wy.contentWidth=0):(truncateText2(Ny,Wy.text,i_-jy,Ky,ua.ellipsis,{minChar:ua.truncateMinChar}),Wy.text=Ny.text,Sa.isTruncated=Sa.isTruncated||Ny.isTruncated,Wy.width=Wy.contentWidth=getWidth(Wy.text,Ky)):Wy.contentWidth=getWidth(Wy.text,Ky)}Wy.width+=jy,Hy+=Wy.width,Uy&&(zy=Math.max(zy,Wy.lineHeight))}By(Fy,Hy,zy)}Sa.outerWidth=Sa.width=retrieve2(ba,Ly),Sa.outerHeight=Sa.height=retrieve2(ka,Iy),Sa.contentHeight=Iy,Sa.contentWidth=Ly,Py&&(Sa.outerWidth+=Py[1]+Py[3],Sa.outerHeight+=Py[0]+Py[2]);for(var Oy=0;Oy<Dy.length;Oy++){var Wy=Dy[Oy],l_=Wy.percentWidth;Wy.width=parseInt(l_,10)/100*Sa.width}return Sa}function pushTokens(ha,ua,Sa,ba,ka){var _y=ua==="",Ty=ka&&Sa.rich[ka]||{},Ay=ha.lines,Ey=Ty.font||Sa.font,My=!1,Dy,Iy;if(ba){var Ly=Ty.padding,Py=Ly?Ly[1]+Ly[3]:0;if(Ty.width!=null&&Ty.width!=="auto"){var Ry=parsePercent$1(Ty.width,ba.width)+Py;Ay.length>0&&Ry+ba.accumWidth>ba.width&&(Dy=ua.split(`
`),My=!0),ba.accumWidth=Ry}else{var Vy=wrapText(ua,Ey,ba.width,ba.breakAll,ba.accumWidth);ba.accumWidth=Vy.accumWidth+Py,Iy=Vy.linesWidths,Dy=Vy.lines}}else Dy=ua.split(`
`);for(var Ny=0;Ny<Dy.length;Ny++){var By=Dy[Ny],Oy=new RichTextToken;if(Oy.styleName=ka,Oy.text=By,Oy.isLineHolder=!By&&!_y,typeof Ty.width=="number"?Oy.width=Ty.width:Oy.width=Iy?Iy[Ny]:getWidth(By,Ey),!Ny&&!My){var Fy=(Ay[Ay.length-1]||(Ay[0]=new RichTextLine)).tokens,zy=Fy.length;zy===1&&Fy[0].isLineHolder?Fy[0]=Oy:(By||!zy||_y)&&Fy.push(Oy)}else Ay.push(new RichTextLine([Oy]))}}function isAlphabeticLetter(ha){var ua=ha.charCodeAt(0);return ua>=32&&ua<=591||ua>=880&&ua<=4351||ua>=4608&&ua<=5119||ua>=7680&&ua<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(ha,ua){return ha[ua]=!0,ha},{});function isWordBreakChar(ha){return isAlphabeticLetter(ha)?!!breakCharMap[ha]:!0}function wrapText(ha,ua,Sa,ba,ka){for(var _y=[],Ty=[],Ay="",Ey="",My=0,Dy=0,Iy=0;Iy<ha.length;Iy++){var Ly=ha.charAt(Iy);if(Ly===`
`){Ey&&(Ay+=Ey,Dy+=My),_y.push(Ay),Ty.push(Dy),Ay="",Ey="",My=0,Dy=0;continue}var Py=getWidth(Ly,ua),Ry=ba?!1:!isWordBreakChar(Ly);if(_y.length?Dy+Py>Sa:ka+Dy+Py>Sa){Dy?(Ay||Ey)&&(Ry?(Ay||(Ay=Ey,Ey="",My=0,Dy=My),_y.push(Ay),Ty.push(Dy-My),Ey+=Ly,My+=Py,Ay="",Dy=My):(Ey&&(Ay+=Ey,Ey="",My=0),_y.push(Ay),Ty.push(Dy),Ay=Ly,Dy=Py)):Ry?(_y.push(Ey),Ty.push(My),Ey=Ly,My=Py):(_y.push(Ly),Ty.push(Py));continue}Dy+=Py,Ry?(Ey+=Ly,My+=Py):(Ey&&(Ay+=Ey,Ey="",My=0),Ay+=Ly)}return!_y.length&&!Ay&&(Ay=ha,Ey="",My=0),Ey&&(Ay+=Ey),Ay&&(_y.push(Ay),Ty.push(Dy)),_y.length===1&&(Dy+=ka),{accumWidth:Dy,lines:_y,linesWidths:Ty}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype._init=function(Sa){for(var ba=keys(Sa),ka=0;ka<ba.length;ka++){var _y=ba[ka];_y==="style"?this.useStyle(Sa[_y]):ha.prototype.attrKV.call(this,_y,Sa[_y])}this.style||this.useStyle({})},ua.prototype.beforeBrush=function(){},ua.prototype.afterBrush=function(){},ua.prototype.innerBeforeBrush=function(){},ua.prototype.innerAfterBrush=function(){},ua.prototype.shouldBePainted=function(Sa,ba,ka,_y){var Ty=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,Sa,ba)||Ty&&!Ty[0]&&!Ty[3])return!1;if(ka&&this.__clipPaths){for(var Ay=0;Ay<this.__clipPaths.length;++Ay)if(this.__clipPaths[Ay].isZeroArea())return!1}if(_y&&this.parent)for(var Ey=this.parent;Ey;){if(Ey.ignore)return!1;Ey=Ey.parent}return!0},ua.prototype.contain=function(Sa,ba){return this.rectContain(Sa,ba)},ua.prototype.traverse=function(Sa,ba){Sa.call(ba,this)},ua.prototype.rectContain=function(Sa,ba){var ka=this.transformCoordToLocal(Sa,ba),_y=this.getBoundingRect();return _y.contain(ka[0],ka[1])},ua.prototype.getPaintRect=function(){var Sa=this._paintRect;if(!this._paintRect||this.__dirty){var ba=this.transform,ka=this.getBoundingRect(),_y=this.style,Ty=_y.shadowBlur||0,Ay=_y.shadowOffsetX||0,Ey=_y.shadowOffsetY||0;Sa=this._paintRect||(this._paintRect=new BoundingRect(0,0,0,0)),ba?BoundingRect.applyTransform(Sa,ka,ba):Sa.copy(ka),(Ty||Ay||Ey)&&(Sa.width+=Ty*2+Math.abs(Ay),Sa.height+=Ty*2+Math.abs(Ey),Sa.x=Math.min(Sa.x,Sa.x+Ay-Ty),Sa.y=Math.min(Sa.y,Sa.y+Ey-Ty));var My=this.dirtyRectTolerance;Sa.isZero()||(Sa.x=Math.floor(Sa.x-My),Sa.y=Math.floor(Sa.y-My),Sa.width=Math.ceil(Sa.width+1+My*2),Sa.height=Math.ceil(Sa.height+1+My*2))}return Sa},ua.prototype.setPrevPaintRect=function(Sa){Sa?(this._prevPaintRect=this._prevPaintRect||new BoundingRect(0,0,0,0),this._prevPaintRect.copy(Sa)):this._prevPaintRect=null},ua.prototype.getPrevPaintRect=function(){return this._prevPaintRect},ua.prototype.animateStyle=function(Sa){return this.animate("style",Sa)},ua.prototype.updateDuringAnimation=function(Sa){Sa==="style"?this.dirtyStyle():this.markRedraw()},ua.prototype.attrKV=function(Sa,ba){Sa!=="style"?ha.prototype.attrKV.call(this,Sa,ba):this.style?this.setStyle(ba):this.useStyle(ba)},ua.prototype.setStyle=function(Sa,ba){return typeof Sa=="string"?this.style[Sa]=ba:extend(this.style,Sa),this.dirtyStyle(),this},ua.prototype.dirtyStyle=function(Sa){Sa||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},ua.prototype.dirty=function(){this.dirtyStyle()},ua.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},ua.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},ua.prototype.createStyle=function(Sa){return createObject(DEFAULT_COMMON_STYLE,Sa)},ua.prototype.useStyle=function(Sa){Sa[STYLE_MAGIC_KEY]||(Sa=this.createStyle(Sa)),this.__inHover?this.__hoverStyle=Sa:this.style=Sa,this.dirtyStyle()},ua.prototype.isStyleObject=function(Sa){return Sa[STYLE_MAGIC_KEY]},ua.prototype._innerSaveToNormal=function(Sa){ha.prototype._innerSaveToNormal.call(this,Sa);var ba=this._normalState;Sa.style&&!ba.style&&(ba.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(Sa,ba,PRIMARY_STATES_KEYS)},ua.prototype._applyStateObj=function(Sa,ba,ka,_y,Ty,Ay){ha.prototype._applyStateObj.call(this,Sa,ba,ka,_y,Ty,Ay);var Ey=!(ba&&_y),My;if(ba&&ba.style?Ty?_y?My=ba.style:(My=this._mergeStyle(this.createStyle(),ka.style),this._mergeStyle(My,ba.style)):(My=this._mergeStyle(this.createStyle(),_y?this.style:ka.style),this._mergeStyle(My,ba.style)):Ey&&(My=ka.style),My)if(Ty){var Dy=this.style;if(this.style=this.createStyle(Ey?{}:Dy),Ey)for(var Iy=keys(Dy),Ly=0;Ly<Iy.length;Ly++){var Py=Iy[Ly];Py in My&&(My[Py]=My[Py],this.style[Py]=Dy[Py])}for(var Ry=keys(My),Ly=0;Ly<Ry.length;Ly++){var Py=Ry[Ly];this.style[Py]=this.style[Py]}this._transitionState(Sa,{style:My},Ay,this.getAnimationStyleProps())}else this.useStyle(My);for(var Vy=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,Ly=0;Ly<Vy.length;Ly++){var Py=Vy[Ly];ba&&ba[Py]!=null?this[Py]=ba[Py]:Ey&&ka[Py]!=null&&(this[Py]=ka[Py])}},ua.prototype._mergeStates=function(Sa){for(var ba=ha.prototype._mergeStates.call(this,Sa),ka,_y=0;_y<Sa.length;_y++){var Ty=Sa[_y];Ty.style&&(ka=ka||{},this._mergeStyle(ka,Ty.style))}return ka&&(ba.style=ka),ba},ua.prototype._mergeStyle=function(Sa,ba){return extend(Sa,ba),Sa},ua.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},ua.initDefaultProps=function(){var Sa=ua.prototype;Sa.type="displayable",Sa.invisible=!1,Sa.z=0,Sa.z2=0,Sa.zlevel=0,Sa.culling=!1,Sa.cursor="pointer",Sa.rectHover=!1,Sa.incremental=!1,Sa._rect=null,Sa.dirtyRectTolerance=0,Sa.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),ua}(Element$1),tmpRect=new BoundingRect(0,0,0,0),viewRect=new BoundingRect(0,0,0,0);function isDisplayableCulled(ha,ua,Sa){return tmpRect.copy(ha.getBoundingRect()),ha.transform&&tmpRect.applyTransform(ha.transform),viewRect.width=ua,viewRect.height=Sa,!tmpRect.intersect(viewRect)}var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(ha,ua,Sa){if(ha.length!==0){for(var ba=ha[0],ka=ba[0],_y=ba[0],Ty=ba[1],Ay=ba[1],Ey=1;Ey<ha.length;Ey++)ba=ha[Ey],ka=mathMin$9(ka,ba[0]),_y=mathMax$9(_y,ba[0]),Ty=mathMin$9(Ty,ba[1]),Ay=mathMax$9(Ay,ba[1]);ua[0]=ka,ua[1]=Ty,Sa[0]=_y,Sa[1]=Ay}}function fromLine(ha,ua,Sa,ba,ka,_y){ka[0]=mathMin$9(ha,Sa),ka[1]=mathMin$9(ua,ba),_y[0]=mathMax$9(ha,Sa),_y[1]=mathMax$9(ua,ba)}var xDim=[],yDim=[];function fromCubic(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My){var Dy=cubicExtrema,Iy=cubicAt,Ly=Dy(ha,Sa,ka,Ty,xDim);Ey[0]=1/0,Ey[1]=1/0,My[0]=-1/0,My[1]=-1/0;for(var Py=0;Py<Ly;Py++){var Ry=Iy(ha,Sa,ka,Ty,xDim[Py]);Ey[0]=mathMin$9(Ry,Ey[0]),My[0]=mathMax$9(Ry,My[0])}Ly=Dy(ua,ba,_y,Ay,yDim);for(var Py=0;Py<Ly;Py++){var Vy=Iy(ua,ba,_y,Ay,yDim[Py]);Ey[1]=mathMin$9(Vy,Ey[1]),My[1]=mathMax$9(Vy,My[1])}Ey[0]=mathMin$9(ha,Ey[0]),My[0]=mathMax$9(ha,My[0]),Ey[0]=mathMin$9(Ty,Ey[0]),My[0]=mathMax$9(Ty,My[0]),Ey[1]=mathMin$9(ua,Ey[1]),My[1]=mathMax$9(ua,My[1]),Ey[1]=mathMin$9(Ay,Ey[1]),My[1]=mathMax$9(Ay,My[1])}function fromQuadratic(ha,ua,Sa,ba,ka,_y,Ty,Ay){var Ey=quadraticExtremum,My=quadraticAt$1,Dy=mathMax$9(mathMin$9(Ey(ha,Sa,ka),1),0),Iy=mathMax$9(mathMin$9(Ey(ua,ba,_y),1),0),Ly=My(ha,Sa,ka,Dy),Py=My(ua,ba,_y,Iy);Ty[0]=mathMin$9(ha,ka,Ly),Ty[1]=mathMin$9(ua,_y,Py),Ay[0]=mathMax$9(ha,ka,Ly),Ay[1]=mathMax$9(ua,_y,Py)}function fromArc(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey){var My=min$1,Dy=max$1,Iy=Math.abs(ka-_y);if(Iy%PI2$8<1e-4&&Iy>1e-4){Ay[0]=ha-Sa,Ay[1]=ua-ba,Ey[0]=ha+Sa,Ey[1]=ua+ba;return}if(start[0]=mathCos$4(ka)*Sa+ha,start[1]=mathSin$4(ka)*ba+ua,end[0]=mathCos$4(_y)*Sa+ha,end[1]=mathSin$4(_y)*ba+ua,My(Ay,start,end),Dy(Ey,start,end),ka=ka%PI2$8,ka<0&&(ka=ka+PI2$8),_y=_y%PI2$8,_y<0&&(_y=_y+PI2$8),ka>_y&&!Ty?_y+=PI2$8:ka<_y&&Ty&&(ka+=PI2$8),Ty){var Ly=_y;_y=ka,ka=Ly}for(var Py=0;Py<_y;Py+=Math.PI/2)Py>ka&&(extremity[0]=mathCos$4(Py)*Sa+ha,extremity[1]=mathSin$4(Py)*ba+ua,My(Ay,extremity,Ay),Dy(Ey,extremity,Ey))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(ha){var ua=Math.round(ha/PI$8*1e8)/1e8;return ua%2*PI$8}function normalizeArcAngles(ha,ua){var Sa=modPI2(ha[0]);Sa<0&&(Sa+=PI2$7);var ba=Sa-ha[0],ka=ha[1];ka+=ba,!ua&&ka-Sa>=PI2$7?ka=Sa+PI2$7:ua&&Sa-ka>=PI2$7?ka=Sa-PI2$7:!ua&&Sa>ka?ka=Sa+(PI2$7-modPI2(Sa-ka)):ua&&Sa<ka&&(ka=Sa-(PI2$7-modPI2(ka-Sa))),ha[0]=Sa,ha[1]=ka}var PathProxy=function(){function ha(ua){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,ua&&(this._saveData=!1),this._saveData&&(this.data=[])}return ha.prototype.increaseVersion=function(){this._version++},ha.prototype.getVersion=function(){return this._version},ha.prototype.setScale=function(ua,Sa,ba){ba=ba||0,ba>0&&(this._ux=mathAbs$2(ba/devicePixelRatio/ua)||0,this._uy=mathAbs$2(ba/devicePixelRatio/Sa)||0)},ha.prototype.setDPR=function(ua){this.dpr=ua},ha.prototype.setContext=function(ua){this._ctx=ua},ha.prototype.getContext=function(){return this._ctx},ha.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},ha.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},ha.prototype.moveTo=function(ua,Sa){return this._drawPendingPt(),this.addData(CMD$4.M,ua,Sa),this._ctx&&this._ctx.moveTo(ua,Sa),this._x0=ua,this._y0=Sa,this._xi=ua,this._yi=Sa,this},ha.prototype.lineTo=function(ua,Sa){var ba=mathAbs$2(ua-this._xi),ka=mathAbs$2(Sa-this._yi),_y=ba>this._ux||ka>this._uy;if(this.addData(CMD$4.L,ua,Sa),this._ctx&&_y&&this._ctx.lineTo(ua,Sa),_y)this._xi=ua,this._yi=Sa,this._pendingPtDist=0;else{var Ty=ba*ba+ka*ka;Ty>this._pendingPtDist&&(this._pendingPtX=ua,this._pendingPtY=Sa,this._pendingPtDist=Ty)}return this},ha.prototype.bezierCurveTo=function(ua,Sa,ba,ka,_y,Ty){return this._drawPendingPt(),this.addData(CMD$4.C,ua,Sa,ba,ka,_y,Ty),this._ctx&&this._ctx.bezierCurveTo(ua,Sa,ba,ka,_y,Ty),this._xi=_y,this._yi=Ty,this},ha.prototype.quadraticCurveTo=function(ua,Sa,ba,ka){return this._drawPendingPt(),this.addData(CMD$4.Q,ua,Sa,ba,ka),this._ctx&&this._ctx.quadraticCurveTo(ua,Sa,ba,ka),this._xi=ba,this._yi=ka,this},ha.prototype.arc=function(ua,Sa,ba,ka,_y,Ty){this._drawPendingPt(),tmpAngles[0]=ka,tmpAngles[1]=_y,normalizeArcAngles(tmpAngles,Ty),ka=tmpAngles[0],_y=tmpAngles[1];var Ay=_y-ka;return this.addData(CMD$4.A,ua,Sa,ba,ba,ka,Ay,0,Ty?0:1),this._ctx&&this._ctx.arc(ua,Sa,ba,ka,_y,Ty),this._xi=mathCos$3(_y)*ba+ua,this._yi=mathSin$3(_y)*ba+Sa,this},ha.prototype.arcTo=function(ua,Sa,ba,ka,_y){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(ua,Sa,ba,ka,_y),this},ha.prototype.rect=function(ua,Sa,ba,ka){return this._drawPendingPt(),this._ctx&&this._ctx.rect(ua,Sa,ba,ka),this.addData(CMD$4.R,ua,Sa,ba,ka),this},ha.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var ua=this._ctx,Sa=this._x0,ba=this._y0;return ua&&ua.closePath(),this._xi=Sa,this._yi=ba,this},ha.prototype.fill=function(ua){ua&&ua.fill(),this.toStatic()},ha.prototype.stroke=function(ua){ua&&ua.stroke(),this.toStatic()},ha.prototype.len=function(){return this._len},ha.prototype.setData=function(ua){var Sa=ua.length;!(this.data&&this.data.length===Sa)&&hasTypedArray&&(this.data=new Float32Array(Sa));for(var ba=0;ba<Sa;ba++)this.data[ba]=ua[ba];this._len=Sa},ha.prototype.appendPath=function(ua){ua instanceof Array||(ua=[ua]);for(var Sa=ua.length,ba=0,ka=this._len,_y=0;_y<Sa;_y++)ba+=ua[_y].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(ka+ba));for(var _y=0;_y<Sa;_y++)for(var Ty=ua[_y].data,Ay=0;Ay<Ty.length;Ay++)this.data[ka++]=Ty[Ay];this._len=ka},ha.prototype.addData=function(ua,Sa,ba,ka,_y,Ty,Ay,Ey,My){if(this._saveData){var Dy=this.data;this._len+arguments.length>Dy.length&&(this._expandData(),Dy=this.data);for(var Iy=0;Iy<arguments.length;Iy++)Dy[this._len++]=arguments[Iy]}},ha.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},ha.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var ua=[],Sa=0;Sa<this._len;Sa++)ua[Sa]=this.data[Sa];this.data=ua}},ha.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var ua=this.data;ua instanceof Array&&(ua.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(ua)))}},ha.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var ua=this.data,Sa=0,ba=0,ka=0,_y=0,Ty;for(Ty=0;Ty<this._len;){var Ay=ua[Ty++],Ey=Ty===1;switch(Ey&&(Sa=ua[Ty],ba=ua[Ty+1],ka=Sa,_y=ba),Ay){case CMD$4.M:Sa=ka=ua[Ty++],ba=_y=ua[Ty++],min2[0]=ka,min2[1]=_y,max2[0]=ka,max2[1]=_y;break;case CMD$4.L:fromLine(Sa,ba,ua[Ty],ua[Ty+1],min2,max2),Sa=ua[Ty++],ba=ua[Ty++];break;case CMD$4.C:fromCubic(Sa,ba,ua[Ty++],ua[Ty++],ua[Ty++],ua[Ty++],ua[Ty],ua[Ty+1],min2,max2),Sa=ua[Ty++],ba=ua[Ty++];break;case CMD$4.Q:fromQuadratic(Sa,ba,ua[Ty++],ua[Ty++],ua[Ty],ua[Ty+1],min2,max2),Sa=ua[Ty++],ba=ua[Ty++];break;case CMD$4.A:var My=ua[Ty++],Dy=ua[Ty++],Iy=ua[Ty++],Ly=ua[Ty++],Py=ua[Ty++],Ry=ua[Ty++]+Py;Ty+=1;var Vy=!ua[Ty++];Ey&&(ka=mathCos$3(Py)*Iy+My,_y=mathSin$3(Py)*Ly+Dy),fromArc(My,Dy,Iy,Ly,Py,Ry,Vy,min2,max2),Sa=mathCos$3(Ry)*Iy+My,ba=mathSin$3(Ry)*Ly+Dy;break;case CMD$4.R:ka=Sa=ua[Ty++],_y=ba=ua[Ty++];var Ny=ua[Ty++],By=ua[Ty++];fromLine(ka,_y,ka+Ny,_y+By,min2,max2);break;case CMD$4.Z:Sa=ka,ba=_y;break}min$1(min,min,min2),max$1(max,max,max2)}return Ty===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1])},ha.prototype._calculateLength=function(){var ua=this.data,Sa=this._len,ba=this._ux,ka=this._uy,_y=0,Ty=0,Ay=0,Ey=0;this._pathSegLen||(this._pathSegLen=[]);for(var My=this._pathSegLen,Dy=0,Iy=0,Ly=0;Ly<Sa;){var Py=ua[Ly++],Ry=Ly===1;Ry&&(_y=ua[Ly],Ty=ua[Ly+1],Ay=_y,Ey=Ty);var Vy=-1;switch(Py){case CMD$4.M:_y=Ay=ua[Ly++],Ty=Ey=ua[Ly++];break;case CMD$4.L:{var Ny=ua[Ly++],By=ua[Ly++],Oy=Ny-_y,Fy=By-Ty;(mathAbs$2(Oy)>ba||mathAbs$2(Fy)>ka||Ly===Sa-1)&&(Vy=Math.sqrt(Oy*Oy+Fy*Fy),_y=Ny,Ty=By);break}case CMD$4.C:{var zy=ua[Ly++],Hy=ua[Ly++],Ny=ua[Ly++],By=ua[Ly++],Gy=ua[Ly++],Wy=ua[Ly++];Vy=cubicLength(_y,Ty,zy,Hy,Ny,By,Gy,Wy,10),_y=Gy,Ty=Wy;break}case CMD$4.Q:{var zy=ua[Ly++],Hy=ua[Ly++],Ny=ua[Ly++],By=ua[Ly++];Vy=quadraticLength(_y,Ty,zy,Hy,Ny,By,10),_y=Ny,Ty=By;break}case CMD$4.A:var Uy=ua[Ly++],Yy=ua[Ly++],jy=ua[Ly++],Ky=ua[Ly++],Xy=ua[Ly++],Zy=ua[Ly++],Jy=Zy+Xy;Ly+=1,Ry&&(Ay=mathCos$3(Xy)*jy+Uy,Ey=mathSin$3(Xy)*Ky+Yy),Vy=mathMax$8(jy,Ky)*mathMin$8(PI2$7,Math.abs(Zy)),_y=mathCos$3(Jy)*jy+Uy,Ty=mathSin$3(Jy)*Ky+Yy;break;case CMD$4.R:{Ay=_y=ua[Ly++],Ey=Ty=ua[Ly++];var t_=ua[Ly++],Qy=ua[Ly++];Vy=t_*2+Qy*2;break}case CMD$4.Z:{var Oy=Ay-_y,Fy=Ey-Ty;Vy=Math.sqrt(Oy*Oy+Fy*Fy),_y=Ay,Ty=Ey;break}}Vy>=0&&(My[Iy++]=Vy,Dy+=Vy)}return this._pathLen=Dy,Dy},ha.prototype.rebuildPath=function(ua,Sa){var ba=this.data,ka=this._ux,_y=this._uy,Ty=this._len,Ay,Ey,My,Dy,Iy,Ly,Py=Sa<1,Ry,Vy,Ny=0,By=0,Oy,Fy=0,zy,Hy;if(!(Py&&(this._pathSegLen||this._calculateLength(),Ry=this._pathSegLen,Vy=this._pathLen,Oy=Sa*Vy,!Oy)))e:for(var Gy=0;Gy<Ty;){var Wy=ba[Gy++],Uy=Gy===1;switch(Uy&&(My=ba[Gy],Dy=ba[Gy+1],Ay=My,Ey=Dy),Wy!==CMD$4.L&&Fy>0&&(ua.lineTo(zy,Hy),Fy=0),Wy){case CMD$4.M:Ay=My=ba[Gy++],Ey=Dy=ba[Gy++],ua.moveTo(My,Dy);break;case CMD$4.L:{Iy=ba[Gy++],Ly=ba[Gy++];var Yy=mathAbs$2(Iy-My),jy=mathAbs$2(Ly-Dy);if(Yy>ka||jy>_y){if(Py){var Ky=Ry[By++];if(Ny+Ky>Oy){var Xy=(Oy-Ny)/Ky;ua.lineTo(My*(1-Xy)+Iy*Xy,Dy*(1-Xy)+Ly*Xy);break e}Ny+=Ky}ua.lineTo(Iy,Ly),My=Iy,Dy=Ly,Fy=0}else{var Zy=Yy*Yy+jy*jy;Zy>Fy&&(zy=Iy,Hy=Ly,Fy=Zy)}break}case CMD$4.C:{var Jy=ba[Gy++],t_=ba[Gy++],Qy=ba[Gy++],r_=ba[Gy++],i_=ba[Gy++],l_=ba[Gy++];if(Py){var Ky=Ry[By++];if(Ny+Ky>Oy){var Xy=(Oy-Ny)/Ky;cubicSubdivide(My,Jy,Qy,i_,Xy,tmpOutX),cubicSubdivide(Dy,t_,r_,l_,Xy,tmpOutY),ua.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}Ny+=Ky}ua.bezierCurveTo(Jy,t_,Qy,r_,i_,l_),My=i_,Dy=l_;break}case CMD$4.Q:{var Jy=ba[Gy++],t_=ba[Gy++],Qy=ba[Gy++],r_=ba[Gy++];if(Py){var Ky=Ry[By++];if(Ny+Ky>Oy){var Xy=(Oy-Ny)/Ky;quadraticSubdivide(My,Jy,Qy,Xy,tmpOutX),quadraticSubdivide(Dy,t_,r_,Xy,tmpOutY),ua.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}Ny+=Ky}ua.quadraticCurveTo(Jy,t_,Qy,r_),My=Qy,Dy=r_;break}case CMD$4.A:var c_=ba[Gy++],d_=ba[Gy++],f_=ba[Gy++],m_=ba[Gy++],b_=ba[Gy++],$_=ba[Gy++],A_=ba[Gy++],v_=!ba[Gy++],g_=f_>m_?f_:m_,p_=mathAbs$2(f_-m_)>.001,o_=b_+$_,n_=!1;if(Py){var Ky=Ry[By++];Ny+Ky>Oy&&(o_=b_+$_*(Oy-Ny)/Ky,n_=!0),Ny+=Ky}if(p_&&ua.ellipse?ua.ellipse(c_,d_,f_,m_,A_,b_,o_,v_):ua.arc(c_,d_,g_,b_,o_,v_),n_)break e;Uy&&(Ay=mathCos$3(b_)*f_+c_,Ey=mathSin$3(b_)*m_+d_),My=mathCos$3(o_)*f_+c_,Dy=mathSin$3(o_)*m_+d_;break;case CMD$4.R:Ay=My=ba[Gy],Ey=Dy=ba[Gy+1],Iy=ba[Gy++],Ly=ba[Gy++];var qy=ba[Gy++],e_=ba[Gy++];if(Py){var Ky=Ry[By++];if(Ny+Ky>Oy){var a_=Oy-Ny;ua.moveTo(Iy,Ly),ua.lineTo(Iy+mathMin$8(a_,qy),Ly),a_-=qy,a_>0&&ua.lineTo(Iy+qy,Ly+mathMin$8(a_,e_)),a_-=e_,a_>0&&ua.lineTo(Iy+mathMax$8(qy-a_,0),Ly+e_),a_-=qy,a_>0&&ua.lineTo(Iy,Ly+mathMax$8(e_-a_,0));break e}Ny+=Ky}ua.rect(Iy,Ly,qy,e_);break;case CMD$4.Z:if(Py){var Ky=Ry[By++];if(Ny+Ky>Oy){var Xy=(Oy-Ny)/Ky;ua.lineTo(My*(1-Xy)+Ay*Xy,Dy*(1-Xy)+Ey*Xy);break e}Ny+=Ky}ua.closePath(),My=Ay,Dy=Ey}}},ha.prototype.clone=function(){var ua=new ha,Sa=this.data;return ua.data=Sa.slice?Sa.slice():Array.prototype.slice.call(Sa),ua._len=this._len,ua},ha.CMD=CMD$4,ha.initDefaultProps=function(){var ua=ha.prototype;ua._saveData=!0,ua._ux=0,ua._uy=0,ua._pendingPtDist=0,ua._version=0}(),ha}();function containStroke$4(ha,ua,Sa,ba,ka,_y,Ty){if(ka===0)return!1;var Ay=ka,Ey=0,My=ha;if(Ty>ua+Ay&&Ty>ba+Ay||Ty<ua-Ay&&Ty<ba-Ay||_y>ha+Ay&&_y>Sa+Ay||_y<ha-Ay&&_y<Sa-Ay)return!1;if(ha!==Sa)Ey=(ua-ba)/(ha-Sa),My=(ha*ba-Sa*ua)/(ha-Sa);else return Math.abs(_y-ha)<=Ay/2;var Dy=Ey*_y-Ty+My,Iy=Dy*Dy/(Ey*Ey+1);return Iy<=Ay/2*Ay/2}function containStroke$3(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My,Dy){if(Ey===0)return!1;var Iy=Ey;if(Dy>ua+Iy&&Dy>ba+Iy&&Dy>_y+Iy&&Dy>Ay+Iy||Dy<ua-Iy&&Dy<ba-Iy&&Dy<_y-Iy&&Dy<Ay-Iy||My>ha+Iy&&My>Sa+Iy&&My>ka+Iy&&My>Ty+Iy||My<ha-Iy&&My<Sa-Iy&&My<ka-Iy&&My<Ty-Iy)return!1;var Ly=cubicProjectPoint(ha,ua,Sa,ba,ka,_y,Ty,Ay,My,Dy,null);return Ly<=Iy/2}function containStroke$2(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey){if(Ty===0)return!1;var My=Ty;if(Ey>ua+My&&Ey>ba+My&&Ey>_y+My||Ey<ua-My&&Ey<ba-My&&Ey<_y-My||Ay>ha+My&&Ay>Sa+My&&Ay>ka+My||Ay<ha-My&&Ay<Sa-My&&Ay<ka-My)return!1;var Dy=quadraticProjectPoint(ha,ua,Sa,ba,ka,_y,Ay,Ey,null);return Dy<=My/2}var PI2$6=Math.PI*2;function normalizeRadian(ha){return ha%=PI2$6,ha<0&&(ha+=PI2$6),ha}var PI2$5=Math.PI*2;function containStroke$1(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey){if(Ty===0)return!1;var My=Ty;Ay-=ha,Ey-=ua;var Dy=Math.sqrt(Ay*Ay+Ey*Ey);if(Dy-My>Sa||Dy+My<Sa)return!1;if(Math.abs(ba-ka)%PI2$5<1e-4)return!0;if(_y){var Iy=ba;ba=normalizeRadian(ka),ka=normalizeRadian(Iy)}else ba=normalizeRadian(ba),ka=normalizeRadian(ka);ba>ka&&(ka+=PI2$5);var Ly=Math.atan2(Ey,Ay);return Ly<0&&(Ly+=PI2$5),Ly>=ba&&Ly<=ka||Ly+PI2$5>=ba&&Ly+PI2$5<=ka}function windingLine(ha,ua,Sa,ba,ka,_y){if(_y>ua&&_y>ba||_y<ua&&_y<ba||ba===ua)return 0;var Ty=(_y-ua)/(ba-ua),Ay=ba<ua?1:-1;(Ty===1||Ty===0)&&(Ay=ba<ua?.5:-.5);var Ey=Ty*(Sa-ha)+ha;return Ey===ka?1/0:Ey>ka?Ay:0}var CMD$3=PathProxy.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(ha,ua){return Math.abs(ha-ua)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var ha=extrema[0];extrema[0]=extrema[1],extrema[1]=ha}function windingCubic(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My){if(My>ua&&My>ba&&My>_y&&My>Ay||My<ua&&My<ba&&My<_y&&My<Ay)return 0;var Dy=cubicRootAt(ua,ba,_y,Ay,My,roots);if(Dy===0)return 0;for(var Iy=0,Ly=-1,Py=void 0,Ry=void 0,Vy=0;Vy<Dy;Vy++){var Ny=roots[Vy],By=Ny===0||Ny===1?.5:1,Oy=cubicAt(ha,Sa,ka,Ty,Ny);Oy<Ey||(Ly<0&&(Ly=cubicExtrema(ua,ba,_y,Ay,extrema),extrema[1]<extrema[0]&&Ly>1&&swapExtrema(),Py=cubicAt(ua,ba,_y,Ay,extrema[0]),Ly>1&&(Ry=cubicAt(ua,ba,_y,Ay,extrema[1]))),Ly===2?Ny<extrema[0]?Iy+=Py<ua?By:-By:Ny<extrema[1]?Iy+=Ry<Py?By:-By:Iy+=Ay<Ry?By:-By:Ny<extrema[0]?Iy+=Py<ua?By:-By:Iy+=Ay<Py?By:-By)}return Iy}function windingQuadratic(ha,ua,Sa,ba,ka,_y,Ty,Ay){if(Ay>ua&&Ay>ba&&Ay>_y||Ay<ua&&Ay<ba&&Ay<_y)return 0;var Ey=quadraticRootAt(ua,ba,_y,Ay,roots);if(Ey===0)return 0;var My=quadraticExtremum(ua,ba,_y);if(My>=0&&My<=1){for(var Dy=0,Iy=quadraticAt$1(ua,ba,_y,My),Ly=0;Ly<Ey;Ly++){var Py=roots[Ly]===0||roots[Ly]===1?.5:1,Ry=quadraticAt$1(ha,Sa,ka,roots[Ly]);Ry<Ty||(roots[Ly]<My?Dy+=Iy<ua?Py:-Py:Dy+=_y<Iy?Py:-Py)}return Dy}else{var Py=roots[0]===0||roots[0]===1?.5:1,Ry=quadraticAt$1(ha,Sa,ka,roots[0]);return Ry<Ty?0:_y<ua?Py:-Py}}function windingArc(ha,ua,Sa,ba,ka,_y,Ty,Ay){if(Ay-=ua,Ay>Sa||Ay<-Sa)return 0;var Ey=Math.sqrt(Sa*Sa-Ay*Ay);roots[0]=-Ey,roots[1]=Ey;var My=Math.abs(ba-ka);if(My<1e-4)return 0;if(My>=PI2$4-1e-4){ba=0,ka=PI2$4;var Dy=_y?1:-1;return Ty>=roots[0]+ha&&Ty<=roots[1]+ha?Dy:0}if(ba>ka){var Iy=ba;ba=ka,ka=Iy}ba<0&&(ba+=PI2$4,ka+=PI2$4);for(var Ly=0,Py=0;Py<2;Py++){var Ry=roots[Py];if(Ry+ha>Ty){var Vy=Math.atan2(Ay,Ry),Dy=_y?1:-1;Vy<0&&(Vy=PI2$4+Vy),(Vy>=ba&&Vy<=ka||Vy+PI2$4>=ba&&Vy+PI2$4<=ka)&&(Vy>Math.PI/2&&Vy<Math.PI*1.5&&(Dy=-Dy),Ly+=Dy)}}return Ly}function containPath(ha,ua,Sa,ba,ka){for(var _y=ha.data,Ty=ha.len(),Ay=0,Ey=0,My=0,Dy=0,Iy=0,Ly,Py,Ry=0;Ry<Ty;){var Vy=_y[Ry++],Ny=Ry===1;switch(Vy===CMD$3.M&&Ry>1&&(Sa||(Ay+=windingLine(Ey,My,Dy,Iy,ba,ka))),Ny&&(Ey=_y[Ry],My=_y[Ry+1],Dy=Ey,Iy=My),Vy){case CMD$3.M:Dy=_y[Ry++],Iy=_y[Ry++],Ey=Dy,My=Iy;break;case CMD$3.L:if(Sa){if(containStroke$4(Ey,My,_y[Ry],_y[Ry+1],ua,ba,ka))return!0}else Ay+=windingLine(Ey,My,_y[Ry],_y[Ry+1],ba,ka)||0;Ey=_y[Ry++],My=_y[Ry++];break;case CMD$3.C:if(Sa){if(containStroke$3(Ey,My,_y[Ry++],_y[Ry++],_y[Ry++],_y[Ry++],_y[Ry],_y[Ry+1],ua,ba,ka))return!0}else Ay+=windingCubic(Ey,My,_y[Ry++],_y[Ry++],_y[Ry++],_y[Ry++],_y[Ry],_y[Ry+1],ba,ka)||0;Ey=_y[Ry++],My=_y[Ry++];break;case CMD$3.Q:if(Sa){if(containStroke$2(Ey,My,_y[Ry++],_y[Ry++],_y[Ry],_y[Ry+1],ua,ba,ka))return!0}else Ay+=windingQuadratic(Ey,My,_y[Ry++],_y[Ry++],_y[Ry],_y[Ry+1],ba,ka)||0;Ey=_y[Ry++],My=_y[Ry++];break;case CMD$3.A:var By=_y[Ry++],Oy=_y[Ry++],Fy=_y[Ry++],zy=_y[Ry++],Hy=_y[Ry++],Gy=_y[Ry++];Ry+=1;var Wy=!!(1-_y[Ry++]);Ly=Math.cos(Hy)*Fy+By,Py=Math.sin(Hy)*zy+Oy,Ny?(Dy=Ly,Iy=Py):Ay+=windingLine(Ey,My,Ly,Py,ba,ka);var Uy=(ba-By)*zy/Fy+By;if(Sa){if(containStroke$1(By,Oy,zy,Hy,Hy+Gy,Wy,ua,Uy,ka))return!0}else Ay+=windingArc(By,Oy,zy,Hy,Hy+Gy,Wy,Uy,ka);Ey=Math.cos(Hy+Gy)*Fy+By,My=Math.sin(Hy+Gy)*zy+Oy;break;case CMD$3.R:Dy=Ey=_y[Ry++],Iy=My=_y[Ry++];var Yy=_y[Ry++],jy=_y[Ry++];if(Ly=Dy+Yy,Py=Iy+jy,Sa){if(containStroke$4(Dy,Iy,Ly,Iy,ua,ba,ka)||containStroke$4(Ly,Iy,Ly,Py,ua,ba,ka)||containStroke$4(Ly,Py,Dy,Py,ua,ba,ka)||containStroke$4(Dy,Py,Dy,Iy,ua,ba,ka))return!0}else Ay+=windingLine(Ly,Iy,Ly,Py,ba,ka),Ay+=windingLine(Dy,Py,Dy,Iy,ba,ka);break;case CMD$3.Z:if(Sa){if(containStroke$4(Ey,My,Dy,Iy,ua,ba,ka))return!0}else Ay+=windingLine(Ey,My,Dy,Iy,ba,ka);Ey=Dy,My=Iy;break}}return!Sa&&!isAroundEqual$1(My,Iy)&&(Ay+=windingLine(Ey,My,Dy,Iy,ba,ka)||0),Ay!==0}function contain$2(ha,ua,Sa){return containPath(ha,0,!1,ua,Sa)}function containStroke(ha,ua,Sa,ba){return containPath(ha,ua,!0,Sa,ba)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.update=function(){var Sa=this;ha.prototype.update.call(this);var ba=this.style;if(ba.decal){var ka=this._decalEl=this._decalEl||new ua;ka.buildPath===ua.prototype.buildPath&&(ka.buildPath=function(Ey){Sa.buildPath(Ey,Sa.shape)}),ka.silent=!0;var _y=ka.style;for(var Ty in ba)_y[Ty]!==ba[Ty]&&(_y[Ty]=ba[Ty]);_y.fill=ba.fill?ba.decal:null,_y.decal=null,_y.shadowColor=null,ba.strokeFirst&&(_y.stroke=null);for(var Ay=0;Ay<pathCopyParams.length;++Ay)ka[pathCopyParams[Ay]]=this[pathCopyParams[Ay]];ka.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},ua.prototype.getDecalElement=function(){return this._decalEl},ua.prototype._init=function(Sa){var ba=keys(Sa);this.shape=this.getDefaultShape();var ka=this.getDefaultStyle();ka&&this.useStyle(ka);for(var _y=0;_y<ba.length;_y++){var Ty=ba[_y],Ay=Sa[Ty];Ty==="style"?this.style?extend(this.style,Ay):this.useStyle(Ay):Ty==="shape"?extend(this.shape,Ay):ha.prototype.attrKV.call(this,Ty,Ay)}this.style||this.useStyle({})},ua.prototype.getDefaultStyle=function(){return null},ua.prototype.getDefaultShape=function(){return{}},ua.prototype.canBeInsideText=function(){return this.hasFill()},ua.prototype.getInsideTextFill=function(){var Sa=this.style.fill;if(Sa!=="none"){if(isString(Sa)){var ba=lum(Sa,0);return ba>.5?DARK_LABEL_COLOR:ba>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(Sa)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},ua.prototype.getInsideTextStroke=function(Sa){var ba=this.style.fill;if(isString(ba)){var ka=this.__zr,_y=!!(ka&&ka.isDarkMode()),Ty=lum(Sa,0)<DARK_MODE_THRESHOLD;if(_y===Ty)return ba}},ua.prototype.buildPath=function(Sa,ba,ka){},ua.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},ua.prototype.getUpdatedPathProxy=function(Sa){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,Sa),this.path},ua.prototype.createPathProxy=function(){this.path=new PathProxy(!1)},ua.prototype.hasStroke=function(){var Sa=this.style,ba=Sa.stroke;return!(ba==null||ba==="none"||!(Sa.lineWidth>0))},ua.prototype.hasFill=function(){var Sa=this.style,ba=Sa.fill;return ba!=null&&ba!=="none"},ua.prototype.getBoundingRect=function(){var Sa=this._rect,ba=this.style,ka=!Sa;if(ka){var _y=!1;this.path||(_y=!0,this.createPathProxy());var Ty=this.path;(_y||this.__dirty&SHAPE_CHANGED_BIT)&&(Ty.beginPath(),this.buildPath(Ty,this.shape,!1),this.pathUpdated()),Sa=Ty.getBoundingRect()}if(this._rect=Sa,this.hasStroke()&&this.path&&this.path.len()>0){var Ay=this._rectStroke||(this._rectStroke=Sa.clone());if(this.__dirty||ka){Ay.copy(Sa);var Ey=ba.strokeNoScale?this.getLineScale():1,My=ba.lineWidth;if(!this.hasFill()){var Dy=this.strokeContainThreshold;My=Math.max(My,Dy??4)}Ey>1e-10&&(Ay.width+=My/Ey,Ay.height+=My/Ey,Ay.x-=My/Ey/2,Ay.y-=My/Ey/2)}return Ay}return Sa},ua.prototype.contain=function(Sa,ba){var ka=this.transformCoordToLocal(Sa,ba),_y=this.getBoundingRect(),Ty=this.style;if(Sa=ka[0],ba=ka[1],_y.contain(Sa,ba)){var Ay=this.path;if(this.hasStroke()){var Ey=Ty.lineWidth,My=Ty.strokeNoScale?this.getLineScale():1;if(My>1e-10&&(this.hasFill()||(Ey=Math.max(Ey,this.strokeContainThreshold)),containStroke(Ay,Ey/My,Sa,ba)))return!0}if(this.hasFill())return contain$2(Ay,Sa,ba)}return!1},ua.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},ua.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},ua.prototype.animateShape=function(Sa){return this.animate("shape",Sa)},ua.prototype.updateDuringAnimation=function(Sa){Sa==="style"?this.dirtyStyle():Sa==="shape"?this.dirtyShape():this.markRedraw()},ua.prototype.attrKV=function(Sa,ba){Sa==="shape"?this.setShape(ba):ha.prototype.attrKV.call(this,Sa,ba)},ua.prototype.setShape=function(Sa,ba){var ka=this.shape;return ka||(ka=this.shape={}),typeof Sa=="string"?ka[Sa]=ba:extend(ka,Sa),this.dirtyShape(),this},ua.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},ua.prototype.createStyle=function(Sa){return createObject(DEFAULT_PATH_STYLE,Sa)},ua.prototype._innerSaveToNormal=function(Sa){ha.prototype._innerSaveToNormal.call(this,Sa);var ba=this._normalState;Sa.shape&&!ba.shape&&(ba.shape=extend({},this.shape))},ua.prototype._applyStateObj=function(Sa,ba,ka,_y,Ty,Ay){ha.prototype._applyStateObj.call(this,Sa,ba,ka,_y,Ty,Ay);var Ey=!(ba&&_y),My;if(ba&&ba.shape?Ty?_y?My=ba.shape:(My=extend({},ka.shape),extend(My,ba.shape)):(My=extend({},_y?this.shape:ka.shape),extend(My,ba.shape)):Ey&&(My=ka.shape),My)if(Ty){this.shape=extend({},this.shape);for(var Dy={},Iy=keys(My),Ly=0;Ly<Iy.length;Ly++){var Py=Iy[Ly];typeof My[Py]=="object"?this.shape[Py]=My[Py]:Dy[Py]=My[Py]}this._transitionState(Sa,{shape:Dy},Ay)}else this.shape=My,this.dirtyShape()},ua.prototype._mergeStates=function(Sa){for(var ba=ha.prototype._mergeStates.call(this,Sa),ka,_y=0;_y<Sa.length;_y++){var Ty=Sa[_y];Ty.shape&&(ka=ka||{},this._mergeStyle(ka,Ty.shape))}return ka&&(ba.shape=ka),ba},ua.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},ua.prototype.isZeroArea=function(){return!1},ua.extend=function(Sa){var ba=function(_y){__extends(Ty,_y);function Ty(Ay){var Ey=_y.call(this,Ay)||this;return Sa.init&&Sa.init.call(Ey,Ay),Ey}return Ty.prototype.getDefaultStyle=function(){return clone$4(Sa.style)},Ty.prototype.getDefaultShape=function(){return clone$4(Sa.shape)},Ty}(ua);for(var ka in Sa)typeof Sa[ka]=="function"&&(ba.prototype[ka]=Sa[ka]);return ba},ua.initDefaultProps=function(){var Sa=ua.prototype;Sa.type="path",Sa.strokeContainThreshold=5,Sa.segmentIgnoreThreshold=0,Sa.subPixelOptimize=!1,Sa.autoBatch=!1,Sa.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),ua}(Displayable),DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.hasStroke=function(){var Sa=this.style,ba=Sa.stroke;return ba!=null&&ba!=="none"&&Sa.lineWidth>0},ua.prototype.hasFill=function(){var Sa=this.style,ba=Sa.fill;return ba!=null&&ba!=="none"},ua.prototype.createStyle=function(Sa){return createObject(DEFAULT_TSPAN_STYLE,Sa)},ua.prototype.setBoundingRect=function(Sa){this._rect=Sa},ua.prototype.getBoundingRect=function(){var Sa=this.style;if(!this._rect){var ba=Sa.text;ba!=null?ba+="":ba="";var ka=getBoundingRect(ba,Sa.font,Sa.textAlign,Sa.textBaseline);if(ka.x+=Sa.x||0,ka.y+=Sa.y||0,this.hasStroke()){var _y=Sa.lineWidth;ka.x-=_y/2,ka.y-=_y/2,ka.width+=_y,ka.height+=_y}this._rect=ka}return this._rect},ua.initDefaultProps=function(){var Sa=ua.prototype;Sa.dirtyRectTolerance=10}(),ua}(Displayable);TSpan.prototype.type="tspan";var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(ha){return!!(ha&&typeof ha!="string"&&ha.width&&ha.height)}var ZRImage=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.createStyle=function(Sa){return createObject(DEFAULT_IMAGE_STYLE,Sa)},ua.prototype._getSize=function(Sa){var ba=this.style,ka=ba[Sa];if(ka!=null)return ka;var _y=isImageLike$1(ba.image)?ba.image:this.__image;if(!_y)return 0;var Ty=Sa==="width"?"height":"width",Ay=ba[Ty];return Ay==null?_y[Sa]:_y[Sa]/_y[Ty]*Ay},ua.prototype.getWidth=function(){return this._getSize("width")},ua.prototype.getHeight=function(){return this._getSize("height")},ua.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},ua.prototype.getBoundingRect=function(){var Sa=this.style;return this._rect||(this._rect=new BoundingRect(Sa.x||0,Sa.y||0,this.getWidth(),this.getHeight())),this._rect},ua}(Displayable);ZRImage.prototype.type="image";function buildPath$2(ha,ua){var Sa=ua.x,ba=ua.y,ka=ua.width,_y=ua.height,Ty=ua.r,Ay,Ey,My,Dy;ka<0&&(Sa=Sa+ka,ka=-ka),_y<0&&(ba=ba+_y,_y=-_y),typeof Ty=="number"?Ay=Ey=My=Dy=Ty:Ty instanceof Array?Ty.length===1?Ay=Ey=My=Dy=Ty[0]:Ty.length===2?(Ay=My=Ty[0],Ey=Dy=Ty[1]):Ty.length===3?(Ay=Ty[0],Ey=Dy=Ty[1],My=Ty[2]):(Ay=Ty[0],Ey=Ty[1],My=Ty[2],Dy=Ty[3]):Ay=Ey=My=Dy=0;var Iy;Ay+Ey>ka&&(Iy=Ay+Ey,Ay*=ka/Iy,Ey*=ka/Iy),My+Dy>ka&&(Iy=My+Dy,My*=ka/Iy,Dy*=ka/Iy),Ey+My>_y&&(Iy=Ey+My,Ey*=_y/Iy,My*=_y/Iy),Ay+Dy>_y&&(Iy=Ay+Dy,Ay*=_y/Iy,Dy*=_y/Iy),ha.moveTo(Sa+Ay,ba),ha.lineTo(Sa+ka-Ey,ba),Ey!==0&&ha.arc(Sa+ka-Ey,ba+Ey,Ey,-Math.PI/2,0),ha.lineTo(Sa+ka,ba+_y-My),My!==0&&ha.arc(Sa+ka-My,ba+_y-My,My,0,Math.PI/2),ha.lineTo(Sa+Dy,ba+_y),Dy!==0&&ha.arc(Sa+Dy,ba+_y-Dy,Dy,Math.PI/2,Math.PI),ha.lineTo(Sa,ba+Ay),Ay!==0&&ha.arc(Sa+Ay,ba+Ay,Ay,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(ha,ua,Sa){if(ua){var ba=ua.x1,ka=ua.x2,_y=ua.y1,Ty=ua.y2;ha.x1=ba,ha.x2=ka,ha.y1=_y,ha.y2=Ty;var Ay=Sa&&Sa.lineWidth;return Ay&&(round$2(ba*2)===round$2(ka*2)&&(ha.x1=ha.x2=subPixelOptimize$1(ba,Ay,!0)),round$2(_y*2)===round$2(Ty*2)&&(ha.y1=ha.y2=subPixelOptimize$1(_y,Ay,!0))),ha}}function subPixelOptimizeRect$1(ha,ua,Sa){if(ua){var ba=ua.x,ka=ua.y,_y=ua.width,Ty=ua.height;ha.x=ba,ha.y=ka,ha.width=_y,ha.height=Ty;var Ay=Sa&&Sa.lineWidth;return Ay&&(ha.x=subPixelOptimize$1(ba,Ay,!0),ha.y=subPixelOptimize$1(ka,Ay,!0),ha.width=Math.max(subPixelOptimize$1(ba+_y,Ay,!1)-ha.x,_y===0?0:1),ha.height=Math.max(subPixelOptimize$1(ka+Ty,Ay,!1)-ha.y,Ty===0?0:1)),ha}}function subPixelOptimize$1(ha,ua,Sa){if(!ua)return ha;var ba=round$2(ha*2);return(ba+round$2(ua))%2===0?ba/2:(ba+(Sa?1:-1))/2}var RectShape=function(){function ha(){this.x=0,this.y=0,this.width=0,this.height=0}return ha}(),subPixelOptimizeOutputShape$1={},Rect$2=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultShape=function(){return new RectShape},ua.prototype.buildPath=function(Sa,ba){var ka,_y,Ty,Ay;if(this.subPixelOptimize){var Ey=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,ba,this.style);ka=Ey.x,_y=Ey.y,Ty=Ey.width,Ay=Ey.height,Ey.r=ba.r,ba=Ey}else ka=ba.x,_y=ba.y,Ty=ba.width,Ay=ba.height;ba.r?buildPath$2(Sa,ba):Sa.rect(ka,_y,Ty,Ay)},ua.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},ua}(Path);Rect$2.prototype.type="rect";var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this)||this;return ba.type="text",ba._children=[],ba._defaultStyle=DEFAULT_RICH_TEXT_COLOR,ba.attr(Sa),ba}return ua.prototype.childrenRef=function(){return this._children},ua.prototype.update=function(){ha.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var Sa=0;Sa<this._children.length;Sa++){var ba=this._children[Sa];ba.zlevel=this.zlevel,ba.z=this.z,ba.z2=this.z2,ba.culling=this.culling,ba.cursor=this.cursor,ba.invisible=this.invisible}},ua.prototype.updateTransform=function(){var Sa=this.innerTransformable;Sa?(Sa.updateTransform(),Sa.transform&&(this.transform=Sa.transform)):ha.prototype.updateTransform.call(this)},ua.prototype.getLocalTransform=function(Sa){var ba=this.innerTransformable;return ba?ba.getLocalTransform(Sa):ha.prototype.getLocalTransform.call(this,Sa)},ua.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),ha.prototype.getComputedTransform.call(this)},ua.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},ua.prototype.addSelfToZr=function(Sa){ha.prototype.addSelfToZr.call(this,Sa);for(var ba=0;ba<this._children.length;ba++)this._children[ba].__zr=Sa},ua.prototype.removeSelfFromZr=function(Sa){ha.prototype.removeSelfFromZr.call(this,Sa);for(var ba=0;ba<this._children.length;ba++)this._children[ba].__zr=null},ua.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var Sa=new BoundingRect(0,0,0,0),ba=this._children,ka=[],_y=null,Ty=0;Ty<ba.length;Ty++){var Ay=ba[Ty],Ey=Ay.getBoundingRect(),My=Ay.getLocalTransform(ka);My?(Sa.copy(Ey),Sa.applyTransform(My),_y=_y||Sa.clone(),_y.union(Sa)):(_y=_y||Ey.clone(),_y.union(Ey))}this._rect=_y||Sa}return this._rect},ua.prototype.setDefaultTextStyle=function(Sa){this._defaultStyle=Sa||DEFAULT_RICH_TEXT_COLOR},ua.prototype.setTextContent=function(Sa){},ua.prototype._mergeStyle=function(Sa,ba){if(!ba)return Sa;var ka=ba.rich,_y=Sa.rich||ka&&{};return extend(Sa,ba),ka&&_y?(this._mergeRich(_y,ka),Sa.rich=_y):_y&&(Sa.rich=_y),Sa},ua.prototype._mergeRich=function(Sa,ba){for(var ka=keys(ba),_y=0;_y<ka.length;_y++){var Ty=ka[_y];Sa[Ty]=Sa[Ty]||{},extend(Sa[Ty],ba[Ty])}},ua.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},ua.prototype._getOrCreateChild=function(Sa){var ba=this._children[this._childCursor];return(!ba||!(ba instanceof Sa))&&(ba=new Sa),this._children[this._childCursor++]=ba,ba.__zr=this.__zr,ba.parent=this,ba},ua.prototype._updatePlainTexts=function(){var Sa=this.style,ba=Sa.font||DEFAULT_FONT,ka=Sa.padding,_y=getStyleText(Sa),Ty=parsePlainText(_y,Sa),Ay=needDrawBackground(Sa),Ey=!!Sa.backgroundColor,My=Ty.outerHeight,Dy=Ty.outerWidth,Iy=Ty.contentWidth,Ly=Ty.lines,Py=Ty.lineHeight,Ry=this._defaultStyle;this.isTruncated=!!Ty.isTruncated;var Vy=Sa.x||0,Ny=Sa.y||0,By=Sa.align||Ry.align||"left",Oy=Sa.verticalAlign||Ry.verticalAlign||"top",Fy=Vy,zy=adjustTextY(Ny,Ty.contentHeight,Oy);if(Ay||ka){var Hy=adjustTextX(Vy,Dy,By),Gy=adjustTextY(Ny,My,Oy);Ay&&this._renderBackground(Sa,Sa,Hy,Gy,Dy,My)}zy+=Py/2,ka&&(Fy=getTextXForPadding(Vy,By,ka),Oy==="top"?zy+=ka[0]:Oy==="bottom"&&(zy-=ka[2]));for(var Wy=0,Uy=!1,Yy=getFill("fill"in Sa?Sa.fill:(Uy=!0,Ry.fill)),jy=getStroke("stroke"in Sa?Sa.stroke:!Ey&&(!Ry.autoStroke||Uy)?(Wy=DEFAULT_STROKE_LINE_WIDTH,Ry.stroke):null),Ky=Sa.textShadowBlur>0,Xy=Sa.width!=null&&(Sa.overflow==="truncate"||Sa.overflow==="break"||Sa.overflow==="breakAll"),Zy=Ty.calculatedLineHeight,Jy=0;Jy<Ly.length;Jy++){var t_=this._getOrCreateChild(TSpan),Qy=t_.createStyle();t_.useStyle(Qy),Qy.text=Ly[Jy],Qy.x=Fy,Qy.y=zy,Qy.textAlign=By,Qy.textBaseline="middle",Qy.opacity=Sa.opacity,Qy.strokeFirst=!0,Ky&&(Qy.shadowBlur=Sa.textShadowBlur||0,Qy.shadowColor=Sa.textShadowColor||"transparent",Qy.shadowOffsetX=Sa.textShadowOffsetX||0,Qy.shadowOffsetY=Sa.textShadowOffsetY||0),Qy.stroke=jy,Qy.fill=Yy,jy&&(Qy.lineWidth=Sa.lineWidth||Wy,Qy.lineDash=Sa.lineDash,Qy.lineDashOffset=Sa.lineDashOffset||0),Qy.font=ba,setSeparateFont(Qy,Sa),zy+=Py,Xy&&t_.setBoundingRect(new BoundingRect(adjustTextX(Qy.x,Iy,Qy.textAlign),adjustTextY(Qy.y,Zy,Qy.textBaseline),Iy,Zy))}},ua.prototype._updateRichTexts=function(){var Sa=this.style,ba=getStyleText(Sa),ka=parseRichText(ba,Sa),_y=ka.width,Ty=ka.outerWidth,Ay=ka.outerHeight,Ey=Sa.padding,My=Sa.x||0,Dy=Sa.y||0,Iy=this._defaultStyle,Ly=Sa.align||Iy.align,Py=Sa.verticalAlign||Iy.verticalAlign;this.isTruncated=!!ka.isTruncated;var Ry=adjustTextX(My,Ty,Ly),Vy=adjustTextY(Dy,Ay,Py),Ny=Ry,By=Vy;Ey&&(Ny+=Ey[3],By+=Ey[0]);var Oy=Ny+_y;needDrawBackground(Sa)&&this._renderBackground(Sa,Sa,Ry,Vy,Ty,Ay);for(var Fy=!!Sa.backgroundColor,zy=0;zy<ka.lines.length;zy++){for(var Hy=ka.lines[zy],Gy=Hy.tokens,Wy=Gy.length,Uy=Hy.lineHeight,Yy=Hy.width,jy=0,Ky=Ny,Xy=Oy,Zy=Wy-1,Jy=void 0;jy<Wy&&(Jy=Gy[jy],!Jy.align||Jy.align==="left");)this._placeToken(Jy,Sa,Uy,By,Ky,"left",Fy),Yy-=Jy.width,Ky+=Jy.width,jy++;for(;Zy>=0&&(Jy=Gy[Zy],Jy.align==="right");)this._placeToken(Jy,Sa,Uy,By,Xy,"right",Fy),Yy-=Jy.width,Xy-=Jy.width,Zy--;for(Ky+=(_y-(Ky-Ny)-(Oy-Xy)-Yy)/2;jy<=Zy;)Jy=Gy[jy],this._placeToken(Jy,Sa,Uy,By,Ky+Jy.width/2,"center",Fy),Ky+=Jy.width,jy++;By+=Uy}},ua.prototype._placeToken=function(Sa,ba,ka,_y,Ty,Ay,Ey){var My=ba.rich[Sa.styleName]||{};My.text=Sa.text;var Dy=Sa.verticalAlign,Iy=_y+ka/2;Dy==="top"?Iy=_y+Sa.height/2:Dy==="bottom"&&(Iy=_y+ka-Sa.height/2);var Ly=!Sa.isLineHolder&&needDrawBackground(My);Ly&&this._renderBackground(My,ba,Ay==="right"?Ty-Sa.width:Ay==="center"?Ty-Sa.width/2:Ty,Iy-Sa.height/2,Sa.width,Sa.height);var Py=!!My.backgroundColor,Ry=Sa.textPadding;Ry&&(Ty=getTextXForPadding(Ty,Ay,Ry),Iy-=Sa.height/2-Ry[0]-Sa.innerHeight/2);var Vy=this._getOrCreateChild(TSpan),Ny=Vy.createStyle();Vy.useStyle(Ny);var By=this._defaultStyle,Oy=!1,Fy=0,zy=getFill("fill"in My?My.fill:"fill"in ba?ba.fill:(Oy=!0,By.fill)),Hy=getStroke("stroke"in My?My.stroke:"stroke"in ba?ba.stroke:!Py&&!Ey&&(!By.autoStroke||Oy)?(Fy=DEFAULT_STROKE_LINE_WIDTH,By.stroke):null),Gy=My.textShadowBlur>0||ba.textShadowBlur>0;Ny.text=Sa.text,Ny.x=Ty,Ny.y=Iy,Gy&&(Ny.shadowBlur=My.textShadowBlur||ba.textShadowBlur||0,Ny.shadowColor=My.textShadowColor||ba.textShadowColor||"transparent",Ny.shadowOffsetX=My.textShadowOffsetX||ba.textShadowOffsetX||0,Ny.shadowOffsetY=My.textShadowOffsetY||ba.textShadowOffsetY||0),Ny.textAlign=Ay,Ny.textBaseline="middle",Ny.font=Sa.font||DEFAULT_FONT,Ny.opacity=retrieve3(My.opacity,ba.opacity,1),setSeparateFont(Ny,My),Hy&&(Ny.lineWidth=retrieve3(My.lineWidth,ba.lineWidth,Fy),Ny.lineDash=retrieve2(My.lineDash,ba.lineDash),Ny.lineDashOffset=ba.lineDashOffset||0,Ny.stroke=Hy),zy&&(Ny.fill=zy);var Wy=Sa.contentWidth,Uy=Sa.contentHeight;Vy.setBoundingRect(new BoundingRect(adjustTextX(Ny.x,Wy,Ny.textAlign),adjustTextY(Ny.y,Uy,Ny.textBaseline),Wy,Uy))},ua.prototype._renderBackground=function(Sa,ba,ka,_y,Ty,Ay){var Ey=Sa.backgroundColor,My=Sa.borderWidth,Dy=Sa.borderColor,Iy=Ey&&Ey.image,Ly=Ey&&!Iy,Py=Sa.borderRadius,Ry=this,Vy,Ny;if(Ly||Sa.lineHeight||My&&Dy){Vy=this._getOrCreateChild(Rect$2),Vy.useStyle(Vy.createStyle()),Vy.style.fill=null;var By=Vy.shape;By.x=ka,By.y=_y,By.width=Ty,By.height=Ay,By.r=Py,Vy.dirtyShape()}if(Ly){var Oy=Vy.style;Oy.fill=Ey||null,Oy.fillOpacity=retrieve2(Sa.fillOpacity,1)}else if(Iy){Ny=this._getOrCreateChild(ZRImage),Ny.onload=function(){Ry.dirtyStyle()};var Fy=Ny.style;Fy.image=Ey.image,Fy.x=ka,Fy.y=_y,Fy.width=Ty,Fy.height=Ay}if(My&&Dy){var Oy=Vy.style;Oy.lineWidth=My,Oy.stroke=Dy,Oy.strokeOpacity=retrieve2(Sa.strokeOpacity,1),Oy.lineDash=Sa.borderDash,Oy.lineDashOffset=Sa.borderDashOffset||0,Vy.strokeContainThreshold=0,Vy.hasFill()&&Vy.hasStroke()&&(Oy.strokeFirst=!0,Oy.lineWidth*=2)}var zy=(Vy||Ny).style;zy.shadowBlur=Sa.shadowBlur||0,zy.shadowColor=Sa.shadowColor||"transparent",zy.shadowOffsetX=Sa.shadowOffsetX||0,zy.shadowOffsetY=Sa.shadowOffsetY||0,zy.opacity=retrieve3(Sa.opacity,ba.opacity,1)},ua.makeFont=function(Sa){var ba="";return hasSeparateFont(Sa)&&(ba=[Sa.fontStyle,Sa.fontWeight,parseFontSize(Sa.fontSize),Sa.fontFamily||"sans-serif"].join(" ")),ba&&trim$1(ba)||Sa.textFont||Sa.font},ua}(Displayable),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(ha){return typeof ha=="string"&&(ha.indexOf("px")!==-1||ha.indexOf("rem")!==-1||ha.indexOf("em")!==-1)?ha:isNaN(+ha)?DEFAULT_FONT_SIZE+"px":ha+"px"}function setSeparateFont(ha,ua){for(var Sa=0;Sa<FONT_PARTS.length;Sa++){var ba=FONT_PARTS[Sa],ka=ua[ba];ka!=null&&(ha[ba]=ka)}}function hasSeparateFont(ha){return ha.fontSize!=null||ha.fontFamily||ha.fontWeight}function normalizeTextStyle(ha){return normalizeStyle(ha),each$f(ha.rich,normalizeStyle),ha}function normalizeStyle(ha){if(ha){ha.font=ZRText.makeFont(ha);var ua=ha.align;ua==="middle"&&(ua="center"),ha.align=ua==null||VALID_TEXT_ALIGN[ua]?ua:"left";var Sa=ha.verticalAlign;Sa==="center"&&(Sa="middle"),ha.verticalAlign=Sa==null||VALID_TEXT_VERTICAL_ALIGN[Sa]?Sa:"top";var ba=ha.padding;ba&&(ha.padding=normalizeCssArray$1(ha.padding))}}function getStroke(ha,ua){return ha==null||ua<=0||ha==="transparent"||ha==="none"?null:ha.image||ha.colorStops?"#000":ha}function getFill(ha){return ha==null||ha==="none"?null:ha.image||ha.colorStops?"#000":ha}function getTextXForPadding(ha,ua,Sa){return ua==="right"?ha-Sa[1]:ua==="center"?ha+Sa[3]/2-Sa[1]/2:ha+Sa[3]}function getStyleText(ha){var ua=ha.text;return ua!=null&&(ua+=""),ua}function needDrawBackground(ha){return!!(ha.backgroundColor||ha.lineHeight||ha.borderWidth&&ha.borderColor)}var getECData=makeInner(),setCommonECData=function(ha,ua,Sa,ba){if(ba){var ka=getECData(ba);ka.dataIndex=Sa,ka.dataType=ua,ka.seriesIndex=ha,ka.ssrType="chart",ba.type==="group"&&ba.traverse(function(_y){var Ty=getECData(_y);Ty.seriesIndex=ha,Ty.dataIndex=Sa,Ty.dataType=ua,Ty.ssrType="chart"})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(ha){return ha!=null&&ha!=="none"}function doChangeHoverState(ha,ua,Sa){ha.onHoverStateChange&&(ha.hoverState||0)!==Sa&&ha.onHoverStateChange(ua),ha.hoverState=Sa}function singleEnterEmphasis(ha){doChangeHoverState(ha,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(ha){ha.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(ha,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(ha){doChangeHoverState(ha,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(ha){ha.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(ha,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(ha){ha.selected=!0}function singleLeaveSelect(ha){ha.selected=!1}function updateElementState(ha,ua,Sa){ua(ha,Sa)}function traverseUpdateState(ha,ua,Sa){updateElementState(ha,ua,Sa),ha.isGroup&&ha.traverse(function(ba){updateElementState(ba,ua,Sa)})}function setStatesFlag(ha,ua){switch(ua){case"emphasis":ha.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":ha.hoverState=HOVER_STATE_NORMAL;break;case"blur":ha.hoverState=HOVER_STATE_BLUR;break;case"select":ha.selected=!0}}function getFromStateStyle(ha,ua,Sa,ba){for(var ka=ha.style,_y={},Ty=0;Ty<ua.length;Ty++){var Ay=ua[Ty],Ey=ka[Ay];_y[Ay]=Ey??(ba&&ba[Ay])}for(var Ty=0;Ty<ha.animators.length;Ty++){var My=ha.animators[Ty];My.__fromStateTransition&&My.__fromStateTransition.indexOf(Sa)<0&&My.targetName==="style"&&My.saveTo(_y,ua)}return _y}function createEmphasisDefaultState(ha,ua,Sa,ba){var ka=Sa&&indexOf(Sa,"select")>=0,_y=!1;if(ha instanceof Path){var Ty=getSavedStates(ha),Ay=ka&&Ty.selectFill||Ty.normalFill,Ey=ka&&Ty.selectStroke||Ty.normalStroke;if(hasFillOrStroke(Ay)||hasFillOrStroke(Ey)){ba=ba||{};var My=ba.style||{};My.fill==="inherit"?(_y=!0,ba=extend({},ba),My=extend({},My),My.fill=Ay):!hasFillOrStroke(My.fill)&&hasFillOrStroke(Ay)?(_y=!0,ba=extend({},ba),My=extend({},My),My.fill=liftColor(Ay)):!hasFillOrStroke(My.stroke)&&hasFillOrStroke(Ey)&&(_y||(ba=extend({},ba),My=extend({},My)),My.stroke=liftColor(Ey)),ba.style=My}}if(ba&&ba.z2==null){_y||(ba=extend({},ba));var Dy=ha.z2EmphasisLift;ba.z2=ha.z2+(Dy??Z2_EMPHASIS_LIFT)}return ba}function createSelectDefaultState(ha,ua,Sa){if(Sa&&Sa.z2==null){Sa=extend({},Sa);var ba=ha.z2SelectLift;Sa.z2=ha.z2+(ba??Z2_SELECT_LIFT)}return Sa}function createBlurDefaultState(ha,ua,Sa){var ba=indexOf(ha.currentStates,ua)>=0,ka=ha.style.opacity,_y=ba?null:getFromStateStyle(ha,["opacity"],ua,{opacity:1});Sa=Sa||{};var Ty=Sa.style||{};return Ty.opacity==null&&(Sa=extend({},Sa),Ty=extend({opacity:ba?ka:_y.opacity*.1},Ty),Sa.style=Ty),Sa}function elementStateProxy(ha,ua){var Sa=this.states[ha];if(this.style){if(ha==="emphasis")return createEmphasisDefaultState(this,ha,ua,Sa);if(ha==="blur")return createBlurDefaultState(this,ha,Sa);if(ha==="select")return createSelectDefaultState(this,ha,Sa)}return Sa}function setDefaultStateProxy(ha){ha.stateProxy=elementStateProxy;var ua=ha.getTextContent(),Sa=ha.getTextGuideLine();ua&&(ua.stateProxy=elementStateProxy),Sa&&(Sa.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(ha,ua){!shouldSilent(ha,ua)&&!ha.__highByOuter&&traverseUpdateState(ha,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(ha,ua){!shouldSilent(ha,ua)&&!ha.__highByOuter&&traverseUpdateState(ha,singleLeaveEmphasis)}function enterEmphasis(ha,ua){ha.__highByOuter|=1<<(ua||0),traverseUpdateState(ha,singleEnterEmphasis)}function leaveEmphasis(ha,ua){!(ha.__highByOuter&=~(1<<(ua||0)))&&traverseUpdateState(ha,singleLeaveEmphasis)}function enterBlur(ha){traverseUpdateState(ha,singleEnterBlur)}function leaveBlur(ha){traverseUpdateState(ha,singleLeaveBlur)}function enterSelect(ha){traverseUpdateState(ha,singleEnterSelect)}function leaveSelect(ha){traverseUpdateState(ha,singleLeaveSelect)}function shouldSilent(ha,ua){return ha.__highDownSilentOnTouch&&ua.zrByTouch}function allLeaveBlur(ha){var ua=ha.getModel(),Sa=[],ba=[];ua.eachComponent(function(ka,_y){var Ty=getComponentStates(_y),Ay=ka==="series",Ey=Ay?ha.getViewOfSeriesModel(_y):ha.getViewOfComponentModel(_y);!Ay&&ba.push(Ey),Ty.isBlured&&(Ey.group.traverse(function(My){singleLeaveBlur(My)}),Ay&&Sa.push(_y)),Ty.isBlured=!1}),each$f(ba,function(ka){ka&&ka.toggleBlurSeries&&ka.toggleBlurSeries(Sa,!1,ua)})}function blurSeries(ha,ua,Sa,ba){var ka=ba.getModel();Sa=Sa||"coordinateSystem";function _y(My,Dy){for(var Iy=0;Iy<Dy.length;Iy++){var Ly=My.getItemGraphicEl(Dy[Iy]);Ly&&leaveBlur(Ly)}}if(ha!=null&&!(!ua||ua==="none")){var Ty=ka.getSeriesByIndex(ha),Ay=Ty.coordinateSystem;Ay&&Ay.master&&(Ay=Ay.master);var Ey=[];ka.eachSeries(function(My){var Dy=Ty===My,Iy=My.coordinateSystem;Iy&&Iy.master&&(Iy=Iy.master);var Ly=Iy&&Ay?Iy===Ay:Dy;if(!(Sa==="series"&&!Dy||Sa==="coordinateSystem"&&!Ly||ua==="series"&&Dy)){var Py=ba.getViewOfSeriesModel(My);if(Py.group.traverse(function(Ny){Ny.__highByOuter&&Dy&&ua==="self"||singleEnterBlur(Ny)}),isArrayLike(ua))_y(My.getData(),ua);else if(isObject$3(ua))for(var Ry=keys(ua),Vy=0;Vy<Ry.length;Vy++)_y(My.getData(Ry[Vy]),ua[Ry[Vy]]);Ey.push(My),getComponentStates(My).isBlured=!0}}),ka.eachComponent(function(My,Dy){if(My!=="series"){var Iy=ba.getViewOfComponentModel(Dy);Iy&&Iy.toggleBlurSeries&&Iy.toggleBlurSeries(Ey,!0,ka)}})}}function blurComponent(ha,ua,Sa){if(!(ha==null||ua==null)){var ba=Sa.getModel().getComponent(ha,ua);if(ba){getComponentStates(ba).isBlured=!0;var ka=Sa.getViewOfComponentModel(ba);!ka||!ka.focusBlurEnabled||ka.group.traverse(function(_y){singleEnterBlur(_y)})}}}function blurSeriesFromHighlightPayload(ha,ua,Sa){var ba=ha.seriesIndex,ka=ha.getData(ua.dataType);if(ka){var _y=queryDataIndex(ka,ua);_y=(isArray$1(_y)?_y[0]:_y)||0;var Ty=ka.getItemGraphicEl(_y);if(!Ty)for(var Ay=ka.count(),Ey=0;!Ty&&Ey<Ay;)Ty=ka.getItemGraphicEl(Ey++);if(Ty){var My=getECData(Ty);blurSeries(ba,My.focus,My.blurScope,Sa)}else{var Dy=ha.get(["emphasis","focus"]),Iy=ha.get(["emphasis","blurScope"]);Dy!=null&&blurSeries(ba,Dy,Iy,Sa)}}}function findComponentHighDownDispatchers(ha,ua,Sa,ba){var ka={focusSelf:!1,dispatchers:null};if(ha==null||ha==="series"||ua==null||Sa==null)return ka;var _y=ba.getModel().getComponent(ha,ua);if(!_y)return ka;var Ty=ba.getViewOfComponentModel(_y);if(!Ty||!Ty.findHighDownDispatchers)return ka;for(var Ay=Ty.findHighDownDispatchers(Sa),Ey,My=0;My<Ay.length;My++)if(getECData(Ay[My]).focus==="self"){Ey=!0;break}return{focusSelf:Ey,dispatchers:Ay}}function handleGlobalMouseOverForHighDown(ha,ua,Sa){var ba=getECData(ha),ka=findComponentHighDownDispatchers(ba.componentMainType,ba.componentIndex,ba.componentHighDownName,Sa),_y=ka.dispatchers,Ty=ka.focusSelf;_y?(Ty&&blurComponent(ba.componentMainType,ba.componentIndex,Sa),each$f(_y,function(Ay){return enterEmphasisWhenMouseOver(Ay,ua)})):(blurSeries(ba.seriesIndex,ba.focus,ba.blurScope,Sa),ba.focus==="self"&&blurComponent(ba.componentMainType,ba.componentIndex,Sa),enterEmphasisWhenMouseOver(ha,ua))}function handleGlobalMouseOutForHighDown(ha,ua,Sa){allLeaveBlur(Sa);var ba=getECData(ha),ka=findComponentHighDownDispatchers(ba.componentMainType,ba.componentIndex,ba.componentHighDownName,Sa).dispatchers;ka?each$f(ka,function(_y){return leaveEmphasisWhenMouseOut(_y,ua)}):leaveEmphasisWhenMouseOut(ha,ua)}function toggleSelectionFromPayload(ha,ua,Sa){if(isSelectChangePayload(ua)){var ba=ua.dataType,ka=ha.getData(ba),_y=queryDataIndex(ka,ua);isArray$1(_y)||(_y=[_y]),ha[ua.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":ua.type===SELECT_ACTION_TYPE?"select":"unselect"](_y,ba)}}function updateSeriesElementSelection(ha){var ua=ha.getAllData();each$f(ua,function(Sa){var ba=Sa.data,ka=Sa.type;ba.eachItemGraphicEl(function(_y,Ty){ha.isSelected(Ty,ka)?enterSelect(_y):leaveSelect(_y)})})}function getAllSelectedIndices(ha){var ua=[];return ha.eachSeries(function(Sa){var ba=Sa.getAllData();each$f(ba,function(ka){ka.data;var _y=ka.type,Ty=Sa.getSelectedDataIndices();if(Ty.length>0){var Ay={dataIndex:Ty,seriesIndex:Sa.seriesIndex};_y!=null&&(Ay.dataType=_y),ua.push(Ay)}})}),ua}function enableHoverEmphasis(ha,ua,Sa){setAsHighDownDispatcher(ha,!0),traverseUpdateState(ha,setDefaultStateProxy),enableHoverFocus(ha,ua,Sa)}function disableHoverEmphasis(ha){setAsHighDownDispatcher(ha,!1)}function toggleHoverEmphasis(ha,ua,Sa,ba){ba?disableHoverEmphasis(ha):enableHoverEmphasis(ha,ua,Sa)}function enableHoverFocus(ha,ua,Sa){var ba=getECData(ha);ua!=null?(ba.focus=ua,ba.blurScope=Sa):ba.focus&&(ba.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(ha,ua,Sa,ba){Sa=Sa||"itemStyle";for(var ka=0;ka<OTHER_STATES.length;ka++){var _y=OTHER_STATES[ka],Ty=ua.getModel([_y,Sa]),Ay=ha.ensureState(_y);Ay.style=ba?ba(Ty):Ty[defaultStyleGetterMap[Sa]]()}}function setAsHighDownDispatcher(ha,ua){var Sa=ua===!1,ba=ha;ha.highDownSilentOnTouch&&(ba.__highDownSilentOnTouch=ha.highDownSilentOnTouch),(!Sa||ba.__highDownDispatcher)&&(ba.__highByOuter=ba.__highByOuter||0,ba.__highDownDispatcher=!Sa)}function isHighDownDispatcher(ha){return!!(ha&&ha.__highDownDispatcher)}function enableComponentHighDownFeatures(ha,ua,Sa){var ba=getECData(ha);ba.componentMainType=ua.mainType,ba.componentIndex=ua.componentIndex,ba.componentHighDownName=Sa}function getHighlightDigit(ha){var ua=_highlightKeyMap[ha];return ua==null&&_highlightNextDigit<=32&&(ua=_highlightKeyMap[ha]=_highlightNextDigit++),ua}function isSelectChangePayload(ha){var ua=ha.type;return ua===SELECT_ACTION_TYPE||ua===UNSELECT_ACTION_TYPE||ua===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(ha){var ua=ha.type;return ua===HIGHLIGHT_ACTION_TYPE||ua===DOWNPLAY_ACTION_TYPE}function savePathStates(ha){var ua=getSavedStates(ha);ua.normalFill=ha.style.fill,ua.normalStroke=ha.style.stroke;var Sa=ha.states.select||{};ua.selectFill=Sa.style&&Sa.style.fill||null,ua.selectStroke=Sa.style&&Sa.style.stroke||null}var CMD$2=PathProxy.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(ha,ua){if(ua){var Sa=ha.data,ba=ha.len(),ka,_y,Ty,Ay,Ey,My,Dy=CMD$2.M,Iy=CMD$2.C,Ly=CMD$2.L,Py=CMD$2.R,Ry=CMD$2.A,Vy=CMD$2.Q;for(Ty=0,Ay=0;Ty<ba;){switch(ka=Sa[Ty++],Ay=Ty,_y=0,ka){case Dy:_y=1;break;case Ly:_y=1;break;case Iy:_y=3;break;case Vy:_y=2;break;case Ry:var Ny=ua[4],By=ua[5],Oy=mathSqrt$2(ua[0]*ua[0]+ua[1]*ua[1]),Fy=mathSqrt$2(ua[2]*ua[2]+ua[3]*ua[3]),zy=mathAtan2(-ua[1]/Fy,ua[0]/Oy);Sa[Ty]*=Oy,Sa[Ty++]+=Ny,Sa[Ty]*=Fy,Sa[Ty++]+=By,Sa[Ty++]*=Oy,Sa[Ty++]*=Fy,Sa[Ty++]+=zy,Sa[Ty++]+=zy,Ty+=2,Ay=Ty;break;case Py:My[0]=Sa[Ty++],My[1]=Sa[Ty++],applyTransform$1(My,My,ua),Sa[Ay++]=My[0],Sa[Ay++]=My[1],My[0]+=Sa[Ty++],My[1]+=Sa[Ty++],applyTransform$1(My,My,ua),Sa[Ay++]=My[0],Sa[Ay++]=My[1]}for(Ey=0;Ey<_y;Ey++){var Hy=points$2[Ey];Hy[0]=Sa[Ty++],Hy[1]=Sa[Ty++],applyTransform$1(Hy,Hy,ua),Sa[Ay++]=Hy[0],Sa[Ay++]=Hy[1]}}ha.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(ha){return Math.sqrt(ha[0]*ha[0]+ha[1]*ha[1])}function vRatio(ha,ua){return(ha[0]*ua[0]+ha[1]*ua[1])/(vMag(ha)*vMag(ua))}function vAngle(ha,ua){return(ha[0]*ua[1]<ha[1]*ua[0]?-1:1)*Math.acos(vRatio(ha,ua))}function processArc(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My,Dy){var Iy=Ey*(PI$7/180),Ly=mathCos$2(Iy)*(ha-Sa)/2+mathSin$2(Iy)*(ua-ba)/2,Py=-1*mathSin$2(Iy)*(ha-Sa)/2+mathCos$2(Iy)*(ua-ba)/2,Ry=Ly*Ly/(Ty*Ty)+Py*Py/(Ay*Ay);Ry>1&&(Ty*=mathSqrt$1(Ry),Ay*=mathSqrt$1(Ry));var Vy=(ka===_y?-1:1)*mathSqrt$1((Ty*Ty*(Ay*Ay)-Ty*Ty*(Py*Py)-Ay*Ay*(Ly*Ly))/(Ty*Ty*(Py*Py)+Ay*Ay*(Ly*Ly)))||0,Ny=Vy*Ty*Py/Ay,By=Vy*-Ay*Ly/Ty,Oy=(ha+Sa)/2+mathCos$2(Iy)*Ny-mathSin$2(Iy)*By,Fy=(ua+ba)/2+mathSin$2(Iy)*Ny+mathCos$2(Iy)*By,zy=vAngle([1,0],[(Ly-Ny)/Ty,(Py-By)/Ay]),Hy=[(Ly-Ny)/Ty,(Py-By)/Ay],Gy=[(-1*Ly-Ny)/Ty,(-1*Py-By)/Ay],Wy=vAngle(Hy,Gy);if(vRatio(Hy,Gy)<=-1&&(Wy=PI$7),vRatio(Hy,Gy)>=1&&(Wy=0),Wy<0){var Uy=Math.round(Wy/PI$7*1e6)/1e6;Wy=PI$7*2+Uy%2*PI$7}Dy.addData(My,Oy,Fy,Ty,Ay,zy,Wy,Iy,_y)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(ha){var ua=new PathProxy;if(!ha)return ua;var Sa=0,ba=0,ka=Sa,_y=ba,Ty,Ay=PathProxy.CMD,Ey=ha.match(commandReg);if(!Ey)return ua;for(var My=0;My<Ey.length;My++){for(var Dy=Ey[My],Iy=Dy.charAt(0),Ly=void 0,Py=Dy.match(numberReg$1)||[],Ry=Py.length,Vy=0;Vy<Ry;Vy++)Py[Vy]=parseFloat(Py[Vy]);for(var Ny=0;Ny<Ry;){var By=void 0,Oy=void 0,Fy=void 0,zy=void 0,Hy=void 0,Gy=void 0,Wy=void 0,Uy=Sa,Yy=ba,jy=void 0,Ky=void 0;switch(Iy){case"l":Sa+=Py[Ny++],ba+=Py[Ny++],Ly=Ay.L,ua.addData(Ly,Sa,ba);break;case"L":Sa=Py[Ny++],ba=Py[Ny++],Ly=Ay.L,ua.addData(Ly,Sa,ba);break;case"m":Sa+=Py[Ny++],ba+=Py[Ny++],Ly=Ay.M,ua.addData(Ly,Sa,ba),ka=Sa,_y=ba,Iy="l";break;case"M":Sa=Py[Ny++],ba=Py[Ny++],Ly=Ay.M,ua.addData(Ly,Sa,ba),ka=Sa,_y=ba,Iy="L";break;case"h":Sa+=Py[Ny++],Ly=Ay.L,ua.addData(Ly,Sa,ba);break;case"H":Sa=Py[Ny++],Ly=Ay.L,ua.addData(Ly,Sa,ba);break;case"v":ba+=Py[Ny++],Ly=Ay.L,ua.addData(Ly,Sa,ba);break;case"V":ba=Py[Ny++],Ly=Ay.L,ua.addData(Ly,Sa,ba);break;case"C":Ly=Ay.C,ua.addData(Ly,Py[Ny++],Py[Ny++],Py[Ny++],Py[Ny++],Py[Ny++],Py[Ny++]),Sa=Py[Ny-2],ba=Py[Ny-1];break;case"c":Ly=Ay.C,ua.addData(Ly,Py[Ny++]+Sa,Py[Ny++]+ba,Py[Ny++]+Sa,Py[Ny++]+ba,Py[Ny++]+Sa,Py[Ny++]+ba),Sa+=Py[Ny-2],ba+=Py[Ny-1];break;case"S":By=Sa,Oy=ba,jy=ua.len(),Ky=ua.data,Ty===Ay.C&&(By+=Sa-Ky[jy-4],Oy+=ba-Ky[jy-3]),Ly=Ay.C,Uy=Py[Ny++],Yy=Py[Ny++],Sa=Py[Ny++],ba=Py[Ny++],ua.addData(Ly,By,Oy,Uy,Yy,Sa,ba);break;case"s":By=Sa,Oy=ba,jy=ua.len(),Ky=ua.data,Ty===Ay.C&&(By+=Sa-Ky[jy-4],Oy+=ba-Ky[jy-3]),Ly=Ay.C,Uy=Sa+Py[Ny++],Yy=ba+Py[Ny++],Sa+=Py[Ny++],ba+=Py[Ny++],ua.addData(Ly,By,Oy,Uy,Yy,Sa,ba);break;case"Q":Uy=Py[Ny++],Yy=Py[Ny++],Sa=Py[Ny++],ba=Py[Ny++],Ly=Ay.Q,ua.addData(Ly,Uy,Yy,Sa,ba);break;case"q":Uy=Py[Ny++]+Sa,Yy=Py[Ny++]+ba,Sa+=Py[Ny++],ba+=Py[Ny++],Ly=Ay.Q,ua.addData(Ly,Uy,Yy,Sa,ba);break;case"T":By=Sa,Oy=ba,jy=ua.len(),Ky=ua.data,Ty===Ay.Q&&(By+=Sa-Ky[jy-4],Oy+=ba-Ky[jy-3]),Sa=Py[Ny++],ba=Py[Ny++],Ly=Ay.Q,ua.addData(Ly,By,Oy,Sa,ba);break;case"t":By=Sa,Oy=ba,jy=ua.len(),Ky=ua.data,Ty===Ay.Q&&(By+=Sa-Ky[jy-4],Oy+=ba-Ky[jy-3]),Sa+=Py[Ny++],ba+=Py[Ny++],Ly=Ay.Q,ua.addData(Ly,By,Oy,Sa,ba);break;case"A":Fy=Py[Ny++],zy=Py[Ny++],Hy=Py[Ny++],Gy=Py[Ny++],Wy=Py[Ny++],Uy=Sa,Yy=ba,Sa=Py[Ny++],ba=Py[Ny++],Ly=Ay.A,processArc(Uy,Yy,Sa,ba,Gy,Wy,Fy,zy,Hy,Ly,ua);break;case"a":Fy=Py[Ny++],zy=Py[Ny++],Hy=Py[Ny++],Gy=Py[Ny++],Wy=Py[Ny++],Uy=Sa,Yy=ba,Sa+=Py[Ny++],ba+=Py[Ny++],Ly=Ay.A,processArc(Uy,Yy,Sa,ba,Gy,Wy,Fy,zy,Hy,Ly,ua);break}}(Iy==="z"||Iy==="Z")&&(Ly=Ay.Z,ua.addData(Ly),Sa=ka,ba=_y),Ty=Ly}return ua.toStatic(),ua}var SVGPath=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.applyTransform=function(Sa){},ua}(Path);function isPathProxy(ha){return ha.setData!=null}function createPathOptions(ha,ua){var Sa=createPathProxyFromString(ha),ba=extend({},ua);return ba.buildPath=function(ka){if(isPathProxy(ka)){ka.setData(Sa.data);var _y=ka.getContext();_y&&ka.rebuildPath(_y,1)}else{var _y=ka;Sa.rebuildPath(_y,1)}},ba.applyTransform=function(ka){transformPath(Sa,ka),this.dirtyShape()},ba}function createFromString(ha,ua){return new SVGPath(createPathOptions(ha,ua))}function extendFromString(ha,ua){var Sa=createPathOptions(ha,ua),ba=function(ka){__extends(_y,ka);function _y(Ty){var Ay=ka.call(this,Ty)||this;return Ay.applyTransform=Sa.applyTransform,Ay.buildPath=Sa.buildPath,Ay}return _y}(SVGPath);return ba}function mergePath$1(ha,ua){for(var Sa=[],ba=ha.length,ka=0;ka<ba;ka++){var _y=ha[ka];Sa.push(_y.getUpdatedPathProxy(!0))}var Ty=new Path(ua);return Ty.createPathProxy(),Ty.buildPath=function(Ay){if(isPathProxy(Ay)){Ay.appendPath(Sa);var Ey=Ay.getContext();Ey&&Ay.rebuildPath(Ey,1)}},Ty}function clonePath(ha,ua){ua=ua||{};var Sa=new Path;return ha.shape&&Sa.setShape(ha.shape),Sa.setStyle(ha.style),ua.bakeTransform?transformPath(Sa.path,ha.getComputedTransform()):ua.toLocal?Sa.setLocalTransform(ha.getComputedTransform()):Sa.copyTransform(ha),Sa.buildPath=ha.buildPath,Sa.applyTransform=Sa.applyTransform,Sa.z=ha.z,Sa.z2=ha.z2,Sa.zlevel=ha.zlevel,Sa}var CircleShape=function(){function ha(){this.cx=0,this.cy=0,this.r=0}return ha}(),Circle=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultShape=function(){return new CircleShape},ua.prototype.buildPath=function(Sa,ba){Sa.moveTo(ba.cx+ba.r,ba.cy),Sa.arc(ba.cx,ba.cy,ba.r,0,Math.PI*2)},ua}(Path);Circle.prototype.type="circle";var EllipseShape=function(){function ha(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return ha}(),Ellipse=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultShape=function(){return new EllipseShape},ua.prototype.buildPath=function(Sa,ba){var ka=.5522848,_y=ba.cx,Ty=ba.cy,Ay=ba.rx,Ey=ba.ry,My=Ay*ka,Dy=Ey*ka;Sa.moveTo(_y-Ay,Ty),Sa.bezierCurveTo(_y-Ay,Ty-Dy,_y-My,Ty-Ey,_y,Ty-Ey),Sa.bezierCurveTo(_y+My,Ty-Ey,_y+Ay,Ty-Dy,_y+Ay,Ty),Sa.bezierCurveTo(_y+Ay,Ty+Dy,_y+My,Ty+Ey,_y,Ty+Ey),Sa.bezierCurveTo(_y-My,Ty+Ey,_y-Ay,Ty+Dy,_y-Ay,Ty),Sa.closePath()},ua}(Path);Ellipse.prototype.type="ellipse";var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e$1=1e-4;function intersect(ha,ua,Sa,ba,ka,_y,Ty,Ay){var Ey=Sa-ha,My=ba-ua,Dy=Ty-ka,Iy=Ay-_y,Ly=Iy*Ey-Dy*My;if(!(Ly*Ly<e$1))return Ly=(Dy*(ua-_y)-Iy*(ha-ka))/Ly,[ha+Ly*Ey,ua+Ly*My]}function computeCornerTangents(ha,ua,Sa,ba,ka,_y,Ty){var Ay=ha-Sa,Ey=ua-ba,My=(Ty?_y:-_y)/mathSqrt(Ay*Ay+Ey*Ey),Dy=My*Ey,Iy=-My*Ay,Ly=ha+Dy,Py=ua+Iy,Ry=Sa+Dy,Vy=ba+Iy,Ny=(Ly+Ry)/2,By=(Py+Vy)/2,Oy=Ry-Ly,Fy=Vy-Py,zy=Oy*Oy+Fy*Fy,Hy=ka-_y,Gy=Ly*Vy-Ry*Py,Wy=(Fy<0?-1:1)*mathSqrt(mathMax$7(0,Hy*Hy*zy-Gy*Gy)),Uy=(Gy*Fy-Oy*Wy)/zy,Yy=(-Gy*Oy-Fy*Wy)/zy,jy=(Gy*Fy+Oy*Wy)/zy,Ky=(-Gy*Oy+Fy*Wy)/zy,Xy=Uy-Ny,Zy=Yy-By,Jy=jy-Ny,t_=Ky-By;return Xy*Xy+Zy*Zy>Jy*Jy+t_*t_&&(Uy=jy,Yy=Ky),{cx:Uy,cy:Yy,x0:-Dy,y0:-Iy,x1:Uy*(ka/Hy-1),y1:Yy*(ka/Hy-1)}}function normalizeCornerRadius(ha){var ua;if(isArray$1(ha)){var Sa=ha.length;if(!Sa)return ha;Sa===1?ua=[ha[0],ha[0],0,0]:Sa===2?ua=[ha[0],ha[0],ha[1],ha[1]]:Sa===3?ua=ha.concat(ha[2]):ua=ha}else ua=[ha,ha,ha,ha];return ua}function buildPath$1(ha,ua){var Sa,ba=mathMax$7(ua.r,0),ka=mathMax$7(ua.r0||0,0),_y=ba>0,Ty=ka>0;if(!(!_y&&!Ty)){if(_y||(ba=ka,ka=0),ka>ba){var Ay=ba;ba=ka,ka=Ay}var Ey=ua.startAngle,My=ua.endAngle;if(!(isNaN(Ey)||isNaN(My))){var Dy=ua.cx,Iy=ua.cy,Ly=!!ua.clockwise,Py=mathAbs$1(My-Ey),Ry=Py>PI2$3&&Py%PI2$3;if(Ry>e$1&&(Py=Ry),!(ba>e$1))ha.moveTo(Dy,Iy);else if(Py>PI2$3-e$1)ha.moveTo(Dy+ba*mathCos$1(Ey),Iy+ba*mathSin$1(Ey)),ha.arc(Dy,Iy,ba,Ey,My,!Ly),ka>e$1&&(ha.moveTo(Dy+ka*mathCos$1(My),Iy+ka*mathSin$1(My)),ha.arc(Dy,Iy,ka,My,Ey,Ly));else{var Vy=void 0,Ny=void 0,By=void 0,Oy=void 0,Fy=void 0,zy=void 0,Hy=void 0,Gy=void 0,Wy=void 0,Uy=void 0,Yy=void 0,jy=void 0,Ky=void 0,Xy=void 0,Zy=void 0,Jy=void 0,t_=ba*mathCos$1(Ey),Qy=ba*mathSin$1(Ey),r_=ka*mathCos$1(My),i_=ka*mathSin$1(My),l_=Py>e$1;if(l_){var c_=ua.cornerRadius;c_&&(Sa=normalizeCornerRadius(c_),Vy=Sa[0],Ny=Sa[1],By=Sa[2],Oy=Sa[3]);var d_=mathAbs$1(ba-ka)/2;if(Fy=mathMin$7(d_,By),zy=mathMin$7(d_,Oy),Hy=mathMin$7(d_,Vy),Gy=mathMin$7(d_,Ny),Yy=Wy=mathMax$7(Fy,zy),jy=Uy=mathMax$7(Hy,Gy),(Wy>e$1||Uy>e$1)&&(Ky=ba*mathCos$1(My),Xy=ba*mathSin$1(My),Zy=ka*mathCos$1(Ey),Jy=ka*mathSin$1(Ey),Py<PI$6)){var f_=intersect(t_,Qy,Zy,Jy,Ky,Xy,r_,i_);if(f_){var m_=t_-f_[0],b_=Qy-f_[1],$_=Ky-f_[0],A_=Xy-f_[1],v_=1/mathSin$1(mathACos((m_*$_+b_*A_)/(mathSqrt(m_*m_+b_*b_)*mathSqrt($_*$_+A_*A_)))/2),g_=mathSqrt(f_[0]*f_[0]+f_[1]*f_[1]);Yy=mathMin$7(Wy,(ba-g_)/(v_+1)),jy=mathMin$7(Uy,(ka-g_)/(v_-1))}}}if(!l_)ha.moveTo(Dy+t_,Iy+Qy);else if(Yy>e$1){var p_=mathMin$7(By,Yy),o_=mathMin$7(Oy,Yy),n_=computeCornerTangents(Zy,Jy,t_,Qy,ba,p_,Ly),qy=computeCornerTangents(Ky,Xy,r_,i_,ba,o_,Ly);ha.moveTo(Dy+n_.cx+n_.x0,Iy+n_.cy+n_.y0),Yy<Wy&&p_===o_?ha.arc(Dy+n_.cx,Iy+n_.cy,Yy,mathATan2(n_.y0,n_.x0),mathATan2(qy.y0,qy.x0),!Ly):(p_>0&&ha.arc(Dy+n_.cx,Iy+n_.cy,p_,mathATan2(n_.y0,n_.x0),mathATan2(n_.y1,n_.x1),!Ly),ha.arc(Dy,Iy,ba,mathATan2(n_.cy+n_.y1,n_.cx+n_.x1),mathATan2(qy.cy+qy.y1,qy.cx+qy.x1),!Ly),o_>0&&ha.arc(Dy+qy.cx,Iy+qy.cy,o_,mathATan2(qy.y1,qy.x1),mathATan2(qy.y0,qy.x0),!Ly))}else ha.moveTo(Dy+t_,Iy+Qy),ha.arc(Dy,Iy,ba,Ey,My,!Ly);if(!(ka>e$1)||!l_)ha.lineTo(Dy+r_,Iy+i_);else if(jy>e$1){var p_=mathMin$7(Vy,jy),o_=mathMin$7(Ny,jy),n_=computeCornerTangents(r_,i_,Ky,Xy,ka,-o_,Ly),qy=computeCornerTangents(t_,Qy,Zy,Jy,ka,-p_,Ly);ha.lineTo(Dy+n_.cx+n_.x0,Iy+n_.cy+n_.y0),jy<Uy&&p_===o_?ha.arc(Dy+n_.cx,Iy+n_.cy,jy,mathATan2(n_.y0,n_.x0),mathATan2(qy.y0,qy.x0),!Ly):(o_>0&&ha.arc(Dy+n_.cx,Iy+n_.cy,o_,mathATan2(n_.y0,n_.x0),mathATan2(n_.y1,n_.x1),!Ly),ha.arc(Dy,Iy,ka,mathATan2(n_.cy+n_.y1,n_.cx+n_.x1),mathATan2(qy.cy+qy.y1,qy.cx+qy.x1),Ly),p_>0&&ha.arc(Dy+qy.cx,Iy+qy.cy,p_,mathATan2(qy.y1,qy.x1),mathATan2(qy.y0,qy.x0),!Ly))}else ha.lineTo(Dy+r_,Iy+i_),ha.arc(Dy,Iy,ka,My,Ey,Ly)}ha.closePath()}}}var SectorShape=function(){function ha(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return ha}(),Sector=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultShape=function(){return new SectorShape},ua.prototype.buildPath=function(Sa,ba){buildPath$1(Sa,ba)},ua.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},ua}(Path);Sector.prototype.type="sector";var RingShape=function(){function ha(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return ha}(),Ring=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultShape=function(){return new RingShape},ua.prototype.buildPath=function(Sa,ba){var ka=ba.cx,_y=ba.cy,Ty=Math.PI*2;Sa.moveTo(ka+ba.r,_y),Sa.arc(ka,_y,ba.r,0,Ty,!1),Sa.moveTo(ka+ba.r0,_y),Sa.arc(ka,_y,ba.r0,0,Ty,!0)},ua}(Path);Ring.prototype.type="ring";function smoothBezier(ha,ua,Sa,ba){var ka=[],_y=[],Ty=[],Ay=[],Ey,My,Dy,Iy;if(ba){Dy=[1/0,1/0],Iy=[-1/0,-1/0];for(var Ly=0,Py=ha.length;Ly<Py;Ly++)min$1(Dy,Dy,ha[Ly]),max$1(Iy,Iy,ha[Ly]);min$1(Dy,Dy,ba[0]),max$1(Iy,Iy,ba[1])}for(var Ly=0,Py=ha.length;Ly<Py;Ly++){var Ry=ha[Ly];if(Sa)Ey=ha[Ly?Ly-1:Py-1],My=ha[(Ly+1)%Py];else if(Ly===0||Ly===Py-1){ka.push(clone$3(ha[Ly]));continue}else Ey=ha[Ly-1],My=ha[Ly+1];sub(_y,My,Ey),scale$2(_y,_y,ua);var Vy=distance(Ry,Ey),Ny=distance(Ry,My),By=Vy+Ny;By!==0&&(Vy/=By,Ny/=By),scale$2(Ty,_y,-Vy),scale$2(Ay,_y,Ny);var Oy=add([],Ry,Ty),Fy=add([],Ry,Ay);ba&&(max$1(Oy,Oy,Dy),min$1(Oy,Oy,Iy),max$1(Fy,Fy,Dy),min$1(Fy,Fy,Iy)),ka.push(Oy),ka.push(Fy)}return Sa&&ka.push(ka.shift()),ka}function buildPath(ha,ua,Sa){var ba=ua.smooth,ka=ua.points;if(ka&&ka.length>=2){if(ba){var _y=smoothBezier(ka,ba,Sa,ua.smoothConstraint);ha.moveTo(ka[0][0],ka[0][1]);for(var Ty=ka.length,Ay=0;Ay<(Sa?Ty:Ty-1);Ay++){var Ey=_y[Ay*2],My=_y[Ay*2+1],Dy=ka[(Ay+1)%Ty];ha.bezierCurveTo(Ey[0],Ey[1],My[0],My[1],Dy[0],Dy[1])}}else{ha.moveTo(ka[0][0],ka[0][1]);for(var Ay=1,Iy=ka.length;Ay<Iy;Ay++)ha.lineTo(ka[Ay][0],ka[Ay][1])}Sa&&ha.closePath()}}var PolygonShape=function(){function ha(){this.points=null,this.smooth=0,this.smoothConstraint=null}return ha}(),Polygon=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultShape=function(){return new PolygonShape},ua.prototype.buildPath=function(Sa,ba){buildPath(Sa,ba,!0)},ua}(Path);Polygon.prototype.type="polygon";var PolylineShape=function(){function ha(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return ha}(),Polyline$1=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ua.prototype.getDefaultShape=function(){return new PolylineShape},ua.prototype.buildPath=function(Sa,ba){buildPath(Sa,ba,!1)},ua}(Path);Polyline$1.prototype.type="polyline";var subPixelOptimizeOutputShape={},LineShape=function(){function ha(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return ha}(),Line$1=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ua.prototype.getDefaultShape=function(){return new LineShape},ua.prototype.buildPath=function(Sa,ba){var ka,_y,Ty,Ay;if(this.subPixelOptimize){var Ey=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,ba,this.style);ka=Ey.x1,_y=Ey.y1,Ty=Ey.x2,Ay=Ey.y2}else ka=ba.x1,_y=ba.y1,Ty=ba.x2,Ay=ba.y2;var My=ba.percent;My!==0&&(Sa.moveTo(ka,_y),My<1&&(Ty=ka*(1-My)+Ty*My,Ay=_y*(1-My)+Ay*My),Sa.lineTo(Ty,Ay))},ua.prototype.pointAt=function(Sa){var ba=this.shape;return[ba.x1*(1-Sa)+ba.x2*Sa,ba.y1*(1-Sa)+ba.y2*Sa]},ua}(Path);Line$1.prototype.type="line";var out=[],BezierCurveShape=function(){function ha(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return ha}();function someVectorAt(ha,ua,Sa){var ba=ha.cpx2,ka=ha.cpy2;return ba!=null||ka!=null?[(Sa?cubicDerivativeAt:cubicAt)(ha.x1,ha.cpx1,ha.cpx2,ha.x2,ua),(Sa?cubicDerivativeAt:cubicAt)(ha.y1,ha.cpy1,ha.cpy2,ha.y2,ua)]:[(Sa?quadraticDerivativeAt:quadraticAt$1)(ha.x1,ha.cpx1,ha.x2,ua),(Sa?quadraticDerivativeAt:quadraticAt$1)(ha.y1,ha.cpy1,ha.y2,ua)]}var BezierCurve=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ua.prototype.getDefaultShape=function(){return new BezierCurveShape},ua.prototype.buildPath=function(Sa,ba){var ka=ba.x1,_y=ba.y1,Ty=ba.x2,Ay=ba.y2,Ey=ba.cpx1,My=ba.cpy1,Dy=ba.cpx2,Iy=ba.cpy2,Ly=ba.percent;Ly!==0&&(Sa.moveTo(ka,_y),Dy==null||Iy==null?(Ly<1&&(quadraticSubdivide(ka,Ey,Ty,Ly,out),Ey=out[1],Ty=out[2],quadraticSubdivide(_y,My,Ay,Ly,out),My=out[1],Ay=out[2]),Sa.quadraticCurveTo(Ey,My,Ty,Ay)):(Ly<1&&(cubicSubdivide(ka,Ey,Dy,Ty,Ly,out),Ey=out[1],Dy=out[2],Ty=out[3],cubicSubdivide(_y,My,Iy,Ay,Ly,out),My=out[1],Iy=out[2],Ay=out[3]),Sa.bezierCurveTo(Ey,My,Dy,Iy,Ty,Ay)))},ua.prototype.pointAt=function(Sa){return someVectorAt(this.shape,Sa,!1)},ua.prototype.tangentAt=function(Sa){var ba=someVectorAt(this.shape,Sa,!0);return normalize$3(ba,ba)},ua}(Path);BezierCurve.prototype.type="bezier-curve";var ArcShape=function(){function ha(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return ha}(),Arc=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ua.prototype.getDefaultShape=function(){return new ArcShape},ua.prototype.buildPath=function(Sa,ba){var ka=ba.cx,_y=ba.cy,Ty=Math.max(ba.r,0),Ay=ba.startAngle,Ey=ba.endAngle,My=ba.clockwise,Dy=Math.cos(Ay),Iy=Math.sin(Ay);Sa.moveTo(Dy*Ty+ka,Iy*Ty+_y),Sa.arc(ka,_y,Ty,Ay,Ey,!My)},ua}(Path);Arc.prototype.type="arc";var CompoundPath=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type="compound",Sa}return ua.prototype._updatePathDirty=function(){for(var Sa=this.shape.paths,ba=this.shapeChanged(),ka=0;ka<Sa.length;ka++)ba=ba||Sa[ka].shapeChanged();ba&&this.dirtyShape()},ua.prototype.beforeBrush=function(){this._updatePathDirty();for(var Sa=this.shape.paths||[],ba=this.getGlobalScale(),ka=0;ka<Sa.length;ka++)Sa[ka].path||Sa[ka].createPathProxy(),Sa[ka].path.setScale(ba[0],ba[1],Sa[ka].segmentIgnoreThreshold)},ua.prototype.buildPath=function(Sa,ba){for(var ka=ba.paths||[],_y=0;_y<ka.length;_y++)ka[_y].buildPath(Sa,ka[_y].shape,!0)},ua.prototype.afterBrush=function(){for(var Sa=this.shape.paths||[],ba=0;ba<Sa.length;ba++)Sa[ba].pathUpdated()},ua.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path.prototype.getBoundingRect.call(this)},ua}(Path),Gradient=function(){function ha(ua){this.colorStops=ua||[]}return ha.prototype.addColorStop=function(ua,Sa){this.colorStops.push({offset:ua,color:Sa})},ha}(),LinearGradient=function(ha){__extends(ua,ha);function ua(Sa,ba,ka,_y,Ty,Ay){var Ey=ha.call(this,Ty)||this;return Ey.x=Sa??0,Ey.y=ba??0,Ey.x2=ka??1,Ey.y2=_y??0,Ey.type="linear",Ey.global=Ay||!1,Ey}return ua}(Gradient),RadialGradient=function(ha){__extends(ua,ha);function ua(Sa,ba,ka,_y,Ty){var Ay=ha.call(this,_y)||this;return Ay.x=Sa??.5,Ay.y=ba??.5,Ay.r=ka??.5,Ay.type="radial",Ay.global=Ty||!1,Ay}return ua}(Gradient),extent=[0,0],extent2=[0,0],minTv=new Point,maxTv=new Point,OrientedBoundingRect=function(){function ha(ua,Sa){this._corners=[],this._axes=[],this._origin=[0,0];for(var ba=0;ba<4;ba++)this._corners[ba]=new Point;for(var ba=0;ba<2;ba++)this._axes[ba]=new Point;ua&&this.fromBoundingRect(ua,Sa)}return ha.prototype.fromBoundingRect=function(ua,Sa){var ba=this._corners,ka=this._axes,_y=ua.x,Ty=ua.y,Ay=_y+ua.width,Ey=Ty+ua.height;if(ba[0].set(_y,Ty),ba[1].set(Ay,Ty),ba[2].set(Ay,Ey),ba[3].set(_y,Ey),Sa)for(var My=0;My<4;My++)ba[My].transform(Sa);Point.sub(ka[0],ba[1],ba[0]),Point.sub(ka[1],ba[3],ba[0]),ka[0].normalize(),ka[1].normalize();for(var My=0;My<2;My++)this._origin[My]=ka[My].dot(ba[0])},ha.prototype.intersect=function(ua,Sa){var ba=!0,ka=!Sa;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,ua,minTv,maxTv,ka,1)&&(ba=!1,ka)||!this._intersectCheckOneSide(ua,this,minTv,maxTv,ka,-1)&&(ba=!1,ka)||ka||Point.copy(Sa,ba?minTv:maxTv),ba},ha.prototype._intersectCheckOneSide=function(ua,Sa,ba,ka,_y,Ty){for(var Ay=!0,Ey=0;Ey<2;Ey++){var My=this._axes[Ey];if(this._getProjMinMaxOnAxis(Ey,ua._corners,extent),this._getProjMinMaxOnAxis(Ey,Sa._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(Ay=!1,_y)return Ay;var Dy=Math.abs(extent2[0]-extent[1]),Iy=Math.abs(extent[0]-extent2[1]);Math.min(Dy,Iy)>ka.len()&&(Dy<Iy?Point.scale(ka,My,-Dy*Ty):Point.scale(ka,My,Iy*Ty))}else if(ba){var Dy=Math.abs(extent2[0]-extent[1]),Iy=Math.abs(extent[0]-extent2[1]);Math.min(Dy,Iy)<ba.len()&&(Dy<Iy?Point.scale(ba,My,Dy*Ty):Point.scale(ba,My,-Iy*Ty))}}return Ay},ha.prototype._getProjMinMaxOnAxis=function(ua,Sa,ba){for(var ka=this._axes[ua],_y=this._origin,Ty=Sa[0].dot(ka)+_y[ua],Ay=Ty,Ey=Ty,My=1;My<Sa.length;My++){var Dy=Sa[My].dot(ka)+_y[ua];Ay=Math.min(Dy,Ay),Ey=Math.max(Dy,Ey)}ba[0]=Ay,ba[1]=Ey},ha}(),m$1=[],IncrementalDisplayable=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.notClear=!0,Sa.incremental=!0,Sa._displayables=[],Sa._temporaryDisplayables=[],Sa._cursor=0,Sa}return ua.prototype.traverse=function(Sa,ba){Sa.call(ba,this)},ua.prototype.useStyle=function(){this.style={}},ua.prototype.getCursor=function(){return this._cursor},ua.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},ua.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},ua.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},ua.prototype.addDisplayable=function(Sa,ba){ba?this._temporaryDisplayables.push(Sa):this._displayables.push(Sa),this.markRedraw()},ua.prototype.addDisplayables=function(Sa,ba){ba=ba||!1;for(var ka=0;ka<Sa.length;ka++)this.addDisplayable(Sa[ka],ba)},ua.prototype.getDisplayables=function(){return this._displayables},ua.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},ua.prototype.eachPendingDisplayable=function(Sa){for(var ba=this._cursor;ba<this._displayables.length;ba++)Sa&&Sa(this._displayables[ba]);for(var ba=0;ba<this._temporaryDisplayables.length;ba++)Sa&&Sa(this._temporaryDisplayables[ba])},ua.prototype.update=function(){this.updateTransform();for(var Sa=this._cursor;Sa<this._displayables.length;Sa++){var ba=this._displayables[Sa];ba.parent=this,ba.update(),ba.parent=null}for(var Sa=0;Sa<this._temporaryDisplayables.length;Sa++){var ba=this._temporaryDisplayables[Sa];ba.parent=this,ba.update(),ba.parent=null}},ua.prototype.getBoundingRect=function(){if(!this._rect){for(var Sa=new BoundingRect(1/0,1/0,-1/0,-1/0),ba=0;ba<this._displayables.length;ba++){var ka=this._displayables[ba],_y=ka.getBoundingRect().clone();ka.needLocalTransform()&&_y.applyTransform(ka.getLocalTransform(m$1)),Sa.union(_y)}this._rect=Sa}return this._rect},ua.prototype.contain=function(Sa,ba){var ka=this.transformCoordToLocal(Sa,ba),_y=this.getBoundingRect();if(_y.contain(ka[0],ka[1]))for(var Ty=0;Ty<this._displayables.length;Ty++){var Ay=this._displayables[Ty];if(Ay.contain(Sa,ba))return!0}return!1},ua}(Displayable),transitionStore=makeInner();function getAnimationConfig(ha,ua,Sa,ba,ka){var _y;if(ua&&ua.ecModel){var Ty=ua.ecModel.getUpdatePayload();_y=Ty&&Ty.animation}var Ay=ua&&ua.isAnimationEnabled(),Ey=ha==="update";if(Ay){var My=void 0,Dy=void 0,Iy=void 0;ba?(My=retrieve2(ba.duration,200),Dy=retrieve2(ba.easing,"cubicOut"),Iy=0):(My=ua.getShallow(Ey?"animationDurationUpdate":"animationDuration"),Dy=ua.getShallow(Ey?"animationEasingUpdate":"animationEasing"),Iy=ua.getShallow(Ey?"animationDelayUpdate":"animationDelay")),_y&&(_y.duration!=null&&(My=_y.duration),_y.easing!=null&&(Dy=_y.easing),_y.delay!=null&&(Iy=_y.delay)),isFunction(Iy)&&(Iy=Iy(Sa,ka)),isFunction(My)&&(My=My(Sa));var Ly={duration:My||0,delay:Iy,easing:Dy};return Ly}else return null}function animateOrSetProps(ha,ua,Sa,ba,ka,_y,Ty){var Ay=!1,Ey;isFunction(ka)?(Ty=_y,_y=ka,ka=null):isObject$3(ka)&&(_y=ka.cb,Ty=ka.during,Ay=ka.isFrom,Ey=ka.removeOpt,ka=ka.dataIndex);var My=ha==="leave";My||ua.stopAnimation("leave");var Dy=getAnimationConfig(ha,ba,ka,My?Ey||{}:null,ba&&ba.getAnimationDelayParams?ba.getAnimationDelayParams(ua,ka):null);if(Dy&&Dy.duration>0){var Iy=Dy.duration,Ly=Dy.delay,Py=Dy.easing,Ry={duration:Iy,delay:Ly||0,easing:Py,done:_y,force:!!_y||!!Ty,setToFinal:!My,scope:ha,during:Ty};Ay?ua.animateFrom(Sa,Ry):ua.animateTo(Sa,Ry)}else ua.stopAnimation(),!Ay&&ua.attr(Sa),Ty&&Ty(1),_y&&_y()}function updateProps$1(ha,ua,Sa,ba,ka,_y){animateOrSetProps("update",ha,ua,Sa,ba,ka,_y)}function initProps(ha,ua,Sa,ba,ka,_y){animateOrSetProps("enter",ha,ua,Sa,ba,ka,_y)}function isElementRemoved(ha){if(!ha.__zr)return!0;for(var ua=0;ua<ha.animators.length;ua++){var Sa=ha.animators[ua];if(Sa.scope==="leave")return!0}return!1}function removeElement(ha,ua,Sa,ba,ka,_y){isElementRemoved(ha)||animateOrSetProps("leave",ha,ua,Sa,ba,ka,_y)}function fadeOutDisplayable(ha,ua,Sa,ba){ha.removeTextContent(),ha.removeTextGuideLine(),removeElement(ha,{style:{opacity:0}},ua,Sa,ba)}function removeElementWithFadeOut(ha,ua,Sa){function ba(){ha.parent&&ha.parent.remove(ha)}ha.isGroup?ha.traverse(function(ka){ka.isGroup||fadeOutDisplayable(ka,ua,Sa,ba)}):fadeOutDisplayable(ha,ua,Sa,ba)}function saveOldStyle(ha){transitionStore(ha).oldStyle=ha.style}function getOldStyle(ha){return transitionStore(ha).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(ha){return Path.extend(ha)}var extendPathFromString=extendFromString;function extendPath(ha,ua){return extendPathFromString(ha,ua)}function registerShape(ha,ua){_customShapeMap[ha]=ua}function getShapeClass(ha){if(_customShapeMap.hasOwnProperty(ha))return _customShapeMap[ha]}function makePath(ha,ua,Sa,ba){var ka=createFromString(ha,ua);return Sa&&(ba==="center"&&(Sa=centerGraphic(Sa,ka.getBoundingRect())),resizePath(ka,Sa)),ka}function makeImage(ha,ua,Sa){var ba=new ZRImage({style:{image:ha,x:ua.x,y:ua.y,width:ua.width,height:ua.height},onload:function(ka){if(Sa==="center"){var _y={width:ka.width,height:ka.height};ba.setStyle(centerGraphic(ua,_y))}}});return ba}function centerGraphic(ha,ua){var Sa=ua.width/ua.height,ba=ha.height*Sa,ka;ba<=ha.width?ka=ha.height:(ba=ha.width,ka=ba/Sa);var _y=ha.x+ha.width/2,Ty=ha.y+ha.height/2;return{x:_y-ba/2,y:Ty-ka/2,width:ba,height:ka}}var mergePath=mergePath$1;function resizePath(ha,ua){if(ha.applyTransform){var Sa=ha.getBoundingRect(),ba=Sa.calculateTransform(ua);ha.applyTransform(ba)}}function subPixelOptimizeLine(ha,ua){return subPixelOptimizeLine$1(ha,ha,{lineWidth:ua}),ha}function subPixelOptimizeRect(ha){return subPixelOptimizeRect$1(ha.shape,ha.shape,ha.style),ha}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(ha,ua){for(var Sa=identity([]);ha&&ha!==ua;)mul(Sa,ha.getLocalTransform(),Sa),ha=ha.parent;return Sa}function applyTransform(ha,ua,Sa){return ua&&!isArrayLike(ua)&&(ua=Transformable.getLocalTransform(ua)),Sa&&(ua=invert([],ua)),applyTransform$1([],ha,ua)}function transformDirection(ha,ua,Sa){var ba=ua[4]===0||ua[5]===0||ua[0]===0?1:Math.abs(2*ua[4]/ua[0]),ka=ua[4]===0||ua[5]===0||ua[2]===0?1:Math.abs(2*ua[4]/ua[2]),_y=[ha==="left"?-ba:ha==="right"?ba:0,ha==="top"?-ka:ha==="bottom"?ka:0];return _y=applyTransform(_y,ua,Sa),Math.abs(_y[0])>Math.abs(_y[1])?_y[0]>0?"right":"left":_y[1]>0?"bottom":"top"}function isNotGroup(ha){return!ha.isGroup}function isPath$1(ha){return ha.shape!=null}function groupTransition(ha,ua,Sa){if(!ha||!ua)return;function ba(Ty){var Ay={};return Ty.traverse(function(Ey){isNotGroup(Ey)&&Ey.anid&&(Ay[Ey.anid]=Ey)}),Ay}function ka(Ty){var Ay={x:Ty.x,y:Ty.y,rotation:Ty.rotation};return isPath$1(Ty)&&(Ay.shape=extend({},Ty.shape)),Ay}var _y=ba(ha);ua.traverse(function(Ty){if(isNotGroup(Ty)&&Ty.anid){var Ay=_y[Ty.anid];if(Ay){var Ey=ka(Ty);Ty.attr(ka(Ay)),updateProps$1(Ty,Ey,Sa,getECData(Ty).dataIndex)}}})}function clipPointsByRect(ha,ua){return map$1(ha,function(Sa){var ba=Sa[0];ba=mathMax$6(ba,ua.x),ba=mathMin$6(ba,ua.x+ua.width);var ka=Sa[1];return ka=mathMax$6(ka,ua.y),ka=mathMin$6(ka,ua.y+ua.height),[ba,ka]})}function clipRectByRect(ha,ua){var Sa=mathMax$6(ha.x,ua.x),ba=mathMin$6(ha.x+ha.width,ua.x+ua.width),ka=mathMax$6(ha.y,ua.y),_y=mathMin$6(ha.y+ha.height,ua.y+ua.height);if(ba>=Sa&&_y>=ka)return{x:Sa,y:ka,width:ba-Sa,height:_y-ka}}function createIcon(ha,ua,Sa){var ba=extend({rectHover:!0},ua),ka=ba.style={strokeNoScale:!0};if(Sa=Sa||{x:-1,y:-1,width:2,height:2},ha)return ha.indexOf("image://")===0?(ka.image=ha.slice(8),defaults(ka,Sa),new ZRImage(ba)):makePath(ha.replace("path://",""),ba,Sa,"center")}function linePolygonIntersect(ha,ua,Sa,ba,ka){for(var _y=0,Ty=ka[ka.length-1];_y<ka.length;_y++){var Ay=ka[_y];if(lineLineIntersect$1(ha,ua,Sa,ba,Ay[0],Ay[1],Ty[0],Ty[1]))return!0;Ty=Ay}}function lineLineIntersect$1(ha,ua,Sa,ba,ka,_y,Ty,Ay){var Ey=Sa-ha,My=ba-ua,Dy=Ty-ka,Iy=Ay-_y,Ly=crossProduct2d$1(Dy,Iy,Ey,My);if(nearZero(Ly))return!1;var Py=ha-ka,Ry=ua-_y,Vy=crossProduct2d$1(Py,Ry,Ey,My)/Ly;if(Vy<0||Vy>1)return!1;var Ny=crossProduct2d$1(Py,Ry,Dy,Iy)/Ly;return!(Ny<0||Ny>1)}function crossProduct2d$1(ha,ua,Sa,ba){return ha*ba-Sa*ua}function nearZero(ha){return ha<=1e-6&&ha>=-1e-6}function setTooltipConfig(ha){var ua=ha.itemTooltipOption,Sa=ha.componentModel,ba=ha.itemName,ka=isString(ua)?{formatter:ua}:ua,_y=Sa.mainType,Ty=Sa.componentIndex,Ay={componentType:_y,name:ba,$vars:["name"]};Ay[_y+"Index"]=Ty;var Ey=ha.formatterParamsExtra;Ey&&each$f(keys(Ey),function(Dy){hasOwn(Ay,Dy)||(Ay[Dy]=Ey[Dy],Ay.$vars.push(Dy))});var My=getECData(ha.el);My.componentMainType=_y,My.componentIndex=Ty,My.tooltipConfig={name:ba,option:defaults({content:ba,encodeHTMLContent:!0,formatterParams:Ay},ka)}}function traverseElement(ha,ua){var Sa;ha.isGroup&&(Sa=ua(ha)),Sa||ha.traverse(ua)}function traverseElements(ha,ua){if(ha)if(isArray$1(ha))for(var Sa=0;Sa<ha.length;Sa++)traverseElement(ha[Sa],ua);else traverseElement(ha,ua)}registerShape("circle",Circle);registerShape("ellipse",Ellipse);registerShape("sector",Sector);registerShape("ring",Ring);registerShape("polygon",Polygon);registerShape("polyline",Polyline$1);registerShape("rect",Rect$2);registerShape("line",Line$1);registerShape("bezierCurve",BezierCurve);registerShape("arc",Arc);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc,BezierCurve,BoundingRect,Circle,CompoundPath,Ellipse,Group:Group$3,Image:ZRImage,IncrementalDisplayable,Line:Line$1,LinearGradient,OrientedBoundingRect,Path,Point,Polygon,Polyline:Polyline$1,RadialGradient,Rect:Rect$2,Ring,Sector,Text:ZRText,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,groupTransition,initProps,isElementRemoved,lineLineIntersect:lineLineIntersect$1,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(ha,ua){for(var Sa=0;Sa<SPECIAL_STATES.length;Sa++){var ba=SPECIAL_STATES[Sa],ka=ua[ba],_y=ha.ensureState(ba);_y.style=_y.style||{},_y.style.text=ka}var Ty=ha.currentStates.slice();ha.clearStates(!0),ha.setStyle({text:ua.normal}),ha.useStates(Ty,!0)}function getLabelText(ha,ua,Sa){var ba=ha.labelFetcher,ka=ha.labelDataIndex,_y=ha.labelDimIndex,Ty=ua.normal,Ay;ba&&(Ay=ba.getFormattedLabel(ka,"normal",null,_y,Ty&&Ty.get("formatter"),Sa!=null?{interpolatedValue:Sa}:null)),Ay==null&&(Ay=isFunction(ha.defaultText)?ha.defaultText(ka,ha,Sa):ha.defaultText);for(var Ey={normal:Ay},My=0;My<SPECIAL_STATES.length;My++){var Dy=SPECIAL_STATES[My],Iy=ua[Dy];Ey[Dy]=retrieve2(ba?ba.getFormattedLabel(ka,Dy,null,_y,Iy&&Iy.get("formatter")):null,Ay)}return Ey}function setLabelStyle(ha,ua,Sa,ba){Sa=Sa||EMPTY_OBJ;for(var ka=ha instanceof ZRText,_y=!1,Ty=0;Ty<DISPLAY_STATES.length;Ty++){var Ay=ua[DISPLAY_STATES[Ty]];if(Ay&&Ay.getShallow("show")){_y=!0;break}}var Ey=ka?ha:ha.getTextContent();if(_y){ka||(Ey||(Ey=new ZRText,ha.setTextContent(Ey)),ha.stateProxy&&(Ey.stateProxy=ha.stateProxy));var My=getLabelText(Sa,ua),Dy=ua.normal,Iy=!!Dy.getShallow("show"),Ly=createTextStyle(Dy,ba&&ba.normal,Sa,!1,!ka);Ly.text=My.normal,ka||ha.setTextConfig(createTextConfig(Dy,Sa,!1));for(var Ty=0;Ty<SPECIAL_STATES.length;Ty++){var Py=SPECIAL_STATES[Ty],Ay=ua[Py];if(Ay){var Ry=Ey.ensureState(Py),Vy=!!retrieve2(Ay.getShallow("show"),Iy);if(Vy!==Iy&&(Ry.ignore=!Vy),Ry.style=createTextStyle(Ay,ba&&ba[Py],Sa,!0,!ka),Ry.style.text=My[Py],!ka){var Ny=ha.ensureState(Py);Ny.textConfig=createTextConfig(Ay,Sa,!0)}}}Ey.silent=!!Dy.getShallow("silent"),Ey.style.x!=null&&(Ly.x=Ey.style.x),Ey.style.y!=null&&(Ly.y=Ey.style.y),Ey.ignore=!Iy,Ey.useStyle(Ly),Ey.dirty(),Sa.enableTextSetter&&(labelInner(Ey).setLabelText=function(By){var Oy=getLabelText(Sa,ua,By);setLabelText(Ey,Oy)})}else Ey&&(Ey.ignore=!0);ha.dirty()}function getLabelStatesModels(ha,ua){ua=ua||"label";for(var Sa={normal:ha.getModel(ua)},ba=0;ba<SPECIAL_STATES.length;ba++){var ka=SPECIAL_STATES[ba];Sa[ka]=ha.getModel([ka,ua])}return Sa}function createTextStyle(ha,ua,Sa,ba,ka){var _y={};return setTextStyleCommon(_y,ha,Sa,ba,ka),ua&&extend(_y,ua),_y}function createTextConfig(ha,ua,Sa){ua=ua||{};var ba={},ka,_y=ha.getShallow("rotate"),Ty=retrieve2(ha.getShallow("distance"),Sa?null:5),Ay=ha.getShallow("offset");return ka=ha.getShallow("position")||(Sa?null:"inside"),ka==="outside"&&(ka=ua.defaultOutsidePosition||"top"),ka!=null&&(ba.position=ka),Ay!=null&&(ba.offset=Ay),_y!=null&&(_y*=Math.PI/180,ba.rotation=_y),Ty!=null&&(ba.distance=Ty),ba.outsideFill=ha.get("color")==="inherit"?ua.inheritColor||null:"auto",ba}function setTextStyleCommon(ha,ua,Sa,ba,ka){Sa=Sa||EMPTY_OBJ;var _y=ua.ecModel,Ty=_y&&_y.option.textStyle,Ay=getRichItemNames(ua),Ey;if(Ay){Ey={};for(var My in Ay)if(Ay.hasOwnProperty(My)){var Dy=ua.getModel(["rich",My]);setTokenTextStyle(Ey[My]={},Dy,Ty,Sa,ba,ka,!1,!0)}}Ey&&(ha.rich=Ey);var Iy=ua.get("overflow");Iy&&(ha.overflow=Iy);var Ly=ua.get("minMargin");Ly!=null&&(ha.margin=Ly),setTokenTextStyle(ha,ua,Ty,Sa,ba,ka,!0,!1)}function getRichItemNames(ha){for(var ua;ha&&ha!==ha.ecModel;){var Sa=(ha.option||EMPTY_OBJ).rich;if(Sa){ua=ua||{};for(var ba=keys(Sa),ka=0;ka<ba.length;ka++){var _y=ba[ka];ua[_y]=1}}ha=ha.parentModel}return ua}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(ha,ua,Sa,ba,ka,_y,Ty,Ay){Sa=!ka&&Sa||EMPTY_OBJ;var Ey=ba&&ba.inheritColor,My=ua.getShallow("color"),Dy=ua.getShallow("textBorderColor"),Iy=retrieve2(ua.getShallow("opacity"),Sa.opacity);(My==="inherit"||My==="auto")&&(Ey?My=Ey:My=null),(Dy==="inherit"||Dy==="auto")&&(Ey?Dy=Ey:Dy=null),_y||(My=My||Sa.color,Dy=Dy||Sa.textBorderColor),My!=null&&(ha.fill=My),Dy!=null&&(ha.stroke=Dy);var Ly=retrieve2(ua.getShallow("textBorderWidth"),Sa.textBorderWidth);Ly!=null&&(ha.lineWidth=Ly);var Py=retrieve2(ua.getShallow("textBorderType"),Sa.textBorderType);Py!=null&&(ha.lineDash=Py);var Ry=retrieve2(ua.getShallow("textBorderDashOffset"),Sa.textBorderDashOffset);Ry!=null&&(ha.lineDashOffset=Ry),!ka&&Iy==null&&!Ay&&(Iy=ba&&ba.defaultOpacity),Iy!=null&&(ha.opacity=Iy),!ka&&!_y&&ha.fill==null&&ba.inheritColor&&(ha.fill=ba.inheritColor);for(var Vy=0;Vy<TEXT_PROPS_WITH_GLOBAL.length;Vy++){var Ny=TEXT_PROPS_WITH_GLOBAL[Vy],By=retrieve2(ua.getShallow(Ny),Sa[Ny]);By!=null&&(ha[Ny]=By)}for(var Vy=0;Vy<TEXT_PROPS_SELF.length;Vy++){var Ny=TEXT_PROPS_SELF[Vy],By=ua.getShallow(Ny);By!=null&&(ha[Ny]=By)}if(ha.verticalAlign==null){var Oy=ua.getShallow("baseline");Oy!=null&&(ha.verticalAlign=Oy)}if(!Ty||!ba.disableBox){for(var Vy=0;Vy<TEXT_PROPS_BOX.length;Vy++){var Ny=TEXT_PROPS_BOX[Vy],By=ua.getShallow(Ny);By!=null&&(ha[Ny]=By)}var Fy=ua.getShallow("borderType");Fy!=null&&(ha.borderDash=Fy),(ha.backgroundColor==="auto"||ha.backgroundColor==="inherit")&&Ey&&(ha.backgroundColor=Ey),(ha.borderColor==="auto"||ha.borderColor==="inherit")&&Ey&&(ha.borderColor=Ey)}}function getFont(ha,ua){var Sa=ua&&ua.getModel("textStyle");return trim$1([ha.fontStyle||Sa&&Sa.getShallow("fontStyle")||"",ha.fontWeight||Sa&&Sa.getShallow("fontWeight")||"",(ha.fontSize||Sa&&Sa.getShallow("fontSize")||12)+"px",ha.fontFamily||Sa&&Sa.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(ha,ua,Sa,ba){if(ha){var ka=labelInner(ha);ka.prevValue=ka.value,ka.value=Sa;var _y=ua.normal;ka.valueAnimation=_y.get("valueAnimation"),ka.valueAnimation&&(ka.precision=_y.get("precision"),ka.defaultInterpolatedText=ba,ka.statesModels=ua)}}function animateLabelValue(ha,ua,Sa,ba,ka){var _y=labelInner(ha);if(!_y.valueAnimation||_y.prevValue===_y.value)return;var Ty=_y.defaultInterpolatedText,Ay=retrieve2(_y.interpolatedValue,_y.prevValue),Ey=_y.value;function My(Dy){var Iy=interpolateRawValues(Sa,_y.precision,Ay,Ey,Dy);_y.interpolatedValue=Dy===1?null:Iy;var Ly=getLabelText({labelDataIndex:ua,labelFetcher:ka,defaultText:Ty?Ty(Iy):Iy+""},_y.statesModels,Iy);setLabelText(ha,Ly)}ha.percent=0,(_y.prevValue==null?initProps:updateProps$1)(ha,{percent:1},ba,ua,null,My)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText,TextStyleMixin=function(){function ha(){}return ha.prototype.getTextColor=function(ua){var Sa=this.ecModel;return this.getShallow("color")||(!ua&&Sa?Sa.get(PATH_COLOR):null)},ha.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},ha.prototype.getTextRect=function(ua){for(var Sa={text:ua,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},ba=0;ba<textStyleParams.length;ba++)Sa[textStyleParams[ba]]=this.getShallow(textStyleParams[ba]);return tmpText.useStyle(Sa),tmpText.update(),tmpText.getBoundingRect()},ha}(),LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function ha(){}return ha.prototype.getLineStyle=function(ua){return getLineStyle(this,ua)},ha}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function ha(){}return ha.prototype.getItemStyle=function(ua,Sa){return getItemStyle(this,ua,Sa)},ha}(),Model=function(){function ha(ua,Sa,ba){this.parentModel=Sa,this.ecModel=ba,this.option=ua}return ha.prototype.init=function(ua,Sa,ba){},ha.prototype.mergeOption=function(ua,Sa){merge(this.option,ua,!0)},ha.prototype.get=function(ua,Sa){return ua==null?this.option:this._doGet(this.parsePath(ua),!Sa&&this.parentModel)},ha.prototype.getShallow=function(ua,Sa){var ba=this.option,ka=ba==null?ba:ba[ua];if(ka==null&&!Sa){var _y=this.parentModel;_y&&(ka=_y.getShallow(ua))}return ka},ha.prototype.getModel=function(ua,Sa){var ba=ua!=null,ka=ba?this.parsePath(ua):null,_y=ba?this._doGet(ka):this.option;return Sa=Sa||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(ka)),new ha(_y,Sa,this.ecModel)},ha.prototype.isEmpty=function(){return this.option==null},ha.prototype.restoreData=function(){},ha.prototype.clone=function(){var ua=this.constructor;return new ua(clone$4(this.option))},ha.prototype.parsePath=function(ua){return typeof ua=="string"?ua.split("."):ua},ha.prototype.resolveParentPath=function(ua){return ua},ha.prototype.isAnimationEnabled=function(){if(!env.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},ha.prototype._doGet=function(ua,Sa){var ba=this.option;if(!ua)return ba;for(var ka=0;ka<ua.length&&!(ua[ka]&&(ba=ba&&typeof ba=="object"?ba[ua[ka]]:null,ba==null));ka++);return ba==null&&Sa&&(ba=Sa._doGet(this.resolveParentPath(ua),Sa.parentModel)),ba},ha}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin);var base=Math.round(Math.random()*10);function getUID(ha){return[ha||"",base++].join("_")}function enableSubTypeDefaulter(ha){var ua={};ha.registerSubTypeDefaulter=function(Sa,ba){var ka=parseClassType(Sa);ua[ka.main]=ba},ha.determineSubType=function(Sa,ba){var ka=ba.type;if(!ka){var _y=parseClassType(Sa).main;ha.hasSubTypes(Sa)&&ua[_y]&&(ka=ua[_y](ba))}return ka}}function enableTopologicalTravel(ha,ua){ha.topologicalTravel=function(_y,Ty,Ay,Ey){if(!_y.length)return;var My=Sa(Ty),Dy=My.graph,Iy=My.noEntryList,Ly={};for(each$f(_y,function(Oy){Ly[Oy]=!0});Iy.length;){var Py=Iy.pop(),Ry=Dy[Py],Vy=!!Ly[Py];Vy&&(Ay.call(Ey,Py,Ry.originalDeps.slice()),delete Ly[Py]),each$f(Ry.successor,Vy?By:Ny)}each$f(Ly,function(){var Oy="";throw new Error(Oy)});function Ny(Oy){Dy[Oy].entryCount--,Dy[Oy].entryCount===0&&Iy.push(Oy)}function By(Oy){Ly[Oy]=!0,Ny(Oy)}};function Sa(_y){var Ty={},Ay=[];return each$f(_y,function(Ey){var My=ba(Ty,Ey),Dy=My.originalDeps=ua(Ey),Iy=ka(Dy,_y);My.entryCount=Iy.length,My.entryCount===0&&Ay.push(Ey),each$f(Iy,function(Ly){indexOf(My.predecessor,Ly)<0&&My.predecessor.push(Ly);var Py=ba(Ty,Ly);indexOf(Py.successor,Ly)<0&&Py.successor.push(Ey)})}),{graph:Ty,noEntryList:Ay}}function ba(_y,Ty){return _y[Ty]||(_y[Ty]={predecessor:[],successor:[]}),_y[Ty]}function ka(_y,Ty){var Ay=[];return each$f(_y,function(Ey){indexOf(Ty,Ey)>=0&&Ay.push(Ey)}),Ay}}function inheritDefaultOption(ha,ua){return merge(merge({},ha,!0),ua,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env.domSupported?function(){var ha=(document.documentElement.lang||navigator.language||navigator.browserLanguage||DEFAULT_LOCALE).toUpperCase();return ha.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(ha,ua){ha=ha.toUpperCase(),localeModels[ha]=new Model(ua),localeStorage[ha]=ua}function createLocaleObject(ha){if(isString(ha)){var ua=localeStorage[ha.toUpperCase()]||{};return ha===LOCALE_ZH||ha===LOCALE_EN?clone$4(ua):merge(clone$4(ua),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4(ha),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(ha){return localeModels[ha]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(ha,ua){return ha+="","0000".substr(0,ua-ha.length)+ha}function getPrimaryTimeUnit(ha){switch(ha){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return ha}}function isPrimaryTimeUnit(ha){return ha===getPrimaryTimeUnit(ha)}function getDefaultFormatPrecisionOfInterval(ha){switch(ha){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(ha,ua,Sa,ba){var ka=parseDate(ha),_y=ka[fullYearGetterName(Sa)](),Ty=ka[monthGetterName(Sa)]()+1,Ay=Math.floor((Ty-1)/3)+1,Ey=ka[dateGetterName(Sa)](),My=ka["get"+(Sa?"UTC":"")+"Day"](),Dy=ka[hoursGetterName(Sa)](),Iy=(Dy-1)%12+1,Ly=ka[minutesGetterName(Sa)](),Py=ka[secondsGetterName(Sa)](),Ry=ka[millisecondsGetterName(Sa)](),Vy=Dy>=12?"pm":"am",Ny=Vy.toUpperCase(),By=ba instanceof Model?ba:getLocaleModel(ba||SYSTEM_LANG)||getDefaultLocaleModel(),Oy=By.getModel("time"),Fy=Oy.get("month"),zy=Oy.get("monthAbbr"),Hy=Oy.get("dayOfWeek"),Gy=Oy.get("dayOfWeekAbbr");return(ua||"").replace(/{a}/g,Vy+"").replace(/{A}/g,Ny+"").replace(/{yyyy}/g,_y+"").replace(/{yy}/g,pad(_y%100+"",2)).replace(/{Q}/g,Ay+"").replace(/{MMMM}/g,Fy[Ty-1]).replace(/{MMM}/g,zy[Ty-1]).replace(/{MM}/g,pad(Ty,2)).replace(/{M}/g,Ty+"").replace(/{dd}/g,pad(Ey,2)).replace(/{d}/g,Ey+"").replace(/{eeee}/g,Hy[My]).replace(/{ee}/g,Gy[My]).replace(/{e}/g,My+"").replace(/{HH}/g,pad(Dy,2)).replace(/{H}/g,Dy+"").replace(/{hh}/g,pad(Iy+"",2)).replace(/{h}/g,Iy+"").replace(/{mm}/g,pad(Ly,2)).replace(/{m}/g,Ly+"").replace(/{ss}/g,pad(Py,2)).replace(/{s}/g,Py+"").replace(/{SSS}/g,pad(Ry,3)).replace(/{S}/g,Ry+"")}function leveledFormat(ha,ua,Sa,ba,ka){var _y=null;if(isString(Sa))_y=Sa;else if(isFunction(Sa))_y=Sa(ha.value,ua,{level:ha.level});else{var Ty=extend({},defaultLeveledFormatter);if(ha.level>0)for(var Ay=0;Ay<primaryTimeUnits.length;++Ay)Ty[primaryTimeUnits[Ay]]="{primary|"+Ty[primaryTimeUnits[Ay]]+"}";var Ey=Sa?Sa.inherit===!1?Sa:defaults(Sa,Ty):Ty,My=getUnitFromValue(ha.value,ka);if(Ey[My])_y=Ey[My];else if(Ey.inherit){for(var Dy=timeUnits.indexOf(My),Ay=Dy-1;Ay>=0;--Ay)if(Ey[My]){_y=Ey[My];break}_y=_y||Ty.none}if(isArray$1(_y)){var Iy=ha.level==null?0:ha.level>=0?ha.level:_y.length+ha.level;Iy=Math.min(Iy,_y.length-1),_y=_y[Iy]}}return format(new Date(ha.value),_y,ka,ba)}function getUnitFromValue(ha,ua){var Sa=parseDate(ha),ba=Sa[monthGetterName(ua)]()+1,ka=Sa[dateGetterName(ua)](),_y=Sa[hoursGetterName(ua)](),Ty=Sa[minutesGetterName(ua)](),Ay=Sa[secondsGetterName(ua)](),Ey=Sa[millisecondsGetterName(ua)](),My=Ey===0,Dy=My&&Ay===0,Iy=Dy&&Ty===0,Ly=Iy&&_y===0,Py=Ly&&ka===1,Ry=Py&&ba===1;return Ry?"year":Py?"month":Ly?"day":Iy?"hour":Dy?"minute":My?"second":"millisecond"}function getUnitValue(ha,ua,Sa){var ba=isNumber(ha)?parseDate(ha):ha;switch(ua=ua||getUnitFromValue(ha,Sa),ua){case"year":return ba[fullYearGetterName(Sa)]();case"half-year":return ba[monthGetterName(Sa)]()>=6?1:0;case"quarter":return Math.floor((ba[monthGetterName(Sa)]()+1)/4);case"month":return ba[monthGetterName(Sa)]();case"day":return ba[dateGetterName(Sa)]();case"half-day":return ba[hoursGetterName(Sa)]()/24;case"hour":return ba[hoursGetterName(Sa)]();case"minute":return ba[minutesGetterName(Sa)]();case"second":return ba[secondsGetterName(Sa)]();case"millisecond":return ba[millisecondsGetterName(Sa)]()}}function fullYearGetterName(ha){return ha?"getUTCFullYear":"getFullYear"}function monthGetterName(ha){return ha?"getUTCMonth":"getMonth"}function dateGetterName(ha){return ha?"getUTCDate":"getDate"}function hoursGetterName(ha){return ha?"getUTCHours":"getHours"}function minutesGetterName(ha){return ha?"getUTCMinutes":"getMinutes"}function secondsGetterName(ha){return ha?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(ha){return ha?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(ha){return ha?"setUTCFullYear":"setFullYear"}function monthSetterName(ha){return ha?"setUTCMonth":"setMonth"}function dateSetterName(ha){return ha?"setUTCDate":"setDate"}function hoursSetterName(ha){return ha?"setUTCHours":"setHours"}function minutesSetterName(ha){return ha?"setUTCMinutes":"setMinutes"}function secondsSetterName(ha){return ha?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(ha){return ha?"setUTCMilliseconds":"setMilliseconds"}function addCommas(ha){if(!isNumeric(ha))return isString(ha)?ha:"-";var ua=(ha+"").split(".");return ua[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(ua.length>1?"."+ua[1]:"")}function toCamelCase(ha,ua){return ha=(ha||"").toLowerCase().replace(/-(.)/g,function(Sa,ba){return ba.toUpperCase()}),ua&&ha&&(ha=ha.charAt(0).toUpperCase()+ha.slice(1)),ha}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(ha,ua,Sa){var ba="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function ka(Dy){return Dy&&trim$1(Dy)?Dy:"-"}function _y(Dy){return!!(Dy!=null&&!isNaN(Dy)&&isFinite(Dy))}var Ty=ua==="time",Ay=ha instanceof Date;if(Ty||Ay){var Ey=Ty?parseDate(ha):ha;if(isNaN(+Ey)){if(Ay)return"-"}else return format(Ey,ba,Sa)}if(ua==="ordinal")return isStringSafe(ha)?ka(ha):isNumber(ha)&&_y(ha)?ha+"":"-";var My=numericToNumber(ha);return _y(My)?addCommas(My):isStringSafe(ha)?ka(ha):typeof ha=="boolean"?ha+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(ha,ua){return"{"+ha+(ua??"")+"}"};function formatTpl(ha,ua,Sa){isArray$1(ua)||(ua=[ua]);var ba=ua.length;if(!ba)return"";for(var ka=ua[0].$vars||[],_y=0;_y<ka.length;_y++){var Ty=TPL_VAR_ALIAS[_y];ha=ha.replace(wrapVar(Ty),wrapVar(Ty,0))}for(var Ay=0;Ay<ba;Ay++)for(var Ey=0;Ey<ka.length;Ey++){var My=ua[Ay][ka[Ey]];ha=ha.replace(wrapVar(TPL_VAR_ALIAS[Ey],Ay),Sa?encodeHTML(My):My)}return ha}function formatTplSimple(ha,ua,Sa){return each$f(ua,function(ba,ka){ha=ha.replace("{"+ka+"}",ba)}),ha}function getTooltipMarker(ha,ua){var Sa=isString(ha)?{color:ha,extraCssText:ua}:ha||{},ba=Sa.color,ka=Sa.type;ua=Sa.extraCssText;var _y=Sa.renderMode||"html";if(!ba)return"";if(_y==="html")return ka==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(ba)+";"+(ua||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(ba)+";"+(ua||"")+'"></span>';var Ty=Sa.markerId||"markerX";return{renderMode:_y,content:"{"+Ty+"|}  ",style:ka==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:ba}:{width:10,height:10,borderRadius:5,backgroundColor:ba}}}function convertToColorString(ha,ua){return ua=ua||"transparent",isString(ha)?ha:isObject$3(ha)&&ha.colorStops&&(ha.colorStops[0]||{}).color||ua}function windowOpen(ha,ua){if(ua==="_blank"||ua==="blank"){var Sa=window.open();Sa.opener=null,Sa.location.href=ha}else window.open(ha,ua)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(ha,ua,Sa,ba,ka){var _y=0,Ty=0;ba==null&&(ba=1/0),ka==null&&(ka=1/0);var Ay=0;ua.eachChild(function(Ey,My){var Dy=Ey.getBoundingRect(),Iy=ua.childAt(My+1),Ly=Iy&&Iy.getBoundingRect(),Py,Ry;if(ha==="horizontal"){var Vy=Dy.width+(Ly?-Ly.x+Dy.x:0);Py=_y+Vy,Py>ba||Ey.newline?(_y=0,Py=Vy,Ty+=Ay+Sa,Ay=Dy.height):Ay=Math.max(Ay,Dy.height)}else{var Ny=Dy.height+(Ly?-Ly.y+Dy.y:0);Ry=Ty+Ny,Ry>ka||Ey.newline?(_y+=Ay+Sa,Ty=0,Ry=Ny,Ay=Dy.width):Ay=Math.max(Ay,Dy.width)}Ey.newline||(Ey.x=_y,Ey.y=Ty,Ey.markRedraw(),ha==="horizontal"?_y=Py+Sa:Ty=Ry+Sa)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(ha,ua,Sa){var ba=ua.width,ka=ua.height,_y=parsePercent(ha.left,ba),Ty=parsePercent(ha.top,ka),Ay=parsePercent(ha.right,ba),Ey=parsePercent(ha.bottom,ka);return(isNaN(_y)||isNaN(parseFloat(ha.left)))&&(_y=0),(isNaN(Ay)||isNaN(parseFloat(ha.right)))&&(Ay=ba),(isNaN(Ty)||isNaN(parseFloat(ha.top)))&&(Ty=0),(isNaN(Ey)||isNaN(parseFloat(ha.bottom)))&&(Ey=ka),Sa=normalizeCssArray(Sa||0),{width:Math.max(Ay-_y-Sa[1]-Sa[3],0),height:Math.max(Ey-Ty-Sa[0]-Sa[2],0)}}function getLayoutRect(ha,ua,Sa){Sa=normalizeCssArray(Sa||0);var ba=ua.width,ka=ua.height,_y=parsePercent(ha.left,ba),Ty=parsePercent(ha.top,ka),Ay=parsePercent(ha.right,ba),Ey=parsePercent(ha.bottom,ka),My=parsePercent(ha.width,ba),Dy=parsePercent(ha.height,ka),Iy=Sa[2]+Sa[0],Ly=Sa[1]+Sa[3],Py=ha.aspect;switch(isNaN(My)&&(My=ba-Ay-Ly-_y),isNaN(Dy)&&(Dy=ka-Ey-Iy-Ty),Py!=null&&(isNaN(My)&&isNaN(Dy)&&(Py>ba/ka?My=ba*.8:Dy=ka*.8),isNaN(My)&&(My=Py*Dy),isNaN(Dy)&&(Dy=My/Py)),isNaN(_y)&&(_y=ba-Ay-My-Ly),isNaN(Ty)&&(Ty=ka-Ey-Dy-Iy),ha.left||ha.right){case"center":_y=ba/2-My/2-Sa[3];break;case"right":_y=ba-My-Ly;break}switch(ha.top||ha.bottom){case"middle":case"center":Ty=ka/2-Dy/2-Sa[0];break;case"bottom":Ty=ka-Dy-Iy;break}_y=_y||0,Ty=Ty||0,isNaN(My)&&(My=ba-Ly-_y-(Ay||0)),isNaN(Dy)&&(Dy=ka-Iy-Ty-(Ey||0));var Ry=new BoundingRect(_y+Sa[3],Ty+Sa[0],My,Dy);return Ry.margin=Sa,Ry}function positionElement(ha,ua,Sa,ba,ka,_y){var Ty=!ka||!ka.hv||ka.hv[0],Ay=!ka||!ka.hv||ka.hv[1],Ey=ka&&ka.boundingMode||"all";if(_y=_y||ha,_y.x=ha.x,_y.y=ha.y,!Ty&&!Ay)return!1;var My;if(Ey==="raw")My=ha.type==="group"?new BoundingRect(0,0,+ua.width||0,+ua.height||0):ha.getBoundingRect();else if(My=ha.getBoundingRect(),ha.needLocalTransform()){var Dy=ha.getLocalTransform();My=My.clone(),My.applyTransform(Dy)}var Iy=getLayoutRect(defaults({width:My.width,height:My.height},ua),Sa,ba),Ly=Ty?Iy.x-My.x:0,Py=Ay?Iy.y-My.y:0;return Ey==="raw"?(_y.x=Ly,_y.y=Py):(_y.x+=Ly,_y.y+=Py),_y===ha&&ha.markRedraw(),!0}function sizeCalculable(ha,ua){return ha[HV_NAMES[ua][0]]!=null||ha[HV_NAMES[ua][1]]!=null&&ha[HV_NAMES[ua][2]]!=null}function fetchLayoutMode(ha){var ua=ha.layoutMode||ha.constructor.layoutMode;return isObject$3(ua)?ua:ua?{type:ua}:null}function mergeLayoutParam(ha,ua,Sa){var ba=Sa&&Sa.ignoreSize;!isArray$1(ba)&&(ba=[ba,ba]);var ka=Ty(HV_NAMES[0],0),_y=Ty(HV_NAMES[1],1);My(HV_NAMES[0],ha,ka),My(HV_NAMES[1],ha,_y);function Ty(Dy,Iy){var Ly={},Py=0,Ry={},Vy=0,Ny=2;if(each$e(Dy,function(Fy){Ry[Fy]=ha[Fy]}),each$e(Dy,function(Fy){Ay(ua,Fy)&&(Ly[Fy]=Ry[Fy]=ua[Fy]),Ey(Ly,Fy)&&Py++,Ey(Ry,Fy)&&Vy++}),ba[Iy])return Ey(ua,Dy[1])?Ry[Dy[2]]=null:Ey(ua,Dy[2])&&(Ry[Dy[1]]=null),Ry;if(Vy===Ny||!Py)return Ry;if(Py>=Ny)return Ly;for(var By=0;By<Dy.length;By++){var Oy=Dy[By];if(!Ay(Ly,Oy)&&Ay(ha,Oy)){Ly[Oy]=ha[Oy];break}}return Ly}function Ay(Dy,Iy){return Dy.hasOwnProperty(Iy)}function Ey(Dy,Iy){return Dy[Iy]!=null&&Dy[Iy]!=="auto"}function My(Dy,Iy,Ly){each$e(Dy,function(Py){Iy[Py]=Ly[Py]})}}function getLayoutParams(ha){return copyLayoutParams({},ha)}function copyLayoutParams(ha,ua){return ua&&ha&&each$e(LOCATION_PARAMS,function(Sa){ua.hasOwnProperty(Sa)&&(ha[Sa]=ua[Sa])}),ha}var inner$l=makeInner(),ComponentModel=function(ha){__extends(ua,ha);function ua(Sa,ba,ka){var _y=ha.call(this,Sa,ba,ka)||this;return _y.uid=getUID("ec_cpt_model"),_y}return ua.prototype.init=function(Sa,ba,ka){this.mergeDefaultAndTheme(Sa,ka)},ua.prototype.mergeDefaultAndTheme=function(Sa,ba){var ka=fetchLayoutMode(this),_y=ka?getLayoutParams(Sa):{},Ty=ba.getTheme();merge(Sa,Ty.get(this.mainType)),merge(Sa,this.getDefaultOption()),ka&&mergeLayoutParam(Sa,_y,ka)},ua.prototype.mergeOption=function(Sa,ba){merge(this.option,Sa,!0);var ka=fetchLayoutMode(this);ka&&mergeLayoutParam(this.option,Sa,ka)},ua.prototype.optionUpdated=function(Sa,ba){},ua.prototype.getDefaultOption=function(){var Sa=this.constructor;if(!isExtendedClass(Sa))return Sa.defaultOption;var ba=inner$l(this);if(!ba.defaultOption){for(var ka=[],_y=Sa;_y;){var Ty=_y.prototype.defaultOption;Ty&&ka.push(Ty),_y=_y.superClass}for(var Ay={},Ey=ka.length-1;Ey>=0;Ey--)Ay=merge(Ay,ka[Ey],!0);ba.defaultOption=Ay}return ba.defaultOption},ua.prototype.getReferringComponents=function(Sa,ba){var ka=Sa+"Index",_y=Sa+"Id";return queryReferringComponents(this.ecModel,Sa,{index:this.get(ka,!0),id:this.get(_y,!0)},ba)},ua.prototype.getBoxLayoutParams=function(){var Sa=this;return{left:Sa.get("left"),top:Sa.get("top"),right:Sa.get("right"),bottom:Sa.get("bottom"),width:Sa.get("width"),height:Sa.get("height")}},ua.prototype.getZLevelKey=function(){return""},ua.prototype.setZLevel=function(Sa){this.option.zlevel=Sa},ua.protoInitialize=function(){var Sa=ua.prototype;Sa.type="component",Sa.id="",Sa.name="",Sa.mainType="",Sa.subType="",Sa.componentIndex=0}(),ua}(Model);mountExtend(ComponentModel,Model);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(ha){var ua=[];return each$f(ComponentModel.getClassesByMainType(ha),function(Sa){ua=ua.concat(Sa.dependencies||Sa.prototype.dependencies||[])}),ua=map$1(ua,function(Sa){return parseClassType(Sa).main}),ha!=="dataset"&&indexOf(ua,"dataset")<=0&&ua.unshift("dataset"),ua}var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(ha){innerGlobalModel(ha).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(ha,ua,Sa){var ba={},ka=querySeriesUpstreamDatasetModel(ua);if(!ka||!ha)return ba;var _y=[],Ty=[],Ay=ua.ecModel,Ey=innerGlobalModel(Ay).datasetMap,My=ka.uid+"_"+Sa.seriesLayoutBy,Dy,Iy;ha=ha.slice(),each$f(ha,function(Vy,Ny){var By=isObject$3(Vy)?Vy:ha[Ny]={name:Vy};By.type==="ordinal"&&Dy==null&&(Dy=Ny,Iy=Ry(By)),ba[By.name]=[]});var Ly=Ey.get(My)||Ey.set(My,{categoryWayDim:Iy,valueWayDim:0});each$f(ha,function(Vy,Ny){var By=Vy.name,Oy=Ry(Vy);if(Dy==null){var Fy=Ly.valueWayDim;Py(ba[By],Fy,Oy),Py(Ty,Fy,Oy),Ly.valueWayDim+=Oy}else if(Dy===Ny)Py(ba[By],0,Oy),Py(_y,0,Oy);else{var Fy=Ly.categoryWayDim;Py(ba[By],Fy,Oy),Py(Ty,Fy,Oy),Ly.categoryWayDim+=Oy}});function Py(Vy,Ny,By){for(var Oy=0;Oy<By;Oy++)Vy.push(Ny+Oy)}function Ry(Vy){var Ny=Vy.dimsDef;return Ny?Ny.length:1}return _y.length&&(ba.itemName=_y),Ty.length&&(ba.seriesName=Ty),ba}function makeSeriesEncodeForNameBased(ha,ua,Sa){var ba={},ka=querySeriesUpstreamDatasetModel(ha);if(!ka)return ba;var _y=ua.sourceFormat,Ty=ua.dimensionsDefine,Ay;(_y===SOURCE_FORMAT_OBJECT_ROWS||_y===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(Ty,function(Dy,Iy){(isObject$3(Dy)?Dy.name:Dy)==="name"&&(Ay=Iy)});var Ey=function(){for(var Dy={},Iy={},Ly=[],Py=0,Ry=Math.min(5,Sa);Py<Ry;Py++){var Vy=doGuessOrdinal(ua.data,_y,ua.seriesLayoutBy,Ty,ua.startIndex,Py);Ly.push(Vy);var Ny=Vy===BE_ORDINAL.Not;if(Ny&&Dy.v==null&&Py!==Ay&&(Dy.v=Py),(Dy.n==null||Dy.n===Dy.v||!Ny&&Ly[Dy.n]===BE_ORDINAL.Not)&&(Dy.n=Py),By(Dy)&&Ly[Dy.n]!==BE_ORDINAL.Not)return Dy;Ny||(Vy===BE_ORDINAL.Might&&Iy.v==null&&Py!==Ay&&(Iy.v=Py),(Iy.n==null||Iy.n===Iy.v)&&(Iy.n=Py))}function By(Oy){return Oy.v!=null&&Oy.n!=null}return By(Dy)?Dy:By(Iy)?Iy:null}();if(Ey){ba.value=[Ey.v];var My=Ay??Ey.n;ba.itemName=[My],ba.seriesName=[My]}return ba}function querySeriesUpstreamDatasetModel(ha){var ua=ha.get("data",!0);if(!ua)return queryReferringComponents(ha.ecModel,"dataset",{index:ha.get("datasetIndex",!0),id:ha.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(ha){return!ha.get("transform",!0)&&!ha.get("fromTransformResult",!0)?[]:queryReferringComponents(ha.ecModel,"dataset",{index:ha.get("fromDatasetIndex",!0),id:ha.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(ha,ua){return doGuessOrdinal(ha.data,ha.sourceFormat,ha.seriesLayoutBy,ha.dimensionsDefine,ha.startIndex,ua)}function doGuessOrdinal(ha,ua,Sa,ba,ka,_y){var Ty,Ay=5;if(isTypedArray(ha))return BE_ORDINAL.Not;var Ey,My;if(ba){var Dy=ba[_y];isObject$3(Dy)?(Ey=Dy.name,My=Dy.type):isString(Dy)&&(Ey=Dy)}if(My!=null)return My==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(ua===SOURCE_FORMAT_ARRAY_ROWS){var Iy=ha;if(Sa===SERIES_LAYOUT_BY_ROW){for(var Ly=Iy[_y],Py=0;Py<(Ly||[]).length&&Py<Ay;Py++)if((Ty=zy(Ly[ka+Py]))!=null)return Ty}else for(var Py=0;Py<Iy.length&&Py<Ay;Py++){var Ry=Iy[ka+Py];if(Ry&&(Ty=zy(Ry[_y]))!=null)return Ty}}else if(ua===SOURCE_FORMAT_OBJECT_ROWS){var Vy=ha;if(!Ey)return BE_ORDINAL.Not;for(var Py=0;Py<Vy.length&&Py<Ay;Py++){var Ny=Vy[Py];if(Ny&&(Ty=zy(Ny[Ey]))!=null)return Ty}}else if(ua===SOURCE_FORMAT_KEYED_COLUMNS){var By=ha;if(!Ey)return BE_ORDINAL.Not;var Ly=By[Ey];if(!Ly||isTypedArray(Ly))return BE_ORDINAL.Not;for(var Py=0;Py<Ly.length&&Py<Ay;Py++)if((Ty=zy(Ly[Py]))!=null)return Ty}else if(ua===SOURCE_FORMAT_ORIGINAL)for(var Oy=ha,Py=0;Py<Oy.length&&Py<Ay;Py++){var Ny=Oy[Py],Fy=getDataItemValue(Ny);if(!isArray$1(Fy))return BE_ORDINAL.Not;if((Ty=zy(Fy[_y]))!=null)return Ty}function zy(Hy){var Gy=isString(Hy);if(Hy!=null&&Number.isFinite(Number(Hy))&&Hy!=="")return Gy?BE_ORDINAL.Might:BE_ORDINAL.Not;if(Gy&&Hy!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(ha,ua){assert(internalOptionCreatorMap.get(ha)==null&&ua),internalOptionCreatorMap.set(ha,ua)}function concatInternalOptions(ha,ua,Sa){var ba=internalOptionCreatorMap.get(ua);if(!ba)return Sa;var ka=ba(ha);return ka?Sa.concat(ka):Sa}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function ha(){}return ha.prototype.getColorFromPalette=function(ua,Sa,ba){var ka=normalizeToArray(this.get("color",!0)),_y=this.get("colorLayer",!0);return getFromPalette(this,innerColor,ka,_y,ua,Sa,ba)},ha.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},ha}();function getDecalFromPalette(ha,ua,Sa,ba){var ka=normalizeToArray(ha.get(["aria","decal","decals"]));return getFromPalette(ha,innerDecal,ka,null,ua,Sa,ba)}function getNearestPalette(ha,ua){for(var Sa=ha.length,ba=0;ba<Sa;ba++)if(ha[ba].length>ua)return ha[ba];return ha[Sa-1]}function getFromPalette(ha,ua,Sa,ba,ka,_y,Ty){_y=_y||ha;var Ay=ua(_y),Ey=Ay.paletteIdx||0,My=Ay.paletteNameMap=Ay.paletteNameMap||{};if(My.hasOwnProperty(ka))return My[ka];var Dy=Ty==null||!ba?Sa:getNearestPalette(ba,Ty);if(Dy=Dy||Sa,!(!Dy||!Dy.length)){var Iy=Dy[Ey];return ka&&(My[ka]=Iy),Ay.paletteIdx=(Ey+1)%Dy.length,Iy}}function clearPalette(ha,ua){ua(ha).paletteIdx=0,ua(ha).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.init=function(Sa,ba,ka,_y,Ty,Ay){_y=_y||{},this.option=null,this._theme=new Model(_y),this._locale=new Model(Ty),this._optionManager=Ay},ua.prototype.setOption=function(Sa,ba,ka){var _y=normalizeSetOptionInput(ba);this._optionManager.setOption(Sa,ka,_y),this._resetOption(null,_y)},ua.prototype.resetOption=function(Sa,ba){return this._resetOption(Sa,normalizeSetOptionInput(ba))},ua.prototype._resetOption=function(Sa,ba){var ka=!1,_y=this._optionManager;if(!Sa||Sa==="recreate"){var Ty=_y.mountOption(Sa==="recreate");!this.option||Sa==="recreate"?initBase(this,Ty):(this.restoreData(),this._mergeOption(Ty,ba)),ka=!0}if((Sa==="timeline"||Sa==="media")&&this.restoreData(),!Sa||Sa==="recreate"||Sa==="timeline"){var Ay=_y.getTimelineOption(this);Ay&&(ka=!0,this._mergeOption(Ay,ba))}if(!Sa||Sa==="recreate"||Sa==="media"){var Ey=_y.getMediaOption(this);Ey.length&&each$f(Ey,function(My){ka=!0,this._mergeOption(My,ba)},this)}return ka},ua.prototype.mergeOption=function(Sa){this._mergeOption(Sa,null)},ua.prototype._mergeOption=function(Sa,ba){var ka=this.option,_y=this._componentsMap,Ty=this._componentsCount,Ay=[],Ey=createHashMap(),My=ba&&ba.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(Sa,function(Iy,Ly){Iy!=null&&(ComponentModel.hasClass(Ly)?Ly&&(Ay.push(Ly),Ey.set(Ly,!0)):ka[Ly]=ka[Ly]==null?clone$4(Iy):merge(ka[Ly],Iy,!0))}),My&&My.each(function(Iy,Ly){ComponentModel.hasClass(Ly)&&!Ey.get(Ly)&&(Ay.push(Ly),Ey.set(Ly,!0))}),ComponentModel.topologicalTravel(Ay,ComponentModel.getAllClassMainTypes(),Dy,this);function Dy(Iy){var Ly=concatInternalOptions(this,Iy,normalizeToArray(Sa[Iy])),Py=_y.get(Iy),Ry=Py?My&&My.get(Iy)?"replaceMerge":"normalMerge":"replaceAll",Vy=mappingToExists(Py,Ly,Ry);setComponentTypeToKeyInfo(Vy,Iy,ComponentModel),ka[Iy]=null,_y.set(Iy,null),Ty.set(Iy,0);var Ny=[],By=[],Oy=0,Fy;each$f(Vy,function(zy,Hy){var Gy=zy.existing,Wy=zy.newOption;if(!Wy)Gy&&(Gy.mergeOption({},this),Gy.optionUpdated({},!1));else{var Uy=Iy==="series",Yy=ComponentModel.getClass(Iy,zy.keyInfo.subType,!Uy);if(!Yy)return;if(Iy==="tooltip"){if(Fy)return;Fy=!0}if(Gy&&Gy.constructor===Yy)Gy.name=zy.keyInfo.name,Gy.mergeOption(Wy,this),Gy.optionUpdated(Wy,!1);else{var jy=extend({componentIndex:Hy},zy.keyInfo);Gy=new Yy(Wy,this,this,jy),extend(Gy,jy),zy.brandNew&&(Gy.__requireNewView=!0),Gy.init(Wy,this,this),Gy.optionUpdated(null,!0)}}Gy?(Ny.push(Gy.option),By.push(Gy),Oy++):(Ny.push(void 0),By.push(void 0))},this),ka[Iy]=Ny,_y.set(Iy,By),Ty.set(Iy,Oy),Iy==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},ua.prototype.getOption=function(){var Sa=clone$4(this.option);return each$f(Sa,function(ba,ka){if(ComponentModel.hasClass(ka)){for(var _y=normalizeToArray(ba),Ty=_y.length,Ay=!1,Ey=Ty-1;Ey>=0;Ey--)_y[Ey]&&!isComponentIdInternal(_y[Ey])?Ay=!0:(_y[Ey]=null,!Ay&&Ty--);_y.length=Ty,Sa[ka]=_y}}),delete Sa[OPTION_INNER_KEY],Sa},ua.prototype.getTheme=function(){return this._theme},ua.prototype.getLocaleModel=function(){return this._locale},ua.prototype.setUpdatePayload=function(Sa){this._payload=Sa},ua.prototype.getUpdatePayload=function(){return this._payload},ua.prototype.getComponent=function(Sa,ba){var ka=this._componentsMap.get(Sa);if(ka){var _y=ka[ba||0];if(_y)return _y;if(ba==null){for(var Ty=0;Ty<ka.length;Ty++)if(ka[Ty])return ka[Ty]}}},ua.prototype.queryComponents=function(Sa){var ba=Sa.mainType;if(!ba)return[];var ka=Sa.index,_y=Sa.id,Ty=Sa.name,Ay=this._componentsMap.get(ba);if(!Ay||!Ay.length)return[];var Ey;return ka!=null?(Ey=[],each$f(normalizeToArray(ka),function(My){Ay[My]&&Ey.push(Ay[My])})):_y!=null?Ey=queryByIdOrName("id",_y,Ay):Ty!=null?Ey=queryByIdOrName("name",Ty,Ay):Ey=filter(Ay,function(My){return!!My}),filterBySubType(Ey,Sa)},ua.prototype.findComponents=function(Sa){var ba=Sa.query,ka=Sa.mainType,_y=Ay(ba),Ty=_y?this.queryComponents(_y):filter(this._componentsMap.get(ka),function(My){return!!My});return Ey(filterBySubType(Ty,Sa));function Ay(My){var Dy=ka+"Index",Iy=ka+"Id",Ly=ka+"Name";return My&&(My[Dy]!=null||My[Iy]!=null||My[Ly]!=null)?{mainType:ka,index:My[Dy],id:My[Iy],name:My[Ly]}:null}function Ey(My){return Sa.filter?filter(My,Sa.filter):My}},ua.prototype.eachComponent=function(Sa,ba,ka){var _y=this._componentsMap;if(isFunction(Sa)){var Ty=ba,Ay=Sa;_y.each(function(Iy,Ly){for(var Py=0;Iy&&Py<Iy.length;Py++){var Ry=Iy[Py];Ry&&Ay.call(Ty,Ly,Ry,Ry.componentIndex)}})}else for(var Ey=isString(Sa)?_y.get(Sa):isObject$3(Sa)?this.findComponents(Sa):null,My=0;Ey&&My<Ey.length;My++){var Dy=Ey[My];Dy&&ba.call(ka,Dy,Dy.componentIndex)}},ua.prototype.getSeriesByName=function(Sa){var ba=convertOptionIdName(Sa,null);return filter(this._componentsMap.get("series"),function(ka){return!!ka&&ba!=null&&ka.name===ba})},ua.prototype.getSeriesByIndex=function(Sa){return this._componentsMap.get("series")[Sa]},ua.prototype.getSeriesByType=function(Sa){return filter(this._componentsMap.get("series"),function(ba){return!!ba&&ba.subType===Sa})},ua.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(Sa){return!!Sa})},ua.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},ua.prototype.eachSeries=function(Sa,ba){assertSeriesInitialized(this),each$f(this._seriesIndices,function(ka){var _y=this._componentsMap.get("series")[ka];Sa.call(ba,_y,ka)},this)},ua.prototype.eachRawSeries=function(Sa,ba){each$f(this._componentsMap.get("series"),function(ka){ka&&Sa.call(ba,ka,ka.componentIndex)})},ua.prototype.eachSeriesByType=function(Sa,ba,ka){assertSeriesInitialized(this),each$f(this._seriesIndices,function(_y){var Ty=this._componentsMap.get("series")[_y];Ty.subType===Sa&&ba.call(ka,Ty,_y)},this)},ua.prototype.eachRawSeriesByType=function(Sa,ba,ka){return each$f(this.getSeriesByType(Sa),ba,ka)},ua.prototype.isSeriesFiltered=function(Sa){return assertSeriesInitialized(this),this._seriesIndicesMap.get(Sa.componentIndex)==null},ua.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},ua.prototype.filterSeries=function(Sa,ba){assertSeriesInitialized(this);var ka=[];each$f(this._seriesIndices,function(_y){var Ty=this._componentsMap.get("series")[_y];Sa.call(ba,Ty,_y)&&ka.push(_y)},this),this._seriesIndices=ka,this._seriesIndicesMap=createHashMap(ka)},ua.prototype.restoreData=function(Sa){reCreateSeriesIndices(this);var ba=this._componentsMap,ka=[];ba.each(function(_y,Ty){ComponentModel.hasClass(Ty)&&ka.push(Ty)}),ComponentModel.topologicalTravel(ka,ComponentModel.getAllClassMainTypes(),function(_y){each$f(ba.get(_y),function(Ty){Ty&&(_y!=="series"||!isNotTargetSeries(Ty,Sa))&&Ty.restoreData()})})},ua.internalField=function(){reCreateSeriesIndices=function(Sa){var ba=Sa._seriesIndices=[];each$f(Sa._componentsMap.get("series"),function(ka){ka&&ba.push(ka.componentIndex)}),Sa._seriesIndicesMap=createHashMap(ba)},assertSeriesInitialized=function(Sa){},initBase=function(Sa,ba){Sa.option={},Sa.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,Sa._componentsMap=createHashMap({series:[]}),Sa._componentsCount=createHashMap();var ka=ba.aria;isObject$3(ka)&&ka.enabled==null&&(ka.enabled=!0),mergeTheme(ba,Sa._theme.option),merge(ba,globalDefault,!1),Sa._mergeOption(ba,null)}}(),ua}(Model);function isNotTargetSeries(ha,ua){if(ua){var Sa=ua.seriesIndex,ba=ua.seriesId,ka=ua.seriesName;return Sa!=null&&ha.componentIndex!==Sa||ba!=null&&ha.id!==ba||ka!=null&&ha.name!==ka}}function mergeTheme(ha,ua){var Sa=ha.color&&!ha.colorLayer;each$f(ua,function(ba,ka){ka==="colorLayer"&&Sa||ComponentModel.hasClass(ka)||(typeof ba=="object"?ha[ka]=ha[ka]?merge(ha[ka],ba,!1):clone$4(ba):ha[ka]==null&&(ha[ka]=ba))})}function queryByIdOrName(ha,ua,Sa){if(isArray$1(ua)){var ba=createHashMap();return each$f(ua,function(_y){if(_y!=null){var Ty=convertOptionIdName(_y,null);Ty!=null&&ba.set(_y,!0)}}),filter(Sa,function(_y){return _y&&ba.get(_y[ha])})}else{var ka=convertOptionIdName(ua,null);return filter(Sa,function(_y){return _y&&ka!=null&&_y[ha]===ka})}}function filterBySubType(ha,ua){return ua.hasOwnProperty("subType")?filter(ha,function(Sa){return Sa&&Sa.subType===ua.subType}):ha}function normalizeSetOptionInput(ha){var ua=createHashMap();return ha&&each$f(normalizeToArray(ha.replaceMerge),function(Sa){ua.set(Sa,!0)}),{replaceMergeMainTypeMap:ua}}mixin(GlobalModel,PaletteMixin);var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function ha(ua){each$f(availableMethods,function(Sa){this[Sa]=bind$1(ua[Sa],ua)},this)}return ha}(),coordinateSystemCreators={},CoordinateSystemManager=function(){function ha(){this._coordinateSystems=[]}return ha.prototype.create=function(ua,Sa){var ba=[];each$f(coordinateSystemCreators,function(ka,_y){var Ty=ka.create(ua,Sa);ba=ba.concat(Ty||[])}),this._coordinateSystems=ba},ha.prototype.update=function(ua,Sa){each$f(this._coordinateSystems,function(ba){ba.update&&ba.update(ua,Sa)})},ha.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},ha.register=function(ua,Sa){coordinateSystemCreators[ua]=Sa},ha.get=function(ua){return coordinateSystemCreators[ua]},ha}(),QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function ha(ua){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=ua}return ha.prototype.setOption=function(ua,Sa,ba){ua&&(each$f(normalizeToArray(ua.series),function(Ty){Ty&&Ty.data&&isTypedArray(Ty.data)&&setAsPrimitive(Ty.data)}),each$f(normalizeToArray(ua.dataset),function(Ty){Ty&&Ty.source&&isTypedArray(Ty.source)&&setAsPrimitive(Ty.source)})),ua=clone$4(ua);var ka=this._optionBackup,_y=parseRawOption(ua,Sa,!ka);this._newBaseOption=_y.baseOption,ka?(_y.timelineOptions.length&&(ka.timelineOptions=_y.timelineOptions),_y.mediaList.length&&(ka.mediaList=_y.mediaList),_y.mediaDefault&&(ka.mediaDefault=_y.mediaDefault)):this._optionBackup=_y},ha.prototype.mountOption=function(ua){var Sa=this._optionBackup;return this._timelineOptions=Sa.timelineOptions,this._mediaList=Sa.mediaList,this._mediaDefault=Sa.mediaDefault,this._currentMediaIndices=[],clone$4(ua?Sa.baseOption:this._newBaseOption)},ha.prototype.getTimelineOption=function(ua){var Sa,ba=this._timelineOptions;if(ba.length){var ka=ua.getComponent("timeline");ka&&(Sa=clone$4(ba[ka.getCurrentIndex()]))}return Sa},ha.prototype.getMediaOption=function(ua){var Sa=this._api.getWidth(),ba=this._api.getHeight(),ka=this._mediaList,_y=this._mediaDefault,Ty=[],Ay=[];if(!ka.length&&!_y)return Ay;for(var Ey=0,My=ka.length;Ey<My;Ey++)applyMediaQuery(ka[Ey].query,Sa,ba)&&Ty.push(Ey);return!Ty.length&&_y&&(Ty=[-1]),Ty.length&&!indicesEquals(Ty,this._currentMediaIndices)&&(Ay=map$1(Ty,function(Dy){return clone$4(Dy===-1?_y.option:ka[Dy].option)})),this._currentMediaIndices=Ty,Ay},ha}();function parseRawOption(ha,ua,Sa){var ba=[],ka,_y,Ty=ha.baseOption,Ay=ha.timeline,Ey=ha.options,My=ha.media,Dy=!!ha.media,Iy=!!(Ey||Ay||Ty&&Ty.timeline);Ty?(_y=Ty,_y.timeline||(_y.timeline=Ay)):((Iy||Dy)&&(ha.options=ha.media=null),_y=ha),Dy&&isArray$1(My)&&each$f(My,function(Py){Py&&Py.option&&(Py.query?ba.push(Py):ka||(ka=Py))}),Ly(_y),each$f(Ey,function(Py){return Ly(Py)}),each$f(ba,function(Py){return Ly(Py.option)});function Ly(Py){each$f(ua,function(Ry){Ry(Py,Sa)})}return{baseOption:_y,timelineOptions:Ey||[],mediaDefault:ka,mediaList:ba}}function applyMediaQuery(ha,ua,Sa){var ba={width:ua,height:Sa,aspectratio:ua/Sa},ka=!0;return each$f(ha,function(_y,Ty){var Ay=Ty.match(QUERY_REG);if(!(!Ay||!Ay[1]||!Ay[2])){var Ey=Ay[1],My=Ay[2].toLowerCase();compare(ba[My],_y,Ey)||(ka=!1)}}),ka}function compare(ha,ua,Sa){return Sa==="min"?ha>=ua:Sa==="max"?ha<=ua:ha===ua}function indicesEquals(ha,ua){return ha.join(",")===ua.join(",")}var each$d=each$f,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(ha){var ua=ha&&ha.itemStyle;if(ua)for(var Sa=0,ba=POSSIBLE_STYLES.length;Sa<ba;Sa++){var ka=POSSIBLE_STYLES[Sa],_y=ua.normal,Ty=ua.emphasis;_y&&_y[ka]&&(ha[ka]=ha[ka]||{},ha[ka].normal?merge(ha[ka].normal,_y[ka]):ha[ka].normal=_y[ka],_y[ka]=null),Ty&&Ty[ka]&&(ha[ka]=ha[ka]||{},ha[ka].emphasis?merge(ha[ka].emphasis,Ty[ka]):ha[ka].emphasis=Ty[ka],Ty[ka]=null)}}function convertNormalEmphasis(ha,ua,Sa){if(ha&&ha[ua]&&(ha[ua].normal||ha[ua].emphasis)){var ba=ha[ua].normal,ka=ha[ua].emphasis;ba&&(Sa?(ha[ua].normal=ha[ua].emphasis=null,defaults(ha[ua],ba)):ha[ua]=ba),ka&&(ha.emphasis=ha.emphasis||{},ha.emphasis[ua]=ka,ka.focus&&(ha.emphasis.focus=ka.focus),ka.blurScope&&(ha.emphasis.blurScope=ka.blurScope))}}function removeEC3NormalStatus(ha){convertNormalEmphasis(ha,"itemStyle"),convertNormalEmphasis(ha,"lineStyle"),convertNormalEmphasis(ha,"areaStyle"),convertNormalEmphasis(ha,"label"),convertNormalEmphasis(ha,"labelLine"),convertNormalEmphasis(ha,"upperLabel"),convertNormalEmphasis(ha,"edgeLabel")}function compatTextStyle(ha,ua){var Sa=isObject$2(ha)&&ha[ua],ba=isObject$2(Sa)&&Sa.textStyle;if(ba)for(var ka=0,_y=TEXT_STYLE_OPTIONS.length;ka<_y;ka++){var Ty=TEXT_STYLE_OPTIONS[ka];ba.hasOwnProperty(Ty)&&(Sa[Ty]=ba[Ty])}}function compatEC3CommonStyles(ha){ha&&(removeEC3NormalStatus(ha),compatTextStyle(ha,"label"),ha.emphasis&&compatTextStyle(ha.emphasis,"label"))}function processSeries(ha){if(isObject$2(ha)){compatEC2ItemStyle(ha),removeEC3NormalStatus(ha),compatTextStyle(ha,"label"),compatTextStyle(ha,"upperLabel"),compatTextStyle(ha,"edgeLabel"),ha.emphasis&&(compatTextStyle(ha.emphasis,"label"),compatTextStyle(ha.emphasis,"upperLabel"),compatTextStyle(ha.emphasis,"edgeLabel"));var ua=ha.markPoint;ua&&(compatEC2ItemStyle(ua),compatEC3CommonStyles(ua));var Sa=ha.markLine;Sa&&(compatEC2ItemStyle(Sa),compatEC3CommonStyles(Sa));var ba=ha.markArea;ba&&compatEC3CommonStyles(ba);var ka=ha.data;if(ha.type==="graph"){ka=ka||ha.nodes;var _y=ha.links||ha.edges;if(_y&&!isTypedArray(_y))for(var Ty=0;Ty<_y.length;Ty++)compatEC3CommonStyles(_y[Ty]);each$f(ha.categories,function(My){removeEC3NormalStatus(My)})}if(ka&&!isTypedArray(ka))for(var Ty=0;Ty<ka.length;Ty++)compatEC3CommonStyles(ka[Ty]);if(ua=ha.markPoint,ua&&ua.data)for(var Ay=ua.data,Ty=0;Ty<Ay.length;Ty++)compatEC3CommonStyles(Ay[Ty]);if(Sa=ha.markLine,Sa&&Sa.data)for(var Ey=Sa.data,Ty=0;Ty<Ey.length;Ty++)isArray$1(Ey[Ty])?(compatEC3CommonStyles(Ey[Ty][0]),compatEC3CommonStyles(Ey[Ty][1])):compatEC3CommonStyles(Ey[Ty]);ha.type==="gauge"?(compatTextStyle(ha,"axisLabel"),compatTextStyle(ha,"title"),compatTextStyle(ha,"detail")):ha.type==="treemap"?(convertNormalEmphasis(ha.breadcrumb,"itemStyle"),each$f(ha.levels,function(My){removeEC3NormalStatus(My)})):ha.type==="tree"&&removeEC3NormalStatus(ha.leaves)}}function toArr(ha){return isArray$1(ha)?ha:ha?[ha]:[]}function toObj(ha){return(isArray$1(ha)?ha[0]:ha)||{}}function globalCompatStyle(ha,ua){each$d(toArr(ha.series),function(ba){isObject$2(ba)&&processSeries(ba)});var Sa=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];ua&&Sa.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(Sa,function(ba){each$d(toArr(ha[ba]),function(ka){ka&&(compatTextStyle(ka,"axisLabel"),compatTextStyle(ka.axisPointer,"label"))})}),each$d(toArr(ha.parallel),function(ba){var ka=ba&&ba.parallelAxisDefault;compatTextStyle(ka,"axisLabel"),compatTextStyle(ka&&ka.axisPointer,"label")}),each$d(toArr(ha.calendar),function(ba){convertNormalEmphasis(ba,"itemStyle"),compatTextStyle(ba,"dayLabel"),compatTextStyle(ba,"monthLabel"),compatTextStyle(ba,"yearLabel")}),each$d(toArr(ha.radar),function(ba){compatTextStyle(ba,"name"),ba.name&&ba.axisName==null&&(ba.axisName=ba.name,delete ba.name),ba.nameGap!=null&&ba.axisNameGap==null&&(ba.axisNameGap=ba.nameGap,delete ba.nameGap)}),each$d(toArr(ha.geo),function(ba){isObject$2(ba)&&(compatEC3CommonStyles(ba),each$d(toArr(ba.regions),function(ka){compatEC3CommonStyles(ka)}))}),each$d(toArr(ha.timeline),function(ba){compatEC3CommonStyles(ba),convertNormalEmphasis(ba,"label"),convertNormalEmphasis(ba,"itemStyle"),convertNormalEmphasis(ba,"controlStyle",!0);var ka=ba.data;isArray$1(ka)&&each$f(ka,function(_y){isObject$3(_y)&&(convertNormalEmphasis(_y,"label"),convertNormalEmphasis(_y,"itemStyle"))})}),each$d(toArr(ha.toolbox),function(ba){convertNormalEmphasis(ba,"iconStyle"),each$d(ba.feature,function(ka){convertNormalEmphasis(ka,"iconStyle")})}),compatTextStyle(toObj(ha.axisPointer),"label"),compatTextStyle(toObj(ha.tooltip).axisPointer,"label")}function get(ha,ua){for(var Sa=ua.split(","),ba=ha,ka=0;ka<Sa.length&&(ba=ba&&ba[Sa[ka]],ba!=null);ka++);return ba}function set(ha,ua,Sa,ba){for(var ka=ua.split(","),_y=ha,Ty,Ay=0;Ay<ka.length-1;Ay++)Ty=ka[Ay],_y[Ty]==null&&(_y[Ty]={}),_y=_y[Ty];_y[ka[Ay]]==null&&(_y[ka[Ay]]=Sa)}function compatLayoutProperties(ha){ha&&each$f(LAYOUT_PROPERTIES,function(ua){ua[0]in ha&&!(ua[1]in ha)&&(ha[ua[1]]=ha[ua[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(ha){var ua=ha&&ha.itemStyle;if(ua)for(var Sa=0;Sa<BAR_ITEM_STYLE_MAP.length;Sa++){var ba=BAR_ITEM_STYLE_MAP[Sa][1],ka=BAR_ITEM_STYLE_MAP[Sa][0];ua[ba]!=null&&(ua[ka]=ua[ba])}}function compatPieLabel(ha){ha&&ha.alignTo==="edge"&&ha.margin!=null&&ha.edgeDistance==null&&(ha.edgeDistance=ha.margin)}function compatSunburstState(ha){ha&&ha.downplay&&!ha.blur&&(ha.blur=ha.downplay)}function compatGraphFocus(ha){ha&&ha.focusNodeAdjacency!=null&&(ha.emphasis=ha.emphasis||{},ha.emphasis.focus==null&&(ha.emphasis.focus="adjacency"))}function traverseTree(ha,ua){if(ha)for(var Sa=0;Sa<ha.length;Sa++)ua(ha[Sa]),ha[Sa]&&traverseTree(ha[Sa].children,ua)}function globalBackwardCompat(ha,ua){globalCompatStyle(ha,ua),ha.series=normalizeToArray(ha.series),each$f(ha.series,function(Sa){if(isObject$3(Sa)){var ba=Sa.type;if(ba==="line")Sa.clipOverflow!=null&&(Sa.clip=Sa.clipOverflow);else if(ba==="pie"||ba==="gauge"){Sa.clockWise!=null&&(Sa.clockwise=Sa.clockWise),compatPieLabel(Sa.label);var ka=Sa.data;if(ka&&!isTypedArray(ka))for(var _y=0;_y<ka.length;_y++)compatPieLabel(ka[_y]);Sa.hoverOffset!=null&&(Sa.emphasis=Sa.emphasis||{},(Sa.emphasis.scaleSize=null)&&(Sa.emphasis.scaleSize=Sa.hoverOffset))}else if(ba==="gauge"){var Ty=get(Sa,"pointer.color");Ty!=null&&set(Sa,"itemStyle.color",Ty)}else if(ba==="bar"){compatBarItemStyle(Sa),compatBarItemStyle(Sa.backgroundStyle),compatBarItemStyle(Sa.emphasis);var ka=Sa.data;if(ka&&!isTypedArray(ka))for(var _y=0;_y<ka.length;_y++)typeof ka[_y]=="object"&&(compatBarItemStyle(ka[_y]),compatBarItemStyle(ka[_y]&&ka[_y].emphasis))}else if(ba==="sunburst"){var Ay=Sa.highlightPolicy;Ay&&(Sa.emphasis=Sa.emphasis||{},Sa.emphasis.focus||(Sa.emphasis.focus=Ay)),compatSunburstState(Sa),traverseTree(Sa.data,compatSunburstState)}else ba==="graph"||ba==="sankey"?compatGraphFocus(Sa):ba==="map"&&(Sa.mapType&&!Sa.map&&(Sa.map=Sa.mapType),Sa.mapLocation&&defaults(Sa,Sa.mapLocation));Sa.hoverAnimation!=null&&(Sa.emphasis=Sa.emphasis||{},Sa.emphasis&&Sa.emphasis.scale==null&&(Sa.emphasis.scale=Sa.hoverAnimation)),compatLayoutProperties(Sa)}}),ha.dataRange&&(ha.visualMap=ha.dataRange),each$f(COMPATITABLE_COMPONENTS,function(Sa){var ba=ha[Sa];ba&&(isArray$1(ba)||(ba=[ba]),each$f(ba,function(ka){compatLayoutProperties(ka)}))})}function dataStack(ha){var ua=createHashMap();ha.eachSeries(function(Sa){var ba=Sa.get("stack");if(ba){var ka=ua.get(ba)||ua.set(ba,[]),_y=Sa.getData(),Ty={stackResultDimension:_y.getCalculationInfo("stackResultDimension"),stackedOverDimension:_y.getCalculationInfo("stackedOverDimension"),stackedDimension:_y.getCalculationInfo("stackedDimension"),stackedByDimension:_y.getCalculationInfo("stackedByDimension"),isStackedByIndex:_y.getCalculationInfo("isStackedByIndex"),data:_y,seriesModel:Sa};if(!Ty.stackedDimension||!(Ty.isStackedByIndex||Ty.stackedByDimension))return;ka.length&&_y.setCalculationInfo("stackedOnSeries",ka[ka.length-1].seriesModel),ka.push(Ty)}}),ua.each(calculateStack)}function calculateStack(ha){each$f(ha,function(ua,Sa){var ba=[],ka=[NaN,NaN],_y=[ua.stackResultDimension,ua.stackedOverDimension],Ty=ua.data,Ay=ua.isStackedByIndex,Ey=ua.seriesModel.get("stackStrategy")||"samesign";Ty.modify(_y,function(My,Dy,Iy){var Ly=Ty.get(ua.stackedDimension,Iy);if(isNaN(Ly))return ka;var Py,Ry;Ay?Ry=Ty.getRawIndex(Iy):Py=Ty.get(ua.stackedByDimension,Iy);for(var Vy=NaN,Ny=Sa-1;Ny>=0;Ny--){var By=ha[Ny];if(Ay||(Ry=By.data.rawIndexOf(By.stackedByDimension,Py)),Ry>=0){var Oy=By.data.getByRawIndex(By.stackResultDimension,Ry);if(Ey==="all"||Ey==="positive"&&Oy>0||Ey==="negative"&&Oy<0||Ey==="samesign"&&Ly>=0&&Oy>0||Ey==="samesign"&&Ly<=0&&Oy<0){Ly=addSafe(Ly,Oy),Vy=Oy;break}}}return ba[0]=Ly,ba[1]=Vy,ba})})}var SourceImpl=function(){function ha(ua){this.data=ua.data||(ua.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=ua.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=ua.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=ua.startIndex||0,this.dimensionsDetectedCount=ua.dimensionsDetectedCount,this.metaRawOption=ua.metaRawOption;var Sa=this.dimensionsDefine=ua.dimensionsDefine;if(Sa)for(var ba=0;ba<Sa.length;ba++){var ka=Sa[ba];ka.type==null&&guessOrdinal(this,ba)===BE_ORDINAL.Must&&(ka.type="ordinal")}}return ha}();function isSourceInstance(ha){return ha instanceof SourceImpl}function createSource(ha,ua,Sa){Sa=Sa||detectSourceFormat(ha);var ba=ua.seriesLayoutBy,ka=determineSourceDimensions(ha,Sa,ba,ua.sourceHeader,ua.dimensions),_y=new SourceImpl({data:ha,sourceFormat:Sa,seriesLayoutBy:ba,dimensionsDefine:ka.dimensionsDefine,startIndex:ka.startIndex,dimensionsDetectedCount:ka.dimensionsDetectedCount,metaRawOption:clone$4(ua)});return _y}function createSourceFromSeriesDataOption(ha){return new SourceImpl({data:ha,sourceFormat:isTypedArray(ha)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(ha){return new SourceImpl({data:ha.data,sourceFormat:ha.sourceFormat,seriesLayoutBy:ha.seriesLayoutBy,dimensionsDefine:clone$4(ha.dimensionsDefine),startIndex:ha.startIndex,dimensionsDetectedCount:ha.dimensionsDetectedCount})}function detectSourceFormat(ha){var ua=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(ha))ua=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(ha)){ha.length===0&&(ua=SOURCE_FORMAT_ARRAY_ROWS);for(var Sa=0,ba=ha.length;Sa<ba;Sa++){var ka=ha[Sa];if(ka!=null){if(isArray$1(ka)||isTypedArray(ka)){ua=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(ka)){ua=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(ha)){for(var _y in ha)if(hasOwn(ha,_y)&&isArrayLike(ha[_y])){ua=SOURCE_FORMAT_KEYED_COLUMNS;break}}return ua}function determineSourceDimensions(ha,ua,Sa,ba,ka){var _y,Ty;if(!ha)return{dimensionsDefine:normalizeDimensionsOption(ka),startIndex:Ty,dimensionsDetectedCount:_y};if(ua===SOURCE_FORMAT_ARRAY_ROWS){var Ay=ha;ba==="auto"||ba==null?arrayRowsTravelFirst(function(My){My!=null&&My!=="-"&&(isString(My)?Ty==null&&(Ty=1):Ty=0)},Sa,Ay,10):Ty=isNumber(ba)?ba:ba?1:0,!ka&&Ty===1&&(ka=[],arrayRowsTravelFirst(function(My,Dy){ka[Dy]=My!=null?My+"":""},Sa,Ay,1/0)),_y=ka?ka.length:Sa===SERIES_LAYOUT_BY_ROW?Ay.length:Ay[0]?Ay[0].length:null}else if(ua===SOURCE_FORMAT_OBJECT_ROWS)ka||(ka=objectRowsCollectDimensions(ha));else if(ua===SOURCE_FORMAT_KEYED_COLUMNS)ka||(ka=[],each$f(ha,function(My,Dy){ka.push(Dy)}));else if(ua===SOURCE_FORMAT_ORIGINAL){var Ey=getDataItemValue(ha[0]);_y=isArray$1(Ey)&&Ey.length||1}return{startIndex:Ty,dimensionsDefine:normalizeDimensionsOption(ka),dimensionsDetectedCount:_y}}function objectRowsCollectDimensions(ha){for(var ua=0,Sa;ua<ha.length&&!(Sa=ha[ua++]););if(Sa)return keys(Sa)}function normalizeDimensionsOption(ha){if(ha){var ua=createHashMap();return map$1(ha,function(Sa,ba){Sa=isObject$3(Sa)?Sa:{name:Sa};var ka={name:Sa.name,displayName:Sa.displayName,type:Sa.type};if(ka.name==null)return ka;ka.name+="",ka.displayName==null&&(ka.displayName=ka.name);var _y=ua.get(ka.name);return _y?ka.name+="-"+_y.count++:ua.set(ka.name,{count:1}),ka})}}function arrayRowsTravelFirst(ha,ua,Sa,ba){if(ua===SERIES_LAYOUT_BY_ROW)for(var ka=0;ka<Sa.length&&ka<ba;ka++)ha(Sa[ka]?Sa[ka][0]:null,ka);else for(var _y=Sa[0]||[],ka=0;ka<_y.length&&ka<ba;ka++)ha(_y[ka],ka)}function shouldRetrieveDataByName(ha){var ua=ha.sourceFormat;return ua===SOURCE_FORMAT_OBJECT_ROWS||ua===SOURCE_FORMAT_KEYED_COLUMNS}var _a$2,_b$1,_c$2,providerMethods,mountMethods,DefaultDataProvider=function(){function ha(ua,Sa){var ba=isSourceInstance(ua)?ua:createSourceFromSeriesDataOption(ua);this._source=ba;var ka=this._data=ba.data;ba.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=Sa,this._data=ka),mountMethods(this,ka,ba)}return ha.prototype.getSource=function(){return this._source},ha.prototype.count=function(){return 0},ha.prototype.getItem=function(ua,Sa){},ha.prototype.appendData=function(ua){},ha.prototype.clean=function(){},ha.protoInitialize=function(){var ua=ha.prototype;ua.pure=!1,ua.persistent=!0}(),ha.internalField=function(){var ua;mountMethods=function(Ty,Ay,Ey){var My=Ey.sourceFormat,Dy=Ey.seriesLayoutBy,Iy=Ey.startIndex,Ly=Ey.dimensionsDefine,Py=providerMethods[getMethodMapKey(My,Dy)];if(extend(Ty,Py),My===SOURCE_FORMAT_TYPED_ARRAY)Ty.getItem=Sa,Ty.count=ka,Ty.fillStorage=ba;else{var Ry=getRawSourceItemGetter(My,Dy);Ty.getItem=bind$1(Ry,null,Ay,Iy,Ly);var Vy=getRawSourceDataCounter(My,Dy);Ty.count=bind$1(Vy,null,Ay,Iy,Ly)}};var Sa=function(Ty,Ay){Ty=Ty-this._offset,Ay=Ay||[];for(var Ey=this._data,My=this._dimSize,Dy=My*Ty,Iy=0;Iy<My;Iy++)Ay[Iy]=Ey[Dy+Iy];return Ay},ba=function(Ty,Ay,Ey,My){for(var Dy=this._data,Iy=this._dimSize,Ly=0;Ly<Iy;Ly++){for(var Py=My[Ly],Ry=Py[0]==null?1/0:Py[0],Vy=Py[1]==null?-1/0:Py[1],Ny=Ay-Ty,By=Ey[Ly],Oy=0;Oy<Ny;Oy++){var Fy=Dy[Oy*Iy+Ly];By[Ty+Oy]=Fy,Fy<Ry&&(Ry=Fy),Fy>Vy&&(Vy=Fy)}Py[0]=Ry,Py[1]=Vy}},ka=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(ua={},ua[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:_y},ua[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},ua[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:_y},ua[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(Ty){var Ay=this._data;each$f(Ty,function(Ey,My){for(var Dy=Ay[My]||(Ay[My]=[]),Iy=0;Iy<(Ey||[]).length;Iy++)Dy.push(Ey[Iy])})}},ua[SOURCE_FORMAT_ORIGINAL]={appendData:_y},ua[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(Ty){this._data=Ty},clean:function(){this._offset+=this.count(),this._data=null}},ua);function _y(Ty){for(var Ay=0;Ay<Ty.length;Ay++)this._data.push(Ty[Ay])}}(),ha}(),getItemSimply=function(ha,ua,Sa,ba){return ha[ba]},rawSourceItemGetterMap=(_a$2={},_a$2[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(ha,ua,Sa,ba){return ha[ba+ua]},_a$2[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(ha,ua,Sa,ba,ka){ba+=ua;for(var _y=ka||[],Ty=ha,Ay=0;Ay<Ty.length;Ay++){var Ey=Ty[Ay];_y[Ay]=Ey?Ey[ba]:null}return _y},_a$2[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a$2[SOURCE_FORMAT_KEYED_COLUMNS]=function(ha,ua,Sa,ba,ka){for(var _y=ka||[],Ty=0;Ty<Sa.length;Ty++){var Ay=Sa[Ty].name,Ey=ha[Ay];_y[Ty]=Ey?Ey[ba]:null}return _y},_a$2[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a$2);function getRawSourceItemGetter(ha,ua){var Sa=rawSourceItemGetterMap[getMethodMapKey(ha,ua)];return Sa}var countSimply=function(ha,ua,Sa){return ha.length},rawSourceDataCounterMap=(_b$1={},_b$1[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(ha,ua,Sa){return Math.max(0,ha.length-ua)},_b$1[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(ha,ua,Sa){var ba=ha[0];return ba?Math.max(0,ba.length-ua):0},_b$1[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b$1[SOURCE_FORMAT_KEYED_COLUMNS]=function(ha,ua,Sa){var ba=Sa[0].name,ka=ha[ba];return ka?ka.length:0},_b$1[SOURCE_FORMAT_ORIGINAL]=countSimply,_b$1);function getRawSourceDataCounter(ha,ua){var Sa=rawSourceDataCounterMap[getMethodMapKey(ha,ua)];return Sa}var getRawValueSimply=function(ha,ua,Sa){return ha[ua]},rawSourceValueGetterMap=(_c$2={},_c$2[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c$2[SOURCE_FORMAT_OBJECT_ROWS]=function(ha,ua,Sa){return ha[Sa]},_c$2[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c$2[SOURCE_FORMAT_ORIGINAL]=function(ha,ua,Sa){var ba=getDataItemValue(ha);return ba instanceof Array?ba[ua]:ba},_c$2[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c$2);function getRawSourceValueGetter(ha){var ua=rawSourceValueGetterMap[ha];return ua}function getMethodMapKey(ha,ua){return ha===SOURCE_FORMAT_ARRAY_ROWS?ha+"_"+ua:ha}function retrieveRawValue(ha,ua,Sa){if(ha){var ba=ha.getRawDataItem(ua);if(ba!=null){var ka=ha.getStore(),_y=ka.getSource().sourceFormat;if(Sa!=null){var Ty=ha.getDimensionIndex(Sa),Ay=ka.getDimensionProperty(Ty);return getRawSourceValueGetter(_y)(ba,Ty,Ay)}else{var Ey=ba;return _y===SOURCE_FORMAT_ORIGINAL&&(Ey=getDataItemValue(ba)),Ey}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function ha(){}return ha.prototype.getDataParams=function(ua,Sa){var ba=this.getData(Sa),ka=this.getRawValue(ua,Sa),_y=ba.getRawIndex(ua),Ty=ba.getName(ua),Ay=ba.getRawDataItem(ua),Ey=ba.getItemVisual(ua,"style"),My=Ey&&Ey[ba.getItemVisual(ua,"drawType")||"fill"],Dy=Ey&&Ey.stroke,Iy=this.mainType,Ly=Iy==="series",Py=ba.userOutput&&ba.userOutput.get();return{componentType:Iy,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:Ly?this.subType:null,seriesIndex:this.seriesIndex,seriesId:Ly?this.id:null,seriesName:Ly?this.name:null,name:Ty,dataIndex:_y,data:Ay,dataType:Sa,value:ka,color:My,borderColor:Dy,dimensionNames:Py?Py.fullDimensions:null,encode:Py?Py.encode:null,$vars:["seriesName","name","value"]}},ha.prototype.getFormattedLabel=function(ua,Sa,ba,ka,_y,Ty){Sa=Sa||"normal";var Ay=this.getData(ba),Ey=this.getDataParams(ua,ba);if(Ty&&(Ey.value=Ty.interpolatedValue),ka!=null&&isArray$1(Ey.value)&&(Ey.value=Ey.value[ka]),!_y){var My=Ay.getItemModel(ua);_y=My.get(Sa==="normal"?["label","formatter"]:[Sa,"label","formatter"])}if(isFunction(_y))return Ey.status=Sa,Ey.dimensionIndex=ka,_y(Ey);if(isString(_y)){var Dy=formatTpl(_y,Ey);return Dy.replace(DIMENSION_LABEL_REG,function(Iy,Ly){var Py=Ly.length,Ry=Ly;Ry.charAt(0)==="["&&Ry.charAt(Py-1)==="]"&&(Ry=+Ry.slice(1,Py-1));var Vy=retrieveRawValue(Ay,ua,Ry);if(Ty&&isArray$1(Ty.interpolatedValue)){var Ny=Ay.getDimensionIndex(Ry);Ny>=0&&(Vy=Ty.interpolatedValue[Ny])}return Vy!=null?Vy+"":""})}},ha.prototype.getRawValue=function(ua,Sa){return retrieveRawValue(this.getData(Sa),ua)},ha.prototype.formatTooltip=function(ua,Sa,ba){},ha}();function normalizeTooltipFormatResult(ha){var ua,Sa;return isObject$3(ha)?ha.type&&(Sa=ha):ua=ha,{text:ua,frag:Sa}}function createTask(ha){return new Task(ha)}var Task=function(){function ha(ua){ua=ua||{},this._reset=ua.reset,this._plan=ua.plan,this._count=ua.count,this._onDirty=ua.onDirty,this._dirty=!0}return ha.prototype.perform=function(ua){var Sa=this._upstream,ba=ua&&ua.skip;if(this._dirty&&Sa){var ka=this.context;ka.data=ka.outputData=Sa.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var _y;this._plan&&!ba&&(_y=this._plan(this.context));var Ty=Dy(this._modBy),Ay=this._modDataCount||0,Ey=Dy(ua&&ua.modBy),My=ua&&ua.modDataCount||0;(Ty!==Ey||Ay!==My)&&(_y="reset");function Dy(Oy){return!(Oy>=1)&&(Oy=1),Oy}var Iy;(this._dirty||_y==="reset")&&(this._dirty=!1,Iy=this._doReset(ba)),this._modBy=Ey,this._modDataCount=My;var Ly=ua&&ua.step;if(Sa?this._dueEnd=Sa._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var Py=this._dueIndex,Ry=Math.min(Ly!=null?this._dueIndex+Ly:1/0,this._dueEnd);if(!ba&&(Iy||Py<Ry)){var Vy=this._progress;if(isArray$1(Vy))for(var Ny=0;Ny<Vy.length;Ny++)this._doProgress(Vy[Ny],Py,Ry,Ey,My);else this._doProgress(Vy,Py,Ry,Ey,My)}this._dueIndex=Ry;var By=this._settedOutputEnd!=null?this._settedOutputEnd:Ry;this._outputDueEnd=By}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},ha.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},ha.prototype._doProgress=function(ua,Sa,ba,ka,_y){iterator.reset(Sa,ba,ka,_y),this._callingProgress=ua,this._callingProgress({start:Sa,end:ba,count:ba-Sa,next:iterator.next},this.context)},ha.prototype._doReset=function(ua){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var Sa,ba;!ua&&this._reset&&(Sa=this._reset(this.context),Sa&&Sa.progress&&(ba=Sa.forceFirstProgress,Sa=Sa.progress),isArray$1(Sa)&&!Sa.length&&(Sa=null)),this._progress=Sa,this._modBy=this._modDataCount=null;var ka=this._downstream;return ka&&ka.dirty(),ba},ha.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},ha.prototype.pipe=function(ua){(this._downstream!==ua||this._dirty)&&(this._downstream=ua,ua._upstream=this,ua.dirty())},ha.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},ha.prototype.getUpstream=function(){return this._upstream},ha.prototype.getDownstream=function(){return this._downstream},ha.prototype.setOutputEnd=function(ua){this._outputDueEnd=this._settedOutputEnd=ua},ha}(),iterator=function(){var ha,ua,Sa,ba,ka,_y={reset:function(Ey,My,Dy,Iy){ua=Ey,ha=My,Sa=Dy,ba=Iy,ka=Math.ceil(ba/Sa),_y.next=Sa>1&&ba>0?Ay:Ty}};return _y;function Ty(){return ua<ha?ua++:null}function Ay(){var Ey=ua%ka*Sa+Math.ceil(ua/ka),My=ua>=ha?null:Ey<ba?Ey:ua;return ua++,My}}();function parseDataValue(ha,ua){var Sa=ua&&ua.type;return Sa==="ordinal"?ha:(Sa==="time"&&!isNumber(ha)&&ha!=null&&ha!=="-"&&(ha=+parseDate(ha)),ha==null||ha===""?NaN:Number(ha))}var valueParserMap=createHashMap({number:function(ha){return parseFloat(ha)},time:function(ha){return+parseDate(ha)},trim:function(ha){return isString(ha)?trim$1(ha):ha}});function getRawValueParser(ha){return valueParserMap.get(ha)}var ORDER_COMPARISON_OP_MAP={lt:function(ha,ua){return ha<ua},lte:function(ha,ua){return ha<=ua},gt:function(ha,ua){return ha>ua},gte:function(ha,ua){return ha>=ua}},FilterOrderComparator=function(){function ha(ua,Sa){if(!isNumber(Sa)){var ba="";throwError(ba)}this._opFn=ORDER_COMPARISON_OP_MAP[ua],this._rvalFloat=numericToNumber(Sa)}return ha.prototype.evaluate=function(ua){return isNumber(ua)?this._opFn(ua,this._rvalFloat):this._opFn(numericToNumber(ua),this._rvalFloat)},ha}(),SortOrderComparator=function(){function ha(ua,Sa){var ba=ua==="desc";this._resultLT=ba?1:-1,Sa==null&&(Sa=ba?"min":"max"),this._incomparable=Sa==="min"?-1/0:1/0}return ha.prototype.evaluate=function(ua,Sa){var ba=isNumber(ua)?ua:numericToNumber(ua),ka=isNumber(Sa)?Sa:numericToNumber(Sa),_y=isNaN(ba),Ty=isNaN(ka);if(_y&&(ba=this._incomparable),Ty&&(ka=this._incomparable),_y&&Ty){var Ay=isString(ua),Ey=isString(Sa);Ay&&(ba=Ey?ua:0),Ey&&(ka=Ay?Sa:0)}return ba<ka?this._resultLT:ba>ka?-this._resultLT:0},ha}(),FilterEqualityComparator=function(){function ha(ua,Sa){this._rval=Sa,this._isEQ=ua,this._rvalTypeof=typeof Sa,this._rvalFloat=numericToNumber(Sa)}return ha.prototype.evaluate=function(ua){var Sa=ua===this._rval;if(!Sa){var ba=typeof ua;ba!==this._rvalTypeof&&(ba==="number"||this._rvalTypeof==="number")&&(Sa=numericToNumber(ua)===this._rvalFloat)}return this._isEQ?Sa:!Sa},ha}();function createFilterComparator(ha,ua){return ha==="eq"||ha==="ne"?new FilterEqualityComparator(ha==="eq",ua):hasOwn(ORDER_COMPARISON_OP_MAP,ha)?new FilterOrderComparator(ha,ua):null}var ExternalSource=function(){function ha(){}return ha.prototype.getRawData=function(){throw new Error("not supported")},ha.prototype.getRawDataItem=function(ua){throw new Error("not supported")},ha.prototype.cloneRawData=function(){},ha.prototype.getDimensionInfo=function(ua){},ha.prototype.cloneAllDimensionInfo=function(){},ha.prototype.count=function(){},ha.prototype.retrieveValue=function(ua,Sa){},ha.prototype.retrieveValueFromItem=function(ua,Sa){},ha.prototype.convertValue=function(ua,Sa){return parseDataValue(ua,Sa)},ha}();function createExternalSource(ha,ua){var Sa=new ExternalSource,ba=ha.data,ka=Sa.sourceFormat=ha.sourceFormat,_y=ha.startIndex,Ty="";ha.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(Ty);var Ay=[],Ey={},My=ha.dimensionsDefine;if(My)each$f(My,function(Vy,Ny){var By=Vy.name,Oy={index:Ny,name:By,displayName:Vy.displayName};if(Ay.push(Oy),By!=null){var Fy="";hasOwn(Ey,By)&&throwError(Fy),Ey[By]=Oy}});else for(var Dy=0;Dy<ha.dimensionsDetectedCount;Dy++)Ay.push({index:Dy});var Iy=getRawSourceItemGetter(ka,SERIES_LAYOUT_BY_COLUMN);ua.__isBuiltIn&&(Sa.getRawDataItem=function(Vy){return Iy(ba,_y,Ay,Vy)},Sa.getRawData=bind$1(getRawData,null,ha)),Sa.cloneRawData=bind$1(cloneRawData,null,ha);var Ly=getRawSourceDataCounter(ka,SERIES_LAYOUT_BY_COLUMN);Sa.count=bind$1(Ly,null,ba,_y,Ay);var Py=getRawSourceValueGetter(ka);Sa.retrieveValue=function(Vy,Ny){var By=Iy(ba,_y,Ay,Vy);return Ry(By,Ny)};var Ry=Sa.retrieveValueFromItem=function(Vy,Ny){if(Vy!=null){var By=Ay[Ny];if(By)return Py(Vy,Ny,By.name)}};return Sa.getDimensionInfo=bind$1(getDimensionInfo,null,Ay,Ey),Sa.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,Ay),Sa}function getRawData(ha){var ua=ha.sourceFormat;if(!isSupportedSourceFormat(ua)){var Sa="";throwError(Sa)}return ha.data}function cloneRawData(ha){var ua=ha.sourceFormat,Sa=ha.data;if(!isSupportedSourceFormat(ua)){var ba="";throwError(ba)}if(ua===SOURCE_FORMAT_ARRAY_ROWS){for(var ka=[],_y=0,Ty=Sa.length;_y<Ty;_y++)ka.push(Sa[_y].slice());return ka}else if(ua===SOURCE_FORMAT_OBJECT_ROWS){for(var ka=[],_y=0,Ty=Sa.length;_y<Ty;_y++)ka.push(extend({},Sa[_y]));return ka}}function getDimensionInfo(ha,ua,Sa){if(Sa!=null){if(isNumber(Sa)||!isNaN(Sa)&&!hasOwn(ua,Sa))return ha[Sa];if(hasOwn(ua,Sa))return ua[Sa]}}function cloneAllDimensionInfo(ha){return clone$4(ha)}var externalTransformMap=createHashMap();function registerExternalTransform(ha){ha=clone$4(ha);var ua=ha.type,Sa="";ua||throwError(Sa);var ba=ua.split(":");ba.length!==2&&throwError(Sa);var ka=!1;ba[0]==="echarts"&&(ua=ba[1],ka=!0),ha.__isBuiltIn=ka,externalTransformMap.set(ua,ha)}function applyDataTransform(ha,ua,Sa){var ba=normalizeToArray(ha),ka=ba.length,_y="";ka||throwError(_y);for(var Ty=0,Ay=ka;Ty<Ay;Ty++){var Ey=ba[Ty];ua=applySingleDataTransform(Ey,ua),Ty!==Ay-1&&(ua.length=Math.max(ua.length,1))}return ua}function applySingleDataTransform(ha,ua,Sa,ba){var ka="";ua.length||throwError(ka),isObject$3(ha)||throwError(ka);var _y=ha.type,Ty=externalTransformMap.get(_y);Ty||throwError(ka);var Ay=map$1(ua,function(My){return createExternalSource(My,Ty)}),Ey=normalizeToArray(Ty.transform({upstream:Ay[0],upstreamList:Ay,config:clone$4(ha.config)}));return map$1(Ey,function(My,Dy){var Iy="";isObject$3(My)||throwError(Iy),My.data||throwError(Iy);var Ly=detectSourceFormat(My.data);isSupportedSourceFormat(Ly)||throwError(Iy);var Py,Ry=ua[0];if(Ry&&Dy===0&&!My.dimensions){var Vy=Ry.startIndex;Vy&&(My.data=Ry.data.slice(0,Vy).concat(My.data)),Py={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:Vy,dimensions:Ry.metaRawOption.dimensions}}else Py={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:My.dimensions};return createSource(My.data,Py,null)})}function isSupportedSourceFormat(ha){return ha===SOURCE_FORMAT_ARRAY_ROWS||ha===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(ha){return ha>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(ha){var ua=ha.constructor;return ua===Array?ha.slice():new ua(ha)}function prepareStore(ha,ua,Sa,ba,ka){var _y=dataCtors[Sa||"float"];if(ka){var Ty=ha[ua],Ay=Ty&&Ty.length;if(Ay!==ba){for(var Ey=new _y(ba),My=0;My<Ay;My++)Ey[My]=Ty[My];ha[ua]=Ey}}else ha[ua]=new _y(ba)}var DataStore=function(){function ha(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return ha.prototype.initData=function(ua,Sa,ba){this._provider=ua,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var ka=ua.getSource(),_y=this.defaultDimValueGetter=defaultDimValueGetters[ka.sourceFormat];this._dimValueGetter=ba||_y,this._rawExtent=[],shouldRetrieveDataByName(ka),this._dimensions=map$1(Sa,function(Ty){return{type:Ty.type,property:Ty.property}}),this._initDataFromProvider(0,ua.count())},ha.prototype.getProvider=function(){return this._provider},ha.prototype.getSource=function(){return this._provider.getSource()},ha.prototype.ensureCalculationDimension=function(ua,Sa){var ba=this._calcDimNameToIdx,ka=this._dimensions,_y=ba.get(ua);if(_y!=null){if(ka[_y].type===Sa)return _y}else _y=ka.length;return ka[_y]={type:Sa},ba.set(ua,_y),this._chunks[_y]=new dataCtors[Sa||"float"](this._rawCount),this._rawExtent[_y]=getInitialExtent(),_y},ha.prototype.collectOrdinalMeta=function(ua,Sa){var ba=this._chunks[ua],ka=this._dimensions[ua],_y=this._rawExtent,Ty=ka.ordinalOffset||0,Ay=ba.length;Ty===0&&(_y[ua]=getInitialExtent());for(var Ey=_y[ua],My=Ty;My<Ay;My++){var Dy=ba[My]=Sa.parseAndCollect(ba[My]);isNaN(Dy)||(Ey[0]=Math.min(Dy,Ey[0]),Ey[1]=Math.max(Dy,Ey[1]))}ka.ordinalMeta=Sa,ka.ordinalOffset=Ay,ka.type="ordinal"},ha.prototype.getOrdinalMeta=function(ua){var Sa=this._dimensions[ua],ba=Sa.ordinalMeta;return ba},ha.prototype.getDimensionProperty=function(ua){var Sa=this._dimensions[ua];return Sa&&Sa.property},ha.prototype.appendData=function(ua){var Sa=this._provider,ba=this.count();Sa.appendData(ua);var ka=Sa.count();return Sa.persistent||(ka+=ba),ba<ka&&this._initDataFromProvider(ba,ka,!0),[ba,ka]},ha.prototype.appendValues=function(ua,Sa){for(var ba=this._chunks,ka=this._dimensions,_y=ka.length,Ty=this._rawExtent,Ay=this.count(),Ey=Ay+Math.max(ua.length,Sa||0),My=0;My<_y;My++){var Dy=ka[My];prepareStore(ba,My,Dy.type,Ey,!0)}for(var Iy=[],Ly=Ay;Ly<Ey;Ly++)for(var Py=Ly-Ay,Ry=0;Ry<_y;Ry++){var Dy=ka[Ry],Vy=defaultDimValueGetters.arrayRows.call(this,ua[Py]||Iy,Dy.property,Py,Ry);ba[Ry][Ly]=Vy;var Ny=Ty[Ry];Vy<Ny[0]&&(Ny[0]=Vy),Vy>Ny[1]&&(Ny[1]=Vy)}return this._rawCount=this._count=Ey,{start:Ay,end:Ey}},ha.prototype._initDataFromProvider=function(ua,Sa,ba){for(var ka=this._provider,_y=this._chunks,Ty=this._dimensions,Ay=Ty.length,Ey=this._rawExtent,My=map$1(Ty,function(Oy){return Oy.property}),Dy=0;Dy<Ay;Dy++){var Iy=Ty[Dy];Ey[Dy]||(Ey[Dy]=getInitialExtent()),prepareStore(_y,Dy,Iy.type,Sa,ba)}if(ka.fillStorage)ka.fillStorage(ua,Sa,_y,Ey);else for(var Ly=[],Py=ua;Py<Sa;Py++){Ly=ka.getItem(Py,Ly);for(var Ry=0;Ry<Ay;Ry++){var Vy=_y[Ry],Ny=this._dimValueGetter(Ly,My[Ry],Py,Ry);Vy[Py]=Ny;var By=Ey[Ry];Ny<By[0]&&(By[0]=Ny),Ny>By[1]&&(By[1]=Ny)}}!ka.persistent&&ka.clean&&ka.clean(),this._rawCount=this._count=Sa,this._extent=[]},ha.prototype.count=function(){return this._count},ha.prototype.get=function(ua,Sa){if(!(Sa>=0&&Sa<this._count))return NaN;var ba=this._chunks[ua];return ba?ba[this.getRawIndex(Sa)]:NaN},ha.prototype.getValues=function(ua,Sa){var ba=[],ka=[];if(Sa==null){Sa=ua,ua=[];for(var _y=0;_y<this._dimensions.length;_y++)ka.push(_y)}else ka=ua;for(var _y=0,Ty=ka.length;_y<Ty;_y++)ba.push(this.get(ka[_y],Sa));return ba},ha.prototype.getByRawIndex=function(ua,Sa){if(!(Sa>=0&&Sa<this._rawCount))return NaN;var ba=this._chunks[ua];return ba?ba[Sa]:NaN},ha.prototype.getSum=function(ua){var Sa=this._chunks[ua],ba=0;if(Sa)for(var ka=0,_y=this.count();ka<_y;ka++){var Ty=this.get(ua,ka);isNaN(Ty)||(ba+=Ty)}return ba},ha.prototype.getMedian=function(ua){var Sa=[];this.each([ua],function(_y){isNaN(_y)||Sa.push(_y)});var ba=Sa.sort(function(_y,Ty){return _y-Ty}),ka=this.count();return ka===0?0:ka%2===1?ba[(ka-1)/2]:(ba[ka/2]+ba[ka/2-1])/2},ha.prototype.indexOfRawIndex=function(ua){if(ua>=this._rawCount||ua<0)return-1;if(!this._indices)return ua;var Sa=this._indices,ba=Sa[ua];if(ba!=null&&ba<this._count&&ba===ua)return ua;for(var ka=0,_y=this._count-1;ka<=_y;){var Ty=(ka+_y)/2|0;if(Sa[Ty]<ua)ka=Ty+1;else if(Sa[Ty]>ua)_y=Ty-1;else return Ty}return-1},ha.prototype.indicesOfNearest=function(ua,Sa,ba){var ka=this._chunks,_y=ka[ua],Ty=[];if(!_y)return Ty;ba==null&&(ba=1/0);for(var Ay=1/0,Ey=-1,My=0,Dy=0,Iy=this.count();Dy<Iy;Dy++){var Ly=this.getRawIndex(Dy),Py=Sa-_y[Ly],Ry=Math.abs(Py);Ry<=ba&&((Ry<Ay||Ry===Ay&&Py>=0&&Ey<0)&&(Ay=Ry,Ey=Py,My=0),Py===Ey&&(Ty[My++]=Dy))}return Ty.length=My,Ty},ha.prototype.getIndices=function(){var ua,Sa=this._indices;if(Sa){var ba=Sa.constructor,ka=this._count;if(ba===Array){ua=new ba(ka);for(var _y=0;_y<ka;_y++)ua[_y]=Sa[_y]}else ua=new ba(Sa.buffer,0,ka)}else{var ba=getIndicesCtor(this._rawCount);ua=new ba(this.count());for(var _y=0;_y<ua.length;_y++)ua[_y]=_y}return ua},ha.prototype.filter=function(ua,Sa){if(!this._count)return this;for(var ba=this.clone(),ka=ba.count(),_y=getIndicesCtor(ba._rawCount),Ty=new _y(ka),Ay=[],Ey=ua.length,My=0,Dy=ua[0],Iy=ba._chunks,Ly=0;Ly<ka;Ly++){var Py=void 0,Ry=ba.getRawIndex(Ly);if(Ey===0)Py=Sa(Ly);else if(Ey===1){var Vy=Iy[Dy][Ry];Py=Sa(Vy,Ly)}else{for(var Ny=0;Ny<Ey;Ny++)Ay[Ny]=Iy[ua[Ny]][Ry];Ay[Ny]=Ly,Py=Sa.apply(null,Ay)}Py&&(Ty[My++]=Ry)}return My<ka&&(ba._indices=Ty),ba._count=My,ba._extent=[],ba._updateGetRawIdx(),ba},ha.prototype.selectRange=function(ua){var Sa=this.clone(),ba=Sa._count;if(!ba)return this;var ka=keys(ua),_y=ka.length;if(!_y)return this;var Ty=Sa.count(),Ay=getIndicesCtor(Sa._rawCount),Ey=new Ay(Ty),My=0,Dy=ka[0],Iy=ua[Dy][0],Ly=ua[Dy][1],Py=Sa._chunks,Ry=!1;if(!Sa._indices){var Vy=0;if(_y===1){for(var Ny=Py[ka[0]],By=0;By<ba;By++){var Oy=Ny[By];(Oy>=Iy&&Oy<=Ly||isNaN(Oy))&&(Ey[My++]=Vy),Vy++}Ry=!0}else if(_y===2){for(var Ny=Py[ka[0]],Fy=Py[ka[1]],zy=ua[ka[1]][0],Hy=ua[ka[1]][1],By=0;By<ba;By++){var Oy=Ny[By],Gy=Fy[By];(Oy>=Iy&&Oy<=Ly||isNaN(Oy))&&(Gy>=zy&&Gy<=Hy||isNaN(Gy))&&(Ey[My++]=Vy),Vy++}Ry=!0}}if(!Ry)if(_y===1)for(var By=0;By<Ty;By++){var Wy=Sa.getRawIndex(By),Oy=Py[ka[0]][Wy];(Oy>=Iy&&Oy<=Ly||isNaN(Oy))&&(Ey[My++]=Wy)}else for(var By=0;By<Ty;By++){for(var Uy=!0,Wy=Sa.getRawIndex(By),Yy=0;Yy<_y;Yy++){var jy=ka[Yy],Oy=Py[jy][Wy];(Oy<ua[jy][0]||Oy>ua[jy][1])&&(Uy=!1)}Uy&&(Ey[My++]=Sa.getRawIndex(By))}return My<Ty&&(Sa._indices=Ey),Sa._count=My,Sa._extent=[],Sa._updateGetRawIdx(),Sa},ha.prototype.map=function(ua,Sa){var ba=this.clone(ua);return this._updateDims(ba,ua,Sa),ba},ha.prototype.modify=function(ua,Sa){this._updateDims(this,ua,Sa)},ha.prototype._updateDims=function(ua,Sa,ba){for(var ka=ua._chunks,_y=[],Ty=Sa.length,Ay=ua.count(),Ey=[],My=ua._rawExtent,Dy=0;Dy<Sa.length;Dy++)My[Sa[Dy]]=getInitialExtent();for(var Iy=0;Iy<Ay;Iy++){for(var Ly=ua.getRawIndex(Iy),Py=0;Py<Ty;Py++)Ey[Py]=ka[Sa[Py]][Ly];Ey[Ty]=Iy;var Ry=ba&&ba.apply(null,Ey);if(Ry!=null){typeof Ry!="object"&&(_y[0]=Ry,Ry=_y);for(var Dy=0;Dy<Ry.length;Dy++){var Vy=Sa[Dy],Ny=Ry[Dy],By=My[Vy],Oy=ka[Vy];Oy&&(Oy[Ly]=Ny),Ny<By[0]&&(By[0]=Ny),Ny>By[1]&&(By[1]=Ny)}}}},ha.prototype.lttbDownSample=function(ua,Sa){var ba=this.clone([ua],!0),ka=ba._chunks,_y=ka[ua],Ty=this.count(),Ay=0,Ey=Math.floor(1/Sa),My=this.getRawIndex(0),Dy,Iy,Ly,Py=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(Ty/Ey)+2)*2,Ty));Py[Ay++]=My;for(var Ry=1;Ry<Ty-1;Ry+=Ey){for(var Vy=Math.min(Ry+Ey,Ty-1),Ny=Math.min(Ry+Ey*2,Ty),By=(Ny+Vy)/2,Oy=0,Fy=Vy;Fy<Ny;Fy++){var zy=this.getRawIndex(Fy),Hy=_y[zy];isNaN(Hy)||(Oy+=Hy)}Oy/=Ny-Vy;var Gy=Ry,Wy=Math.min(Ry+Ey,Ty),Uy=Ry-1,Yy=_y[My];Dy=-1,Ly=Gy;for(var jy=-1,Ky=0,Fy=Gy;Fy<Wy;Fy++){var zy=this.getRawIndex(Fy),Hy=_y[zy];if(isNaN(Hy)){Ky++,jy<0&&(jy=zy);continue}Iy=Math.abs((Uy-By)*(Hy-Yy)-(Uy-Fy)*(Oy-Yy)),Iy>Dy&&(Dy=Iy,Ly=zy)}Ky>0&&Ky<Wy-Gy&&(Py[Ay++]=Math.min(jy,Ly),Ly=Math.max(jy,Ly)),Py[Ay++]=Ly,My=Ly}return Py[Ay++]=this.getRawIndex(Ty-1),ba._count=Ay,ba._indices=Py,ba.getRawIndex=this._getRawIdx,ba},ha.prototype.minmaxDownSample=function(ua,Sa){for(var ba=this.clone([ua],!0),ka=ba._chunks,_y=Math.floor(1/Sa),Ty=ka[ua],Ay=this.count(),Ey=new(getIndicesCtor(this._rawCount))(Math.ceil(Ay/_y)*2),My=0,Dy=0;Dy<Ay;Dy+=_y){var Iy=Dy,Ly=Ty[this.getRawIndex(Iy)],Py=Dy,Ry=Ty[this.getRawIndex(Py)],Vy=_y;Dy+_y>Ay&&(Vy=Ay-Dy);for(var Ny=0;Ny<Vy;Ny++){var By=this.getRawIndex(Dy+Ny),Oy=Ty[By];Oy<Ly&&(Ly=Oy,Iy=Dy+Ny),Oy>Ry&&(Ry=Oy,Py=Dy+Ny)}var Fy=this.getRawIndex(Iy),zy=this.getRawIndex(Py);Iy<Py?(Ey[My++]=Fy,Ey[My++]=zy):(Ey[My++]=zy,Ey[My++]=Fy)}return ba._count=My,ba._indices=Ey,ba._updateGetRawIdx(),ba},ha.prototype.downSample=function(ua,Sa,ba,ka){for(var _y=this.clone([ua],!0),Ty=_y._chunks,Ay=[],Ey=Math.floor(1/Sa),My=Ty[ua],Dy=this.count(),Iy=_y._rawExtent[ua]=getInitialExtent(),Ly=new(getIndicesCtor(this._rawCount))(Math.ceil(Dy/Ey)),Py=0,Ry=0;Ry<Dy;Ry+=Ey){Ey>Dy-Ry&&(Ey=Dy-Ry,Ay.length=Ey);for(var Vy=0;Vy<Ey;Vy++){var Ny=this.getRawIndex(Ry+Vy);Ay[Vy]=My[Ny]}var By=ba(Ay),Oy=this.getRawIndex(Math.min(Ry+ka(Ay,By)||0,Dy-1));My[Oy]=By,By<Iy[0]&&(Iy[0]=By),By>Iy[1]&&(Iy[1]=By),Ly[Py++]=Oy}return _y._count=Py,_y._indices=Ly,_y._updateGetRawIdx(),_y},ha.prototype.each=function(ua,Sa){if(this._count)for(var ba=ua.length,ka=this._chunks,_y=0,Ty=this.count();_y<Ty;_y++){var Ay=this.getRawIndex(_y);switch(ba){case 0:Sa(_y);break;case 1:Sa(ka[ua[0]][Ay],_y);break;case 2:Sa(ka[ua[0]][Ay],ka[ua[1]][Ay],_y);break;default:for(var Ey=0,My=[];Ey<ba;Ey++)My[Ey]=ka[ua[Ey]][Ay];My[Ey]=_y,Sa.apply(null,My)}}},ha.prototype.getDataExtent=function(ua){var Sa=this._chunks[ua],ba=getInitialExtent();if(!Sa)return ba;var ka=this.count(),_y=!this._indices,Ty;if(_y)return this._rawExtent[ua].slice();if(Ty=this._extent[ua],Ty)return Ty.slice();Ty=ba;for(var Ay=Ty[0],Ey=Ty[1],My=0;My<ka;My++){var Dy=this.getRawIndex(My),Iy=Sa[Dy];Iy<Ay&&(Ay=Iy),Iy>Ey&&(Ey=Iy)}return Ty=[Ay,Ey],this._extent[ua]=Ty,Ty},ha.prototype.getRawDataItem=function(ua){var Sa=this.getRawIndex(ua);if(this._provider.persistent)return this._provider.getItem(Sa);for(var ba=[],ka=this._chunks,_y=0;_y<ka.length;_y++)ba.push(ka[_y][Sa]);return ba},ha.prototype.clone=function(ua,Sa){var ba=new ha,ka=this._chunks,_y=ua&&reduce(ua,function(Ay,Ey){return Ay[Ey]=!0,Ay},{});if(_y)for(var Ty=0;Ty<ka.length;Ty++)ba._chunks[Ty]=_y[Ty]?cloneChunk(ka[Ty]):ka[Ty];else ba._chunks=ka;return this._copyCommonProps(ba),Sa||(ba._indices=this._cloneIndices()),ba._updateGetRawIdx(),ba},ha.prototype._copyCommonProps=function(ua){ua._count=this._count,ua._rawCount=this._rawCount,ua._provider=this._provider,ua._dimensions=this._dimensions,ua._extent=clone$4(this._extent),ua._rawExtent=clone$4(this._rawExtent)},ha.prototype._cloneIndices=function(){if(this._indices){var ua=this._indices.constructor,Sa=void 0;if(ua===Array){var ba=this._indices.length;Sa=new ua(ba);for(var ka=0;ka<ba;ka++)Sa[ka]=this._indices[ka]}else Sa=new ua(this._indices);return Sa}return null},ha.prototype._getRawIdxIdentity=function(ua){return ua},ha.prototype._getRawIdx=function(ua){return ua<this._count&&ua>=0?this._indices[ua]:-1},ha.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},ha.internalField=function(){function ua(Sa,ba,ka,_y){return parseDataValue(Sa[_y],this._dimensions[_y])}defaultDimValueGetters={arrayRows:ua,objectRows:function(Sa,ba,ka,_y){return parseDataValue(Sa[ba],this._dimensions[_y])},keyedColumns:ua,original:function(Sa,ba,ka,_y){var Ty=Sa&&(Sa.value==null?Sa:Sa.value);return parseDataValue(Ty instanceof Array?Ty[_y]:Ty,this._dimensions[_y])},typedArray:function(Sa,ba,ka,_y){return Sa[_y]}}}(),ha}(),SourceManager=function(){function ha(ua){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=ua}return ha.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},ha.prototype._setLocalSource=function(ua,Sa){this._sourceList=ua,this._upstreamSignList=Sa,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},ha.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},ha.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},ha.prototype._createSource=function(){this._setLocalSource([],[]);var ua=this._sourceHost,Sa=this._getUpstreamSourceManagers(),ba=!!Sa.length,ka,_y;if(isSeries(ua)){var Ty=ua,Ay=void 0,Ey=void 0,My=void 0;if(ba){var Dy=Sa[0];Dy.prepareSource(),My=Dy.getSource(),Ay=My.data,Ey=My.sourceFormat,_y=[Dy._getVersionSign()]}else Ay=Ty.get("data",!0),Ey=isTypedArray(Ay)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,_y=[];var Iy=this._getSourceMetaRawOption()||{},Ly=My&&My.metaRawOption||{},Py=retrieve2(Iy.seriesLayoutBy,Ly.seriesLayoutBy)||null,Ry=retrieve2(Iy.sourceHeader,Ly.sourceHeader),Vy=retrieve2(Iy.dimensions,Ly.dimensions),Ny=Py!==Ly.seriesLayoutBy||!!Ry!=!!Ly.sourceHeader||Vy;ka=Ny?[createSource(Ay,{seriesLayoutBy:Py,sourceHeader:Ry,dimensions:Vy},Ey)]:[]}else{var By=ua;if(ba){var Oy=this._applyTransform(Sa);ka=Oy.sourceList,_y=Oy.upstreamSignList}else{var Fy=By.get("source",!0);ka=[createSource(Fy,this._getSourceMetaRawOption(),null)],_y=[]}}this._setLocalSource(ka,_y)},ha.prototype._applyTransform=function(ua){var Sa=this._sourceHost,ba=Sa.get("transform",!0),ka=Sa.get("fromTransformResult",!0);if(ka!=null){var _y="";ua.length!==1&&doThrow(_y)}var Ty,Ay=[],Ey=[];return each$f(ua,function(My){My.prepareSource();var Dy=My.getSource(ka||0),Iy="";ka!=null&&!Dy&&doThrow(Iy),Ay.push(Dy),Ey.push(My._getVersionSign())}),ba?Ty=applyDataTransform(ba,Ay,{datasetIndex:Sa.componentIndex}):ka!=null&&(Ty=[cloneSourceShallow(Ay[0])]),{sourceList:Ty,upstreamSignList:Ey}},ha.prototype._isDirty=function(){if(this._dirty)return!0;for(var ua=this._getUpstreamSourceManagers(),Sa=0;Sa<ua.length;Sa++){var ba=ua[Sa];if(ba._isDirty()||this._upstreamSignList[Sa]!==ba._getVersionSign())return!0}},ha.prototype.getSource=function(ua){ua=ua||0;var Sa=this._sourceList[ua];if(!Sa){var ba=this._getUpstreamSourceManagers();return ba[0]&&ba[0].getSource(ua)}return Sa},ha.prototype.getSharedDataStore=function(ua){var Sa=ua.makeStoreSchema();return this._innerGetDataStore(Sa.dimensions,ua.source,Sa.hash)},ha.prototype._innerGetDataStore=function(ua,Sa,ba){var ka=0,_y=this._storeList,Ty=_y[ka];Ty||(Ty=_y[ka]={});var Ay=Ty[ba];if(!Ay){var Ey=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&Ey?Ay=Ey._innerGetDataStore(ua,Sa,ba):(Ay=new DataStore,Ay.initData(new DefaultDataProvider(Sa,ua.length),ua)),Ty[ba]=Ay}return Ay},ha.prototype._getUpstreamSourceManagers=function(){var ua=this._sourceHost;if(isSeries(ua)){var Sa=querySeriesUpstreamDatasetModel(ua);return Sa?[Sa.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(ua),function(ba){return ba.getSourceManager()})},ha.prototype._getSourceMetaRawOption=function(){var ua=this._sourceHost,Sa,ba,ka;if(isSeries(ua))Sa=ua.get("seriesLayoutBy",!0),ba=ua.get("sourceHeader",!0),ka=ua.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var _y=ua;Sa=_y.get("seriesLayoutBy",!0),ba=_y.get("sourceHeader",!0),ka=_y.get("dimensions",!0)}return{seriesLayoutBy:Sa,sourceHeader:ba,dimensions:ka}},ha}();function disableTransformOptionMerge(ha){var ua=ha.option.transform;ua&&setAsPrimitive(ha.option.transform)}function isSeries(ha){return ha.mainType==="series"}function doThrow(ha){throw new Error(ha)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipLineHeight(ha){var ua=ha.lineHeight;return ua==null?TOOLTIP_LINE_HEIGHT_CSS:"line-height:"+encodeHTML(ua+"")+"px"}function getTooltipTextStyle(ha,ua){var Sa=ha.color||"#6e7079",ba=ha.fontSize||12,ka=ha.fontWeight||"400",_y=ha.color||"#464646",Ty=ha.fontSize||14,Ay=ha.fontWeight||"900";return ua==="html"?{nameStyle:"font-size:"+encodeHTML(ba+"")+"px;color:"+encodeHTML(Sa)+";font-weight:"+encodeHTML(ka+""),valueStyle:"font-size:"+encodeHTML(Ty+"")+"px;color:"+encodeHTML(_y)+";font-weight:"+encodeHTML(Ay+"")}:{nameStyle:{fontSize:ba,fill:Sa,fontWeight:ka},valueStyle:{fontSize:Ty,fill:_y,fontWeight:Ay}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(ha,ua){return ua.type=ha,ua}function isSectionFragment(ha){return ha.type==="section"}function getBuilder(ha){return isSectionFragment(ha)?buildSection:buildNameValue}function getBlockGapLevel(ha){if(isSectionFragment(ha)){var ua=0,Sa=ha.blocks.length,ba=Sa>1||Sa>0&&!ha.noHeader;return each$f(ha.blocks,function(ka){var _y=getBlockGapLevel(ka);_y>=ua&&(ua=_y+ +(ba&&(!_y||isSectionFragment(ka)&&!ka.noHeader)))}),ua}return 0}function buildSection(ha,ua,Sa,ba){var ka=ua.noHeader,_y=getGap(getBlockGapLevel(ua)),Ty=[],Ay=ua.blocks||[];assert(!Ay||isArray$1(Ay)),Ay=Ay||[];var Ey=ha.orderMode;if(ua.sortBlocks&&Ey){Ay=Ay.slice();var My={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(My,Ey)){var Dy=new SortOrderComparator(My[Ey],null);Ay.sort(function(Vy,Ny){return Dy.evaluate(Vy.sortParam,Ny.sortParam)})}else Ey==="seriesDesc"&&Ay.reverse()}each$f(Ay,function(Vy,Ny){var By=ua.valueFormatter,Oy=getBuilder(Vy)(By?extend(extend({},ha),{valueFormatter:By}):ha,Vy,Ny>0?_y.html:0,ba);Oy!=null&&Ty.push(Oy)});var Iy=ha.renderMode==="richText"?Ty.join(_y.richText):wrapBlockHTML(ba,Ty.join(""),ka?Sa:_y.html);if(ka)return Iy;var Ly=makeValueReadable(ua.header,"ordinal",ha.useUTC),Py=getTooltipTextStyle(ba,ha.renderMode).nameStyle,Ry=getTooltipLineHeight(ba);return ha.renderMode==="richText"?wrapInlineNameRichText(ha,Ly,Py)+_y.richText+Iy:wrapBlockHTML(ba,'<div style="'+Py+";"+Ry+';">'+encodeHTML(Ly)+"</div>"+Iy,Sa)}function buildNameValue(ha,ua,Sa,ba){var ka=ha.renderMode,_y=ua.noName,Ty=ua.noValue,Ay=!ua.markerType,Ey=ua.name,My=ha.useUTC,Dy=ua.valueFormatter||ha.valueFormatter||function(zy){return zy=isArray$1(zy)?zy:[zy],map$1(zy,function(Hy,Gy){return makeValueReadable(Hy,isArray$1(Py)?Py[Gy]:Py,My)})};if(!(_y&&Ty)){var Iy=Ay?"":ha.markupStyleCreator.makeTooltipMarker(ua.markerType,ua.markerColor||"#333",ka),Ly=_y?"":makeValueReadable(Ey,"ordinal",My),Py=ua.valueType,Ry=Ty?[]:Dy(ua.value,ua.dataIndex),Vy=!Ay||!_y,Ny=!Ay&&_y,By=getTooltipTextStyle(ba,ka),Oy=By.nameStyle,Fy=By.valueStyle;return ka==="richText"?(Ay?"":Iy)+(_y?"":wrapInlineNameRichText(ha,Ly,Oy))+(Ty?"":wrapInlineValueRichText(ha,Ry,Vy,Ny,Fy)):wrapBlockHTML(ba,(Ay?"":Iy)+(_y?"":wrapInlineNameHTML(Ly,!Ay,Oy))+(Ty?"":wrapInlineValueHTML(Ry,Vy,Ny,Fy)),Sa)}}function buildTooltipMarkup(ha,ua,Sa,ba,ka,_y){if(ha){var Ty=getBuilder(ha),Ay={useUTC:ka,renderMode:Sa,orderMode:ba,markupStyleCreator:ua,valueFormatter:ha.valueFormatter};return Ty(Ay,ha,0,_y)}}function getGap(ha){return{html:HTML_GAPS[ha],richText:RICH_TEXT_GAPS[ha]}}function wrapBlockHTML(ha,ua,Sa){var ba='<div style="clear:both"></div>',ka="margin: "+Sa+"px 0 0",_y=getTooltipLineHeight(ha);return'<div style="'+ka+";"+_y+';">'+ua+ba+"</div>"}function wrapInlineNameHTML(ha,ua,Sa){var ba=ua?"margin-left:2px":"";return'<span style="'+Sa+";"+ba+'">'+encodeHTML(ha)+"</span>"}function wrapInlineValueHTML(ha,ua,Sa,ba){var ka=Sa?"10px":"20px",_y=ua?"float:right;margin-left:"+ka:"";return ha=isArray$1(ha)?ha:[ha],'<span style="'+_y+";"+ba+'">'+map$1(ha,function(Ty){return encodeHTML(Ty)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(ha,ua,Sa){return ha.markupStyleCreator.wrapRichTextStyle(ua,Sa)}function wrapInlineValueRichText(ha,ua,Sa,ba,ka){var _y=[ka],Ty=ba?10:20;return Sa&&_y.push({padding:[0,0,0,Ty],align:"right"}),ha.markupStyleCreator.wrapRichTextStyle(isArray$1(ua)?ua.join("  "):ua,_y)}function retrieveVisualColorForTooltipMarker(ha,ua){var Sa=ha.getData().getItemVisual(ua,"style"),ba=Sa[ha.visualDrawType];return convertToColorString(ba)}function getPaddingFromTooltipModel(ha,ua){var Sa=ha.get("padding");return Sa??(ua==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function ha(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return ha.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},ha.prototype.makeTooltipMarker=function(ua,Sa,ba){var ka=ba==="richText"?this._generateStyleName():null,_y=getTooltipMarker({color:Sa,type:ua,renderMode:ba,markerId:ka});return isString(_y)?_y:(this.richTextStyles[ka]=_y.style,_y.content)},ha.prototype.wrapRichTextStyle=function(ua,Sa){var ba={};isArray$1(Sa)?each$f(Sa,function(_y){return extend(ba,_y)}):extend(ba,Sa);var ka=this._generateStyleName();return this.richTextStyles[ka]=ba,"{"+ka+"|"+ua+"}"},ha}();function defaultSeriesFormatTooltip(ha){var ua=ha.series,Sa=ha.dataIndex,ba=ha.multipleSeries,ka=ua.getData(),_y=ka.mapDimensionsAll("defaultedTooltip"),Ty=_y.length,Ay=ua.getRawValue(Sa),Ey=isArray$1(Ay),My=retrieveVisualColorForTooltipMarker(ua,Sa),Dy,Iy,Ly,Py;if(Ty>1||Ey&&!Ty){var Ry=formatTooltipArrayValue(Ay,ua,Sa,_y,My);Dy=Ry.inlineValues,Iy=Ry.inlineValueTypes,Ly=Ry.blocks,Py=Ry.inlineValues[0]}else if(Ty){var Vy=ka.getDimensionInfo(_y[0]);Py=Dy=retrieveRawValue(ka,Sa,_y[0]),Iy=Vy.type}else Py=Dy=Ey?Ay[0]:Ay;var Ny=isNameSpecified(ua),By=Ny&&ua.name||"",Oy=ka.getName(Sa),Fy=ba?By:Oy;return createTooltipMarkup("section",{header:By,noHeader:ba||!Ny,sortParam:Py,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:My,name:Fy,noName:!trim$1(Fy),value:Dy,valueType:Iy,dataIndex:Sa})].concat(Ly||[])})}function formatTooltipArrayValue(ha,ua,Sa,ba,ka){var _y=ua.getData(),Ty=reduce(ha,function(Iy,Ly,Py){var Ry=_y.getDimensionInfo(Py);return Iy=Iy||Ry&&Ry.tooltip!==!1&&Ry.displayName!=null},!1),Ay=[],Ey=[],My=[];ba.length?each$f(ba,function(Iy){Dy(retrieveRawValue(_y,Sa,Iy),Iy)}):each$f(ha,Dy);function Dy(Iy,Ly){var Py=_y.getDimensionInfo(Ly);!Py||Py.otherDims.tooltip===!1||(Ty?My.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:ka,name:Py.displayName,value:Iy,valueType:Py.type})):(Ay.push(Iy),Ey.push(Py.type)))}return{inlineValues:Ay,inlineValueTypes:Ey,blocks:My}}var inner$k=makeInner();function getSelectionKey(ha,ua){return ha.getName(ua)||ha.getId(ua)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa._selectedDataIndicesMap={},Sa}return ua.prototype.init=function(Sa,ba,ka){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(Sa,ka);var _y=inner$k(this).sourceManager=new SourceManager(this);_y.prepareSource();var Ty=this.getInitialData(Sa,ka);wrapData(Ty,this),this.dataTask.context.data=Ty,inner$k(this).dataBeforeProcessed=Ty,autoSeriesName(this),this._initSelectedMapFromData(Ty)},ua.prototype.mergeDefaultAndTheme=function(Sa,ba){var ka=fetchLayoutMode(this),_y=ka?getLayoutParams(Sa):{},Ty=this.subType;ComponentModel.hasClass(Ty)&&(Ty+="Series"),merge(Sa,ba.getTheme().get(this.subType)),merge(Sa,this.getDefaultOption()),defaultEmphasis(Sa,"label",["show"]),this.fillDataTextStyle(Sa.data),ka&&mergeLayoutParam(Sa,_y,ka)},ua.prototype.mergeOption=function(Sa,ba){Sa=merge(this.option,Sa,!0),this.fillDataTextStyle(Sa.data);var ka=fetchLayoutMode(this);ka&&mergeLayoutParam(this.option,Sa,ka);var _y=inner$k(this).sourceManager;_y.dirty(),_y.prepareSource();var Ty=this.getInitialData(Sa,ba);wrapData(Ty,this),this.dataTask.dirty(),this.dataTask.context.data=Ty,inner$k(this).dataBeforeProcessed=Ty,autoSeriesName(this),this._initSelectedMapFromData(Ty)},ua.prototype.fillDataTextStyle=function(Sa){if(Sa&&!isTypedArray(Sa))for(var ba=["show"],ka=0;ka<Sa.length;ka++)Sa[ka]&&Sa[ka].label&&defaultEmphasis(Sa[ka],"label",ba)},ua.prototype.getInitialData=function(Sa,ba){},ua.prototype.appendData=function(Sa){var ba=this.getRawData();ba.appendData(Sa.data)},ua.prototype.getData=function(Sa){var ba=getCurrentTask(this);if(ba){var ka=ba.context.data;return Sa==null||!ka.getLinkedData?ka:ka.getLinkedData(Sa)}else return inner$k(this).data},ua.prototype.getAllData=function(){var Sa=this.getData();return Sa&&Sa.getLinkedDataAll?Sa.getLinkedDataAll():[{data:Sa}]},ua.prototype.setData=function(Sa){var ba=getCurrentTask(this);if(ba){var ka=ba.context;ka.outputData=Sa,ba!==this.dataTask&&(ka.data=Sa)}inner$k(this).data=Sa},ua.prototype.getEncode=function(){var Sa=this.get("encode",!0);if(Sa)return createHashMap(Sa)},ua.prototype.getSourceManager=function(){return inner$k(this).sourceManager},ua.prototype.getSource=function(){return this.getSourceManager().getSource()},ua.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},ua.prototype.getColorBy=function(){var Sa=this.get("colorBy");return Sa||"series"},ua.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},ua.prototype.getBaseAxis=function(){var Sa=this.coordinateSystem;return Sa&&Sa.getBaseAxis&&Sa.getBaseAxis()},ua.prototype.formatTooltip=function(Sa,ba,ka){return defaultSeriesFormatTooltip({series:this,dataIndex:Sa,multipleSeries:ba})},ua.prototype.isAnimationEnabled=function(){var Sa=this.ecModel;if(env.node&&!(Sa&&Sa.ssr))return!1;var ba=this.getShallow("animation");return ba&&this.getData().count()>this.getShallow("animationThreshold")&&(ba=!1),!!ba},ua.prototype.restoreData=function(){this.dataTask.dirty()},ua.prototype.getColorFromPalette=function(Sa,ba,ka){var _y=this.ecModel,Ty=PaletteMixin.prototype.getColorFromPalette.call(this,Sa,ba,ka);return Ty||(Ty=_y.getColorFromPalette(Sa,ba,ka)),Ty},ua.prototype.coordDimToDataDim=function(Sa){return this.getRawData().mapDimensionsAll(Sa)},ua.prototype.getProgressive=function(){return this.get("progressive")},ua.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},ua.prototype.select=function(Sa,ba){this._innerSelect(this.getData(ba),Sa)},ua.prototype.unselect=function(Sa,ba){var ka=this.option.selectedMap;if(ka){var _y=this.option.selectedMode,Ty=this.getData(ba);if(_y==="series"||ka==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var Ay=0;Ay<Sa.length;Ay++){var Ey=Sa[Ay],My=getSelectionKey(Ty,Ey);ka[My]=!1,this._selectedDataIndicesMap[My]=-1}}},ua.prototype.toggleSelect=function(Sa,ba){for(var ka=[],_y=0;_y<Sa.length;_y++)ka[0]=Sa[_y],this.isSelected(Sa[_y],ba)?this.unselect(ka,ba):this.select(ka,ba)},ua.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var Sa=this._selectedDataIndicesMap,ba=keys(Sa),ka=[],_y=0;_y<ba.length;_y++){var Ty=Sa[ba[_y]];Ty>=0&&ka.push(Ty)}return ka},ua.prototype.isSelected=function(Sa,ba){var ka=this.option.selectedMap;if(!ka)return!1;var _y=this.getData(ba);return(ka==="all"||ka[getSelectionKey(_y,Sa)])&&!_y.getItemModel(Sa).get(["select","disabled"])},ua.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var Sa=this.option.universalTransition;return Sa?Sa===!0?!0:Sa&&Sa.enabled:!1},ua.prototype._innerSelect=function(Sa,ba){var ka,_y,Ty=this.option,Ay=Ty.selectedMode,Ey=ba.length;if(!(!Ay||!Ey)){if(Ay==="series")Ty.selectedMap="all";else if(Ay==="multiple"){isObject$3(Ty.selectedMap)||(Ty.selectedMap={});for(var My=Ty.selectedMap,Dy=0;Dy<Ey;Dy++){var Iy=ba[Dy],Ly=getSelectionKey(Sa,Iy);My[Ly]=!0,this._selectedDataIndicesMap[Ly]=Sa.getRawIndex(Iy)}}else if(Ay==="single"||Ay===!0){var Py=ba[Ey-1],Ly=getSelectionKey(Sa,Py);Ty.selectedMap=(ka={},ka[Ly]=!0,ka),this._selectedDataIndicesMap=(_y={},_y[Ly]=Sa.getRawIndex(Py),_y)}}},ua.prototype._initSelectedMapFromData=function(Sa){if(!this.option.selectedMap){var ba=[];Sa.hasItemOption&&Sa.each(function(ka){var _y=Sa.getRawDataItem(ka);_y&&_y.selected&&ba.push(ka)}),ba.length>0&&this._innerSelect(Sa,ba)}},ua.registerClass=function(Sa){return ComponentModel.registerClass(Sa)},ua.protoInitialize=function(){var Sa=ua.prototype;Sa.type="series.__base__",Sa.seriesIndex=0,Sa.ignoreStyleOnData=!1,Sa.hasSymbolVisual=!1,Sa.defaultSymbol="circle",Sa.visualStyleAccessPath="itemStyle",Sa.visualDrawType="fill"}(),ua}(ComponentModel);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel);function autoSeriesName(ha){var ua=ha.name;isNameSpecified(ha)||(ha.name=getSeriesAutoName(ha)||ua)}function getSeriesAutoName(ha){var ua=ha.getRawData(),Sa=ua.mapDimensionsAll("seriesName"),ba=[];return each$f(Sa,function(ka){var _y=ua.getDimensionInfo(ka);_y.displayName&&ba.push(_y.displayName)}),ba.join(" ")}function dataTaskCount(ha){return ha.model.getRawData().count()}function dataTaskReset(ha){var ua=ha.model;return ua.setData(ua.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(ha,ua){ua.outputData&&ha.end>ua.outputData.count()&&ua.model.getRawData().cloneShallow(ua.outputData)}function wrapData(ha,ua){each$f(concatArray(ha.CHANGABLE_METHODS,ha.DOWNSAMPLE_METHODS),function(Sa){ha.wrapMethod(Sa,curry$1(onDataChange,ua))})}function onDataChange(ha,ua){var Sa=getCurrentTask(ha);return Sa&&Sa.setOutputEnd((ua||this).count()),ua}function getCurrentTask(ha){var ua=(ha.ecModel||{}).scheduler,Sa=ua&&ua.getPipeline(ha.uid);if(Sa){var ba=Sa.currentTask;if(ba){var ka=ba.agentStubMap;ka&&(ba=ka.get(ha.uid))}return ba}}var ComponentView=function(){function ha(){this.group=new Group$3,this.uid=getUID("viewComponent")}return ha.prototype.init=function(ua,Sa){},ha.prototype.render=function(ua,Sa,ba,ka){},ha.prototype.dispose=function(ua,Sa){},ha.prototype.updateView=function(ua,Sa,ba,ka){},ha.prototype.updateLayout=function(ua,Sa,ba,ka){},ha.prototype.updateVisual=function(ua,Sa,ba,ka){},ha.prototype.toggleBlurSeries=function(ua,Sa,ba){},ha.prototype.eachRendered=function(ua){var Sa=this.group;Sa&&Sa.traverse(ua)},ha}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);function createRenderPlanner(){var ha=makeInner();return function(ua){var Sa=ha(ua),ba=ua.pipelineContext,ka=!!Sa.large,_y=!!Sa.progressiveRender,Ty=Sa.large=!!(ba&&ba.large),Ay=Sa.progressiveRender=!!(ba&&ba.progressiveRender);return(ka!==Ty||_y!==Ay)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function ha(){this.group=new Group$3,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return ha.prototype.init=function(ua,Sa){},ha.prototype.render=function(ua,Sa,ba,ka){},ha.prototype.highlight=function(ua,Sa,ba,ka){var _y=ua.getData(ka&&ka.dataType);_y&&toggleHighlight(_y,ka,"emphasis")},ha.prototype.downplay=function(ua,Sa,ba,ka){var _y=ua.getData(ka&&ka.dataType);_y&&toggleHighlight(_y,ka,"normal")},ha.prototype.remove=function(ua,Sa){this.group.removeAll()},ha.prototype.dispose=function(ua,Sa){},ha.prototype.updateView=function(ua,Sa,ba,ka){this.render(ua,Sa,ba,ka)},ha.prototype.updateLayout=function(ua,Sa,ba,ka){this.render(ua,Sa,ba,ka)},ha.prototype.updateVisual=function(ua,Sa,ba,ka){this.render(ua,Sa,ba,ka)},ha.prototype.eachRendered=function(ua){traverseElements(this.group,ua)},ha.markUpdateMethod=function(ua,Sa){inner$j(ua).updateMethod=Sa},ha.protoInitialize=function(){var ua=ha.prototype;ua.type="chart"}(),ha}();function elSetState(ha,ua,Sa){ha&&isHighDownDispatcher(ha)&&(ua==="emphasis"?enterEmphasis:leaveEmphasis)(ha,Sa)}function toggleHighlight(ha,ua,Sa){var ba=queryDataIndex(ha,ua),ka=ua&&ua.highlightKey!=null?getHighlightDigit(ua.highlightKey):null;ba!=null?each$f(normalizeToArray(ba),function(_y){elSetState(ha.getItemGraphicEl(_y),Sa,ka)}):ha.eachItemGraphicEl(function(_y){elSetState(_y,Sa,ka)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(ha){return renderPlanner(ha.model)}function renderTaskReset(ha){var ua=ha.model,Sa=ha.ecModel,ba=ha.api,ka=ha.payload,_y=ua.pipelineContext.progressiveRender,Ty=ha.view,Ay=ka&&inner$j(ka).updateMethod,Ey=_y?"incrementalPrepareRender":Ay&&Ty[Ay]?Ay:"render";return Ey!=="render"&&Ty[Ey](ua,Sa,ba,ka),progressMethodMap[Ey]}var progressMethodMap={incrementalPrepareRender:{progress:function(ha,ua){ua.view.incrementalRender(ha,ua.model,ua.ecModel,ua.api,ua.payload)}},render:{forceFirstProgress:!0,progress:function(ha,ua){ua.view.render(ua.model,ua.ecModel,ua.api,ua.payload)}}},ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(ha,ua,Sa){var ba,ka=0,_y=0,Ty=null,Ay,Ey,My,Dy;ua=ua||0;function Iy(){_y=new Date().getTime(),Ty=null,ha.apply(Ey,My||[])}var Ly=function(){for(var Py=[],Ry=0;Ry<arguments.length;Ry++)Py[Ry]=arguments[Ry];ba=new Date().getTime(),Ey=this,My=Py;var Vy=Dy||ua,Ny=Dy||Sa;Dy=null,Ay=ba-(Ny?ka:_y)-Vy,clearTimeout(Ty),Ny?Ty=setTimeout(Iy,Vy):Ay>=0?Iy():Ty=setTimeout(Iy,-Ay),ka=ba};return Ly.clear=function(){Ty&&(clearTimeout(Ty),Ty=null)},Ly.debounceNextCall=function(Py){Dy=Py},Ly}function createOrUpdate(ha,ua,Sa,ba){var ka=ha[ua];if(ka){var _y=ka[ORIGIN_METHOD]||ka,Ty=ka[THROTTLE_TYPE],Ay=ka[RATE];if(Ay!==Sa||Ty!==ba){if(Sa==null||!ba)return ha[ua]=_y;ka=ha[ua]=throttle(_y,Sa,ba==="debounce"),ka[ORIGIN_METHOD]=_y,ka[THROTTLE_TYPE]=ba,ka[RATE]=Sa}return ka}}function clear$1(ha,ua){var Sa=ha[ua];Sa&&Sa[ORIGIN_METHOD]&&(Sa.clear&&Sa.clear(),ha[ua]=Sa[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(ha,ua){var Sa=ha.visualStyleMapper||defaultStyleMappers[ua];return Sa||(console.warn("Unknown style type '"+ua+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(ha,ua){var Sa=ha.visualDrawType||defaultColorKey[ua];return Sa||(console.warn("Unknown style type '"+ua+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(ha,ua){var Sa=ha.getData(),ba=ha.visualStyleAccessPath||"itemStyle",ka=ha.getModel(ba),_y=getStyleMapper(ha,ba),Ty=_y(ka),Ay=ka.getShallow("decal");Ay&&(Sa.setVisual("decal",Ay),Ay.dirty=!0);var Ey=getDefaultColorKey(ha,ba),My=Ty[Ey],Dy=isFunction(My)?My:null,Iy=Ty.fill==="auto"||Ty.stroke==="auto";if(!Ty[Ey]||Dy||Iy){var Ly=ha.getColorFromPalette(ha.name,null,ua.getSeriesCount());Ty[Ey]||(Ty[Ey]=Ly,Sa.setVisual("colorFromPalette",!0)),Ty.fill=Ty.fill==="auto"||isFunction(Ty.fill)?Ly:Ty.fill,Ty.stroke=Ty.stroke==="auto"||isFunction(Ty.stroke)?Ly:Ty.stroke}if(Sa.setVisual("style",Ty),Sa.setVisual("drawType",Ey),!ua.isSeriesFiltered(ha)&&Dy)return Sa.setVisual("colorFromPalette",!1),{dataEach:function(Py,Ry){var Vy=ha.getDataParams(Ry),Ny=extend({},Ty);Ny[Ey]=Dy(Vy),Py.setItemVisual(Ry,"style",Ny)}}}},sharedModel=new Model,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(ha,ua){if(!(ha.ignoreStyleOnData||ua.isSeriesFiltered(ha))){var Sa=ha.getData(),ba=ha.visualStyleAccessPath||"itemStyle",ka=getStyleMapper(ha,ba),_y=Sa.getVisual("drawType");return{dataEach:Sa.hasItemOption?function(Ty,Ay){var Ey=Ty.getRawDataItem(Ay);if(Ey&&Ey[ba]){sharedModel.option=Ey[ba];var My=ka(sharedModel),Dy=Ty.ensureUniqueItemVisual(Ay,"style");extend(Dy,My),sharedModel.option.decal&&(Ty.setItemVisual(Ay,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),_y in My&&Ty.setItemVisual(Ay,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(ha){var ua=createHashMap();ha.eachSeries(function(Sa){var ba=Sa.getColorBy();if(!Sa.isColorBySeries()){var ka=Sa.type+"-"+ba,_y=ua.get(ka);_y||(_y={},ua.set(ka,_y)),inner$i(Sa).scope=_y}}),ha.eachSeries(function(Sa){if(!(Sa.isColorBySeries()||ha.isSeriesFiltered(Sa))){var ba=Sa.getRawData(),ka={},_y=Sa.getData(),Ty=inner$i(Sa).scope,Ay=Sa.visualStyleAccessPath||"itemStyle",Ey=getDefaultColorKey(Sa,Ay);_y.each(function(My){var Dy=_y.getRawIndex(My);ka[Dy]=My}),ba.each(function(My){var Dy=ka[My],Iy=_y.getItemVisual(Dy,"colorFromPalette");if(Iy){var Ly=_y.ensureUniqueItemVisual(Dy,"style"),Py=ba.getName(My)||My+"",Ry=ba.count();Ly[Ey]=Sa.getColorFromPalette(Py,Ty,Ry)}})}})}},PI$5=Math.PI;function defaultLoading(ha,ua){ua=ua||{},defaults(ua,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var Sa=new Group$3,ba=new Rect$2({style:{fill:ua.maskColor},zlevel:ua.zlevel,z:1e4});Sa.add(ba);var ka=new ZRText({style:{text:ua.text,fill:ua.textColor,fontSize:ua.fontSize,fontWeight:ua.fontWeight,fontStyle:ua.fontStyle,fontFamily:ua.fontFamily},zlevel:ua.zlevel,z:10001}),_y=new Rect$2({style:{fill:"none"},textContent:ka,textConfig:{position:"right",distance:10},zlevel:ua.zlevel,z:10001});Sa.add(_y);var Ty;return ua.showSpinner&&(Ty=new Arc({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:ua.spinnerRadius},style:{stroke:ua.color,lineCap:"round",lineWidth:ua.lineWidth},zlevel:ua.zlevel,z:10001}),Ty.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),Ty.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),Sa.add(Ty)),Sa.resize=function(){var Ay=ka.getBoundingRect().width,Ey=ua.showSpinner?ua.spinnerRadius:0,My=(ha.getWidth()-Ey*2-(ua.showSpinner&&Ay?10:0)-Ay)/2-(ua.showSpinner&&Ay?0:5+Ay/2)+(ua.showSpinner?0:Ay/2)+(Ay?0:Ey),Dy=ha.getHeight()/2;ua.showSpinner&&Ty.setShape({cx:My,cy:Dy}),_y.setShape({x:My-Ey,y:Dy-Ey,width:Ey*2,height:Ey*2}),ba.setShape({x:0,y:0,width:ha.getWidth(),height:ha.getHeight()})},Sa.resize(),Sa}var Scheduler=function(){function ha(ua,Sa,ba,ka){this._stageTaskMap=createHashMap(),this.ecInstance=ua,this.api=Sa,ba=this._dataProcessorHandlers=ba.slice(),ka=this._visualHandlers=ka.slice(),this._allHandlers=ba.concat(ka)}return ha.prototype.restoreData=function(ua,Sa){ua.restoreData(Sa),this._stageTaskMap.each(function(ba){var ka=ba.overallTask;ka&&ka.dirty()})},ha.prototype.getPerformArgs=function(ua,Sa){if(ua.__pipeline){var ba=this._pipelineMap.get(ua.__pipeline.id),ka=ba.context,_y=!Sa&&ba.progressiveEnabled&&(!ka||ka.progressiveRender)&&ua.__idxInPipeline>ba.blockIndex,Ty=_y?ba.step:null,Ay=ka&&ka.modDataCount,Ey=Ay!=null?Math.ceil(Ay/Ty):null;return{step:Ty,modBy:Ey,modDataCount:Ay}}},ha.prototype.getPipeline=function(ua){return this._pipelineMap.get(ua)},ha.prototype.updateStreamModes=function(ua,Sa){var ba=this._pipelineMap.get(ua.uid),ka=ua.getData(),_y=ka.count(),Ty=ba.progressiveEnabled&&Sa.incrementalPrepareRender&&_y>=ba.threshold,Ay=ua.get("large")&&_y>=ua.get("largeThreshold"),Ey=ua.get("progressiveChunkMode")==="mod"?_y:null;ua.pipelineContext=ba.context={progressiveRender:Ty,modDataCount:Ey,large:Ay}},ha.prototype.restorePipelines=function(ua){var Sa=this,ba=Sa._pipelineMap=createHashMap();ua.eachSeries(function(ka){var _y=ka.getProgressive(),Ty=ka.uid;ba.set(Ty,{id:Ty,head:null,tail:null,threshold:ka.getProgressiveThreshold(),progressiveEnabled:_y&&!(ka.preventIncremental&&ka.preventIncremental()),blockIndex:-1,step:Math.round(_y||700),count:0}),Sa._pipe(ka,ka.dataTask)})},ha.prototype.prepareStageTasks=function(){var ua=this._stageTaskMap,Sa=this.api.getModel(),ba=this.api;each$f(this._allHandlers,function(ka){var _y=ua.get(ka.uid)||ua.set(ka.uid,{}),Ty="";assert(!(ka.reset&&ka.overallReset),Ty),ka.reset&&this._createSeriesStageTask(ka,_y,Sa,ba),ka.overallReset&&this._createOverallStageTask(ka,_y,Sa,ba)},this)},ha.prototype.prepareView=function(ua,Sa,ba,ka){var _y=ua.renderTask,Ty=_y.context;Ty.model=Sa,Ty.ecModel=ba,Ty.api=ka,_y.__block=!ua.incrementalPrepareRender,this._pipe(Sa,_y)},ha.prototype.performDataProcessorTasks=function(ua,Sa){this._performStageTasks(this._dataProcessorHandlers,ua,Sa,{block:!0})},ha.prototype.performVisualTasks=function(ua,Sa,ba){this._performStageTasks(this._visualHandlers,ua,Sa,ba)},ha.prototype._performStageTasks=function(ua,Sa,ba,ka){ka=ka||{};var _y=!1,Ty=this;each$f(ua,function(Ey,My){if(!(ka.visualType&&ka.visualType!==Ey.visualType)){var Dy=Ty._stageTaskMap.get(Ey.uid),Iy=Dy.seriesTaskMap,Ly=Dy.overallTask;if(Ly){var Py,Ry=Ly.agentStubMap;Ry.each(function(Ny){Ay(ka,Ny)&&(Ny.dirty(),Py=!0)}),Py&&Ly.dirty(),Ty.updatePayload(Ly,ba);var Vy=Ty.getPerformArgs(Ly,ka.block);Ry.each(function(Ny){Ny.perform(Vy)}),Ly.perform(Vy)&&(_y=!0)}else Iy&&Iy.each(function(Ny,By){Ay(ka,Ny)&&Ny.dirty();var Oy=Ty.getPerformArgs(Ny,ka.block);Oy.skip=!Ey.performRawSeries&&Sa.isSeriesFiltered(Ny.context.model),Ty.updatePayload(Ny,ba),Ny.perform(Oy)&&(_y=!0)})}});function Ay(Ey,My){return Ey.setDirty&&(!Ey.dirtyMap||Ey.dirtyMap.get(My.__pipeline.id))}this.unfinished=_y||this.unfinished},ha.prototype.performSeriesTasks=function(ua){var Sa;ua.eachSeries(function(ba){Sa=ba.dataTask.perform()||Sa}),this.unfinished=Sa||this.unfinished},ha.prototype.plan=function(){this._pipelineMap.each(function(ua){var Sa=ua.tail;do{if(Sa.__block){ua.blockIndex=Sa.__idxInPipeline;break}Sa=Sa.getUpstream()}while(Sa)})},ha.prototype.updatePayload=function(ua,Sa){Sa!=="remain"&&(ua.context.payload=Sa)},ha.prototype._createSeriesStageTask=function(ua,Sa,ba,ka){var _y=this,Ty=Sa.seriesTaskMap,Ay=Sa.seriesTaskMap=createHashMap(),Ey=ua.seriesType,My=ua.getTargetSeries;ua.createOnAllSeries?ba.eachRawSeries(Dy):Ey?ba.eachRawSeriesByType(Ey,Dy):My&&My(ba,ka).each(Dy);function Dy(Iy){var Ly=Iy.uid,Py=Ay.set(Ly,Ty&&Ty.get(Ly)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));Py.context={model:Iy,ecModel:ba,api:ka,useClearVisual:ua.isVisual&&!ua.isLayout,plan:ua.plan,reset:ua.reset,scheduler:_y},_y._pipe(Iy,Py)}},ha.prototype._createOverallStageTask=function(ua,Sa,ba,ka){var _y=this,Ty=Sa.overallTask=Sa.overallTask||createTask({reset:overallTaskReset});Ty.context={ecModel:ba,api:ka,overallReset:ua.overallReset,scheduler:_y};var Ay=Ty.agentStubMap,Ey=Ty.agentStubMap=createHashMap(),My=ua.seriesType,Dy=ua.getTargetSeries,Iy=!0,Ly=!1,Py="";assert(!ua.createOnAllSeries,Py),My?ba.eachRawSeriesByType(My,Ry):Dy?Dy(ba,ka).each(Ry):(Iy=!1,each$f(ba.getSeries(),Ry));function Ry(Vy){var Ny=Vy.uid,By=Ey.set(Ny,Ay&&Ay.get(Ny)||(Ly=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));By.context={model:Vy,overallProgress:Iy},By.agent=Ty,By.__block=Iy,_y._pipe(Vy,By)}Ly&&Ty.dirty()},ha.prototype._pipe=function(ua,Sa){var ba=ua.uid,ka=this._pipelineMap.get(ba);!ka.head&&(ka.head=Sa),ka.tail&&ka.tail.pipe(Sa),ka.tail=Sa,Sa.__idxInPipeline=ka.count++,Sa.__pipeline=ka},ha.wrapStageHandler=function(ua,Sa){return isFunction(ua)&&(ua={overallReset:ua,seriesType:detectSeriseType(ua)}),ua.uid=getUID("stageHandler"),Sa&&(ua.visualType=Sa),ua},ha}();function overallTaskReset(ha){ha.overallReset(ha.ecModel,ha.api,ha.payload)}function stubReset(ha){return ha.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(ha){return ha.plan?ha.plan(ha.model,ha.ecModel,ha.api,ha.payload):null}function seriesTaskReset(ha){ha.useClearVisual&&ha.data.clearAllVisual();var ua=ha.resetDefines=normalizeToArray(ha.reset(ha.model,ha.ecModel,ha.api,ha.payload));return ua.length>1?map$1(ua,function(Sa,ba){return makeSeriesTaskProgress(ba)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(ha){return function(ua,Sa){var ba=Sa.data,ka=Sa.resetDefines[ha];if(ka&&ka.dataEach)for(var _y=ua.start;_y<ua.end;_y++)ka.dataEach(ba,_y);else ka&&ka.progress&&ka.progress(ua,ba)}}function seriesTaskCount(ha){return ha.data.count()}function detectSeriseType(ha){seriesType=null;try{ha(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel);mockMethods(apiMock,ExtensionAPI);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(ha){seriesType=ha};ecModelMock.eachComponent=function(ha){ha.mainType==="series"&&ha.subType&&(seriesType=ha.subType)};function mockMethods(ha,ua){for(var Sa in ua.prototype)ha[Sa]=noop}var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor},pageTextStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;var ECEventProcessor=function(){function ha(){}return ha.prototype.normalizeQuery=function(ua){var Sa={},ba={},ka={};if(isString(ua)){var _y=parseClassType(ua);Sa.mainType=_y.main||null,Sa.subType=_y.sub||null}else{var Ty=["Index","Name","Id"],Ay={name:1,dataIndex:1,dataType:1};each$f(ua,function(Ey,My){for(var Dy=!1,Iy=0;Iy<Ty.length;Iy++){var Ly=Ty[Iy],Py=My.lastIndexOf(Ly);if(Py>0&&Py===My.length-Ly.length){var Ry=My.slice(0,Py);Ry!=="data"&&(Sa.mainType=Ry,Sa[Ly.toLowerCase()]=Ey,Dy=!0)}}Ay.hasOwnProperty(My)&&(ba[My]=Ey,Dy=!0),Dy||(ka[My]=Ey)})}return{cptQuery:Sa,dataQuery:ba,otherQuery:ka}},ha.prototype.filter=function(ua,Sa){var ba=this.eventInfo;if(!ba)return!0;var ka=ba.targetEl,_y=ba.packedEvent,Ty=ba.model,Ay=ba.view;if(!Ty||!Ay)return!0;var Ey=Sa.cptQuery,My=Sa.dataQuery;return Dy(Ey,Ty,"mainType")&&Dy(Ey,Ty,"subType")&&Dy(Ey,Ty,"index","componentIndex")&&Dy(Ey,Ty,"name")&&Dy(Ey,Ty,"id")&&Dy(My,_y,"name")&&Dy(My,_y,"dataIndex")&&Dy(My,_y,"dataType")&&(!Ay.filterForExposedEvent||Ay.filterForExposedEvent(ua,Sa.otherQuery,ka,_y));function Dy(Iy,Ly,Py,Ry){return Iy[Py]==null||Ly[Ry||Py]===Iy[Py]}},ha.prototype.afterTrigger=function(){this.eventInfo=null},ha}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(ha,ua){var Sa=ha.getData();if(ha.legendIcon&&Sa.setVisual("legendIcon",ha.legendIcon),!ha.hasSymbolVisual)return;for(var ba={},ka={},_y=!1,Ty=0;Ty<SYMBOL_PROPS_WITH_CB.length;Ty++){var Ay=SYMBOL_PROPS_WITH_CB[Ty],Ey=ha.get(Ay);isFunction(Ey)?(_y=!0,ka[Ay]=Ey):ba[Ay]=Ey}if(ba.symbol=ba.symbol||ha.defaultSymbol,Sa.setVisual(extend({legendIcon:ha.legendIcon||ba.symbol,symbolKeepAspect:ha.get("symbolKeepAspect")},ba)),ua.isSeriesFiltered(ha))return;var My=keys(ka);function Dy(Iy,Ly){for(var Py=ha.getRawValue(Ly),Ry=ha.getDataParams(Ly),Vy=0;Vy<My.length;Vy++){var Ny=My[Vy];Iy.setItemVisual(Ly,Ny,ka[Ny](Py,Ry))}}return{dataEach:_y?Dy:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(ha,ua){if(!ha.hasSymbolVisual||ua.isSeriesFiltered(ha))return;var Sa=ha.getData();function ba(ka,_y){for(var Ty=ka.getItemModel(_y),Ay=0;Ay<SYMBOL_PROPS.length;Ay++){var Ey=SYMBOL_PROPS[Ay],My=Ty.getShallow(Ey,!0);My!=null&&ka.setItemVisual(_y,Ey,My)}}return{dataEach:Sa.hasItemOption?ba:null}}};function getItemVisualFromData(ha,ua,Sa){switch(Sa){case"color":var ba=ha.getItemVisual(ua,"style");return ba[ha.getVisual("drawType")];case"opacity":return ha.getItemVisual(ua,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return ha.getItemVisual(ua,Sa)}}function getVisualFromData(ha,ua){switch(ua){case"color":var Sa=ha.getVisual("style");return Sa[ha.getVisual("drawType")];case"opacity":return ha.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return ha.getVisual(ua)}}function setItemVisualFromData(ha,ua,Sa,ba){switch(Sa){case"color":var ka=ha.ensureUniqueItemVisual(ua,"style");ka[ha.getVisual("drawType")]=ba,ha.setItemVisual(ua,"colorFromPalette",!1);break;case"opacity":ha.ensureUniqueItemVisual(ua,"style").opacity=ba;break;case"symbol":case"symbolSize":case"liftZ":ha.setItemVisual(ua,Sa,ba);break}}function createLegacyDataSelectAction(ha,ua){function Sa(ba,ka){var _y=[];return ba.eachComponent({mainType:"series",subType:ha,query:ka},function(Ty){_y.push(Ty.seriesIndex)}),_y}each$f([[ha+"ToggleSelect","toggleSelect"],[ha+"Select","select"],[ha+"UnSelect","unselect"]],function(ba){ua(ba[0],function(ka,_y,Ty){ka=extend({},ka),Ty.dispatchAction(extend(ka,{type:ba[1],seriesIndex:Sa(_y,ka)}))})})}function handleSeriesLegacySelectEvents(ha,ua,Sa,ba,ka){var _y=ha+ua;Sa.isSilent(_y)||ba.eachComponent({mainType:"series",subType:"pie"},function(Ty){for(var Ay=Ty.seriesIndex,Ey=Ty.option.selectedMap,My=ka.selected,Dy=0;Dy<My.length;Dy++)if(My[Dy].seriesIndex===Ay){var Iy=Ty.getData(),Ly=queryDataIndex(Iy,ka.fromActionPayload);Sa.trigger(_y,{type:_y,seriesId:Ty.id,name:isArray$1(Ly)?Iy.getName(Ly[0]):Iy.getName(Ly),selected:isString(Ey)?Ey:extend({},Ey)})}})}function handleLegacySelectEvents(ha,ua,Sa){ha.on("selectchanged",function(ba){var ka=Sa.getModel();ba.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",ua,ka,ba),handleSeriesLegacySelectEvents("pie","selectchanged",ua,ka,ba)):ba.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",ua,ka,ba),handleSeriesLegacySelectEvents("pie","selected",ua,ka,ba)):ba.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",ua,ka,ba),handleSeriesLegacySelectEvents("pie","unselected",ua,ka,ba))})}function findEventDispatcher(ha,ua,Sa){for(var ba;ha&&!(ua(ha)&&(ba=ha,Sa));)ha=ha.__hostTarget||ha.parent;return ba}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function ha(){this._id="__ec_inner_"+wmUniqueIndex++}return ha.prototype.get=function(ua){return this._guard(ua)[this._id]},ha.prototype.set=function(ua,Sa){var ba=this._guard(ua);return supportDefineProperty?Object.defineProperty(ba,this._id,{value:Sa,enumerable:!1,configurable:!0}):ba[this._id]=Sa,this},ha.prototype.delete=function(ua){return this.has(ua)?(delete this._guard(ua)[this._id],!0):!1},ha.prototype.has=function(ua){return!!this._guard(ua)[this._id]},ha.prototype._guard=function(ua){if(ua!==Object(ua))throw TypeError("Value of WeakMap is not a non-null object.");return ua},ha}(),Triangle=Path.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(ha,ua){var Sa=ua.cx,ba=ua.cy,ka=ua.width/2,_y=ua.height/2;ha.moveTo(Sa,ba-_y),ha.lineTo(Sa+ka,ba+_y),ha.lineTo(Sa-ka,ba+_y),ha.closePath()}}),Diamond=Path.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(ha,ua){var Sa=ua.cx,ba=ua.cy,ka=ua.width/2,_y=ua.height/2;ha.moveTo(Sa,ba-_y),ha.lineTo(Sa+ka,ba),ha.lineTo(Sa,ba+_y),ha.lineTo(Sa-ka,ba),ha.closePath()}}),Pin=Path.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(ha,ua){var Sa=ua.x,ba=ua.y,ka=ua.width/5*3,_y=Math.max(ka,ua.height),Ty=ka/2,Ay=Ty*Ty/(_y-Ty),Ey=ba-_y+Ty+Ay,My=Math.asin(Ay/Ty),Dy=Math.cos(My)*Ty,Iy=Math.sin(My),Ly=Math.cos(My),Py=Ty*.6,Ry=Ty*.7;ha.moveTo(Sa-Dy,Ey+Ay),ha.arc(Sa,Ey,Ty,Math.PI-My,Math.PI*2+My),ha.bezierCurveTo(Sa+Dy-Iy*Py,Ey+Ay+Ly*Py,Sa,ba-Ry,Sa,ba),ha.bezierCurveTo(Sa,ba-Ry,Sa-Dy+Iy*Py,Ey+Ay+Ly*Py,Sa-Dy,Ey+Ay),ha.closePath()}}),Arrow=Path.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(ha,ua){var Sa=ua.height,ba=ua.width,ka=ua.x,_y=ua.y,Ty=ba/3*2;ha.moveTo(ka,_y),ha.lineTo(ka+Ty,_y+Sa),ha.lineTo(ka,_y+Sa/4*3),ha.lineTo(ka-Ty,_y+Sa),ha.lineTo(ka,_y),ha.closePath()}}),symbolCtors={line:Line$1,rect:Rect$2,roundRect:Rect$2,square:Rect$2,circle:Circle,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(ha,ua,Sa,ba,ka){ka.x1=ha,ka.y1=ua+ba/2,ka.x2=ha+Sa,ka.y2=ua+ba/2},rect:function(ha,ua,Sa,ba,ka){ka.x=ha,ka.y=ua,ka.width=Sa,ka.height=ba},roundRect:function(ha,ua,Sa,ba,ka){ka.x=ha,ka.y=ua,ka.width=Sa,ka.height=ba,ka.r=Math.min(Sa,ba)/4},square:function(ha,ua,Sa,ba,ka){var _y=Math.min(Sa,ba);ka.x=ha,ka.y=ua,ka.width=_y,ka.height=_y},circle:function(ha,ua,Sa,ba,ka){ka.cx=ha+Sa/2,ka.cy=ua+ba/2,ka.r=Math.min(Sa,ba)/2},diamond:function(ha,ua,Sa,ba,ka){ka.cx=ha+Sa/2,ka.cy=ua+ba/2,ka.width=Sa,ka.height=ba},pin:function(ha,ua,Sa,ba,ka){ka.x=ha+Sa/2,ka.y=ua+ba/2,ka.width=Sa,ka.height=ba},arrow:function(ha,ua,Sa,ba,ka){ka.x=ha+Sa/2,ka.y=ua+ba/2,ka.width=Sa,ka.height=ba},triangle:function(ha,ua,Sa,ba,ka){ka.cx=ha+Sa/2,ka.cy=ua+ba/2,ka.width=Sa,ka.height=ba}},symbolBuildProxies={};each$f(symbolCtors,function(ha,ua){symbolBuildProxies[ua]=new ha});var SymbolClz=Path.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(ha,ua,Sa){var ba=calculateTextPosition(ha,ua,Sa),ka=this.shape;return ka&&ka.symbolType==="pin"&&ua.position==="inside"&&(ba.y=Sa.y+Sa.height*.4),ba},buildPath:function(ha,ua,Sa){var ba=ua.symbolType;if(ba!=="none"){var ka=symbolBuildProxies[ba];ka||(ba="rect",ka=symbolBuildProxies[ba]),symbolShapeMakers[ba](ua.x,ua.y,ua.width,ua.height,ka.shape),ka.buildPath(ha,ka.shape,Sa)}}});function symbolPathSetColor(ha,ua){if(this.type!=="image"){var Sa=this.style;this.__isEmptyBrush?(Sa.stroke=ha,Sa.fill=ua||"#fff",Sa.lineWidth=2):this.shape.symbolType==="line"?Sa.stroke=ha:Sa.fill=ha,this.markRedraw()}}function createSymbol$1(ha,ua,Sa,ba,ka,_y,Ty){var Ay=ha.indexOf("empty")===0;Ay&&(ha=ha.substr(5,1).toLowerCase()+ha.substr(6));var Ey;return ha.indexOf("image://")===0?Ey=makeImage(ha.slice(8),new BoundingRect(ua,Sa,ba,ka),Ty?"center":"cover"):ha.indexOf("path://")===0?Ey=makePath(ha.slice(7),{},new BoundingRect(ua,Sa,ba,ka),Ty?"center":"cover"):Ey=new SymbolClz({shape:{symbolType:ha,x:ua,y:Sa,width:ba,height:ka}}),Ey.__isEmptyBrush=Ay,Ey.setColor=symbolPathSetColor,_y&&Ey.setColor(_y),Ey}function normalizeSymbolSize(ha){return isArray$1(ha)||(ha=[+ha,+ha]),[ha[0]||0,ha[1]||0]}function normalizeSymbolOffset(ha,ua){if(ha!=null)return isArray$1(ha)||(ha=[ha,ha]),[parsePercent(ha[0],ua[0])||0,parsePercent(retrieve2(ha[1],ha[0]),ua[1])||0]}function isSafeNum(ha){return isFinite(ha)}function createLinearGradient(ha,ua,Sa){var ba=ua.x==null?0:ua.x,ka=ua.x2==null?1:ua.x2,_y=ua.y==null?0:ua.y,Ty=ua.y2==null?0:ua.y2;ua.global||(ba=ba*Sa.width+Sa.x,ka=ka*Sa.width+Sa.x,_y=_y*Sa.height+Sa.y,Ty=Ty*Sa.height+Sa.y),ba=isSafeNum(ba)?ba:0,ka=isSafeNum(ka)?ka:1,_y=isSafeNum(_y)?_y:0,Ty=isSafeNum(Ty)?Ty:0;var Ay=ha.createLinearGradient(ba,_y,ka,Ty);return Ay}function createRadialGradient(ha,ua,Sa){var ba=Sa.width,ka=Sa.height,_y=Math.min(ba,ka),Ty=ua.x==null?.5:ua.x,Ay=ua.y==null?.5:ua.y,Ey=ua.r==null?.5:ua.r;ua.global||(Ty=Ty*ba+Sa.x,Ay=Ay*ka+Sa.y,Ey=Ey*_y),Ty=isSafeNum(Ty)?Ty:.5,Ay=isSafeNum(Ay)?Ay:.5,Ey=Ey>=0&&isSafeNum(Ey)?Ey:.5;var My=ha.createRadialGradient(Ty,Ay,0,Ty,Ay,Ey);return My}function getCanvasGradient(ha,ua,Sa){for(var ba=ua.type==="radial"?createRadialGradient(ha,ua,Sa):createLinearGradient(ha,ua,Sa),ka=ua.colorStops,_y=0;_y<ka.length;_y++)ba.addColorStop(ka[_y].offset,ka[_y].color);return ba}function isClipPathChanged(ha,ua){if(ha===ua||!ha&&!ua)return!1;if(!ha||!ua||ha.length!==ua.length)return!0;for(var Sa=0;Sa<ha.length;Sa++)if(ha[Sa]!==ua[Sa])return!0;return!1}function parseInt10(ha){return parseInt(ha,10)}function getSize$1(ha,ua,Sa){var ba=["width","height"][ua],ka=["clientWidth","clientHeight"][ua],_y=["paddingLeft","paddingTop"][ua],Ty=["paddingRight","paddingBottom"][ua];if(Sa[ba]!=null&&Sa[ba]!=="auto")return parseFloat(Sa[ba]);var Ay=document.defaultView.getComputedStyle(ha);return(ha[ka]||parseInt10(Ay[ba])||parseInt10(ha.style[ba]))-(parseInt10(Ay[_y])||0)-(parseInt10(Ay[Ty])||0)|0}function normalizeLineDash(ha,ua){return!ha||ha==="solid"||!(ua>0)?null:ha==="dashed"?[4*ua,2*ua]:ha==="dotted"?[ua]:isNumber(ha)?[ha]:isArray$1(ha)?ha:null}function getLineDash(ha){var ua=ha.style,Sa=ua.lineDash&&ua.lineWidth>0&&normalizeLineDash(ua.lineDash,ua.lineWidth),ba=ua.lineDashOffset;if(Sa){var ka=ua.strokeNoScale&&ha.getLineScale?ha.getLineScale():1;ka&&ka!==1&&(Sa=map$1(Sa,function(_y){return _y/ka}),ba/=ka)}return[Sa,ba]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke(ha){var ua=ha.stroke;return!(ua==null||ua==="none"||!(ha.lineWidth>0))}function isValidStrokeFillStyle(ha){return typeof ha=="string"&&ha!=="none"}function styleHasFill(ha){var ua=ha.fill;return ua!=null&&ua!=="none"}function doFillPath(ha,ua){if(ua.fillOpacity!=null&&ua.fillOpacity!==1){var Sa=ha.globalAlpha;ha.globalAlpha=ua.fillOpacity*ua.opacity,ha.fill(),ha.globalAlpha=Sa}else ha.fill()}function doStrokePath(ha,ua){if(ua.strokeOpacity!=null&&ua.strokeOpacity!==1){var Sa=ha.globalAlpha;ha.globalAlpha=ua.strokeOpacity*ua.opacity,ha.stroke(),ha.globalAlpha=Sa}else ha.stroke()}function createCanvasPattern(ha,ua,Sa){var ba=createOrUpdateImage(ua.image,ua.__image,Sa);if(isImageReady(ba)){var ka=ha.createPattern(ba,ua.repeat||"repeat");if(typeof DOMMatrix=="function"&&ka&&ka.setTransform){var _y=new DOMMatrix;_y.translateSelf(ua.x||0,ua.y||0),_y.rotateSelf(0,0,(ua.rotation||0)*RADIAN_TO_DEGREE),_y.scaleSelf(ua.scaleX||1,ua.scaleY||1),ka.setTransform(_y)}return ka}}function brushPath(ha,ua,Sa,ba){var ka,_y=styleHasStroke(Sa),Ty=styleHasFill(Sa),Ay=Sa.strokePercent,Ey=Ay<1,My=!ua.path;(!ua.silent||Ey)&&My&&ua.createPathProxy();var Dy=ua.path||pathProxyForDraw,Iy=ua.__dirty;if(!ba){var Ly=Sa.fill,Py=Sa.stroke,Ry=Ty&&!!Ly.colorStops,Vy=_y&&!!Py.colorStops,Ny=Ty&&!!Ly.image,By=_y&&!!Py.image,Oy=void 0,Fy=void 0,zy=void 0,Hy=void 0,Gy=void 0;(Ry||Vy)&&(Gy=ua.getBoundingRect()),Ry&&(Oy=Iy?getCanvasGradient(ha,Ly,Gy):ua.__canvasFillGradient,ua.__canvasFillGradient=Oy),Vy&&(Fy=Iy?getCanvasGradient(ha,Py,Gy):ua.__canvasStrokeGradient,ua.__canvasStrokeGradient=Fy),Ny&&(zy=Iy||!ua.__canvasFillPattern?createCanvasPattern(ha,Ly,ua):ua.__canvasFillPattern,ua.__canvasFillPattern=zy),By&&(Hy=Iy||!ua.__canvasStrokePattern?createCanvasPattern(ha,Py,ua):ua.__canvasStrokePattern,ua.__canvasStrokePattern=zy),Ry?ha.fillStyle=Oy:Ny&&(zy?ha.fillStyle=zy:Ty=!1),Vy?ha.strokeStyle=Fy:By&&(Hy?ha.strokeStyle=Hy:_y=!1)}var Wy=ua.getGlobalScale();Dy.setScale(Wy[0],Wy[1],ua.segmentIgnoreThreshold);var Uy,Yy;ha.setLineDash&&Sa.lineDash&&(ka=getLineDash(ua),Uy=ka[0],Yy=ka[1]);var jy=!0;(My||Iy&SHAPE_CHANGED_BIT)&&(Dy.setDPR(ha.dpr),Ey?Dy.setContext(null):(Dy.setContext(ha),jy=!1),Dy.reset(),ua.buildPath(Dy,ua.shape,ba),Dy.toStatic(),ua.pathUpdated()),jy&&Dy.rebuildPath(ha,Ey?Ay:1),Uy&&(ha.setLineDash(Uy),ha.lineDashOffset=Yy),ba||(Sa.strokeFirst?(_y&&doStrokePath(ha,Sa),Ty&&doFillPath(ha,Sa)):(Ty&&doFillPath(ha,Sa),_y&&doStrokePath(ha,Sa))),Uy&&ha.setLineDash([])}function brushImage(ha,ua,Sa){var ba=ua.__image=createOrUpdateImage(Sa.image,ua.__image,ua,ua.onload);if(!(!ba||!isImageReady(ba))){var ka=Sa.x||0,_y=Sa.y||0,Ty=ua.getWidth(),Ay=ua.getHeight(),Ey=ba.width/ba.height;if(Ty==null&&Ay!=null?Ty=Ay*Ey:Ay==null&&Ty!=null?Ay=Ty/Ey:Ty==null&&Ay==null&&(Ty=ba.width,Ay=ba.height),Sa.sWidth&&Sa.sHeight){var My=Sa.sx||0,Dy=Sa.sy||0;ha.drawImage(ba,My,Dy,Sa.sWidth,Sa.sHeight,ka,_y,Ty,Ay)}else if(Sa.sx&&Sa.sy){var My=Sa.sx,Dy=Sa.sy,Iy=Ty-My,Ly=Ay-Dy;ha.drawImage(ba,My,Dy,Iy,Ly,ka,_y,Ty,Ay)}else ha.drawImage(ba,ka,_y,Ty,Ay)}}function brushText(ha,ua,Sa){var ba,ka=Sa.text;if(ka!=null&&(ka+=""),ka){ha.font=Sa.font||DEFAULT_FONT,ha.textAlign=Sa.textAlign,ha.textBaseline=Sa.textBaseline;var _y=void 0,Ty=void 0;ha.setLineDash&&Sa.lineDash&&(ba=getLineDash(ua),_y=ba[0],Ty=ba[1]),_y&&(ha.setLineDash(_y),ha.lineDashOffset=Ty),Sa.strokeFirst?(styleHasStroke(Sa)&&ha.strokeText(ka,Sa.x,Sa.y),styleHasFill(Sa)&&ha.fillText(ka,Sa.x,Sa.y)):(styleHasFill(Sa)&&ha.fillText(ka,Sa.x,Sa.y),styleHasStroke(Sa)&&ha.strokeText(ka,Sa.x,Sa.y)),_y&&ha.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(ha,ua,Sa,ba,ka){var _y=!1;if(!ba&&(Sa=Sa||{},ua===Sa))return!1;if(ba||ua.opacity!==Sa.opacity){flushPathDrawn(ha,ka),_y=!0;var Ty=Math.max(Math.min(ua.opacity,1),0);ha.globalAlpha=isNaN(Ty)?DEFAULT_COMMON_STYLE.opacity:Ty}(ba||ua.blend!==Sa.blend)&&(_y||(flushPathDrawn(ha,ka),_y=!0),ha.globalCompositeOperation=ua.blend||DEFAULT_COMMON_STYLE.blend);for(var Ay=0;Ay<SHADOW_NUMBER_PROPS.length;Ay++){var Ey=SHADOW_NUMBER_PROPS[Ay];(ba||ua[Ey]!==Sa[Ey])&&(_y||(flushPathDrawn(ha,ka),_y=!0),ha[Ey]=ha.dpr*(ua[Ey]||0))}return(ba||ua.shadowColor!==Sa.shadowColor)&&(_y||(flushPathDrawn(ha,ka),_y=!0),ha.shadowColor=ua.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),_y}function bindPathAndTextCommonStyle(ha,ua,Sa,ba,ka){var _y=getStyle(ua,ka.inHover),Ty=ba?null:Sa&&getStyle(Sa,ka.inHover)||{};if(_y===Ty)return!1;var Ay=bindCommonProps(ha,_y,Ty,ba,ka);if((ba||_y.fill!==Ty.fill)&&(Ay||(flushPathDrawn(ha,ka),Ay=!0),isValidStrokeFillStyle(_y.fill)&&(ha.fillStyle=_y.fill)),(ba||_y.stroke!==Ty.stroke)&&(Ay||(flushPathDrawn(ha,ka),Ay=!0),isValidStrokeFillStyle(_y.stroke)&&(ha.strokeStyle=_y.stroke)),(ba||_y.opacity!==Ty.opacity)&&(Ay||(flushPathDrawn(ha,ka),Ay=!0),ha.globalAlpha=_y.opacity==null?1:_y.opacity),ua.hasStroke()){var Ey=_y.lineWidth,My=Ey/(_y.strokeNoScale&&ua.getLineScale?ua.getLineScale():1);ha.lineWidth!==My&&(Ay||(flushPathDrawn(ha,ka),Ay=!0),ha.lineWidth=My)}for(var Dy=0;Dy<STROKE_PROPS.length;Dy++){var Iy=STROKE_PROPS[Dy],Ly=Iy[0];(ba||_y[Ly]!==Ty[Ly])&&(Ay||(flushPathDrawn(ha,ka),Ay=!0),ha[Ly]=_y[Ly]||Iy[1])}return Ay}function bindImageStyle(ha,ua,Sa,ba,ka){return bindCommonProps(ha,getStyle(ua,ka.inHover),Sa&&getStyle(Sa,ka.inHover),ba,ka)}function setContextTransform(ha,ua){var Sa=ua.transform,ba=ha.dpr||1;Sa?ha.setTransform(ba*Sa[0],ba*Sa[1],ba*Sa[2],ba*Sa[3],ba*Sa[4],ba*Sa[5]):ha.setTransform(ba,0,0,ba,0,0)}function updateClipStatus(ha,ua,Sa){for(var ba=!1,ka=0;ka<ha.length;ka++){var _y=ha[ka];ba=ba||_y.isZeroArea(),setContextTransform(ua,_y),ua.beginPath(),_y.buildPath(ua,_y.shape),ua.clip()}Sa.allClipped=ba}function isTransformChanged(ha,ua){return ha&&ua?ha[0]!==ua[0]||ha[1]!==ua[1]||ha[2]!==ua[2]||ha[3]!==ua[3]||ha[4]!==ua[4]||ha[5]!==ua[5]:!(!ha&&!ua)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(ha){var ua=styleHasFill(ha),Sa=styleHasStroke(ha);return!(ha.lineDash||!(+ua^+Sa)||ua&&typeof ha.fill!="string"||Sa&&typeof ha.stroke!="string"||ha.strokePercent<1||ha.strokeOpacity<1||ha.fillOpacity<1)}function flushPathDrawn(ha,ua){ua.batchFill&&ha.fill(),ua.batchStroke&&ha.stroke(),ua.batchFill="",ua.batchStroke=""}function getStyle(ha,ua){return ua&&ha.__hoverStyle||ha.style}function brushSingle(ha,ua){brush$1(ha,ua,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(ha,ua,Sa,ba){var ka=ua.transform;if(!ua.shouldBePainted(Sa.viewWidth,Sa.viewHeight,!1,!1)){ua.__dirty&=~REDRAW_BIT,ua.__isRendered=!1;return}var _y=ua.__clipPaths,Ty=Sa.prevElClipPaths,Ay=!1,Ey=!1;if((!Ty||isClipPathChanged(_y,Ty))&&(Ty&&Ty.length&&(flushPathDrawn(ha,Sa),ha.restore(),Ey=Ay=!0,Sa.prevElClipPaths=null,Sa.allClipped=!1,Sa.prevEl=null),_y&&_y.length&&(flushPathDrawn(ha,Sa),ha.save(),updateClipStatus(_y,ha,Sa),Ay=!0),Sa.prevElClipPaths=_y),Sa.allClipped){ua.__isRendered=!1;return}ua.beforeBrush&&ua.beforeBrush(),ua.innerBeforeBrush();var My=Sa.prevEl;My||(Ey=Ay=!0);var Dy=ua instanceof Path&&ua.autoBatch&&canPathBatch(ua.style);Ay||isTransformChanged(ka,My.transform)?(flushPathDrawn(ha,Sa),setContextTransform(ha,ua)):Dy||flushPathDrawn(ha,Sa);var Iy=getStyle(ua,Sa.inHover);ua instanceof Path?(Sa.lastDrawType!==DRAW_TYPE_PATH&&(Ey=!0,Sa.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(ha,ua,My,Ey,Sa),(!Dy||!Sa.batchFill&&!Sa.batchStroke)&&ha.beginPath(),brushPath(ha,ua,Iy,Dy),Dy&&(Sa.batchFill=Iy.fill||"",Sa.batchStroke=Iy.stroke||"")):ua instanceof TSpan?(Sa.lastDrawType!==DRAW_TYPE_TEXT&&(Ey=!0,Sa.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(ha,ua,My,Ey,Sa),brushText(ha,ua,Iy)):ua instanceof ZRImage?(Sa.lastDrawType!==DRAW_TYPE_IMAGE&&(Ey=!0,Sa.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(ha,ua,My,Ey,Sa),brushImage(ha,ua,Iy)):ua.getTemporalDisplayables&&(Sa.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(Ey=!0,Sa.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(ha,ua,Sa)),Dy&&ba&&flushPathDrawn(ha,Sa),ua.innerAfterBrush(),ua.afterBrush&&ua.afterBrush(),Sa.prevEl=ua,ua.__dirty=0,ua.__isRendered=!0}function brushIncremental(ha,ua,Sa){var ba=ua.getDisplayables(),ka=ua.getTemporalDisplayables();ha.save();var _y={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:Sa.viewWidth,viewHeight:Sa.viewHeight,inHover:Sa.inHover},Ty,Ay;for(Ty=ua.getCursor(),Ay=ba.length;Ty<Ay;Ty++){var Ey=ba[Ty];Ey.beforeBrush&&Ey.beforeBrush(),Ey.innerBeforeBrush(),brush$1(ha,Ey,_y,Ty===Ay-1),Ey.innerAfterBrush(),Ey.afterBrush&&Ey.afterBrush(),_y.prevEl=Ey}for(var My=0,Dy=ka.length;My<Dy;My++){var Ey=ka[My];Ey.beforeBrush&&Ey.beforeBrush(),Ey.innerBeforeBrush(),brush$1(ha,Ey,_y,My===Dy-1),Ey.innerAfterBrush(),Ey.afterBrush&&Ey.afterBrush(),_y.prevEl=Ey}ua.clearTemporalDisplayables(),ua.notClear=!0,ha.restore()}var decalMap=new WeakMap$1,decalCache=new LRU(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(ha,ua){if(ha==="none")return null;var Sa=ua.getDevicePixelRatio(),ba=ua.getZr(),ka=ba.painter.type==="svg";ha.dirty&&decalMap.delete(ha);var _y=decalMap.get(ha);if(_y)return _y;var Ty=defaults(ha,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});Ty.backgroundColor==="none"&&(Ty.backgroundColor=null);var Ay={repeat:"repeat"};return Ey(Ay),Ay.rotation=Ty.rotation,Ay.scaleX=Ay.scaleY=ka?1:1/Sa,decalMap.set(ha,Ay),ha.dirty=!1,Ay;function Ey(My){for(var Dy=[Sa],Iy=!0,Ly=0;Ly<decalKeys.length;++Ly){var Py=Ty[decalKeys[Ly]];if(Py!=null&&!isArray$1(Py)&&!isString(Py)&&!isNumber(Py)&&typeof Py!="boolean"){Iy=!1;break}Dy.push(Py)}var Ry;if(Iy){Ry=Dy.join(",")+(ka?"-svg":"");var Vy=decalCache.get(Ry);Vy&&(ka?My.svgElement=Vy:My.image=Vy)}var Ny=normalizeDashArrayX(Ty.dashArrayX),By=normalizeDashArrayY(Ty.dashArrayY),Oy=normalizeSymbolArray(Ty.symbol),Fy=getLineBlockLengthX(Ny),zy=getLineBlockLengthY(By),Hy=!ka&&platformApi.createCanvas(),Gy=ka&&{tag:"g",attrs:{},key:"dcl",children:[]},Wy=Yy(),Uy;Hy&&(Hy.width=Wy.width*Sa,Hy.height=Wy.height*Sa,Uy=Hy.getContext("2d")),jy(),Iy&&decalCache.put(Ry,Hy||Gy),My.image=Hy,My.svgElement=Gy,My.svgWidth=Wy.width,My.svgHeight=Wy.height;function Yy(){for(var Ky=1,Xy=0,Zy=Fy.length;Xy<Zy;++Xy)Ky=getLeastCommonMultiple(Ky,Fy[Xy]);for(var Jy=1,Xy=0,Zy=Oy.length;Xy<Zy;++Xy)Jy=getLeastCommonMultiple(Jy,Oy[Xy].length);Ky*=Jy;var t_=zy*Fy.length*Oy.length;return{width:Math.max(1,Math.min(Ky,Ty.maxTileWidth)),height:Math.max(1,Math.min(t_,Ty.maxTileHeight))}}function jy(){Uy&&(Uy.clearRect(0,0,Hy.width,Hy.height),Ty.backgroundColor&&(Uy.fillStyle=Ty.backgroundColor,Uy.fillRect(0,0,Hy.width,Hy.height)));for(var Ky=0,Xy=0;Xy<By.length;++Xy)Ky+=By[Xy];if(Ky<=0)return;for(var Zy=-zy,Jy=0,t_=0,Qy=0;Zy<Wy.height;){if(Jy%2===0){for(var r_=t_/2%Oy.length,i_=0,l_=0,c_=0;i_<Wy.width*2;){for(var d_=0,Xy=0;Xy<Ny[Qy].length;++Xy)d_+=Ny[Qy][Xy];if(d_<=0)break;if(l_%2===0){var f_=(1-Ty.symbolSize)*.5,m_=i_+Ny[Qy][l_]*f_,b_=Zy+By[Jy]*f_,$_=Ny[Qy][l_]*Ty.symbolSize,A_=By[Jy]*Ty.symbolSize,v_=c_/2%Oy[r_].length;g_(m_,b_,$_,A_,Oy[r_][v_])}i_+=Ny[Qy][l_],++c_,++l_,l_===Ny[Qy].length&&(l_=0)}++Qy,Qy===Ny.length&&(Qy=0)}Zy+=By[Jy],++t_,++Jy,Jy===By.length&&(Jy=0)}function g_(p_,o_,n_,qy,e_){var a_=ka?1:Sa,s_=createSymbol$1(e_,p_*a_,o_*a_,n_*a_,qy*a_,Ty.color,Ty.symbolKeepAspect);if(ka){var u_=ba.painter.renderOneToVNode(s_);u_&&Gy.children.push(u_)}else brushSingle(Uy,s_)}}}}function normalizeSymbolArray(ha){if(!ha||ha.length===0)return[["rect"]];if(isString(ha))return[[ha]];for(var ua=!0,Sa=0;Sa<ha.length;++Sa)if(!isString(ha[Sa])){ua=!1;break}if(ua)return normalizeSymbolArray([ha]);for(var ba=[],Sa=0;Sa<ha.length;++Sa)isString(ha[Sa])?ba.push([ha[Sa]]):ba.push(ha[Sa]);return ba}function normalizeDashArrayX(ha){if(!ha||ha.length===0)return[[0,0]];if(isNumber(ha)){var ua=Math.ceil(ha);return[[ua,ua]]}for(var Sa=!0,ba=0;ba<ha.length;++ba)if(!isNumber(ha[ba])){Sa=!1;break}if(Sa)return normalizeDashArrayX([ha]);for(var ka=[],ba=0;ba<ha.length;++ba)if(isNumber(ha[ba])){var ua=Math.ceil(ha[ba]);ka.push([ua,ua])}else{var ua=map$1(ha[ba],function(Ay){return Math.ceil(Ay)});ua.length%2===1?ka.push(ua.concat(ua)):ka.push(ua)}return ka}function normalizeDashArrayY(ha){if(!ha||typeof ha=="object"&&ha.length===0)return[0,0];if(isNumber(ha)){var ua=Math.ceil(ha);return[ua,ua]}var Sa=map$1(ha,function(ba){return Math.ceil(ba)});return ha.length%2?Sa.concat(Sa):Sa}function getLineBlockLengthX(ha){return map$1(ha,function(ua){return getLineBlockLengthY(ua)})}function getLineBlockLengthY(ha){for(var ua=0,Sa=0;Sa<ha.length;++Sa)ua+=ha[Sa];return ha.length%2===1?ua*2:ua}function decalVisual(ha,ua){ha.eachRawSeries(function(Sa){if(!ha.isSeriesFiltered(Sa)){var ba=Sa.getData();ba.hasItemVisual()&&ba.each(function(Ty){var Ay=ba.getItemVisual(Ty,"decal");if(Ay){var Ey=ba.ensureUniqueItemVisual(Ty,"style");Ey.decal=createOrUpdatePatternFromDecal(Ay,ua)}});var ka=ba.getVisual("decal");if(ka){var _y=ba.getVisual("style");_y.decal=createOrUpdatePatternFromDecal(ka,ua)}}})}var lifecycle=new Eventful,implsStore={};function registerImpl(ha,ua){implsStore[ha]=ua}function getImpl(ha){return implsStore[ha]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(ha){return function(){for(var ua=[],Sa=0;Sa<arguments.length;Sa++)ua[Sa]=arguments[Sa];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,ha,ua)}}function createRegisterEventWithLowercaseMessageCenter(ha){return function(){for(var ua=[],Sa=0;Sa<arguments.length;Sa++)ua[Sa]=arguments[Sa];return toLowercaseNameAndCallEventful(this,ha,ua)}}function toLowercaseNameAndCallEventful(ha,ua,Sa){return Sa[0]=Sa[0]&&Sa[0].toLowerCase(),Eventful.prototype[ua].apply(ha,Sa)}var MessageCenter=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua}(Eventful),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(ha){__extends(ua,ha);function ua(Sa,ba,ka){var _y=ha.call(this,new ECEventProcessor)||this;_y._chartsViews=[],_y._chartsMap={},_y._componentsViews=[],_y._componentsMap={},_y._pendingActions=[],ka=ka||{},isString(ba)&&(ba=themeStorage[ba]),_y._dom=Sa;var Ty="canvas",Ay="auto",Ey=!1;ka.ssr&&registerSSRDataGetter(function(Ly){var Py=getECData(Ly),Ry=Py.dataIndex;if(Ry!=null){var Vy=createHashMap();return Vy.set("series_index",Py.seriesIndex),Vy.set("data_index",Ry),Py.ssrType&&Vy.set("ssr_type",Py.ssrType),Vy}});var My=_y._zr=init$2(Sa,{renderer:ka.renderer||Ty,devicePixelRatio:ka.devicePixelRatio,width:ka.width,height:ka.height,ssr:ka.ssr,useDirtyRect:retrieve2(ka.useDirtyRect,Ey),useCoarsePointer:retrieve2(ka.useCoarsePointer,Ay),pointerSize:ka.pointerSize});_y._ssr=ka.ssr,_y._throttledZrFlush=throttle(bind$1(My.flush,My),17),ba=clone$4(ba),ba&&globalBackwardCompat(ba,!0),_y._theme=ba,_y._locale=createLocaleObject(ka.locale||SYSTEM_LANG),_y._coordSysMgr=new CoordinateSystemManager;var Dy=_y._api=createExtensionAPI(_y);function Iy(Ly,Py){return Ly.__prio-Py.__prio}return sort$2(visualFuncs,Iy),sort$2(dataProcessorFuncs,Iy),_y._scheduler=new Scheduler(_y,Dy,dataProcessorFuncs,visualFuncs),_y._messageCenter=new MessageCenter,_y._initEvents(),_y.resize=bind$1(_y.resize,_y),My.animation.on("frame",_y._onframe,_y),bindRenderedEvent(My,_y),bindMouseEvent(My,_y),setAsPrimitive(_y),_y}return ua.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var Sa=this._scheduler;if(this[PENDING_UPDATE]){var ba=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(Ey){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,Ey}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,ba),triggerUpdatedEvent.call(this,ba)}else if(Sa.unfinished){var ka=TEST_FRAME_REMAIN_TIME,_y=this._model,Ty=this._api;Sa.unfinished=!1;do{var Ay=+new Date;Sa.performSeriesTasks(_y),Sa.performDataProcessorTasks(_y),updateStreamModes(this,_y),Sa.performVisualTasks(_y),renderSeries(this,this._model,Ty,"remain",{}),ka-=+new Date-Ay}while(ka>0&&Sa.unfinished);Sa.unfinished||this._zr.flush()}}},ua.prototype.getDom=function(){return this._dom},ua.prototype.getId=function(){return this.id},ua.prototype.getZr=function(){return this._zr},ua.prototype.isSSR=function(){return this._ssr},ua.prototype.setOption=function(Sa,ba,ka){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var _y,Ty,Ay;if(isObject$3(ba)&&(ka=ba.lazyUpdate,_y=ba.silent,Ty=ba.replaceMerge,Ay=ba.transition,ba=ba.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||ba){var Ey=new OptionManager(this._api),My=this._theme,Dy=this._model=new GlobalModel;Dy.scheduler=this._scheduler,Dy.ssr=this._ssr,Dy.init(null,null,null,My,this._locale,Ey)}this._model.setOption(Sa,{replaceMerge:Ty},optionPreprocessorFuncs);var Iy={seriesTransition:Ay,optionChanged:!0};if(ka)this[PENDING_UPDATE]={silent:_y,updateParams:Iy},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,Iy)}catch(Ly){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,Ly}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,_y),triggerUpdatedEvent.call(this,_y)}}},ua.prototype.setTheme=function(){},ua.prototype.getModel=function(){return this._model},ua.prototype.getOption=function(){return this._model&&this._model.getOption()},ua.prototype.getWidth=function(){return this._zr.getWidth()},ua.prototype.getHeight=function(){return this._zr.getHeight()},ua.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env.hasGlobalWindow&&window.devicePixelRatio||1},ua.prototype.getRenderedCanvas=function(Sa){return this.renderToCanvas(Sa)},ua.prototype.renderToCanvas=function(Sa){Sa=Sa||{};var ba=this._zr.painter;return ba.getRenderedCanvas({backgroundColor:Sa.backgroundColor||this._model.get("backgroundColor"),pixelRatio:Sa.pixelRatio||this.getDevicePixelRatio()})},ua.prototype.renderToSVGString=function(Sa){Sa=Sa||{};var ba=this._zr.painter;return ba.renderToString({useViewBox:Sa.useViewBox})},ua.prototype.getSvgDataURL=function(){if(env.svgSupported){var Sa=this._zr,ba=Sa.storage.getDisplayList();return each$f(ba,function(ka){ka.stopAnimation(null,!0)}),Sa.painter.toDataURL()}},ua.prototype.getDataURL=function(Sa){if(this._disposed){this.id;return}Sa=Sa||{};var ba=Sa.excludeComponents,ka=this._model,_y=[],Ty=this;each$f(ba,function(Ey){ka.eachComponent({mainType:Ey},function(My){var Dy=Ty._componentsMap[My.__viewId];Dy.group.ignore||(_y.push(Dy),Dy.group.ignore=!0)})});var Ay=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(Sa).toDataURL("image/"+(Sa&&Sa.type||"png"));return each$f(_y,function(Ey){Ey.group.ignore=!1}),Ay},ua.prototype.getConnectedDataURL=function(Sa){if(this._disposed){this.id;return}var ba=Sa.type==="svg",ka=this.group,_y=Math.min,Ty=Math.max,Ay=1/0;if(connectedGroups[ka]){var Ey=Ay,My=Ay,Dy=-Ay,Iy=-Ay,Ly=[],Py=Sa&&Sa.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(Fy,zy){if(Fy.group===ka){var Hy=ba?Fy.getZr().painter.getSvgDom().innerHTML:Fy.renderToCanvas(clone$4(Sa)),Gy=Fy.getDom().getBoundingClientRect();Ey=_y(Gy.left,Ey),My=_y(Gy.top,My),Dy=Ty(Gy.right,Dy),Iy=Ty(Gy.bottom,Iy),Ly.push({dom:Hy,left:Gy.left,top:Gy.top})}}),Ey*=Py,My*=Py,Dy*=Py,Iy*=Py;var Ry=Dy-Ey,Vy=Iy-My,Ny=platformApi.createCanvas(),By=init$2(Ny,{renderer:ba?"svg":"canvas"});if(By.resize({width:Ry,height:Vy}),ba){var Oy="";return each$f(Ly,function(Fy){var zy=Fy.left-Ey,Hy=Fy.top-My;Oy+='<g transform="translate('+zy+","+Hy+')">'+Fy.dom+"</g>"}),By.painter.getSvgRoot().innerHTML=Oy,Sa.connectedBackgroundColor&&By.painter.setBackgroundColor(Sa.connectedBackgroundColor),By.refreshImmediately(),By.painter.toDataURL()}else return Sa.connectedBackgroundColor&&By.add(new Rect$2({shape:{x:0,y:0,width:Ry,height:Vy},style:{fill:Sa.connectedBackgroundColor}})),each$f(Ly,function(Fy){var zy=new ZRImage({style:{x:Fy.left*Py-Ey,y:Fy.top*Py-My,image:Fy.dom}});By.add(zy)}),By.refreshImmediately(),Ny.toDataURL("image/"+(Sa&&Sa.type||"png"))}else return this.getDataURL(Sa)},ua.prototype.convertToPixel=function(Sa,ba){return doConvertPixel(this,"convertToPixel",Sa,ba)},ua.prototype.convertFromPixel=function(Sa,ba){return doConvertPixel(this,"convertFromPixel",Sa,ba)},ua.prototype.containPixel=function(Sa,ba){if(this._disposed){this.id;return}var ka=this._model,_y,Ty=parseFinder$1(ka,Sa);return each$f(Ty,function(Ay,Ey){Ey.indexOf("Models")>=0&&each$f(Ay,function(My){var Dy=My.coordinateSystem;if(Dy&&Dy.containPoint)_y=_y||!!Dy.containPoint(ba);else if(Ey==="seriesModels"){var Iy=this._chartsMap[My.__viewId];Iy&&Iy.containPoint&&(_y=_y||Iy.containPoint(ba,My))}},this)},this),!!_y},ua.prototype.getVisual=function(Sa,ba){var ka=this._model,_y=parseFinder$1(ka,Sa,{defaultMainType:"series"}),Ty=_y.seriesModel,Ay=Ty.getData(),Ey=_y.hasOwnProperty("dataIndexInside")?_y.dataIndexInside:_y.hasOwnProperty("dataIndex")?Ay.indexOfRawIndex(_y.dataIndex):null;return Ey!=null?getItemVisualFromData(Ay,Ey,ba):getVisualFromData(Ay,ba)},ua.prototype.getViewOfComponentModel=function(Sa){return this._componentsMap[Sa.__viewId]},ua.prototype.getViewOfSeriesModel=function(Sa){return this._chartsMap[Sa.__viewId]},ua.prototype._initEvents=function(){var Sa=this;each$f(MOUSE_EVENT_NAMES,function(ba){var ka=function(_y){var Ty=Sa.getModel(),Ay=_y.target,Ey,My=ba==="globalout";if(My?Ey={}:Ay&&findEventDispatcher(Ay,function(Ry){var Vy=getECData(Ry);if(Vy&&Vy.dataIndex!=null){var Ny=Vy.dataModel||Ty.getSeriesByIndex(Vy.seriesIndex);return Ey=Ny&&Ny.getDataParams(Vy.dataIndex,Vy.dataType,Ay)||{},!0}else if(Vy.eventData)return Ey=extend({},Vy.eventData),!0},!0),Ey){var Dy=Ey.componentType,Iy=Ey.componentIndex;(Dy==="markLine"||Dy==="markPoint"||Dy==="markArea")&&(Dy="series",Iy=Ey.seriesIndex);var Ly=Dy&&Iy!=null&&Ty.getComponent(Dy,Iy),Py=Ly&&Sa[Ly.mainType==="series"?"_chartsMap":"_componentsMap"][Ly.__viewId];Ey.event=_y,Ey.type=ba,Sa._$eventProcessor.eventInfo={targetEl:Ay,packedEvent:Ey,model:Ly,view:Py},Sa.trigger(ba,Ey)}};ka.zrEventfulCallAtLast=!0,Sa._zr.on(ba,ka,Sa)}),each$f(eventActionMap,function(ba,ka){Sa._messageCenter.on(ka,function(_y){this.trigger(ka,_y)},Sa)}),each$f(["selectchanged"],function(ba){Sa._messageCenter.on(ba,function(ka){this.trigger(ba,ka)},Sa)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},ua.prototype.isDisposed=function(){return this._disposed},ua.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},ua.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var Sa=this.getDom();Sa&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var ba=this,ka=ba._api,_y=ba._model;each$f(ba._componentsViews,function(Ty){Ty.dispose(_y,ka)}),each$f(ba._chartsViews,function(Ty){Ty.dispose(_y,ka)}),ba._zr.dispose(),ba._dom=ba._model=ba._chartsMap=ba._componentsMap=ba._chartsViews=ba._componentsViews=ba._scheduler=ba._api=ba._zr=ba._throttledZrFlush=ba._theme=ba._coordSysMgr=ba._messageCenter=null,delete instances[ba.id]},ua.prototype.resize=function(Sa){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(Sa);var ba=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!ba){var ka=ba.resetOption("media"),_y=Sa&&Sa.silent;this[PENDING_UPDATE]&&(_y==null&&(_y=this[PENDING_UPDATE].silent),ka=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{ka&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},Sa&&Sa.animation)})}catch(Ty){throw this[IN_MAIN_PROCESS_KEY]=!1,Ty}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,_y),triggerUpdatedEvent.call(this,_y)}}},ua.prototype.showLoading=function(Sa,ba){if(this._disposed){this.id;return}if(isObject$3(Sa)&&(ba=Sa,Sa=""),Sa=Sa||"default",this.hideLoading(),!!loadingEffects[Sa]){var ka=loadingEffects[Sa](this._api,ba),_y=this._zr;this._loadingFX=ka,_y.add(ka)}},ua.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},ua.prototype.makeActionFromEvent=function(Sa){var ba=extend({},Sa);return ba.type=eventActionMap[Sa.type],ba},ua.prototype.dispatchAction=function(Sa,ba){if(this._disposed){this.id;return}if(isObject$3(ba)||(ba={silent:!!ba}),!!actions[Sa.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(Sa);return}var ka=ba.silent;doDispatchAction.call(this,Sa,ka);var _y=ba.flush;_y?this._zr.flush():_y!==!1&&env.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,ka),triggerUpdatedEvent.call(this,ka)}},ua.prototype.updateLabelLayout=function(){lifecycle.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},ua.prototype.appendData=function(Sa){if(this._disposed){this.id;return}var ba=Sa.seriesIndex,ka=this.getModel(),_y=ka.getSeriesByIndex(ba);_y.appendData(Sa),this._scheduler.unfinished=!0,this.getZr().wakeUp()},ua.internalField=function(){prepare=function(Iy){var Ly=Iy._scheduler;Ly.restorePipelines(Iy._model),Ly.prepareStageTasks(),prepareView(Iy,!0),prepareView(Iy,!1),Ly.plan()},prepareView=function(Iy,Ly){for(var Py=Iy._model,Ry=Iy._scheduler,Vy=Ly?Iy._componentsViews:Iy._chartsViews,Ny=Ly?Iy._componentsMap:Iy._chartsMap,By=Iy._zr,Oy=Iy._api,Fy=0;Fy<Vy.length;Fy++)Vy[Fy].__alive=!1;Ly?Py.eachComponent(function(Gy,Wy){Gy!=="series"&&zy(Wy)}):Py.eachSeries(zy);function zy(Gy){var Wy=Gy.__requireNewView;Gy.__requireNewView=!1;var Uy="_ec_"+Gy.id+"_"+Gy.type,Yy=!Wy&&Ny[Uy];if(!Yy){var jy=parseClassType(Gy.type),Ky=Ly?ComponentView.getClass(jy.main,jy.sub):ChartView.getClass(jy.sub);Yy=new Ky,Yy.init(Py,Oy),Ny[Uy]=Yy,Vy.push(Yy),By.add(Yy.group)}Gy.__viewId=Yy.__id=Uy,Yy.__alive=!0,Yy.__model=Gy,Yy.group.__ecComponentInfo={mainType:Gy.mainType,index:Gy.componentIndex},!Ly&&Ry.prepareView(Yy,Gy,Py,Oy)}for(var Fy=0;Fy<Vy.length;){var Hy=Vy[Fy];Hy.__alive?Fy++:(!Ly&&Hy.renderTask.dispose(),By.remove(Hy.group),Hy.dispose(Py,Oy),Vy.splice(Fy,1),Ny[Hy.__id]===Hy&&delete Ny[Hy.__id],Hy.__id=Hy.group.__ecComponentInfo=null)}},updateDirectly=function(Iy,Ly,Py,Ry,Vy){var Ny=Iy._model;if(Ny.setUpdatePayload(Py),!Ry){each$f([].concat(Iy._componentsViews).concat(Iy._chartsViews),Hy);return}var By={};By[Ry+"Id"]=Py[Ry+"Id"],By[Ry+"Index"]=Py[Ry+"Index"],By[Ry+"Name"]=Py[Ry+"Name"];var Oy={mainType:Ry,query:By};Vy&&(Oy.subType=Vy);var Fy=Py.excludeSeriesId,zy;Fy!=null&&(zy=createHashMap(),each$f(normalizeToArray(Fy),function(Gy){var Wy=convertOptionIdName(Gy,null);Wy!=null&&zy.set(Wy,!0)})),Ny&&Ny.eachComponent(Oy,function(Gy){var Wy=zy&&zy.get(Gy.id)!=null;if(!Wy)if(isHighDownPayload(Py))if(Gy instanceof SeriesModel)Py.type===HIGHLIGHT_ACTION_TYPE&&!Py.notBlur&&!Gy.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(Gy,Py,Iy._api);else{var Uy=findComponentHighDownDispatchers(Gy.mainType,Gy.componentIndex,Py.name,Iy._api),Yy=Uy.focusSelf,jy=Uy.dispatchers;Py.type===HIGHLIGHT_ACTION_TYPE&&Yy&&!Py.notBlur&&blurComponent(Gy.mainType,Gy.componentIndex,Iy._api),jy&&each$f(jy,function(Ky){Py.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(Ky):leaveEmphasis(Ky)})}else isSelectChangePayload(Py)&&Gy instanceof SeriesModel&&(toggleSelectionFromPayload(Gy,Py,Iy._api),updateSeriesElementSelection(Gy),markStatusToUpdate(Iy))},Iy),Ny&&Ny.eachComponent(Oy,function(Gy){var Wy=zy&&zy.get(Gy.id)!=null;Wy||Hy(Iy[Ry==="series"?"_chartsMap":"_componentsMap"][Gy.__viewId])},Iy);function Hy(Gy){Gy&&Gy.__alive&&Gy[Ly]&&Gy[Ly](Gy.__model,Ny,Iy._api,Py)}},updateMethods={prepareAndUpdate:function(Iy){prepare(this),updateMethods.update.call(this,Iy,{optionChanged:Iy.newOption!=null})},update:function(Iy,Ly){var Py=this._model,Ry=this._api,Vy=this._zr,Ny=this._coordSysMgr,By=this._scheduler;if(Py){Py.setUpdatePayload(Iy),By.restoreData(Py,Iy),By.performSeriesTasks(Py),Ny.create(Py,Ry),By.performDataProcessorTasks(Py,Iy),updateStreamModes(this,Py),Ny.update(Py,Ry),Sa(Py),By.performVisualTasks(Py,Iy),render(this,Py,Ry,Iy,Ly);var Oy=Py.get("backgroundColor")||"transparent",Fy=Py.get("darkMode");Vy.setBackgroundColor(Oy),Fy!=null&&Fy!=="auto"&&Vy.setDarkMode(Fy),lifecycle.trigger("afterupdate",Py,Ry)}},updateTransform:function(Iy){var Ly=this,Py=this._model,Ry=this._api;if(Py){Py.setUpdatePayload(Iy);var Vy=[];Py.eachComponent(function(By,Oy){if(By!=="series"){var Fy=Ly.getViewOfComponentModel(Oy);if(Fy&&Fy.__alive)if(Fy.updateTransform){var zy=Fy.updateTransform(Oy,Py,Ry,Iy);zy&&zy.update&&Vy.push(Fy)}else Vy.push(Fy)}});var Ny=createHashMap();Py.eachSeries(function(By){var Oy=Ly._chartsMap[By.__viewId];if(Oy.updateTransform){var Fy=Oy.updateTransform(By,Py,Ry,Iy);Fy&&Fy.update&&Ny.set(By.uid,1)}else Ny.set(By.uid,1)}),Sa(Py),this._scheduler.performVisualTasks(Py,Iy,{setDirty:!0,dirtyMap:Ny}),renderSeries(this,Py,Ry,Iy,{},Ny),lifecycle.trigger("afterupdate",Py,Ry)}},updateView:function(Iy){var Ly=this._model;Ly&&(Ly.setUpdatePayload(Iy),ChartView.markUpdateMethod(Iy,"updateView"),Sa(Ly),this._scheduler.performVisualTasks(Ly,Iy,{setDirty:!0}),render(this,Ly,this._api,Iy,{}),lifecycle.trigger("afterupdate",Ly,this._api))},updateVisual:function(Iy){var Ly=this,Py=this._model;Py&&(Py.setUpdatePayload(Iy),Py.eachSeries(function(Ry){Ry.getData().clearAllVisual()}),ChartView.markUpdateMethod(Iy,"updateVisual"),Sa(Py),this._scheduler.performVisualTasks(Py,Iy,{visualType:"visual",setDirty:!0}),Py.eachComponent(function(Ry,Vy){if(Ry!=="series"){var Ny=Ly.getViewOfComponentModel(Vy);Ny&&Ny.__alive&&Ny.updateVisual(Vy,Py,Ly._api,Iy)}}),Py.eachSeries(function(Ry){var Vy=Ly._chartsMap[Ry.__viewId];Vy.updateVisual(Ry,Py,Ly._api,Iy)}),lifecycle.trigger("afterupdate",Py,this._api))},updateLayout:function(Iy){updateMethods.update.call(this,Iy)}},doConvertPixel=function(Iy,Ly,Py,Ry){if(Iy._disposed){Iy.id;return}for(var Vy=Iy._model,Ny=Iy._coordSysMgr.getCoordinateSystems(),By,Oy=parseFinder$1(Vy,Py),Fy=0;Fy<Ny.length;Fy++){var zy=Ny[Fy];if(zy[Ly]&&(By=zy[Ly](Vy,Oy,Ry))!=null)return By}},updateStreamModes=function(Iy,Ly){var Py=Iy._chartsMap,Ry=Iy._scheduler;Ly.eachSeries(function(Vy){Ry.updateStreamModes(Vy,Py[Vy.__viewId])})},doDispatchAction=function(Iy,Ly){var Py=this,Ry=this.getModel(),Vy=Iy.type,Ny=Iy.escapeConnect,By=actions[Vy],Oy=By.actionInfo,Fy=(Oy.update||"update").split(":"),zy=Fy.pop(),Hy=Fy[0]!=null&&parseClassType(Fy[0]);this[IN_MAIN_PROCESS_KEY]=!0;var Gy=[Iy],Wy=!1;Iy.batch&&(Wy=!0,Gy=map$1(Iy.batch,function(Jy){return Jy=defaults(extend({},Jy),Iy),Jy.batch=null,Jy}));var Uy=[],Yy,jy=isSelectChangePayload(Iy),Ky=isHighDownPayload(Iy);if(Ky&&allLeaveBlur(this._api),each$f(Gy,function(Jy){if(Yy=By.action(Jy,Py._model,Py._api),Yy=Yy||extend({},Jy),Yy.type=Oy.event||Yy.type,Uy.push(Yy),Ky){var t_=preParseFinder(Iy),Qy=t_.queryOptionMap,r_=t_.mainTypeSpecified,i_=r_?Qy.keys()[0]:"series";updateDirectly(Py,zy,Jy,i_),markStatusToUpdate(Py)}else jy?(updateDirectly(Py,zy,Jy,"series"),markStatusToUpdate(Py)):Hy&&updateDirectly(Py,zy,Jy,Hy.main,Hy.sub)}),zy!=="none"&&!Ky&&!jy&&!Hy)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,Iy),this[PENDING_UPDATE]=null):updateMethods[zy].call(this,Iy)}catch(Jy){throw this[IN_MAIN_PROCESS_KEY]=!1,Jy}if(Wy?Yy={type:Oy.event||Vy,escapeConnect:Ny,batch:Uy}:Yy=Uy[0],this[IN_MAIN_PROCESS_KEY]=!1,!Ly){var Xy=this._messageCenter;if(Xy.trigger(Yy.type,Yy),jy){var Zy={type:"selectchanged",escapeConnect:Ny,selected:getAllSelectedIndices(Ry),isFromClick:Iy.isFromClick||!1,fromAction:Iy.type,fromActionPayload:Iy};Xy.trigger(Zy.type,Zy)}}},flushPendingActions=function(Iy){for(var Ly=this._pendingActions;Ly.length;){var Py=Ly.shift();doDispatchAction.call(this,Py,Iy)}},triggerUpdatedEvent=function(Iy){!Iy&&this.trigger("updated")},bindRenderedEvent=function(Iy,Ly){Iy.on("rendered",function(Py){Ly.trigger("rendered",Py),Iy.animation.isFinished()&&!Ly[PENDING_UPDATE]&&!Ly._scheduler.unfinished&&!Ly._pendingActions.length&&Ly.trigger("finished")})},bindMouseEvent=function(Iy,Ly){Iy.on("mouseover",function(Py){var Ry=Py.target,Vy=findEventDispatcher(Ry,isHighDownDispatcher);Vy&&(handleGlobalMouseOverForHighDown(Vy,Py,Ly._api),markStatusToUpdate(Ly))}).on("mouseout",function(Py){var Ry=Py.target,Vy=findEventDispatcher(Ry,isHighDownDispatcher);Vy&&(handleGlobalMouseOutForHighDown(Vy,Py,Ly._api),markStatusToUpdate(Ly))}).on("click",function(Py){var Ry=Py.target,Vy=findEventDispatcher(Ry,function(Oy){return getECData(Oy).dataIndex!=null},!0);if(Vy){var Ny=Vy.selected?"unselect":"select",By=getECData(Vy);Ly._api.dispatchAction({type:Ny,dataType:By.dataType,dataIndexInside:By.dataIndex,seriesIndex:By.seriesIndex,isFromClick:!0})}})};function Sa(Iy){Iy.clearColorPalette(),Iy.eachSeries(function(Ly){Ly.clearColorPalette()})}function ba(Iy){var Ly=[],Py=[],Ry=!1;if(Iy.eachComponent(function(Oy,Fy){var zy=Fy.get("zlevel")||0,Hy=Fy.get("z")||0,Gy=Fy.getZLevelKey();Ry=Ry||!!Gy,(Oy==="series"?Py:Ly).push({zlevel:zy,z:Hy,idx:Fy.componentIndex,type:Oy,key:Gy})}),Ry){var Vy=Ly.concat(Py),Ny,By;sort$2(Vy,function(Oy,Fy){return Oy.zlevel===Fy.zlevel?Oy.z-Fy.z:Oy.zlevel-Fy.zlevel}),each$f(Vy,function(Oy){var Fy=Iy.getComponent(Oy.type,Oy.idx),zy=Oy.zlevel,Hy=Oy.key;Ny!=null&&(zy=Math.max(Ny,zy)),Hy?(zy===Ny&&Hy!==By&&zy++,By=Hy):By&&(zy===Ny&&zy++,By=""),Ny=zy,Fy.setZLevel(zy)})}}render=function(Iy,Ly,Py,Ry,Vy){ba(Ly),renderComponents(Iy,Ly,Py,Ry,Vy),each$f(Iy._chartsViews,function(Ny){Ny.__alive=!1}),renderSeries(Iy,Ly,Py,Ry,Vy),each$f(Iy._chartsViews,function(Ny){Ny.__alive||Ny.remove(Ly,Py)})},renderComponents=function(Iy,Ly,Py,Ry,Vy,Ny){each$f(Ny||Iy._componentsViews,function(By){var Oy=By.__model;My(Oy,By),By.render(Oy,Ly,Py,Ry),Ay(Oy,By),Dy(Oy,By)})},renderSeries=function(Iy,Ly,Py,Ry,Vy,Ny){var By=Iy._scheduler;Vy=extend(Vy||{},{updatedSeries:Ly.getSeries()}),lifecycle.trigger("series:beforeupdate",Ly,Py,Vy);var Oy=!1;Ly.eachSeries(function(Fy){var zy=Iy._chartsMap[Fy.__viewId];zy.__alive=!0;var Hy=zy.renderTask;By.updatePayload(Hy,Ry),My(Fy,zy),Ny&&Ny.get(Fy.uid)&&Hy.dirty(),Hy.perform(By.getPerformArgs(Hy))&&(Oy=!0),zy.group.silent=!!Fy.get("silent"),Ty(Fy,zy),updateSeriesElementSelection(Fy)}),By.unfinished=Oy||By.unfinished,lifecycle.trigger("series:layoutlabels",Ly,Py,Vy),lifecycle.trigger("series:transition",Ly,Py,Vy),Ly.eachSeries(function(Fy){var zy=Iy._chartsMap[Fy.__viewId];Ay(Fy,zy),Dy(Fy,zy)}),_y(Iy,Ly),lifecycle.trigger("series:afterupdate",Ly,Py,Vy)},markStatusToUpdate=function(Iy){Iy[STATUS_NEEDS_UPDATE_KEY]=!0,Iy.getZr().wakeUp()},applyChangedStates=function(Iy){Iy[STATUS_NEEDS_UPDATE_KEY]&&(Iy.getZr().storage.traverse(function(Ly){isElementRemoved(Ly)||ka(Ly)}),Iy[STATUS_NEEDS_UPDATE_KEY]=!1)};function ka(Iy){for(var Ly=[],Py=Iy.currentStates,Ry=0;Ry<Py.length;Ry++){var Vy=Py[Ry];Vy==="emphasis"||Vy==="blur"||Vy==="select"||Ly.push(Vy)}Iy.selected&&Iy.states.select&&Ly.push("select"),Iy.hoverState===HOVER_STATE_EMPHASIS&&Iy.states.emphasis?Ly.push("emphasis"):Iy.hoverState===HOVER_STATE_BLUR&&Iy.states.blur&&Ly.push("blur"),Iy.useStates(Ly)}function _y(Iy,Ly){var Py=Iy._zr,Ry=Py.storage,Vy=0;Ry.traverse(function(Ny){Ny.isGroup||Vy++}),Vy>Ly.get("hoverLayerThreshold")&&!env.node&&!env.worker&&Ly.eachSeries(function(Ny){if(!Ny.preventUsingHoverLayer){var By=Iy._chartsMap[Ny.__viewId];By.__alive&&By.eachRendered(function(Oy){Oy.states.emphasis&&(Oy.states.emphasis.hoverLayer=!0)})}})}function Ty(Iy,Ly){var Py=Iy.get("blendMode")||null;Ly.eachRendered(function(Ry){Ry.isGroup||(Ry.style.blend=Py)})}function Ay(Iy,Ly){if(!Iy.preventAutoZ){var Py=Iy.get("z")||0,Ry=Iy.get("zlevel")||0;Ly.eachRendered(function(Vy){return Ey(Vy,Py,Ry,-1/0),!0})}}function Ey(Iy,Ly,Py,Ry){var Vy=Iy.getTextContent(),Ny=Iy.getTextGuideLine(),By=Iy.isGroup;if(By)for(var Oy=Iy.childrenRef(),Fy=0;Fy<Oy.length;Fy++)Ry=Math.max(Ey(Oy[Fy],Ly,Py,Ry),Ry);else Iy.z=Ly,Iy.zlevel=Py,Ry=Math.max(Iy.z2,Ry);if(Vy&&(Vy.z=Ly,Vy.zlevel=Py,isFinite(Ry)&&(Vy.z2=Ry+2)),Ny){var zy=Iy.textGuideLineConfig;Ny.z=Ly,Ny.zlevel=Py,isFinite(Ry)&&(Ny.z2=Ry+(zy&&zy.showAbove?1:-1))}return Ry}function My(Iy,Ly){Ly.eachRendered(function(Py){if(!isElementRemoved(Py)){var Ry=Py.getTextContent(),Vy=Py.getTextGuideLine();Py.stateTransition&&(Py.stateTransition=null),Ry&&Ry.stateTransition&&(Ry.stateTransition=null),Vy&&Vy.stateTransition&&(Vy.stateTransition=null),Py.hasState()?(Py.prevStates=Py.currentStates,Py.clearStates()):Py.prevStates&&(Py.prevStates=null)}})}function Dy(Iy,Ly){var Py=Iy.getModel("stateAnimation"),Ry=Iy.isAnimationEnabled(),Vy=Py.get("duration"),Ny=Vy>0?{duration:Vy,delay:Py.get("delay"),easing:Py.get("easing")}:null;Ly.eachRendered(function(By){if(By.states&&By.states.emphasis){if(isElementRemoved(By))return;if(By instanceof Path&&savePathStates(By),By.__dirty){var Oy=By.prevStates;Oy&&By.useStates(Oy)}if(Ry){By.stateTransition=Ny;var Fy=By.getTextContent(),zy=By.getTextGuideLine();Fy&&(Fy.stateTransition=Ny),zy&&(zy.stateTransition=Ny)}By.__dirty&&ka(By)}})}createExtensionAPI=function(Iy){return new(function(Ly){__extends(Py,Ly);function Py(){return Ly!==null&&Ly.apply(this,arguments)||this}return Py.prototype.getCoordinateSystems=function(){return Iy._coordSysMgr.getCoordinateSystems()},Py.prototype.getComponentByElement=function(Ry){for(;Ry;){var Vy=Ry.__ecComponentInfo;if(Vy!=null)return Iy._model.getComponent(Vy.mainType,Vy.index);Ry=Ry.parent}},Py.prototype.enterEmphasis=function(Ry,Vy){enterEmphasis(Ry,Vy),markStatusToUpdate(Iy)},Py.prototype.leaveEmphasis=function(Ry,Vy){leaveEmphasis(Ry,Vy),markStatusToUpdate(Iy)},Py.prototype.enterBlur=function(Ry){enterBlur(Ry),markStatusToUpdate(Iy)},Py.prototype.leaveBlur=function(Ry){leaveBlur(Ry),markStatusToUpdate(Iy)},Py.prototype.enterSelect=function(Ry){enterSelect(Ry),markStatusToUpdate(Iy)},Py.prototype.leaveSelect=function(Ry){leaveSelect(Ry),markStatusToUpdate(Iy)},Py.prototype.getModel=function(){return Iy.getModel()},Py.prototype.getViewOfComponentModel=function(Ry){return Iy.getViewOfComponentModel(Ry)},Py.prototype.getViewOfSeriesModel=function(Ry){return Iy.getViewOfSeriesModel(Ry)},Py}(ExtensionAPI))(Iy)},enableConnect=function(Iy){function Ly(Py,Ry){for(var Vy=0;Vy<Py.length;Vy++){var Ny=Py[Vy];Ny[CONNECT_STATUS_KEY]=Ry}}each$f(eventActionMap,function(Py,Ry){Iy._messageCenter.on(Ry,function(Vy){if(connectedGroups[Iy.group]&&Iy[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(Vy&&Vy.escapeConnect)return;var Ny=Iy.makeActionFromEvent(Vy),By=[];each$f(instances,function(Oy){Oy!==Iy&&Oy.group===Iy.group&&By.push(Oy)}),Ly(By,CONNECT_STATUS_PENDING),each$f(By,function(Oy){Oy[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&Oy.dispatchAction(Ny)}),Ly(By,CONNECT_STATUS_UPDATED)}})})}}(),ua}(Eventful),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(ha,ua,Sa){var ba=this;function ka(){for(var _y=[],Ty=0;Ty<arguments.length;Ty++)_y[Ty]=arguments[Ty];ua&&ua.apply&&ua.apply(this,_y),ba.off(ha,ka)}this.on.call(this,ha,ka,Sa)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(ha){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(ha,ua,Sa){{var ba=getInstanceByDom(ha);if(ba)return ba}var ka=new ECharts(ha,ua,Sa);return ka.id="ec_"+idBase++,instances[ka.id]=ka,setAttribute(ha,DOM_ATTRIBUTE_KEY,ka.id),enableConnect(ka),lifecycle.trigger("afterinit",ka),ka}function getInstanceByDom(ha){return instances[getAttribute(ha,DOM_ATTRIBUTE_KEY)]}function registerTheme(ha,ua){themeStorage[ha]=ua}function registerPreprocessor(ha){indexOf(optionPreprocessorFuncs,ha)<0&&optionPreprocessorFuncs.push(ha)}function registerProcessor(ha,ua){normalizeRegister(dataProcessorFuncs,ha,ua,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(ha){registerUpdateLifecycle("afterinit",ha)}function registerPostUpdate(ha){registerUpdateLifecycle("afterupdate",ha)}function registerUpdateLifecycle(ha,ua){lifecycle.on(ha,ua)}function registerAction(ha,ua,Sa){isFunction(ua)&&(Sa=ua,ua="");var ba=isObject$3(ha)?ha.type:[ha,ha={event:ua}][0];ha.event=(ha.event||ba).toLowerCase(),ua=ha.event,!eventActionMap[ua]&&(assert(ACTION_REG.test(ba)&&ACTION_REG.test(ua)),actions[ba]||(actions[ba]={action:Sa,actionInfo:ha}),eventActionMap[ua]=ba)}function registerCoordinateSystem(ha,ua){CoordinateSystemManager.register(ha,ua)}function registerLayout(ha,ua){normalizeRegister(visualFuncs,ha,ua,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(ha,ua){normalizeRegister(visualFuncs,ha,ua,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(ha,ua,Sa,ba,ka){if((isFunction(ua)||isObject$3(ua))&&(Sa=ua,ua=ba),!(indexOf(registeredTasks,Sa)>=0)){registeredTasks.push(Sa);var _y=Scheduler.wrapStageHandler(Sa,ka);_y.__prio=ua,_y.__raw=Sa,ha.push(_y)}}function registerLoading(ha,ua){loadingEffects[ha]=ua}function registerMap$1(ha,ua,Sa){var ba=getImpl("registerMap");ba&&ba(ha,ua,Sa)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",theme);var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel,ComponentView,SeriesModel,ChartView,registerComponentModel:function(ha){ComponentModel.registerClass(ha)},registerComponentView:function(ha){ComponentView.registerClass(ha)},registerSeriesModel:function(ha){SeriesModel.registerClass(ha)},registerChartView:function(ha){ChartView.registerClass(ha)},registerSubTypeDefaulter:function(ha,ua){ComponentModel.registerSubTypeDefaulter(ha,ua)},registerPainter:function(ha,ua){registerPainter(ha,ua)}};function use(ha){if(isArray$1(ha)){each$f(ha,function(ua){use(ua)});return}indexOf(extensions,ha)>=0||(extensions.push(ha),isFunction(ha)&&(ha={install:ha}),ha.install(extensionRegisters))}function dataIndexMapValueLength(ha){return ha==null?0:ha.length||1}function defaultKeyGetter(ha){return ha}var DataDiffer=function(){function ha(ua,Sa,ba,ka,_y,Ty){this._old=ua,this._new=Sa,this._oldKeyGetter=ba||defaultKeyGetter,this._newKeyGetter=ka||defaultKeyGetter,this.context=_y,this._diffModeMultiple=Ty==="multiple"}return ha.prototype.add=function(ua){return this._add=ua,this},ha.prototype.update=function(ua){return this._update=ua,this},ha.prototype.updateManyToOne=function(ua){return this._updateManyToOne=ua,this},ha.prototype.updateOneToMany=function(ua){return this._updateOneToMany=ua,this},ha.prototype.updateManyToMany=function(ua){return this._updateManyToMany=ua,this},ha.prototype.remove=function(ua){return this._remove=ua,this},ha.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},ha.prototype._executeOneToOne=function(){var ua=this._old,Sa=this._new,ba={},ka=new Array(ua.length),_y=new Array(Sa.length);this._initIndexMap(ua,null,ka,"_oldKeyGetter"),this._initIndexMap(Sa,ba,_y,"_newKeyGetter");for(var Ty=0;Ty<ua.length;Ty++){var Ay=ka[Ty],Ey=ba[Ay],My=dataIndexMapValueLength(Ey);if(My>1){var Dy=Ey.shift();Ey.length===1&&(ba[Ay]=Ey[0]),this._update&&this._update(Dy,Ty)}else My===1?(ba[Ay]=null,this._update&&this._update(Ey,Ty)):this._remove&&this._remove(Ty)}this._performRestAdd(_y,ba)},ha.prototype._executeMultiple=function(){var ua=this._old,Sa=this._new,ba={},ka={},_y=[],Ty=[];this._initIndexMap(ua,ba,_y,"_oldKeyGetter"),this._initIndexMap(Sa,ka,Ty,"_newKeyGetter");for(var Ay=0;Ay<_y.length;Ay++){var Ey=_y[Ay],My=ba[Ey],Dy=ka[Ey],Iy=dataIndexMapValueLength(My),Ly=dataIndexMapValueLength(Dy);if(Iy>1&&Ly===1)this._updateManyToOne&&this._updateManyToOne(Dy,My),ka[Ey]=null;else if(Iy===1&&Ly>1)this._updateOneToMany&&this._updateOneToMany(Dy,My),ka[Ey]=null;else if(Iy===1&&Ly===1)this._update&&this._update(Dy,My),ka[Ey]=null;else if(Iy>1&&Ly>1)this._updateManyToMany&&this._updateManyToMany(Dy,My),ka[Ey]=null;else if(Iy>1)for(var Py=0;Py<Iy;Py++)this._remove&&this._remove(My[Py]);else this._remove&&this._remove(My)}this._performRestAdd(Ty,ka)},ha.prototype._performRestAdd=function(ua,Sa){for(var ba=0;ba<ua.length;ba++){var ka=ua[ba],_y=Sa[ka],Ty=dataIndexMapValueLength(_y);if(Ty>1)for(var Ay=0;Ay<Ty;Ay++)this._add&&this._add(_y[Ay]);else Ty===1&&this._add&&this._add(_y);Sa[ka]=null}},ha.prototype._initIndexMap=function(ua,Sa,ba,ka){for(var _y=this._diffModeMultiple,Ty=0;Ty<ua.length;Ty++){var Ay="_ec_"+this[ka](ua[Ty],Ty);if(_y||(ba[Ty]=Ay),!!Sa){var Ey=Sa[Ay],My=dataIndexMapValueLength(Ey);My===0?(Sa[Ay]=Ty,_y&&ba.push(Ay)):My===1?Sa[Ay]=[Ey,Ty]:Ey.push(Ty)}}},ha}(),DimensionUserOuput=function(){function ha(ua,Sa){this._encode=ua,this._schema=Sa}return ha.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},ha.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},ha}();function summarizeDimensions(ha,ua){var Sa={},ba=Sa.encode={},ka=createHashMap(),_y=[],Ty=[],Ay={};each$f(ha.dimensions,function(Ly){var Py=ha.getDimensionInfo(Ly),Ry=Py.coordDim;if(Ry){var Vy=Py.coordDimIndex;getOrCreateEncodeArr(ba,Ry)[Vy]=Ly,Py.isExtraCoord||(ka.set(Ry,1),mayLabelDimType(Py.type)&&(_y[0]=Ly),getOrCreateEncodeArr(Ay,Ry)[Vy]=ha.getDimensionIndex(Py.name)),Py.defaultTooltip&&Ty.push(Ly)}VISUAL_DIMENSIONS.each(function(Ny,By){var Oy=getOrCreateEncodeArr(ba,By),Fy=Py.otherDims[By];Fy!=null&&Fy!==!1&&(Oy[Fy]=Py.name)})});var Ey=[],My={};ka.each(function(Ly,Py){var Ry=ba[Py];My[Py]=Ry[0],Ey=Ey.concat(Ry)}),Sa.dataDimsOnCoord=Ey,Sa.dataDimIndicesOnCoord=map$1(Ey,function(Ly){return ha.getDimensionInfo(Ly).storeDimIndex}),Sa.encodeFirstDimNotExtra=My;var Dy=ba.label;Dy&&Dy.length&&(_y=Dy.slice());var Iy=ba.tooltip;return Iy&&Iy.length?Ty=Iy.slice():Ty.length||(Ty=_y.slice()),ba.defaultedLabel=_y,ba.defaultedTooltip=Ty,Sa.userOutput=new DimensionUserOuput(Ay,ua),Sa}function getOrCreateEncodeArr(ha,ua){return ha.hasOwnProperty(ua)||(ha[ua]=[]),ha[ua]}function getDimensionTypeByAxis(ha){return ha==="category"?"ordinal":ha==="time"?"time":"float"}function mayLabelDimType(ha){return!(ha==="ordinal"||ha==="time")}var SeriesDimensionDefine=function(){function ha(ua){this.otherDims={},ua!=null&&extend(this,ua)}return ha}(),inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function ha(ua){this.dimensions=ua.dimensions,this._dimOmitted=ua.dimensionOmitted,this.source=ua.source,this._fullDimCount=ua.fullDimensionCount,this._updateDimOmitted(ua.dimensionOmitted)}return ha.prototype.isDimensionOmitted=function(){return this._dimOmitted},ha.prototype._updateDimOmitted=function(ua){this._dimOmitted=ua,ua&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},ha.prototype.getSourceDimensionIndex=function(ua){return retrieve2(this._dimNameMap.get(ua),-1)},ha.prototype.getSourceDimension=function(ua){var Sa=this.source.dimensionsDefine;if(Sa)return Sa[ua]},ha.prototype.makeStoreSchema=function(){for(var ua=this._fullDimCount,Sa=shouldRetrieveDataByName(this.source),ba=!shouldOmitUnusedDimensions(ua),ka="",_y=[],Ty=0,Ay=0;Ty<ua;Ty++){var Ey=void 0,My=void 0,Dy=void 0,Iy=this.dimensions[Ay];if(Iy&&Iy.storeDimIndex===Ty)Ey=Sa?Iy.name:null,My=Iy.type,Dy=Iy.ordinalMeta,Ay++;else{var Ly=this.getSourceDimension(Ty);Ly&&(Ey=Sa?Ly.name:null,My=Ly.type)}_y.push({property:Ey,type:My,ordinalMeta:Dy}),Sa&&Ey!=null&&(!Iy||!Iy.isCalculationCoord)&&(ka+=ba?Ey.replace(/\`/g,"`1").replace(/\$/g,"`2"):Ey),ka+="$",ka+=dimTypeShort[My]||"f",Dy&&(ka+=Dy.uid),ka+="$"}var Py=this.source,Ry=[Py.seriesLayoutBy,Py.startIndex,ka].join("$$");return{dimensions:_y,hash:Ry}},ha.prototype.makeOutputDimensionNames=function(){for(var ua=[],Sa=0,ba=0;Sa<this._fullDimCount;Sa++){var ka=void 0,_y=this.dimensions[ba];if(_y&&_y.storeDimIndex===Sa)_y.isCalculationCoord||(ka=_y.name),ba++;else{var Ty=this.getSourceDimension(Sa);Ty&&(ka=Ty.name)}ua.push(ka)}return ua},ha.prototype.appendCalculationDimension=function(ua){this.dimensions.push(ua),ua.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},ha}();function isSeriesDataSchema(ha){return ha instanceof SeriesDataSchema}function createDimNameMap(ha){for(var ua=createHashMap(),Sa=0;Sa<(ha||[]).length;Sa++){var ba=ha[Sa],ka=isObject$3(ba)?ba.name:ba;ka!=null&&ua.get(ka)==null&&ua.set(ka,Sa)}return ua}function ensureSourceDimNameMap(ha){var ua=inner$h(ha);return ua.dimNameMap||(ua.dimNameMap=createDimNameMap(ha.dimensionsDefine))}function shouldOmitUnusedDimensions(ha){return ha>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function ha(ua,Sa){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var ba,ka=!1;isSeriesDataSchema(ua)?(ba=ua.dimensions,this._dimOmitted=ua.isDimensionOmitted(),this._schema=ua):(ka=!0,ba=ua),ba=ba||["x","y"];for(var _y={},Ty=[],Ay={},Ey=!1,My={},Dy=0;Dy<ba.length;Dy++){var Iy=ba[Dy],Ly=isString(Iy)?new SeriesDimensionDefine({name:Iy}):Iy instanceof SeriesDimensionDefine?Iy:new SeriesDimensionDefine(Iy),Py=Ly.name;Ly.type=Ly.type||"float",Ly.coordDim||(Ly.coordDim=Py,Ly.coordDimIndex=0);var Ry=Ly.otherDims=Ly.otherDims||{};Ty.push(Py),_y[Py]=Ly,My[Py]!=null&&(Ey=!0),Ly.createInvertedIndices&&(Ay[Py]=[]),Ry.itemName===0&&(this._nameDimIdx=Dy),Ry.itemId===0&&(this._idDimIdx=Dy),ka&&(Ly.storeDimIndex=Dy)}if(this.dimensions=Ty,this._dimInfos=_y,this._initGetDimensionInfo(Ey),this.hostModel=Sa,this._invertedIndicesMap=Ay,this._dimOmitted){var Vy=this._dimIdxToName=createHashMap();each$f(Ty,function(Ny){Vy.set(_y[Ny].storeDimIndex,Ny)})}}return ha.prototype.getDimension=function(ua){var Sa=this._recognizeDimIndex(ua);if(Sa==null)return ua;if(Sa=ua,!this._dimOmitted)return this.dimensions[Sa];var ba=this._dimIdxToName.get(Sa);if(ba!=null)return ba;var ka=this._schema.getSourceDimension(Sa);if(ka)return ka.name},ha.prototype.getDimensionIndex=function(ua){var Sa=this._recognizeDimIndex(ua);if(Sa!=null)return Sa;if(ua==null)return-1;var ba=this._getDimInfo(ua);return ba?ba.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(ua):-1},ha.prototype._recognizeDimIndex=function(ua){if(isNumber(ua)||ua!=null&&!isNaN(ua)&&!this._getDimInfo(ua)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(ua)<0))return+ua},ha.prototype._getStoreDimIndex=function(ua){var Sa=this.getDimensionIndex(ua);return Sa},ha.prototype.getDimensionInfo=function(ua){return this._getDimInfo(this.getDimension(ua))},ha.prototype._initGetDimensionInfo=function(ua){var Sa=this._dimInfos;this._getDimInfo=ua?function(ba){return Sa.hasOwnProperty(ba)?Sa[ba]:void 0}:function(ba){return Sa[ba]}},ha.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},ha.prototype.mapDimension=function(ua,Sa){var ba=this._dimSummary;if(Sa==null)return ba.encodeFirstDimNotExtra[ua];var ka=ba.encode[ua];return ka?ka[Sa]:null},ha.prototype.mapDimensionsAll=function(ua){var Sa=this._dimSummary,ba=Sa.encode[ua];return(ba||[]).slice()},ha.prototype.getStore=function(){return this._store},ha.prototype.initData=function(ua,Sa,ba){var ka=this,_y;if(ua instanceof DataStore&&(_y=ua),!_y){var Ty=this.dimensions,Ay=isSourceInstance(ua)||isArrayLike(ua)?new DefaultDataProvider(ua,Ty.length):ua;_y=new DataStore;var Ey=map(Ty,function(My){return{type:ka._dimInfos[My].type,property:My}});_y.initData(Ay,Ey,ba)}this._store=_y,this._nameList=(Sa||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,_y.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},ha.prototype.appendData=function(ua){var Sa=this._store.appendData(ua);this._doInit(Sa[0],Sa[1])},ha.prototype.appendValues=function(ua,Sa){var ba=this._store.appendValues(ua,Sa&&Sa.length),ka=ba.start,_y=ba.end,Ty=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),Sa)for(var Ay=ka;Ay<_y;Ay++){var Ey=Ay-ka;this._nameList[Ay]=Sa[Ey],Ty&&makeIdFromName(this,Ay)}},ha.prototype._updateOrdinalMeta=function(){for(var ua=this._store,Sa=this.dimensions,ba=0;ba<Sa.length;ba++){var ka=this._dimInfos[Sa[ba]];ka.ordinalMeta&&ua.collectOrdinalMeta(ka.storeDimIndex,ka.ordinalMeta)}},ha.prototype._shouldMakeIdFromName=function(){var ua=this._store.getProvider();return this._idDimIdx==null&&ua.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!ua.fillStorage},ha.prototype._doInit=function(ua,Sa){if(!(ua>=Sa)){var ba=this._store,ka=ba.getProvider();this._updateOrdinalMeta();var _y=this._nameList,Ty=this._idList,Ay=ka.getSource().sourceFormat,Ey=Ay===SOURCE_FORMAT_ORIGINAL;if(Ey&&!ka.pure)for(var My=[],Dy=ua;Dy<Sa;Dy++){var Iy=ka.getItem(Dy,My);if(!this.hasItemOption&&isDataItemOption(Iy)&&(this.hasItemOption=!0),Iy){var Ly=Iy.name;_y[Dy]==null&&Ly!=null&&(_y[Dy]=convertOptionIdName(Ly,null));var Py=Iy.id;Ty[Dy]==null&&Py!=null&&(Ty[Dy]=convertOptionIdName(Py,null))}}if(this._shouldMakeIdFromName())for(var Dy=ua;Dy<Sa;Dy++)makeIdFromName(this,Dy);prepareInvertedIndex(this)}},ha.prototype.getApproximateExtent=function(ua){return this._approximateExtent[ua]||this._store.getDataExtent(this._getStoreDimIndex(ua))},ha.prototype.setApproximateExtent=function(ua,Sa){Sa=this.getDimension(Sa),this._approximateExtent[Sa]=ua.slice()},ha.prototype.getCalculationInfo=function(ua){return this._calculationInfo[ua]},ha.prototype.setCalculationInfo=function(ua,Sa){isObject$1(ua)?extend(this._calculationInfo,ua):this._calculationInfo[ua]=Sa},ha.prototype.getName=function(ua){var Sa=this.getRawIndex(ua),ba=this._nameList[Sa];return ba==null&&this._nameDimIdx!=null&&(ba=getIdNameFromStore(this,this._nameDimIdx,Sa)),ba==null&&(ba=""),ba},ha.prototype._getCategory=function(ua,Sa){var ba=this._store.get(ua,Sa),ka=this._store.getOrdinalMeta(ua);return ka?ka.categories[ba]:ba},ha.prototype.getId=function(ua){return getId(this,this.getRawIndex(ua))},ha.prototype.count=function(){return this._store.count()},ha.prototype.get=function(ua,Sa){var ba=this._store,ka=this._dimInfos[ua];if(ka)return ba.get(ka.storeDimIndex,Sa)},ha.prototype.getByRawIndex=function(ua,Sa){var ba=this._store,ka=this._dimInfos[ua];if(ka)return ba.getByRawIndex(ka.storeDimIndex,Sa)},ha.prototype.getIndices=function(){return this._store.getIndices()},ha.prototype.getDataExtent=function(ua){return this._store.getDataExtent(this._getStoreDimIndex(ua))},ha.prototype.getSum=function(ua){return this._store.getSum(this._getStoreDimIndex(ua))},ha.prototype.getMedian=function(ua){return this._store.getMedian(this._getStoreDimIndex(ua))},ha.prototype.getValues=function(ua,Sa){var ba=this,ka=this._store;return isArray$1(ua)?ka.getValues(map(ua,function(_y){return ba._getStoreDimIndex(_y)}),Sa):ka.getValues(ua)},ha.prototype.hasValue=function(ua){for(var Sa=this._dimSummary.dataDimIndicesOnCoord,ba=0,ka=Sa.length;ba<ka;ba++)if(isNaN(this._store.get(Sa[ba],ua)))return!1;return!0},ha.prototype.indexOfName=function(ua){for(var Sa=0,ba=this._store.count();Sa<ba;Sa++)if(this.getName(Sa)===ua)return Sa;return-1},ha.prototype.getRawIndex=function(ua){return this._store.getRawIndex(ua)},ha.prototype.indexOfRawIndex=function(ua){return this._store.indexOfRawIndex(ua)},ha.prototype.rawIndexOf=function(ua,Sa){var ba=ua&&this._invertedIndicesMap[ua],ka=ba&&ba[Sa];return ka==null||isNaN(ka)?INDEX_NOT_FOUND:ka},ha.prototype.indicesOfNearest=function(ua,Sa,ba){return this._store.indicesOfNearest(this._getStoreDimIndex(ua),Sa,ba)},ha.prototype.each=function(ua,Sa,ba){isFunction(ua)&&(ba=Sa,Sa=ua,ua=[]);var ka=ba||this,_y=map(normalizeDimensions(ua),this._getStoreDimIndex,this);this._store.each(_y,ka?bind$1(Sa,ka):Sa)},ha.prototype.filterSelf=function(ua,Sa,ba){isFunction(ua)&&(ba=Sa,Sa=ua,ua=[]);var ka=ba||this,_y=map(normalizeDimensions(ua),this._getStoreDimIndex,this);return this._store=this._store.filter(_y,ka?bind$1(Sa,ka):Sa),this},ha.prototype.selectRange=function(ua){var Sa=this,ba={},ka=keys(ua);return each$f(ka,function(_y){var Ty=Sa._getStoreDimIndex(_y);ba[Ty]=ua[_y]}),this._store=this._store.selectRange(ba),this},ha.prototype.mapArray=function(ua,Sa,ba){isFunction(ua)&&(ba=Sa,Sa=ua,ua=[]),ba=ba||this;var ka=[];return this.each(ua,function(){ka.push(Sa&&Sa.apply(this,arguments))},ba),ka},ha.prototype.map=function(ua,Sa,ba,ka){var _y=ba||ka||this,Ty=map(normalizeDimensions(ua),this._getStoreDimIndex,this),Ay=cloneListForMapAndSample(this);return Ay._store=this._store.map(Ty,_y?bind$1(Sa,_y):Sa),Ay},ha.prototype.modify=function(ua,Sa,ba,ka){var _y=ba||ka||this,Ty=map(normalizeDimensions(ua),this._getStoreDimIndex,this);this._store.modify(Ty,_y?bind$1(Sa,_y):Sa)},ha.prototype.downSample=function(ua,Sa,ba,ka){var _y=cloneListForMapAndSample(this);return _y._store=this._store.downSample(this._getStoreDimIndex(ua),Sa,ba,ka),_y},ha.prototype.minmaxDownSample=function(ua,Sa){var ba=cloneListForMapAndSample(this);return ba._store=this._store.minmaxDownSample(this._getStoreDimIndex(ua),Sa),ba},ha.prototype.lttbDownSample=function(ua,Sa){var ba=cloneListForMapAndSample(this);return ba._store=this._store.lttbDownSample(this._getStoreDimIndex(ua),Sa),ba},ha.prototype.getRawDataItem=function(ua){return this._store.getRawDataItem(ua)},ha.prototype.getItemModel=function(ua){var Sa=this.hostModel,ba=this.getRawDataItem(ua);return new Model(ba,Sa,Sa&&Sa.ecModel)},ha.prototype.diff=function(ua){var Sa=this;return new DataDiffer(ua?ua.getStore().getIndices():[],this.getStore().getIndices(),function(ba){return getId(ua,ba)},function(ba){return getId(Sa,ba)})},ha.prototype.getVisual=function(ua){var Sa=this._visual;return Sa&&Sa[ua]},ha.prototype.setVisual=function(ua,Sa){this._visual=this._visual||{},isObject$1(ua)?extend(this._visual,ua):this._visual[ua]=Sa},ha.prototype.getItemVisual=function(ua,Sa){var ba=this._itemVisuals[ua],ka=ba&&ba[Sa];return ka??this.getVisual(Sa)},ha.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},ha.prototype.ensureUniqueItemVisual=function(ua,Sa){var ba=this._itemVisuals,ka=ba[ua];ka||(ka=ba[ua]={});var _y=ka[Sa];return _y==null&&(_y=this.getVisual(Sa),isArray$1(_y)?_y=_y.slice():isObject$1(_y)&&(_y=extend({},_y)),ka[Sa]=_y),_y},ha.prototype.setItemVisual=function(ua,Sa,ba){var ka=this._itemVisuals[ua]||{};this._itemVisuals[ua]=ka,isObject$1(Sa)?extend(ka,Sa):ka[Sa]=ba},ha.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},ha.prototype.setLayout=function(ua,Sa){isObject$1(ua)?extend(this._layout,ua):this._layout[ua]=Sa},ha.prototype.getLayout=function(ua){return this._layout[ua]},ha.prototype.getItemLayout=function(ua){return this._itemLayouts[ua]},ha.prototype.setItemLayout=function(ua,Sa,ba){this._itemLayouts[ua]=ba?extend(this._itemLayouts[ua]||{},Sa):Sa},ha.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},ha.prototype.setItemGraphicEl=function(ua,Sa){var ba=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(ba,this.dataType,ua,Sa),this._graphicEls[ua]=Sa},ha.prototype.getItemGraphicEl=function(ua){return this._graphicEls[ua]},ha.prototype.eachItemGraphicEl=function(ua,Sa){each$f(this._graphicEls,function(ba,ka){ba&&ua&&ua.call(Sa,ba,ka)})},ha.prototype.cloneShallow=function(ua){return ua||(ua=new ha(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(ua,this),ua._store=this._store,ua},ha.prototype.wrapMethod=function(ua,Sa){var ba=this[ua];isFunction(ba)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(ua),this[ua]=function(){var ka=ba.apply(this,arguments);return Sa.apply(this,[ka].concat(slice(arguments)))})},ha.internalField=function(){prepareInvertedIndex=function(ua){var Sa=ua._invertedIndicesMap;each$f(Sa,function(ba,ka){var _y=ua._dimInfos[ka],Ty=_y.ordinalMeta,Ay=ua._store;if(Ty){ba=Sa[ka]=new CtorInt32Array(Ty.categories.length);for(var Ey=0;Ey<ba.length;Ey++)ba[Ey]=INDEX_NOT_FOUND;for(var Ey=0;Ey<Ay.count();Ey++)ba[Ay.get(_y.storeDimIndex,Ey)]=Ey}})},getIdNameFromStore=function(ua,Sa,ba){return convertOptionIdName(ua._getCategory(Sa,ba),null)},getId=function(ua,Sa){var ba=ua._idList[Sa];return ba==null&&ua._idDimIdx!=null&&(ba=getIdNameFromStore(ua,ua._idDimIdx,Sa)),ba==null&&(ba=ID_PREFIX+Sa),ba},normalizeDimensions=function(ua){return isArray$1(ua)||(ua=ua!=null?[ua]:[]),ua},cloneListForMapAndSample=function(ua){var Sa=new ha(ua._schema?ua._schema:map(ua.dimensions,ua._getDimInfo,ua),ua.hostModel);return transferProperties(Sa,ua),Sa},transferProperties=function(ua,Sa){each$f(TRANSFERABLE_PROPERTIES.concat(Sa.__wrappedMethods||[]),function(ba){Sa.hasOwnProperty(ba)&&(ua[ba]=Sa[ba])}),ua.__wrappedMethods=Sa.__wrappedMethods,each$f(CLONE_PROPERTIES,function(ba){ua[ba]=clone$4(Sa[ba])}),ua._calculationInfo=extend({},Sa._calculationInfo)},makeIdFromName=function(ua,Sa){var ba=ua._nameList,ka=ua._idList,_y=ua._nameDimIdx,Ty=ua._idDimIdx,Ay=ba[Sa],Ey=ka[Sa];if(Ay==null&&_y!=null&&(ba[Sa]=Ay=getIdNameFromStore(ua,_y,Sa)),Ey==null&&Ty!=null&&(ka[Sa]=Ey=getIdNameFromStore(ua,Ty,Sa)),Ey==null&&Ay!=null){var My=ua._nameRepeatCount,Dy=My[Ay]=(My[Ay]||0)+1;Ey=Ay,Dy>1&&(Ey+="__ec__"+Dy),ka[Sa]=Ey}}}(),ha}();function prepareSeriesDataSchema(ha,ua){isSourceInstance(ha)||(ha=createSourceFromSeriesDataOption(ha)),ua=ua||{};var Sa=ua.coordDimensions||[],ba=ua.dimensionsDefine||ha.dimensionsDefine||[],ka=createHashMap(),_y=[],Ty=getDimCount(ha,Sa,ba,ua.dimensionsCount),Ay=ua.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(Ty),Ey=ba===ha.dimensionsDefine,My=Ey?ensureSourceDimNameMap(ha):createDimNameMap(ba),Dy=ua.encodeDefine;!Dy&&ua.encodeDefaulter&&(Dy=ua.encodeDefaulter(ha,Ty));for(var Iy=createHashMap(Dy),Ly=new CtorInt32Array$1(Ty),Py=0;Py<Ly.length;Py++)Ly[Py]=-1;function Ry(Yy){var jy=Ly[Yy];if(jy<0){var Ky=ba[Yy],Xy=isObject$3(Ky)?Ky:{name:Ky},Zy=new SeriesDimensionDefine,Jy=Xy.name;Jy!=null&&My.get(Jy)!=null&&(Zy.name=Zy.displayName=Jy),Xy.type!=null&&(Zy.type=Xy.type),Xy.displayName!=null&&(Zy.displayName=Xy.displayName);var t_=_y.length;return Ly[Yy]=t_,Zy.storeDimIndex=Yy,_y.push(Zy),Zy}return _y[jy]}if(!Ay)for(var Py=0;Py<Ty;Py++)Ry(Py);Iy.each(function(Yy,jy){var Ky=normalizeToArray(Yy).slice();if(Ky.length===1&&!isString(Ky[0])&&Ky[0]<0){Iy.set(jy,!1);return}var Xy=Iy.set(jy,[]);each$f(Ky,function(Zy,Jy){var t_=isString(Zy)?My.get(Zy):Zy;t_!=null&&t_<Ty&&(Xy[Jy]=t_,Ny(Ry(t_),jy,Jy))})});var Vy=0;each$f(Sa,function(Yy){var jy,Ky,Xy,Zy;if(isString(Yy))jy=Yy,Zy={};else{Zy=Yy,jy=Zy.name;var Jy=Zy.ordinalMeta;Zy.ordinalMeta=null,Zy=extend({},Zy),Zy.ordinalMeta=Jy,Ky=Zy.dimsDef,Xy=Zy.otherDims,Zy.name=Zy.coordDim=Zy.coordDimIndex=Zy.dimsDef=Zy.otherDims=null}var t_=Iy.get(jy);if(t_!==!1){if(t_=normalizeToArray(t_),!t_.length)for(var Qy=0;Qy<(Ky&&Ky.length||1);Qy++){for(;Vy<Ty&&Ry(Vy).coordDim!=null;)Vy++;Vy<Ty&&t_.push(Vy++)}each$f(t_,function(r_,i_){var l_=Ry(r_);if(Ey&&Zy.type!=null&&(l_.type=Zy.type),Ny(defaults(l_,Zy),jy,i_),l_.name==null&&Ky){var c_=Ky[i_];!isObject$3(c_)&&(c_={name:c_}),l_.name=l_.displayName=c_.name,l_.defaultTooltip=c_.defaultTooltip}Xy&&defaults(l_.otherDims,Xy)})}});function Ny(Yy,jy,Ky){VISUAL_DIMENSIONS.get(jy)!=null?Yy.otherDims[jy]=Ky:(Yy.coordDim=jy,Yy.coordDimIndex=Ky,ka.set(jy,!0))}var By=ua.generateCoord,Oy=ua.generateCoordCount,Fy=Oy!=null;Oy=By?Oy||1:0;var zy=By||"value";function Hy(Yy){Yy.name==null&&(Yy.name=Yy.coordDim)}if(Ay)each$f(_y,function(Yy){Hy(Yy)}),_y.sort(function(Yy,jy){return Yy.storeDimIndex-jy.storeDimIndex});else for(var Gy=0;Gy<Ty;Gy++){var Wy=Ry(Gy),Uy=Wy.coordDim;Uy==null&&(Wy.coordDim=genCoordDimName(zy,ka,Fy),Wy.coordDimIndex=0,(!By||Oy<=0)&&(Wy.isExtraCoord=!0),Oy--),Hy(Wy),Wy.type==null&&(guessOrdinal(ha,Gy)===BE_ORDINAL.Must||Wy.isExtraCoord&&(Wy.otherDims.itemName!=null||Wy.otherDims.seriesName!=null))&&(Wy.type="ordinal")}return removeDuplication(_y),new SeriesDataSchema({source:ha,dimensions:_y,fullDimensionCount:Ty,dimensionOmitted:Ay})}function removeDuplication(ha){for(var ua=createHashMap(),Sa=0;Sa<ha.length;Sa++){var ba=ha[Sa],ka=ba.name,_y=ua.get(ka)||0;_y>0&&(ba.name=ka+(_y-1)),_y++,ua.set(ka,_y)}}function getDimCount(ha,ua,Sa,ba){var ka=Math.max(ha.dimensionsDetectedCount||1,ua.length,Sa.length,ba||0);return each$f(ua,function(_y){var Ty;isObject$3(_y)&&(Ty=_y.dimsDef)&&(ka=Math.max(ka,Ty.length))}),ka}function genCoordDimName(ha,ua,Sa){if(Sa||ua.hasKey(ha)){for(var ba=0;ua.hasKey(ha+ba);)ba++;ha+=ba}return ua.set(ha,!0),ha}var CoordSysInfo=function(){function ha(ua){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=ua}return ha}();function getCoordSysInfoBySeries(ha){var ua=ha.get("coordinateSystem"),Sa=new CoordSysInfo(ua),ba=fetchers[ua];if(ba)return ba(ha,Sa,Sa.axisMap,Sa.categoryAxisMap),Sa}var fetchers={cartesian2d:function(ha,ua,Sa,ba){var ka=ha.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],_y=ha.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];ua.coordSysDims=["x","y"],Sa.set("x",ka),Sa.set("y",_y),isCategory(ka)&&(ba.set("x",ka),ua.firstCategoryDimIndex=0),isCategory(_y)&&(ba.set("y",_y),ua.firstCategoryDimIndex==null&&(ua.firstCategoryDimIndex=1))},singleAxis:function(ha,ua,Sa,ba){var ka=ha.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];ua.coordSysDims=["single"],Sa.set("single",ka),isCategory(ka)&&(ba.set("single",ka),ua.firstCategoryDimIndex=0)},polar:function(ha,ua,Sa,ba){var ka=ha.getReferringComponents("polar",SINGLE_REFERRING).models[0],_y=ka.findAxisModel("radiusAxis"),Ty=ka.findAxisModel("angleAxis");ua.coordSysDims=["radius","angle"],Sa.set("radius",_y),Sa.set("angle",Ty),isCategory(_y)&&(ba.set("radius",_y),ua.firstCategoryDimIndex=0),isCategory(Ty)&&(ba.set("angle",Ty),ua.firstCategoryDimIndex==null&&(ua.firstCategoryDimIndex=1))},geo:function(ha,ua,Sa,ba){ua.coordSysDims=["lng","lat"]},parallel:function(ha,ua,Sa,ba){var ka=ha.ecModel,_y=ka.getComponent("parallel",ha.get("parallelIndex")),Ty=ua.coordSysDims=_y.dimensions.slice();each$f(_y.parallelAxisIndex,function(Ay,Ey){var My=ka.getComponent("parallelAxis",Ay),Dy=Ty[Ey];Sa.set(Dy,My),isCategory(My)&&(ba.set(Dy,My),ua.firstCategoryDimIndex==null&&(ua.firstCategoryDimIndex=Ey))})}};function isCategory(ha){return ha.get("type")==="category"}function enableDataStack(ha,ua,Sa){Sa=Sa||{};var ba=Sa.byIndex,ka=Sa.stackedCoordDimension,_y,Ty,Ay;isLegacyDimensionsInput(ua)?_y=ua:(Ty=ua.schema,_y=Ty.dimensions,Ay=ua.store);var Ey=!!(ha&&ha.get("stack")),My,Dy,Iy,Ly;if(each$f(_y,function(Oy,Fy){isString(Oy)&&(_y[Fy]=Oy={name:Oy}),Ey&&!Oy.isExtraCoord&&(!ba&&!My&&Oy.ordinalMeta&&(My=Oy),!Dy&&Oy.type!=="ordinal"&&Oy.type!=="time"&&(!ka||ka===Oy.coordDim)&&(Dy=Oy))}),Dy&&!ba&&!My&&(ba=!0),Dy){Iy="__\0ecstackresult_"+ha.id,Ly="__\0ecstackedover_"+ha.id,My&&(My.createInvertedIndices=!0);var Py=Dy.coordDim,Ry=Dy.type,Vy=0;each$f(_y,function(Oy){Oy.coordDim===Py&&Vy++});var Ny={name:Iy,coordDim:Py,coordDimIndex:Vy,type:Ry,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:_y.length},By={name:Ly,coordDim:Ly,coordDimIndex:Vy+1,type:Ry,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:_y.length+1};Ty?(Ay&&(Ny.storeDimIndex=Ay.ensureCalculationDimension(Ly,Ry),By.storeDimIndex=Ay.ensureCalculationDimension(Iy,Ry)),Ty.appendCalculationDimension(Ny),Ty.appendCalculationDimension(By)):(_y.push(Ny),_y.push(By))}return{stackedDimension:Dy&&Dy.name,stackedByDimension:My&&My.name,isStackedByIndex:ba,stackedOverDimension:Ly,stackResultDimension:Iy}}function isLegacyDimensionsInput(ha){return!isSeriesDataSchema(ha.schema)}function isDimensionStacked(ha,ua){return!!ua&&ua===ha.getCalculationInfo("stackedDimension")}function getStackedDimension(ha,ua){return isDimensionStacked(ha,ua)?ha.getCalculationInfo("stackResultDimension"):ua}function getCoordSysDimDefs(ha,ua){var Sa=ha.get("coordinateSystem"),ba=CoordinateSystemManager.get(Sa),ka;return ua&&ua.coordSysDims&&(ka=map$1(ua.coordSysDims,function(_y){var Ty={name:_y},Ay=ua.axisMap.get(_y);if(Ay){var Ey=Ay.get("type");Ty.type=getDimensionTypeByAxis(Ey)}return Ty})),ka||(ka=ba&&(ba.getDimensionsInfo?ba.getDimensionsInfo():ba.dimensions.slice())||["x","y"]),ka}function injectOrdinalMeta(ha,ua,Sa){var ba,ka;return Sa&&each$f(ha,function(_y,Ty){var Ay=_y.coordDim,Ey=Sa.categoryAxisMap.get(Ay);Ey&&(ba==null&&(ba=Ty),_y.ordinalMeta=Ey.getOrdinalMeta(),ua&&(_y.createInvertedIndices=!0)),_y.otherDims.itemName!=null&&(ka=!0)}),!ka&&ba!=null&&(ha[ba].otherDims.itemName=0),ba}function createSeriesData(ha,ua,Sa){Sa=Sa||{};var ba=ua.getSourceManager(),ka,_y=!1;ha?(_y=!0,ka=createSourceFromSeriesDataOption(ha)):(ka=ba.getSource(),_y=ka.sourceFormat===SOURCE_FORMAT_ORIGINAL);var Ty=getCoordSysInfoBySeries(ua),Ay=getCoordSysDimDefs(ua,Ty),Ey=Sa.useEncodeDefaulter,My=isFunction(Ey)?Ey:Ey?curry$1(makeSeriesEncodeForAxisCoordSys,Ay,ua):null,Dy={coordDimensions:Ay,generateCoord:Sa.generateCoord,encodeDefine:ua.getEncode(),encodeDefaulter:My,canOmitUnusedDimensions:!_y},Iy=prepareSeriesDataSchema(ka,Dy),Ly=injectOrdinalMeta(Iy.dimensions,Sa.createInvertedIndices,Ty),Py=_y?null:ba.getSharedDataStore(Iy),Ry=enableDataStack(ua,{schema:Iy,store:Py}),Vy=new SeriesData(Iy,ua);Vy.setCalculationInfo(Ry);var Ny=Ly!=null&&isNeedCompleteOrdinalData(ka)?function(By,Oy,Fy,zy){return zy===Ly?Fy:this.defaultDimValueGetter(By,Oy,Fy,zy)}:null;return Vy.hasItemOption=!1,Vy.initData(_y?ka:Py,null,Ny),Vy}function isNeedCompleteOrdinalData(ha){if(ha.sourceFormat===SOURCE_FORMAT_ORIGINAL){var ua=firstDataNotNull(ha.data||[]);return!isArray$1(getDataItemValue(ua))}}function firstDataNotNull(ha){for(var ua=0;ua<ha.length&&ha[ua]==null;)ua++;return ha[ua]}var Scale=function(){function ha(ua){this._setting=ua||{},this._extent=[1/0,-1/0]}return ha.prototype.getSetting=function(ua){return this._setting[ua]},ha.prototype.unionExtent=function(ua){var Sa=this._extent;ua[0]<Sa[0]&&(Sa[0]=ua[0]),ua[1]>Sa[1]&&(Sa[1]=ua[1])},ha.prototype.unionExtentFromData=function(ua,Sa){this.unionExtent(ua.getApproximateExtent(Sa))},ha.prototype.getExtent=function(){return this._extent.slice()},ha.prototype.setExtent=function(ua,Sa){var ba=this._extent;isNaN(ua)||(ba[0]=ua),isNaN(Sa)||(ba[1]=Sa)},ha.prototype.isInExtentRange=function(ua){return this._extent[0]<=ua&&this._extent[1]>=ua},ha.prototype.isBlank=function(){return this._isBlank},ha.prototype.setBlank=function(ua){this._isBlank=ua},ha}();enableClassManagement(Scale);var uidBase=0,OrdinalMeta=function(){function ha(ua){this.categories=ua.categories||[],this._needCollect=ua.needCollect,this._deduplication=ua.deduplication,this.uid=++uidBase}return ha.createByAxisModel=function(ua){var Sa=ua.option,ba=Sa.data,ka=ba&&map$1(ba,getName);return new ha({categories:ka,needCollect:!ka,deduplication:Sa.dedplication!==!1})},ha.prototype.getOrdinal=function(ua){return this._getOrCreateMap().get(ua)},ha.prototype.parseAndCollect=function(ua){var Sa,ba=this._needCollect;if(!isString(ua)&&!ba)return ua;if(ba&&!this._deduplication)return Sa=this.categories.length,this.categories[Sa]=ua,Sa;var ka=this._getOrCreateMap();return Sa=ka.get(ua),Sa==null&&(ba?(Sa=this.categories.length,this.categories[Sa]=ua,ka.set(ua,Sa)):Sa=NaN),Sa},ha.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},ha}();function getName(ha){return isObject$3(ha)&&ha.value!=null?ha.value:ha+""}function isIntervalOrLogScale(ha){return ha.type==="interval"||ha.type==="log"}function intervalScaleNiceTicks(ha,ua,Sa,ba){var ka={},_y=ha[1]-ha[0],Ty=ka.interval=nice(_y/ua);Sa!=null&&Ty<Sa&&(Ty=ka.interval=Sa),ba!=null&&Ty>ba&&(Ty=ka.interval=ba);var Ay=ka.intervalPrecision=getIntervalPrecision(Ty),Ey=ka.niceTickExtent=[round$3(Math.ceil(ha[0]/Ty)*Ty,Ay),round$3(Math.floor(ha[1]/Ty)*Ty,Ay)];return fixExtent(Ey,ha),ka}function increaseInterval(ha){var ua=Math.pow(10,quantityExponent(ha)),Sa=ha/ua;return Sa?Sa===2?Sa=3:Sa===3?Sa=5:Sa*=2:Sa=1,round$3(Sa*ua)}function getIntervalPrecision(ha){return getPrecision(ha)+2}function clamp(ha,ua,Sa){ha[ua]=Math.max(Math.min(ha[ua],Sa[1]),Sa[0])}function fixExtent(ha,ua){!isFinite(ha[0])&&(ha[0]=ua[0]),!isFinite(ha[1])&&(ha[1]=ua[1]),clamp(ha,0,ua),clamp(ha,1,ua),ha[0]>ha[1]&&(ha[0]=ha[1])}function contain$1(ha,ua){return ha>=ua[0]&&ha<=ua[1]}function normalize$2(ha,ua){return ua[1]===ua[0]?.5:(ha-ua[0])/(ua[1]-ua[0])}function scale(ha,ua){return ha*(ua[1]-ua[0])+ua[0]}var OrdinalScale=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;ba.type="ordinal";var ka=ba.getSetting("ordinalMeta");return ka||(ka=new OrdinalMeta({})),isArray$1(ka)&&(ka=new OrdinalMeta({categories:map$1(ka,function(_y){return isObject$3(_y)?_y.value:_y})})),ba._ordinalMeta=ka,ba._extent=ba.getSetting("extent")||[0,ka.categories.length-1],ba}return ua.prototype.parse=function(Sa){return Sa==null?NaN:isString(Sa)?this._ordinalMeta.getOrdinal(Sa):Math.round(Sa)},ua.prototype.contain=function(Sa){return Sa=this.parse(Sa),contain$1(Sa,this._extent)&&this._ordinalMeta.categories[Sa]!=null},ua.prototype.normalize=function(Sa){return Sa=this._getTickNumber(this.parse(Sa)),normalize$2(Sa,this._extent)},ua.prototype.scale=function(Sa){return Sa=Math.round(scale(Sa,this._extent)),this.getRawOrdinalNumber(Sa)},ua.prototype.getTicks=function(){for(var Sa=[],ba=this._extent,ka=ba[0];ka<=ba[1];)Sa.push({value:ka}),ka++;return Sa},ua.prototype.getMinorTicks=function(Sa){},ua.prototype.setSortInfo=function(Sa){if(Sa==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var ba=Sa.ordinalNumbers,ka=this._ordinalNumbersByTick=[],_y=this._ticksByOrdinalNumber=[],Ty=0,Ay=this._ordinalMeta.categories.length,Ey=Math.min(Ay,ba.length);Ty<Ey;++Ty){var My=ba[Ty];ka[Ty]=My,_y[My]=Ty}for(var Dy=0;Ty<Ay;++Ty){for(;_y[Dy]!=null;)Dy++;ka.push(Dy),_y[Dy]=Ty}},ua.prototype._getTickNumber=function(Sa){var ba=this._ticksByOrdinalNumber;return ba&&Sa>=0&&Sa<ba.length?ba[Sa]:Sa},ua.prototype.getRawOrdinalNumber=function(Sa){var ba=this._ordinalNumbersByTick;return ba&&Sa>=0&&Sa<ba.length?ba[Sa]:Sa},ua.prototype.getLabel=function(Sa){if(!this.isBlank()){var ba=this.getRawOrdinalNumber(Sa.value),ka=this._ordinalMeta.categories[ba];return ka==null?"":ka+""}},ua.prototype.count=function(){return this._extent[1]-this._extent[0]+1},ua.prototype.unionExtentFromData=function(Sa,ba){this.unionExtent(Sa.getApproximateExtent(ba))},ua.prototype.isInExtentRange=function(Sa){return Sa=this._getTickNumber(Sa),this._extent[0]<=Sa&&this._extent[1]>=Sa},ua.prototype.getOrdinalMeta=function(){return this._ordinalMeta},ua.prototype.calcNiceTicks=function(){},ua.prototype.calcNiceExtent=function(){},ua.type="ordinal",ua}(Scale);Scale.registerClass(OrdinalScale);var roundNumber=round$3,IntervalScale=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type="interval",Sa._interval=0,Sa._intervalPrecision=2,Sa}return ua.prototype.parse=function(Sa){return Sa},ua.prototype.contain=function(Sa){return contain$1(Sa,this._extent)},ua.prototype.normalize=function(Sa){return normalize$2(Sa,this._extent)},ua.prototype.scale=function(Sa){return scale(Sa,this._extent)},ua.prototype.setExtent=function(Sa,ba){var ka=this._extent;isNaN(Sa)||(ka[0]=parseFloat(Sa)),isNaN(ba)||(ka[1]=parseFloat(ba))},ua.prototype.unionExtent=function(Sa){var ba=this._extent;Sa[0]<ba[0]&&(ba[0]=Sa[0]),Sa[1]>ba[1]&&(ba[1]=Sa[1]),this.setExtent(ba[0],ba[1])},ua.prototype.getInterval=function(){return this._interval},ua.prototype.setInterval=function(Sa){this._interval=Sa,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(Sa)},ua.prototype.getTicks=function(Sa){var ba=this._interval,ka=this._extent,_y=this._niceExtent,Ty=this._intervalPrecision,Ay=[];if(!ba)return Ay;var Ey=1e4;ka[0]<_y[0]&&(Sa?Ay.push({value:roundNumber(_y[0]-ba,Ty)}):Ay.push({value:ka[0]}));for(var My=_y[0];My<=_y[1]&&(Ay.push({value:My}),My=roundNumber(My+ba,Ty),My!==Ay[Ay.length-1].value);)if(Ay.length>Ey)return[];var Dy=Ay.length?Ay[Ay.length-1].value:_y[1];return ka[1]>Dy&&(Sa?Ay.push({value:roundNumber(Dy+ba,Ty)}):Ay.push({value:ka[1]})),Ay},ua.prototype.getMinorTicks=function(Sa){for(var ba=this.getTicks(!0),ka=[],_y=this.getExtent(),Ty=1;Ty<ba.length;Ty++){for(var Ay=ba[Ty],Ey=ba[Ty-1],My=0,Dy=[],Iy=Ay.value-Ey.value,Ly=Iy/Sa;My<Sa-1;){var Py=roundNumber(Ey.value+(My+1)*Ly);Py>_y[0]&&Py<_y[1]&&Dy.push(Py),My++}ka.push(Dy)}return ka},ua.prototype.getLabel=function(Sa,ba){if(Sa==null)return"";var ka=ba&&ba.precision;ka==null?ka=getPrecision(Sa.value)||0:ka==="auto"&&(ka=this._intervalPrecision);var _y=roundNumber(Sa.value,ka,!0);return addCommas(_y)},ua.prototype.calcNiceTicks=function(Sa,ba,ka){Sa=Sa||5;var _y=this._extent,Ty=_y[1]-_y[0];if(isFinite(Ty)){Ty<0&&(Ty=-Ty,_y.reverse());var Ay=intervalScaleNiceTicks(_y,Sa,ba,ka);this._intervalPrecision=Ay.intervalPrecision,this._interval=Ay.interval,this._niceExtent=Ay.niceTickExtent}},ua.prototype.calcNiceExtent=function(Sa){var ba=this._extent;if(ba[0]===ba[1])if(ba[0]!==0){var ka=Math.abs(ba[0]);Sa.fixMax||(ba[1]+=ka/2),ba[0]-=ka/2}else ba[1]=1;var _y=ba[1]-ba[0];isFinite(_y)||(ba[0]=0,ba[1]=1),this.calcNiceTicks(Sa.splitNumber,Sa.minInterval,Sa.maxInterval);var Ty=this._interval;Sa.fixMin||(ba[0]=roundNumber(Math.floor(ba[0]/Ty)*Ty)),Sa.fixMax||(ba[1]=roundNumber(Math.ceil(ba[1]/Ty)*Ty))},ua.prototype.setNiceExtent=function(Sa,ba){this._niceExtent=[Sa,ba]},ua.type="interval",ua}(Scale);Scale.registerClass(IntervalScale);var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(ha){return isArray$1(ha)?supportFloat32Array?new Float32Array(ha):ha:new Float32ArrayCtor(ha)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(ha){return ha.get("stack")||STACK_PREFIX+ha.seriesIndex}function getAxisKey$1(ha){return ha.dim+ha.index}function getLayoutOnAxis(ha){var ua=[],Sa=ha.axis,ba="axis0";if(Sa.type==="category"){for(var ka=Sa.getBandWidth(),_y=0;_y<ha.count;_y++)ua.push(defaults({bandWidth:ka,axisKey:ba,stackId:STACK_PREFIX+_y},ha));for(var Ty=doCalBarWidthAndOffset(ua),Ay=[],_y=0;_y<ha.count;_y++){var Ey=Ty[ba][STACK_PREFIX+_y];Ey.offsetCenter=Ey.offset+Ey.width/2,Ay.push(Ey)}return Ay}}function prepareLayoutBarSeries(ha,ua){var Sa=[];return ua.eachSeriesByType(ha,function(ba){isOnCartesian(ba)&&Sa.push(ba)}),Sa}function getValueAxesMinGaps(ha){var ua={};each$f(ha,function(Ey){var My=Ey.coordinateSystem,Dy=My.getBaseAxis();if(!(Dy.type!=="time"&&Dy.type!=="value"))for(var Iy=Ey.getData(),Ly=Dy.dim+"_"+Dy.index,Py=Iy.getDimensionIndex(Iy.mapDimension(Dy.dim)),Ry=Iy.getStore(),Vy=0,Ny=Ry.count();Vy<Ny;++Vy){var By=Ry.get(Py,Vy);ua[Ly]?ua[Ly].push(By):ua[Ly]=[By]}});var Sa={};for(var ba in ua)if(ua.hasOwnProperty(ba)){var ka=ua[ba];if(ka){ka.sort(function(Ey,My){return Ey-My});for(var _y=null,Ty=1;Ty<ka.length;++Ty){var Ay=ka[Ty]-ka[Ty-1];Ay>0&&(_y=_y===null?Ay:Math.min(_y,Ay))}Sa[ba]=_y}}return Sa}function makeColumnLayout(ha){var ua=getValueAxesMinGaps(ha),Sa=[];return each$f(ha,function(ba){var ka=ba.coordinateSystem,_y=ka.getBaseAxis(),Ty=_y.getExtent(),Ay;if(_y.type==="category")Ay=_y.getBandWidth();else if(_y.type==="value"||_y.type==="time"){var Ey=_y.dim+"_"+_y.index,My=ua[Ey],Dy=Math.abs(Ty[1]-Ty[0]),Iy=_y.scale.getExtent(),Ly=Math.abs(Iy[1]-Iy[0]);Ay=My?Dy/Ly*My:Dy}else{var Py=ba.getData();Ay=Math.abs(Ty[1]-Ty[0])/Py.count()}var Ry=parsePercent(ba.get("barWidth"),Ay),Vy=parsePercent(ba.get("barMaxWidth"),Ay),Ny=parsePercent(ba.get("barMinWidth")||(isInLargeMode(ba)?.5:1),Ay),By=ba.get("barGap"),Oy=ba.get("barCategoryGap");Sa.push({bandWidth:Ay,barWidth:Ry,barMaxWidth:Vy,barMinWidth:Ny,barGap:By,barCategoryGap:Oy,axisKey:getAxisKey$1(_y),stackId:getSeriesStackId$1(ba)})}),doCalBarWidthAndOffset(Sa)}function doCalBarWidthAndOffset(ha){var ua={};each$f(ha,function(ba,ka){var _y=ba.axisKey,Ty=ba.bandWidth,Ay=ua[_y]||{bandWidth:Ty,remainedWidth:Ty,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},Ey=Ay.stacks;ua[_y]=Ay;var My=ba.stackId;Ey[My]||Ay.autoWidthCount++,Ey[My]=Ey[My]||{width:0,maxWidth:0};var Dy=ba.barWidth;Dy&&!Ey[My].width&&(Ey[My].width=Dy,Dy=Math.min(Ay.remainedWidth,Dy),Ay.remainedWidth-=Dy);var Iy=ba.barMaxWidth;Iy&&(Ey[My].maxWidth=Iy);var Ly=ba.barMinWidth;Ly&&(Ey[My].minWidth=Ly);var Py=ba.barGap;Py!=null&&(Ay.gap=Py);var Ry=ba.barCategoryGap;Ry!=null&&(Ay.categoryGap=Ry)});var Sa={};return each$f(ua,function(ba,ka){Sa[ka]={};var _y=ba.stacks,Ty=ba.bandWidth,Ay=ba.categoryGap;if(Ay==null){var Ey=keys(_y).length;Ay=Math.max(35-Ey*4,15)+"%"}var My=parsePercent(Ay,Ty),Dy=parsePercent(ba.gap,1),Iy=ba.remainedWidth,Ly=ba.autoWidthCount,Py=(Iy-My)/(Ly+(Ly-1)*Dy);Py=Math.max(Py,0),each$f(_y,function(By){var Oy=By.maxWidth,Fy=By.minWidth;if(By.width){var zy=By.width;Oy&&(zy=Math.min(zy,Oy)),Fy&&(zy=Math.max(zy,Fy)),By.width=zy,Iy-=zy+Dy*zy,Ly--}else{var zy=Py;Oy&&Oy<zy&&(zy=Math.min(Oy,Iy)),Fy&&Fy>zy&&(zy=Fy),zy!==Py&&(By.width=zy,Iy-=zy+Dy*zy,Ly--)}}),Py=(Iy-My)/(Ly+(Ly-1)*Dy),Py=Math.max(Py,0);var Ry=0,Vy;each$f(_y,function(By,Oy){By.width||(By.width=Py),Vy=By,Ry+=By.width*(1+Dy)}),Vy&&(Ry-=Vy.width*Dy);var Ny=-Ry/2;each$f(_y,function(By,Oy){Sa[ka][Oy]=Sa[ka][Oy]||{bandWidth:Ty,offset:Ny,width:By.width},Ny+=By.width*(1+Dy)})}),Sa}function retrieveColumnLayout(ha,ua,Sa){if(ha&&ua){var ba=ha[getAxisKey$1(ua)];return ba}}function layout$3(ha,ua){var Sa=prepareLayoutBarSeries(ha,ua),ba=makeColumnLayout(Sa);each$f(Sa,function(ka){var _y=ka.getData(),Ty=ka.coordinateSystem,Ay=Ty.getBaseAxis(),Ey=getSeriesStackId$1(ka),My=ba[getAxisKey$1(Ay)][Ey],Dy=My.offset,Iy=My.width;_y.setLayout({bandWidth:My.bandWidth,offset:Dy,size:Iy})})}function createProgressiveLayout(ha){return{seriesType:ha,plan:createRenderPlanner(),reset:function(ua){if(isOnCartesian(ua)){var Sa=ua.getData(),ba=ua.coordinateSystem,ka=ba.getBaseAxis(),_y=ba.getOtherAxis(ka),Ty=Sa.getDimensionIndex(Sa.mapDimension(_y.dim)),Ay=Sa.getDimensionIndex(Sa.mapDimension(ka.dim)),Ey=ua.get("showBackground",!0),My=Sa.mapDimension(_y.dim),Dy=Sa.getCalculationInfo("stackResultDimension"),Iy=isDimensionStacked(Sa,My)&&!!Sa.getCalculationInfo("stackedOnSeries"),Ly=_y.isHorizontal(),Py=getValueAxisStart(ka,_y),Ry=isInLargeMode(ua),Vy=ua.get("barMinHeight")||0,Ny=Dy&&Sa.getDimensionIndex(Dy),By=Sa.getLayout("size"),Oy=Sa.getLayout("offset");return{progress:function(Fy,zy){for(var Hy=Fy.count,Gy=Ry&&createFloat32Array(Hy*3),Wy=Ry&&Ey&&createFloat32Array(Hy*3),Uy=Ry&&createFloat32Array(Hy),Yy=ba.master.getRect(),jy=Ly?Yy.width:Yy.height,Ky,Xy=zy.getStore(),Zy=0;(Ky=Fy.next())!=null;){var Jy=Xy.get(Iy?Ny:Ty,Ky),t_=Xy.get(Ay,Ky),Qy=Py,r_=void 0;Iy&&(r_=+Jy-Xy.get(Ty,Ky));var i_=void 0,l_=void 0,c_=void 0,d_=void 0;if(Ly){var f_=ba.dataToPoint([Jy,t_]);if(Iy){var m_=ba.dataToPoint([r_,t_]);Qy=m_[0]}i_=Qy,l_=f_[1]+Oy,c_=f_[0]-Qy,d_=By,Math.abs(c_)<Vy&&(c_=(c_<0?-1:1)*Vy)}else{var f_=ba.dataToPoint([t_,Jy]);if(Iy){var m_=ba.dataToPoint([t_,r_]);Qy=m_[1]}i_=f_[0]+Oy,l_=Qy,c_=By,d_=f_[1]-Qy,Math.abs(d_)<Vy&&(d_=(d_<=0?-1:1)*Vy)}Ry?(Gy[Zy]=i_,Gy[Zy+1]=l_,Gy[Zy+2]=Ly?c_:d_,Wy&&(Wy[Zy]=Ly?Yy.x:i_,Wy[Zy+1]=Ly?l_:Yy.y,Wy[Zy+2]=jy),Uy[Ky]=Ky):zy.setItemLayout(Ky,{x:i_,y:l_,width:c_,height:d_}),Zy+=3}Ry&&zy.setLayout({largePoints:Gy,largeDataIndices:Uy,largeBackgroundPoints:Wy,valueAxisHorizontal:Ly})}}}}}}function isOnCartesian(ha){return ha.coordinateSystem&&ha.coordinateSystem.type==="cartesian2d"}function isInLargeMode(ha){return ha.pipelineContext&&ha.pipelineContext.large}function getValueAxisStart(ha,ua){var Sa=ua.model.get("startValue");return Sa||(Sa=0),ua.toGlobalCoord(ua.dataToCoord(ua.type==="log"?Sa>0?Sa:1:Sa))}var bisect=function(ha,ua,Sa,ba){for(;Sa<ba;){var ka=Sa+ba>>>1;ha[ka][1]<ua?Sa=ka+1:ba=ka}return Sa},TimeScale=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba.type="time",ba}return ua.prototype.getLabel=function(Sa){var ba=this.getSetting("useUTC");return format(Sa.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,ba,this.getSetting("locale"))},ua.prototype.getFormattedLabel=function(Sa,ba,ka){var _y=this.getSetting("useUTC"),Ty=this.getSetting("locale");return leveledFormat(Sa,ba,ka,Ty,_y)},ua.prototype.getTicks=function(){var Sa=this._interval,ba=this._extent,ka=[];if(!Sa)return ka;ka.push({value:ba[0],level:0});var _y=this.getSetting("useUTC"),Ty=getIntervalTicks(this._minLevelUnit,this._approxInterval,_y,ba);return ka=ka.concat(Ty),ka.push({value:ba[1],level:0}),ka},ua.prototype.calcNiceExtent=function(Sa){var ba=this._extent;if(ba[0]===ba[1]&&(ba[0]-=ONE_DAY,ba[1]+=ONE_DAY),ba[1]===-1/0&&ba[0]===1/0){var ka=new Date;ba[1]=+new Date(ka.getFullYear(),ka.getMonth(),ka.getDate()),ba[0]=ba[1]-ONE_DAY}this.calcNiceTicks(Sa.splitNumber,Sa.minInterval,Sa.maxInterval)},ua.prototype.calcNiceTicks=function(Sa,ba,ka){Sa=Sa||10;var _y=this._extent,Ty=_y[1]-_y[0];this._approxInterval=Ty/Sa,ba!=null&&this._approxInterval<ba&&(this._approxInterval=ba),ka!=null&&this._approxInterval>ka&&(this._approxInterval=ka);var Ay=scaleIntervals.length,Ey=Math.min(bisect(scaleIntervals,this._approxInterval,0,Ay),Ay-1);this._interval=scaleIntervals[Ey][1],this._minLevelUnit=scaleIntervals[Math.max(Ey-1,0)][0]},ua.prototype.parse=function(Sa){return isNumber(Sa)?Sa:+parseDate(Sa)},ua.prototype.contain=function(Sa){return contain$1(this.parse(Sa),this._extent)},ua.prototype.normalize=function(Sa){return normalize$2(this.parse(Sa),this._extent)},ua.prototype.scale=function(Sa){return scale(Sa,this._extent)},ua.type="time",ua}(IntervalScale),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(ha,ua,Sa,ba){var ka=parseDate(ua),_y=parseDate(Sa),Ty=function(Ry){return getUnitValue(ka,Ry,ba)===getUnitValue(_y,Ry,ba)},Ay=function(){return Ty("year")},Ey=function(){return Ay()&&Ty("month")},My=function(){return Ey()&&Ty("day")},Dy=function(){return My()&&Ty("hour")},Iy=function(){return Dy()&&Ty("minute")},Ly=function(){return Iy()&&Ty("second")},Py=function(){return Ly()&&Ty("millisecond")};switch(ha){case"year":return Ay();case"month":return Ey();case"day":return My();case"hour":return Dy();case"minute":return Iy();case"second":return Ly();case"millisecond":return Py()}}function getDateInterval(ha,ua){return ha/=ONE_DAY,ha>16?16:ha>7.5?7:ha>3.5?4:ha>1.5?2:1}function getMonthInterval(ha){var ua=30*ONE_DAY;return ha/=ua,ha>6?6:ha>3?3:ha>2?2:1}function getHourInterval(ha){return ha/=ONE_HOUR,ha>12?12:ha>6?6:ha>3.5?4:ha>2?2:1}function getMinutesAndSecondsInterval(ha,ua){return ha/=ua?ONE_MINUTE:ONE_SECOND,ha>30?30:ha>20?20:ha>15?15:ha>10?10:ha>5?5:ha>2?2:1}function getMillisecondsInterval(ha){return nice(ha)}function getFirstTimestampOfUnit(ha,ua,Sa){var ba=new Date(ha);switch(getPrimaryTimeUnit(ua)){case"year":case"month":ba[monthSetterName(Sa)](0);case"day":ba[dateSetterName(Sa)](1);case"hour":ba[hoursSetterName(Sa)](0);case"minute":ba[minutesSetterName(Sa)](0);case"second":ba[secondsSetterName(Sa)](0),ba[millisecondsSetterName(Sa)](0)}return ba.getTime()}function getIntervalTicks(ha,ua,Sa,ba){var ka=1e4,_y=timeUnits,Ty=0;function Ay(jy,Ky,Xy,Zy,Jy,t_,Qy){for(var r_=new Date(Ky),i_=Ky,l_=r_[Zy]();i_<Xy&&i_<=ba[1];)Qy.push({value:i_}),l_+=jy,r_[Jy](l_),i_=r_.getTime();Qy.push({value:i_,notAdd:!0})}function Ey(jy,Ky,Xy){var Zy=[],Jy=!Ky.length;if(!isUnitValueSame(getPrimaryTimeUnit(jy),ba[0],ba[1],Sa)){Jy&&(Ky=[{value:getFirstTimestampOfUnit(new Date(ba[0]),jy,Sa)},{value:ba[1]}]);for(var t_=0;t_<Ky.length-1;t_++){var Qy=Ky[t_].value,r_=Ky[t_+1].value;if(Qy!==r_){var i_=void 0,l_=void 0,c_=void 0,d_=!1;switch(jy){case"year":i_=Math.max(1,Math.round(ua/ONE_DAY/365)),l_=fullYearGetterName(Sa),c_=fullYearSetterName(Sa);break;case"half-year":case"quarter":case"month":i_=getMonthInterval(ua),l_=monthGetterName(Sa),c_=monthSetterName(Sa);break;case"week":case"half-week":case"day":i_=getDateInterval(ua),l_=dateGetterName(Sa),c_=dateSetterName(Sa),d_=!0;break;case"half-day":case"quarter-day":case"hour":i_=getHourInterval(ua),l_=hoursGetterName(Sa),c_=hoursSetterName(Sa);break;case"minute":i_=getMinutesAndSecondsInterval(ua,!0),l_=minutesGetterName(Sa),c_=minutesSetterName(Sa);break;case"second":i_=getMinutesAndSecondsInterval(ua,!1),l_=secondsGetterName(Sa),c_=secondsSetterName(Sa);break;case"millisecond":i_=getMillisecondsInterval(ua),l_=millisecondsGetterName(Sa),c_=millisecondsSetterName(Sa);break}Ay(i_,Qy,r_,l_,c_,d_,Zy),jy==="year"&&Xy.length>1&&t_===0&&Xy.unshift({value:Xy[0].value-i_})}}for(var t_=0;t_<Zy.length;t_++)Xy.push(Zy[t_]);return Zy}}for(var My=[],Dy=[],Iy=0,Ly=0,Py=0;Py<_y.length&&Ty++<ka;++Py){var Ry=getPrimaryTimeUnit(_y[Py]);if(isPrimaryTimeUnit(_y[Py])){Ey(_y[Py],My[My.length-1]||[],Dy);var Vy=_y[Py+1]?getPrimaryTimeUnit(_y[Py+1]):null;if(Ry!==Vy){if(Dy.length){Ly=Iy,Dy.sort(function(jy,Ky){return jy.value-Ky.value});for(var Ny=[],By=0;By<Dy.length;++By){var Oy=Dy[By].value;(By===0||Dy[By-1].value!==Oy)&&(Ny.push(Dy[By]),Oy>=ba[0]&&Oy<=ba[1]&&Iy++)}var Fy=(ba[1]-ba[0])/ua;if(Iy>Fy*1.5&&Ly>Fy/1.5||(My.push(Ny),Iy>Fy||ha===_y[Py]))break}Dy=[]}}}for(var zy=filter(map$1(My,function(jy){return filter(jy,function(Ky){return Ky.value>=ba[0]&&Ky.value<=ba[1]&&!Ky.notAdd})}),function(jy){return jy.length>0}),Hy=[],Gy=zy.length-1,Py=0;Py<zy.length;++Py)for(var Wy=zy[Py],Uy=0;Uy<Wy.length;++Uy)Hy.push({value:Wy[Uy].value,level:Gy-Py});Hy.sort(function(jy,Ky){return jy.value-Ky.value});for(var Yy=[],Py=0;Py<Hy.length;++Py)(Py===0||Hy[Py].value!==Hy[Py-1].value)&&Yy.push(Hy[Py]);return Yy}Scale.registerClass(TimeScale);var scaleProto=Scale.prototype,intervalScaleProto=IntervalScale.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type="log",Sa.base=10,Sa._originalScale=new IntervalScale,Sa._interval=0,Sa}return ua.prototype.getTicks=function(Sa){var ba=this._originalScale,ka=this._extent,_y=ba.getExtent(),Ty=intervalScaleProto.getTicks.call(this,Sa);return map$1(Ty,function(Ay){var Ey=Ay.value,My=round$3(mathPow$1(this.base,Ey));return My=Ey===ka[0]&&this._fixMin?fixRoundingError(My,_y[0]):My,My=Ey===ka[1]&&this._fixMax?fixRoundingError(My,_y[1]):My,{value:My}},this)},ua.prototype.setExtent=function(Sa,ba){var ka=mathLog$1(this.base);Sa=mathLog$1(Math.max(0,Sa))/ka,ba=mathLog$1(Math.max(0,ba))/ka,intervalScaleProto.setExtent.call(this,Sa,ba)},ua.prototype.getExtent=function(){var Sa=this.base,ba=scaleProto.getExtent.call(this);ba[0]=mathPow$1(Sa,ba[0]),ba[1]=mathPow$1(Sa,ba[1]);var ka=this._originalScale,_y=ka.getExtent();return this._fixMin&&(ba[0]=fixRoundingError(ba[0],_y[0])),this._fixMax&&(ba[1]=fixRoundingError(ba[1],_y[1])),ba},ua.prototype.unionExtent=function(Sa){this._originalScale.unionExtent(Sa);var ba=this.base;Sa[0]=mathLog$1(Sa[0])/mathLog$1(ba),Sa[1]=mathLog$1(Sa[1])/mathLog$1(ba),scaleProto.unionExtent.call(this,Sa)},ua.prototype.unionExtentFromData=function(Sa,ba){this.unionExtent(Sa.getApproximateExtent(ba))},ua.prototype.calcNiceTicks=function(Sa){Sa=Sa||10;var ba=this._extent,ka=ba[1]-ba[0];if(!(ka===1/0||ka<=0)){var _y=quantity(ka),Ty=Sa/ka*_y;for(Ty<=.5&&(_y*=10);!isNaN(_y)&&Math.abs(_y)<1&&Math.abs(_y)>0;)_y*=10;var Ay=[round$3(mathCeil$1(ba[0]/_y)*_y),round$3(mathFloor$1(ba[1]/_y)*_y)];this._interval=_y,this._niceExtent=Ay}},ua.prototype.calcNiceExtent=function(Sa){intervalScaleProto.calcNiceExtent.call(this,Sa),this._fixMin=Sa.fixMin,this._fixMax=Sa.fixMax},ua.prototype.parse=function(Sa){return Sa},ua.prototype.contain=function(Sa){return Sa=mathLog$1(Sa)/mathLog$1(this.base),contain$1(Sa,this._extent)},ua.prototype.normalize=function(Sa){return Sa=mathLog$1(Sa)/mathLog$1(this.base),normalize$2(Sa,this._extent)},ua.prototype.scale=function(Sa){return Sa=scale(Sa,this._extent),mathPow$1(this.base,Sa)},ua.type="log",ua}(Scale),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(ha,ua){return roundingErrorFix(ha,getPrecision(ua))}Scale.registerClass(LogScale);var ScaleRawExtentInfo=function(){function ha(ua,Sa,ba){this._prepareParams(ua,Sa,ba)}return ha.prototype._prepareParams=function(ua,Sa,ba){ba[1]<ba[0]&&(ba=[NaN,NaN]),this._dataMin=ba[0],this._dataMax=ba[1];var ka=this._isOrdinal=ua.type==="ordinal";this._needCrossZero=ua.type==="interval"&&Sa.getNeedCrossZero&&Sa.getNeedCrossZero();var _y=Sa.get("min",!0);_y==null&&(_y=Sa.get("startValue",!0));var Ty=this._modelMinRaw=_y;isFunction(Ty)?this._modelMinNum=parseAxisModelMinMax(ua,Ty({min:ba[0],max:ba[1]})):Ty!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(ua,Ty));var Ay=this._modelMaxRaw=Sa.get("max",!0);if(isFunction(Ay)?this._modelMaxNum=parseAxisModelMinMax(ua,Ay({min:ba[0],max:ba[1]})):Ay!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(ua,Ay)),ka)this._axisDataLen=Sa.getCategories().length;else{var Ey=Sa.get("boundaryGap"),My=isArray$1(Ey)?Ey:[Ey||0,Ey||0];typeof My[0]=="boolean"||typeof My[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(My[0],1),parsePercent$1(My[1],1)]}},ha.prototype.calculate=function(){var ua=this._isOrdinal,Sa=this._dataMin,ba=this._dataMax,ka=this._axisDataLen,_y=this._boundaryGapInner,Ty=ua?null:ba-Sa||Math.abs(Sa),Ay=this._modelMinRaw==="dataMin"?Sa:this._modelMinNum,Ey=this._modelMaxRaw==="dataMax"?ba:this._modelMaxNum,My=Ay!=null,Dy=Ey!=null;Ay==null&&(Ay=ua?ka?0:NaN:Sa-_y[0]*Ty),Ey==null&&(Ey=ua?ka?ka-1:NaN:ba+_y[1]*Ty),(Ay==null||!isFinite(Ay))&&(Ay=NaN),(Ey==null||!isFinite(Ey))&&(Ey=NaN);var Iy=eqNaN(Ay)||eqNaN(Ey)||ua&&!ka;this._needCrossZero&&(Ay>0&&Ey>0&&!My&&(Ay=0),Ay<0&&Ey<0&&!Dy&&(Ey=0));var Ly=this._determinedMin,Py=this._determinedMax;return Ly!=null&&(Ay=Ly,My=!0),Py!=null&&(Ey=Py,Dy=!0),{min:Ay,max:Ey,minFixed:My,maxFixed:Dy,isBlank:Iy}},ha.prototype.modifyDataMinMax=function(ua,Sa){this[DATA_MIN_MAX_ATTR[ua]]=Sa},ha.prototype.setDeterminedMinMax=function(ua,Sa){var ba=DETERMINED_MIN_MAX_ATTR[ua];this[ba]=Sa},ha.prototype.freeze=function(){this.frozen=!0},ha}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(ha,ua,Sa){var ba=ha.rawExtentInfo;return ba||(ba=new ScaleRawExtentInfo(ha,ua,Sa),ha.rawExtentInfo=ba,ba)}function parseAxisModelMinMax(ha,ua){return ua==null?null:eqNaN(ua)?NaN:ha.parse(ua)}function getScaleExtent(ha,ua){var Sa=ha.type,ba=ensureScaleRawExtentInfo(ha,ua,ha.getExtent()).calculate();ha.setBlank(ba.isBlank);var ka=ba.min,_y=ba.max,Ty=ua.ecModel;if(Ty&&Sa==="time"){var Ay=prepareLayoutBarSeries("bar",Ty),Ey=!1;if(each$f(Ay,function(Iy){Ey=Ey||Iy.getBaseAxis()===ua.axis}),Ey){var My=makeColumnLayout(Ay),Dy=adjustScaleForOverflow(ka,_y,ua,My);ka=Dy.min,_y=Dy.max}}return{extent:[ka,_y],fixMin:ba.minFixed,fixMax:ba.maxFixed}}function adjustScaleForOverflow(ha,ua,Sa,ba){var ka=Sa.axis.getExtent(),_y=Math.abs(ka[1]-ka[0]),Ty=retrieveColumnLayout(ba,Sa.axis);if(Ty===void 0)return{min:ha,max:ua};var Ay=1/0;each$f(Ty,function(Py){Ay=Math.min(Py.offset,Ay)});var Ey=-1/0;each$f(Ty,function(Py){Ey=Math.max(Py.offset+Py.width,Ey)}),Ay=Math.abs(Ay),Ey=Math.abs(Ey);var My=Ay+Ey,Dy=ua-ha,Iy=1-(Ay+Ey)/_y,Ly=Dy/Iy-Dy;return ua+=Ly*(Ey/My),ha-=Ly*(Ay/My),{min:ha,max:ua}}function niceScaleExtent(ha,ua){var Sa=ua,ba=getScaleExtent(ha,Sa),ka=ba.extent,_y=Sa.get("splitNumber");ha instanceof LogScale&&(ha.base=Sa.get("logBase"));var Ty=ha.type,Ay=Sa.get("interval"),Ey=Ty==="interval"||Ty==="time";ha.setExtent(ka[0],ka[1]),ha.calcNiceExtent({splitNumber:_y,fixMin:ba.fixMin,fixMax:ba.fixMax,minInterval:Ey?Sa.get("minInterval"):null,maxInterval:Ey?Sa.get("maxInterval"):null}),Ay!=null&&ha.setInterval&&ha.setInterval(Ay)}function createScaleByModel$1(ha,ua){if(ua=ua||ha.get("type"),ua)switch(ua){case"category":return new OrdinalScale({ordinalMeta:ha.getOrdinalMeta?ha.getOrdinalMeta():ha.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:ha.ecModel.getLocaleModel(),useUTC:ha.ecModel.get("useUTC")});default:return new(Scale.getClass(ua)||IntervalScale)}}function ifAxisCrossZero(ha){var ua=ha.scale.getExtent(),Sa=ua[0],ba=ua[1];return!(Sa>0&&ba>0||Sa<0&&ba<0)}function makeLabelFormatter(ha){var ua=ha.getLabelModel().get("formatter"),Sa=ha.type==="category"?ha.scale.getExtent()[0]:null;return ha.scale.type==="time"?function(ba){return function(ka,_y){return ha.scale.getFormattedLabel(ka,_y,ba)}}(ua):isString(ua)?function(ba){return function(ka){var _y=ha.scale.getLabel(ka),Ty=ba.replace("{value}",_y??"");return Ty}}(ua):isFunction(ua)?function(ba){return function(ka,_y){return Sa!=null&&(_y=ka.value-Sa),ba(getAxisRawValue(ha,ka),_y,ka.level!=null?{level:ka.level}:null)}}(ua):function(ba){return ha.scale.getLabel(ba)}}function getAxisRawValue(ha,ua){return ha.type==="category"?ha.scale.getLabel(ua):ua.value}function estimateLabelUnionRect(ha){var ua=ha.model,Sa=ha.scale;if(!(!ua.get(["axisLabel","show"])||Sa.isBlank())){var ba,ka,_y=Sa.getExtent();Sa instanceof OrdinalScale?ka=Sa.count():(ba=Sa.getTicks(),ka=ba.length);var Ty=ha.getLabelModel(),Ay=makeLabelFormatter(ha),Ey,My=1;ka>40&&(My=Math.ceil(ka/40));for(var Dy=0;Dy<ka;Dy+=My){var Iy=ba?ba[Dy]:{value:_y[0]+Dy},Ly=Ay(Iy,Dy),Py=Ty.getTextRect(Ly),Ry=rotateTextRect(Py,Ty.get("rotate")||0);Ey?Ey.union(Ry):Ey=Ry}return Ey}}function rotateTextRect(ha,ua){var Sa=ua*Math.PI/180,ba=ha.width,ka=ha.height,_y=ba*Math.abs(Math.cos(Sa))+Math.abs(ka*Math.sin(Sa)),Ty=ba*Math.abs(Math.sin(Sa))+Math.abs(ka*Math.cos(Sa)),Ay=new BoundingRect(ha.x,ha.y,_y,Ty);return Ay}function getOptionCategoryInterval(ha){var ua=ha.get("interval");return ua??"auto"}function shouldShowAllLabels(ha){return ha.type==="category"&&getOptionCategoryInterval(ha.getLabelModel())===0}function getDataDimensionsOnAxis(ha,ua){var Sa={};return each$f(ha.mapDimensionsAll(ua),function(ba){Sa[getStackedDimension(ha,ba)]=!0}),keys(Sa)}function unionAxisExtentFromData(ha,ua,Sa){ua&&each$f(getDataDimensionsOnAxis(ua,Sa),function(ba){var ka=ua.getApproximateExtent(ba);ka[0]<ha[0]&&(ha[0]=ka[0]),ka[1]>ha[1]&&(ha[1]=ka[1])})}var AxisModelCommonMixin=function(){function ha(){}return ha.prototype.getNeedCrossZero=function(){var ua=this.option;return!ua.scale},ha.prototype.getCoordSysModel=function(){},ha}(),EPSILON=1e-8;function isAroundEqual(ha,ua){return Math.abs(ha-ua)<EPSILON}function contain(ha,ua,Sa){var ba=0,ka=ha[0];if(!ka)return!1;for(var _y=1;_y<ha.length;_y++){var Ty=ha[_y];ba+=windingLine(ka[0],ka[1],Ty[0],Ty[1],ua,Sa),ka=Ty}var Ay=ha[0];return(!isAroundEqual(ka[0],Ay[0])||!isAroundEqual(ka[1],Ay[1]))&&(ba+=windingLine(ka[0],ka[1],Ay[0],Ay[1],ua,Sa)),ba!==0}var TMP_TRANSFORM=[];function transformPoints(ha,ua){for(var Sa=0;Sa<ha.length;Sa++)applyTransform$1(ha[Sa],ha[Sa],ua)}function updateBBoxFromPoints(ha,ua,Sa,ba){for(var ka=0;ka<ha.length;ka++){var _y=ha[ka];ba&&(_y=ba.project(_y)),_y&&isFinite(_y[0])&&isFinite(_y[1])&&(min$1(ua,ua,_y),max$1(Sa,Sa,_y))}}function centroid$1(ha){for(var ua=0,Sa=0,ba=0,ka=ha.length,_y=ha[ka-1][0],Ty=ha[ka-1][1],Ay=0;Ay<ka;Ay++){var Ey=ha[Ay][0],My=ha[Ay][1],Dy=_y*My-Ey*Ty;ua+=Dy,Sa+=(_y+Ey)*Dy,ba+=(Ty+My)*Dy,_y=Ey,Ty=My}return ua?[Sa/ua/3,ba/ua/3,ua]:[ha[0][0]||0,ha[0][1]||0]}var Region=function(){function ha(ua){this.name=ua}return ha.prototype.setCenter=function(ua){this._center=ua},ha.prototype.getCenter=function(){var ua=this._center;return ua||(ua=this._center=this.calcCenter()),ua},ha}(),GeoJSONPolygonGeometry=function(){function ha(ua,Sa){this.type="polygon",this.exterior=ua,this.interiors=Sa}return ha}(),GeoJSONLineStringGeometry=function(){function ha(ua){this.type="linestring",this.points=ua}return ha}(),GeoJSONRegion=function(ha){__extends(ua,ha);function ua(Sa,ba,ka){var _y=ha.call(this,Sa)||this;return _y.type="geoJSON",_y.geometries=ba,_y._center=ka&&[ka[0],ka[1]],_y}return ua.prototype.calcCenter=function(){for(var Sa=this.geometries,ba,ka=0,_y=0;_y<Sa.length;_y++){var Ty=Sa[_y],Ay=Ty.exterior,Ey=Ay&&Ay.length;Ey>ka&&(ba=Ty,ka=Ey)}if(ba)return centroid$1(ba.exterior);var My=this.getBoundingRect();return[My.x+My.width/2,My.y+My.height/2]},ua.prototype.getBoundingRect=function(Sa){var ba=this._rect;if(ba&&!Sa)return ba;var ka=[1/0,1/0],_y=[-1/0,-1/0],Ty=this.geometries;return each$f(Ty,function(Ay){Ay.type==="polygon"?updateBBoxFromPoints(Ay.exterior,ka,_y,Sa):each$f(Ay.points,function(Ey){updateBBoxFromPoints(Ey,ka,_y,Sa)})}),isFinite(ka[0])&&isFinite(ka[1])&&isFinite(_y[0])&&isFinite(_y[1])||(ka[0]=ka[1]=_y[0]=_y[1]=0),ba=new BoundingRect(ka[0],ka[1],_y[0]-ka[0],_y[1]-ka[1]),Sa||(this._rect=ba),ba},ua.prototype.contain=function(Sa){var ba=this.getBoundingRect(),ka=this.geometries;if(!ba.contain(Sa[0],Sa[1]))return!1;e:for(var _y=0,Ty=ka.length;_y<Ty;_y++){var Ay=ka[_y];if(Ay.type==="polygon"){var Ey=Ay.exterior,My=Ay.interiors;if(contain(Ey,Sa[0],Sa[1])){for(var Dy=0;Dy<(My?My.length:0);Dy++)if(contain(My[Dy],Sa[0],Sa[1]))continue e;return!0}}}return!1},ua.prototype.transformTo=function(Sa,ba,ka,_y){var Ty=this.getBoundingRect(),Ay=Ty.width/Ty.height;ka?_y||(_y=ka/Ay):ka=Ay*_y;for(var Ey=new BoundingRect(Sa,ba,ka,_y),My=Ty.calculateTransform(Ey),Dy=this.geometries,Iy=0;Iy<Dy.length;Iy++){var Ly=Dy[Iy];Ly.type==="polygon"?(transformPoints(Ly.exterior,My),each$f(Ly.interiors,function(Py){transformPoints(Py,My)})):each$f(Ly.points,function(Py){transformPoints(Py,My)})}Ty=this._rect,Ty.copy(Ey),this._center=[Ty.x+Ty.width/2,Ty.y+Ty.height/2]},ua.prototype.cloneShallow=function(Sa){Sa==null&&(Sa=this.name);var ba=new ua(Sa,this.geometries,this._center);return ba._rect=this._rect,ba.transformTo=null,ba},ua}(Region),GeoSVGRegion=function(ha){__extends(ua,ha);function ua(Sa,ba){var ka=ha.call(this,Sa)||this;return ka.type="geoSVG",ka._elOnlyForCalculate=ba,ka}return ua.prototype.calcCenter=function(){for(var Sa=this._elOnlyForCalculate,ba=Sa.getBoundingRect(),ka=[ba.x+ba.width/2,ba.y+ba.height/2],_y=identity(TMP_TRANSFORM),Ty=Sa;Ty&&!Ty.isGeoSVGGraphicRoot;)mul(_y,Ty.getLocalTransform(),_y),Ty=Ty.parent;return invert(_y,_y),applyTransform$1(ka,ka,_y),ka},ua}(Region);function decode(ha){if(!ha.UTF8Encoding)return ha;var ua=ha,Sa=ua.UTF8Scale;Sa==null&&(Sa=1024);var ba=ua.features;return each$f(ba,function(ka){var _y=ka.geometry,Ty=_y.encodeOffsets,Ay=_y.coordinates;if(Ty)switch(_y.type){case"LineString":_y.coordinates=decodeRing(Ay,Ty,Sa);break;case"Polygon":decodeRings(Ay,Ty,Sa);break;case"MultiLineString":decodeRings(Ay,Ty,Sa);break;case"MultiPolygon":each$f(Ay,function(Ey,My){return decodeRings(Ey,Ty[My],Sa)})}}),ua.UTF8Encoding=!1,ua}function decodeRings(ha,ua,Sa){for(var ba=0;ba<ha.length;ba++)ha[ba]=decodeRing(ha[ba],ua[ba],Sa)}function decodeRing(ha,ua,Sa){for(var ba=[],ka=ua[0],_y=ua[1],Ty=0;Ty<ha.length;Ty+=2){var Ay=ha.charCodeAt(Ty)-64,Ey=ha.charCodeAt(Ty+1)-64;Ay=Ay>>1^-(Ay&1),Ey=Ey>>1^-(Ey&1),Ay+=ka,Ey+=_y,ka=Ay,_y=Ey,ba.push([Ay/Sa,Ey/Sa])}return ba}function parseGeoJSON(ha,ua){return ha=decode(ha),map$1(filter(ha.features,function(Sa){return Sa.geometry&&Sa.properties&&Sa.geometry.coordinates.length>0}),function(Sa){var ba=Sa.properties,ka=Sa.geometry,_y=[];switch(ka.type){case"Polygon":var Ty=ka.coordinates;_y.push(new GeoJSONPolygonGeometry(Ty[0],Ty.slice(1)));break;case"MultiPolygon":each$f(ka.coordinates,function(Ey){Ey[0]&&_y.push(new GeoJSONPolygonGeometry(Ey[0],Ey.slice(1)))});break;case"LineString":_y.push(new GeoJSONLineStringGeometry([ka.coordinates]));break;case"MultiLineString":_y.push(new GeoJSONLineStringGeometry(ka.coordinates))}var Ay=new GeoJSONRegion(ba[ua||"name"],_y,ba.cp);return Ay.properties=ba,Ay})}var inner$g=makeInner();function tickValuesToNumbers(ha,ua){var Sa=map$1(ua,function(ba){return ha.scale.parse(ba)});return ha.type==="time"&&Sa.length>0&&(Sa.sort(),Sa.unshift(Sa[0]),Sa.push(Sa[Sa.length-1])),Sa}function createAxisLabels(ha){var ua=ha.getLabelModel().get("customValues");if(ua){var Sa=makeLabelFormatter(ha),ba=ha.scale.getExtent(),ka=tickValuesToNumbers(ha,ua),_y=filter(ka,function(Ty){return Ty>=ba[0]&&Ty<=ba[1]});return{labels:map$1(_y,function(Ty){var Ay={value:Ty};return{formattedLabel:Sa(Ay),rawLabel:ha.scale.getLabel(Ay),tickValue:Ty}})}}return ha.type==="category"?makeCategoryLabels(ha):makeRealNumberLabels(ha)}function createAxisTicks(ha,ua){var Sa=ha.getTickModel().get("customValues");if(Sa){var ba=ha.scale.getExtent(),ka=tickValuesToNumbers(ha,Sa);return{ticks:filter(ka,function(_y){return _y>=ba[0]&&_y<=ba[1]})}}return ha.type==="category"?makeCategoryTicks(ha,ua):{ticks:map$1(ha.scale.getTicks(),function(_y){return _y.value})}}function makeCategoryLabels(ha){var ua=ha.getLabelModel(),Sa=makeCategoryLabelsActually(ha,ua);return!ua.get("show")||ha.scale.isBlank()?{labels:[],labelCategoryInterval:Sa.labelCategoryInterval}:Sa}function makeCategoryLabelsActually(ha,ua){var Sa=getListCache(ha,"labels"),ba=getOptionCategoryInterval(ua),ka=listCacheGet(Sa,ba);if(ka)return ka;var _y,Ty;return isFunction(ba)?_y=makeLabelsByCustomizedCategoryInterval(ha,ba):(Ty=ba==="auto"?makeAutoCategoryInterval(ha):ba,_y=makeLabelsByNumericCategoryInterval(ha,Ty)),listCacheSet(Sa,ba,{labels:_y,labelCategoryInterval:Ty})}function makeCategoryTicks(ha,ua){var Sa=getListCache(ha,"ticks"),ba=getOptionCategoryInterval(ua),ka=listCacheGet(Sa,ba);if(ka)return ka;var _y,Ty;if((!ua.get("show")||ha.scale.isBlank())&&(_y=[]),isFunction(ba))_y=makeLabelsByCustomizedCategoryInterval(ha,ba,!0);else if(ba==="auto"){var Ay=makeCategoryLabelsActually(ha,ha.getLabelModel());Ty=Ay.labelCategoryInterval,_y=map$1(Ay.labels,function(Ey){return Ey.tickValue})}else Ty=ba,_y=makeLabelsByNumericCategoryInterval(ha,Ty,!0);return listCacheSet(Sa,ba,{ticks:_y,tickCategoryInterval:Ty})}function makeRealNumberLabels(ha){var ua=ha.scale.getTicks(),Sa=makeLabelFormatter(ha);return{labels:map$1(ua,function(ba,ka){return{level:ba.level,formattedLabel:Sa(ba,ka),rawLabel:ha.scale.getLabel(ba),tickValue:ba.value}})}}function getListCache(ha,ua){return inner$g(ha)[ua]||(inner$g(ha)[ua]=[])}function listCacheGet(ha,ua){for(var Sa=0;Sa<ha.length;Sa++)if(ha[Sa].key===ua)return ha[Sa].value}function listCacheSet(ha,ua,Sa){return ha.push({key:ua,value:Sa}),Sa}function makeAutoCategoryInterval(ha){var ua=inner$g(ha).autoInterval;return ua??(inner$g(ha).autoInterval=ha.calculateCategoryInterval())}function calculateCategoryInterval(ha){var ua=fetchAutoCategoryIntervalCalculationParams(ha),Sa=makeLabelFormatter(ha),ba=(ua.axisRotate-ua.labelRotate)/180*Math.PI,ka=ha.scale,_y=ka.getExtent(),Ty=ka.count();if(_y[1]-_y[0]<1)return 0;var Ay=1;Ty>40&&(Ay=Math.max(1,Math.floor(Ty/40)));for(var Ey=_y[0],My=ha.dataToCoord(Ey+1)-ha.dataToCoord(Ey),Dy=Math.abs(My*Math.cos(ba)),Iy=Math.abs(My*Math.sin(ba)),Ly=0,Py=0;Ey<=_y[1];Ey+=Ay){var Ry=0,Vy=0,Ny=getBoundingRect(Sa({value:Ey}),ua.font,"center","top");Ry=Ny.width*1.3,Vy=Ny.height*1.3,Ly=Math.max(Ly,Ry,7),Py=Math.max(Py,Vy,7)}var By=Ly/Dy,Oy=Py/Iy;isNaN(By)&&(By=1/0),isNaN(Oy)&&(Oy=1/0);var Fy=Math.max(0,Math.floor(Math.min(By,Oy))),zy=inner$g(ha.model),Hy=ha.getExtent(),Gy=zy.lastAutoInterval,Wy=zy.lastTickCount;return Gy!=null&&Wy!=null&&Math.abs(Gy-Fy)<=1&&Math.abs(Wy-Ty)<=1&&Gy>Fy&&zy.axisExtent0===Hy[0]&&zy.axisExtent1===Hy[1]?Fy=Gy:(zy.lastTickCount=Ty,zy.lastAutoInterval=Fy,zy.axisExtent0=Hy[0],zy.axisExtent1=Hy[1]),Fy}function fetchAutoCategoryIntervalCalculationParams(ha){var ua=ha.getLabelModel();return{axisRotate:ha.getRotate?ha.getRotate():ha.isHorizontal&&!ha.isHorizontal()?90:0,labelRotate:ua.get("rotate")||0,font:ua.getFont()}}function makeLabelsByNumericCategoryInterval(ha,ua,Sa){var ba=makeLabelFormatter(ha),ka=ha.scale,_y=ka.getExtent(),Ty=ha.getLabelModel(),Ay=[],Ey=Math.max((ua||0)+1,1),My=_y[0],Dy=ka.count();My!==0&&Ey>1&&Dy/Ey>2&&(My=Math.round(Math.ceil(My/Ey)*Ey));var Iy=shouldShowAllLabels(ha),Ly=Ty.get("showMinLabel")||Iy,Py=Ty.get("showMaxLabel")||Iy;Ly&&My!==_y[0]&&Vy(_y[0]);for(var Ry=My;Ry<=_y[1];Ry+=Ey)Vy(Ry);Py&&Ry-Ey!==_y[1]&&Vy(_y[1]);function Vy(Ny){var By={value:Ny};Ay.push(Sa?Ny:{formattedLabel:ba(By),rawLabel:ka.getLabel(By),tickValue:Ny})}return Ay}function makeLabelsByCustomizedCategoryInterval(ha,ua,Sa){var ba=ha.scale,ka=makeLabelFormatter(ha),_y=[];return each$f(ba.getTicks(),function(Ty){var Ay=ba.getLabel(Ty),Ey=Ty.value;ua(Ty.value,Ay)&&_y.push(Sa?Ey:{formattedLabel:ka(Ty),rawLabel:Ay,tickValue:Ey})}),_y}var NORMALIZED_EXTENT=[0,1],Axis=function(){function ha(ua,Sa,ba){this.onBand=!1,this.inverse=!1,this.dim=ua,this.scale=Sa,this._extent=ba||[0,0]}return ha.prototype.contain=function(ua){var Sa=this._extent,ba=Math.min(Sa[0],Sa[1]),ka=Math.max(Sa[0],Sa[1]);return ua>=ba&&ua<=ka},ha.prototype.containData=function(ua){return this.scale.contain(ua)},ha.prototype.getExtent=function(){return this._extent.slice()},ha.prototype.getPixelPrecision=function(ua){return getPixelPrecision(ua||this.scale.getExtent(),this._extent)},ha.prototype.setExtent=function(ua,Sa){var ba=this._extent;ba[0]=ua,ba[1]=Sa},ha.prototype.dataToCoord=function(ua,Sa){var ba=this._extent,ka=this.scale;return ua=ka.normalize(ua),this.onBand&&ka.type==="ordinal"&&(ba=ba.slice(),fixExtentWithBands(ba,ka.count())),linearMap$2(ua,NORMALIZED_EXTENT,ba,Sa)},ha.prototype.coordToData=function(ua,Sa){var ba=this._extent,ka=this.scale;this.onBand&&ka.type==="ordinal"&&(ba=ba.slice(),fixExtentWithBands(ba,ka.count()));var _y=linearMap$2(ua,ba,NORMALIZED_EXTENT,Sa);return this.scale.scale(_y)},ha.prototype.pointToData=function(ua,Sa){},ha.prototype.getTicksCoords=function(ua){ua=ua||{};var Sa=ua.tickModel||this.getTickModel(),ba=createAxisTicks(this,Sa),ka=ba.ticks,_y=map$1(ka,function(Ay){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(Ay):Ay),tickValue:Ay}},this),Ty=Sa.get("alignWithLabel");return fixOnBandTicksCoords(this,_y,Ty,ua.clamp),_y},ha.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var ua=this.model.getModel("minorTick"),Sa=ua.get("splitNumber");Sa>0&&Sa<100||(Sa=5);var ba=this.scale.getMinorTicks(Sa),ka=map$1(ba,function(_y){return map$1(_y,function(Ty){return{coord:this.dataToCoord(Ty),tickValue:Ty}},this)},this);return ka},ha.prototype.getViewLabels=function(){return createAxisLabels(this).labels},ha.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},ha.prototype.getTickModel=function(){return this.model.getModel("axisTick")},ha.prototype.getBandWidth=function(){var ua=this._extent,Sa=this.scale.getExtent(),ba=Sa[1]-Sa[0]+(this.onBand?1:0);ba===0&&(ba=1);var ka=Math.abs(ua[1]-ua[0]);return Math.abs(ka)/ba},ha.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},ha}();function fixExtentWithBands(ha,ua){var Sa=ha[1]-ha[0],ba=ua,ka=Sa/ba/2;ha[0]+=ka,ha[1]-=ka}function fixOnBandTicksCoords(ha,ua,Sa,ba){var ka=ua.length;if(!ha.onBand||Sa||!ka)return;var _y=ha.getExtent(),Ty,Ay;if(ka===1)ua[0].coord=_y[0],Ty=ua[1]={coord:_y[1],tickValue:ua[0].tickValue};else{var Ey=ua[ka-1].tickValue-ua[0].tickValue,My=(ua[ka-1].coord-ua[0].coord)/Ey;each$f(ua,function(Py){Py.coord-=My/2});var Dy=ha.scale.getExtent();Ay=1+Dy[1]-ua[ka-1].tickValue,Ty={coord:ua[ka-1].coord+My*Ay,tickValue:Dy[1]+1},ua.push(Ty)}var Iy=_y[0]>_y[1];Ly(ua[0].coord,_y[0])&&(ba?ua[0].coord=_y[0]:ua.shift()),ba&&Ly(_y[0],ua[0].coord)&&ua.unshift({coord:_y[0]}),Ly(_y[1],Ty.coord)&&(ba?Ty.coord=_y[1]:ua.pop()),ba&&Ly(Ty.coord,_y[1])&&ua.push({coord:_y[1]});function Ly(Py,Ry){return Py=round$3(Py),Ry=round$3(Ry),Iy?Py>Ry:Py<Ry}}var PI2$2=Math.PI*2,CMD$1=PathProxy.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(ha,ua,Sa,ba,ka){var _y=Sa.width,Ty=Sa.height;switch(ha){case"top":ba.set(Sa.x+_y/2,Sa.y-ua),ka.set(0,-1);break;case"bottom":ba.set(Sa.x+_y/2,Sa.y+Ty+ua),ka.set(0,1);break;case"left":ba.set(Sa.x-ua,Sa.y+Ty/2),ka.set(-1,0);break;case"right":ba.set(Sa.x+_y+ua,Sa.y+Ty/2),ka.set(1,0);break}}function projectPointToArc(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey){Ty-=ha,Ay-=ua;var My=Math.sqrt(Ty*Ty+Ay*Ay);Ty/=My,Ay/=My;var Dy=Ty*Sa+ha,Iy=Ay*Sa+ua;if(Math.abs(ba-ka)%PI2$2<1e-4)return Ey[0]=Dy,Ey[1]=Iy,My-Sa;if(_y){var Ly=ba;ba=normalizeRadian(ka),ka=normalizeRadian(Ly)}else ba=normalizeRadian(ba),ka=normalizeRadian(ka);ba>ka&&(ka+=PI2$2);var Py=Math.atan2(Ay,Ty);if(Py<0&&(Py+=PI2$2),Py>=ba&&Py<=ka||Py+PI2$2>=ba&&Py+PI2$2<=ka)return Ey[0]=Dy,Ey[1]=Iy,My-Sa;var Ry=Sa*Math.cos(ba)+ha,Vy=Sa*Math.sin(ba)+ua,Ny=Sa*Math.cos(ka)+ha,By=Sa*Math.sin(ka)+ua,Oy=(Ry-Ty)*(Ry-Ty)+(Vy-Ay)*(Vy-Ay),Fy=(Ny-Ty)*(Ny-Ty)+(By-Ay)*(By-Ay);return Oy<Fy?(Ey[0]=Ry,Ey[1]=Vy,Math.sqrt(Oy)):(Ey[0]=Ny,Ey[1]=By,Math.sqrt(Fy))}function projectPointToLine(ha,ua,Sa,ba,ka,_y,Ty,Ay){var Ey=ka-ha,My=_y-ua,Dy=Sa-ha,Iy=ba-ua,Ly=Math.sqrt(Dy*Dy+Iy*Iy);Dy/=Ly,Iy/=Ly;var Py=Ey*Dy+My*Iy,Ry=Py/Ly;Ay&&(Ry=Math.min(Math.max(Ry,0),1)),Ry*=Ly;var Vy=Ty[0]=ha+Ry*Dy,Ny=Ty[1]=ua+Ry*Iy;return Math.sqrt((Vy-ka)*(Vy-ka)+(Ny-_y)*(Ny-_y))}function projectPointToRect(ha,ua,Sa,ba,ka,_y,Ty){Sa<0&&(ha=ha+Sa,Sa=-Sa),ba<0&&(ua=ua+ba,ba=-ba);var Ay=ha+Sa,Ey=ua+ba,My=Ty[0]=Math.min(Math.max(ka,ha),Ay),Dy=Ty[1]=Math.min(Math.max(_y,ua),Ey);return Math.sqrt((My-ka)*(My-ka)+(Dy-_y)*(Dy-_y))}var tmpPt=[];function nearestPointOnRect(ha,ua,Sa){var ba=projectPointToRect(ua.x,ua.y,ua.width,ua.height,ha.x,ha.y,tmpPt);return Sa.set(tmpPt[0],tmpPt[1]),ba}function nearestPointOnPath(ha,ua,Sa){for(var ba=0,ka=0,_y=0,Ty=0,Ay,Ey,My=1/0,Dy=ua.data,Iy=ha.x,Ly=ha.y,Py=0;Py<Dy.length;){var Ry=Dy[Py++];Py===1&&(ba=Dy[Py],ka=Dy[Py+1],_y=ba,Ty=ka);var Vy=My;switch(Ry){case CMD$1.M:_y=Dy[Py++],Ty=Dy[Py++],ba=_y,ka=Ty;break;case CMD$1.L:Vy=projectPointToLine(ba,ka,Dy[Py],Dy[Py+1],Iy,Ly,tmpPt,!0),ba=Dy[Py++],ka=Dy[Py++];break;case CMD$1.C:Vy=cubicProjectPoint(ba,ka,Dy[Py++],Dy[Py++],Dy[Py++],Dy[Py++],Dy[Py],Dy[Py+1],Iy,Ly,tmpPt),ba=Dy[Py++],ka=Dy[Py++];break;case CMD$1.Q:Vy=quadraticProjectPoint(ba,ka,Dy[Py++],Dy[Py++],Dy[Py],Dy[Py+1],Iy,Ly,tmpPt),ba=Dy[Py++],ka=Dy[Py++];break;case CMD$1.A:var Ny=Dy[Py++],By=Dy[Py++],Oy=Dy[Py++],Fy=Dy[Py++],zy=Dy[Py++],Hy=Dy[Py++];Py+=1;var Gy=!!(1-Dy[Py++]);Ay=Math.cos(zy)*Oy+Ny,Ey=Math.sin(zy)*Fy+By,Py<=1&&(_y=Ay,Ty=Ey);var Wy=(Iy-Ny)*Fy/Oy+Ny;Vy=projectPointToArc(Ny,By,Fy,zy,zy+Hy,Gy,Wy,Ly,tmpPt),ba=Math.cos(zy+Hy)*Oy+Ny,ka=Math.sin(zy+Hy)*Fy+By;break;case CMD$1.R:_y=ba=Dy[Py++],Ty=ka=Dy[Py++];var Uy=Dy[Py++],Yy=Dy[Py++];Vy=projectPointToRect(_y,Ty,Uy,Yy,Iy,Ly,tmpPt);break;case CMD$1.Z:Vy=projectPointToLine(ba,ka,_y,Ty,Iy,Ly,tmpPt,!0),ba=_y,ka=Ty;break}Vy<My&&(My=Vy,Sa.set(tmpPt[0],tmpPt[1]))}return My}var pt0=new Point,pt1=new Point,pt2=new Point,dir=new Point,dir2=new Point;function updateLabelLinePoints(ha,ua){if(ha){var Sa=ha.getTextGuideLine(),ba=ha.getTextContent();if(ba&&Sa){var ka=ha.textGuideLineConfig||{},_y=[[0,0],[0,0],[0,0]],Ty=ka.candidates||DEFAULT_SEARCH_SPACE,Ay=ba.getBoundingRect().clone();Ay.applyTransform(ba.getComputedTransform());var Ey=1/0,My=ka.anchor,Dy=ha.getComputedTransform(),Iy=Dy&&invert([],Dy),Ly=ua.get("length2")||0;My&&pt2.copy(My);for(var Py=0;Py<Ty.length;Py++){var Ry=Ty[Py];getCandidateAnchor(Ry,0,Ay,pt0,dir),Point.scaleAndAdd(pt1,pt0,dir,Ly),pt1.transform(Iy);var Vy=ha.getBoundingRect(),Ny=My?My.distance(pt1):ha instanceof Path?nearestPointOnPath(pt1,ha.path,pt2):nearestPointOnRect(pt1,Vy,pt2);Ny<Ey&&(Ey=Ny,pt1.transform(Dy),pt2.transform(Dy),pt2.toArray(_y[0]),pt1.toArray(_y[1]),pt0.toArray(_y[2]))}limitTurnAngle(_y,ua.get("minTurnAngle")),Sa.setShape({points:_y})}}}var tmpArr=[],tmpProjPoint=new Point;function limitTurnAngle(ha,ua){if(ua<=180&&ua>0){ua=ua/180*Math.PI,pt0.fromArray(ha[0]),pt1.fromArray(ha[1]),pt2.fromArray(ha[2]),Point.sub(dir,pt0,pt1),Point.sub(dir2,pt2,pt1);var Sa=dir.len(),ba=dir2.len();if(!(Sa<.001||ba<.001)){dir.scale(1/Sa),dir2.scale(1/ba);var ka=dir.dot(dir2),_y=Math.cos(ua);if(_y<ka){var Ty=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,Ty/Math.tan(Math.PI-ua));var Ay=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(Ay))return;Ay<0?Point.copy(tmpProjPoint,pt1):Ay>1&&Point.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(ha[1])}}}}function limitSurfaceAngle(ha,ua,Sa){if(Sa<=180&&Sa>0){Sa=Sa/180*Math.PI,pt0.fromArray(ha[0]),pt1.fromArray(ha[1]),pt2.fromArray(ha[2]),Point.sub(dir,pt1,pt0),Point.sub(dir2,pt2,pt1);var ba=dir.len(),ka=dir2.len();if(!(ba<.001||ka<.001)){dir.scale(1/ba),dir2.scale(1/ka);var _y=dir.dot(ua),Ty=Math.cos(Sa);if(_y<Ty){var Ay=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var Ey=Math.PI/2,My=Math.acos(dir2.dot(ua)),Dy=Ey+My-Sa;if(Dy>=Ey)Point.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,Ay/Math.tan(Math.PI/2-Dy));var Iy=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(Iy))return;Iy<0?Point.copy(tmpProjPoint,pt1):Iy>1&&Point.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(ha[1])}}}}function setLabelLineState(ha,ua,Sa,ba){var ka=Sa==="normal",_y=ka?ha:ha.ensureState(Sa);_y.ignore=ua;var Ty=ba.get("smooth");Ty&&Ty===!0&&(Ty=.3),_y.shape=_y.shape||{},Ty>0&&(_y.shape.smooth=Ty);var Ay=ba.getModel("lineStyle").getLineStyle();ka?ha.useStyle(Ay):_y.style=Ay}function buildLabelLinePath(ha,ua){var Sa=ua.smooth,ba=ua.points;if(ba)if(ha.moveTo(ba[0][0],ba[0][1]),Sa>0&&ba.length>=3){var ka=dist$1(ba[0],ba[1]),_y=dist$1(ba[1],ba[2]);if(!ka||!_y){ha.lineTo(ba[1][0],ba[1][1]),ha.lineTo(ba[2][0],ba[2][1]);return}var Ty=Math.min(ka,_y)*Sa,Ay=lerp$1([],ba[1],ba[0],Ty/ka),Ey=lerp$1([],ba[1],ba[2],Ty/_y),My=lerp$1([],Ay,Ey,.5);ha.bezierCurveTo(Ay[0],Ay[1],Ay[0],Ay[1],My[0],My[1]),ha.bezierCurveTo(Ey[0],Ey[1],Ey[0],Ey[1],ba[2][0],ba[2][1])}else for(var Dy=1;Dy<ba.length;Dy++)ha.lineTo(ba[Dy][0],ba[Dy][1])}function setLabelLineStyle(ha,ua,Sa){var ba=ha.getTextGuideLine(),ka=ha.getTextContent();if(!ka){ba&&ha.removeTextGuideLine();return}for(var _y=ua.normal,Ty=_y.get("show"),Ay=ka.ignore,Ey=0;Ey<DISPLAY_STATES.length;Ey++){var My=DISPLAY_STATES[Ey],Dy=ua[My],Iy=My==="normal";if(Dy){var Ly=Dy.get("show"),Py=Iy?Ay:retrieve2(ka.states[My]&&ka.states[My].ignore,Ay);if(Py||!retrieve2(Ly,Ty)){var Ry=Iy?ba:ba&&ba.states[My];Ry&&(Ry.ignore=!0),ba&&setLabelLineState(ba,!0,My,Dy);continue}ba||(ba=new Polyline$1,ha.setTextGuideLine(ba),!Iy&&(Ay||!Ty)&&setLabelLineState(ba,!0,"normal",ua.normal),ha.stateProxy&&(ba.stateProxy=ha.stateProxy)),setLabelLineState(ba,!1,My,Dy)}}if(ba){defaults(ba.style,Sa),ba.style.fill=null;var Vy=_y.get("showAbove"),Ny=ha.textGuideLineConfig=ha.textGuideLineConfig||{};Ny.showAbove=Vy||!1,ba.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(ha,ua){ua=ua||"labelLine";for(var Sa={normal:ha.getModel(ua)},ba=0;ba<SPECIAL_STATES.length;ba++){var ka=SPECIAL_STATES[ba];Sa[ka]=ha.getModel([ka,ua])}return Sa}function prepareLayoutList(ha){for(var ua=[],Sa=0;Sa<ha.length;Sa++){var ba=ha[Sa];if(!ba.defaultAttr.ignore){var ka=ba.label,_y=ka.getComputedTransform(),Ty=ka.getBoundingRect(),Ay=!_y||_y[1]<1e-5&&_y[2]<1e-5,Ey=ka.style.margin||0,My=Ty.clone();My.applyTransform(_y),My.x-=Ey/2,My.y-=Ey/2,My.width+=Ey,My.height+=Ey;var Dy=Ay?new OrientedBoundingRect(Ty,_y):null;ua.push({label:ka,labelLine:ba.labelLine,rect:My,localRect:Ty,obb:Dy,priority:ba.priority,defaultAttr:ba.defaultAttr,layoutOption:ba.computedLayoutOption,axisAligned:Ay,transform:_y})}}return ua}function shiftLayout(ha,ua,Sa,ba,ka,_y){var Ty=ha.length;if(Ty<2)return;ha.sort(function(Gy,Wy){return Gy.rect[ua]-Wy.rect[ua]});for(var Ay=0,Ey,My=!1,Dy=0;Dy<Ty;Dy++){var Iy=ha[Dy],Ly=Iy.rect;Ey=Ly[ua]-Ay,Ey<0&&(Ly[ua]-=Ey,Iy.label[ua]-=Ey,My=!0),Ay=Ly[ua]+Ly[Sa]}var Py=ha[0],Ry=ha[Ty-1],Vy,Ny;By(),Vy<0&&zy(-Vy,.8),Ny<0&&zy(Ny,.8),By(),Oy(Vy,Ny,1),Oy(Ny,Vy,-1),By(),Vy<0&&Hy(-Vy),Ny<0&&Hy(Ny);function By(){Vy=Py.rect[ua]-ba,Ny=ka-Ry.rect[ua]-Ry.rect[Sa]}function Oy(Gy,Wy,Uy){if(Gy<0){var Yy=Math.min(Wy,-Gy);if(Yy>0){Fy(Yy*Uy,0,Ty);var jy=Yy+Gy;jy<0&&zy(-jy*Uy,1)}else zy(-Gy*Uy,1)}}function Fy(Gy,Wy,Uy){Gy!==0&&(My=!0);for(var Yy=Wy;Yy<Uy;Yy++){var jy=ha[Yy],Ky=jy.rect;Ky[ua]+=Gy,jy.label[ua]+=Gy}}function zy(Gy,Wy){for(var Uy=[],Yy=0,jy=1;jy<Ty;jy++){var Ky=ha[jy-1].rect,Xy=Math.max(ha[jy].rect[ua]-Ky[ua]-Ky[Sa],0);Uy.push(Xy),Yy+=Xy}if(Yy){var Zy=Math.min(Math.abs(Gy)/Yy,Wy);if(Gy>0)for(var jy=0;jy<Ty-1;jy++){var Jy=Uy[jy]*Zy;Fy(Jy,0,jy+1)}else for(var jy=Ty-1;jy>0;jy--){var Jy=Uy[jy-1]*Zy;Fy(-Jy,jy,Ty)}}}function Hy(Gy){var Wy=Gy<0?-1:1;Gy=Math.abs(Gy);for(var Uy=Math.ceil(Gy/(Ty-1)),Yy=0;Yy<Ty-1;Yy++)if(Wy>0?Fy(Uy,0,Yy+1):Fy(-Uy,Ty-Yy-1,Ty),Gy-=Uy,Gy<=0)return}return My}function shiftLayoutOnX(ha,ua,Sa,ba){return shiftLayout(ha,"x","width",ua,Sa)}function shiftLayoutOnY(ha,ua,Sa,ba){return shiftLayout(ha,"y","height",ua,Sa)}function hideOverlap(ha){var ua=[];ha.sort(function(Vy,Ny){return Ny.priority-Vy.priority});var Sa=new BoundingRect(0,0,0,0);function ba(Vy){if(!Vy.ignore){var Ny=Vy.ensureState("emphasis");Ny.ignore==null&&(Ny.ignore=!1)}Vy.ignore=!0}for(var ka=0;ka<ha.length;ka++){var _y=ha[ka],Ty=_y.axisAligned,Ay=_y.localRect,Ey=_y.transform,My=_y.label,Dy=_y.labelLine;Sa.copy(_y.rect),Sa.width-=.1,Sa.height-=.1,Sa.x+=.05,Sa.y+=.05;for(var Iy=_y.obb,Ly=!1,Py=0;Py<ua.length;Py++){var Ry=ua[Py];if(Sa.intersect(Ry.rect)){if(Ty&&Ry.axisAligned){Ly=!0;break}if(Ry.obb||(Ry.obb=new OrientedBoundingRect(Ry.localRect,Ry.transform)),Iy||(Iy=new OrientedBoundingRect(Ay,Ey)),Iy.intersect(Ry.obb)){Ly=!0;break}}}Ly?(ba(My),Dy&&ba(Dy)):(My.attr("ignore",_y.defaultAttr.ignore),Dy&&Dy.attr("ignore",_y.defaultAttr.labelGuideIgnore),ua.push(_y))}}function cloneArr(ha){if(ha){for(var ua=[],Sa=0;Sa<ha.length;Sa++)ua.push(ha[Sa].slice());return ua}}function prepareLayoutCallbackParams(ha,ua){var Sa=ha.label,ba=ua&&ua.getTextGuideLine();return{dataIndex:ha.dataIndex,dataType:ha.dataType,seriesIndex:ha.seriesModel.seriesIndex,text:ha.label.style.text,rect:ha.hostRect,labelRect:ha.rect,align:Sa.style.align,verticalAlign:Sa.style.verticalAlign,labelLinePoints:cloneArr(ba&&ba.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(ha,ua,Sa){for(var ba=0;ba<Sa.length;ba++){var ka=Sa[ba];ua[ka]!=null&&(ha[ka]=ua[ka])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function ha(){this._labelList=[],this._chartViewList=[]}return ha.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},ha.prototype._addLabel=function(ua,Sa,ba,ka,_y){var Ty=ka.style,Ay=ka.__hostTarget,Ey=Ay.textConfig||{},My=ka.getComputedTransform(),Dy=ka.getBoundingRect().plain();BoundingRect.applyTransform(Dy,Dy,My),My?dummyTransformable.setLocalTransform(My):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=normalizeRadian(dummyTransformable.rotation);var Iy=ka.__hostTarget,Ly;if(Iy){Ly=Iy.getBoundingRect().plain();var Py=Iy.getComputedTransform();BoundingRect.applyTransform(Ly,Ly,Py)}var Ry=Ly&&Iy.getTextGuideLine();this._labelList.push({label:ka,labelLine:Ry,seriesModel:ba,dataIndex:ua,dataType:Sa,layoutOption:_y,computedLayoutOption:null,rect:Dy,hostRect:Ly,priority:Ly?Ly.width*Ly.height:0,defaultAttr:{ignore:ka.ignore,labelGuideIgnore:Ry&&Ry.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:Ty.x,y:Ty.y,align:Ty.align,verticalAlign:Ty.verticalAlign,width:Ty.width,height:Ty.height,fontSize:Ty.fontSize},cursor:ka.cursor,attachedPos:Ey.position,attachedRot:Ey.rotation}})},ha.prototype.addLabelsOfSeries=function(ua){var Sa=this;this._chartViewList.push(ua);var ba=ua.__model,ka=ba.get("labelLayout");(isFunction(ka)||keys(ka).length)&&ua.group.traverse(function(_y){if(_y.ignore)return!0;var Ty=_y.getTextContent(),Ay=getECData(_y);Ty&&!Ty.disableLabelLayout&&Sa._addLabel(Ay.dataIndex,Ay.dataType,ba,Ty,ka)})},ha.prototype.updateLayoutConfig=function(ua){var Sa=ua.getWidth(),ba=ua.getHeight();function ka(Fy,zy){return function(){updateLabelLinePoints(Fy,zy)}}for(var _y=0;_y<this._labelList.length;_y++){var Ty=this._labelList[_y],Ay=Ty.label,Ey=Ay.__hostTarget,My=Ty.defaultAttr,Dy=void 0;isFunction(Ty.layoutOption)?Dy=Ty.layoutOption(prepareLayoutCallbackParams(Ty,Ey)):Dy=Ty.layoutOption,Dy=Dy||{},Ty.computedLayoutOption=Dy;var Iy=Math.PI/180;Ey&&Ey.setTextConfig({local:!1,position:Dy.x!=null||Dy.y!=null?null:My.attachedPos,rotation:Dy.rotate!=null?Dy.rotate*Iy:My.attachedRot,offset:[Dy.dx||0,Dy.dy||0]});var Ly=!1;if(Dy.x!=null?(Ay.x=parsePercent(Dy.x,Sa),Ay.setStyle("x",0),Ly=!0):(Ay.x=My.x,Ay.setStyle("x",My.style.x)),Dy.y!=null?(Ay.y=parsePercent(Dy.y,ba),Ay.setStyle("y",0),Ly=!0):(Ay.y=My.y,Ay.setStyle("y",My.style.y)),Dy.labelLinePoints){var Py=Ey.getTextGuideLine();Py&&(Py.setShape({points:Dy.labelLinePoints}),Ly=!1)}var Ry=labelLayoutInnerStore(Ay);Ry.needsUpdateLabelLine=Ly,Ay.rotation=Dy.rotate!=null?Dy.rotate*Iy:My.rotation,Ay.scaleX=My.scaleX,Ay.scaleY=My.scaleY;for(var Vy=0;Vy<LABEL_OPTION_TO_STYLE_KEYS.length;Vy++){var Ny=LABEL_OPTION_TO_STYLE_KEYS[Vy];Ay.setStyle(Ny,Dy[Ny]!=null?Dy[Ny]:My.style[Ny])}if(Dy.draggable){if(Ay.draggable=!0,Ay.cursor="move",Ey){var By=Ty.seriesModel;if(Ty.dataIndex!=null){var Oy=Ty.seriesModel.getData(Ty.dataType);By=Oy.getItemModel(Ty.dataIndex)}Ay.on("drag",ka(Ey,By.getModel("labelLine")))}}else Ay.off("drag"),Ay.cursor=My.cursor}},ha.prototype.layout=function(ua){var Sa=ua.getWidth(),ba=ua.getHeight(),ka=prepareLayoutList(this._labelList),_y=filter(ka,function(Ey){return Ey.layoutOption.moveOverlap==="shiftX"}),Ty=filter(ka,function(Ey){return Ey.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(_y,0,Sa),shiftLayoutOnY(Ty,0,ba);var Ay=filter(ka,function(Ey){return Ey.layoutOption.hideOverlap});hideOverlap(Ay)},ha.prototype.processLabelsOverall=function(){var ua=this;each$f(this._chartViewList,function(Sa){var ba=Sa.__model,ka=Sa.ignoreLabelLineUpdate,_y=ba.isAnimationEnabled();Sa.group.traverse(function(Ty){if(Ty.ignore&&!Ty.forceLabelAnimation)return!0;var Ay=!ka,Ey=Ty.getTextContent();!Ay&&Ey&&(Ay=labelLayoutInnerStore(Ey).needsUpdateLabelLine),Ay&&ua._updateLabelLine(Ty,ba),_y&&ua._animateLabels(Ty,ba)})})},ha.prototype._updateLabelLine=function(ua,Sa){var ba=ua.getTextContent(),ka=getECData(ua),_y=ka.dataIndex;if(ba&&_y!=null){var Ty=Sa.getData(ka.dataType),Ay=Ty.getItemModel(_y),Ey={},My=Ty.getItemVisual(_y,"style");if(My){var Dy=Ty.getVisual("drawType");Ey.stroke=My[Dy]}var Iy=Ay.getModel("labelLine");setLabelLineStyle(ua,getLabelLineStatesModels(Ay),Ey),updateLabelLinePoints(ua,Iy)}},ha.prototype._animateLabels=function(ua,Sa){var ba=ua.getTextContent(),ka=ua.getTextGuideLine();if(ba&&(ua.forceLabelAnimation||!ba.ignore&&!ba.invisible&&!ua.disableLabelAnimation&&!isElementRemoved(ua))){var _y=labelLayoutInnerStore(ba),Ty=_y.oldLayout,Ay=getECData(ua),Ey=Ay.dataIndex,My={x:ba.x,y:ba.y,rotation:ba.rotation},Dy=Sa.getData(Ay.dataType);if(Ty){ba.attr(Ty);var Ly=ua.prevStates;Ly&&(indexOf(Ly,"select")>=0&&ba.attr(_y.oldLayoutSelect),indexOf(Ly,"emphasis")>=0&&ba.attr(_y.oldLayoutEmphasis)),updateProps$1(ba,My,Sa,Ey)}else if(ba.attr(My),!labelInner(ba).valueAnimation){var Iy=retrieve2(ba.style.opacity,1);ba.style.opacity=0,initProps(ba,{style:{opacity:Iy}},Sa,Ey)}if(_y.oldLayout=My,ba.states.select){var Py=_y.oldLayoutSelect={};extendWithKeys(Py,My,LABEL_LAYOUT_PROPS),extendWithKeys(Py,ba.states.select,LABEL_LAYOUT_PROPS)}if(ba.states.emphasis){var Ry=_y.oldLayoutEmphasis={};extendWithKeys(Ry,My,LABEL_LAYOUT_PROPS),extendWithKeys(Ry,ba.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(ba,Ey,Dy,Sa,Sa)}if(ka&&!ka.ignore&&!ka.invisible){var _y=labelLineAnimationStore(ka),Ty=_y.oldLayout,Vy={points:ka.shape.points};Ty?(ka.attr({shape:Ty}),updateProps$1(ka,{shape:Vy},Sa)):(ka.setShape(Vy),ka.style.strokePercent=0,initProps(ka,{style:{strokePercent:1}},Sa)),_y.oldLayout=Vy}},ha}(),getLabelManager=makeInner();function installLabelLayout(ha){ha.registerUpdateLifecycle("series:beforeupdate",function(ua,Sa,ba){var ka=getLabelManager(Sa).labelManager;ka||(ka=getLabelManager(Sa).labelManager=new LabelManager),ka.clearLabels()}),ha.registerUpdateLifecycle("series:layoutlabels",function(ua,Sa,ba){var ka=getLabelManager(Sa).labelManager;ba.updatedSeries.forEach(function(_y){ka.addLabelsOfSeries(Sa.getViewOfSeriesModel(_y))}),ka.updateLayoutConfig(Sa),ka.layout(Sa),ka.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function ha(){}return ha.prototype.reset=function(ua){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,ua||4)},ha.prototype.moveTo=function(ua,Sa){this._add("M",ua,Sa)},ha.prototype.lineTo=function(ua,Sa){this._add("L",ua,Sa)},ha.prototype.bezierCurveTo=function(ua,Sa,ba,ka,_y,Ty){this._add("C",ua,Sa,ba,ka,_y,Ty)},ha.prototype.quadraticCurveTo=function(ua,Sa,ba,ka){this._add("Q",ua,Sa,ba,ka)},ha.prototype.arc=function(ua,Sa,ba,ka,_y,Ty){this.ellipse(ua,Sa,ba,ba,0,ka,_y,Ty)},ha.prototype.ellipse=function(ua,Sa,ba,ka,_y,Ty,Ay,Ey){var My=Ay-Ty,Dy=!Ey,Iy=Math.abs(My),Ly=isAroundZero(Iy-PI2$1)||(Dy?My>=PI2$1:-My>=PI2$1),Py=My>0?My%PI2$1:My%PI2$1+PI2$1,Ry=!1;Ly?Ry=!0:isAroundZero(Iy)?Ry=!1:Ry=Py>=PI$4==!!Dy;var Vy=ua+ba*mathCos(Ty),Ny=Sa+ka*mathSin(Ty);this._start&&this._add("M",Vy,Ny);var By=Math.round(_y*degree);if(Ly){var Oy=1/this._p,Fy=(Dy?1:-1)*(PI2$1-Oy);this._add("A",ba,ka,By,1,+Dy,ua+ba*mathCos(Ty+Fy),Sa+ka*mathSin(Ty+Fy)),Oy>.01&&this._add("A",ba,ka,By,0,+Dy,Vy,Ny)}else{var zy=ua+ba*mathCos(Ay),Hy=Sa+ka*mathSin(Ay);this._add("A",ba,ka,By,+Ry,+Dy,zy,Hy)}},ha.prototype.rect=function(ua,Sa,ba,ka){this._add("M",ua,Sa),this._add("l",ba,0),this._add("l",0,ka),this._add("l",-ba,0),this._add("Z")},ha.prototype.closePath=function(){this._d.length>0&&this._add("Z")},ha.prototype._add=function(ua,Sa,ba,ka,_y,Ty,Ay,Ey,My){for(var Dy=[],Iy=this._p,Ly=1;Ly<arguments.length;Ly++){var Py=arguments[Ly];if(isNaN(Py)){this._invalid=!0;return}Dy.push(Math.round(Py*Iy)/Iy)}this._d.push(ua+Dy.join(" ")),this._start=ua==="Z"},ha.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},ha.prototype.getStr=function(){return this._str},ha}(),NONE="none",mathRound=Math.round;function pathHasFill(ha){var ua=ha.fill;return ua!=null&&ua!==NONE}function pathHasStroke(ha){var ua=ha.stroke;return ua!=null&&ua!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(ha){return"stroke-"+ha.toLowerCase()});function mapStyleToAttrs(ha,ua,Sa,ba){var ka=ua.opacity==null?1:ua.opacity;if(Sa instanceof ZRImage){ha("opacity",ka);return}if(pathHasFill(ua)){var _y=normalizeColor(ua.fill);ha("fill",_y.color);var Ty=ua.fillOpacity!=null?ua.fillOpacity*_y.opacity*ka:_y.opacity*ka;Ty<1&&ha("fill-opacity",Ty)}else ha("fill",NONE);if(pathHasStroke(ua)){var Ay=normalizeColor(ua.stroke);ha("stroke",Ay.color);var Ey=ua.strokeNoScale?Sa.getLineScale():1,My=Ey?(ua.lineWidth||0)/Ey:0,Dy=ua.strokeOpacity!=null?ua.strokeOpacity*Ay.opacity*ka:Ay.opacity*ka,Iy=ua.strokeFirst;if(My!==1&&ha("stroke-width",My),Iy&&ha("paint-order",Iy?"stroke":"fill"),Dy<1&&ha("stroke-opacity",Dy),ua.lineDash){var Ly=getLineDash(Sa),Py=Ly[0],Ry=Ly[1];Py&&(Ry=mathRound(Ry||0),ha("stroke-dasharray",Py.join(",")),(Ry||ba)&&ha("stroke-dashoffset",Ry))}for(var Vy=0;Vy<strokeProps.length;Vy++){var Ny=strokeProps[Vy];if(ua[Ny]!==DEFAULT_PATH_STYLE[Ny]){var By=ua[Ny]||DEFAULT_PATH_STYLE[Ny];By&&ha(svgStrokeProps[Vy],By)}}}}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",META_DATA_PREFIX="ecmeta_";function createElement(ha){return document.createElementNS(SVGNS,ha)}function createVNode(ha,ua,Sa,ba,ka){return{tag:ha,attrs:Sa||{},children:ba,text:ka,key:ua}}function createElementOpen(ha,ua){var Sa=[];if(ua)for(var ba in ua){var ka=ua[ba],_y=ba;ka!==!1&&(ka!==!0&&ka!=null&&(_y+='="'+ka+'"'),Sa.push(_y))}return"<"+ha+" "+Sa.join(" ")+">"}function createElementClose(ha){return"</"+ha+">"}function vNodeToString(ha,ua){ua=ua||{};var Sa=ua.newline?`
`:"";function ba(ka){var _y=ka.children,Ty=ka.tag,Ay=ka.attrs,Ey=ka.text;return createElementOpen(Ty,Ay)+(Ty!=="style"?encodeHTML(Ey):Ey||"")+(_y?""+Sa+map$1(_y,function(My){return ba(My)}).join(Sa)+Sa:"")+createElementClose(Ty)}return ba(ha)}function getCssString(ha,ua,Sa){Sa=Sa||{};var ba=Sa.newline?`
`:"",ka=" {"+ba,_y=ba+"}",Ty=map$1(keys(ha),function(Ey){return Ey+ka+map$1(keys(ha[Ey]),function(My){return My+":"+ha[Ey][My]+";"}).join(ba)+_y}).join(ba),Ay=map$1(keys(ua),function(Ey){return"@keyframes "+Ey+ka+map$1(keys(ua[Ey]),function(My){return My+ka+map$1(keys(ua[Ey][My]),function(Dy){var Iy=ua[Ey][My][Dy];return Dy==="d"&&(Iy='path("'+Iy+'")'),Dy+":"+Iy+";"}).join(ba)+_y}).join(ba)+_y}).join(ba);return!Ty&&!Ay?"":["<![CDATA[",Ty,Ay,"]]>"].join(ba)}function createBrushScope(ha){return{zrId:ha,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(ha,ua,Sa,ba){return createVNode("svg","root",{width:ha,height:ua,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:ba?"0 0 "+ha+" "+ua:!1},Sa)}var cssClassIdx=0;function getClassId(){return cssClassIdx++}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(ha,ua,Sa){var ba=extend({},ha.shape);extend(ba,ua),ha.buildPath(Sa,ba);var ka=new SVGPathRebuilder;return ka.reset(getPathPrecision(ha)),Sa.rebuildPath(ka,1),ka.generateStr(),ka.getStr()}function setTransformOrigin(ha,ua){var Sa=ua.originX,ba=ua.originY;(Sa||ba)&&(ha[transformOriginKey]=Sa+"px "+ba+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(ha,ua){var Sa=ua.zrId+"-ani-"+ua.cssAnimIdx++;return ua.cssAnims[Sa]=ha,Sa}function createCompoundPathCSSAnimation(ha,ua,Sa){var ba=ha.shape.paths,ka={},_y,Ty;if(each$f(ba,function(Ey){var My=createBrushScope(Sa.zrId);My.animation=!0,createCSSAnimation(Ey,{},My,!0);var Dy=My.cssAnims,Iy=My.cssNodes,Ly=keys(Dy),Py=Ly.length;if(Py){Ty=Ly[Py-1];var Ry=Dy[Ty];for(var Vy in Ry){var Ny=Ry[Vy];ka[Vy]=ka[Vy]||{d:""},ka[Vy].d+=Ny.d||""}for(var By in Iy){var Oy=Iy[By].animation;Oy.indexOf(Ty)>=0&&(_y=Oy)}}}),!!_y){ua.d=!1;var Ay=addAnimation(ka,Sa);return _y.replace(Ty,Ay)}}function getEasingFunc(ha){return isString(ha)?EASING_MAP[ha]?"cubic-bezier("+EASING_MAP[ha]+")":createCubicEasingFunc(ha)?ha:"":""}function createCSSAnimation(ha,ua,Sa,ba){var ka=ha.animators,_y=ka.length,Ty=[];if(ha instanceof CompoundPath){var Ay=createCompoundPathCSSAnimation(ha,ua,Sa);if(Ay)Ty.push(Ay);else if(!_y)return}else if(!_y)return;for(var Ey={},My=0;My<_y;My++){var Dy=ka[My],Iy=[Dy.getMaxTime()/1e3+"s"],Ly=getEasingFunc(Dy.getClip().easing),Py=Dy.getDelay();Ly?Iy.push(Ly):Iy.push("linear"),Py&&Iy.push(Py/1e3+"s"),Dy.getLoop()&&Iy.push("infinite");var Ry=Iy.join(" ");Ey[Ry]=Ey[Ry]||[Ry,[]],Ey[Ry][1].push(Dy)}function Vy(Oy){var Fy=Oy[1],zy=Fy.length,Hy={},Gy={},Wy={},Uy="animation-timing-function";function Yy(g_,p_,o_){for(var n_=g_.getTracks(),qy=g_.getMaxTime(),e_=0;e_<n_.length;e_++){var a_=n_[e_];if(a_.needsAnimate()){var s_=a_.keyframes,u_=a_.propName;if(o_&&(u_=o_(u_)),u_)for(var h_=0;h_<s_.length;h_++){var __=s_[h_],y_=Math.round(__.time/qy*100)+"%",w_=getEasingFunc(__.easing),S_=__.rawValue;(isString(S_)||isNumber(S_))&&(p_[y_]=p_[y_]||{},p_[y_][u_]=__.rawValue,w_&&(p_[y_][Uy]=w_))}}}}for(var jy=0;jy<zy;jy++){var Ky=Fy[jy],Xy=Ky.targetName;Xy?Xy==="shape"&&Yy(Ky,Gy):!ba&&Yy(Ky,Hy)}for(var Zy in Hy){var Jy={};copyTransform(Jy,ha),extend(Jy,Hy[Zy]);var t_=getSRTTransformString(Jy),Qy=Hy[Zy][Uy];Wy[Zy]=t_?{transform:t_}:{},setTransformOrigin(Wy[Zy],Jy),Qy&&(Wy[Zy][Uy]=Qy)}var r_,i_=!0;for(var Zy in Gy){Wy[Zy]=Wy[Zy]||{};var l_=!r_,Qy=Gy[Zy][Uy];l_&&(r_=new PathProxy);var c_=r_.len();r_.reset(),Wy[Zy].d=buildPathString(ha,Gy[Zy],r_);var d_=r_.len();if(!l_&&c_!==d_){i_=!1;break}Qy&&(Wy[Zy][Uy]=Qy)}if(!i_)for(var Zy in Wy)delete Wy[Zy].d;if(!ba)for(var jy=0;jy<zy;jy++){var Ky=Fy[jy],Xy=Ky.targetName;Xy==="style"&&Yy(Ky,Wy,function(n_){return ANIMATE_STYLE_MAP[n_]})}for(var f_=keys(Wy),m_=!0,b_,jy=1;jy<f_.length;jy++){var $_=f_[jy-1],A_=f_[jy];if(Wy[$_][transformOriginKey]!==Wy[A_][transformOriginKey]){m_=!1;break}b_=Wy[$_][transformOriginKey]}if(m_&&b_){for(var Zy in Wy)Wy[Zy][transformOriginKey]&&delete Wy[Zy][transformOriginKey];ua[transformOriginKey]=b_}if(filter(f_,function(g_){return keys(Wy[g_]).length>0}).length){var v_=addAnimation(Wy,Sa);return v_+" "+Oy[0]+" both"}}for(var Ny in Ey){var Ay=Vy(Ey[Ny]);Ay&&Ty.push(Ay)}if(Ty.length){var By=Sa.zrId+"-cls-"+getClassId();Sa.cssNodes["."+By]={animation:Ty.join(",")},ua.class=By}}function createCSSEmphasis(ha,ua,Sa){if(!ha.ignore)if(ha.isSilent()){var ba={"pointer-events":"none"};setClassAttribute(ba,ua,Sa)}else{var ka=ha.states.emphasis&&ha.states.emphasis.style?ha.states.emphasis.style:{},_y=ka.fill;if(!_y){var Ty=ha.style&&ha.style.fill,Ay=ha.states.select&&ha.states.select.style&&ha.states.select.style.fill,Ey=ha.currentStates.indexOf("select")>=0&&Ay||Ty;Ey&&(_y=liftColor(Ey))}var My=ka.lineWidth;if(My){var Dy=!ka.strokeNoScale&&ha.transform?ha.transform[0]:1;My=My/Dy}var ba={cursor:"pointer"};_y&&(ba.fill=_y),ka.stroke&&(ba.stroke=ka.stroke),My&&(ba["stroke-width"]=My),setClassAttribute(ba,ua,Sa)}}function setClassAttribute(ha,ua,Sa,ba){var ka=JSON.stringify(ha),_y=Sa.cssStyleCache[ka];_y||(_y=Sa.zrId+"-cls-"+getClassId(),Sa.cssStyleCache[ka]=_y,Sa.cssNodes["."+_y+":hover"]=ha),ua.class=ua.class?ua.class+" "+_y:_y}var round$1=Math.round;function isImageLike(ha){return ha&&isString(ha.src)}function isCanvasLike(ha){return ha&&isFunction(ha.toDataURL)}function setStyleAttrs(ha,ua,Sa,ba){mapStyleToAttrs(function(ka,_y){var Ty=ka==="fill"||ka==="stroke";Ty&&isGradient(_y)?setGradient(ua,ha,ka,ba):Ty&&isPattern(_y)?setPattern(Sa,ha,ka,ba):ha[ka]=_y,Ty&&ba.ssr&&_y==="none"&&(ha["pointer-events"]="visible")},ua,Sa,!1),setShadow(Sa,ha,ba)}function setMetaData(ha,ua){var Sa=getElementSSRData(ua);Sa&&(Sa.each(function(ba,ka){ba!=null&&(ha[(META_DATA_PREFIX+ka).toLowerCase()]=ba+"")}),ua.isSilent()&&(ha[META_DATA_PREFIX+"silent"]="true"))}function noRotateScale(ha){return isAroundZero(ha[0]-1)&&isAroundZero(ha[1])&&isAroundZero(ha[2])&&isAroundZero(ha[3]-1)}function noTranslate(ha){return isAroundZero(ha[4])&&isAroundZero(ha[5])}function setTransform(ha,ua,Sa){if(ua&&!(noTranslate(ua)&&noRotateScale(ua))){var ba=1e4;ha.transform=noRotateScale(ua)?"translate("+round$1(ua[4]*ba)/ba+" "+round$1(ua[5]*ba)/ba+")":getMatrixStr(ua)}}function convertPolyShape(ha,ua,Sa){for(var ba=ha.points,ka=[],_y=0;_y<ba.length;_y++)ka.push(round$1(ba[_y][0]*Sa)/Sa),ka.push(round$1(ba[_y][1]*Sa)/Sa);ua.points=ka.join(" ")}function validatePolyShape(ha){return!ha.smooth}function createAttrsConvert(ha){var ua=map$1(ha,function(Sa){return typeof Sa=="string"?[Sa,Sa]:Sa});return function(Sa,ba,ka){for(var _y=0;_y<ua.length;_y++){var Ty=ua[_y],Ay=Sa[Ty[0]];Ay!=null&&(ba[Ty[1]]=round$1(Ay*ka)/ka)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(ha){for(var ua=ha.animators,Sa=0;Sa<ua.length;Sa++)if(ua[Sa].targetName==="shape")return!0;return!1}function brushSVGPath(ha,ua){var Sa=ha.style,ba=ha.shape,ka=builtinShapesDef[ha.type],_y={},Ty=ua.animation,Ay="path",Ey=ha.style.strokePercent,My=ua.compress&&getPathPrecision(ha)||4;if(ka&&!ua.willUpdate&&!(ka[1]&&!ka[1](ba))&&!(Ty&&hasShapeAnimation(ha))&&!(Ey<1)){Ay=ha.type;var Dy=Math.pow(10,My);ka[0](ba,_y,Dy)}else{var Iy=!ha.path||ha.shapeChanged();ha.path||ha.createPathProxy();var Ly=ha.path;Iy&&(Ly.beginPath(),ha.buildPath(Ly,ha.shape),ha.pathUpdated());var Py=Ly.getVersion(),Ry=ha,Vy=Ry.__svgPathBuilder;(Ry.__svgPathVersion!==Py||!Vy||Ey!==Ry.__svgPathStrokePercent)&&(Vy||(Vy=Ry.__svgPathBuilder=new SVGPathRebuilder),Vy.reset(My),Ly.rebuildPath(Vy,Ey),Vy.generateStr(),Ry.__svgPathVersion=Py,Ry.__svgPathStrokePercent=Ey),_y.d=Vy.getStr()}return setTransform(_y,ha.transform),setStyleAttrs(_y,Sa,ha,ua),setMetaData(_y,ha),ua.animation&&createCSSAnimation(ha,_y,ua),ua.emphasis&&createCSSEmphasis(ha,_y,ua),createVNode(Ay,ha.id+"",_y)}function brushSVGImage(ha,ua){var Sa=ha.style,ba=Sa.image;if(ba&&!isString(ba)&&(isImageLike(ba)?ba=ba.src:isCanvasLike(ba)&&(ba=ba.toDataURL())),!!ba){var ka=Sa.x||0,_y=Sa.y||0,Ty=Sa.width,Ay=Sa.height,Ey={href:ba,width:Ty,height:Ay};return ka&&(Ey.x=ka),_y&&(Ey.y=_y),setTransform(Ey,ha.transform),setStyleAttrs(Ey,Sa,ha,ua),setMetaData(Ey,ha),ua.animation&&createCSSAnimation(ha,Ey,ua),createVNode("image",ha.id+"",Ey)}}function brushSVGTSpan(ha,ua){var Sa=ha.style,ba=Sa.text;if(ba!=null&&(ba+=""),!(!ba||isNaN(Sa.x)||isNaN(Sa.y))){var ka=Sa.font||DEFAULT_FONT,_y=Sa.x||0,Ty=adjustTextY$1(Sa.y||0,getLineHeight(ka),Sa.textBaseline),Ay=TEXT_ALIGN_TO_ANCHOR[Sa.textAlign]||Sa.textAlign,Ey={"dominant-baseline":"central","text-anchor":Ay};if(hasSeparateFont(Sa)){var My="",Dy=Sa.fontStyle,Iy=parseFontSize(Sa.fontSize);if(!parseFloat(Iy))return;var Ly=Sa.fontFamily||DEFAULT_FONT_FAMILY,Py=Sa.fontWeight;My+="font-size:"+Iy+";font-family:"+Ly+";",Dy&&Dy!=="normal"&&(My+="font-style:"+Dy+";"),Py&&Py!=="normal"&&(My+="font-weight:"+Py+";"),Ey.style=My}else Ey.style="font: "+ka;return ba.match(/\s/)&&(Ey["xml:space"]="preserve"),_y&&(Ey.x=_y),Ty&&(Ey.y=Ty),setTransform(Ey,ha.transform),setStyleAttrs(Ey,Sa,ha,ua),setMetaData(Ey,ha),ua.animation&&createCSSAnimation(ha,Ey,ua),createVNode("text",ha.id+"",Ey,void 0,ba)}}function brush(ha,ua){if(ha instanceof Path)return brushSVGPath(ha,ua);if(ha instanceof ZRImage)return brushSVGImage(ha,ua);if(ha instanceof TSpan)return brushSVGTSpan(ha,ua)}function setShadow(ha,ua,Sa){var ba=ha.style;if(hasShadow(ba)){var ka=getShadowKey(ha),_y=Sa.shadowCache,Ty=_y[ka];if(!Ty){var Ay=ha.getGlobalScale(),Ey=Ay[0],My=Ay[1];if(!Ey||!My)return;var Dy=ba.shadowOffsetX||0,Iy=ba.shadowOffsetY||0,Ly=ba.shadowBlur,Py=normalizeColor(ba.shadowColor),Ry=Py.opacity,Vy=Py.color,Ny=Ly/2/Ey,By=Ly/2/My,Oy=Ny+" "+By;Ty=Sa.zrId+"-s"+Sa.shadowIdx++,Sa.defs[Ty]=createVNode("filter",Ty,{id:Ty,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:Dy/Ey,dy:Iy/My,stdDeviation:Oy,"flood-color":Vy,"flood-opacity":Ry})]),_y[ka]=Ty}ua.filter=getIdURL(Ty)}}function setGradient(ha,ua,Sa,ba){var ka=ha[Sa],_y,Ty={gradientUnits:ka.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(ka))_y="linearGradient",Ty.x1=ka.x,Ty.y1=ka.y,Ty.x2=ka.x2,Ty.y2=ka.y2;else if(isRadialGradient(ka))_y="radialGradient",Ty.cx=retrieve2(ka.x,.5),Ty.cy=retrieve2(ka.y,.5),Ty.r=retrieve2(ka.r,.5);else return;for(var Ay=ka.colorStops,Ey=[],My=0,Dy=Ay.length;My<Dy;++My){var Iy=round4(Ay[My].offset)*100+"%",Ly=Ay[My].color,Py=normalizeColor(Ly),Ry=Py.color,Vy=Py.opacity,Ny={offset:Iy};Ny["stop-color"]=Ry,Vy<1&&(Ny["stop-opacity"]=Vy),Ey.push(createVNode("stop",My+"",Ny))}var By=createVNode(_y,"",Ty,Ey),Oy=vNodeToString(By),Fy=ba.gradientCache,zy=Fy[Oy];zy||(zy=ba.zrId+"-g"+ba.gradientIdx++,Fy[Oy]=zy,Ty.id=zy,ba.defs[zy]=createVNode(_y,zy,Ty,Ey)),ua[Sa]=getIdURL(zy)}function setPattern(ha,ua,Sa,ba){var ka=ha.style[Sa],_y=ha.getBoundingRect(),Ty={},Ay=ka.repeat,Ey=Ay==="no-repeat",My=Ay==="repeat-x",Dy=Ay==="repeat-y",Iy;if(isImagePattern(ka)){var Ly=ka.imageWidth,Py=ka.imageHeight,Ry=void 0,Vy=ka.image;if(isString(Vy)?Ry=Vy:isImageLike(Vy)?Ry=Vy.src:isCanvasLike(Vy)&&(Ry=Vy.toDataURL()),typeof Image>"u"){var Ny="Image width/height must been given explictly in svg-ssr renderer.";assert(Ly,Ny),assert(Py,Ny)}else if(Ly==null||Py==null){var By=function(jy,Ky){if(jy){var Xy=jy.elm,Zy=Ly||Ky.width,Jy=Py||Ky.height;jy.tag==="pattern"&&(My?(Jy=1,Zy/=_y.width):Dy&&(Zy=1,Jy/=_y.height)),jy.attrs.width=Zy,jy.attrs.height=Jy,Xy&&(Xy.setAttribute("width",Zy),Xy.setAttribute("height",Jy))}},Oy=createOrUpdateImage(Ry,null,ha,function(jy){Ey||By(Gy,jy),By(Iy,jy)});Oy&&Oy.width&&Oy.height&&(Ly=Ly||Oy.width,Py=Py||Oy.height)}Iy=createVNode("image","img",{href:Ry,width:Ly,height:Py}),Ty.width=Ly,Ty.height=Py}else ka.svgElement&&(Iy=clone$4(ka.svgElement),Ty.width=ka.svgWidth,Ty.height=ka.svgHeight);if(Iy){var Fy,zy;Ey?Fy=zy=1:My?(zy=1,Fy=Ty.width/_y.width):Dy?(Fy=1,zy=Ty.height/_y.height):Ty.patternUnits="userSpaceOnUse",Fy!=null&&!isNaN(Fy)&&(Ty.width=Fy),zy!=null&&!isNaN(zy)&&(Ty.height=zy);var Hy=getSRTTransformString(ka);Hy&&(Ty.patternTransform=Hy);var Gy=createVNode("pattern","",Ty,[Iy]),Wy=vNodeToString(Gy),Uy=ba.patternCache,Yy=Uy[Wy];Yy||(Yy=ba.zrId+"-p"+ba.patternIdx++,Uy[Wy]=Yy,Ty.id=Yy,Gy=ba.defs[Yy]=createVNode("pattern",Yy,Ty,[Iy])),ua[Sa]=getIdURL(Yy)}}function setClipPath(ha,ua,Sa){var ba=Sa.clipPathCache,ka=Sa.defs,_y=ba[ha.id];if(!_y){_y=Sa.zrId+"-c"+Sa.clipPathIdx++;var Ty={id:_y};ba[ha.id]=_y,ka[_y]=createVNode("clipPath",_y,Ty,[brushSVGPath(ha,Sa)])}ua["clip-path"]=getIdURL(_y)}function createTextNode(ha){return document.createTextNode(ha)}function insertBefore(ha,ua,Sa){ha.insertBefore(ua,Sa)}function removeChild(ha,ua){ha.removeChild(ua)}function appendChild(ha,ua){ha.appendChild(ua)}function parentNode(ha){return ha.parentNode}function nextSibling(ha){return ha.nextSibling}function setTextContent(ha,ua){ha.textContent=ua}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(ha){return ha===void 0}function isDef(ha){return ha!==void 0}function createKeyToOldIdx(ha,ua,Sa){for(var ba={},ka=ua;ka<=Sa;++ka){var _y=ha[ka].key;_y!==void 0&&(ba[_y]=ka)}return ba}function sameVnode(ha,ua){var Sa=ha.key===ua.key,ba=ha.tag===ua.tag;return ba&&Sa}function createElm(ha){var ua,Sa=ha.children,ba=ha.tag;if(isDef(ba)){var ka=ha.elm=createElement(ba);if(updateAttrs(emptyNode,ha),isArray$1(Sa))for(ua=0;ua<Sa.length;++ua){var _y=Sa[ua];_y!=null&&appendChild(ka,createElm(_y))}else isDef(ha.text)&&!isObject$3(ha.text)&&appendChild(ka,createTextNode(ha.text))}else ha.elm=createTextNode(ha.text);return ha.elm}function addVnodes(ha,ua,Sa,ba,ka){for(;ba<=ka;++ba){var _y=Sa[ba];_y!=null&&insertBefore(ha,createElm(_y),ua)}}function removeVnodes(ha,ua,Sa,ba){for(;Sa<=ba;++Sa){var ka=ua[Sa];if(ka!=null)if(isDef(ka.tag)){var _y=parentNode(ka.elm);removeChild(_y,ka.elm)}else removeChild(ha,ka.elm)}}function updateAttrs(ha,ua){var Sa,ba=ua.elm,ka=ha&&ha.attrs||{},_y=ua.attrs||{};if(ka!==_y){for(Sa in _y){var Ty=_y[Sa],Ay=ka[Sa];Ay!==Ty&&(Ty===!0?ba.setAttribute(Sa,""):Ty===!1?ba.removeAttribute(Sa):Sa==="style"?ba.style.cssText=Ty:Sa.charCodeAt(0)!==xChar?ba.setAttribute(Sa,Ty):Sa==="xmlns:xlink"||Sa==="xmlns"?ba.setAttributeNS(XMLNS,Sa,Ty):Sa.charCodeAt(3)===colonChar?ba.setAttributeNS(XML_NAMESPACE,Sa,Ty):Sa.charCodeAt(5)===colonChar?ba.setAttributeNS(XLINKNS,Sa,Ty):ba.setAttribute(Sa,Ty))}for(Sa in ka)Sa in _y||ba.removeAttribute(Sa)}}function updateChildren(ha,ua,Sa){for(var ba=0,ka=0,_y=ua.length-1,Ty=ua[0],Ay=ua[_y],Ey=Sa.length-1,My=Sa[0],Dy=Sa[Ey],Iy,Ly,Py,Ry;ba<=_y&&ka<=Ey;)Ty==null?Ty=ua[++ba]:Ay==null?Ay=ua[--_y]:My==null?My=Sa[++ka]:Dy==null?Dy=Sa[--Ey]:sameVnode(Ty,My)?(patchVnode(Ty,My),Ty=ua[++ba],My=Sa[++ka]):sameVnode(Ay,Dy)?(patchVnode(Ay,Dy),Ay=ua[--_y],Dy=Sa[--Ey]):sameVnode(Ty,Dy)?(patchVnode(Ty,Dy),insertBefore(ha,Ty.elm,nextSibling(Ay.elm)),Ty=ua[++ba],Dy=Sa[--Ey]):sameVnode(Ay,My)?(patchVnode(Ay,My),insertBefore(ha,Ay.elm,Ty.elm),Ay=ua[--_y],My=Sa[++ka]):(isUndef(Iy)&&(Iy=createKeyToOldIdx(ua,ba,_y)),Ly=Iy[My.key],isUndef(Ly)?insertBefore(ha,createElm(My),Ty.elm):(Py=ua[Ly],Py.tag!==My.tag?insertBefore(ha,createElm(My),Ty.elm):(patchVnode(Py,My),ua[Ly]=void 0,insertBefore(ha,Py.elm,Ty.elm))),My=Sa[++ka]);(ba<=_y||ka<=Ey)&&(ba>_y?(Ry=Sa[Ey+1]==null?null:Sa[Ey+1].elm,addVnodes(ha,Ry,Sa,ka,Ey)):removeVnodes(ha,ua,ba,_y))}function patchVnode(ha,ua){var Sa=ua.elm=ha.elm,ba=ha.children,ka=ua.children;ha!==ua&&(updateAttrs(ha,ua),isUndef(ua.text)?isDef(ba)&&isDef(ka)?ba!==ka&&updateChildren(Sa,ba,ka):isDef(ka)?(isDef(ha.text)&&setTextContent(Sa,""),addVnodes(Sa,null,ka,0,ka.length-1)):isDef(ba)?removeVnodes(Sa,ba,0,ba.length-1):isDef(ha.text)&&setTextContent(Sa,""):ha.text!==ua.text&&(isDef(ba)&&removeVnodes(Sa,ba,0,ba.length-1),setTextContent(Sa,ua.text)))}function patch(ha,ua){if(sameVnode(ha,ua))patchVnode(ha,ua);else{var Sa=ha.elm,ba=parentNode(Sa);createElm(ua),ba!==null&&(insertBefore(ba,ua.elm,nextSibling(Sa)),removeVnodes(ba,[ha],0,0))}return ua}var svgId=0,SVGPainter=function(){function ha(ua,Sa,ba){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=Sa,this._opts=ba=extend({},ba),this.root=ua,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(ba.width,ba.height),ua&&!ba.ssr){var ka=this._viewport=document.createElement("div");ka.style.cssText="position:relative;overflow:hidden";var _y=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),ka.appendChild(_y),ua.appendChild(ka)}this.resize(ba.width,ba.height)}return ha.prototype.getType=function(){return this.type},ha.prototype.getViewportRoot=function(){return this._viewport},ha.prototype.getViewportRootOffset=function(){var ua=this.getViewportRoot();if(ua)return{offsetLeft:ua.offsetLeft||0,offsetTop:ua.offsetTop||0}},ha.prototype.getSvgDom=function(){return this._svgDom},ha.prototype.refresh=function(){if(this.root){var ua=this.renderToVNode({willUpdate:!0});ua.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,ua),this._oldVNode=ua}},ha.prototype.renderOneToVNode=function(ua){return brush(ua,createBrushScope(this._id))},ha.prototype.renderToVNode=function(ua){ua=ua||{};var Sa=this.storage.getDisplayList(!0),ba=this._width,ka=this._height,_y=createBrushScope(this._id);_y.animation=ua.animation,_y.willUpdate=ua.willUpdate,_y.compress=ua.compress,_y.emphasis=ua.emphasis,_y.ssr=this._opts.ssr;var Ty=[],Ay=this._bgVNode=createBackgroundVNode(ba,ka,this._backgroundColor,_y);Ay&&Ty.push(Ay);var Ey=ua.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(Sa,_y,Ey?Ey.children:Ty),Ey&&Ty.push(Ey);var My=map$1(keys(_y.defs),function(Ly){return _y.defs[Ly]});if(My.length&&Ty.push(createVNode("defs","defs",{},My)),ua.animation){var Dy=getCssString(_y.cssNodes,_y.cssAnims,{newline:!0});if(Dy){var Iy=createVNode("style","stl",{},[],Dy);Ty.push(Iy)}}return createSVGVNode(ba,ka,Ty,ua.useViewBox)},ha.prototype.renderToString=function(ua){return ua=ua||{},vNodeToString(this.renderToVNode({animation:retrieve2(ua.cssAnimation,!0),emphasis:retrieve2(ua.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(ua.useViewBox,!0)}),{newline:!0})},ha.prototype.setBackgroundColor=function(ua){this._backgroundColor=ua},ha.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},ha.prototype._paintList=function(ua,Sa,ba){for(var ka=ua.length,_y=[],Ty=0,Ay,Ey,My=0,Dy=0;Dy<ka;Dy++){var Iy=ua[Dy];if(!Iy.invisible){var Ly=Iy.__clipPaths,Py=Ly&&Ly.length||0,Ry=Ey&&Ey.length||0,Vy=void 0;for(Vy=Math.max(Py-1,Ry-1);Vy>=0&&!(Ly&&Ey&&Ly[Vy]===Ey[Vy]);Vy--);for(var Ny=Ry-1;Ny>Vy;Ny--)Ty--,Ay=_y[Ty-1];for(var By=Vy+1;By<Py;By++){var Oy={};setClipPath(Ly[By],Oy,Sa);var Fy=createVNode("g","clip-g-"+My++,Oy,[]);(Ay?Ay.children:ba).push(Fy),_y[Ty++]=Fy,Ay=Fy}Ey=Ly;var zy=brush(Iy,Sa);zy&&(Ay?Ay.children:ba).push(zy)}}},ha.prototype.resize=function(ua,Sa){var ba=this._opts,ka=this.root,_y=this._viewport;if(ua!=null&&(ba.width=ua),Sa!=null&&(ba.height=Sa),ka&&_y&&(_y.style.display="none",ua=getSize$1(ka,0,ba),Sa=getSize$1(ka,1,ba),_y.style.display=""),this._width!==ua||this._height!==Sa){if(this._width=ua,this._height=Sa,_y){var Ty=_y.style;Ty.width=ua+"px",Ty.height=Sa+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var Ay=this._svgDom;Ay&&(Ay.setAttribute("width",ua),Ay.setAttribute("height",Sa));var Ey=this._bgVNode&&this._bgVNode.elm;Ey&&(Ey.setAttribute("width",ua),Ey.setAttribute("height",Sa))}}},ha.prototype.getWidth=function(){return this._width},ha.prototype.getHeight=function(){return this._height},ha.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},ha.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},ha.prototype.toDataURL=function(ua){var Sa=this.renderToString(),ba="data:image/svg+xml;";return ua?(Sa=encodeBase64(Sa),Sa&&ba+"base64,"+Sa):ba+"charset=UTF-8,"+encodeURIComponent(Sa)},ha}();function createMethodNotSupport(ha){return function(){}}function createBackgroundVNode(ha,ua,Sa,ba){var ka;if(Sa&&Sa!=="none")if(ka=createVNode("rect","bg",{width:ha,height:ua,x:"0",y:"0"}),isGradient(Sa))setGradient({fill:Sa},ka.attrs,"fill",ba);else if(isPattern(Sa))setPattern({style:{fill:Sa},dirty:noop,getBoundingRect:function(){return{width:ha,height:ua}}},ka.attrs,"fill",ba);else{var _y=normalizeColor(Sa),Ty=_y.color,Ay=_y.opacity;ka.attrs.fill=Ty,Ay<1&&(ka.attrs["fill-opacity"]=Ay)}return ka}function install$S(ha){ha.registerPainter("svg",SVGPainter)}function createDom(ha,ua,Sa){var ba=platformApi.createCanvas(),ka=ua.getWidth(),_y=ua.getHeight(),Ty=ba.style;return Ty&&(Ty.position="absolute",Ty.left="0",Ty.top="0",Ty.width=ka+"px",Ty.height=_y+"px",ba.setAttribute("data-zr-dom-id",ha)),ba.width=ka*Sa,ba.height=_y*Sa,ba}var Layer=function(ha){__extends(ua,ha);function ua(Sa,ba,ka){var _y=ha.call(this)||this;_y.motionBlur=!1,_y.lastFrameAlpha=.7,_y.dpr=1,_y.virtual=!1,_y.config={},_y.incremental=!1,_y.zlevel=0,_y.maxRepaintRectCount=5,_y.__dirty=!0,_y.__firstTimePaint=!0,_y.__used=!1,_y.__drawIndex=0,_y.__startIndex=0,_y.__endIndex=0,_y.__prevStartIndex=null,_y.__prevEndIndex=null;var Ty;ka=ka||devicePixelRatio,typeof Sa=="string"?Ty=createDom(Sa,ba,ka):isObject$3(Sa)&&(Ty=Sa,Sa=Ty.id),_y.id=Sa,_y.dom=Ty;var Ay=Ty.style;return Ay&&(disableUserSelect(Ty),Ty.onselectstart=function(){return!1},Ay.padding="0",Ay.margin="0",Ay.borderWidth="0"),_y.painter=ba,_y.dpr=ka,_y}return ua.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},ua.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},ua.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},ua.prototype.setUnpainted=function(){this.__firstTimePaint=!0},ua.prototype.createBackBuffer=function(){var Sa=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,Sa),this.ctxBack=this.domBack.getContext("2d"),Sa!==1&&this.ctxBack.scale(Sa,Sa)},ua.prototype.createRepaintRects=function(Sa,ba,ka,_y){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var Ty=[],Ay=this.maxRepaintRectCount,Ey=!1,My=new BoundingRect(0,0,0,0);function Dy(Oy){if(!(!Oy.isFinite()||Oy.isZero()))if(Ty.length===0){var Fy=new BoundingRect(0,0,0,0);Fy.copy(Oy),Ty.push(Fy)}else{for(var zy=!1,Hy=1/0,Gy=0,Wy=0;Wy<Ty.length;++Wy){var Uy=Ty[Wy];if(Uy.intersect(Oy)){var Yy=new BoundingRect(0,0,0,0);Yy.copy(Uy),Yy.union(Oy),Ty[Wy]=Yy,zy=!0;break}else if(Ey){My.copy(Oy),My.union(Uy);var jy=Oy.width*Oy.height,Ky=Uy.width*Uy.height,Xy=My.width*My.height,Zy=Xy-jy-Ky;Zy<Hy&&(Hy=Zy,Gy=Wy)}}if(Ey&&(Ty[Gy].union(Oy),zy=!0),!zy){var Fy=new BoundingRect(0,0,0,0);Fy.copy(Oy),Ty.push(Fy)}Ey||(Ey=Ty.length>=Ay)}}for(var Iy=this.__startIndex;Iy<this.__endIndex;++Iy){var Ly=Sa[Iy];if(Ly){var Py=Ly.shouldBePainted(ka,_y,!0,!0),Ry=Ly.__isRendered&&(Ly.__dirty&REDRAW_BIT||!Py)?Ly.getPrevPaintRect():null;Ry&&Dy(Ry);var Vy=Py&&(Ly.__dirty&REDRAW_BIT||!Ly.__isRendered)?Ly.getPaintRect():null;Vy&&Dy(Vy)}}for(var Iy=this.__prevStartIndex;Iy<this.__prevEndIndex;++Iy){var Ly=ba[Iy],Py=Ly&&Ly.shouldBePainted(ka,_y,!0,!0);if(Ly&&(!Py||!Ly.__zr)&&Ly.__isRendered){var Ry=Ly.getPrevPaintRect();Ry&&Dy(Ry)}}var Ny;do{Ny=!1;for(var Iy=0;Iy<Ty.length;){if(Ty[Iy].isZero()){Ty.splice(Iy,1);continue}for(var By=Iy+1;By<Ty.length;)Ty[Iy].intersect(Ty[By])?(Ny=!0,Ty[Iy].union(Ty[By]),Ty.splice(By,1)):By++;Iy++}}while(Ny);return this._paintRects=Ty,Ty},ua.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},ua.prototype.resize=function(Sa,ba){var ka=this.dpr,_y=this.dom,Ty=_y.style,Ay=this.domBack;Ty&&(Ty.width=Sa+"px",Ty.height=ba+"px"),_y.width=Sa*ka,_y.height=ba*ka,Ay&&(Ay.width=Sa*ka,Ay.height=ba*ka,ka!==1&&this.ctxBack.scale(ka,ka))},ua.prototype.clear=function(Sa,ba,ka){var _y=this.dom,Ty=this.ctx,Ay=_y.width,Ey=_y.height;ba=ba||this.clearColor;var My=this.motionBlur&&!Sa,Dy=this.lastFrameAlpha,Iy=this.dpr,Ly=this;My&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(_y,0,0,Ay/Iy,Ey/Iy));var Py=this.domBack;function Ry(Vy,Ny,By,Oy){if(Ty.clearRect(Vy,Ny,By,Oy),ba&&ba!=="transparent"){var Fy=void 0;if(isGradientObject(ba)){var zy=ba.global||ba.__width===By&&ba.__height===Oy;Fy=zy&&ba.__canvasGradient||getCanvasGradient(Ty,ba,{x:0,y:0,width:By,height:Oy}),ba.__canvasGradient=Fy,ba.__width=By,ba.__height=Oy}else isImagePatternObject(ba)&&(ba.scaleX=ba.scaleX||Iy,ba.scaleY=ba.scaleY||Iy,Fy=createCanvasPattern(Ty,ba,{dirty:function(){Ly.setUnpainted(),Ly.painter.refresh()}}));Ty.save(),Ty.fillStyle=Fy||ba,Ty.fillRect(Vy,Ny,By,Oy),Ty.restore()}My&&(Ty.save(),Ty.globalAlpha=Dy,Ty.drawImage(Py,Vy,Ny,By,Oy),Ty.restore())}!ka||My?Ry(0,0,Ay,Ey):ka.length&&each$f(ka,function(Vy){Ry(Vy.x*Iy,Vy.y*Iy,Vy.width*Iy,Vy.height*Iy)})},ua}(Eventful),HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(ha){return ha?ha.__builtin__?!0:!(typeof ha.resize!="function"||typeof ha.refresh!="function"):!1}function createRoot(ha,ua){var Sa=document.createElement("div");return Sa.style.cssText=["position:relative","width:"+ha+"px","height:"+ua+"px","padding:0","margin:0","border-width:0"].join(";")+";",Sa}var CanvasPainter=function(){function ha(ua,Sa,ba,ka){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var _y=!ua.nodeName||ua.nodeName.toUpperCase()==="CANVAS";this._opts=ba=extend({},ba||{}),this.dpr=ba.devicePixelRatio||devicePixelRatio,this._singleCanvas=_y,this.root=ua;var Ty=ua.style;Ty&&(disableUserSelect(ua),ua.innerHTML=""),this.storage=Sa;var Ay=this._zlevelList;this._prevDisplayList=[];var Ey=this._layers;if(_y){var Dy=ua,Iy=Dy.width,Ly=Dy.height;ba.width!=null&&(Iy=ba.width),ba.height!=null&&(Ly=ba.height),this.dpr=ba.devicePixelRatio||1,Dy.width=Iy*this.dpr,Dy.height=Ly*this.dpr,this._width=Iy,this._height=Ly;var Py=new Layer(Dy,this,this.dpr);Py.__builtin__=!0,Py.initContext(),Ey[CANVAS_ZLEVEL]=Py,Py.zlevel=CANVAS_ZLEVEL,Ay.push(CANVAS_ZLEVEL),this._domRoot=ua}else{this._width=getSize$1(ua,0,ba),this._height=getSize$1(ua,1,ba);var My=this._domRoot=createRoot(this._width,this._height);ua.appendChild(My)}}return ha.prototype.getType=function(){return"canvas"},ha.prototype.isSingleCanvas=function(){return this._singleCanvas},ha.prototype.getViewportRoot=function(){return this._domRoot},ha.prototype.getViewportRootOffset=function(){var ua=this.getViewportRoot();if(ua)return{offsetLeft:ua.offsetLeft||0,offsetTop:ua.offsetTop||0}},ha.prototype.refresh=function(ua){var Sa=this.storage.getDisplayList(!0),ba=this._prevDisplayList,ka=this._zlevelList;this._redrawId=Math.random(),this._paintList(Sa,ba,ua,this._redrawId);for(var _y=0;_y<ka.length;_y++){var Ty=ka[_y],Ay=this._layers[Ty];if(!Ay.__builtin__&&Ay.refresh){var Ey=_y===0?this._backgroundColor:null;Ay.refresh(Ey)}}return this._opts.useDirtyRect&&(this._prevDisplayList=Sa.slice()),this},ha.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},ha.prototype._paintHoverList=function(ua){var Sa=ua.length,ba=this._hoverlayer;if(ba&&ba.clear(),!!Sa){for(var ka={inHover:!0,viewWidth:this._width,viewHeight:this._height},_y,Ty=0;Ty<Sa;Ty++){var Ay=ua[Ty];Ay.__inHover&&(ba||(ba=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),_y||(_y=ba.ctx,_y.save()),brush$1(_y,Ay,ka,Ty===Sa-1))}_y&&_y.restore()}},ha.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},ha.prototype.paintOne=function(ua,Sa){brushSingle(ua,Sa)},ha.prototype._paintList=function(ua,Sa,ba,ka){if(this._redrawId===ka){ba=ba||!1,this._updateLayerStatus(ua);var _y=this._doPaintList(ua,Sa,ba),Ty=_y.finished,Ay=_y.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),Ay&&this._paintHoverList(ua),Ty)this.eachLayer(function(My){My.afterBrush&&My.afterBrush()});else{var Ey=this;requestAnimationFrame$1(function(){Ey._paintList(ua,Sa,ba,ka)})}}},ha.prototype._compositeManually=function(){var ua=this.getLayer(CANVAS_ZLEVEL).ctx,Sa=this._domRoot.width,ba=this._domRoot.height;ua.clearRect(0,0,Sa,ba),this.eachBuiltinLayer(function(ka){ka.virtual&&ua.drawImage(ka.dom,0,0,Sa,ba)})},ha.prototype._doPaintList=function(ua,Sa,ba){for(var ka=this,_y=[],Ty=this._opts.useDirtyRect,Ay=0;Ay<this._zlevelList.length;Ay++){var Ey=this._zlevelList[Ay],My=this._layers[Ey];My.__builtin__&&My!==this._hoverlayer&&(My.__dirty||ba)&&_y.push(My)}for(var Dy=!0,Iy=!1,Ly=function(Vy){var Ny=_y[Vy],By=Ny.ctx,Oy=Ty&&Ny.createRepaintRects(ua,Sa,Py._width,Py._height),Fy=ba?Ny.__startIndex:Ny.__drawIndex,zy=!ba&&Ny.incremental&&Date.now,Hy=zy&&Date.now(),Gy=Ny.zlevel===Py._zlevelList[0]?Py._backgroundColor:null;if(Ny.__startIndex===Ny.__endIndex)Ny.clear(!1,Gy,Oy);else if(Fy===Ny.__startIndex){var Wy=ua[Fy];(!Wy.incremental||!Wy.notClear||ba)&&Ny.clear(!1,Gy,Oy)}Fy===-1&&(console.error("For some unknown reason. drawIndex is -1"),Fy=Ny.__startIndex);var Uy,Yy=function(Zy){var Jy={inHover:!1,allClipped:!1,prevEl:null,viewWidth:ka._width,viewHeight:ka._height};for(Uy=Fy;Uy<Ny.__endIndex;Uy++){var t_=ua[Uy];if(t_.__inHover&&(Iy=!0),ka._doPaintEl(t_,Ny,Ty,Zy,Jy,Uy===Ny.__endIndex-1),zy){var Qy=Date.now()-Hy;if(Qy>15)break}}Jy.prevElClipPaths&&By.restore()};if(Oy)if(Oy.length===0)Uy=Ny.__endIndex;else for(var jy=Py.dpr,Ky=0;Ky<Oy.length;++Ky){var Xy=Oy[Ky];By.save(),By.beginPath(),By.rect(Xy.x*jy,Xy.y*jy,Xy.width*jy,Xy.height*jy),By.clip(),Yy(Xy),By.restore()}else By.save(),Yy(),By.restore();Ny.__drawIndex=Uy,Ny.__drawIndex<Ny.__endIndex&&(Dy=!1)},Py=this,Ry=0;Ry<_y.length;Ry++)Ly(Ry);return env.wxa&&each$f(this._layers,function(Vy){Vy&&Vy.ctx&&Vy.ctx.draw&&Vy.ctx.draw()}),{finished:Dy,needsRefreshHover:Iy}},ha.prototype._doPaintEl=function(ua,Sa,ba,ka,_y,Ty){var Ay=Sa.ctx;if(ba){var Ey=ua.getPaintRect();(!ka||Ey&&Ey.intersect(ka))&&(brush$1(Ay,ua,_y,Ty),ua.setPrevPaintRect(Ey))}else brush$1(Ay,ua,_y,Ty)},ha.prototype.getLayer=function(ua,Sa){this._singleCanvas&&!this._needsManuallyCompositing&&(ua=CANVAS_ZLEVEL);var ba=this._layers[ua];return ba||(ba=new Layer("zr_"+ua,this,this.dpr),ba.zlevel=ua,ba.__builtin__=!0,this._layerConfig[ua]?merge(ba,this._layerConfig[ua],!0):this._layerConfig[ua-EL_AFTER_INCREMENTAL_INC]&&merge(ba,this._layerConfig[ua-EL_AFTER_INCREMENTAL_INC],!0),Sa&&(ba.virtual=Sa),this.insertLayer(ua,ba),ba.initContext()),ba},ha.prototype.insertLayer=function(ua,Sa){var ba=this._layers,ka=this._zlevelList,_y=ka.length,Ty=this._domRoot,Ay=null,Ey=-1;if(!ba[ua]&&isLayerValid(Sa)){if(_y>0&&ua>ka[0]){for(Ey=0;Ey<_y-1&&!(ka[Ey]<ua&&ka[Ey+1]>ua);Ey++);Ay=ba[ka[Ey]]}if(ka.splice(Ey+1,0,ua),ba[ua]=Sa,!Sa.virtual)if(Ay){var My=Ay.dom;My.nextSibling?Ty.insertBefore(Sa.dom,My.nextSibling):Ty.appendChild(Sa.dom)}else Ty.firstChild?Ty.insertBefore(Sa.dom,Ty.firstChild):Ty.appendChild(Sa.dom);Sa.painter||(Sa.painter=this)}},ha.prototype.eachLayer=function(ua,Sa){for(var ba=this._zlevelList,ka=0;ka<ba.length;ka++){var _y=ba[ka];ua.call(Sa,this._layers[_y],_y)}},ha.prototype.eachBuiltinLayer=function(ua,Sa){for(var ba=this._zlevelList,ka=0;ka<ba.length;ka++){var _y=ba[ka],Ty=this._layers[_y];Ty.__builtin__&&ua.call(Sa,Ty,_y)}},ha.prototype.eachOtherLayer=function(ua,Sa){for(var ba=this._zlevelList,ka=0;ka<ba.length;ka++){var _y=ba[ka],Ty=this._layers[_y];Ty.__builtin__||ua.call(Sa,Ty,_y)}},ha.prototype.getLayers=function(){return this._layers},ha.prototype._updateLayerStatus=function(ua){this.eachBuiltinLayer(function(Iy,Ly){Iy.__dirty=Iy.__used=!1});function Sa(Iy){_y&&(_y.__endIndex!==Iy&&(_y.__dirty=!0),_y.__endIndex=Iy)}if(this._singleCanvas)for(var ba=1;ba<ua.length;ba++){var ka=ua[ba];if(ka.zlevel!==ua[ba-1].zlevel||ka.incremental){this._needsManuallyCompositing=!0;break}}var _y=null,Ty=0,Ay,Ey;for(Ey=0;Ey<ua.length;Ey++){var ka=ua[Ey],My=ka.zlevel,Dy=void 0;Ay!==My&&(Ay=My,Ty=0),ka.incremental?(Dy=this.getLayer(My+INCREMENTAL_INC,this._needsManuallyCompositing),Dy.incremental=!0,Ty=1):Dy=this.getLayer(My+(Ty>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),Dy.__builtin__||logError("ZLevel "+My+" has been used by unkown layer "+Dy.id),Dy!==_y&&(Dy.__used=!0,Dy.__startIndex!==Ey&&(Dy.__dirty=!0),Dy.__startIndex=Ey,Dy.incremental?Dy.__drawIndex=-1:Dy.__drawIndex=Ey,Sa(Ey),_y=Dy),ka.__dirty&REDRAW_BIT&&!ka.__inHover&&(Dy.__dirty=!0,Dy.incremental&&Dy.__drawIndex<0&&(Dy.__drawIndex=Ey))}Sa(Ey),this.eachBuiltinLayer(function(Iy,Ly){!Iy.__used&&Iy.getElementCount()>0&&(Iy.__dirty=!0,Iy.__startIndex=Iy.__endIndex=Iy.__drawIndex=0),Iy.__dirty&&Iy.__drawIndex<0&&(Iy.__drawIndex=Iy.__startIndex)})},ha.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},ha.prototype._clearLayer=function(ua){ua.clear()},ha.prototype.setBackgroundColor=function(ua){this._backgroundColor=ua,each$f(this._layers,function(Sa){Sa.setUnpainted()})},ha.prototype.configLayer=function(ua,Sa){if(Sa){var ba=this._layerConfig;ba[ua]?merge(ba[ua],Sa,!0):ba[ua]=Sa;for(var ka=0;ka<this._zlevelList.length;ka++){var _y=this._zlevelList[ka];if(_y===ua||_y===ua+EL_AFTER_INCREMENTAL_INC){var Ty=this._layers[_y];merge(Ty,ba[ua],!0)}}}},ha.prototype.delLayer=function(ua){var Sa=this._layers,ba=this._zlevelList,ka=Sa[ua];ka&&(ka.dom.parentNode.removeChild(ka.dom),delete Sa[ua],ba.splice(indexOf(ba,ua),1))},ha.prototype.resize=function(ua,Sa){if(this._domRoot.style){var ba=this._domRoot;ba.style.display="none";var ka=this._opts,_y=this.root;if(ua!=null&&(ka.width=ua),Sa!=null&&(ka.height=Sa),ua=getSize$1(_y,0,ka),Sa=getSize$1(_y,1,ka),ba.style.display="",this._width!==ua||Sa!==this._height){ba.style.width=ua+"px",ba.style.height=Sa+"px";for(var Ty in this._layers)this._layers.hasOwnProperty(Ty)&&this._layers[Ty].resize(ua,Sa);this.refresh(!0)}this._width=ua,this._height=Sa}else{if(ua==null||Sa==null)return;this._width=ua,this._height=Sa,this.getLayer(CANVAS_ZLEVEL).resize(ua,Sa)}return this},ha.prototype.clearLayer=function(ua){var Sa=this._layers[ua];Sa&&Sa.clear()},ha.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},ha.prototype.getRenderedCanvas=function(ua){if(ua=ua||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var Sa=new Layer("image",this,ua.pixelRatio||this.dpr);Sa.initContext(),Sa.clear(!1,ua.backgroundColor||this._backgroundColor);var ba=Sa.ctx;if(ua.pixelRatio<=this.dpr){this.refresh();var ka=Sa.dom.width,_y=Sa.dom.height;this.eachLayer(function(Iy){Iy.__builtin__?ba.drawImage(Iy.dom,0,0,ka,_y):Iy.renderToCanvas&&(ba.save(),Iy.renderToCanvas(ba),ba.restore())})}else for(var Ty={inHover:!1,viewWidth:this._width,viewHeight:this._height},Ay=this.storage.getDisplayList(!0),Ey=0,My=Ay.length;Ey<My;Ey++){var Dy=Ay[Ey];brush$1(ba,Dy,Ty,Ey===My-1)}return Sa.dom},ha.prototype.getWidth=function(){return this._width},ha.prototype.getHeight=function(){return this._height},ha}();function install$R(ha){ha.registerPainter("canvas",CanvasPainter)}var LineSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.hasSymbolVisual=!0,Sa}return ua.prototype.getInitialData=function(Sa){return createSeriesData(null,this,{useEncodeDefaulter:!0})},ua.prototype.getLegendIcon=function(Sa){var ba=new Group$3,ka=createSymbol$1("line",0,Sa.itemHeight/2,Sa.itemWidth,0,Sa.lineStyle.stroke,!1);ba.add(ka),ka.setStyle(Sa.lineStyle);var _y=this.getData().getVisual("symbol"),Ty=this.getData().getVisual("symbolRotate"),Ay=_y==="none"?"circle":_y,Ey=Sa.itemHeight*.8,My=createSymbol$1(Ay,(Sa.itemWidth-Ey)/2,(Sa.itemHeight-Ey)/2,Ey,Ey,Sa.itemStyle.fill);ba.add(My),My.setStyle(Sa.itemStyle);var Dy=Sa.iconRotate==="inherit"?Ty:Sa.iconRotate||0;return My.rotation=Dy*Math.PI/180,My.setOrigin([Sa.itemWidth/2,Sa.itemHeight/2]),Ay.indexOf("empty")>-1&&(My.style.stroke=My.style.fill,My.style.fill="#fff",My.style.lineWidth=2),ba},ua.type="series.line",ua.dependencies=["grid","polar"],ua.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},ua}(SeriesModel);function getDefaultLabel(ha,ua){var Sa=ha.mapDimensionsAll("defaultedLabel"),ba=Sa.length;if(ba===1){var ka=retrieveRawValue(ha,ua,Sa[0]);return ka!=null?ka+"":null}else if(ba){for(var _y=[],Ty=0;Ty<Sa.length;Ty++)_y.push(retrieveRawValue(ha,ua,Sa[Ty]));return _y.join(" ")}}function getDefaultInterpolatedLabel(ha,ua){var Sa=ha.mapDimensionsAll("defaultedLabel");if(!isArray$1(ua))return ua+"";for(var ba=[],ka=0;ka<Sa.length;ka++){var _y=ha.getDimensionIndex(Sa[ka]);_y>=0&&ba.push(ua[_y])}return ba.join(" ")}var Symbol$1=function(ha){__extends(ua,ha);function ua(Sa,ba,ka,_y){var Ty=ha.call(this)||this;return Ty.updateData(Sa,ba,ka,_y),Ty}return ua.prototype._createSymbol=function(Sa,ba,ka,_y,Ty){this.removeAll();var Ay=createSymbol$1(Sa,-1,-1,2,2,null,Ty);Ay.attr({z2:100,culling:!0,scaleX:_y[0]/2,scaleY:_y[1]/2}),Ay.drift=driftSymbol,this._symbolType=Sa,this.add(Ay)},ua.prototype.stopSymbolAnimation=function(Sa){this.childAt(0).stopAnimation(null,Sa)},ua.prototype.getSymbolType=function(){return this._symbolType},ua.prototype.getSymbolPath=function(){return this.childAt(0)},ua.prototype.highlight=function(){enterEmphasis(this.childAt(0))},ua.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},ua.prototype.setZ=function(Sa,ba){var ka=this.childAt(0);ka.zlevel=Sa,ka.z=ba},ua.prototype.setDraggable=function(Sa,ba){var ka=this.childAt(0);ka.draggable=Sa,ka.cursor=!ba&&Sa?"move":ka.cursor},ua.prototype.updateData=function(Sa,ba,ka,_y){this.silent=!1;var Ty=Sa.getItemVisual(ba,"symbol")||"circle",Ay=Sa.hostModel,Ey=ua.getSymbolSize(Sa,ba),My=Ty!==this._symbolType,Dy=_y&&_y.disableAnimation;if(My){var Iy=Sa.getItemVisual(ba,"symbolKeepAspect");this._createSymbol(Ty,Sa,ba,Ey,Iy)}else{var Ly=this.childAt(0);Ly.silent=!1;var Py={scaleX:Ey[0]/2,scaleY:Ey[1]/2};Dy?Ly.attr(Py):updateProps$1(Ly,Py,Ay,ba),saveOldStyle(Ly)}if(this._updateCommon(Sa,ba,Ey,ka,_y),My){var Ly=this.childAt(0);if(!Dy){var Py={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:Ly.style.opacity}};Ly.scaleX=Ly.scaleY=0,Ly.style.opacity=0,initProps(Ly,Py,Ay,ba)}}Dy&&this.childAt(0).stopAnimation("leave")},ua.prototype._updateCommon=function(Sa,ba,ka,_y,Ty){var Ay=this.childAt(0),Ey=Sa.hostModel,My,Dy,Iy,Ly,Py,Ry,Vy,Ny,By;if(_y&&(My=_y.emphasisItemStyle,Dy=_y.blurItemStyle,Iy=_y.selectItemStyle,Ly=_y.focus,Py=_y.blurScope,Vy=_y.labelStatesModels,Ny=_y.hoverScale,By=_y.cursorStyle,Ry=_y.emphasisDisabled),!_y||Sa.hasItemOption){var Oy=_y&&_y.itemModel?_y.itemModel:Sa.getItemModel(ba),Fy=Oy.getModel("emphasis");My=Fy.getModel("itemStyle").getItemStyle(),Iy=Oy.getModel(["select","itemStyle"]).getItemStyle(),Dy=Oy.getModel(["blur","itemStyle"]).getItemStyle(),Ly=Fy.get("focus"),Py=Fy.get("blurScope"),Ry=Fy.get("disabled"),Vy=getLabelStatesModels(Oy),Ny=Fy.getShallow("scale"),By=Oy.getShallow("cursor")}var zy=Sa.getItemVisual(ba,"symbolRotate");Ay.attr("rotation",(zy||0)*Math.PI/180||0);var Hy=normalizeSymbolOffset(Sa.getItemVisual(ba,"symbolOffset"),ka);Hy&&(Ay.x=Hy[0],Ay.y=Hy[1]),By&&Ay.attr("cursor",By);var Gy=Sa.getItemVisual(ba,"style"),Wy=Gy.fill;if(Ay instanceof ZRImage){var Uy=Ay.style;Ay.useStyle(extend({image:Uy.image,x:Uy.x,y:Uy.y,width:Uy.width,height:Uy.height},Gy))}else Ay.__isEmptyBrush?Ay.useStyle(extend({},Gy)):Ay.useStyle(Gy),Ay.style.decal=null,Ay.setColor(Wy,Ty&&Ty.symbolInnerColor),Ay.style.strokeNoScale=!0;var Yy=Sa.getItemVisual(ba,"liftZ"),jy=this._z2;Yy!=null?jy==null&&(this._z2=Ay.z2,Ay.z2+=Yy):jy!=null&&(Ay.z2=jy,this._z2=null);var Ky=Ty&&Ty.useNameLabel;setLabelStyle(Ay,Vy,{labelFetcher:Ey,labelDataIndex:ba,defaultText:Xy,inheritColor:Wy,defaultOpacity:Gy.opacity});function Xy(t_){return Ky?Sa.getName(t_):getDefaultLabel(Sa,t_)}this._sizeX=ka[0]/2,this._sizeY=ka[1]/2;var Zy=Ay.ensureState("emphasis");Zy.style=My,Ay.ensureState("select").style=Iy,Ay.ensureState("blur").style=Dy;var Jy=Ny==null||Ny===!0?Math.max(1.1,3/this._sizeY):isFinite(Ny)&&Ny>0?+Ny:1;Zy.scaleX=this._sizeX*Jy,Zy.scaleY=this._sizeY*Jy,this.setSymbolScale(1),toggleHoverEmphasis(this,Ly,Py,Ry)},ua.prototype.setSymbolScale=function(Sa){this.scaleX=this.scaleY=Sa},ua.prototype.fadeOut=function(Sa,ba,ka){var _y=this.childAt(0),Ty=getECData(this).dataIndex,Ay=ka&&ka.animation;if(this.silent=_y.silent=!0,ka&&ka.fadeLabel){var Ey=_y.getTextContent();Ey&&removeElement(Ey,{style:{opacity:0}},ba,{dataIndex:Ty,removeOpt:Ay,cb:function(){_y.removeTextContent()}})}else _y.removeTextContent();removeElement(_y,{style:{opacity:0},scaleX:0,scaleY:0},ba,{dataIndex:Ty,cb:Sa,removeOpt:Ay})},ua.getSymbolSize=function(Sa,ba){return normalizeSymbolSize(Sa.getItemVisual(ba,"symbolSize"))},ua}(Group$3);function driftSymbol(ha,ua){this.parent.drift(ha,ua)}function symbolNeedsDraw$1(ha,ua,Sa,ba){return ua&&!isNaN(ua[0])&&!isNaN(ua[1])&&!(ba.isIgnore&&ba.isIgnore(Sa))&&!(ba.clipShape&&!ba.clipShape.contain(ua[0],ua[1]))&&ha.getItemVisual(Sa,"symbol")!=="none"}function normalizeUpdateOpt(ha){return ha!=null&&!isObject$3(ha)&&(ha={isIgnore:ha}),ha||{}}function makeSeriesScope$2(ha){var ua=ha.hostModel,Sa=ua.getModel("emphasis");return{emphasisItemStyle:Sa.getModel("itemStyle").getItemStyle(),blurItemStyle:ua.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:ua.getModel(["select","itemStyle"]).getItemStyle(),focus:Sa.get("focus"),blurScope:Sa.get("blurScope"),emphasisDisabled:Sa.get("disabled"),hoverScale:Sa.get("scale"),labelStatesModels:getLabelStatesModels(ua),cursorStyle:ua.get("cursor")}}var SymbolDraw=function(){function ha(ua){this.group=new Group$3,this._SymbolCtor=ua||Symbol$1}return ha.prototype.updateData=function(ua,Sa){this._progressiveEls=null,Sa=normalizeUpdateOpt(Sa);var ba=this.group,ka=ua.hostModel,_y=this._data,Ty=this._SymbolCtor,Ay=Sa.disableAnimation,Ey=makeSeriesScope$2(ua),My={disableAnimation:Ay},Dy=Sa.getSymbolPoint||function(Iy){return ua.getItemLayout(Iy)};_y||ba.removeAll(),ua.diff(_y).add(function(Iy){var Ly=Dy(Iy);if(symbolNeedsDraw$1(ua,Ly,Iy,Sa)){var Py=new Ty(ua,Iy,Ey,My);Py.setPosition(Ly),ua.setItemGraphicEl(Iy,Py),ba.add(Py)}}).update(function(Iy,Ly){var Py=_y.getItemGraphicEl(Ly),Ry=Dy(Iy);if(!symbolNeedsDraw$1(ua,Ry,Iy,Sa)){ba.remove(Py);return}var Vy=ua.getItemVisual(Iy,"symbol")||"circle",Ny=Py&&Py.getSymbolType&&Py.getSymbolType();if(!Py||Ny&&Ny!==Vy)ba.remove(Py),Py=new Ty(ua,Iy,Ey,My),Py.setPosition(Ry);else{Py.updateData(ua,Iy,Ey,My);var By={x:Ry[0],y:Ry[1]};Ay?Py.attr(By):updateProps$1(Py,By,ka)}ba.add(Py),ua.setItemGraphicEl(Iy,Py)}).remove(function(Iy){var Ly=_y.getItemGraphicEl(Iy);Ly&&Ly.fadeOut(function(){ba.remove(Ly)},ka)}).execute(),this._getSymbolPoint=Dy,this._data=ua},ha.prototype.updateLayout=function(){var ua=this,Sa=this._data;Sa&&Sa.eachItemGraphicEl(function(ba,ka){var _y=ua._getSymbolPoint(ka);ba.setPosition(_y),ba.markRedraw()})},ha.prototype.incrementalPrepareUpdate=function(ua){this._seriesScope=makeSeriesScope$2(ua),this._data=null,this.group.removeAll()},ha.prototype.incrementalUpdate=function(ua,Sa,ba){this._progressiveEls=[],ba=normalizeUpdateOpt(ba);function ka(Ey){Ey.isGroup||(Ey.incremental=!0,Ey.ensureState("emphasis").hoverLayer=!0)}for(var _y=ua.start;_y<ua.end;_y++){var Ty=Sa.getItemLayout(_y);if(symbolNeedsDraw$1(Sa,Ty,_y,ba)){var Ay=new this._SymbolCtor(Sa,_y,this._seriesScope);Ay.traverse(ka),Ay.setPosition(Ty),this.group.add(Ay),Sa.setItemGraphicEl(_y,Ay),this._progressiveEls.push(Ay)}}},ha.prototype.eachRendered=function(ua){traverseElements(this._progressiveEls||this.group,ua)},ha.prototype.remove=function(ua){var Sa=this.group,ba=this._data;ba&&ua?ba.eachItemGraphicEl(function(ka){ka.fadeOut(function(){Sa.remove(ka)},ba.hostModel)}):Sa.removeAll()},ha}();function prepareDataCoordInfo(ha,ua,Sa){var ba=ha.getBaseAxis(),ka=ha.getOtherAxis(ba),_y=getValueStart(ka,Sa),Ty=ba.dim,Ay=ka.dim,Ey=ua.mapDimension(Ay),My=ua.mapDimension(Ty),Dy=Ay==="x"||Ay==="radius"?1:0,Iy=map$1(ha.dimensions,function(Ry){return ua.mapDimension(Ry)}),Ly=!1,Py=ua.getCalculationInfo("stackResultDimension");return isDimensionStacked(ua,Iy[0])&&(Ly=!0,Iy[0]=Py),isDimensionStacked(ua,Iy[1])&&(Ly=!0,Iy[1]=Py),{dataDimsForPoint:Iy,valueStart:_y,valueAxisDim:Ay,baseAxisDim:Ty,stacked:!!Ly,valueDim:Ey,baseDim:My,baseDataOffset:Dy,stackedOverDimension:ua.getCalculationInfo("stackedOverDimension")}}function getValueStart(ha,ua){var Sa=0,ba=ha.scale.getExtent();return ua==="start"?Sa=ba[0]:ua==="end"?Sa=ba[1]:isNumber(ua)&&!isNaN(ua)?Sa=ua:ba[0]>0?Sa=ba[0]:ba[1]<0&&(Sa=ba[1]),Sa}function getStackedOnPoint(ha,ua,Sa,ba){var ka=NaN;ha.stacked&&(ka=Sa.get(Sa.getCalculationInfo("stackedOverDimension"),ba)),isNaN(ka)&&(ka=ha.valueStart);var _y=ha.baseDataOffset,Ty=[];return Ty[_y]=Sa.get(ha.baseDim,ba),Ty[1-_y]=ka,ua.dataToPoint(Ty)}function diffData(ha,ua){var Sa=[];return ua.diff(ha).add(function(ba){Sa.push({cmd:"+",idx:ba})}).update(function(ba,ka){Sa.push({cmd:"=",idx:ka,idx1:ba})}).remove(function(ba){Sa.push({cmd:"-",idx:ba})}).execute(),Sa}function lineAnimationDiff(ha,ua,Sa,ba,ka,_y,Ty,Ay){for(var Ey=diffData(ha,ua),My=[],Dy=[],Iy=[],Ly=[],Py=[],Ry=[],Vy=[],Ny=prepareDataCoordInfo(ka,ua,Ty),By=ha.getLayout("points")||[],Oy=ua.getLayout("points")||[],Fy=0;Fy<Ey.length;Fy++){var zy=Ey[Fy],Hy=!0,Gy=void 0,Wy=void 0;switch(zy.cmd){case"=":Gy=zy.idx*2,Wy=zy.idx1*2;var Uy=By[Gy],Yy=By[Gy+1],jy=Oy[Wy],Ky=Oy[Wy+1];(isNaN(Uy)||isNaN(Yy))&&(Uy=jy,Yy=Ky),My.push(Uy,Yy),Dy.push(jy,Ky),Iy.push(Sa[Gy],Sa[Gy+1]),Ly.push(ba[Wy],ba[Wy+1]),Vy.push(ua.getRawIndex(zy.idx1));break;case"+":var Xy=zy.idx,Zy=Ny.dataDimsForPoint,Jy=ka.dataToPoint([ua.get(Zy[0],Xy),ua.get(Zy[1],Xy)]);Wy=Xy*2,My.push(Jy[0],Jy[1]),Dy.push(Oy[Wy],Oy[Wy+1]);var t_=getStackedOnPoint(Ny,ka,ua,Xy);Iy.push(t_[0],t_[1]),Ly.push(ba[Wy],ba[Wy+1]),Vy.push(ua.getRawIndex(Xy));break;case"-":Hy=!1}Hy&&(Py.push(zy),Ry.push(Ry.length))}Ry.sort(function($_,A_){return Vy[$_]-Vy[A_]});for(var Qy=My.length,r_=createFloat32Array(Qy),i_=createFloat32Array(Qy),l_=createFloat32Array(Qy),c_=createFloat32Array(Qy),d_=[],Fy=0;Fy<Ry.length;Fy++){var f_=Ry[Fy],m_=Fy*2,b_=f_*2;r_[m_]=My[b_],r_[m_+1]=My[b_+1],i_[m_]=Dy[b_],i_[m_+1]=Dy[b_+1],l_[m_]=Iy[b_],l_[m_+1]=Iy[b_+1],c_[m_]=Ly[b_],c_[m_+1]=Ly[b_+1],d_[Fy]=Py[f_]}return{current:r_,next:i_,stackedOnCurrent:l_,stackedOnNext:c_,status:d_}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(ha,ua){return isNaN(ha)||isNaN(ua)}function drawSegment(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey){for(var My,Dy,Iy,Ly,Py,Ry,Vy=Sa,Ny=0;Ny<ba;Ny++){var By=ua[Vy*2],Oy=ua[Vy*2+1];if(Vy>=ka||Vy<0)break;if(isPointNull$1(By,Oy)){if(Ey){Vy+=_y;continue}break}if(Vy===Sa)ha[_y>0?"moveTo":"lineTo"](By,Oy),Iy=By,Ly=Oy;else{var Fy=By-My,zy=Oy-Dy;if(Fy*Fy+zy*zy<.5){Vy+=_y;continue}if(Ty>0){for(var Hy=Vy+_y,Gy=ua[Hy*2],Wy=ua[Hy*2+1];Gy===By&&Wy===Oy&&Ny<ba;)Ny++,Hy+=_y,Vy+=_y,Gy=ua[Hy*2],Wy=ua[Hy*2+1],By=ua[Vy*2],Oy=ua[Vy*2+1],Fy=By-My,zy=Oy-Dy;var Uy=Ny+1;if(Ey)for(;isPointNull$1(Gy,Wy)&&Uy<ba;)Uy++,Hy+=_y,Gy=ua[Hy*2],Wy=ua[Hy*2+1];var Yy=.5,jy=0,Ky=0,Xy=void 0,Zy=void 0;if(Uy>=ba||isPointNull$1(Gy,Wy))Py=By,Ry=Oy;else{jy=Gy-My,Ky=Wy-Dy;var Jy=By-My,t_=Gy-By,Qy=Oy-Dy,r_=Wy-Oy,i_=void 0,l_=void 0;if(Ay==="x"){i_=Math.abs(Jy),l_=Math.abs(t_);var c_=jy>0?1:-1;Py=By-c_*i_*Ty,Ry=Oy,Xy=By+c_*l_*Ty,Zy=Oy}else if(Ay==="y"){i_=Math.abs(Qy),l_=Math.abs(r_);var d_=Ky>0?1:-1;Py=By,Ry=Oy-d_*i_*Ty,Xy=By,Zy=Oy+d_*l_*Ty}else i_=Math.sqrt(Jy*Jy+Qy*Qy),l_=Math.sqrt(t_*t_+r_*r_),Yy=l_/(l_+i_),Py=By-jy*Ty*(1-Yy),Ry=Oy-Ky*Ty*(1-Yy),Xy=By+jy*Ty*Yy,Zy=Oy+Ky*Ty*Yy,Xy=mathMin$5(Xy,mathMax$5(Gy,By)),Zy=mathMin$5(Zy,mathMax$5(Wy,Oy)),Xy=mathMax$5(Xy,mathMin$5(Gy,By)),Zy=mathMax$5(Zy,mathMin$5(Wy,Oy)),jy=Xy-By,Ky=Zy-Oy,Py=By-jy*i_/l_,Ry=Oy-Ky*i_/l_,Py=mathMin$5(Py,mathMax$5(My,By)),Ry=mathMin$5(Ry,mathMax$5(Dy,Oy)),Py=mathMax$5(Py,mathMin$5(My,By)),Ry=mathMax$5(Ry,mathMin$5(Dy,Oy)),jy=By-Py,Ky=Oy-Ry,Xy=By+jy*l_/i_,Zy=Oy+Ky*l_/i_}ha.bezierCurveTo(Iy,Ly,Py,Ry,By,Oy),Iy=Xy,Ly=Zy}else ha.lineTo(By,Oy)}My=By,Dy=Oy,Vy+=_y}return Ny}var ECPolylineShape=function(){function ha(){this.smooth=0,this.smoothConstraint=!0}return ha}(),ECPolyline=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba.type="ec-polyline",ba}return ua.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ua.prototype.getDefaultShape=function(){return new ECPolylineShape},ua.prototype.buildPath=function(Sa,ba){var ka=ba.points,_y=0,Ty=ka.length/2;if(ba.connectNulls){for(;Ty>0&&isPointNull$1(ka[Ty*2-2],ka[Ty*2-1]);Ty--);for(;_y<Ty&&isPointNull$1(ka[_y*2],ka[_y*2+1]);_y++);}for(;_y<Ty;)_y+=drawSegment(Sa,ka,_y,Ty,Ty,1,ba.smooth,ba.smoothMonotone,ba.connectNulls)+1},ua.prototype.getPointOn=function(Sa,ba){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var ka=this.path,_y=ka.data,Ty=PathProxy.CMD,Ay,Ey,My=ba==="x",Dy=[],Iy=0;Iy<_y.length;){var Ly=_y[Iy++],Py=void 0,Ry=void 0,Vy=void 0,Ny=void 0,By=void 0,Oy=void 0,Fy=void 0;switch(Ly){case Ty.M:Ay=_y[Iy++],Ey=_y[Iy++];break;case Ty.L:if(Py=_y[Iy++],Ry=_y[Iy++],Fy=My?(Sa-Ay)/(Py-Ay):(Sa-Ey)/(Ry-Ey),Fy<=1&&Fy>=0){var zy=My?(Ry-Ey)*Fy+Ey:(Py-Ay)*Fy+Ay;return My?[Sa,zy]:[zy,Sa]}Ay=Py,Ey=Ry;break;case Ty.C:Py=_y[Iy++],Ry=_y[Iy++],Vy=_y[Iy++],Ny=_y[Iy++],By=_y[Iy++],Oy=_y[Iy++];var Hy=My?cubicRootAt(Ay,Py,Vy,By,Sa,Dy):cubicRootAt(Ey,Ry,Ny,Oy,Sa,Dy);if(Hy>0)for(var Gy=0;Gy<Hy;Gy++){var Wy=Dy[Gy];if(Wy<=1&&Wy>=0){var zy=My?cubicAt(Ey,Ry,Ny,Oy,Wy):cubicAt(Ay,Py,Vy,By,Wy);return My?[Sa,zy]:[zy,Sa]}}Ay=By,Ey=Oy;break}}},ua}(Path),ECPolygonShape=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua}(ECPolylineShape),ECPolygon=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba.type="ec-polygon",ba}return ua.prototype.getDefaultShape=function(){return new ECPolygonShape},ua.prototype.buildPath=function(Sa,ba){var ka=ba.points,_y=ba.stackedOnPoints,Ty=0,Ay=ka.length/2,Ey=ba.smoothMonotone;if(ba.connectNulls){for(;Ay>0&&isPointNull$1(ka[Ay*2-2],ka[Ay*2-1]);Ay--);for(;Ty<Ay&&isPointNull$1(ka[Ty*2],ka[Ty*2+1]);Ty++);}for(;Ty<Ay;){var My=drawSegment(Sa,ka,Ty,Ay,Ay,1,ba.smooth,Ey,ba.connectNulls);drawSegment(Sa,_y,Ty+My-1,My,Ay,-1,ba.stackedOnSmooth,Ey,ba.connectNulls),Ty+=My+1,Sa.closePath()}},ua}(Path);function createGridClipPath(ha,ua,Sa,ba,ka){var _y=ha.getArea(),Ty=_y.x,Ay=_y.y,Ey=_y.width,My=_y.height,Dy=Sa.get(["lineStyle","width"])||0;Ty-=Dy/2,Ay-=Dy/2,Ey+=Dy,My+=Dy,Ey=Math.ceil(Ey),Ty!==Math.floor(Ty)&&(Ty=Math.floor(Ty),Ey++);var Iy=new Rect$2({shape:{x:Ty,y:Ay,width:Ey,height:My}});if(ua){var Ly=ha.getBaseAxis(),Py=Ly.isHorizontal(),Ry=Ly.inverse;Py?(Ry&&(Iy.shape.x+=Ey),Iy.shape.width=0):(Ry||(Iy.shape.y+=My),Iy.shape.height=0);var Vy=isFunction(ka)?function(Ny){ka(Ny,Iy)}:null;initProps(Iy,{shape:{width:Ey,height:My,x:Ty,y:Ay}},Sa,null,ba,Vy)}return Iy}function createPolarClipPath(ha,ua,Sa){var ba=ha.getArea(),ka=round$3(ba.r0,1),_y=round$3(ba.r,1),Ty=new Sector({shape:{cx:round$3(ha.cx,1),cy:round$3(ha.cy,1),r0:ka,r:_y,startAngle:ba.startAngle,endAngle:ba.endAngle,clockwise:ba.clockwise}});if(ua){var Ay=ha.getBaseAxis().dim==="angle";Ay?Ty.shape.endAngle=ba.startAngle:Ty.shape.r=ka,initProps(Ty,{shape:{endAngle:ba.endAngle,r:_y}},Sa)}return Ty}function createClipPath(ha,ua,Sa,ba,ka){if(ha){if(ha.type==="polar")return createPolarClipPath(ha,ua,Sa);if(ha.type==="cartesian2d")return createGridClipPath(ha,ua,Sa,ba,ka)}else return null;return null}function isCoordinateSystemType(ha,ua){return ha.type===ua}function isPointsSame(ha,ua){if(ha.length===ua.length){for(var Sa=0;Sa<ha.length;Sa++)if(ha[Sa]!==ua[Sa])return;return!0}}function bboxFromPoints(ha){for(var ua=1/0,Sa=1/0,ba=-1/0,ka=-1/0,_y=0;_y<ha.length;){var Ty=ha[_y++],Ay=ha[_y++];isNaN(Ty)||(ua=Math.min(Ty,ua),ba=Math.max(Ty,ba)),isNaN(Ay)||(Sa=Math.min(Ay,Sa),ka=Math.max(Ay,ka))}return[[ua,Sa],[ba,ka]]}function getBoundingDiff(ha,ua){var Sa=bboxFromPoints(ha),ba=Sa[0],ka=Sa[1],_y=bboxFromPoints(ua),Ty=_y[0],Ay=_y[1];return Math.max(Math.abs(ba[0]-Ty[0]),Math.abs(ba[1]-Ty[1]),Math.abs(ka[0]-Ay[0]),Math.abs(ka[1]-Ay[1]))}function getSmooth(ha){return isNumber(ha)?ha:ha?.5:0}function getStackedOnPoints(ha,ua,Sa){if(!Sa.valueDim)return[];for(var ba=ua.count(),ka=createFloat32Array(ba*2),_y=0;_y<ba;_y++){var Ty=getStackedOnPoint(Sa,ha,ua,_y);ka[_y*2]=Ty[0],ka[_y*2+1]=Ty[1]}return ka}function turnPointsIntoStep(ha,ua,Sa,ba,ka){var _y=Sa.getBaseAxis(),Ty=_y.dim==="x"||_y.dim==="radius"?0:1,Ay=[],Ey=0,My=[],Dy=[],Iy=[],Ly=[];if(ka){for(Ey=0;Ey<ha.length;Ey+=2){var Py=ua||ha;!isNaN(Py[Ey])&&!isNaN(Py[Ey+1])&&Ly.push(ha[Ey],ha[Ey+1])}ha=Ly}for(Ey=0;Ey<ha.length-2;Ey+=2)switch(Iy[0]=ha[Ey+2],Iy[1]=ha[Ey+3],Dy[0]=ha[Ey],Dy[1]=ha[Ey+1],Ay.push(Dy[0],Dy[1]),ba){case"end":My[Ty]=Iy[Ty],My[1-Ty]=Dy[1-Ty],Ay.push(My[0],My[1]);break;case"middle":var Ry=(Dy[Ty]+Iy[Ty])/2,Vy=[];My[Ty]=Vy[Ty]=Ry,My[1-Ty]=Dy[1-Ty],Vy[1-Ty]=Iy[1-Ty],Ay.push(My[0],My[1]),Ay.push(Vy[0],Vy[1]);break;default:My[Ty]=Dy[Ty],My[1-Ty]=Iy[1-Ty],Ay.push(My[0],My[1])}return Ay.push(ha[Ey++],ha[Ey++]),Ay}function clipColorStops(ha,ua){var Sa=[],ba=ha.length,ka,_y;function Ty(Dy,Iy,Ly){var Py=Dy.coord,Ry=(Ly-Py)/(Iy.coord-Py),Vy=lerp(Ry,[Dy.color,Iy.color]);return{coord:Ly,color:Vy}}for(var Ay=0;Ay<ba;Ay++){var Ey=ha[Ay],My=Ey.coord;if(My<0)ka=Ey;else if(My>ua){_y?Sa.push(Ty(_y,Ey,ua)):ka&&Sa.push(Ty(ka,Ey,0),Ty(ka,Ey,ua));break}else ka&&(Sa.push(Ty(ka,Ey,0)),ka=null),Sa.push(Ey),_y=Ey}return Sa}function getVisualGradient(ha,ua,Sa){var ba=ha.getVisual("visualMeta");if(!(!ba||!ba.length||!ha.count())&&ua.type==="cartesian2d"){for(var ka,_y,Ty=ba.length-1;Ty>=0;Ty--){var Ay=ha.getDimensionInfo(ba[Ty].dimension);if(ka=Ay&&Ay.coordDim,ka==="x"||ka==="y"){_y=ba[Ty];break}}if(_y){var Ey=ua.getAxis(ka),My=map$1(_y.stops,function(Fy){return{coord:Ey.toGlobalCoord(Ey.dataToCoord(Fy.value)),color:Fy.color}}),Dy=My.length,Iy=_y.outerColors.slice();Dy&&My[0].coord>My[Dy-1].coord&&(My.reverse(),Iy.reverse());var Ly=clipColorStops(My,ka==="x"?Sa.getWidth():Sa.getHeight()),Py=Ly.length;if(!Py&&Dy)return My[0].coord<0?Iy[1]?Iy[1]:My[Dy-1].color:Iy[0]?Iy[0]:My[0].color;var Ry=10,Vy=Ly[0].coord-Ry,Ny=Ly[Py-1].coord+Ry,By=Ny-Vy;if(By<.001)return"transparent";each$f(Ly,function(Fy){Fy.offset=(Fy.coord-Vy)/By}),Ly.push({offset:Py?Ly[Py-1].offset:.5,color:Iy[1]||"transparent"}),Ly.unshift({offset:Py?Ly[0].offset:.5,color:Iy[0]||"transparent"});var Oy=new LinearGradient(0,0,0,0,Ly,!0);return Oy[ka]=Vy,Oy[ka+"2"]=Ny,Oy}}}function getIsIgnoreFunc(ha,ua,Sa){var ba=ha.get("showAllSymbol"),ka=ba==="auto";if(!(ba&&!ka)){var _y=Sa.getAxesByScale("ordinal")[0];if(_y&&!(ka&&canShowAllSymbolForCategory(_y,ua))){var Ty=ua.mapDimension(_y.dim),Ay={};return each$f(_y.getViewLabels(),function(Ey){var My=_y.scale.getRawOrdinalNumber(Ey.tickValue);Ay[My]=1}),function(Ey){return!Ay.hasOwnProperty(ua.get(Ty,Ey))}}}}function canShowAllSymbolForCategory(ha,ua){var Sa=ha.getExtent(),ba=Math.abs(Sa[1]-Sa[0])/ha.scale.count();isNaN(ba)&&(ba=0);for(var ka=ua.count(),_y=Math.max(1,Math.round(ka/5)),Ty=0;Ty<ka;Ty+=_y)if(Symbol$1.getSymbolSize(ua,Ty)[ha.isHorizontal()?1:0]*1.5>ba)return!1;return!0}function isPointNull(ha,ua){return isNaN(ha)||isNaN(ua)}function getLastIndexNotNull(ha){for(var ua=ha.length/2;ua>0&&isPointNull(ha[ua*2-2],ha[ua*2-1]);ua--);return ua-1}function getPointAtIndex(ha,ua){return[ha[ua*2],ha[ua*2+1]]}function getIndexRange(ha,ua,Sa){for(var ba=ha.length/2,ka=Sa==="x"?0:1,_y,Ty,Ay=0,Ey=-1,My=0;My<ba;My++)if(Ty=ha[My*2+ka],!(isNaN(Ty)||isNaN(ha[My*2+1-ka]))){if(My===0){_y=Ty;continue}if(_y<=ua&&Ty>=ua||_y>=ua&&Ty<=ua){Ey=My;break}Ay=My,_y=Ty}return{range:[Ay,Ey],t:(ua-_y)/(Ty-_y)}}function anyStateShowEndLabel(ha){if(ha.get(["endLabel","show"]))return!0;for(var ua=0;ua<SPECIAL_STATES.length;ua++)if(ha.get([SPECIAL_STATES[ua],"endLabel","show"]))return!0;return!1}function createLineClipPath(ha,ua,Sa,ba){if(isCoordinateSystemType(ua,"cartesian2d")){var ka=ba.getModel("endLabel"),_y=ka.get("valueAnimation"),Ty=ba.getData(),Ay={lastFrameIndex:0},Ey=anyStateShowEndLabel(ba)?function(Py,Ry){ha._endLabelOnDuring(Py,Ry,Ty,Ay,_y,ka,ua)}:null,My=ua.getBaseAxis().isHorizontal(),Dy=createGridClipPath(ua,Sa,ba,function(){var Py=ha._endLabel;Py&&Sa&&Ay.originalX!=null&&Py.attr({x:Ay.originalX,y:Ay.originalY})},Ey);if(!ba.get("clip",!0)){var Iy=Dy.shape,Ly=Math.max(Iy.width,Iy.height);My?(Iy.y-=Ly,Iy.height+=Ly*2):(Iy.x-=Ly,Iy.width+=Ly*2)}return Ey&&Ey(1,Dy),Dy}else return createPolarClipPath(ua,Sa,ba)}function getEndLabelStateSpecified(ha,ua){var Sa=ua.getBaseAxis(),ba=Sa.isHorizontal(),ka=Sa.inverse,_y=ba?ka?"right":"left":"center",Ty=ba?"middle":ka?"top":"bottom";return{normal:{align:ha.get("align")||_y,verticalAlign:ha.get("verticalAlign")||Ty}}}var LineView=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.init=function(){var Sa=new Group$3,ba=new SymbolDraw;this.group.add(ba.group),this._symbolDraw=ba,this._lineGroup=Sa,this._changePolyState=bind$1(this._changePolyState,this)},ua.prototype.render=function(Sa,ba,ka){var _y=Sa.coordinateSystem,Ty=this.group,Ay=Sa.getData(),Ey=Sa.getModel("lineStyle"),My=Sa.getModel("areaStyle"),Dy=Ay.getLayout("points")||[],Iy=_y.type==="polar",Ly=this._coordSys,Py=this._symbolDraw,Ry=this._polyline,Vy=this._polygon,Ny=this._lineGroup,By=!ba.ssr&&Sa.get("animation"),Oy=!My.isEmpty(),Fy=My.get("origin"),zy=prepareDataCoordInfo(_y,Ay,Fy),Hy=Oy&&getStackedOnPoints(_y,Ay,zy),Gy=Sa.get("showSymbol"),Wy=Sa.get("connectNulls"),Uy=Gy&&!Iy&&getIsIgnoreFunc(Sa,Ay,_y),Yy=this._data;Yy&&Yy.eachItemGraphicEl(function($_,A_){$_.__temp&&(Ty.remove($_),Yy.setItemGraphicEl(A_,null))}),Gy||Py.remove(),Ty.add(Ny);var jy=Iy?!1:Sa.get("step"),Ky;_y&&_y.getArea&&Sa.get("clip",!0)&&(Ky=_y.getArea(),Ky.width!=null?(Ky.x-=.1,Ky.y-=.1,Ky.width+=.2,Ky.height+=.2):Ky.r0&&(Ky.r0-=.5,Ky.r+=.5)),this._clipShapeForSymbol=Ky;var Xy=getVisualGradient(Ay,_y,ka)||Ay.getVisual("style")[Ay.getVisual("drawType")];if(!(Ry&&Ly.type===_y.type&&jy===this._step))Gy&&Py.updateData(Ay,{isIgnore:Uy,clipShape:Ky,disableAnimation:!0,getSymbolPoint:function($_){return[Dy[$_*2],Dy[$_*2+1]]}}),By&&this._initSymbolLabelAnimation(Ay,_y,Ky),jy&&(Hy&&(Hy=turnPointsIntoStep(Hy,Dy,_y,jy,Wy)),Dy=turnPointsIntoStep(Dy,null,_y,jy,Wy)),Ry=this._newPolyline(Dy),Oy?Vy=this._newPolygon(Dy,Hy):Vy&&(Ny.remove(Vy),Vy=this._polygon=null),Iy||this._initOrUpdateEndLabel(Sa,_y,convertToColorString(Xy)),Ny.setClipPath(createLineClipPath(this,_y,!0,Sa));else{Oy&&!Vy?Vy=this._newPolygon(Dy,Hy):Vy&&!Oy&&(Ny.remove(Vy),Vy=this._polygon=null),Iy||this._initOrUpdateEndLabel(Sa,_y,convertToColorString(Xy));var Zy=Ny.getClipPath();if(Zy){var Jy=createLineClipPath(this,_y,!1,Sa);initProps(Zy,{shape:Jy.shape},Sa)}else Ny.setClipPath(createLineClipPath(this,_y,!0,Sa));Gy&&Py.updateData(Ay,{isIgnore:Uy,clipShape:Ky,disableAnimation:!0,getSymbolPoint:function($_){return[Dy[$_*2],Dy[$_*2+1]]}}),(!isPointsSame(this._stackedOnPoints,Hy)||!isPointsSame(this._points,Dy))&&(By?this._doUpdateAnimation(Ay,Hy,_y,ka,jy,Fy,Wy):(jy&&(Hy&&(Hy=turnPointsIntoStep(Hy,Dy,_y,jy,Wy)),Dy=turnPointsIntoStep(Dy,null,_y,jy,Wy)),Ry.setShape({points:Dy}),Vy&&Vy.setShape({points:Dy,stackedOnPoints:Hy})))}var t_=Sa.getModel("emphasis"),Qy=t_.get("focus"),r_=t_.get("blurScope"),i_=t_.get("disabled");if(Ry.useStyle(defaults(Ey.getLineStyle(),{fill:"none",stroke:Xy,lineJoin:"bevel"})),setStatesStylesFromModel(Ry,Sa,"lineStyle"),Ry.style.lineWidth>0&&Sa.get(["emphasis","lineStyle","width"])==="bolder"){var l_=Ry.getState("emphasis").style;l_.lineWidth=+Ry.style.lineWidth+1}getECData(Ry).seriesIndex=Sa.seriesIndex,toggleHoverEmphasis(Ry,Qy,r_,i_);var c_=getSmooth(Sa.get("smooth")),d_=Sa.get("smoothMonotone");if(Ry.setShape({smooth:c_,smoothMonotone:d_,connectNulls:Wy}),Vy){var f_=Ay.getCalculationInfo("stackedOnSeries"),m_=0;Vy.useStyle(defaults(My.getAreaStyle(),{fill:Xy,opacity:.7,lineJoin:"bevel",decal:Ay.getVisual("style").decal})),f_&&(m_=getSmooth(f_.get("smooth"))),Vy.setShape({smooth:c_,stackedOnSmooth:m_,smoothMonotone:d_,connectNulls:Wy}),setStatesStylesFromModel(Vy,Sa,"areaStyle"),getECData(Vy).seriesIndex=Sa.seriesIndex,toggleHoverEmphasis(Vy,Qy,r_,i_)}var b_=this._changePolyState;Ay.eachItemGraphicEl(function($_){$_&&($_.onHoverStateChange=b_)}),this._polyline.onHoverStateChange=b_,this._data=Ay,this._coordSys=_y,this._stackedOnPoints=Hy,this._points=Dy,this._step=jy,this._valueOrigin=Fy,Sa.get("triggerLineEvent")&&(this.packEventData(Sa,Ry),Vy&&this.packEventData(Sa,Vy))},ua.prototype.packEventData=function(Sa,ba){getECData(ba).eventData={componentType:"series",componentSubType:"line",componentIndex:Sa.componentIndex,seriesIndex:Sa.seriesIndex,seriesName:Sa.name,seriesType:"line"}},ua.prototype.highlight=function(Sa,ba,ka,_y){var Ty=Sa.getData(),Ay=queryDataIndex(Ty,_y);if(this._changePolyState("emphasis"),!(Ay instanceof Array)&&Ay!=null&&Ay>=0){var Ey=Ty.getLayout("points"),My=Ty.getItemGraphicEl(Ay);if(!My){var Dy=Ey[Ay*2],Iy=Ey[Ay*2+1];if(isNaN(Dy)||isNaN(Iy)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(Dy,Iy))return;var Ly=Sa.get("zlevel")||0,Py=Sa.get("z")||0;My=new Symbol$1(Ty,Ay),My.x=Dy,My.y=Iy,My.setZ(Ly,Py);var Ry=My.getSymbolPath().getTextContent();Ry&&(Ry.zlevel=Ly,Ry.z=Py,Ry.z2=this._polyline.z2+1),My.__temp=!0,Ty.setItemGraphicEl(Ay,My),My.stopSymbolAnimation(!0),this.group.add(My)}My.highlight()}else ChartView.prototype.highlight.call(this,Sa,ba,ka,_y)},ua.prototype.downplay=function(Sa,ba,ka,_y){var Ty=Sa.getData(),Ay=queryDataIndex(Ty,_y);if(this._changePolyState("normal"),Ay!=null&&Ay>=0){var Ey=Ty.getItemGraphicEl(Ay);Ey&&(Ey.__temp?(Ty.setItemGraphicEl(Ay,null),this.group.remove(Ey)):Ey.downplay())}else ChartView.prototype.downplay.call(this,Sa,ba,ka,_y)},ua.prototype._changePolyState=function(Sa){var ba=this._polygon;setStatesFlag(this._polyline,Sa),ba&&setStatesFlag(ba,Sa)},ua.prototype._newPolyline=function(Sa){var ba=this._polyline;return ba&&this._lineGroup.remove(ba),ba=new ECPolyline({shape:{points:Sa},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(ba),this._polyline=ba,ba},ua.prototype._newPolygon=function(Sa,ba){var ka=this._polygon;return ka&&this._lineGroup.remove(ka),ka=new ECPolygon({shape:{points:Sa,stackedOnPoints:ba},segmentIgnoreThreshold:2}),this._lineGroup.add(ka),this._polygon=ka,ka},ua.prototype._initSymbolLabelAnimation=function(Sa,ba,ka){var _y,Ty,Ay=ba.getBaseAxis(),Ey=Ay.inverse;ba.type==="cartesian2d"?(_y=Ay.isHorizontal(),Ty=!1):ba.type==="polar"&&(_y=Ay.dim==="angle",Ty=!0);var My=Sa.hostModel,Dy=My.get("animationDuration");isFunction(Dy)&&(Dy=Dy(null));var Iy=My.get("animationDelay")||0,Ly=isFunction(Iy)?Iy(null):Iy;Sa.eachItemGraphicEl(function(Py,Ry){var Vy=Py;if(Vy){var Ny=[Py.x,Py.y],By=void 0,Oy=void 0,Fy=void 0;if(ka)if(Ty){var zy=ka,Hy=ba.pointToCoord(Ny);_y?(By=zy.startAngle,Oy=zy.endAngle,Fy=-Hy[1]/180*Math.PI):(By=zy.r0,Oy=zy.r,Fy=Hy[0])}else{var Gy=ka;_y?(By=Gy.x,Oy=Gy.x+Gy.width,Fy=Py.x):(By=Gy.y+Gy.height,Oy=Gy.y,Fy=Py.y)}var Wy=Oy===By?0:(Fy-By)/(Oy-By);Ey&&(Wy=1-Wy);var Uy=isFunction(Iy)?Iy(Ry):Dy*Wy+Ly,Yy=Vy.getSymbolPath(),jy=Yy.getTextContent();Vy.attr({scaleX:0,scaleY:0}),Vy.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Uy}),jy&&jy.animateFrom({style:{opacity:0}},{duration:300,delay:Uy}),Yy.disableLabelAnimation=!0}})},ua.prototype._initOrUpdateEndLabel=function(Sa,ba,ka){var _y=Sa.getModel("endLabel");if(anyStateShowEndLabel(Sa)){var Ty=Sa.getData(),Ay=this._polyline,Ey=Ty.getLayout("points");if(!Ey){Ay.removeTextContent(),this._endLabel=null;return}var My=this._endLabel;My||(My=this._endLabel=new ZRText({z2:200}),My.ignoreClip=!0,Ay.setTextContent(this._endLabel),Ay.disableLabelAnimation=!0);var Dy=getLastIndexNotNull(Ey);Dy>=0&&(setLabelStyle(Ay,getLabelStatesModels(Sa,"endLabel"),{inheritColor:ka,labelFetcher:Sa,labelDataIndex:Dy,defaultText:function(Iy,Ly,Py){return Py!=null?getDefaultInterpolatedLabel(Ty,Py):getDefaultLabel(Ty,Iy)},enableTextSetter:!0},getEndLabelStateSpecified(_y,ba)),Ay.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},ua.prototype._endLabelOnDuring=function(Sa,ba,ka,_y,Ty,Ay,Ey){var My=this._endLabel,Dy=this._polyline;if(My){Sa<1&&_y.originalX==null&&(_y.originalX=My.x,_y.originalY=My.y);var Iy=ka.getLayout("points"),Ly=ka.hostModel,Py=Ly.get("connectNulls"),Ry=Ay.get("precision"),Vy=Ay.get("distance")||0,Ny=Ey.getBaseAxis(),By=Ny.isHorizontal(),Oy=Ny.inverse,Fy=ba.shape,zy=Oy?By?Fy.x:Fy.y+Fy.height:By?Fy.x+Fy.width:Fy.y,Hy=(By?Vy:0)*(Oy?-1:1),Gy=(By?0:-Vy)*(Oy?-1:1),Wy=By?"x":"y",Uy=getIndexRange(Iy,zy,Wy),Yy=Uy.range,jy=Yy[1]-Yy[0],Ky=void 0;if(jy>=1){if(jy>1&&!Py){var Xy=getPointAtIndex(Iy,Yy[0]);My.attr({x:Xy[0]+Hy,y:Xy[1]+Gy}),Ty&&(Ky=Ly.getRawValue(Yy[0]))}else{var Xy=Dy.getPointOn(zy,Wy);Xy&&My.attr({x:Xy[0]+Hy,y:Xy[1]+Gy});var Zy=Ly.getRawValue(Yy[0]),Jy=Ly.getRawValue(Yy[1]);Ty&&(Ky=interpolateRawValues(ka,Ry,Zy,Jy,Uy.t))}_y.lastFrameIndex=Yy[0]}else{var t_=Sa===1||_y.lastFrameIndex>0?Yy[0]:0,Xy=getPointAtIndex(Iy,t_);Ty&&(Ky=Ly.getRawValue(t_)),My.attr({x:Xy[0]+Hy,y:Xy[1]+Gy})}if(Ty){var Qy=labelInner(My);typeof Qy.setLabelText=="function"&&Qy.setLabelText(Ky)}}},ua.prototype._doUpdateAnimation=function(Sa,ba,ka,_y,Ty,Ay,Ey){var My=this._polyline,Dy=this._polygon,Iy=Sa.hostModel,Ly=lineAnimationDiff(this._data,Sa,this._stackedOnPoints,ba,this._coordSys,ka,this._valueOrigin),Py=Ly.current,Ry=Ly.stackedOnCurrent,Vy=Ly.next,Ny=Ly.stackedOnNext;if(Ty&&(Ry=turnPointsIntoStep(Ly.stackedOnCurrent,Ly.current,ka,Ty,Ey),Py=turnPointsIntoStep(Ly.current,null,ka,Ty,Ey),Ny=turnPointsIntoStep(Ly.stackedOnNext,Ly.next,ka,Ty,Ey),Vy=turnPointsIntoStep(Ly.next,null,ka,Ty,Ey)),getBoundingDiff(Py,Vy)>3e3||Dy&&getBoundingDiff(Ry,Ny)>3e3){My.stopAnimation(),My.setShape({points:Vy}),Dy&&(Dy.stopAnimation(),Dy.setShape({points:Vy,stackedOnPoints:Ny}));return}My.shape.__points=Ly.current,My.shape.points=Py;var By={shape:{points:Vy}};Ly.current!==Py&&(By.shape.__points=Ly.next),My.stopAnimation(),updateProps$1(My,By,Iy),Dy&&(Dy.setShape({points:Py,stackedOnPoints:Ry}),Dy.stopAnimation(),updateProps$1(Dy,{shape:{stackedOnPoints:Ny}},Iy),My.shape.points!==Dy.shape.points&&(Dy.shape.points=My.shape.points));for(var Oy=[],Fy=Ly.status,zy=0;zy<Fy.length;zy++){var Hy=Fy[zy].cmd;if(Hy==="="){var Gy=Sa.getItemGraphicEl(Fy[zy].idx1);Gy&&Oy.push({el:Gy,ptIdx:zy})}}My.animators&&My.animators.length&&My.animators[0].during(function(){Dy&&Dy.dirtyShape();for(var Wy=My.shape.__points,Uy=0;Uy<Oy.length;Uy++){var Yy=Oy[Uy].el,jy=Oy[Uy].ptIdx*2;Yy.x=Wy[jy],Yy.y=Wy[jy+1],Yy.markRedraw()}})},ua.prototype.remove=function(Sa){var ba=this.group,ka=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),ka&&ka.eachItemGraphicEl(function(_y,Ty){_y.__temp&&(ba.remove(_y),ka.setItemGraphicEl(Ty,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},ua.type="line",ua}(ChartView);function pointsLayout(ha,ua){return{seriesType:ha,plan:createRenderPlanner(),reset:function(Sa){var ba=Sa.getData(),ka=Sa.coordinateSystem,_y=Sa.pipelineContext,Ty=ua||_y.large;if(ka){var Ay=map$1(ka.dimensions,function(Py){return ba.mapDimension(Py)}).slice(0,2),Ey=Ay.length,My=ba.getCalculationInfo("stackResultDimension");isDimensionStacked(ba,Ay[0])&&(Ay[0]=My),isDimensionStacked(ba,Ay[1])&&(Ay[1]=My);var Dy=ba.getStore(),Iy=ba.getDimensionIndex(Ay[0]),Ly=ba.getDimensionIndex(Ay[1]);return Ey&&{progress:function(Py,Ry){for(var Vy=Py.end-Py.start,Ny=Ty&&createFloat32Array(Vy*Ey),By=[],Oy=[],Fy=Py.start,zy=0;Fy<Py.end;Fy++){var Hy=void 0;if(Ey===1){var Gy=Dy.get(Iy,Fy);Hy=ka.dataToPoint(Gy,null,Oy)}else By[0]=Dy.get(Iy,Fy),By[1]=Dy.get(Ly,Fy),Hy=ka.dataToPoint(By,null,Oy);Ty?(Ny[zy++]=Hy[0],Ny[zy++]=Hy[1]):Ry.setItemLayout(Fy,Hy.slice())}Ty&&Ry.setLayout("points",Ny)}}}}}}var samplers={average:function(ha){for(var ua=0,Sa=0,ba=0;ba<ha.length;ba++)isNaN(ha[ba])||(ua+=ha[ba],Sa++);return Sa===0?NaN:ua/Sa},sum:function(ha){for(var ua=0,Sa=0;Sa<ha.length;Sa++)ua+=ha[Sa]||0;return ua},max:function(ha){for(var ua=-1/0,Sa=0;Sa<ha.length;Sa++)ha[Sa]>ua&&(ua=ha[Sa]);return isFinite(ua)?ua:NaN},min:function(ha){for(var ua=1/0,Sa=0;Sa<ha.length;Sa++)ha[Sa]<ua&&(ua=ha[Sa]);return isFinite(ua)?ua:NaN},nearest:function(ha){return ha[0]}},indexSampler=function(ha){return Math.round(ha.length/2)};function dataSample(ha){return{seriesType:ha,reset:function(ua,Sa,ba){var ka=ua.getData(),_y=ua.get("sampling"),Ty=ua.coordinateSystem,Ay=ka.count();if(Ay>10&&Ty.type==="cartesian2d"&&_y){var Ey=Ty.getBaseAxis(),My=Ty.getOtherAxis(Ey),Dy=Ey.getExtent(),Iy=ba.getDevicePixelRatio(),Ly=Math.abs(Dy[1]-Dy[0])*(Iy||1),Py=Math.round(Ay/Ly);if(isFinite(Py)&&Py>1){_y==="lttb"?ua.setData(ka.lttbDownSample(ka.mapDimension(My.dim),1/Py)):_y==="minmax"&&ua.setData(ka.minmaxDownSample(ka.mapDimension(My.dim),1/Py));var Ry=void 0;isString(_y)?Ry=samplers[_y]:isFunction(_y)&&(Ry=_y),Ry&&ua.setData(ka.downSample(ka.mapDimension(My.dim),1/Py,Ry,indexSampler))}}}}}function install$Q(ha){ha.registerChartView(LineView),ha.registerSeriesModel(LineSeriesModel),ha.registerLayout(pointsLayout("line",!0)),ha.registerVisual({seriesType:"line",reset:function(ua){var Sa=ua.getData(),ba=ua.getModel("lineStyle").getLineStyle();ba&&!ba.stroke&&(ba.stroke=Sa.getVisual("style").fill),Sa.setVisual("legendLineStyle",ba)}}),ha.registerProcessor(ha.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.getInitialData=function(Sa,ba){return createSeriesData(null,this,{useEncodeDefaulter:!0})},ua.prototype.getMarkerPosition=function(Sa,ba,ka){var _y=this.coordinateSystem;if(_y&&_y.clampData){var Ty=_y.clampData(Sa),Ay=_y.dataToPoint(Ty);if(ka)each$f(_y.getAxes(),function(Ly,Py){if(Ly.type==="category"&&ba!=null){var Ry=Ly.getTicksCoords(),Vy=Ly.getTickModel().get("alignWithLabel"),Ny=Ty[Py],By=ba[Py]==="x1"||ba[Py]==="y1";if(By&&!Vy&&(Ny+=1),Ry.length<2)return;if(Ry.length===2){Ay[Py]=Ly.toGlobalCoord(Ly.getExtent()[By?1:0]);return}for(var Oy=void 0,Fy=void 0,zy=1,Hy=0;Hy<Ry.length;Hy++){var Gy=Ry[Hy].coord,Wy=Hy===Ry.length-1?Ry[Hy-1].tickValue+zy:Ry[Hy].tickValue;if(Wy===Ny){Fy=Gy;break}else if(Wy<Ny)Oy=Gy;else if(Oy!=null&&Wy>Ny){Fy=(Gy+Oy)/2;break}Hy===1&&(zy=Wy-Ry[0].tickValue)}Fy==null&&(Oy?Oy&&(Fy=Ry[Ry.length-1].coord):Fy=Ry[0].coord),Ay[Py]=Ly.toGlobalCoord(Fy)}});else{var Ey=this.getData(),My=Ey.getLayout("offset"),Dy=Ey.getLayout("size"),Iy=_y.getBaseAxis().isHorizontal()?0:1;Ay[Iy]+=My+Dy/2}return Ay}return[NaN,NaN]},ua.type="series.__base_bar__",ua.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},ua}(SeriesModel);SeriesModel.registerClass(BaseBarSeriesModel);var BarSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},ua.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},ua.prototype.getProgressiveThreshold=function(){var Sa=this.get("progressiveThreshold"),ba=this.get("largeThreshold");return ba>Sa&&(Sa=ba),Sa},ua.prototype.brushSelector=function(Sa,ba,ka){return ka.rect(ba.getItemLayout(Sa))},ua.type="series.bar",ua.dependencies=["grid","polar"],ua.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),ua}(BaseBarSeriesModel),SausageShape=function(){function ha(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return ha}(),SausagePath=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba.type="sausage",ba}return ua.prototype.getDefaultShape=function(){return new SausageShape},ua.prototype.buildPath=function(Sa,ba){var ka=ba.cx,_y=ba.cy,Ty=Math.max(ba.r0||0,0),Ay=Math.max(ba.r,0),Ey=(Ay-Ty)*.5,My=Ty+Ey,Dy=ba.startAngle,Iy=ba.endAngle,Ly=ba.clockwise,Py=Math.PI*2,Ry=Ly?Iy-Dy<Py:Dy-Iy<Py;Ry||(Dy=Iy-(Ly?Py:-Py));var Vy=Math.cos(Dy),Ny=Math.sin(Dy),By=Math.cos(Iy),Oy=Math.sin(Iy);Ry?(Sa.moveTo(Vy*Ty+ka,Ny*Ty+_y),Sa.arc(Vy*My+ka,Ny*My+_y,Ey,-Math.PI+Dy,Dy,!Ly)):Sa.moveTo(Vy*Ay+ka,Ny*Ay+_y),Sa.arc(ka,_y,Ay,Dy,Iy,!Ly),Sa.arc(By*My+ka,Oy*My+_y,Ey,Iy-Math.PI*2,Iy-Math.PI,!Ly),Ty!==0&&Sa.arc(ka,_y,Ty,Iy,Dy,Ly)},ua}(Path);function createSectorCalculateTextPosition(ha,ua){ua=ua||{};var Sa=ua.isRoundCap;return function(ba,ka,_y){var Ty=ka.position;if(!Ty||Ty instanceof Array)return calculateTextPosition(ba,ka,_y);var Ay=ha(Ty),Ey=ka.distance!=null?ka.distance:5,My=this.shape,Dy=My.cx,Iy=My.cy,Ly=My.r,Py=My.r0,Ry=(Ly+Py)/2,Vy=My.startAngle,Ny=My.endAngle,By=(Vy+Ny)/2,Oy=Sa?Math.abs(Ly-Py)/2:0,Fy=Math.cos,zy=Math.sin,Hy=Dy+Ly*Fy(Vy),Gy=Iy+Ly*zy(Vy),Wy="left",Uy="top";switch(Ay){case"startArc":Hy=Dy+(Py-Ey)*Fy(By),Gy=Iy+(Py-Ey)*zy(By),Wy="center",Uy="top";break;case"insideStartArc":Hy=Dy+(Py+Ey)*Fy(By),Gy=Iy+(Py+Ey)*zy(By),Wy="center",Uy="bottom";break;case"startAngle":Hy=Dy+Ry*Fy(Vy)+adjustAngleDistanceX(Vy,Ey+Oy,!1),Gy=Iy+Ry*zy(Vy)+adjustAngleDistanceY(Vy,Ey+Oy,!1),Wy="right",Uy="middle";break;case"insideStartAngle":Hy=Dy+Ry*Fy(Vy)+adjustAngleDistanceX(Vy,-Ey+Oy,!1),Gy=Iy+Ry*zy(Vy)+adjustAngleDistanceY(Vy,-Ey+Oy,!1),Wy="left",Uy="middle";break;case"middle":Hy=Dy+Ry*Fy(By),Gy=Iy+Ry*zy(By),Wy="center",Uy="middle";break;case"endArc":Hy=Dy+(Ly+Ey)*Fy(By),Gy=Iy+(Ly+Ey)*zy(By),Wy="center",Uy="bottom";break;case"insideEndArc":Hy=Dy+(Ly-Ey)*Fy(By),Gy=Iy+(Ly-Ey)*zy(By),Wy="center",Uy="top";break;case"endAngle":Hy=Dy+Ry*Fy(Ny)+adjustAngleDistanceX(Ny,Ey+Oy,!0),Gy=Iy+Ry*zy(Ny)+adjustAngleDistanceY(Ny,Ey+Oy,!0),Wy="left",Uy="middle";break;case"insideEndAngle":Hy=Dy+Ry*Fy(Ny)+adjustAngleDistanceX(Ny,-Ey+Oy,!0),Gy=Iy+Ry*zy(Ny)+adjustAngleDistanceY(Ny,-Ey+Oy,!0),Wy="right",Uy="middle";break;default:return calculateTextPosition(ba,ka,_y)}return ba=ba||{},ba.x=Hy,ba.y=Gy,ba.align=Wy,ba.verticalAlign=Uy,ba}}function setSectorTextRotation(ha,ua,Sa,ba){if(isNumber(ba)){ha.setTextConfig({rotation:ba});return}else if(isArray$1(ua)){ha.setTextConfig({rotation:0});return}var ka=ha.shape,_y=ka.clockwise?ka.startAngle:ka.endAngle,Ty=ka.clockwise?ka.endAngle:ka.startAngle,Ay=(_y+Ty)/2,Ey,My=Sa(ua);switch(My){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":Ey=Ay;break;case"startAngle":case"insideStartAngle":Ey=_y;break;case"endAngle":case"insideEndAngle":Ey=Ty;break;default:ha.setTextConfig({rotation:0});return}var Dy=Math.PI*1.5-Ey;My==="middle"&&Dy>Math.PI/2&&Dy<Math.PI*1.5&&(Dy-=Math.PI),ha.setTextConfig({rotation:Dy})}function adjustAngleDistanceX(ha,ua,Sa){return ua*Math.sin(ha)*(Sa?-1:1)}function adjustAngleDistanceY(ha,ua,Sa){return ua*Math.cos(ha)*(Sa?1:-1)}function getSectorCornerRadius(ha,ua,Sa){var ba=ha.get("borderRadius");if(ba==null)return Sa?{cornerRadius:0}:null;isArray$1(ba)||(ba=[ba,ba,ba,ba]);var ka=Math.abs(ua.r||0-ua.r0||0);return{cornerRadius:map$1(ba,function(_y){return parsePercent$1(_y,ka)})}}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(ha,ua){var Sa=ha.getArea&&ha.getArea();if(isCoordinateSystemType(ha,"cartesian2d")){var ba=ha.getBaseAxis();if(ba.type!=="category"||!ba.onBand){var ka=ua.getLayout("bandWidth");ba.isHorizontal()?(Sa.x-=ka,Sa.width+=ka*2):(Sa.y-=ka,Sa.height+=ka*2)}}return Sa}var BarView=function(ha){__extends(ua,ha);function ua(){var Sa=ha.call(this)||this;return Sa.type=ua.type,Sa._isFirstFrame=!0,Sa}return ua.prototype.render=function(Sa,ba,ka,_y){this._model=Sa,this._removeOnRenderedListener(ka),this._updateDrawMode(Sa);var Ty=Sa.get("coordinateSystem");(Ty==="cartesian2d"||Ty==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(Sa,ba,ka):this._renderNormal(Sa,ba,ka,_y))},ua.prototype.incrementalPrepareRender=function(Sa){this._clear(),this._updateDrawMode(Sa),this._updateLargeClip(Sa)},ua.prototype.incrementalRender=function(Sa,ba){this._progressiveEls=[],this._incrementalRenderLarge(Sa,ba)},ua.prototype.eachRendered=function(Sa){traverseElements(this._progressiveEls||this.group,Sa)},ua.prototype._updateDrawMode=function(Sa){var ba=Sa.pipelineContext.large;(this._isLargeDraw==null||ba!==this._isLargeDraw)&&(this._isLargeDraw=ba,this._clear())},ua.prototype._renderNormal=function(Sa,ba,ka,_y){var Ty=this.group,Ay=Sa.getData(),Ey=this._data,My=Sa.coordinateSystem,Dy=My.getBaseAxis(),Iy;My.type==="cartesian2d"?Iy=Dy.isHorizontal():My.type==="polar"&&(Iy=Dy.dim==="angle");var Ly=Sa.isAnimationEnabled()?Sa:null,Py=shouldRealtimeSort(Sa,My);Py&&this._enableRealtimeSort(Py,Ay,ka);var Ry=Sa.get("clip",!0)||Py,Vy=getClipArea(My,Ay);Ty.removeClipPath();var Ny=Sa.get("roundCap",!0),By=Sa.get("showBackground",!0),Oy=Sa.getModel("backgroundStyle"),Fy=Oy.get("borderRadius")||0,zy=[],Hy=this._backgroundEls,Gy=_y&&_y.isInitSort,Wy=_y&&_y.type==="changeAxisOrder";function Uy(Ky){var Xy=getLayout[My.type](Ay,Ky),Zy=createBackgroundEl(My,Iy,Xy);return Zy.useStyle(Oy.getItemStyle()),My.type==="cartesian2d"?Zy.setShape("r",Fy):Zy.setShape("cornerRadius",Fy),zy[Ky]=Zy,Zy}Ay.diff(Ey).add(function(Ky){var Xy=Ay.getItemModel(Ky),Zy=getLayout[My.type](Ay,Ky,Xy);if(By&&Uy(Ky),!(!Ay.hasValue(Ky)||!isValidLayout[My.type](Zy))){var Jy=!1;Ry&&(Jy=clip[My.type](Vy,Zy));var t_=elementCreator[My.type](Sa,Ay,Ky,Zy,Iy,Ly,Dy.model,!1,Ny);Py&&(t_.forceLabelAnimation=!0),updateStyle(t_,Ay,Ky,Xy,Zy,Sa,Iy,My.type==="polar"),Gy?t_.attr({shape:Zy}):Py?updateRealtimeAnimation(Py,Ly,t_,Zy,Ky,Iy,!1,!1):initProps(t_,{shape:Zy},Sa,Ky),Ay.setItemGraphicEl(Ky,t_),Ty.add(t_),t_.ignore=Jy}}).update(function(Ky,Xy){var Zy=Ay.getItemModel(Ky),Jy=getLayout[My.type](Ay,Ky,Zy);if(By){var t_=void 0;Hy.length===0?t_=Uy(Xy):(t_=Hy[Xy],t_.useStyle(Oy.getItemStyle()),My.type==="cartesian2d"?t_.setShape("r",Fy):t_.setShape("cornerRadius",Fy),zy[Ky]=t_);var Qy=getLayout[My.type](Ay,Ky),r_=createBackgroundShape(Iy,Qy,My);updateProps$1(t_,{shape:r_},Ly,Ky)}var i_=Ey.getItemGraphicEl(Xy);if(!Ay.hasValue(Ky)||!isValidLayout[My.type](Jy)){Ty.remove(i_);return}var l_=!1;if(Ry&&(l_=clip[My.type](Vy,Jy),l_&&Ty.remove(i_)),i_?saveOldStyle(i_):i_=elementCreator[My.type](Sa,Ay,Ky,Jy,Iy,Ly,Dy.model,!!i_,Ny),Py&&(i_.forceLabelAnimation=!0),Wy){var c_=i_.getTextContent();if(c_){var d_=labelInner(c_);d_.prevValue!=null&&(d_.prevValue=d_.value)}}else updateStyle(i_,Ay,Ky,Zy,Jy,Sa,Iy,My.type==="polar");Gy?i_.attr({shape:Jy}):Py?updateRealtimeAnimation(Py,Ly,i_,Jy,Ky,Iy,!0,Wy):updateProps$1(i_,{shape:Jy},Sa,Ky,null),Ay.setItemGraphicEl(Ky,i_),i_.ignore=l_,Ty.add(i_)}).remove(function(Ky){var Xy=Ey.getItemGraphicEl(Ky);Xy&&removeElementWithFadeOut(Xy,Sa,Ky)}).execute();var Yy=this._backgroundGroup||(this._backgroundGroup=new Group$3);Yy.removeAll();for(var jy=0;jy<zy.length;++jy)Yy.add(zy[jy]);Ty.add(Yy),this._backgroundEls=zy,this._data=Ay},ua.prototype._renderLarge=function(Sa,ba,ka){this._clear(),createLarge$1(Sa,this.group),this._updateLargeClip(Sa)},ua.prototype._incrementalRenderLarge=function(Sa,ba){this._removeBackground(),createLarge$1(ba,this.group,this._progressiveEls,!0)},ua.prototype._updateLargeClip=function(Sa){var ba=Sa.get("clip",!0)&&createClipPath(Sa.coordinateSystem,!1,Sa),ka=this.group;ba?ka.setClipPath(ba):ka.removeClipPath()},ua.prototype._enableRealtimeSort=function(Sa,ba,ka){var _y=this;if(ba.count()){var Ty=Sa.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(ba,Sa,ka),this._isFirstFrame=!1;else{var Ay=function(Ey){var My=ba.getItemGraphicEl(Ey),Dy=My&&My.shape;return Dy&&Math.abs(Ty.isHorizontal()?Dy.height:Dy.width)||0};this._onRendered=function(){_y._updateSortWithinSameData(ba,Ay,Ty,ka)},ka.getZr().on("rendered",this._onRendered)}}},ua.prototype._dataSort=function(Sa,ba,ka){var _y=[];return Sa.each(Sa.mapDimension(ba.dim),function(Ty,Ay){var Ey=ka(Ay);Ey=Ey??NaN,_y.push({dataIndex:Ay,mappedValue:Ey,ordinalNumber:Ty})}),_y.sort(function(Ty,Ay){return Ay.mappedValue-Ty.mappedValue}),{ordinalNumbers:map$1(_y,function(Ty){return Ty.ordinalNumber})}},ua.prototype._isOrderChangedWithinSameData=function(Sa,ba,ka){for(var _y=ka.scale,Ty=Sa.mapDimension(ka.dim),Ay=Number.MAX_VALUE,Ey=0,My=_y.getOrdinalMeta().categories.length;Ey<My;++Ey){var Dy=Sa.rawIndexOf(Ty,_y.getRawOrdinalNumber(Ey)),Iy=Dy<0?Number.MIN_VALUE:ba(Sa.indexOfRawIndex(Dy));if(Iy>Ay)return!0;Ay=Iy}return!1},ua.prototype._isOrderDifferentInView=function(Sa,ba){for(var ka=ba.scale,_y=ka.getExtent(),Ty=Math.max(0,_y[0]),Ay=Math.min(_y[1],ka.getOrdinalMeta().categories.length-1);Ty<=Ay;++Ty)if(Sa.ordinalNumbers[Ty]!==ka.getRawOrdinalNumber(Ty))return!0},ua.prototype._updateSortWithinSameData=function(Sa,ba,ka,_y){if(this._isOrderChangedWithinSameData(Sa,ba,ka)){var Ty=this._dataSort(Sa,ka,ba);this._isOrderDifferentInView(Ty,ka)&&(this._removeOnRenderedListener(_y),_y.dispatchAction({type:"changeAxisOrder",componentType:ka.dim+"Axis",axisId:ka.index,sortInfo:Ty}))}},ua.prototype._dispatchInitSort=function(Sa,ba,ka){var _y=ba.baseAxis,Ty=this._dataSort(Sa,_y,function(Ay){return Sa.get(Sa.mapDimension(ba.otherAxis.dim),Ay)});ka.dispatchAction({type:"changeAxisOrder",componentType:_y.dim+"Axis",isInitSort:!0,axisId:_y.index,sortInfo:Ty})},ua.prototype.remove=function(Sa,ba){this._clear(this._model),this._removeOnRenderedListener(ba)},ua.prototype.dispose=function(Sa,ba){this._removeOnRenderedListener(ba)},ua.prototype._removeOnRenderedListener=function(Sa){this._onRendered&&(Sa.getZr().off("rendered",this._onRendered),this._onRendered=null)},ua.prototype._clear=function(Sa){var ba=this.group,ka=this._data;Sa&&Sa.isAnimationEnabled()&&ka&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],ka.eachItemGraphicEl(function(_y){removeElementWithFadeOut(_y,Sa,getECData(_y).dataIndex)})):ba.removeAll(),this._data=null,this._isFirstFrame=!0},ua.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},ua.type="bar",ua}(ChartView),clip={cartesian2d:function(ha,ua){var Sa=ua.width<0?-1:1,ba=ua.height<0?-1:1;Sa<0&&(ua.x+=ua.width,ua.width=-ua.width),ba<0&&(ua.y+=ua.height,ua.height=-ua.height);var ka=ha.x+ha.width,_y=ha.y+ha.height,Ty=mathMax$4(ua.x,ha.x),Ay=mathMin$4(ua.x+ua.width,ka),Ey=mathMax$4(ua.y,ha.y),My=mathMin$4(ua.y+ua.height,_y),Dy=Ay<Ty,Iy=My<Ey;return ua.x=Dy&&Ty>ka?Ay:Ty,ua.y=Iy&&Ey>_y?My:Ey,ua.width=Dy?0:Ay-Ty,ua.height=Iy?0:My-Ey,Sa<0&&(ua.x+=ua.width,ua.width=-ua.width),ba<0&&(ua.y+=ua.height,ua.height=-ua.height),Dy||Iy},polar:function(ha,ua){var Sa=ua.r0<=ua.r?1:-1;if(Sa<0){var ba=ua.r;ua.r=ua.r0,ua.r0=ba}var ka=mathMin$4(ua.r,ha.r),_y=mathMax$4(ua.r0,ha.r0);ua.r=ka,ua.r0=_y;var Ty=ka-_y<0;if(Sa<0){var ba=ua.r;ua.r=ua.r0,ua.r0=ba}return Ty}},elementCreator={cartesian2d:function(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey){var My=new Rect$2({shape:extend({},ba),z2:1});if(My.__dataIndex=Sa,My.name="item",_y){var Dy=My.shape,Iy=ka?"height":"width";Dy[Iy]=0}return My},polar:function(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey){var My=!ka&&Ey?SausagePath:Sector,Dy=new My({shape:ba,z2:1});Dy.name="item";var Iy=createPolarPositionMapping(ka);if(Dy.calculateTextPosition=createSectorCalculateTextPosition(Iy,{isRoundCap:My===SausagePath}),_y){var Ly=Dy.shape,Py=ka?"r":"endAngle",Ry={};Ly[Py]=ka?ba.r0:ba.startAngle,Ry[Py]=ba[Py],(Ay?updateProps$1:initProps)(Dy,{shape:Ry},_y)}return Dy}};function shouldRealtimeSort(ha,ua){var Sa=ha.get("realtimeSort",!0),ba=ua.getBaseAxis();if(Sa&&ba.type==="category"&&ua.type==="cartesian2d")return{baseAxis:ba,otherAxis:ua.getOtherAxis(ba)}}function updateRealtimeAnimation(ha,ua,Sa,ba,ka,_y,Ty,Ay){var Ey,My;_y?(My={x:ba.x,width:ba.width},Ey={y:ba.y,height:ba.height}):(My={y:ba.y,height:ba.height},Ey={x:ba.x,width:ba.width}),Ay||(Ty?updateProps$1:initProps)(Sa,{shape:Ey},ua,ka,null);var Dy=ua?ha.baseAxis.model:null;(Ty?updateProps$1:initProps)(Sa,{shape:My},Dy,ka)}function checkPropertiesNotValid(ha,ua){for(var Sa=0;Sa<ua.length;Sa++)if(!isFinite(ha[ua[Sa]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(ha){return!checkPropertiesNotValid(ha,rectPropties)},polar:function(ha){return!checkPropertiesNotValid(ha,polarPropties)}},getLayout={cartesian2d:function(ha,ua,Sa){var ba=ha.getItemLayout(ua),ka=Sa?getLineWidth(Sa,ba):0,_y=ba.width>0?1:-1,Ty=ba.height>0?1:-1;return{x:ba.x+_y*ka/2,y:ba.y+Ty*ka/2,width:ba.width-_y*ka,height:ba.height-Ty*ka}},polar:function(ha,ua,Sa){var ba=ha.getItemLayout(ua);return{cx:ba.cx,cy:ba.cy,r0:ba.r0,r:ba.r,startAngle:ba.startAngle,endAngle:ba.endAngle,clockwise:ba.clockwise}}};function isZeroOnPolar(ha){return ha.startAngle!=null&&ha.endAngle!=null&&ha.startAngle===ha.endAngle}function createPolarPositionMapping(ha){return function(ua){var Sa=ua?"Arc":"Angle";return function(ba){switch(ba){case"start":case"insideStart":case"end":case"insideEnd":return ba+Sa;default:return ba}}}(ha)}function updateStyle(ha,ua,Sa,ba,ka,_y,Ty,Ay){var Ey=ua.getItemVisual(Sa,"style");if(Ay){if(!_y.get("roundCap")){var Dy=ha.shape,Iy=getSectorCornerRadius(ba.getModel("itemStyle"),Dy,!0);extend(Dy,Iy),ha.setShape(Dy)}}else{var My=ba.get(["itemStyle","borderRadius"])||0;ha.setShape("r",My)}ha.useStyle(Ey);var Ly=ba.getShallow("cursor");Ly&&ha.attr("cursor",Ly);var Py=Ay?Ty?ka.r>=ka.r0?"endArc":"startArc":ka.endAngle>=ka.startAngle?"endAngle":"startAngle":Ty?ka.height>=0?"bottom":"top":ka.width>=0?"right":"left",Ry=getLabelStatesModels(ba);setLabelStyle(ha,Ry,{labelFetcher:_y,labelDataIndex:Sa,defaultText:getDefaultLabel(_y.getData(),Sa),inheritColor:Ey.fill,defaultOpacity:Ey.opacity,defaultOutsidePosition:Py});var Vy=ha.getTextContent();if(Ay&&Vy){var Ny=ba.get(["label","position"]);ha.textConfig.inside=Ny==="middle"?!0:null,setSectorTextRotation(ha,Ny==="outside"?Py:Ny,createPolarPositionMapping(Ty),ba.get(["label","rotate"]))}setLabelValueAnimation(Vy,Ry,_y.getRawValue(Sa),function(Oy){return getDefaultInterpolatedLabel(ua,Oy)});var By=ba.getModel(["emphasis"]);toggleHoverEmphasis(ha,By.get("focus"),By.get("blurScope"),By.get("disabled")),setStatesStylesFromModel(ha,ba),isZeroOnPolar(ka)&&(ha.style.fill="none",ha.style.stroke="none",each$f(ha.states,function(Oy){Oy.style&&(Oy.style.fill=Oy.style.stroke="none")}))}function getLineWidth(ha,ua){var Sa=ha.get(["itemStyle","borderColor"]);if(!Sa||Sa==="none")return 0;var ba=ha.get(["itemStyle","borderWidth"])||0,ka=isNaN(ua.width)?Number.MAX_VALUE:Math.abs(ua.width),_y=isNaN(ua.height)?Number.MAX_VALUE:Math.abs(ua.height);return Math.min(ba,ka,_y)}var LagePathShape=function(){function ha(){}return ha}(),LargePath=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba.type="largeBar",ba}return ua.prototype.getDefaultShape=function(){return new LagePathShape},ua.prototype.buildPath=function(Sa,ba){for(var ka=ba.points,_y=this.baseDimIdx,Ty=1-this.baseDimIdx,Ay=[],Ey=[],My=this.barWidth,Dy=0;Dy<ka.length;Dy+=3)Ey[_y]=My,Ey[Ty]=ka[Dy+2],Ay[_y]=ka[Dy+_y],Ay[Ty]=ka[Dy+Ty],Sa.rect(Ay[0],Ay[1],Ey[0],Ey[1])},ua}(Path);function createLarge$1(ha,ua,Sa,ba){var ka=ha.getData(),_y=ka.getLayout("valueAxisHorizontal")?1:0,Ty=ka.getLayout("largeDataIndices"),Ay=ka.getLayout("size"),Ey=ha.getModel("backgroundStyle"),My=ka.getLayout("largeBackgroundPoints");if(My){var Dy=new LargePath({shape:{points:My},incremental:!!ba,silent:!0,z2:0});Dy.baseDimIdx=_y,Dy.largeDataIndices=Ty,Dy.barWidth=Ay,Dy.useStyle(Ey.getItemStyle()),ua.add(Dy),Sa&&Sa.push(Dy)}var Iy=new LargePath({shape:{points:ka.getLayout("largePoints")},incremental:!!ba,ignoreCoarsePointer:!0,z2:1});Iy.baseDimIdx=_y,Iy.largeDataIndices=Ty,Iy.barWidth=Ay,ua.add(Iy),Iy.useStyle(ka.getVisual("style")),Iy.style.stroke=null,getECData(Iy).seriesIndex=ha.seriesIndex,ha.get("silent")||(Iy.on("mousedown",largePathUpdateDataIndex),Iy.on("mousemove",largePathUpdateDataIndex)),Sa&&Sa.push(Iy)}var largePathUpdateDataIndex=throttle(function(ha){var ua=this,Sa=largePathFindDataIndex(ua,ha.offsetX,ha.offsetY);getECData(ua).dataIndex=Sa>=0?Sa:null},30,!1);function largePathFindDataIndex(ha,ua,Sa){for(var ba=ha.baseDimIdx,ka=1-ba,_y=ha.shape.points,Ty=ha.largeDataIndices,Ay=[],Ey=[],My=ha.barWidth,Dy=0,Iy=_y.length/3;Dy<Iy;Dy++){var Ly=Dy*3;if(Ey[ba]=My,Ey[ka]=_y[Ly+2],Ay[ba]=_y[Ly+ba],Ay[ka]=_y[Ly+ka],Ey[ka]<0&&(Ay[ka]+=Ey[ka],Ey[ka]=-Ey[ka]),ua>=Ay[0]&&ua<=Ay[0]+Ey[0]&&Sa>=Ay[1]&&Sa<=Ay[1]+Ey[1])return Ty[Dy]}return-1}function createBackgroundShape(ha,ua,Sa){if(isCoordinateSystemType(Sa,"cartesian2d")){var ba=ua,ka=Sa.getArea();return{x:ha?ba.x:ka.x,y:ha?ka.y:ba.y,width:ha?ba.width:ka.width,height:ha?ka.height:ba.height}}else{var ka=Sa.getArea(),_y=ua;return{cx:ka.cx,cy:ka.cy,r0:ha?ka.r0:_y.r0,r:ha?ka.r:_y.r,startAngle:ha?_y.startAngle:0,endAngle:ha?_y.endAngle:Math.PI*2}}}function createBackgroundEl(ha,ua,Sa){var ba=ha.type==="polar"?Sector:Rect$2;return new ba({shape:createBackgroundShape(ua,Sa,ha),silent:!0,z2:0})}function install$P(ha){ha.registerChartView(BarView),ha.registerSeriesModel(BarSeriesModel),ha.registerLayout(ha.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),ha.registerLayout(ha.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),ha.registerProcessor(ha.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),ha.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(ua,Sa){var ba=ua.componentType||"series";Sa.eachComponent({mainType:ba,query:ua},function(ka){ua.sortInfo&&ka.axis.setCategorySortInfo(ua.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(ha,ua){return getLayoutRect(ha.getBoxLayoutParams(),{width:ua.getWidth(),height:ua.getHeight()})}function getBasicPieLayout(ha,ua){var Sa=getViewRect$5(ha,ua),ba=ha.get("center"),ka=ha.get("radius");isArray$1(ka)||(ka=[0,ka]);var _y=parsePercent(Sa.width,ua.getWidth()),Ty=parsePercent(Sa.height,ua.getHeight()),Ay=Math.min(_y,Ty),Ey=parsePercent(ka[0],Ay/2),My=parsePercent(ka[1],Ay/2),Dy,Iy,Ly=ha.coordinateSystem;if(Ly){var Py=Ly.dataToPoint(ba);Dy=Py[0]||0,Iy=Py[1]||0}else isArray$1(ba)||(ba=[ba,ba]),Dy=parsePercent(ba[0],_y)+Sa.x,Iy=parsePercent(ba[1],Ty)+Sa.y;return{cx:Dy,cy:Iy,r0:Ey,r:My}}function pieLayout(ha,ua,Sa){ua.eachSeriesByType(ha,function(ba){var ka=ba.getData(),_y=ka.mapDimension("value"),Ty=getViewRect$5(ba,Sa),Ay=getBasicPieLayout(ba,Sa),Ey=Ay.cx,My=Ay.cy,Dy=Ay.r,Iy=Ay.r0,Ly=-ba.get("startAngle")*RADIAN$2,Py=ba.get("endAngle"),Ry=ba.get("padAngle")*RADIAN$2;Py=Py==="auto"?Ly-PI2:-Py*RADIAN$2;var Vy=ba.get("minAngle")*RADIAN$2,Ny=Vy+Ry,By=0;ka.each(_y,function(r_){!isNaN(r_)&&By++});var Oy=ka.getSum(_y),Fy=Math.PI/(Oy||By)*2,zy=ba.get("clockwise"),Hy=ba.get("roseType"),Gy=ba.get("stillShowZeroSum"),Wy=ka.getDataExtent(_y);Wy[0]=0;var Uy=zy?1:-1,Yy=[Ly,Py],jy=Uy*Ry/2;normalizeArcAngles(Yy,!zy),Ly=Yy[0],Py=Yy[1];var Ky=getSeriesLayoutData(ba);Ky.startAngle=Ly,Ky.endAngle=Py,Ky.clockwise=zy;var Xy=Math.abs(Py-Ly),Zy=Xy,Jy=0,t_=Ly;if(ka.setLayout({viewRect:Ty,r:Dy}),ka.each(_y,function(r_,i_){var l_;if(isNaN(r_)){ka.setItemLayout(i_,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:zy,cx:Ey,cy:My,r0:Iy,r:Hy?NaN:Dy});return}Hy!=="area"?l_=Oy===0&&Gy?Fy:r_*Fy:l_=Xy/By,l_<Ny?(l_=Ny,Zy-=Ny):Jy+=r_;var c_=t_+Uy*l_,d_=0,f_=0;Ry>l_?(d_=t_+Uy*l_/2,f_=d_):(d_=t_+jy,f_=c_-jy),ka.setItemLayout(i_,{angle:l_,startAngle:d_,endAngle:f_,clockwise:zy,cx:Ey,cy:My,r0:Iy,r:Hy?linearMap$2(r_,Wy,[Iy,Dy]):Dy}),t_=c_}),Zy<PI2&&By)if(Zy<=.001){var Qy=Xy/By;ka.each(_y,function(r_,i_){if(!isNaN(r_)){var l_=ka.getItemLayout(i_);l_.angle=Qy;var c_=0,d_=0;Qy<Ry?(c_=Ly+Uy*(i_+1/2)*Qy,d_=c_):(c_=Ly+Uy*i_*Qy+jy,d_=Ly+Uy*(i_+1)*Qy-jy),l_.startAngle=c_,l_.endAngle=d_}})}else Fy=Zy/Jy,t_=Ly,ka.each(_y,function(r_,i_){if(!isNaN(r_)){var l_=ka.getItemLayout(i_),c_=l_.angle===Ny?Ny:r_*Fy,d_=0,f_=0;c_<Ry?(d_=t_+Uy*c_/2,f_=d_):(d_=t_+jy,f_=t_+Uy*c_-jy),l_.startAngle=d_,l_.endAngle=f_,t_+=Uy*c_}})})}var getSeriesLayoutData=makeInner();function dataFilter$1(ha){return{seriesType:ha,reset:function(ua,Sa){var ba=Sa.findComponents({mainType:"legend"});if(!(!ba||!ba.length)){var ka=ua.getData();ka.filterSelf(function(_y){for(var Ty=ka.getName(_y),Ay=0;Ay<ba.length;Ay++)if(!ba[Ay].isSelected(Ty))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My){if(ha.length<2)return;function Dy(Vy){for(var Ny=Vy.rB,By=Ny*Ny,Oy=0;Oy<Vy.list.length;Oy++){var Fy=Vy.list[Oy],zy=Math.abs(Fy.label.y-Sa),Hy=ba+Fy.len,Gy=Hy*Hy,Wy=Math.sqrt(Math.abs((1-zy*zy/By)*Gy)),Uy=ua+(Wy+Fy.len2)*ka,Yy=Uy-Fy.label.x,jy=Fy.targetTextWidth-Yy*ka;constrainTextWidth(Fy,jy,!0),Fy.label.x=Uy}}function Iy(Vy){for(var Ny={list:[],maxY:0},By={list:[],maxY:0},Oy=0;Oy<Vy.length;Oy++)if(Vy[Oy].labelAlignTo==="none"){var Fy=Vy[Oy],zy=Fy.label.y>Sa?By:Ny,Hy=Math.abs(Fy.label.y-Sa);if(Hy>=zy.maxY){var Gy=Fy.label.x-ua-Fy.len2*ka,Wy=ba+Fy.len,Uy=Math.abs(Gy)<Wy?Math.sqrt(Hy*Hy/(1-Gy*Gy/Wy/Wy)):Wy;zy.rB=Uy,zy.maxY=Hy}zy.list.push(Fy)}Dy(Ny),Dy(By)}for(var Ly=ha.length,Py=0;Py<Ly;Py++)if(ha[Py].position==="outer"&&ha[Py].labelAlignTo==="labelLine"){var Ry=ha[Py].label.x-My;ha[Py].linePoints[1][0]+=Ry,ha[Py].label.x=My}shiftLayoutOnY(ha,Ey,Ey+Ty)&&Iy(ha)}function avoidOverlap(ha,ua,Sa,ba,ka,_y,Ty,Ay){for(var Ey=[],My=[],Dy=Number.MAX_VALUE,Iy=-Number.MAX_VALUE,Ly=0;Ly<ha.length;Ly++){var Py=ha[Ly].label;isPositionCenter(ha[Ly])||(Py.x<ua?(Dy=Math.min(Dy,Py.x),Ey.push(ha[Ly])):(Iy=Math.max(Iy,Py.x),My.push(ha[Ly])))}for(var Ly=0;Ly<ha.length;Ly++){var Ry=ha[Ly];if(!isPositionCenter(Ry)&&Ry.linePoints){if(Ry.labelStyleWidth!=null)continue;var Py=Ry.label,Vy=Ry.linePoints,Ny=void 0;Ry.labelAlignTo==="edge"?Py.x<ua?Ny=Vy[2][0]-Ry.labelDistance-Ty-Ry.edgeDistance:Ny=Ty+ka-Ry.edgeDistance-Vy[2][0]-Ry.labelDistance:Ry.labelAlignTo==="labelLine"?Py.x<ua?Ny=Dy-Ty-Ry.bleedMargin:Ny=Ty+ka-Iy-Ry.bleedMargin:Py.x<ua?Ny=Py.x-Ty-Ry.bleedMargin:Ny=Ty+ka-Py.x-Ry.bleedMargin,Ry.targetTextWidth=Ny,constrainTextWidth(Ry,Ny)}}adjustSingleSide(My,ua,Sa,ba,1,ka,_y,Ty,Ay,Iy),adjustSingleSide(Ey,ua,Sa,ba,-1,ka,_y,Ty,Ay,Dy);for(var Ly=0;Ly<ha.length;Ly++){var Ry=ha[Ly];if(!isPositionCenter(Ry)&&Ry.linePoints){var Py=Ry.label,Vy=Ry.linePoints,By=Ry.labelAlignTo==="edge",Oy=Py.style.padding,Fy=Oy?Oy[1]+Oy[3]:0,zy=Py.style.backgroundColor?0:Fy,Hy=Ry.rect.width+zy,Gy=Vy[1][0]-Vy[2][0];By?Py.x<ua?Vy[2][0]=Ty+Ry.edgeDistance+Hy+Ry.labelDistance:Vy[2][0]=Ty+ka-Ry.edgeDistance-Hy-Ry.labelDistance:(Py.x<ua?Vy[2][0]=Py.x+Ry.labelDistance:Vy[2][0]=Py.x-Ry.labelDistance,Vy[1][0]=Vy[2][0]+Gy),Vy[1][1]=Vy[2][1]=Py.y}}}function constrainTextWidth(ha,ua,Sa){if(Sa===void 0&&(Sa=!1),ha.labelStyleWidth==null){var ba=ha.label,ka=ba.style,_y=ha.rect,Ty=ka.backgroundColor,Ay=ka.padding,Ey=Ay?Ay[1]+Ay[3]:0,My=ka.overflow,Dy=_y.width+(Ty?0:Ey);if(ua<Dy||Sa){var Iy=_y.height;if(My&&My.match("break")){ba.setStyle("backgroundColor",null),ba.setStyle("width",ua-Ey);var Ly=ba.getBoundingRect();ba.setStyle("width",Math.ceil(Ly.width)),ba.setStyle("backgroundColor",Ty)}else{var Py=ua-Ey,Ry=ua<Dy?Py:Sa?Py>ha.unconstrainedWidth?null:Py:null;ba.setStyle("width",Ry)}var Vy=ba.getBoundingRect();_y.width=Vy.width;var Ny=(ba.style.margin||0)+2.1;_y.height=Vy.height+Ny,_y.y-=(_y.height-Iy)/2}}}function isPositionCenter(ha){return ha.position==="center"}function pieLabelLayout(ha){var ua=ha.getData(),Sa=[],ba,ka,_y=!1,Ty=(ha.get("minShowLabelAngle")||0)*RADIAN$1,Ay=ua.getLayout("viewRect"),Ey=ua.getLayout("r"),My=Ay.width,Dy=Ay.x,Iy=Ay.y,Ly=Ay.height;function Py(Gy){Gy.ignore=!0}function Ry(Gy){if(!Gy.ignore)return!0;for(var Wy in Gy.states)if(Gy.states[Wy].ignore===!1)return!0;return!1}ua.each(function(Gy){var Wy=ua.getItemGraphicEl(Gy),Uy=Wy.shape,Yy=Wy.getTextContent(),jy=Wy.getTextGuideLine(),Ky=ua.getItemModel(Gy),Xy=Ky.getModel("label"),Zy=Xy.get("position")||Ky.get(["emphasis","label","position"]),Jy=Xy.get("distanceToLabelLine"),t_=Xy.get("alignTo"),Qy=parsePercent(Xy.get("edgeDistance"),My),r_=Xy.get("bleedMargin"),i_=Ky.getModel("labelLine"),l_=i_.get("length");l_=parsePercent(l_,My);var c_=i_.get("length2");if(c_=parsePercent(c_,My),Math.abs(Uy.endAngle-Uy.startAngle)<Ty){each$f(Yy.states,Py),Yy.ignore=!0,jy&&(each$f(jy.states,Py),jy.ignore=!0);return}if(Ry(Yy)){var d_=(Uy.startAngle+Uy.endAngle)/2,f_=Math.cos(d_),m_=Math.sin(d_),b_,$_,A_,v_;ba=Uy.cx,ka=Uy.cy;var g_=Zy==="inside"||Zy==="inner";if(Zy==="center")b_=Uy.cx,$_=Uy.cy,v_="center";else{var p_=(g_?(Uy.r+Uy.r0)/2*f_:Uy.r*f_)+ba,o_=(g_?(Uy.r+Uy.r0)/2*m_:Uy.r*m_)+ka;if(b_=p_+f_*3,$_=o_+m_*3,!g_){var n_=p_+f_*(l_+Ey-Uy.r),qy=o_+m_*(l_+Ey-Uy.r),e_=n_+(f_<0?-1:1)*c_,a_=qy;t_==="edge"?b_=f_<0?Dy+Qy:Dy+My-Qy:b_=e_+(f_<0?-Jy:Jy),$_=a_,A_=[[p_,o_],[n_,qy],[e_,a_]]}v_=g_?"center":t_==="edge"?f_>0?"right":"left":f_>0?"left":"right"}var s_=Math.PI,u_=0,h_=Xy.get("rotate");if(isNumber(h_))u_=h_*(s_/180);else if(Zy==="center")u_=0;else if(h_==="radial"||h_===!0){var __=f_<0?-d_+s_:-d_;u_=__}else if(h_==="tangential"&&Zy!=="outside"&&Zy!=="outer"){var y_=Math.atan2(f_,m_);y_<0&&(y_=s_*2+y_);var w_=m_>0;w_&&(y_=s_+y_),u_=y_-s_}if(_y=!!u_,Yy.x=b_,Yy.y=$_,Yy.rotation=u_,Yy.setStyle({verticalAlign:"middle"}),g_){Yy.setStyle({align:v_});var x_=Yy.states.select;x_&&(x_.x+=Yy.x,x_.y+=Yy.y)}else{var S_=Yy.getBoundingRect().clone();S_.applyTransform(Yy.getComputedTransform());var C_=(Yy.style.margin||0)+2.1;S_.y-=C_/2,S_.height+=C_,Sa.push({label:Yy,labelLine:jy,position:Zy,len:l_,len2:c_,minTurnAngle:i_.get("minTurnAngle"),maxSurfaceAngle:i_.get("maxSurfaceAngle"),surfaceNormal:new Point(f_,m_),linePoints:A_,textAlign:v_,labelDistance:Jy,labelAlignTo:t_,edgeDistance:Qy,bleedMargin:r_,rect:S_,unconstrainedWidth:S_.width,labelStyleWidth:Yy.style.width})}Wy.setTextConfig({inside:g_})}}),!_y&&ha.get("avoidLabelOverlap")&&avoidOverlap(Sa,ba,ka,Ey,My,Ly,Dy,Iy);for(var Vy=0;Vy<Sa.length;Vy++){var Ny=Sa[Vy],By=Ny.label,Oy=Ny.labelLine,Fy=isNaN(By.x)||isNaN(By.y);if(By){By.setStyle({align:Ny.textAlign}),Fy&&(each$f(By.states,Py),By.ignore=!0);var zy=By.states.select;zy&&(zy.x+=By.x,zy.y+=By.y)}if(Oy){var Hy=Ny.linePoints;Fy||!Hy?(each$f(Oy.states,Py),Oy.ignore=!0):(limitTurnAngle(Hy,Ny.minTurnAngle),limitSurfaceAngle(Hy,Ny.surfaceNormal,Ny.maxSurfaceAngle),Oy.setShape({points:Hy}),By.__hostTarget.textGuideLineConfig={anchor:new Point(Hy[0][0],Hy[0][1])})}}}var PiePiece=function(ha){__extends(ua,ha);function ua(Sa,ba,ka){var _y=ha.call(this)||this;_y.z2=2;var Ty=new ZRText;return _y.setTextContent(Ty),_y.updateData(Sa,ba,ka,!0),_y}return ua.prototype.updateData=function(Sa,ba,ka,_y){var Ty=this,Ay=Sa.hostModel,Ey=Sa.getItemModel(ba),My=Ey.getModel("emphasis"),Dy=Sa.getItemLayout(ba),Iy=extend(getSectorCornerRadius(Ey.getModel("itemStyle"),Dy,!0),Dy);if(isNaN(Iy.startAngle)){Ty.setShape(Iy);return}if(_y){Ty.setShape(Iy);var Ly=Ay.getShallow("animationType");Ay.ecModel.ssr?(initProps(Ty,{scaleX:0,scaleY:0},Ay,{dataIndex:ba,isFrom:!0}),Ty.originX=Iy.cx,Ty.originY=Iy.cy):Ly==="scale"?(Ty.shape.r=Dy.r0,initProps(Ty,{shape:{r:Dy.r}},Ay,ba)):ka!=null?(Ty.setShape({startAngle:ka,endAngle:ka}),initProps(Ty,{shape:{startAngle:Dy.startAngle,endAngle:Dy.endAngle}},Ay,ba)):(Ty.shape.endAngle=Dy.startAngle,updateProps$1(Ty,{shape:{endAngle:Dy.endAngle}},Ay,ba))}else saveOldStyle(Ty),updateProps$1(Ty,{shape:Iy},Ay,ba);Ty.useStyle(Sa.getItemVisual(ba,"style")),setStatesStylesFromModel(Ty,Ey);var Py=(Dy.startAngle+Dy.endAngle)/2,Ry=Ay.get("selectedOffset"),Vy=Math.cos(Py)*Ry,Ny=Math.sin(Py)*Ry,By=Ey.getShallow("cursor");By&&Ty.attr("cursor",By),this._updateLabel(Ay,Sa,ba),Ty.ensureState("emphasis").shape=extend({r:Dy.r+(My.get("scale")&&My.get("scaleSize")||0)},getSectorCornerRadius(My.getModel("itemStyle"),Dy)),extend(Ty.ensureState("select"),{x:Vy,y:Ny,shape:getSectorCornerRadius(Ey.getModel(["select","itemStyle"]),Dy)}),extend(Ty.ensureState("blur"),{shape:getSectorCornerRadius(Ey.getModel(["blur","itemStyle"]),Dy)});var Oy=Ty.getTextGuideLine(),Fy=Ty.getTextContent();Oy&&extend(Oy.ensureState("select"),{x:Vy,y:Ny}),extend(Fy.ensureState("select"),{x:Vy,y:Ny}),toggleHoverEmphasis(this,My.get("focus"),My.get("blurScope"),My.get("disabled"))},ua.prototype._updateLabel=function(Sa,ba,ka){var _y=this,Ty=ba.getItemModel(ka),Ay=Ty.getModel("labelLine"),Ey=ba.getItemVisual(ka,"style"),My=Ey&&Ey.fill,Dy=Ey&&Ey.opacity;setLabelStyle(_y,getLabelStatesModels(Ty),{labelFetcher:ba.hostModel,labelDataIndex:ka,inheritColor:My,defaultOpacity:Dy,defaultText:Sa.getFormattedLabel(ka,"normal")||ba.getName(ka)});var Iy=_y.getTextContent();_y.setTextConfig({position:null,rotation:null}),Iy.attr({z2:10});var Ly=Sa.get(["label","position"]);if(Ly!=="outside"&&Ly!=="outer")_y.removeTextGuideLine();else{var Py=this.getTextGuideLine();Py||(Py=new Polyline$1,this.setTextGuideLine(Py)),setLabelLineStyle(this,getLabelLineStatesModels(Ty),{stroke:My,opacity:retrieve3(Ay.get(["lineStyle","opacity"]),Dy,1)})}},ua}(Sector),PieView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.ignoreLabelLineUpdate=!0,Sa}return ua.prototype.render=function(Sa,ba,ka,_y){var Ty=Sa.getData(),Ay=this._data,Ey=this.group,My;if(!Ay&&Ty.count()>0){for(var Dy=Ty.getItemLayout(0),Iy=1;isNaN(Dy&&Dy.startAngle)&&Iy<Ty.count();++Iy)Dy=Ty.getItemLayout(Iy);Dy&&(My=Dy.startAngle)}if(this._emptyCircleSector&&Ey.remove(this._emptyCircleSector),Ty.count()===0&&Sa.get("showEmptyCircle")){var Ly=getSeriesLayoutData(Sa),Py=new Sector({shape:extend(getBasicPieLayout(Sa,ka),Ly)});Py.useStyle(Sa.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=Py,Ey.add(Py)}Ty.diff(Ay).add(function(Ry){var Vy=new PiePiece(Ty,Ry,My);Ty.setItemGraphicEl(Ry,Vy),Ey.add(Vy)}).update(function(Ry,Vy){var Ny=Ay.getItemGraphicEl(Vy);Ny.updateData(Ty,Ry,My),Ny.off("click"),Ey.add(Ny),Ty.setItemGraphicEl(Ry,Ny)}).remove(function(Ry){var Vy=Ay.getItemGraphicEl(Ry);removeElementWithFadeOut(Vy,Sa,Ry)}).execute(),pieLabelLayout(Sa),Sa.get("animationTypeUpdate")!=="expansion"&&(this._data=Ty)},ua.prototype.dispose=function(){},ua.prototype.containPoint=function(Sa,ba){var ka=ba.getData(),_y=ka.getItemLayout(0);if(_y){var Ty=Sa[0]-_y.cx,Ay=Sa[1]-_y.cy,Ey=Math.sqrt(Ty*Ty+Ay*Ay);return Ey<=_y.r&&Ey>=_y.r0}},ua.type="pie",ua}(ChartView);function createSeriesDataSimply(ha,ua,Sa){ua=isArray$1(ua)&&{coordDimensions:ua}||extend({encodeDefine:ha.getEncode()},ua);var ba=ha.getSource(),ka=prepareSeriesDataSchema(ba,ua).dimensions,_y=new SeriesData(ka,ha);return _y.initData(ba,Sa),_y}var LegendVisualProvider=function(){function ha(ua,Sa){this._getDataWithEncodedVisual=ua,this._getRawData=Sa}return ha.prototype.getAllNames=function(){var ua=this._getRawData();return ua.mapArray(ua.getName)},ha.prototype.containName=function(ua){var Sa=this._getRawData();return Sa.indexOfName(ua)>=0},ha.prototype.indexOfName=function(ua){var Sa=this._getDataWithEncodedVisual();return Sa.indexOfName(ua)},ha.prototype.getItemVisual=function(ua,Sa){var ba=this._getDataWithEncodedVisual();return ba.getItemVisual(ua,Sa)},ha}(),innerData=makeInner(),PieSeriesModel=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.init=function(Sa){ha.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(Sa)},ua.prototype.mergeOption=function(){ha.prototype.mergeOption.apply(this,arguments)},ua.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},ua.prototype.getDataParams=function(Sa){var ba=this.getData(),ka=innerData(ba),_y=ka.seats;if(!_y){var Ty=[];ba.each(ba.mapDimension("value"),function(Ey){Ty.push(Ey)}),_y=ka.seats=getPercentSeats(Ty,ba.hostModel.get("percentPrecision"))}var Ay=ha.prototype.getDataParams.call(this,Sa);return Ay.percent=_y[Sa]||0,Ay.$vars.push("percent"),Ay},ua.prototype._defaultLabelLine=function(Sa){defaultEmphasis(Sa,"labelLine",["show"]);var ba=Sa.labelLine,ka=Sa.emphasis.labelLine;ba.show=ba.show&&Sa.label.show,ka.show=ka.show&&Sa.emphasis.label.show},ua.type="series.pie",ua.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},ua}(SeriesModel);function negativeDataFilter(ha){return{seriesType:ha,reset:function(ua,Sa){var ba=ua.getData();ba.filterSelf(function(ka){var _y=ba.mapDimension("value"),Ty=ba.get(_y,ka);return!(isNumber(Ty)&&!isNaN(Ty)&&Ty<0)})}}}function install$O(ha){ha.registerChartView(PieView),ha.registerSeriesModel(PieSeriesModel),createLegacyDataSelectAction("pie",ha.registerAction),ha.registerLayout(curry$1(pieLayout,"pie")),ha.registerProcessor(dataFilter$1("pie")),ha.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.hasSymbolVisual=!0,Sa}return ua.prototype.getInitialData=function(Sa,ba){return createSeriesData(null,this,{useEncodeDefaulter:!0})},ua.prototype.getProgressive=function(){var Sa=this.option.progressive;return Sa??(this.option.large?5e3:this.get("progressive"))},ua.prototype.getProgressiveThreshold=function(){var Sa=this.option.progressiveThreshold;return Sa??(this.option.large?1e4:this.get("progressiveThreshold"))},ua.prototype.brushSelector=function(Sa,ba,ka){return ka.point(ba.getItemLayout(Sa))},ua.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},ua.type="series.scatter",ua.dependencies=["grid","polar","geo","singleAxis","calendar"],ua.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},ua}(SeriesModel),BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function ha(){}return ha}(),LargeSymbolPath=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba._off=0,ba.hoverDataIdx=-1,ba}return ua.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},ua.prototype.reset=function(){this.notClear=!1,this._off=0},ua.prototype.buildPath=function(Sa,ba){var ka=ba.points,_y=ba.size,Ty=this.symbolProxy,Ay=Ty.shape,Ey=Sa.getContext?Sa.getContext():Sa,My=Ey&&_y[0]<BOOST_SIZE_THRESHOLD,Dy=this.softClipShape,Iy;if(My){this._ctx=Ey;return}for(this._ctx=null,Iy=this._off;Iy<ka.length;){var Ly=ka[Iy++],Py=ka[Iy++];isNaN(Ly)||isNaN(Py)||Dy&&!Dy.contain(Ly,Py)||(Ay.x=Ly-_y[0]/2,Ay.y=Py-_y[1]/2,Ay.width=_y[0],Ay.height=_y[1],Ty.buildPath(Sa,Ay,!0))}this.incremental&&(this._off=Iy,this.notClear=!0)},ua.prototype.afterBrush=function(){var Sa=this.shape,ba=Sa.points,ka=Sa.size,_y=this._ctx,Ty=this.softClipShape,Ay;if(_y){for(Ay=this._off;Ay<ba.length;){var Ey=ba[Ay++],My=ba[Ay++];isNaN(Ey)||isNaN(My)||Ty&&!Ty.contain(Ey,My)||_y.fillRect(Ey-ka[0]/2,My-ka[1]/2,ka[0],ka[1])}this.incremental&&(this._off=Ay,this.notClear=!0)}},ua.prototype.findDataIndex=function(Sa,ba){for(var ka=this.shape,_y=ka.points,Ty=ka.size,Ay=Math.max(Ty[0],4),Ey=Math.max(Ty[1],4),My=_y.length/2-1;My>=0;My--){var Dy=My*2,Iy=_y[Dy]-Ay/2,Ly=_y[Dy+1]-Ey/2;if(Sa>=Iy&&ba>=Ly&&Sa<=Iy+Ay&&ba<=Ly+Ey)return My}return-1},ua.prototype.contain=function(Sa,ba){var ka=this.transformCoordToLocal(Sa,ba),_y=this.getBoundingRect();if(Sa=ka[0],ba=ka[1],_y.contain(Sa,ba)){var Ty=this.hoverDataIdx=this.findDataIndex(Sa,ba);return Ty>=0}return this.hoverDataIdx=-1,!1},ua.prototype.getBoundingRect=function(){var Sa=this._rect;if(!Sa){for(var ba=this.shape,ka=ba.points,_y=ba.size,Ty=_y[0],Ay=_y[1],Ey=1/0,My=1/0,Dy=-1/0,Iy=-1/0,Ly=0;Ly<ka.length;){var Py=ka[Ly++],Ry=ka[Ly++];Ey=Math.min(Py,Ey),Dy=Math.max(Py,Dy),My=Math.min(Ry,My),Iy=Math.max(Ry,Iy)}Sa=this._rect=new BoundingRect(Ey-Ty/2,My-Ay/2,Dy-Ey+Ty,Iy-My+Ay)}return Sa},ua}(Path),LargeSymbolDraw=function(){function ha(){this.group=new Group$3}return ha.prototype.updateData=function(ua,Sa){this._clear();var ba=this._create();ba.setShape({points:ua.getLayout("points")}),this._setCommon(ba,ua,Sa)},ha.prototype.updateLayout=function(ua){var Sa=ua.getLayout("points");this.group.eachChild(function(ba){if(ba.startIndex!=null){var ka=(ba.endIndex-ba.startIndex)*2,_y=ba.startIndex*4*2;Sa=new Float32Array(Sa.buffer,_y,ka)}ba.setShape("points",Sa),ba.reset()})},ha.prototype.incrementalPrepareUpdate=function(ua){this._clear()},ha.prototype.incrementalUpdate=function(ua,Sa,ba){var ka=this._newAdded[0],_y=Sa.getLayout("points"),Ty=ka&&ka.shape.points;if(Ty&&Ty.length<2e4){var Ay=Ty.length,Ey=new Float32Array(Ay+_y.length);Ey.set(Ty),Ey.set(_y,Ay),ka.endIndex=ua.end,ka.setShape({points:Ey})}else{this._newAdded=[];var My=this._create();My.startIndex=ua.start,My.endIndex=ua.end,My.incremental=!0,My.setShape({points:_y}),this._setCommon(My,Sa,ba)}},ha.prototype.eachRendered=function(ua){this._newAdded[0]&&ua(this._newAdded[0])},ha.prototype._create=function(){var ua=new LargeSymbolPath({cursor:"default"});return ua.ignoreCoarsePointer=!0,this.group.add(ua),this._newAdded.push(ua),ua},ha.prototype._setCommon=function(ua,Sa,ba){var ka=Sa.hostModel;ba=ba||{};var _y=Sa.getVisual("symbolSize");ua.setShape("size",_y instanceof Array?_y:[_y,_y]),ua.softClipShape=ba.clipShape||null,ua.symbolProxy=createSymbol$1(Sa.getVisual("symbol"),0,0,0,0),ua.setColor=ua.symbolProxy.setColor;var Ty=ua.shape.size[0]<BOOST_SIZE_THRESHOLD;ua.useStyle(ka.getModel("itemStyle").getItemStyle(Ty?["color","shadowBlur","shadowColor"]:["color"]));var Ay=Sa.getVisual("style"),Ey=Ay&&Ay.fill;Ey&&ua.setColor(Ey);var My=getECData(ua);My.seriesIndex=ka.seriesIndex,ua.on("mousemove",function(Dy){My.dataIndex=null;var Iy=ua.hoverDataIdx;Iy>=0&&(My.dataIndex=Iy+(ua.startIndex||0))})},ha.prototype.remove=function(){this._clear()},ha.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},ha}(),ScatterView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){var _y=Sa.getData(),Ty=this._updateSymbolDraw(_y,Sa);Ty.updateData(_y,{clipShape:this._getClipShape(Sa)}),this._finished=!0},ua.prototype.incrementalPrepareRender=function(Sa,ba,ka){var _y=Sa.getData(),Ty=this._updateSymbolDraw(_y,Sa);Ty.incrementalPrepareUpdate(_y),this._finished=!1},ua.prototype.incrementalRender=function(Sa,ba,ka){this._symbolDraw.incrementalUpdate(Sa,ba.getData(),{clipShape:this._getClipShape(ba)}),this._finished=Sa.end===ba.getData().count()},ua.prototype.updateTransform=function(Sa,ba,ka){var _y=Sa.getData();if(this.group.dirty(),!this._finished||_y.count()>1e4)return{update:!0};var Ty=pointsLayout("").reset(Sa,ba,ka);Ty.progress&&Ty.progress({start:0,end:_y.count(),count:_y.count()},_y),this._symbolDraw.updateLayout(_y)},ua.prototype.eachRendered=function(Sa){this._symbolDraw&&this._symbolDraw.eachRendered(Sa)},ua.prototype._getClipShape=function(Sa){if(Sa.get("clip",!0)){var ba=Sa.coordinateSystem;return ba&&ba.getArea&&ba.getArea(.1)}},ua.prototype._updateSymbolDraw=function(Sa,ba){var ka=this._symbolDraw,_y=ba.pipelineContext,Ty=_y.large;return(!ka||Ty!==this._isLargeDraw)&&(ka&&ka.remove(),ka=this._symbolDraw=Ty?new LargeSymbolDraw:new SymbolDraw,this._isLargeDraw=Ty,this.group.removeAll()),this.group.add(ka.group),ka},ua.prototype.remove=function(Sa,ba){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},ua.prototype.dispose=function(){},ua.type="scatter",ua}(ChartView),GridModel=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.type="grid",ua.dependencies=["xAxis","yAxis"],ua.layoutMode="box",ua.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},ua}(ComponentModel),CartesianAxisModel=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},ua.type="cartesian2dAxis",ua}(ComponentModel);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(ha,ua,Sa,ba){each$f(AXIS_TYPES,function(ka,_y){var Ty=merge(merge({},axisDefault[_y],!0),ba,!0),Ay=function(Ey){__extends(My,Ey);function My(){var Dy=Ey!==null&&Ey.apply(this,arguments)||this;return Dy.type=ua+"Axis."+_y,Dy}return My.prototype.mergeDefaultAndTheme=function(Dy,Iy){var Ly=fetchLayoutMode(this),Py=Ly?getLayoutParams(Dy):{},Ry=Iy.getTheme();merge(Dy,Ry.get(_y+"Axis")),merge(Dy,this.getDefaultOption()),Dy.type=getAxisType(Dy),Ly&&mergeLayoutParam(Dy,Py,Ly)},My.prototype.optionUpdated=function(){var Dy=this.option;Dy.type==="category"&&(this.__ordinalMeta=OrdinalMeta.createByAxisModel(this))},My.prototype.getCategories=function(Dy){var Iy=this.option;if(Iy.type==="category")return Dy?Iy.data:this.__ordinalMeta.categories},My.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},My.type=ua+"Axis."+_y,My.defaultOption=Ty,My}(Sa);ha.registerComponentModel(Ay)}),ha.registerSubTypeDefaulter(ua+"Axis",getAxisType)}function getAxisType(ha){return ha.type||(ha.data?"category":"value")}var Cartesian=function(){function ha(ua){this.type="cartesian",this._dimList=[],this._axes={},this.name=ua||""}return ha.prototype.getAxis=function(ua){return this._axes[ua]},ha.prototype.getAxes=function(){return map$1(this._dimList,function(ua){return this._axes[ua]},this)},ha.prototype.getAxesByScale=function(ua){return ua=ua.toLowerCase(),filter(this.getAxes(),function(Sa){return Sa.scale.type===ua})},ha.prototype.addAxis=function(ua){var Sa=ua.dim;this._axes[Sa]=ua,this._dimList.push(Sa)},ha}(),cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(ha){return ha.type==="interval"||ha.type==="time"}var Cartesian2D=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type="cartesian2d",Sa.dimensions=cartesian2DDimensions,Sa}return ua.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var Sa=this.getAxis("x").scale,ba=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(Sa)||!canCalculateAffineTransform(ba))){var ka=Sa.getExtent(),_y=ba.getExtent(),Ty=this.dataToPoint([ka[0],_y[0]]),Ay=this.dataToPoint([ka[1],_y[1]]),Ey=ka[1]-ka[0],My=_y[1]-_y[0];if(!(!Ey||!My)){var Dy=(Ay[0]-Ty[0])/Ey,Iy=(Ay[1]-Ty[1])/My,Ly=Ty[0]-ka[0]*Dy,Py=Ty[1]-_y[0]*Iy,Ry=this._transform=[Dy,0,0,Iy,Ly,Py];this._invTransform=invert([],Ry)}}},ua.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},ua.prototype.containPoint=function(Sa){var ba=this.getAxis("x"),ka=this.getAxis("y");return ba.contain(ba.toLocalCoord(Sa[0]))&&ka.contain(ka.toLocalCoord(Sa[1]))},ua.prototype.containData=function(Sa){return this.getAxis("x").containData(Sa[0])&&this.getAxis("y").containData(Sa[1])},ua.prototype.containZone=function(Sa,ba){var ka=this.dataToPoint(Sa),_y=this.dataToPoint(ba),Ty=this.getArea(),Ay=new BoundingRect(ka[0],ka[1],_y[0]-ka[0],_y[1]-ka[1]);return Ty.intersect(Ay)},ua.prototype.dataToPoint=function(Sa,ba,ka){ka=ka||[];var _y=Sa[0],Ty=Sa[1];if(this._transform&&_y!=null&&isFinite(_y)&&Ty!=null&&isFinite(Ty))return applyTransform$1(ka,Sa,this._transform);var Ay=this.getAxis("x"),Ey=this.getAxis("y");return ka[0]=Ay.toGlobalCoord(Ay.dataToCoord(_y,ba)),ka[1]=Ey.toGlobalCoord(Ey.dataToCoord(Ty,ba)),ka},ua.prototype.clampData=function(Sa,ba){var ka=this.getAxis("x").scale,_y=this.getAxis("y").scale,Ty=ka.getExtent(),Ay=_y.getExtent(),Ey=ka.parse(Sa[0]),My=_y.parse(Sa[1]);return ba=ba||[],ba[0]=Math.min(Math.max(Math.min(Ty[0],Ty[1]),Ey),Math.max(Ty[0],Ty[1])),ba[1]=Math.min(Math.max(Math.min(Ay[0],Ay[1]),My),Math.max(Ay[0],Ay[1])),ba},ua.prototype.pointToData=function(Sa,ba){var ka=[];if(this._invTransform)return applyTransform$1(ka,Sa,this._invTransform);var _y=this.getAxis("x"),Ty=this.getAxis("y");return ka[0]=_y.coordToData(_y.toLocalCoord(Sa[0]),ba),ka[1]=Ty.coordToData(Ty.toLocalCoord(Sa[1]),ba),ka},ua.prototype.getOtherAxis=function(Sa){return this.getAxis(Sa.dim==="x"?"y":"x")},ua.prototype.getArea=function(Sa){Sa=Sa||0;var ba=this.getAxis("x").getGlobalExtent(),ka=this.getAxis("y").getGlobalExtent(),_y=Math.min(ba[0],ba[1])-Sa,Ty=Math.min(ka[0],ka[1])-Sa,Ay=Math.max(ba[0],ba[1])-_y+Sa,Ey=Math.max(ka[0],ka[1])-Ty+Sa;return new BoundingRect(_y,Ty,Ay,Ey)},ua}(Cartesian),Axis2D=function(ha){__extends(ua,ha);function ua(Sa,ba,ka,_y,Ty){var Ay=ha.call(this,Sa,ba,ka)||this;return Ay.index=0,Ay.type=_y||"value",Ay.position=Ty||"bottom",Ay}return ua.prototype.isHorizontal=function(){var Sa=this.position;return Sa==="top"||Sa==="bottom"},ua.prototype.getGlobalExtent=function(Sa){var ba=this.getExtent();return ba[0]=this.toGlobalCoord(ba[0]),ba[1]=this.toGlobalCoord(ba[1]),Sa&&ba[0]>ba[1]&&ba.reverse(),ba},ua.prototype.pointToData=function(Sa,ba){return this.coordToData(this.toLocalCoord(Sa[this.dim==="x"?0:1]),ba)},ua.prototype.setCategorySortInfo=function(Sa){if(this.type!=="category")return!1;this.model.option.categorySortInfo=Sa,this.scale.setSortInfo(Sa)},ua}(Axis);function layout$2(ha,ua,Sa){Sa=Sa||{};var ba=ha.coordinateSystem,ka=ua.axis,_y={},Ty=ka.getAxesOnZeroOf()[0],Ay=ka.position,Ey=Ty?"onZero":Ay,My=ka.dim,Dy=ba.getRect(),Iy=[Dy.x,Dy.x+Dy.width,Dy.y,Dy.y+Dy.height],Ly={left:0,right:1,top:0,bottom:1,onZero:2},Py=ua.get("offset")||0,Ry=My==="x"?[Iy[2]-Py,Iy[3]+Py]:[Iy[0]-Py,Iy[1]+Py];if(Ty){var Vy=Ty.toGlobalCoord(Ty.dataToCoord(0));Ry[Ly.onZero]=Math.max(Math.min(Vy,Ry[1]),Ry[0])}_y.position=[My==="y"?Ry[Ly[Ey]]:Iy[0],My==="x"?Ry[Ly[Ey]]:Iy[3]],_y.rotation=Math.PI/2*(My==="x"?0:1);var Ny={top:-1,bottom:1,left:-1,right:1};_y.labelDirection=_y.tickDirection=_y.nameDirection=Ny[Ay],_y.labelOffset=Ty?Ry[Ly[Ay]]-Ry[Ly.onZero]:0,ua.get(["axisTick","inside"])&&(_y.tickDirection=-_y.tickDirection),retrieve(Sa.labelInside,ua.get(["axisLabel","inside"]))&&(_y.labelDirection=-_y.labelDirection);var By=ua.get(["axisLabel","rotate"]);return _y.labelRotate=Ey==="top"?-By:By,_y.z2=1,_y}function isCartesian2DSeries(ha){return ha.get("coordinateSystem")==="cartesian2d"}function findAxisModels(ha){var ua={xAxisModel:null,yAxisModel:null};return each$f(ua,function(Sa,ba){var ka=ba.replace(/Model$/,""),_y=ha.getReferringComponents(ka,SINGLE_REFERRING).models[0];ua[ba]=_y}),ua}var mathLog=Math.log;function alignScaleTicks(ha,ua,Sa){var ba=IntervalScale.prototype,ka=ba.getTicks.call(Sa),_y=ba.getTicks.call(Sa,!0),Ty=ka.length-1,Ay=ba.getInterval.call(Sa),Ey=getScaleExtent(ha,ua),My=Ey.extent,Dy=Ey.fixMin,Iy=Ey.fixMax;if(ha.type==="log"){var Ly=mathLog(ha.base);My=[mathLog(My[0])/Ly,mathLog(My[1])/Ly]}ha.setExtent(My[0],My[1]),ha.calcNiceExtent({splitNumber:Ty,fixMin:Dy,fixMax:Iy});var Py=ba.getExtent.call(ha);Dy&&(My[0]=Py[0]),Iy&&(My[1]=Py[1]);var Ry=ba.getInterval.call(ha),Vy=My[0],Ny=My[1];if(Dy&&Iy)Ry=(Ny-Vy)/Ty;else if(Dy)for(Ny=My[0]+Ry*Ty;Ny<My[1]&&isFinite(Ny)&&isFinite(My[1]);)Ry=increaseInterval(Ry),Ny=My[0]+Ry*Ty;else if(Iy)for(Vy=My[1]-Ry*Ty;Vy>My[0]&&isFinite(Vy)&&isFinite(My[0]);)Ry=increaseInterval(Ry),Vy=My[1]-Ry*Ty;else{var By=ha.getTicks().length-1;By>Ty&&(Ry=increaseInterval(Ry));var Oy=Ry*Ty;Ny=Math.ceil(My[1]/Ry)*Ry,Vy=round$3(Ny-Oy),Vy<0&&My[0]>=0?(Vy=0,Ny=round$3(Oy)):Ny>0&&My[1]<=0&&(Ny=0,Vy=-round$3(Oy))}var Fy=(ka[0].value-_y[0].value)/Ay,zy=(ka[Ty].value-_y[Ty].value)/Ay;ba.setExtent.call(ha,Vy+Ry*Fy,Ny+Ry*zy),ba.setInterval.call(ha,Ry),(Fy||zy)&&ba.setNiceExtent.call(ha,Vy+Ry,Ny-Ry)}var Grid=function(){function ha(ua,Sa,ba){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(ua,Sa,ba),this.model=ua}return ha.prototype.getRect=function(){return this._rect},ha.prototype.update=function(ua,Sa){var ba=this._axesMap;this._updateScale(ua,this.model);function ka(Ty){var Ay,Ey=keys(Ty),My=Ey.length;if(My){for(var Dy=[],Iy=My-1;Iy>=0;Iy--){var Ly=+Ey[Iy],Py=Ty[Ly],Ry=Py.model,Vy=Py.scale;isIntervalOrLogScale(Vy)&&Ry.get("alignTicks")&&Ry.get("interval")==null?Dy.push(Py):(niceScaleExtent(Vy,Ry),isIntervalOrLogScale(Vy)&&(Ay=Py))}Dy.length&&(Ay||(Ay=Dy.pop(),niceScaleExtent(Ay.scale,Ay.model)),each$f(Dy,function(Ny){alignScaleTicks(Ny.scale,Ny.model,Ay.scale)}))}}ka(ba.x),ka(ba.y);var _y={};each$f(ba.x,function(Ty){fixAxisOnZero(ba,"y",Ty,_y)}),each$f(ba.y,function(Ty){fixAxisOnZero(ba,"x",Ty,_y)}),this.resize(this.model,Sa)},ha.prototype.resize=function(ua,Sa,ba){var ka=ua.getBoxLayoutParams(),_y=!ba&&ua.get("containLabel"),Ty=getLayoutRect(ka,{width:Sa.getWidth(),height:Sa.getHeight()});this._rect=Ty;var Ay=this._axesList;Ey(),_y&&(each$f(Ay,function(My){if(!My.model.get(["axisLabel","inside"])){var Dy=estimateLabelUnionRect(My);if(Dy){var Iy=My.isHorizontal()?"height":"width",Ly=My.model.get(["axisLabel","margin"]);Ty[Iy]-=Dy[Iy]+Ly,My.position==="top"?Ty.y+=Dy.height+Ly:My.position==="left"&&(Ty.x+=Dy.width+Ly)}}}),Ey()),each$f(this._coordsList,function(My){My.calcAffineTransform()});function Ey(){each$f(Ay,function(My){var Dy=My.isHorizontal(),Iy=Dy?[0,Ty.width]:[0,Ty.height],Ly=My.inverse?1:0;My.setExtent(Iy[Ly],Iy[1-Ly]),updateAxisTransform(My,Dy?Ty.x:Ty.y)})}},ha.prototype.getAxis=function(ua,Sa){var ba=this._axesMap[ua];if(ba!=null)return ba[Sa||0]},ha.prototype.getAxes=function(){return this._axesList.slice()},ha.prototype.getCartesian=function(ua,Sa){if(ua!=null&&Sa!=null){var ba="x"+ua+"y"+Sa;return this._coordsMap[ba]}isObject$3(ua)&&(Sa=ua.yAxisIndex,ua=ua.xAxisIndex);for(var ka=0,_y=this._coordsList;ka<_y.length;ka++)if(_y[ka].getAxis("x").index===ua||_y[ka].getAxis("y").index===Sa)return _y[ka]},ha.prototype.getCartesians=function(){return this._coordsList.slice()},ha.prototype.convertToPixel=function(ua,Sa,ba){var ka=this._findConvertTarget(Sa);return ka.cartesian?ka.cartesian.dataToPoint(ba):ka.axis?ka.axis.toGlobalCoord(ka.axis.dataToCoord(ba)):null},ha.prototype.convertFromPixel=function(ua,Sa,ba){var ka=this._findConvertTarget(Sa);return ka.cartesian?ka.cartesian.pointToData(ba):ka.axis?ka.axis.coordToData(ka.axis.toLocalCoord(ba)):null},ha.prototype._findConvertTarget=function(ua){var Sa=ua.seriesModel,ba=ua.xAxisModel||Sa&&Sa.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],ka=ua.yAxisModel||Sa&&Sa.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],_y=ua.gridModel,Ty=this._coordsList,Ay,Ey;if(Sa)Ay=Sa.coordinateSystem,indexOf(Ty,Ay)<0&&(Ay=null);else if(ba&&ka)Ay=this.getCartesian(ba.componentIndex,ka.componentIndex);else if(ba)Ey=this.getAxis("x",ba.componentIndex);else if(ka)Ey=this.getAxis("y",ka.componentIndex);else if(_y){var My=_y.coordinateSystem;My===this&&(Ay=this._coordsList[0])}return{cartesian:Ay,axis:Ey}},ha.prototype.containPoint=function(ua){var Sa=this._coordsList[0];if(Sa)return Sa.containPoint(ua)},ha.prototype._initCartesian=function(ua,Sa,ba){var ka=this,_y=this,Ty={left:!1,right:!1,top:!1,bottom:!1},Ay={x:{},y:{}},Ey={x:0,y:0};if(Sa.eachComponent("xAxis",My("x"),this),Sa.eachComponent("yAxis",My("y"),this),!Ey.x||!Ey.y){this._axesMap={},this._axesList=[];return}this._axesMap=Ay,each$f(Ay.x,function(Dy,Iy){each$f(Ay.y,function(Ly,Py){var Ry="x"+Iy+"y"+Py,Vy=new Cartesian2D(Ry);Vy.master=ka,Vy.model=ua,ka._coordsMap[Ry]=Vy,ka._coordsList.push(Vy),Vy.addAxis(Dy),Vy.addAxis(Ly)})});function My(Dy){return function(Iy,Ly){if(isAxisUsedInTheGrid(Iy,ua)){var Py=Iy.get("position");Dy==="x"?Py!=="top"&&Py!=="bottom"&&(Py=Ty.bottom?"top":"bottom"):Py!=="left"&&Py!=="right"&&(Py=Ty.left?"right":"left"),Ty[Py]=!0;var Ry=new Axis2D(Dy,createScaleByModel$1(Iy),[0,0],Iy.get("type"),Py),Vy=Ry.type==="category";Ry.onBand=Vy&&Iy.get("boundaryGap"),Ry.inverse=Iy.get("inverse"),Iy.axis=Ry,Ry.model=Iy,Ry.grid=_y,Ry.index=Ly,_y._axesList.push(Ry),Ay[Dy][Ly]=Ry,Ey[Dy]++}}}},ha.prototype._updateScale=function(ua,Sa){each$f(this._axesList,function(ka){if(ka.scale.setExtent(1/0,-1/0),ka.type==="category"){var _y=ka.model.get("categorySortInfo");ka.scale.setSortInfo(_y)}}),ua.eachSeries(function(ka){if(isCartesian2DSeries(ka)){var _y=findAxisModels(ka),Ty=_y.xAxisModel,Ay=_y.yAxisModel;if(!isAxisUsedInTheGrid(Ty,Sa)||!isAxisUsedInTheGrid(Ay,Sa))return;var Ey=this.getCartesian(Ty.componentIndex,Ay.componentIndex),My=ka.getData(),Dy=Ey.getAxis("x"),Iy=Ey.getAxis("y");ba(My,Dy),ba(My,Iy)}},this);function ba(ka,_y){each$f(getDataDimensionsOnAxis(ka,_y.dim),function(Ty){_y.scale.unionExtentFromData(ka,Ty)})}},ha.prototype.getTooltipAxes=function(ua){var Sa=[],ba=[];return each$f(this.getCartesians(),function(ka){var _y=ua!=null&&ua!=="auto"?ka.getAxis(ua):ka.getBaseAxis(),Ty=ka.getOtherAxis(_y);indexOf(Sa,_y)<0&&Sa.push(_y),indexOf(ba,Ty)<0&&ba.push(Ty)}),{baseAxes:Sa,otherAxes:ba}},ha.create=function(ua,Sa){var ba=[];return ua.eachComponent("grid",function(ka,_y){var Ty=new ha(ka,ua,Sa);Ty.name="grid_"+_y,Ty.resize(ka,Sa,!0),ka.coordinateSystem=Ty,ba.push(Ty)}),ua.eachSeries(function(ka){if(isCartesian2DSeries(ka)){var _y=findAxisModels(ka),Ty=_y.xAxisModel,Ay=_y.yAxisModel,Ey=Ty.getCoordSysModel(),My=Ey.coordinateSystem;ka.coordinateSystem=My.getCartesian(Ty.componentIndex,Ay.componentIndex)}}),ba},ha.dimensions=cartesian2DDimensions,ha}();function isAxisUsedInTheGrid(ha,ua){return ha.getCoordSysModel()===ua}function fixAxisOnZero(ha,ua,Sa,ba){Sa.getAxesOnZeroOf=function(){return _y?[_y]:[]};var ka=ha[ua],_y,Ty=Sa.model,Ay=Ty.get(["axisLine","onZero"]),Ey=Ty.get(["axisLine","onZeroAxisIndex"]);if(!Ay)return;if(Ey!=null)canOnZeroToAxis(ka[Ey])&&(_y=ka[Ey]);else for(var My in ka)if(ka.hasOwnProperty(My)&&canOnZeroToAxis(ka[My])&&!ba[Dy(ka[My])]){_y=ka[My];break}_y&&(ba[Dy(_y)]=!0);function Dy(Iy){return Iy.dim+"_"+Iy.index}}function canOnZeroToAxis(ha){return ha&&ha.type!=="category"&&ha.type!=="time"&&ifAxisCrossZero(ha)}function updateAxisTransform(ha,ua){var Sa=ha.getExtent(),ba=Sa[0]+Sa[1];ha.toGlobalCoord=ha.dim==="x"?function(ka){return ka+ua}:function(ka){return ba-ka+ua},ha.toLocalCoord=ha.dim==="x"?function(ka){return ka-ua}:function(ka){return ba-ka+ua}}var PI$3=Math.PI,AxisBuilder=function(){function ha(ua,Sa){this.group=new Group$3,this.opt=Sa,this.axisModel=ua,defaults(Sa,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var ba=new Group$3({x:Sa.position[0],y:Sa.position[1],rotation:Sa.rotation});ba.updateTransform(),this._transformGroup=ba}return ha.prototype.hasBuilder=function(ua){return!!builders[ua]},ha.prototype.add=function(ua){builders[ua](this.opt,this.axisModel,this.group,this._transformGroup)},ha.prototype.getGroup=function(){return this.group},ha.innerTextLayout=function(ua,Sa,ba){var ka=remRadian(Sa-ua),_y,Ty;return isRadianAroundZero(ka)?(Ty=ba>0?"top":"bottom",_y="center"):isRadianAroundZero(ka-PI$3)?(Ty=ba>0?"bottom":"top",_y="center"):(Ty="middle",ka>0&&ka<PI$3?_y=ba>0?"right":"left":_y=ba>0?"left":"right"),{rotation:ka,textAlign:_y,textVerticalAlign:Ty}},ha.makeAxisEventDataBase=function(ua){var Sa={componentType:ua.mainType,componentIndex:ua.componentIndex};return Sa[ua.mainType+"Index"]=ua.componentIndex,Sa},ha.isLabelSilent=function(ua){var Sa=ua.get("tooltip");return ua.get("silent")||!(ua.get("triggerEvent")||Sa&&Sa.show)},ha}(),builders={axisLine:function(ha,ua,Sa,ba){var ka=ua.get(["axisLine","show"]);if(ka==="auto"&&ha.handleAutoShown&&(ka=ha.handleAutoShown("axisLine")),!!ka){var _y=ua.axis.getExtent(),Ty=ba.transform,Ay=[_y[0],0],Ey=[_y[1],0],My=Ay[0]>Ey[0];Ty&&(applyTransform$1(Ay,Ay,Ty),applyTransform$1(Ey,Ey,Ty));var Dy=extend({lineCap:"round"},ua.getModel(["axisLine","lineStyle"]).getLineStyle()),Iy=new Line$1({shape:{x1:Ay[0],y1:Ay[1],x2:Ey[0],y2:Ey[1]},style:Dy,strokeContainThreshold:ha.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(Iy.shape,Iy.style.lineWidth),Iy.anid="line",Sa.add(Iy);var Ly=ua.get(["axisLine","symbol"]);if(Ly!=null){var Py=ua.get(["axisLine","symbolSize"]);isString(Ly)&&(Ly=[Ly,Ly]),(isString(Py)||isNumber(Py))&&(Py=[Py,Py]);var Ry=normalizeSymbolOffset(ua.get(["axisLine","symbolOffset"])||0,Py),Vy=Py[0],Ny=Py[1];each$f([{rotate:ha.rotation+Math.PI/2,offset:Ry[0],r:0},{rotate:ha.rotation-Math.PI/2,offset:Ry[1],r:Math.sqrt((Ay[0]-Ey[0])*(Ay[0]-Ey[0])+(Ay[1]-Ey[1])*(Ay[1]-Ey[1]))}],function(By,Oy){if(Ly[Oy]!=="none"&&Ly[Oy]!=null){var Fy=createSymbol$1(Ly[Oy],-Vy/2,-Ny/2,Vy,Ny,Dy.stroke,!0),zy=By.r+By.offset,Hy=My?Ey:Ay;Fy.attr({rotation:By.rotate,x:Hy[0]+zy*Math.cos(ha.rotation),y:Hy[1]-zy*Math.sin(ha.rotation),silent:!0,z2:11}),Sa.add(Fy)}})}}},axisTickLabel:function(ha,ua,Sa,ba){var ka=buildAxisMajorTicks(Sa,ba,ua,ha),_y=buildAxisLabel(Sa,ba,ua,ha);if(fixMinMaxLabelShow(ua,_y,ka),buildAxisMinorTicks(Sa,ba,ua,ha.tickDirection),ua.get(["axisLabel","hideOverlap"])){var Ty=prepareLayoutList(map$1(_y,function(Ay){return{label:Ay,priority:Ay.z2,defaultAttr:{ignore:Ay.ignore}}}));hideOverlap(Ty)}},axisName:function(ha,ua,Sa,ba){var ka=retrieve(ha.axisName,ua.get("name"));if(ka){var _y=ua.get("nameLocation"),Ty=ha.nameDirection,Ay=ua.getModel("nameTextStyle"),Ey=ua.get("nameGap")||0,My=ua.axis.getExtent(),Dy=My[0]>My[1]?-1:1,Iy=[_y==="start"?My[0]-Dy*Ey:_y==="end"?My[1]+Dy*Ey:(My[0]+My[1])/2,isNameLocationCenter(_y)?ha.labelOffset+Ty*Ey:0],Ly,Py=ua.get("nameRotate");Py!=null&&(Py=Py*PI$3/180);var Ry;isNameLocationCenter(_y)?Ly=AxisBuilder.innerTextLayout(ha.rotation,Py??ha.rotation,Ty):(Ly=endTextLayout(ha.rotation,_y,Py||0,My),Ry=ha.axisNameAvailableWidth,Ry!=null&&(Ry=Math.abs(Ry/Math.sin(Ly.rotation)),!isFinite(Ry)&&(Ry=null)));var Vy=Ay.getFont(),Ny=ua.get("nameTruncate",!0)||{},By=Ny.ellipsis,Oy=retrieve(ha.nameTruncateMaxWidth,Ny.maxWidth,Ry),Fy=new ZRText({x:Iy[0],y:Iy[1],rotation:Ly.rotation,silent:AxisBuilder.isLabelSilent(ua),style:createTextStyle(Ay,{text:ka,font:Vy,overflow:"truncate",width:Oy,ellipsis:By,fill:Ay.getTextColor()||ua.get(["axisLine","lineStyle","color"]),align:Ay.get("align")||Ly.textAlign,verticalAlign:Ay.get("verticalAlign")||Ly.textVerticalAlign}),z2:1});if(setTooltipConfig({el:Fy,componentModel:ua,itemName:ka}),Fy.__fullText=ka,Fy.anid="name",ua.get("triggerEvent")){var zy=AxisBuilder.makeAxisEventDataBase(ua);zy.targetType="axisName",zy.name=ka,getECData(Fy).eventData=zy}ba.add(Fy),Fy.updateTransform(),Sa.add(Fy),Fy.decomposeTransform()}}};function endTextLayout(ha,ua,Sa,ba){var ka=remRadian(Sa-ha),_y,Ty,Ay=ba[0]>ba[1],Ey=ua==="start"&&!Ay||ua!=="start"&&Ay;return isRadianAroundZero(ka-PI$3/2)?(Ty=Ey?"bottom":"top",_y="center"):isRadianAroundZero(ka-PI$3*1.5)?(Ty=Ey?"top":"bottom",_y="center"):(Ty="middle",ka<PI$3*1.5&&ka>PI$3/2?_y=Ey?"left":"right":_y=Ey?"right":"left"),{rotation:ka,textAlign:_y,textVerticalAlign:Ty}}function fixMinMaxLabelShow(ha,ua,Sa){if(!shouldShowAllLabels(ha.axis)){var ba=ha.get(["axisLabel","showMinLabel"]),ka=ha.get(["axisLabel","showMaxLabel"]);ua=ua||[],Sa=Sa||[];var _y=ua[0],Ty=ua[1],Ay=ua[ua.length-1],Ey=ua[ua.length-2],My=Sa[0],Dy=Sa[1],Iy=Sa[Sa.length-1],Ly=Sa[Sa.length-2];ba===!1?(ignoreEl(_y),ignoreEl(My)):isTwoLabelOverlapped(_y,Ty)&&(ba?(ignoreEl(Ty),ignoreEl(Dy)):(ignoreEl(_y),ignoreEl(My))),ka===!1?(ignoreEl(Ay),ignoreEl(Iy)):isTwoLabelOverlapped(Ey,Ay)&&(ka?(ignoreEl(Ey),ignoreEl(Ly)):(ignoreEl(Ay),ignoreEl(Iy)))}}function ignoreEl(ha){ha&&(ha.ignore=!0)}function isTwoLabelOverlapped(ha,ua){var Sa=ha&&ha.getBoundingRect().clone(),ba=ua&&ua.getBoundingRect().clone();if(!(!Sa||!ba)){var ka=identity([]);return rotate(ka,ka,-ha.rotation),Sa.applyTransform(mul([],ka,ha.getLocalTransform())),ba.applyTransform(mul([],ka,ua.getLocalTransform())),Sa.intersect(ba)}}function isNameLocationCenter(ha){return ha==="middle"||ha==="center"}function createTicks(ha,ua,Sa,ba,ka){for(var _y=[],Ty=[],Ay=[],Ey=0;Ey<ha.length;Ey++){var My=ha[Ey].coord;Ty[0]=My,Ty[1]=0,Ay[0]=My,Ay[1]=Sa,ua&&(applyTransform$1(Ty,Ty,ua),applyTransform$1(Ay,Ay,ua));var Dy=new Line$1({shape:{x1:Ty[0],y1:Ty[1],x2:Ay[0],y2:Ay[1]},style:ba,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(Dy.shape,Dy.style.lineWidth),Dy.anid=ka+"_"+ha[Ey].tickValue,_y.push(Dy)}return _y}function buildAxisMajorTicks(ha,ua,Sa,ba){var ka=Sa.axis,_y=Sa.getModel("axisTick"),Ty=_y.get("show");if(Ty==="auto"&&ba.handleAutoShown&&(Ty=ba.handleAutoShown("axisTick")),!(!Ty||ka.scale.isBlank())){for(var Ay=_y.getModel("lineStyle"),Ey=ba.tickDirection*_y.get("length"),My=ka.getTicksCoords(),Dy=createTicks(My,ua.transform,Ey,defaults(Ay.getLineStyle(),{stroke:Sa.get(["axisLine","lineStyle","color"])}),"ticks"),Iy=0;Iy<Dy.length;Iy++)ha.add(Dy[Iy]);return Dy}}function buildAxisMinorTicks(ha,ua,Sa,ba){var ka=Sa.axis,_y=Sa.getModel("minorTick");if(!(!_y.get("show")||ka.scale.isBlank())){var Ty=ka.getMinorTicksCoords();if(Ty.length)for(var Ay=_y.getModel("lineStyle"),Ey=ba*_y.get("length"),My=defaults(Ay.getLineStyle(),defaults(Sa.getModel("axisTick").getLineStyle(),{stroke:Sa.get(["axisLine","lineStyle","color"])})),Dy=0;Dy<Ty.length;Dy++)for(var Iy=createTicks(Ty[Dy],ua.transform,Ey,My,"minorticks_"+Dy),Ly=0;Ly<Iy.length;Ly++)ha.add(Iy[Ly])}}function buildAxisLabel(ha,ua,Sa,ba){var ka=Sa.axis,_y=retrieve(ba.axisLabelShow,Sa.get(["axisLabel","show"]));if(!(!_y||ka.scale.isBlank())){var Ty=Sa.getModel("axisLabel"),Ay=Ty.get("margin"),Ey=ka.getViewLabels(),My=(retrieve(ba.labelRotate,Ty.get("rotate"))||0)*PI$3/180,Dy=AxisBuilder.innerTextLayout(ba.rotation,My,ba.labelDirection),Iy=Sa.getCategories&&Sa.getCategories(!0),Ly=[],Py=AxisBuilder.isLabelSilent(Sa),Ry=Sa.get("triggerEvent");return each$f(Ey,function(Vy,Ny){var By=ka.scale.type==="ordinal"?ka.scale.getRawOrdinalNumber(Vy.tickValue):Vy.tickValue,Oy=Vy.formattedLabel,Fy=Vy.rawLabel,zy=Ty;if(Iy&&Iy[By]){var Hy=Iy[By];isObject$3(Hy)&&Hy.textStyle&&(zy=new Model(Hy.textStyle,Ty,Sa.ecModel))}var Gy=zy.getTextColor()||Sa.get(["axisLine","lineStyle","color"]),Wy=ka.dataToCoord(By),Uy=zy.getShallow("align",!0)||Dy.textAlign,Yy=retrieve2(zy.getShallow("alignMinLabel",!0),Uy),jy=retrieve2(zy.getShallow("alignMaxLabel",!0),Uy),Ky=zy.getShallow("verticalAlign",!0)||zy.getShallow("baseline",!0)||Dy.textVerticalAlign,Xy=retrieve2(zy.getShallow("verticalAlignMinLabel",!0),Ky),Zy=retrieve2(zy.getShallow("verticalAlignMaxLabel",!0),Ky),Jy=new ZRText({x:Wy,y:ba.labelOffset+ba.labelDirection*Ay,rotation:Dy.rotation,silent:Py,z2:10+(Vy.level||0),style:createTextStyle(zy,{text:Oy,align:Ny===0?Yy:Ny===Ey.length-1?jy:Uy,verticalAlign:Ny===0?Xy:Ny===Ey.length-1?Zy:Ky,fill:isFunction(Gy)?Gy(ka.type==="category"?Fy:ka.type==="value"?By+"":By,Ny):Gy})});if(Jy.anid="label_"+By,setTooltipConfig({el:Jy,componentModel:Sa,itemName:Oy,formatterParamsExtra:{isTruncated:function(){return Jy.isTruncated},value:Fy,tickIndex:Ny}}),Ry){var t_=AxisBuilder.makeAxisEventDataBase(Sa);t_.targetType="axisLabel",t_.value=Fy,t_.tickIndex=Ny,ka.type==="category"&&(t_.dataIndex=By),getECData(Jy).eventData=t_}ua.add(Jy),Jy.updateTransform(),Ly.push(Jy),ha.add(Jy),Jy.decomposeTransform()}),Ly}}function collect(ha,ua){var Sa={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(Sa,ha,ua),Sa.seriesInvolved&&collectSeriesInfo(Sa,ha),Sa}function collectAxesInfo(ha,ua,Sa){var ba=ua.getComponent("tooltip"),ka=ua.getComponent("axisPointer"),_y=ka.get("link",!0)||[],Ty=[];each$f(Sa.getCoordinateSystems(),function(Ay){if(!Ay.axisPointerEnabled)return;var Ey=makeKey(Ay.model),My=ha.coordSysAxesInfo[Ey]={};ha.coordSysMap[Ey]=Ay;var Dy=Ay.model,Iy=Dy.getModel("tooltip",ba);if(each$f(Ay.getAxes(),curry$1(Vy,!1,null)),Ay.getTooltipAxes&&ba&&Iy.get("show")){var Ly=Iy.get("trigger")==="axis",Py=Iy.get(["axisPointer","type"])==="cross",Ry=Ay.getTooltipAxes(Iy.get(["axisPointer","axis"]));(Ly||Py)&&each$f(Ry.baseAxes,curry$1(Vy,Py?"cross":!0,Ly)),Py&&each$f(Ry.otherAxes,curry$1(Vy,"cross",!1))}function Vy(Ny,By,Oy){var Fy=Oy.model.getModel("axisPointer",ka),zy=Fy.get("show");if(!(!zy||zy==="auto"&&!Ny&&!isHandleTrigger(Fy))){By==null&&(By=Fy.get("triggerTooltip")),Fy=Ny?makeAxisPointerModel(Oy,Iy,ka,ua,Ny,By):Fy;var Hy=Fy.get("snap"),Gy=Fy.get("triggerEmphasis"),Wy=makeKey(Oy.model),Uy=By||Hy||Oy.type==="category",Yy=ha.axesInfo[Wy]={key:Wy,axis:Oy,coordSys:Ay,axisPointerModel:Fy,triggerTooltip:By,triggerEmphasis:Gy,involveSeries:Uy,snap:Hy,useHandle:isHandleTrigger(Fy),seriesModels:[],linkGroup:null};My[Wy]=Yy,ha.seriesInvolved=ha.seriesInvolved||Uy;var jy=getLinkGroupIndex(_y,Oy);if(jy!=null){var Ky=Ty[jy]||(Ty[jy]={axesInfo:{}});Ky.axesInfo[Wy]=Yy,Ky.mapper=_y[jy].mapper,Yy.linkGroup=Ky}}}})}function makeAxisPointerModel(ha,ua,Sa,ba,ka,_y){var Ty=ua.getModel("axisPointer"),Ay=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],Ey={};each$f(Ay,function(Ly){Ey[Ly]=clone$4(Ty.get(Ly))}),Ey.snap=ha.type!=="category"&&!!_y,Ty.get("type")==="cross"&&(Ey.type="line");var My=Ey.label||(Ey.label={});if(My.show==null&&(My.show=!1),ka==="cross"){var Dy=Ty.get(["label","show"]);if(My.show=Dy??!0,!_y){var Iy=Ey.lineStyle=Ty.get("crossStyle");Iy&&defaults(My,Iy.textStyle)}}return ha.model.getModel("axisPointer",new Model(Ey,Sa,ba))}function collectSeriesInfo(ha,ua){ua.eachSeries(function(Sa){var ba=Sa.coordinateSystem,ka=Sa.get(["tooltip","trigger"],!0),_y=Sa.get(["tooltip","show"],!0);!ba||ka==="none"||ka===!1||ka==="item"||_y===!1||Sa.get(["axisPointer","show"],!0)===!1||each$f(ha.coordSysAxesInfo[makeKey(ba.model)],function(Ty){var Ay=Ty.axis;ba.getAxis(Ay.dim)===Ay&&(Ty.seriesModels.push(Sa),Ty.seriesDataCount==null&&(Ty.seriesDataCount=0),Ty.seriesDataCount+=Sa.getData().count())})})}function getLinkGroupIndex(ha,ua){for(var Sa=ua.model,ba=ua.dim,ka=0;ka<ha.length;ka++){var _y=ha[ka]||{};if(checkPropInLink(_y[ba+"AxisId"],Sa.id)||checkPropInLink(_y[ba+"AxisIndex"],Sa.componentIndex)||checkPropInLink(_y[ba+"AxisName"],Sa.name))return ka}}function checkPropInLink(ha,ua){return ha==="all"||isArray$1(ha)&&indexOf(ha,ua)>=0||ha===ua}function fixValue(ha){var ua=getAxisInfo$1(ha);if(ua){var Sa=ua.axisPointerModel,ba=ua.axis.scale,ka=Sa.option,_y=Sa.get("status"),Ty=Sa.get("value");Ty!=null&&(Ty=ba.parse(Ty));var Ay=isHandleTrigger(Sa);_y==null&&(ka.status=Ay?"show":"hide");var Ey=ba.getExtent().slice();Ey[0]>Ey[1]&&Ey.reverse(),(Ty==null||Ty>Ey[1])&&(Ty=Ey[1]),Ty<Ey[0]&&(Ty=Ey[0]),ka.value=Ty,Ay&&(ka.status=ua.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(ha){var ua=(ha.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return ua&&ua.axesInfo[makeKey(ha)]}function getAxisPointerModel(ha){var ua=getAxisInfo$1(ha);return ua&&ua.axisPointerModel}function isHandleTrigger(ha){return!!ha.get(["handle","show"])}function makeKey(ha){return ha.type+"||"+ha.id}var axisPointerClazz={},AxisView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka,_y){this.axisPointerClass&&fixValue(Sa),ha.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(Sa,ka,!0)},ua.prototype.updateAxisPointer=function(Sa,ba,ka,_y){this._doUpdateAxisPointerClass(Sa,ka,!1)},ua.prototype.remove=function(Sa,ba){var ka=this._axisPointer;ka&&ka.remove(ba)},ua.prototype.dispose=function(Sa,ba){this._disposeAxisPointer(ba),ha.prototype.dispose.apply(this,arguments)},ua.prototype._doUpdateAxisPointerClass=function(Sa,ba,ka){var _y=ua.getAxisPointerClass(this.axisPointerClass);if(_y){var Ty=getAxisPointerModel(Sa);Ty?(this._axisPointer||(this._axisPointer=new _y)).render(Sa,Ty,ba,ka):this._disposeAxisPointer(ba)}},ua.prototype._disposeAxisPointer=function(Sa){this._axisPointer&&this._axisPointer.dispose(Sa),this._axisPointer=null},ua.registerAxisPointerClass=function(Sa,ba){axisPointerClazz[Sa]=ba},ua.getAxisPointerClass=function(Sa){return Sa&&axisPointerClazz[Sa]},ua.type="axis",ua}(ComponentView),inner$f=makeInner();function rectCoordAxisBuildSplitArea(ha,ua,Sa,ba){var ka=Sa.axis;if(!ka.scale.isBlank()){var _y=Sa.getModel("splitArea"),Ty=_y.getModel("areaStyle"),Ay=Ty.get("color"),Ey=ba.coordinateSystem.getRect(),My=ka.getTicksCoords({tickModel:_y,clamp:!0});if(My.length){var Dy=Ay.length,Iy=inner$f(ha).splitAreaColors,Ly=createHashMap(),Py=0;if(Iy)for(var Ry=0;Ry<My.length;Ry++){var Vy=Iy.get(My[Ry].tickValue);if(Vy!=null){Py=(Vy+(Dy-1)*Ry)%Dy;break}}var Ny=ka.toGlobalCoord(My[0].coord),By=Ty.getAreaStyle();Ay=isArray$1(Ay)?Ay:[Ay];for(var Ry=1;Ry<My.length;Ry++){var Oy=ka.toGlobalCoord(My[Ry].coord),Fy=void 0,zy=void 0,Hy=void 0,Gy=void 0;ka.isHorizontal()?(Fy=Ny,zy=Ey.y,Hy=Oy-Fy,Gy=Ey.height,Ny=Fy+Hy):(Fy=Ey.x,zy=Ny,Hy=Ey.width,Gy=Oy-zy,Ny=zy+Gy);var Wy=My[Ry-1].tickValue;Wy!=null&&Ly.set(Wy,Py),ua.add(new Rect$2({anid:Wy!=null?"area_"+Wy:null,shape:{x:Fy,y:zy,width:Hy,height:Gy},style:defaults({fill:Ay[Py]},By),autoBatch:!0,silent:!0})),Py=(Py+1)%Dy}inner$f(ha).splitAreaColors=Ly}}}function rectCoordAxisHandleRemove(ha){inner$f(ha).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.axisPointerClass="CartesianAxisPointer",Sa}return ua.prototype.render=function(Sa,ba,ka,_y){this.group.removeAll();var Ty=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!Sa.get("show")){var Ay=Sa.getCoordSysModel(),Ey=layout$2(Ay,Sa),My=new AxisBuilder(Sa,extend({handleAutoShown:function(Iy){for(var Ly=Ay.coordinateSystem.getCartesians(),Py=0;Py<Ly.length;Py++)if(isIntervalOrLogScale(Ly[Py].getOtherAxis(Sa.axis).scale))return!0;return!1}},Ey));each$f(axisBuilderAttrs$3,My.add,My),this._axisGroup.add(My.getGroup()),each$f(selfBuilderAttrs$2,function(Iy){Sa.get([Iy,"show"])&&axisElementBuilders$2[Iy](this,this._axisGroup,Sa,Ay)},this);var Dy=_y&&_y.type==="changeAxisOrder"&&_y.isInitSort;Dy||groupTransition(Ty,this._axisGroup,Sa),ha.prototype.render.call(this,Sa,ba,ka,_y)}},ua.prototype.remove=function(){rectCoordAxisHandleRemove(this)},ua.type="cartesianAxis",ua}(AxisView),axisElementBuilders$2={splitLine:function(ha,ua,Sa,ba){var ka=Sa.axis;if(!ka.scale.isBlank()){var _y=Sa.getModel("splitLine"),Ty=_y.getModel("lineStyle"),Ay=Ty.get("color"),Ey=_y.get("showMinLine")!==!1,My=_y.get("showMaxLine")!==!1;Ay=isArray$1(Ay)?Ay:[Ay];for(var Dy=ba.coordinateSystem.getRect(),Iy=ka.isHorizontal(),Ly=0,Py=ka.getTicksCoords({tickModel:_y}),Ry=[],Vy=[],Ny=Ty.getLineStyle(),By=0;By<Py.length;By++){var Oy=ka.toGlobalCoord(Py[By].coord);if(!(By===0&&!Ey||By===Py.length-1&&!My)){var Fy=Py[By].tickValue;Iy?(Ry[0]=Oy,Ry[1]=Dy.y,Vy[0]=Oy,Vy[1]=Dy.y+Dy.height):(Ry[0]=Dy.x,Ry[1]=Oy,Vy[0]=Dy.x+Dy.width,Vy[1]=Oy);var zy=Ly++%Ay.length,Hy=new Line$1({anid:Fy!=null?"line_"+Fy:null,autoBatch:!0,shape:{x1:Ry[0],y1:Ry[1],x2:Vy[0],y2:Vy[1]},style:defaults({stroke:Ay[zy]},Ny),silent:!0});subPixelOptimizeLine(Hy.shape,Ny.lineWidth),ua.add(Hy)}}}},minorSplitLine:function(ha,ua,Sa,ba){var ka=Sa.axis,_y=Sa.getModel("minorSplitLine"),Ty=_y.getModel("lineStyle"),Ay=ba.coordinateSystem.getRect(),Ey=ka.isHorizontal(),My=ka.getMinorTicksCoords();if(My.length)for(var Dy=[],Iy=[],Ly=Ty.getLineStyle(),Py=0;Py<My.length;Py++)for(var Ry=0;Ry<My[Py].length;Ry++){var Vy=ka.toGlobalCoord(My[Py][Ry].coord);Ey?(Dy[0]=Vy,Dy[1]=Ay.y,Iy[0]=Vy,Iy[1]=Ay.y+Ay.height):(Dy[0]=Ay.x,Dy[1]=Vy,Iy[0]=Ay.x+Ay.width,Iy[1]=Vy);var Ny=new Line$1({anid:"minor_line_"+My[Py][Ry].tickValue,autoBatch:!0,shape:{x1:Dy[0],y1:Dy[1],x2:Iy[0],y2:Iy[1]},style:Ly,silent:!0});subPixelOptimizeLine(Ny.shape,Ly.lineWidth),ua.add(Ny)}},splitArea:function(ha,ua,Sa,ba){rectCoordAxisBuildSplitArea(ha,ua,Sa,ba)}},CartesianXAxisView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="xAxis",ua}(CartesianAxisView),CartesianYAxisView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=CartesianXAxisView.type,Sa}return ua.type="yAxis",ua}(CartesianAxisView),GridView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type="grid",Sa}return ua.prototype.render=function(Sa,ba){this.group.removeAll(),Sa.get("show")&&this.group.add(new Rect$2({shape:Sa.coordinateSystem.getRect(),style:defaults({fill:Sa.get("backgroundColor")},Sa.getItemStyle()),silent:!0,z2:-1}))},ua.type="grid",ua}(ComponentView),extraOption={offset:0};function install$N(ha){ha.registerComponentView(GridView),ha.registerComponentModel(GridModel),ha.registerCoordinateSystem("cartesian2d",Grid),axisModelCreator(ha,"x",CartesianAxisModel,extraOption),axisModelCreator(ha,"y",CartesianAxisModel,extraOption),ha.registerComponentView(CartesianXAxisView),ha.registerComponentView(CartesianYAxisView),ha.registerPreprocessor(function(ua){ua.xAxis&&ua.yAxis&&!ua.grid&&(ua.grid={})})}function install$M(ha){use(install$N),ha.registerSeriesModel(ScatterSeriesModel),ha.registerChartView(ScatterView),ha.registerLayout(pointsLayout("scatter"))}function radarLayout(ha){ha.eachSeriesByType("radar",function(ua){var Sa=ua.getData(),ba=[],ka=ua.coordinateSystem;if(ka){var _y=ka.getIndicatorAxes();each$f(_y,function(Ty,Ay){Sa.each(Sa.mapDimension(_y[Ay].dim),function(Ey,My){ba[My]=ba[My]||[];var Dy=ka.dataToPoint(Ey,Ay);ba[My][Ay]=isValidPoint(Dy)?Dy:getValueMissingPoint(ka)})}),Sa.each(function(Ty){var Ay=find(ba[Ty],function(Ey){return isValidPoint(Ey)})||getValueMissingPoint(ka);ba[Ty].push(Ay.slice()),Sa.setItemLayout(Ty,ba[Ty])})}})}function isValidPoint(ha){return!isNaN(ha[0])&&!isNaN(ha[1])}function getValueMissingPoint(ha){return[ha.cx,ha.cy]}function radarBackwardCompat(ha){var ua=ha.polar;if(ua){isArray$1(ua)||(ua=[ua]);var Sa=[];each$f(ua,function(ba,ka){ba.indicator?(ba.type&&!ba.shape&&(ba.shape=ba.type),ha.radar=ha.radar||[],isArray$1(ha.radar)||(ha.radar=[ha.radar]),ha.radar.push(ba)):Sa.push(ba)}),ha.polar=Sa}each$f(ha.series,function(ba){ba&&ba.type==="radar"&&ba.polarIndex&&(ba.radarIndex=ba.polarIndex)})}var RadarView$1=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){var _y=Sa.coordinateSystem,Ty=this.group,Ay=Sa.getData(),Ey=this._data;function My(Ly,Py){var Ry=Ly.getItemVisual(Py,"symbol")||"circle";if(Ry!=="none"){var Vy=normalizeSymbolSize(Ly.getItemVisual(Py,"symbolSize")),Ny=createSymbol$1(Ry,-1,-1,2,2),By=Ly.getItemVisual(Py,"symbolRotate")||0;return Ny.attr({style:{strokeNoScale:!0},z2:100,scaleX:Vy[0]/2,scaleY:Vy[1]/2,rotation:By*Math.PI/180||0}),Ny}}function Dy(Ly,Py,Ry,Vy,Ny,By){Ry.removeAll();for(var Oy=0;Oy<Py.length-1;Oy++){var Fy=My(Vy,Ny);Fy&&(Fy.__dimIdx=Oy,Ly[Oy]?(Fy.setPosition(Ly[Oy]),graphic[By?"initProps":"updateProps"](Fy,{x:Py[Oy][0],y:Py[Oy][1]},Sa,Ny)):Fy.setPosition(Py[Oy]),Ry.add(Fy))}}function Iy(Ly){return map$1(Ly,function(Py){return[_y.cx,_y.cy]})}Ay.diff(Ey).add(function(Ly){var Py=Ay.getItemLayout(Ly);if(Py){var Ry=new Polygon,Vy=new Polyline$1,Ny={shape:{points:Py}};Ry.shape.points=Iy(Py),Vy.shape.points=Iy(Py),initProps(Ry,Ny,Sa,Ly),initProps(Vy,Ny,Sa,Ly);var By=new Group$3,Oy=new Group$3;By.add(Vy),By.add(Ry),By.add(Oy),Dy(Vy.shape.points,Py,Oy,Ay,Ly,!0),Ay.setItemGraphicEl(Ly,By)}}).update(function(Ly,Py){var Ry=Ey.getItemGraphicEl(Py),Vy=Ry.childAt(0),Ny=Ry.childAt(1),By=Ry.childAt(2),Oy={shape:{points:Ay.getItemLayout(Ly)}};Oy.shape.points&&(Dy(Vy.shape.points,Oy.shape.points,By,Ay,Ly,!1),saveOldStyle(Ny),saveOldStyle(Vy),updateProps$1(Vy,Oy,Sa),updateProps$1(Ny,Oy,Sa),Ay.setItemGraphicEl(Ly,Ry))}).remove(function(Ly){Ty.remove(Ey.getItemGraphicEl(Ly))}).execute(),Ay.eachItemGraphicEl(function(Ly,Py){var Ry=Ay.getItemModel(Py),Vy=Ly.childAt(0),Ny=Ly.childAt(1),By=Ly.childAt(2),Oy=Ay.getItemVisual(Py,"style"),Fy=Oy.fill;Ty.add(Ly),Vy.useStyle(defaults(Ry.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:Fy})),setStatesStylesFromModel(Vy,Ry,"lineStyle"),setStatesStylesFromModel(Ny,Ry,"areaStyle");var zy=Ry.getModel("areaStyle"),Hy=zy.isEmpty()&&zy.parentModel.isEmpty();Ny.ignore=Hy,each$f(["emphasis","select","blur"],function(Uy){var Yy=Ry.getModel([Uy,"areaStyle"]),jy=Yy.isEmpty()&&Yy.parentModel.isEmpty();Ny.ensureState(Uy).ignore=jy&&Hy}),Ny.useStyle(defaults(zy.getAreaStyle(),{fill:Fy,opacity:.7,decal:Oy.decal}));var Gy=Ry.getModel("emphasis"),Wy=Gy.getModel("itemStyle").getItemStyle();By.eachChild(function(Uy){if(Uy instanceof ZRImage){var Yy=Uy.style;Uy.useStyle(extend({image:Yy.image,x:Yy.x,y:Yy.y,width:Yy.width,height:Yy.height},Oy))}else Uy.useStyle(Oy),Uy.setColor(Fy),Uy.style.strokeNoScale=!0;var jy=Uy.ensureState("emphasis");jy.style=clone$4(Wy);var Ky=Ay.getStore().get(Ay.getDimensionIndex(Uy.__dimIdx),Py);(Ky==null||isNaN(Ky))&&(Ky=""),setLabelStyle(Uy,getLabelStatesModels(Ry),{labelFetcher:Ay.hostModel,labelDataIndex:Py,labelDimIndex:Uy.__dimIdx,defaultText:Ky,inheritColor:Fy,defaultOpacity:Oy.opacity})}),toggleHoverEmphasis(Ly,Gy.get("focus"),Gy.get("blurScope"),Gy.get("disabled"))}),this._data=Ay},ua.prototype.remove=function(){this.group.removeAll(),this._data=null},ua.type="radar",ua}(ChartView),RadarSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.hasSymbolVisual=!0,Sa}return ua.prototype.init=function(Sa){ha.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},ua.prototype.getInitialData=function(Sa,ba){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},ua.prototype.formatTooltip=function(Sa,ba,ka){var _y=this.getData(),Ty=this.coordinateSystem,Ay=Ty.getIndicatorAxes(),Ey=this.getData().getName(Sa),My=Ey===""?this.name:Ey,Dy=retrieveVisualColorForTooltipMarker(this,Sa);return createTooltipMarkup("section",{header:My,sortBlocks:!0,blocks:map$1(Ay,function(Iy){var Ly=_y.get(_y.mapDimension(Iy.dim),Sa);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:Dy,name:Iy.name,value:Ly,sortParam:Ly})})})},ua.prototype.getTooltipPosition=function(Sa){if(Sa!=null){for(var ba=this.getData(),ka=this.coordinateSystem,_y=ba.getValues(map$1(ka.dimensions,function(My){return ba.mapDimension(My)}),Sa),Ty=0,Ay=_y.length;Ty<Ay;Ty++)if(!isNaN(_y[Ty])){var Ey=ka.getIndicatorAxes();return ka.coordToPoint(Ey[Ty].dataToCoord(_y[Ty]),Ty)}}},ua.type="series.radar",ua.dependencies=["radar"],ua.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},ua}(SeriesModel),valueAxisDefault=axisDefault.value;function defaultsShow(ha,ua){return defaults({show:ua},ha)}var RadarModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.optionUpdated=function(){var Sa=this.get("boundaryGap"),ba=this.get("splitNumber"),ka=this.get("scale"),_y=this.get("axisLine"),Ty=this.get("axisTick"),Ay=this.get("axisLabel"),Ey=this.get("axisName"),My=this.get(["axisName","show"]),Dy=this.get(["axisName","formatter"]),Iy=this.get("axisNameGap"),Ly=this.get("triggerEvent"),Py=map$1(this.get("indicator")||[],function(Ry){Ry.max!=null&&Ry.max>0&&!Ry.min?Ry.min=0:Ry.min!=null&&Ry.min<0&&!Ry.max&&(Ry.max=0);var Vy=Ey;Ry.color!=null&&(Vy=defaults({color:Ry.color},Ey));var Ny=merge(clone$4(Ry),{boundaryGap:Sa,splitNumber:ba,scale:ka,axisLine:_y,axisTick:Ty,axisLabel:Ay,name:Ry.text,showName:My,nameLocation:"end",nameGap:Iy,nameTextStyle:Vy,triggerEvent:Ly},!1);if(isString(Dy)){var By=Ny.name;Ny.name=Dy.replace("{value}",By??"")}else isFunction(Dy)&&(Ny.name=Dy(Ny.name,Ny));var Oy=new Model(Ny,null,this.ecModel);return mixin(Oy,AxisModelCommonMixin.prototype),Oy.mainType="radar",Oy.componentIndex=this.componentIndex,Oy},this);this._indicatorModels=Py},ua.prototype.getIndicatorModels=function(){return this._indicatorModels},ua.type="radar",ua.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},ua}(ComponentModel),axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){var _y=this.group;_y.removeAll(),this._buildAxes(Sa),this._buildSplitLineAndArea(Sa)},ua.prototype._buildAxes=function(Sa){var ba=Sa.coordinateSystem,ka=ba.getIndicatorAxes(),_y=map$1(ka,function(Ty){var Ay=Ty.model.get("showName")?Ty.name:"",Ey=new AxisBuilder(Ty.model,{axisName:Ay,position:[ba.cx,ba.cy],rotation:Ty.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return Ey});each$f(_y,function(Ty){each$f(axisBuilderAttrs$2,Ty.add,Ty),this.group.add(Ty.getGroup())},this)},ua.prototype._buildSplitLineAndArea=function(Sa){var ba=Sa.coordinateSystem,ka=ba.getIndicatorAxes();if(!ka.length)return;var _y=Sa.get("shape"),Ty=Sa.getModel("splitLine"),Ay=Sa.getModel("splitArea"),Ey=Ty.getModel("lineStyle"),My=Ay.getModel("areaStyle"),Dy=Ty.get("show"),Iy=Ay.get("show"),Ly=Ey.get("color"),Py=My.get("color"),Ry=isArray$1(Ly)?Ly:[Ly],Vy=isArray$1(Py)?Py:[Py],Ny=[],By=[];function Oy(t_,Qy,r_){var i_=r_%Qy.length;return t_[i_]=t_[i_]||[],i_}if(_y==="circle")for(var Fy=ka[0].getTicksCoords(),zy=ba.cx,Hy=ba.cy,Gy=0;Gy<Fy.length;Gy++){if(Dy){var Wy=Oy(Ny,Ry,Gy);Ny[Wy].push(new Circle({shape:{cx:zy,cy:Hy,r:Fy[Gy].coord}}))}if(Iy&&Gy<Fy.length-1){var Wy=Oy(By,Vy,Gy);By[Wy].push(new Ring({shape:{cx:zy,cy:Hy,r0:Fy[Gy].coord,r:Fy[Gy+1].coord}}))}}else for(var Uy,Yy=map$1(ka,function(t_,Qy){var r_=t_.getTicksCoords();return Uy=Uy==null?r_.length-1:Math.min(r_.length-1,Uy),map$1(r_,function(i_){return ba.coordToPoint(i_.coord,Qy)})}),jy=[],Gy=0;Gy<=Uy;Gy++){for(var Ky=[],Xy=0;Xy<ka.length;Xy++)Ky.push(Yy[Xy][Gy]);if(Ky[0]&&Ky.push(Ky[0].slice()),Dy){var Wy=Oy(Ny,Ry,Gy);Ny[Wy].push(new Polyline$1({shape:{points:Ky}}))}if(Iy&&jy){var Wy=Oy(By,Vy,Gy-1);By[Wy].push(new Polygon({shape:{points:Ky.concat(jy)}}))}jy=Ky.slice().reverse()}var Zy=Ey.getLineStyle(),Jy=My.getAreaStyle();each$f(By,function(t_,Qy){this.group.add(mergePath(t_,{style:defaults({stroke:"none",fill:Vy[Qy%Vy.length]},Jy),silent:!0}))},this),each$f(Ny,function(t_,Qy){this.group.add(mergePath(t_,{style:defaults({fill:"none",stroke:Ry[Qy%Ry.length]},Zy),silent:!0}))},this)},ua.type="radar",ua}(ComponentView),IndicatorAxis=function(ha){__extends(ua,ha);function ua(Sa,ba,ka){var _y=ha.call(this,Sa,ba,ka)||this;return _y.type="value",_y.angle=0,_y.name="",_y}return ua}(Axis),Radar=function(){function ha(ua,Sa,ba){this.dimensions=[],this._model=ua,this._indicatorAxes=map$1(ua.getIndicatorModels(),function(ka,_y){var Ty="indicator_"+_y,Ay=new IndicatorAxis(Ty,new IntervalScale);return Ay.name=ka.get("name"),Ay.model=ka,ka.axis=Ay,this.dimensions.push(Ty),Ay},this),this.resize(ua,ba)}return ha.prototype.getIndicatorAxes=function(){return this._indicatorAxes},ha.prototype.dataToPoint=function(ua,Sa){var ba=this._indicatorAxes[Sa];return this.coordToPoint(ba.dataToCoord(ua),Sa)},ha.prototype.coordToPoint=function(ua,Sa){var ba=this._indicatorAxes[Sa],ka=ba.angle,_y=this.cx+ua*Math.cos(ka),Ty=this.cy-ua*Math.sin(ka);return[_y,Ty]},ha.prototype.pointToData=function(ua){var Sa=ua[0]-this.cx,ba=ua[1]-this.cy,ka=Math.sqrt(Sa*Sa+ba*ba);Sa/=ka,ba/=ka;for(var _y=Math.atan2(-ba,Sa),Ty=1/0,Ay,Ey=-1,My=0;My<this._indicatorAxes.length;My++){var Dy=this._indicatorAxes[My],Iy=Math.abs(_y-Dy.angle);Iy<Ty&&(Ay=Dy,Ey=My,Ty=Iy)}return[Ey,+(Ay&&Ay.coordToData(ka))]},ha.prototype.resize=function(ua,Sa){var ba=ua.get("center"),ka=Sa.getWidth(),_y=Sa.getHeight(),Ty=Math.min(ka,_y)/2;this.cx=parsePercent(ba[0],ka),this.cy=parsePercent(ba[1],_y),this.startAngle=ua.get("startAngle")*Math.PI/180;var Ay=ua.get("radius");(isString(Ay)||isNumber(Ay))&&(Ay=[0,Ay]),this.r0=parsePercent(Ay[0],Ty),this.r=parsePercent(Ay[1],Ty),each$f(this._indicatorAxes,function(Ey,My){Ey.setExtent(this.r0,this.r);var Dy=this.startAngle+My*Math.PI*2/this._indicatorAxes.length;Dy=Math.atan2(Math.sin(Dy),Math.cos(Dy)),Ey.angle=Dy},this)},ha.prototype.update=function(ua,Sa){var ba=this._indicatorAxes,ka=this._model;each$f(ba,function(Ay){Ay.scale.setExtent(1/0,-1/0)}),ua.eachSeriesByType("radar",function(Ay,Ey){if(!(Ay.get("coordinateSystem")!=="radar"||ua.getComponent("radar",Ay.get("radarIndex"))!==ka)){var My=Ay.getData();each$f(ba,function(Dy){Dy.scale.unionExtentFromData(My,My.mapDimension(Dy.dim))})}},this);var _y=ka.get("splitNumber"),Ty=new IntervalScale;Ty.setExtent(0,_y),Ty.setInterval(1),each$f(ba,function(Ay,Ey){alignScaleTicks(Ay.scale,Ay.model,Ty)})},ha.prototype.convertToPixel=function(ua,Sa,ba){return console.warn("Not implemented."),null},ha.prototype.convertFromPixel=function(ua,Sa,ba){return console.warn("Not implemented."),null},ha.prototype.containPoint=function(ua){return console.warn("Not implemented."),!1},ha.create=function(ua,Sa){var ba=[];return ua.eachComponent("radar",function(ka){var _y=new ha(ka,ua,Sa);ba.push(_y),ka.coordinateSystem=_y}),ua.eachSeriesByType("radar",function(ka){ka.get("coordinateSystem")==="radar"&&(ka.coordinateSystem=ba[ka.get("radarIndex")||0])}),ba},ha.dimensions=[],ha}();function install$L(ha){ha.registerCoordinateSystem("radar",Radar),ha.registerComponentModel(RadarModel),ha.registerComponentView(RadarView),ha.registerVisual({seriesType:"radar",reset:function(ua){var Sa=ua.getData();Sa.each(function(ba){Sa.setItemVisual(ba,"legendIcon","roundRect")}),Sa.setVisual("legendIcon","roundRect")}})}function install$K(ha){use(install$L),ha.registerChartView(RadarView$1),ha.registerSeriesModel(RadarSeriesModel),ha.registerLayout(radarLayout),ha.registerProcessor(dataFilter$1("radar")),ha.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(ha,ua,Sa){var ba=getStore(ha);ba[ua]=Sa}function release(ha,ua,Sa){var ba=getStore(ha),ka=ba[ua];ka===Sa&&(ba[ua]=null)}function isTaken(ha,ua){return!!getStore(ha)[ua]}function getStore(ha){return ha[ATTR]||(ha[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this)||this;ba._zr=Sa;var ka=bind$1(ba._mousedownHandler,ba),_y=bind$1(ba._mousemoveHandler,ba),Ty=bind$1(ba._mouseupHandler,ba),Ay=bind$1(ba._mousewheelHandler,ba),Ey=bind$1(ba._pinchHandler,ba);return ba.enable=function(My,Dy){this.disable(),this._opt=defaults(clone$4(Dy)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),My==null&&(My=!0),(My===!0||My==="move"||My==="pan")&&(Sa.on("mousedown",ka),Sa.on("mousemove",_y),Sa.on("mouseup",Ty)),(My===!0||My==="scale"||My==="zoom")&&(Sa.on("mousewheel",Ay),Sa.on("pinch",Ey))},ba.disable=function(){Sa.off("mousedown",ka),Sa.off("mousemove",_y),Sa.off("mouseup",Ty),Sa.off("mousewheel",Ay),Sa.off("pinch",Ey)},ba}return ua.prototype.isDragging=function(){return this._dragging},ua.prototype.isPinching=function(){return this._pinching},ua.prototype.setPointerChecker=function(Sa){this.pointerChecker=Sa},ua.prototype.dispose=function(){this.disable()},ua.prototype._mousedownHandler=function(Sa){if(!isMiddleOrRightButtonOnMouseUpDown(Sa)){for(var ba=Sa.target;ba;){if(ba.draggable)return;ba=ba.__hostTarget||ba.parent}var ka=Sa.offsetX,_y=Sa.offsetY;this.pointerChecker&&this.pointerChecker(Sa,ka,_y)&&(this._x=ka,this._y=_y,this._dragging=!0)}},ua.prototype._mousemoveHandler=function(Sa){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",Sa,this._opt)||Sa.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var ba=Sa.offsetX,ka=Sa.offsetY,_y=this._x,Ty=this._y,Ay=ba-_y,Ey=ka-Ty;this._x=ba,this._y=ka,this._opt.preventDefaultMouseMove&&stop(Sa.event),trigger$1(this,"pan","moveOnMouseMove",Sa,{dx:Ay,dy:Ey,oldX:_y,oldY:Ty,newX:ba,newY:ka,isAvailableBehavior:null})}},ua.prototype._mouseupHandler=function(Sa){isMiddleOrRightButtonOnMouseUpDown(Sa)||(this._dragging=!1)},ua.prototype._mousewheelHandler=function(Sa){var ba=isAvailableBehavior("zoomOnMouseWheel",Sa,this._opt),ka=isAvailableBehavior("moveOnMouseWheel",Sa,this._opt),_y=Sa.wheelDelta,Ty=Math.abs(_y),Ay=Sa.offsetX,Ey=Sa.offsetY;if(!(_y===0||!ba&&!ka)){if(ba){var My=Ty>3?1.4:Ty>1?1.2:1.1,Dy=_y>0?My:1/My;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",Sa,{scale:Dy,originX:Ay,originY:Ey,isAvailableBehavior:null})}if(ka){var Iy=Math.abs(_y),Ly=(_y>0?1:-1)*(Iy>3?.4:Iy>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",Sa,{scrollDelta:Ly,originX:Ay,originY:Ey,isAvailableBehavior:null})}}},ua.prototype._pinchHandler=function(Sa){if(!isTaken(this._zr,"globalPan")){var ba=Sa.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,Sa,{scale:ba,originX:Sa.pinchX,originY:Sa.pinchY,isAvailableBehavior:null})}},ua}(Eventful);function checkPointerAndTrigger(ha,ua,Sa,ba,ka){ha.pointerChecker&&ha.pointerChecker(ba,ka.originX,ka.originY)&&(stop(ba.event),trigger$1(ha,ua,Sa,ba,ka))}function trigger$1(ha,ua,Sa,ba,ka){ka.isAvailableBehavior=bind$1(isAvailableBehavior,null,Sa,ba),ha.trigger(ua,ka)}function isAvailableBehavior(ha,ua,Sa){var ba=Sa[ha];return!ha||ba&&(!isString(ba)||ua.event[ba+"Key"])}function updateViewOnPan(ha,ua,Sa){var ba=ha.target;ba.x+=ua,ba.y+=Sa,ba.dirty()}function updateViewOnZoom(ha,ua,Sa,ba){var ka=ha.target,_y=ha.zoomLimit,Ty=ha.zoom=ha.zoom||1;if(Ty*=ua,_y){var Ay=_y.min||0,Ey=_y.max||1/0;Ty=Math.max(Math.min(Ey,Ty),Ay)}var My=Ty/ha.zoom;ha.zoom=Ty,ka.x-=(Sa-ka.x)*(My-1),ka.y-=(ba-ka.y)*(My-1),ka.scaleX*=My,ka.scaleY*=My,ka.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(ha,ua,Sa){var ba=ua.getComponentByElement(ha.topTarget),ka=ba&&ba.coordinateSystem;return ba&&ba!==Sa&&!IRRELEVANT_EXCLUDES.hasOwnProperty(ba.mainType)&&ka&&ka.model!==Sa}function parseXML(ha){if(isString(ha)){var ua=new DOMParser;ha=ua.parseFromString(ha,"text/xml")}var Sa=ha;for(Sa.nodeType===9&&(Sa=Sa.firstChild);Sa.nodeName.toLowerCase()!=="svg"||Sa.nodeType!==1;)Sa=Sa.nextSibling;return Sa}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function ha(){this._defs={},this._root=null}return ha.prototype.parse=function(ua,Sa){Sa=Sa||{};var ba=parseXML(ua);this._defsUsePending=[];var ka=new Group$3;this._root=ka;var _y=[],Ty=ba.getAttribute("viewBox")||"",Ay=parseFloat(ba.getAttribute("width")||Sa.width),Ey=parseFloat(ba.getAttribute("height")||Sa.height);isNaN(Ay)&&(Ay=null),isNaN(Ey)&&(Ey=null),parseAttributes(ba,ka,null,!0,!1);for(var My=ba.firstChild;My;)this._parseNode(My,ka,_y,null,!1,!1),My=My.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var Dy,Iy;if(Ty){var Ly=splitNumberSequence(Ty);Ly.length>=4&&(Dy={x:parseFloat(Ly[0]||0),y:parseFloat(Ly[1]||0),width:parseFloat(Ly[2]),height:parseFloat(Ly[3])})}if(Dy&&Ay!=null&&Ey!=null&&(Iy=makeViewBoxTransform(Dy,{x:0,y:0,width:Ay,height:Ey}),!Sa.ignoreViewBox)){var Py=ka;ka=new Group$3,ka.add(Py),Py.scaleX=Py.scaleY=Iy.scale,Py.x=Iy.x,Py.y=Iy.y}return!Sa.ignoreRootClip&&Ay!=null&&Ey!=null&&ka.setClipPath(new Rect$2({shape:{x:0,y:0,width:Ay,height:Ey}})),{root:ka,width:Ay,height:Ey,viewBoxRect:Dy,viewBoxTransform:Iy,named:_y}},ha.prototype._parseNode=function(ua,Sa,ba,ka,_y,Ty){var Ay=ua.nodeName.toLowerCase(),Ey,My=ka;if(Ay==="defs"&&(_y=!0),Ay==="text"&&(Ty=!0),Ay==="defs"||Ay==="switch")Ey=Sa;else{if(!_y){var Dy=nodeParsers[Ay];if(Dy&&hasOwn(nodeParsers,Ay)){Ey=Dy.call(this,ua,Sa);var Iy=ua.getAttribute("name");if(Iy){var Ly={name:Iy,namedFrom:null,svgNodeTagLower:Ay,el:Ey};ba.push(Ly),Ay==="g"&&(My=Ly)}else ka&&ba.push({name:ka.name,namedFrom:ka,svgNodeTagLower:Ay,el:Ey});Sa.add(Ey)}}var Py=paintServerParsers[Ay];if(Py&&hasOwn(paintServerParsers,Ay)){var Ry=Py.call(this,ua),Vy=ua.getAttribute("id");Vy&&(this._defs[Vy]=Ry)}}if(Ey&&Ey.isGroup)for(var Ny=ua.firstChild;Ny;)Ny.nodeType===1?this._parseNode(Ny,Ey,ba,My,_y,Ty):Ny.nodeType===3&&Ty&&this._parseText(Ny,Ey),Ny=Ny.nextSibling},ha.prototype._parseText=function(ua,Sa){var ba=new TSpan({style:{text:ua.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(Sa,ba),parseAttributes(ua,ba,this._defsUsePending,!1,!1),applyTextAlignment(ba,Sa);var ka=ba.style,_y=ka.fontSize;_y&&_y<9&&(ka.fontSize=9,ba.scaleX*=_y/9,ba.scaleY*=_y/9);var Ty=(ka.fontSize||ka.fontFamily)&&[ka.fontStyle,ka.fontWeight,(ka.fontSize||12)+"px",ka.fontFamily||"sans-serif"].join(" ");ka.font=Ty;var Ay=ba.getBoundingRect();return this._textX+=Ay.width,Sa.add(ba),ba},ha.internalField=function(){nodeParsers={g:function(ua,Sa){var ba=new Group$3;return inheritStyle(Sa,ba),parseAttributes(ua,ba,this._defsUsePending,!1,!1),ba},rect:function(ua,Sa){var ba=new Rect$2;return inheritStyle(Sa,ba),parseAttributes(ua,ba,this._defsUsePending,!1,!1),ba.setShape({x:parseFloat(ua.getAttribute("x")||"0"),y:parseFloat(ua.getAttribute("y")||"0"),width:parseFloat(ua.getAttribute("width")||"0"),height:parseFloat(ua.getAttribute("height")||"0")}),ba.silent=!0,ba},circle:function(ua,Sa){var ba=new Circle;return inheritStyle(Sa,ba),parseAttributes(ua,ba,this._defsUsePending,!1,!1),ba.setShape({cx:parseFloat(ua.getAttribute("cx")||"0"),cy:parseFloat(ua.getAttribute("cy")||"0"),r:parseFloat(ua.getAttribute("r")||"0")}),ba.silent=!0,ba},line:function(ua,Sa){var ba=new Line$1;return inheritStyle(Sa,ba),parseAttributes(ua,ba,this._defsUsePending,!1,!1),ba.setShape({x1:parseFloat(ua.getAttribute("x1")||"0"),y1:parseFloat(ua.getAttribute("y1")||"0"),x2:parseFloat(ua.getAttribute("x2")||"0"),y2:parseFloat(ua.getAttribute("y2")||"0")}),ba.silent=!0,ba},ellipse:function(ua,Sa){var ba=new Ellipse;return inheritStyle(Sa,ba),parseAttributes(ua,ba,this._defsUsePending,!1,!1),ba.setShape({cx:parseFloat(ua.getAttribute("cx")||"0"),cy:parseFloat(ua.getAttribute("cy")||"0"),rx:parseFloat(ua.getAttribute("rx")||"0"),ry:parseFloat(ua.getAttribute("ry")||"0")}),ba.silent=!0,ba},polygon:function(ua,Sa){var ba=ua.getAttribute("points"),ka;ba&&(ka=parsePoints(ba));var _y=new Polygon({shape:{points:ka||[]},silent:!0});return inheritStyle(Sa,_y),parseAttributes(ua,_y,this._defsUsePending,!1,!1),_y},polyline:function(ua,Sa){var ba=ua.getAttribute("points"),ka;ba&&(ka=parsePoints(ba));var _y=new Polyline$1({shape:{points:ka||[]},silent:!0});return inheritStyle(Sa,_y),parseAttributes(ua,_y,this._defsUsePending,!1,!1),_y},image:function(ua,Sa){var ba=new ZRImage;return inheritStyle(Sa,ba),parseAttributes(ua,ba,this._defsUsePending,!1,!1),ba.setStyle({image:ua.getAttribute("xlink:href")||ua.getAttribute("href"),x:+ua.getAttribute("x"),y:+ua.getAttribute("y"),width:+ua.getAttribute("width"),height:+ua.getAttribute("height")}),ba.silent=!0,ba},text:function(ua,Sa){var ba=ua.getAttribute("x")||"0",ka=ua.getAttribute("y")||"0",_y=ua.getAttribute("dx")||"0",Ty=ua.getAttribute("dy")||"0";this._textX=parseFloat(ba)+parseFloat(_y),this._textY=parseFloat(ka)+parseFloat(Ty);var Ay=new Group$3;return inheritStyle(Sa,Ay),parseAttributes(ua,Ay,this._defsUsePending,!1,!0),Ay},tspan:function(ua,Sa){var ba=ua.getAttribute("x"),ka=ua.getAttribute("y");ba!=null&&(this._textX=parseFloat(ba)),ka!=null&&(this._textY=parseFloat(ka));var _y=ua.getAttribute("dx")||"0",Ty=ua.getAttribute("dy")||"0",Ay=new Group$3;return inheritStyle(Sa,Ay),parseAttributes(ua,Ay,this._defsUsePending,!1,!0),this._textX+=parseFloat(_y),this._textY+=parseFloat(Ty),Ay},path:function(ua,Sa){var ba=ua.getAttribute("d")||"",ka=createFromString(ba);return inheritStyle(Sa,ka),parseAttributes(ua,ka,this._defsUsePending,!1,!1),ka.silent=!0,ka}}}(),ha}(),paintServerParsers={lineargradient:function(ha){var ua=parseInt(ha.getAttribute("x1")||"0",10),Sa=parseInt(ha.getAttribute("y1")||"0",10),ba=parseInt(ha.getAttribute("x2")||"10",10),ka=parseInt(ha.getAttribute("y2")||"0",10),_y=new LinearGradient(ua,Sa,ba,ka);return parsePaintServerUnit(ha,_y),parseGradientColorStops(ha,_y),_y},radialgradient:function(ha){var ua=parseInt(ha.getAttribute("cx")||"0",10),Sa=parseInt(ha.getAttribute("cy")||"0",10),ba=parseInt(ha.getAttribute("r")||"0",10),ka=new RadialGradient(ua,Sa,ba);return parsePaintServerUnit(ha,ka),parseGradientColorStops(ha,ka),ka}};function parsePaintServerUnit(ha,ua){var Sa=ha.getAttribute("gradientUnits");Sa==="userSpaceOnUse"&&(ua.global=!0)}function parseGradientColorStops(ha,ua){for(var Sa=ha.firstChild;Sa;){if(Sa.nodeType===1&&Sa.nodeName.toLocaleLowerCase()==="stop"){var ba=Sa.getAttribute("offset"),ka=void 0;ba&&ba.indexOf("%")>0?ka=parseInt(ba,10)/100:ba?ka=parseFloat(ba):ka=0;var _y={};parseInlineStyle(Sa,_y,_y);var Ty=_y.stopColor||Sa.getAttribute("stop-color")||"#000000";ua.colorStops.push({offset:ka,color:Ty})}Sa=Sa.nextSibling}}function inheritStyle(ha,ua){ha&&ha.__inheritedStyle&&(ua.__inheritedStyle||(ua.__inheritedStyle={}),defaults(ua.__inheritedStyle,ha.__inheritedStyle))}function parsePoints(ha){for(var ua=splitNumberSequence(ha),Sa=[],ba=0;ba<ua.length;ba+=2){var ka=parseFloat(ua[ba]),_y=parseFloat(ua[ba+1]);Sa.push([ka,_y])}return Sa}function parseAttributes(ha,ua,Sa,ba,ka){var _y=ua,Ty=_y.__inheritedStyle=_y.__inheritedStyle||{},Ay={};ha.nodeType===1&&(parseTransformAttribute(ha,ua),parseInlineStyle(ha,Ty,Ay),ba||parseAttributeStyle(ha,Ty,Ay)),_y.style=_y.style||{},Ty.fill!=null&&(_y.style.fill=getFillStrokeStyle(_y,"fill",Ty.fill,Sa)),Ty.stroke!=null&&(_y.style.stroke=getFillStrokeStyle(_y,"stroke",Ty.stroke,Sa)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(Ey){Ty[Ey]!=null&&(_y.style[Ey]=parseFloat(Ty[Ey]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(Ey){Ty[Ey]!=null&&(_y.style[Ey]=Ty[Ey])}),ka&&(_y.__selfStyle=Ay),Ty.lineDash&&(_y.style.lineDash=map$1(splitNumberSequence(Ty.lineDash),function(Ey){return parseFloat(Ey)})),(Ty.visibility==="hidden"||Ty.visibility==="collapse")&&(_y.invisible=!0),Ty.display==="none"&&(_y.ignore=!0)}function applyTextAlignment(ha,ua){var Sa=ua.__selfStyle;if(Sa){var ba=Sa.textBaseline,ka=ba;!ba||ba==="auto"||ba==="baseline"?ka="alphabetic":ba==="before-edge"||ba==="text-before-edge"?ka="top":ba==="after-edge"||ba==="text-after-edge"?ka="bottom":(ba==="central"||ba==="mathematical")&&(ka="middle"),ha.style.textBaseline=ka}var _y=ua.__inheritedStyle;if(_y){var Ty=_y.textAlign,Ay=Ty;Ty&&(Ty==="middle"&&(Ay="center"),ha.style.textAlign=Ay)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(ha,ua,Sa,ba){var ka=Sa&&Sa.match(urlRegex);if(ka){var _y=trim$1(ka[1]);ba.push([ha,ua,_y]);return}return Sa==="none"&&(Sa=null),Sa}function applyDefs(ha,ua){for(var Sa=0;Sa<ua.length;Sa++){var ba=ua[Sa];ba[0].style[ba[1]]=ha[ba[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(ha){return ha.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(ha,ua){var Sa=ha.getAttribute("transform");if(Sa){Sa=Sa.replace(/,/g," ");var ba=[],ka=null;Sa.replace(transformRegex,function(Iy,Ly,Py){return ba.push(Ly,Py),""});for(var _y=ba.length-1;_y>0;_y-=2){var Ty=ba[_y],Ay=ba[_y-1],Ey=splitNumberSequence(Ty);switch(ka=ka||create$1(),Ay){case"translate":translate(ka,ka,[parseFloat(Ey[0]),parseFloat(Ey[1]||"0")]);break;case"scale":scale$1(ka,ka,[parseFloat(Ey[0]),parseFloat(Ey[1]||Ey[0])]);break;case"rotate":rotate(ka,ka,-parseFloat(Ey[0])*DEGREE_TO_ANGLE,[parseFloat(Ey[1]||"0"),parseFloat(Ey[2]||"0")]);break;case"skewX":var My=Math.tan(parseFloat(Ey[0])*DEGREE_TO_ANGLE);mul(ka,[1,0,My,1,0,0],ka);break;case"skewY":var Dy=Math.tan(parseFloat(Ey[0])*DEGREE_TO_ANGLE);mul(ka,[1,Dy,0,1,0,0],ka);break;case"matrix":ka[0]=parseFloat(Ey[0]),ka[1]=parseFloat(Ey[1]),ka[2]=parseFloat(Ey[2]),ka[3]=parseFloat(Ey[3]),ka[4]=parseFloat(Ey[4]),ka[5]=parseFloat(Ey[5]);break}}ua.setLocalTransform(ka)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(ha,ua,Sa){var ba=ha.getAttribute("style");if(ba){styleRegex.lastIndex=0;for(var ka;(ka=styleRegex.exec(ba))!=null;){var _y=ka[1],Ty=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,_y)?INHERITABLE_STYLE_ATTRIBUTES_MAP[_y]:null;Ty&&(ua[Ty]=ka[2]);var Ay=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,_y)?SELF_STYLE_ATTRIBUTES_MAP[_y]:null;Ay&&(Sa[Ay]=ka[2])}}}function parseAttributeStyle(ha,ua,Sa){for(var ba=0;ba<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;ba++){var ka=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[ba],_y=ha.getAttribute(ka);_y!=null&&(ua[INHERITABLE_STYLE_ATTRIBUTES_MAP[ka]]=_y)}for(var ba=0;ba<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;ba++){var ka=SELF_STYLE_ATTRIBUTES_MAP_KEYS[ba],_y=ha.getAttribute(ka);_y!=null&&(Sa[SELF_STYLE_ATTRIBUTES_MAP[ka]]=_y)}}function makeViewBoxTransform(ha,ua){var Sa=ua.width/ha.width,ba=ua.height/ha.height,ka=Math.min(Sa,ba);return{scale:ka,x:-(ha.x+ha.width/2)*ka+(ua.x+ua.width/2),y:-(ha.y+ha.height/2)*ka+(ua.y+ua.height/2)}}function parseSVG(ha,ua){var Sa=new SVGParser;return Sa.parse(ha,ua)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function ha(ua,Sa){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=ua,this._parsedXML=parseXML(Sa)}return ha.prototype.load=function(){var ua=this._firstGraphic;if(!ua){ua=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(ua),this._boundingRect=this._firstGraphic.boundingRect.clone();var Sa=createRegions(ua.named),ba=Sa.regions,ka=Sa.regionsMap;this._regions=ba,this._regionsMap=ka}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},ha.prototype._buildGraphic=function(ua){var Sa,ba;try{Sa=ua&&parseSVG(ua,{ignoreViewBox:!0,ignoreRootClip:!0})||{},ba=Sa.root,assert(ba!=null)}catch(Ny){throw new Error(`Invalid svg format
`+Ny.message)}var ka=new Group$3;ka.add(ba),ka.isGeoSVGGraphicRoot=!0;var _y=Sa.width,Ty=Sa.height,Ay=Sa.viewBoxRect,Ey=this._boundingRect;if(!Ey){var My=void 0,Dy=void 0,Iy=void 0,Ly=void 0;if(_y!=null?(My=0,Iy=_y):Ay&&(My=Ay.x,Iy=Ay.width),Ty!=null?(Dy=0,Ly=Ty):Ay&&(Dy=Ay.y,Ly=Ay.height),My==null||Dy==null){var Py=ba.getBoundingRect();My==null&&(My=Py.x,Iy=Py.width),Dy==null&&(Dy=Py.y,Ly=Py.height)}Ey=this._boundingRect=new BoundingRect(My,Dy,Iy,Ly)}if(Ay){var Ry=makeViewBoxTransform(Ay,Ey);ba.scaleX=ba.scaleY=Ry.scale,ba.x=Ry.x,ba.y=Ry.y}ka.setClipPath(new Rect$2({shape:Ey.plain()}));var Vy=[];return each$f(Sa.named,function(Ny){REGION_AVAILABLE_SVG_TAG_MAP.get(Ny.svgNodeTagLower)!=null&&(Vy.push(Ny),setSilent(Ny.el))}),{root:ka,boundingRect:Ey,named:Vy}},ha.prototype.useGraphic=function(ua){var Sa=this._usedGraphicMap,ba=Sa.get(ua);return ba||(ba=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),Sa.set(ua,ba),ba)},ha.prototype.freeGraphic=function(ua){var Sa=this._usedGraphicMap,ba=Sa.get(ua);ba&&(Sa.removeKey(ua),this._freedGraphics.push(ba))},ha}();function setSilent(ha){ha.silent=!1,ha.isGroup&&ha.traverse(function(ua){ua.silent=!1})}function createRegions(ha){var ua=[],Sa=createHashMap();return each$f(ha,function(ba){if(ba.namedFrom==null){var ka=new GeoSVGRegion(ba.name,ba.el);ua.push(ka),Sa.set(ba.name,ka)}}),{regions:ua,regionsMap:Sa}}var geoCoord=[126,25],nanhaiName="南海诸岛",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i$1=0;i$1<points$1.length;i$1++)for(var k$1=0;k$1<points$1[i$1].length;k$1++)points$1[i$1][k$1][0]/=10.5,points$1[i$1][k$1][1]/=-10.5/.75,points$1[i$1][k$1][0]+=geoCoord[0],points$1[i$1][k$1][1]+=geoCoord[1];function fixNanhai(ha,ua){if(ha==="china"){for(var Sa=0;Sa<ua.length;Sa++)if(ua[Sa].name===nanhaiName)return;ua.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(ba){return{type:"polygon",exterior:ba}}),geoCoord))}}var coordsOffsetMap={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function fixTextCoords(ha,ua){if(ha==="china"){var Sa=coordsOffsetMap[ua.name];if(Sa){var ba=ua.getCenter();ba[0]+=Sa[0]/10.5,ba[1]+=-Sa[1]/(10.5/.75),ua.setCenter(ba)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(ha,ua){ha==="china"&&ua.name==="台湾"&&ua.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function ha(ua,Sa,ba){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=ua,this._specialAreas=ba,this._geoJSON=parseInput(Sa)}return ha.prototype.load=function(ua,Sa){Sa=Sa||DEFAULT_NAME_PROPERTY;var ba=this._parsedMap.get(Sa);if(!ba){var ka=this._parseToRegions(Sa);ba=this._parsedMap.set(Sa,{regions:ka,boundingRect:calculateBoundingRect(ka)})}var _y=createHashMap(),Ty=[];return each$f(ba.regions,function(Ay){var Ey=Ay.name;ua&&hasOwn(ua,Ey)&&(Ay=Ay.cloneShallow(Ey=ua[Ey])),Ty.push(Ay),_y.set(Ey,Ay)}),{regions:Ty,boundingRect:ba.boundingRect||new BoundingRect(0,0,0,0),regionsMap:_y}},ha.prototype._parseToRegions=function(ua){var Sa=this._mapName,ba=this._geoJSON,ka;try{ka=ba?parseGeoJSON(ba,ua):[]}catch(_y){throw new Error(`Invalid geoJson format
`+_y.message)}return fixNanhai(Sa,ka),each$f(ka,function(_y){var Ty=_y.name;fixTextCoords(Sa,_y),fixDiaoyuIsland(Sa,_y);var Ay=this._specialAreas&&this._specialAreas[Ty];Ay&&_y.transformTo(Ay.left,Ay.top,Ay.width,Ay.height)},this),ka},ha.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},ha}();function calculateBoundingRect(ha){for(var ua,Sa=0;Sa<ha.length;Sa++){var ba=ha[Sa].getBoundingRect();ua=ua||ba.clone(),ua.union(ba)}return ua}function parseInput(ha){return isString(ha)?typeof JSON<"u"&&JSON.parse?JSON.parse(ha):new Function("return ("+ha+");")():ha}var storage=createHashMap();const geoSourceManager={registerMap:function(ha,ua,Sa){if(ua.svg){var ba=new GeoSVGResource(ha,ua.svg);storage.set(ha,ba)}else{var ka=ua.geoJson||ua.geoJSON;ka&&!ua.features?Sa=ua.specialAreas:ka=ua;var ba=new GeoJSONResource(ha,ka,Sa);storage.set(ha,ba)}},getGeoResource:function(ha){return storage.get(ha)},getMapForUser:function(ha){var ua=storage.get(ha);return ua&&ua.type==="geoJSON"&&ua.getMapForUser()},load:function(ha,ua,Sa){var ba=storage.get(ha);if(ba)return ba.load(ua,Sa)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(ha){var ua=ha.getItemStyle(),Sa=ha.get("areaColor");return Sa!=null&&(ua.fill=Sa),ua}function fixLineStyle(ha){var ua=ha.style;ua&&(ua.stroke=ua.stroke||ua.fill,ua.fill=null)}var MapDraw=function(){function ha(ua){var Sa=new Group$3;this.uid=getUID("ec_map_draw"),this._controller=new RoamController(ua.getZr()),this._controllerHost={target:Sa},this.group=Sa,Sa.add(this._regionsGroup=new Group$3),Sa.add(this._svgGroup=new Group$3)}return ha.prototype.draw=function(ua,Sa,ba,ka,_y){var Ty=ua.mainType==="geo",Ay=ua.getData&&ua.getData();Ty&&Sa.eachComponent({mainType:"series",subType:"map"},function(By){!Ay&&By.getHostGeoModel()===ua&&(Ay=By.getData())});var Ey=ua.coordinateSystem,My=this._regionsGroup,Dy=this.group,Iy=Ey.getTransformInfo(),Ly=Iy.raw,Py=Iy.roam,Ry=!My.childAt(0)||_y;Ry?(Dy.x=Py.x,Dy.y=Py.y,Dy.scaleX=Py.scaleX,Dy.scaleY=Py.scaleY,Dy.dirty()):updateProps$1(Dy,Py,ua);var Vy=Ay&&Ay.getVisual("visualMeta")&&Ay.getVisual("visualMeta").length>0,Ny={api:ba,geo:Ey,mapOrGeoModel:ua,data:Ay,isVisualEncodedByVisualMap:Vy,isGeo:Ty,transformInfoRaw:Ly};Ey.resourceType==="geoJSON"?this._buildGeoJSON(Ny):Ey.resourceType==="geoSVG"&&this._buildSVG(Ny),this._updateController(ua,Sa,ba),this._updateMapSelectHandler(ua,My,ba,ka)},ha.prototype._buildGeoJSON=function(ua){var Sa=this._regionsGroupByName=createHashMap(),ba=createHashMap(),ka=this._regionsGroup,_y=ua.transformInfoRaw,Ty=ua.mapOrGeoModel,Ay=ua.data,Ey=ua.geo.projection,My=Ey&&Ey.stream;function Dy(Py,Ry){return Ry&&(Py=Ry(Py)),Py&&[Py[0]*_y.scaleX+_y.x,Py[1]*_y.scaleY+_y.y]}function Iy(Py){for(var Ry=[],Vy=!My&&Ey&&Ey.project,Ny=0;Ny<Py.length;++Ny){var By=Dy(Py[Ny],Vy);By&&Ry.push(By)}return Ry}function Ly(Py){return{shape:{points:Iy(Py)}}}ka.removeAll(),each$f(ua.geo.regions,function(Py){var Ry=Py.name,Vy=Sa.get(Ry),Ny=ba.get(Ry)||{},By=Ny.dataIdx,Oy=Ny.regionModel;if(!Vy){Vy=Sa.set(Ry,new Group$3),ka.add(Vy),By=Ay?Ay.indexOfName(Ry):null,Oy=ua.isGeo?Ty.getRegionModel(Ry):Ay?Ay.getItemModel(By):null;var Fy=Oy.get("silent",!0);Fy!=null&&(Vy.silent=Fy),ba.set(Ry,{dataIdx:By,regionModel:Oy})}var zy=[],Hy=[];each$f(Py.geometries,function(Uy){if(Uy.type==="polygon"){var Yy=[Uy.exterior].concat(Uy.interiors||[]);My&&(Yy=projectPolys(Yy,My)),each$f(Yy,function(Ky){zy.push(new Polygon(Ly(Ky)))})}else{var jy=Uy.points;My&&(jy=projectPolys(jy,My,!0)),each$f(jy,function(Ky){Hy.push(new Polyline$1(Ly(Ky)))})}});var Gy=Dy(Py.getCenter(),Ey&&Ey.project);function Wy(Uy,Yy){if(Uy.length){var jy=new CompoundPath({culling:!0,segmentIgnoreThreshold:1,shape:{paths:Uy}});Vy.add(jy),applyOptionStyleForRegion(ua,jy,By,Oy),resetLabelForRegion(ua,jy,Ry,Oy,Ty,By,Gy),Yy&&(fixLineStyle(jy),each$f(jy.states,fixLineStyle))}}Wy(zy),Wy(Hy,!0)}),Sa.each(function(Py,Ry){var Vy=ba.get(Ry),Ny=Vy.dataIdx,By=Vy.regionModel;resetEventTriggerForRegion(ua,Py,Ry,By,Ty,Ny),resetTooltipForRegion(ua,Py,Ry,By,Ty),resetStateTriggerForRegion(ua,Py,Ry,By,Ty)},this)},ha.prototype._buildSVG=function(ua){var Sa=ua.geo.map,ba=ua.transformInfoRaw;this._svgGroup.x=ba.x,this._svgGroup.y=ba.y,this._svgGroup.scaleX=ba.scaleX,this._svgGroup.scaleY=ba.scaleY,this._svgResourceChanged(Sa)&&(this._freeSVG(),this._useSVG(Sa));var ka=this._svgDispatcherMap=createHashMap(),_y=!1;each$f(this._svgGraphicRecord.named,function(Ty){var Ay=Ty.name,Ey=ua.mapOrGeoModel,My=ua.data,Dy=Ty.svgNodeTagLower,Iy=Ty.el,Ly=My?My.indexOfName(Ay):null,Py=Ey.getRegionModel(Ay);OPTION_STYLE_ENABLED_TAG_MAP.get(Dy)!=null&&Iy instanceof Displayable&&applyOptionStyleForRegion(ua,Iy,Ly,Py),Iy instanceof Displayable&&(Iy.culling=!0);var Ry=Py.get("silent",!0);if(Ry!=null&&(Iy.silent=Ry),Iy.z2EmphasisLift=0,!Ty.namedFrom&&(LABEL_HOST_MAP.get(Dy)!=null&&resetLabelForRegion(ua,Iy,Ay,Py,Ey,Ly,null),resetEventTriggerForRegion(ua,Iy,Ay,Py,Ey,Ly),resetTooltipForRegion(ua,Iy,Ay,Py,Ey),STATE_TRIGGER_TAG_MAP.get(Dy)!=null)){var Vy=resetStateTriggerForRegion(ua,Iy,Ay,Py,Ey);Vy==="self"&&(_y=!0);var Ny=ka.get(Ay)||ka.set(Ay,[]);Ny.push(Iy)}},this),this._enableBlurEntireSVG(_y,ua)},ha.prototype._enableBlurEntireSVG=function(ua,Sa){if(ua&&Sa.isGeo){var ba=Sa.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),ka=ba.opacity;this._svgGraphicRecord.root.traverse(function(_y){if(!_y.isGroup){setDefaultStateProxy(_y);var Ty=_y.ensureState("blur").style||{};Ty.opacity==null&&ka!=null&&(Ty.opacity=ka),_y.ensureState("emphasis")}})}},ha.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},ha.prototype.findHighDownDispatchers=function(ua,Sa){if(ua==null)return[];var ba=Sa.coordinateSystem;if(ba.resourceType==="geoJSON"){var ka=this._regionsGroupByName;if(ka){var _y=ka.get(ua);return _y?[_y]:[]}}else if(ba.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(ua)||[]},ha.prototype._svgResourceChanged=function(ua){return this._svgMapName!==ua},ha.prototype._useSVG=function(ua){var Sa=geoSourceManager.getGeoResource(ua);if(Sa&&Sa.type==="geoSVG"){var ba=Sa.useGraphic(this.uid);this._svgGroup.add(ba.root),this._svgGraphicRecord=ba,this._svgMapName=ua}},ha.prototype._freeSVG=function(){var ua=this._svgMapName;if(ua!=null){var Sa=geoSourceManager.getGeoResource(ua);Sa&&Sa.type==="geoSVG"&&Sa.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},ha.prototype._updateController=function(ua,Sa,ba){var ka=ua.coordinateSystem,_y=this._controller,Ty=this._controllerHost;Ty.zoomLimit=ua.get("scaleLimit"),Ty.zoom=ka.getZoom(),_y.enable(ua.get("roam")||!1);var Ay=ua.mainType;function Ey(){var My={type:"geoRoam",componentType:Ay};return My[Ay+"Id"]=ua.id,My}_y.off("pan").on("pan",function(My){this._mouseDownFlag=!1,updateViewOnPan(Ty,My.dx,My.dy),ba.dispatchAction(extend(Ey(),{dx:My.dx,dy:My.dy,animation:{duration:0}}))},this),_y.off("zoom").on("zoom",function(My){this._mouseDownFlag=!1,updateViewOnZoom(Ty,My.scale,My.originX,My.originY),ba.dispatchAction(extend(Ey(),{totalZoom:Ty.zoom,zoom:My.scale,originX:My.originX,originY:My.originY,animation:{duration:0}}))},this),_y.setPointerChecker(function(My,Dy,Iy){return ka.containPoint([Dy,Iy])&&!onIrrelevantElement(My,ba,ua)})},ha.prototype.resetForLabelLayout=function(){this.group.traverse(function(ua){var Sa=ua.getTextContent();Sa&&(Sa.ignore=mapLabelRaw(Sa).ignore)})},ha.prototype._updateMapSelectHandler=function(ua,Sa,ba,ka){var _y=this;Sa.off("mousedown"),Sa.off("click"),ua.get("selectedMode")&&(Sa.on("mousedown",function(){_y._mouseDownFlag=!0}),Sa.on("click",function(Ty){_y._mouseDownFlag&&(_y._mouseDownFlag=!1)}))},ha}();function applyOptionStyleForRegion(ha,ua,Sa,ba){var ka=ba.getModel("itemStyle"),_y=ba.getModel(["emphasis","itemStyle"]),Ty=ba.getModel(["blur","itemStyle"]),Ay=ba.getModel(["select","itemStyle"]),Ey=getFixedItemStyle(ka),My=getFixedItemStyle(_y),Dy=getFixedItemStyle(Ay),Iy=getFixedItemStyle(Ty),Ly=ha.data;if(Ly){var Py=Ly.getItemVisual(Sa,"style"),Ry=Ly.getItemVisual(Sa,"decal");ha.isVisualEncodedByVisualMap&&Py.fill&&(Ey.fill=Py.fill),Ry&&(Ey.decal=createOrUpdatePatternFromDecal(Ry,ha.api))}ua.setStyle(Ey),ua.style.strokeNoScale=!0,ua.ensureState("emphasis").style=My,ua.ensureState("select").style=Dy,ua.ensureState("blur").style=Iy,setDefaultStateProxy(ua)}function resetLabelForRegion(ha,ua,Sa,ba,ka,_y,Ty){var Ay=ha.data,Ey=ha.isGeo,My=Ay&&isNaN(Ay.get(Ay.mapDimension("value"),_y)),Dy=Ay&&Ay.getItemLayout(_y);if(Ey||My||Dy&&Dy.showLabel){var Iy=Ey?Sa:_y,Ly=void 0;(!Ay||_y>=0)&&(Ly=ka);var Py=Ty?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(ua,getLabelStatesModels(ba),{labelFetcher:Ly,labelDataIndex:Iy,defaultText:Sa},Py);var Ry=ua.getTextContent();if(Ry&&(mapLabelRaw(Ry).ignore=Ry.ignore,ua.textConfig&&Ty)){var Vy=ua.getBoundingRect().clone();ua.textConfig.layoutRect=Vy,ua.textConfig.position=[(Ty[0]-Vy.x)/Vy.width*100+"%",(Ty[1]-Vy.y)/Vy.height*100+"%"]}ua.disableLabelAnimation=!0}else ua.removeTextContent(),ua.removeTextConfig(),ua.disableLabelAnimation=null}function resetEventTriggerForRegion(ha,ua,Sa,ba,ka,_y){ha.data?ha.data.setItemGraphicEl(_y,ua):getECData(ua).eventData={componentType:"geo",componentIndex:ka.componentIndex,geoIndex:ka.componentIndex,name:Sa,region:ba&&ba.option||{}}}function resetTooltipForRegion(ha,ua,Sa,ba,ka){ha.data||setTooltipConfig({el:ua,componentModel:ka,itemName:Sa,itemTooltipOption:ba.get("tooltip")})}function resetStateTriggerForRegion(ha,ua,Sa,ba,ka){ua.highDownSilentOnTouch=!!ka.get("selectedMode");var _y=ba.getModel("emphasis"),Ty=_y.get("focus");return toggleHoverEmphasis(ua,Ty,_y.get("blurScope"),_y.get("disabled")),ha.isGeo&&enableComponentHighDownFeatures(ua,ka,Sa),Ty}function projectPolys(ha,ua,Sa){var ba=[],ka;function _y(){ka=[]}function Ty(){ka.length&&(ba.push(ka),ka=[])}var Ay=ua({polygonStart:_y,polygonEnd:Ty,lineStart:_y,lineEnd:Ty,point:function(Ey,My){isFinite(Ey)&&isFinite(My)&&ka.push([Ey,My])},sphere:function(){}});return!Sa&&Ay.polygonStart(),each$f(ha,function(Ey){Ay.lineStart();for(var My=0;My<Ey.length;My++)Ay.point(Ey[My][0],Ey[My][1]);Ay.lineEnd()}),!Sa&&Ay.polygonEnd(),ba}var MapView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka,_y){if(!(_y&&_y.type==="mapToggleSelect"&&_y.from===this.uid)){var Ty=this.group;if(Ty.removeAll(),!Sa.getHostGeoModel()){if(this._mapDraw&&_y&&_y.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),_y&&_y.type==="geoRoam"&&_y.componentType==="series"&&_y.seriesId===Sa.id){var Ay=this._mapDraw;Ay&&Ty.add(Ay.group)}else if(Sa.needsDrawMap){var Ay=this._mapDraw||new MapDraw(ka);Ty.add(Ay.group),Ay.draw(Sa,ba,ka,this,_y),this._mapDraw=Ay}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;Sa.get("showLegendSymbol")&&ba.getComponent("legend")&&this._renderSymbols(Sa,ba,ka)}}},ua.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},ua.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},ua.prototype._renderSymbols=function(Sa,ba,ka){var _y=Sa.originalData,Ty=this.group;_y.each(_y.mapDimension("value"),function(Ay,Ey){if(!isNaN(Ay)){var My=_y.getItemLayout(Ey);if(!(!My||!My.point)){var Dy=My.point,Iy=My.offset,Ly=new Circle({style:{fill:Sa.getData().getVisual("style").fill},shape:{cx:Dy[0]+Iy*9,cy:Dy[1],r:3},silent:!0,z2:8+(Iy?0:Z2_EMPHASIS_LIFT+1)});if(!Iy){var Py=Sa.mainSeries.getData(),Ry=_y.getName(Ey),Vy=Py.indexOfName(Ry),Ny=_y.getItemModel(Ey),By=Ny.getModel("label"),Oy=Py.getItemGraphicEl(Vy);setLabelStyle(Ly,getLabelStatesModels(Ny),{labelFetcher:{getFormattedLabel:function(Fy,zy){return Sa.getFormattedLabel(Vy,zy)}},defaultText:Ry}),Ly.disableLabelAnimation=!0,By.get("position")||Ly.setTextConfig({position:"bottom"}),Oy.onHoverStateChange=function(Fy){setStatesFlag(Ly,Fy)}}Ty.add(Ly)}}})},ua.type="map",ua}(ChartView),MapSeries=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.needsDrawMap=!1,Sa.seriesGroup=[],Sa.getTooltipPosition=function(ba){if(ba!=null){var ka=this.getData().getName(ba),_y=this.coordinateSystem,Ty=_y.getRegion(ka);return Ty&&_y.dataToPoint(Ty.getCenter())}},Sa}return ua.prototype.getInitialData=function(Sa){for(var ba=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),ka=createHashMap(),_y=[],Ty=0,Ay=ba.count();Ty<Ay;Ty++){var Ey=ba.getName(Ty);ka.set(Ey,Ty)}var My=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(My.regions,function(Dy){var Iy=Dy.name,Ly=ka.get(Iy),Py=Dy.properties&&Dy.properties.echartsStyle,Ry;Ly==null?(Ry={name:Iy},_y.push(Ry)):Ry=ba.getRawDataItem(Ly),Py&&merge(Ry,Py)}),ba.appendData(_y),ba},ua.prototype.getHostGeoModel=function(){var Sa=this.option.geoIndex;return Sa!=null?this.ecModel.getComponent("geo",Sa):null},ua.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},ua.prototype.getRawValue=function(Sa){var ba=this.getData();return ba.get(ba.mapDimension("value"),Sa)},ua.prototype.getRegionModel=function(Sa){var ba=this.getData();return ba.getItemModel(ba.indexOfName(Sa))},ua.prototype.formatTooltip=function(Sa,ba,ka){for(var _y=this.getData(),Ty=this.getRawValue(Sa),Ay=_y.getName(Sa),Ey=this.seriesGroup,My=[],Dy=0;Dy<Ey.length;Dy++){var Iy=Ey[Dy].originalData.indexOfName(Ay),Ly=_y.mapDimension("value");isNaN(Ey[Dy].originalData.get(Ly,Iy))||My.push(Ey[Dy].name)}return createTooltipMarkup("section",{header:My.join(", "),noHeader:!My.length,blocks:[createTooltipMarkup("nameValue",{name:Ay,value:Ty})]})},ua.prototype.setZoom=function(Sa){this.option.zoom=Sa},ua.prototype.setCenter=function(Sa){this.option.center=Sa},ua.prototype.getLegendIcon=function(Sa){var ba=Sa.icon||"roundRect",ka=createSymbol$1(ba,0,0,Sa.itemWidth,Sa.itemHeight,Sa.itemStyle.fill);return ka.setStyle(Sa.itemStyle),ka.style.stroke="none",ba.indexOf("empty")>-1&&(ka.style.stroke=ka.style.fill,ka.style.fill="#fff",ka.style.lineWidth=2),ka},ua.type="series.map",ua.dependencies=["geo"],ua.layoutMode="box",ua.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},ua}(SeriesModel);function dataStatistics(ha,ua){var Sa={};return each$f(ha,function(ba){ba.each(ba.mapDimension("value"),function(ka,_y){var Ty="ec-"+ba.getName(_y);Sa[Ty]=Sa[Ty]||[],isNaN(ka)||Sa[Ty].push(ka)})}),ha[0].map(ha[0].mapDimension("value"),function(ba,ka){for(var _y="ec-"+ha[0].getName(ka),Ty=0,Ay=1/0,Ey=-1/0,My=Sa[_y].length,Dy=0;Dy<My;Dy++)Ay=Math.min(Ay,Sa[_y][Dy]),Ey=Math.max(Ey,Sa[_y][Dy]),Ty+=Sa[_y][Dy];var Iy;return ua==="min"?Iy=Ay:ua==="max"?Iy=Ey:ua==="average"?Iy=Ty/My:Iy=Ty,My===0?NaN:Iy})}function mapDataStatistic(ha){var ua={};ha.eachSeriesByType("map",function(Sa){var ba=Sa.getHostGeoModel(),ka=ba?"o"+ba.id:"i"+Sa.getMapType();(ua[ka]=ua[ka]||[]).push(Sa)}),each$f(ua,function(Sa,ba){for(var ka=dataStatistics(map$1(Sa,function(Ty){return Ty.getData()}),Sa[0].get("mapValueCalculation")),_y=0;_y<Sa.length;_y++)Sa[_y].originalData=Sa[_y].getData();for(var _y=0;_y<Sa.length;_y++)Sa[_y].seriesGroup=Sa,Sa[_y].needsDrawMap=_y===0&&!Sa[_y].getHostGeoModel(),Sa[_y].setData(ka.cloneShallow()),Sa[_y].mainSeries=Sa[0]})}function mapSymbolLayout(ha){var ua={};ha.eachSeriesByType("map",function(Sa){var ba=Sa.getMapType();if(!(Sa.getHostGeoModel()||ua[ba])){var ka={};each$f(Sa.seriesGroup,function(Ty){var Ay=Ty.coordinateSystem,Ey=Ty.originalData;Ty.get("showLegendSymbol")&&ha.getComponent("legend")&&Ey.each(Ey.mapDimension("value"),function(My,Dy){var Iy=Ey.getName(Dy),Ly=Ay.getRegion(Iy);if(!(!Ly||isNaN(My))){var Py=ka[Iy]||0,Ry=Ay.dataToPoint(Ly.getCenter());ka[Iy]=Py+1,Ey.setItemLayout(Dy,{point:Ry,offset:Py})}})});var _y=Sa.getData();_y.each(function(Ty){var Ay=_y.getName(Ty),Ey=_y.getItemLayout(Ty)||{};Ey.showLabel=!ka[Ay],_y.setItemLayout(Ty,Ey)}),ua[ba]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this)||this;return ba.type="view",ba.dimensions=["x","y"],ba._roamTransformable=new Transformable,ba._rawTransformable=new Transformable,ba.name=Sa,ba}return ua.prototype.setBoundingRect=function(Sa,ba,ka,_y){return this._rect=new BoundingRect(Sa,ba,ka,_y),this._rect},ua.prototype.getBoundingRect=function(){return this._rect},ua.prototype.setViewRect=function(Sa,ba,ka,_y){this._transformTo(Sa,ba,ka,_y),this._viewRect=new BoundingRect(Sa,ba,ka,_y)},ua.prototype._transformTo=function(Sa,ba,ka,_y){var Ty=this.getBoundingRect(),Ay=this._rawTransformable;Ay.transform=Ty.calculateTransform(new BoundingRect(Sa,ba,ka,_y));var Ey=Ay.parent;Ay.parent=null,Ay.decomposeTransform(),Ay.parent=Ey,this._updateTransform()},ua.prototype.setCenter=function(Sa,ba){Sa&&(this._center=[parsePercent(Sa[0],ba.getWidth()),parsePercent(Sa[1],ba.getHeight())],this._updateCenterAndZoom())},ua.prototype.setZoom=function(Sa){Sa=Sa||1;var ba=this.zoomLimit;ba&&(ba.max!=null&&(Sa=Math.min(ba.max,Sa)),ba.min!=null&&(Sa=Math.max(ba.min,Sa))),this._zoom=Sa,this._updateCenterAndZoom()},ua.prototype.getDefaultCenter=function(){var Sa=this.getBoundingRect(),ba=Sa.x+Sa.width/2,ka=Sa.y+Sa.height/2;return[ba,ka]},ua.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},ua.prototype.getZoom=function(){return this._zoom||1},ua.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},ua.prototype._updateCenterAndZoom=function(){var Sa=this._rawTransformable.getLocalTransform(),ba=this._roamTransformable,ka=this.getDefaultCenter(),_y=this.getCenter(),Ty=this.getZoom();_y=applyTransform$1([],_y,Sa),ka=applyTransform$1([],ka,Sa),ba.originX=_y[0],ba.originY=_y[1],ba.x=ka[0]-_y[0],ba.y=ka[1]-_y[1],ba.scaleX=ba.scaleY=Ty,this._updateTransform()},ua.prototype._updateTransform=function(){var Sa=this._roamTransformable,ba=this._rawTransformable;ba.parent=Sa,Sa.updateTransform(),ba.updateTransform(),copy(this.transform||(this.transform=[]),ba.transform||create$1()),this._rawTransform=ba.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},ua.prototype.getTransformInfo=function(){var Sa=this._rawTransformable,ba=this._roamTransformable,ka=new Transformable;return ka.transform=ba.transform,ka.decomposeTransform(),{roam:{x:ka.x,y:ka.y,scaleX:ka.scaleX,scaleY:ka.scaleY},raw:{x:Sa.x,y:Sa.y,scaleX:Sa.scaleX,scaleY:Sa.scaleY}}},ua.prototype.getViewRect=function(){return this._viewRect},ua.prototype.getViewRectAfterRoam=function(){var Sa=this.getBoundingRect().clone();return Sa.applyTransform(this.transform),Sa},ua.prototype.dataToPoint=function(Sa,ba,ka){var _y=ba?this._rawTransform:this.transform;return ka=ka||[],_y?v2ApplyTransform(ka,Sa,_y):copy$1(ka,Sa)},ua.prototype.pointToData=function(Sa){var ba=this.invTransform;return ba?v2ApplyTransform([],Sa,ba):[Sa[0],Sa[1]]},ua.prototype.convertToPixel=function(Sa,ba,ka){var _y=getCoordSys$4(ba);return _y===this?_y.dataToPoint(ka):null},ua.prototype.convertFromPixel=function(Sa,ba,ka){var _y=getCoordSys$4(ba);return _y===this?_y.pointToData(ka):null},ua.prototype.containPoint=function(Sa){return this.getViewRectAfterRoam().contain(Sa[0],Sa[1])},ua.dimensions=["x","y"],ua}(Transformable);function getCoordSys$4(ha){var ua=ha.seriesModel;return ua?ua.coordinateSystem:null}var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(ha){__extends(ua,ha);function ua(Sa,ba,ka){var _y=ha.call(this,Sa)||this;_y.dimensions=geo2DDimensions,_y.type="geo",_y._nameCoordMap=createHashMap(),_y.map=ba;var Ty=ka.projection,Ay=geoSourceManager.load(ba,ka.nameMap,ka.nameProperty),Ey=geoSourceManager.getGeoResource(ba);_y.resourceType=Ey?Ey.type:null;var My=_y.regions=Ay.regions,Dy=GEO_DEFAULT_PARAMS[Ey.type];_y._regionsMap=Ay.regionsMap,_y.regions=Ay.regions,_y.projection=Ty;var Iy;if(Ty)for(var Ly=0;Ly<My.length;Ly++){var Py=My[Ly].getBoundingRect(Ty);Iy=Iy||Py.clone(),Iy.union(Py)}else Iy=Ay.boundingRect;return _y.setBoundingRect(Iy.x,Iy.y,Iy.width,Iy.height),_y.aspectScale=Ty?1:retrieve2(ka.aspectScale,Dy.aspectScale),_y._invertLongitute=Ty?!1:Dy.invertLongitute,_y}return ua.prototype._transformTo=function(Sa,ba,ka,_y){var Ty=this.getBoundingRect(),Ay=this._invertLongitute;Ty=Ty.clone(),Ay&&(Ty.y=-Ty.y-Ty.height);var Ey=this._rawTransformable;Ey.transform=Ty.calculateTransform(new BoundingRect(Sa,ba,ka,_y));var My=Ey.parent;Ey.parent=null,Ey.decomposeTransform(),Ey.parent=My,Ay&&(Ey.scaleY=-Ey.scaleY),this._updateTransform()},ua.prototype.getRegion=function(Sa){return this._regionsMap.get(Sa)},ua.prototype.getRegionByCoord=function(Sa){for(var ba=this.regions,ka=0;ka<ba.length;ka++){var _y=ba[ka];if(_y.type==="geoJSON"&&_y.contain(Sa))return ba[ka]}},ua.prototype.addGeoCoord=function(Sa,ba){this._nameCoordMap.set(Sa,ba)},ua.prototype.getGeoCoord=function(Sa){var ba=this._regionsMap.get(Sa);return this._nameCoordMap.get(Sa)||ba&&ba.getCenter()},ua.prototype.dataToPoint=function(Sa,ba,ka){if(isString(Sa)&&(Sa=this.getGeoCoord(Sa)),Sa){var _y=this.projection;return _y&&(Sa=_y.project(Sa)),Sa&&this.projectedToPoint(Sa,ba,ka)}},ua.prototype.pointToData=function(Sa){var ba=this.projection;return ba&&(Sa=ba.unproject(Sa)),Sa&&this.pointToProjected(Sa)},ua.prototype.pointToProjected=function(Sa){return ha.prototype.pointToData.call(this,Sa)},ua.prototype.projectedToPoint=function(Sa,ba,ka){return ha.prototype.dataToPoint.call(this,Sa,ba,ka)},ua.prototype.convertToPixel=function(Sa,ba,ka){var _y=getCoordSys$3(ba);return _y===this?_y.dataToPoint(ka):null},ua.prototype.convertFromPixel=function(Sa,ba,ka){var _y=getCoordSys$3(ba);return _y===this?_y.pointToData(ka):null},ua}(View);mixin(Geo,View);function getCoordSys$3(ha){var ua=ha.geoModel,Sa=ha.seriesModel;return ua?ua.coordinateSystem:Sa?Sa.coordinateSystem||(Sa.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}function resizeGeo(ha,ua){var Sa=ha.get("boundingCoords");if(Sa!=null){var ba=Sa[0],ka=Sa[1];if(isFinite(ba[0])&&isFinite(ba[1])&&isFinite(ka[0])&&isFinite(ka[1])){var _y=this.projection;if(_y){var Ty=ba[0],Ay=ba[1],Ey=ka[0],My=ka[1];ba=[1/0,1/0],ka=[-1/0,-1/0];var Dy=function(Gy,Wy,Uy,Yy){for(var jy=Uy-Gy,Ky=Yy-Wy,Xy=0;Xy<=100;Xy++){var Zy=Xy/100,Jy=_y.project([Gy+jy*Zy,Wy+Ky*Zy]);min$1(ba,ba,Jy),max$1(ka,ka,Jy)}};Dy(Ty,Ay,Ey,Ay),Dy(Ey,Ay,Ey,My),Dy(Ey,My,Ty,My),Dy(Ty,My,Ey,Ay)}this.setBoundingRect(ba[0],ba[1],ka[0]-ba[0],ka[1]-ba[1])}}var Iy=this.getBoundingRect(),Ly=ha.get("layoutCenter"),Py=ha.get("layoutSize"),Ry=ua.getWidth(),Vy=ua.getHeight(),Ny=Iy.width/Iy.height*this.aspectScale,By=!1,Oy,Fy;Ly&&Py&&(Oy=[parsePercent(Ly[0],Ry),parsePercent(Ly[1],Vy)],Fy=parsePercent(Py,Math.min(Ry,Vy)),!isNaN(Oy[0])&&!isNaN(Oy[1])&&!isNaN(Fy)&&(By=!0));var zy;if(By)zy={},Ny>1?(zy.width=Fy,zy.height=Fy/Ny):(zy.height=Fy,zy.width=Fy*Ny),zy.y=Oy[1]-zy.height/2,zy.x=Oy[0]-zy.width/2;else{var Hy=ha.getBoxLayoutParams();Hy.aspect=Ny,zy=getLayoutRect(Hy,{width:Ry,height:Vy})}this.setViewRect(zy.x,zy.y,zy.width,zy.height),this.setCenter(ha.get("center"),ua),this.setZoom(ha.get("zoom"))}function setGeoCoords(ha,ua){each$f(ua.get("geoCoord"),function(Sa,ba){ha.addGeoCoord(ba,Sa)})}var GeoCreator=function(){function ha(){this.dimensions=geo2DDimensions}return ha.prototype.create=function(ua,Sa){var ba=[];function ka(Ty){return{nameProperty:Ty.get("nameProperty"),aspectScale:Ty.get("aspectScale"),projection:Ty.get("projection")}}ua.eachComponent("geo",function(Ty,Ay){var Ey=Ty.get("map"),My=new Geo(Ey+Ay,Ey,extend({nameMap:Ty.get("nameMap")},ka(Ty)));My.zoomLimit=Ty.get("scaleLimit"),ba.push(My),Ty.coordinateSystem=My,My.model=Ty,My.resize=resizeGeo,My.resize(Ty,Sa)}),ua.eachSeries(function(Ty){var Ay=Ty.get("coordinateSystem");if(Ay==="geo"){var Ey=Ty.get("geoIndex")||0;Ty.coordinateSystem=ba[Ey]}});var _y={};return ua.eachSeriesByType("map",function(Ty){if(!Ty.getHostGeoModel()){var Ay=Ty.getMapType();_y[Ay]=_y[Ay]||[],_y[Ay].push(Ty)}}),each$f(_y,function(Ty,Ay){var Ey=map$1(Ty,function(Dy){return Dy.get("nameMap")}),My=new Geo(Ay,Ay,extend({nameMap:mergeAll(Ey)},ka(Ty[0])));My.zoomLimit=retrieve.apply(null,map$1(Ty,function(Dy){return Dy.get("scaleLimit")})),ba.push(My),My.resize=resizeGeo,My.resize(Ty[0],Sa),each$f(Ty,function(Dy){Dy.coordinateSystem=My,setGeoCoords(My,Dy)})}),ba},ha.prototype.getFilledRegions=function(ua,Sa,ba,ka){for(var _y=(ua||[]).slice(),Ty=createHashMap(),Ay=0;Ay<_y.length;Ay++)Ty.set(_y[Ay].name,_y[Ay]);var Ey=geoSourceManager.load(Sa,ba,ka);return each$f(Ey.regions,function(My){var Dy=My.name,Iy=Ty.get(Dy),Ly=My.properties&&My.properties.echartsStyle;Iy||(Iy={name:Dy},_y.push(Iy)),Ly&&merge(Iy,Ly)}),_y},ha}(),geoCreator=new GeoCreator,GeoModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(Sa,ba,ka){var _y=geoSourceManager.getGeoResource(Sa.map);if(_y&&_y.type==="geoJSON"){var Ty=Sa.itemStyle=Sa.itemStyle||{};"color"in Ty||(Ty.color="#eee")}this.mergeDefaultAndTheme(Sa,ka),defaultEmphasis(Sa,"label",["show"])},ua.prototype.optionUpdated=function(){var Sa=this,ba=this.option;ba.regions=geoCreator.getFilledRegions(ba.regions,ba.map,ba.nameMap,ba.nameProperty);var ka={};this._optionModelMap=reduce(ba.regions||[],function(_y,Ty){var Ay=Ty.name;return Ay&&(_y.set(Ay,new Model(Ty,Sa,Sa.ecModel)),Ty.selected&&(ka[Ay]=!0)),_y},createHashMap()),ba.selectedMap||(ba.selectedMap=ka)},ua.prototype.getRegionModel=function(Sa){return this._optionModelMap.get(Sa)||new Model(null,this,this.ecModel)},ua.prototype.getFormattedLabel=function(Sa,ba){var ka=this.getRegionModel(Sa),_y=ba==="normal"?ka.get(["label","formatter"]):ka.get(["emphasis","label","formatter"]),Ty={name:Sa};if(isFunction(_y))return Ty.status=ba,_y(Ty);if(isString(_y))return _y.replace("{a}",Sa??"")},ua.prototype.setZoom=function(Sa){this.option.zoom=Sa},ua.prototype.setCenter=function(Sa){this.option.center=Sa},ua.prototype.select=function(Sa){var ba=this.option,ka=ba.selectedMode;if(ka){ka!=="multiple"&&(ba.selectedMap=null);var _y=ba.selectedMap||(ba.selectedMap={});_y[Sa]=!0}},ua.prototype.unSelect=function(Sa){var ba=this.option.selectedMap;ba&&(ba[Sa]=!1)},ua.prototype.toggleSelected=function(Sa){this[this.isSelected(Sa)?"unSelect":"select"](Sa)},ua.prototype.isSelected=function(Sa){var ba=this.option.selectedMap;return!!(ba&&ba[Sa])},ua.type="geo",ua.layoutMode="box",ua.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},ua}(ComponentModel);function getCenterCoord(ha,ua){return ha.pointToProjected?ha.pointToProjected(ua):ha.pointToData(ua)}function updateCenterAndZoom(ha,ua,Sa,ba){var ka=ha.getZoom(),_y=ha.getCenter(),Ty=ua.zoom,Ay=ha.projectedToPoint?ha.projectedToPoint(_y):ha.dataToPoint(_y);if(ua.dx!=null&&ua.dy!=null&&(Ay[0]-=ua.dx,Ay[1]-=ua.dy,ha.setCenter(getCenterCoord(ha,Ay),ba)),Ty!=null){if(Sa){var Ey=Sa.min||0,My=Sa.max||1/0;Ty=Math.max(Math.min(ka*Ty,My),Ey)/ka}ha.scaleX*=Ty,ha.scaleY*=Ty;var Dy=(ua.originX-ha.x)*(Ty-1),Iy=(ua.originY-ha.y)*(Ty-1);ha.x-=Dy,ha.y-=Iy,ha.updateTransform(),ha.setCenter(getCenterCoord(ha,Ay),ba),ha.setZoom(Ty*ka)}return{center:ha.getCenter(),zoom:ha.getZoom()}}var GeoView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.focusBlurEnabled=!0,Sa}return ua.prototype.init=function(Sa,ba){this._api=ba},ua.prototype.render=function(Sa,ba,ka,_y){if(this._model=Sa,!Sa.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw(ka));var Ty=this._mapDraw;Ty.draw(Sa,ba,ka,this,_y),Ty.group.on("click",this._handleRegionClick,this),Ty.group.silent=Sa.get("silent"),this.group.add(Ty.group),this.updateSelectStatus(Sa,ba,ka)},ua.prototype._handleRegionClick=function(Sa){var ba;findEventDispatcher(Sa.target,function(ka){return(ba=getECData(ka).eventData)!=null},!0),ba&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:ba.name})},ua.prototype.updateSelectStatus=function(Sa,ba,ka){var _y=this;this._mapDraw.group.traverse(function(Ty){var Ay=getECData(Ty).eventData;if(Ay)return _y._model.isSelected(Ay.name)?ka.enterSelect(Ty):ka.leaveSelect(Ty),!0})},ua.prototype.findHighDownDispatchers=function(Sa){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(Sa,this._model)},ua.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},ua.type="geo",ua}(ComponentView);function registerMap(ha,ua,Sa){geoSourceManager.registerMap(ha,ua,Sa)}function install$J(ha){ha.registerCoordinateSystem("geo",geoCreator),ha.registerComponentModel(GeoModel),ha.registerComponentView(GeoView),ha.registerImpl("registerMap",registerMap),ha.registerImpl("getMap",function(Sa){return geoSourceManager.getMapForUser(Sa)});function ua(Sa,ba){ba.update="geo:updateSelectStatus",ha.registerAction(ba,function(ka,_y){var Ty={},Ay=[];return _y.eachComponent({mainType:"geo",query:ka},function(Ey){Ey[Sa](ka.name);var My=Ey.coordinateSystem;each$f(My.regions,function(Iy){Ty[Iy.name]=Ey.isSelected(Iy.name)||!1});var Dy=[];each$f(Ty,function(Iy,Ly){Ty[Ly]&&Dy.push(Ly)}),Ay.push({geoIndex:Ey.componentIndex,name:Dy})}),{selected:Ty,allSelected:Ay,name:ka.name}})}ua("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),ua("select",{type:"geoSelect",event:"geoselected"}),ua("unSelect",{type:"geoUnSelect",event:"geounselected"}),ha.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(Sa,ba,ka){var _y=Sa.componentType||"series";ba.eachComponent({mainType:_y,query:Sa},function(Ty){var Ay=Ty.coordinateSystem;if(Ay.type==="geo"){var Ey=updateCenterAndZoom(Ay,Sa,Ty.get("scaleLimit"),ka);Ty.setCenter&&Ty.setCenter(Ey.center),Ty.setZoom&&Ty.setZoom(Ey.zoom),_y==="series"&&each$f(Ty.seriesGroup,function(My){My.setCenter(Ey.center),My.setZoom(Ey.zoom)})}})})}function install$I(ha){use(install$J),ha.registerChartView(MapView),ha.registerSeriesModel(MapSeries),ha.registerLayout(mapSymbolLayout),ha.registerProcessor(ha.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",ha.registerAction)}function init(ha){var ua=ha;ua.hierNode={defaultAncestor:null,ancestor:ua,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var Sa=[ua],ba,ka;ba=Sa.pop();)if(ka=ba.children,ba.isExpand&&ka.length)for(var _y=ka.length,Ty=_y-1;Ty>=0;Ty--){var Ay=ka[Ty];Ay.hierNode={defaultAncestor:null,ancestor:Ay,prelim:0,modifier:0,change:0,shift:0,i:Ty,thread:null},Sa.push(Ay)}}function firstWalk(ha,ua){var Sa=ha.isExpand?ha.children:[],ba=ha.parentNode.children,ka=ha.hierNode.i?ba[ha.hierNode.i-1]:null;if(Sa.length){executeShifts(ha);var _y=(Sa[0].hierNode.prelim+Sa[Sa.length-1].hierNode.prelim)/2;ka?(ha.hierNode.prelim=ka.hierNode.prelim+ua(ha,ka),ha.hierNode.modifier=ha.hierNode.prelim-_y):ha.hierNode.prelim=_y}else ka&&(ha.hierNode.prelim=ka.hierNode.prelim+ua(ha,ka));ha.parentNode.hierNode.defaultAncestor=apportion(ha,ka,ha.parentNode.hierNode.defaultAncestor||ba[0],ua)}function secondWalk(ha){var ua=ha.hierNode.prelim+ha.parentNode.hierNode.modifier;ha.setLayout({x:ua},!0),ha.hierNode.modifier+=ha.parentNode.hierNode.modifier}function separation(ha){return arguments.length?ha:defaultSeparation}function radialCoordinate(ha,ua){return ha-=Math.PI/2,{x:ua*Math.cos(ha),y:ua*Math.sin(ha)}}function getViewRect$4(ha,ua){return getLayoutRect(ha.getBoxLayoutParams(),{width:ua.getWidth(),height:ua.getHeight()})}function executeShifts(ha){for(var ua=ha.children,Sa=ua.length,ba=0,ka=0;--Sa>=0;){var _y=ua[Sa];_y.hierNode.prelim+=ba,_y.hierNode.modifier+=ba,ka+=_y.hierNode.change,ba+=_y.hierNode.shift+ka}}function apportion(ha,ua,Sa,ba){if(ua){for(var ka=ha,_y=ha,Ty=_y.parentNode.children[0],Ay=ua,Ey=ka.hierNode.modifier,My=_y.hierNode.modifier,Dy=Ty.hierNode.modifier,Iy=Ay.hierNode.modifier;Ay=nextRight(Ay),_y=nextLeft(_y),Ay&&_y;){ka=nextRight(ka),Ty=nextLeft(Ty),ka.hierNode.ancestor=ha;var Ly=Ay.hierNode.prelim+Iy-_y.hierNode.prelim-My+ba(Ay,_y);Ly>0&&(moveSubtree(nextAncestor(Ay,ha,Sa),ha,Ly),My+=Ly,Ey+=Ly),Iy+=Ay.hierNode.modifier,My+=_y.hierNode.modifier,Ey+=ka.hierNode.modifier,Dy+=Ty.hierNode.modifier}Ay&&!nextRight(ka)&&(ka.hierNode.thread=Ay,ka.hierNode.modifier+=Iy-Ey),_y&&!nextLeft(Ty)&&(Ty.hierNode.thread=_y,Ty.hierNode.modifier+=My-Dy,Sa=ha)}return Sa}function nextRight(ha){var ua=ha.children;return ua.length&&ha.isExpand?ua[ua.length-1]:ha.hierNode.thread}function nextLeft(ha){var ua=ha.children;return ua.length&&ha.isExpand?ua[0]:ha.hierNode.thread}function nextAncestor(ha,ua,Sa){return ha.hierNode.ancestor.parentNode===ua.parentNode?ha.hierNode.ancestor:Sa}function moveSubtree(ha,ua,Sa){var ba=Sa/(ua.hierNode.i-ha.hierNode.i);ua.hierNode.change-=ba,ua.hierNode.shift+=Sa,ua.hierNode.modifier+=Sa,ua.hierNode.prelim+=Sa,ha.hierNode.change+=ba}function defaultSeparation(ha,ua){return ha.parentNode===ua.parentNode?1:2}var TreeEdgeShape=function(){function ha(){this.parentPoint=[],this.childPoints=[]}return ha}(),TreePath=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ua.prototype.getDefaultShape=function(){return new TreeEdgeShape},ua.prototype.buildPath=function(Sa,ba){var ka=ba.childPoints,_y=ka.length,Ty=ba.parentPoint,Ay=ka[0],Ey=ka[_y-1];if(_y===1){Sa.moveTo(Ty[0],Ty[1]),Sa.lineTo(Ay[0],Ay[1]);return}var My=ba.orient,Dy=My==="TB"||My==="BT"?0:1,Iy=1-Dy,Ly=parsePercent(ba.forkPosition,1),Py=[];Py[Dy]=Ty[Dy],Py[Iy]=Ty[Iy]+(Ey[Iy]-Ty[Iy])*Ly,Sa.moveTo(Ty[0],Ty[1]),Sa.lineTo(Py[0],Py[1]),Sa.moveTo(Ay[0],Ay[1]),Py[Dy]=Ay[Dy],Sa.lineTo(Py[0],Py[1]),Py[Dy]=Ey[Dy],Sa.lineTo(Py[0],Py[1]),Sa.lineTo(Ey[0],Ey[1]);for(var Ry=1;Ry<_y-1;Ry++){var Vy=ka[Ry];Sa.moveTo(Vy[0],Vy[1]),Py[Dy]=Vy[Dy],Sa.lineTo(Py[0],Py[1])}},ua}(Path),TreeView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa._mainGroup=new Group$3,Sa}return ua.prototype.init=function(Sa,ba){this._controller=new RoamController(ba.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},ua.prototype.render=function(Sa,ba,ka){var _y=Sa.getData(),Ty=Sa.layoutInfo,Ay=this._mainGroup,Ey=Sa.get("layout");Ey==="radial"?(Ay.x=Ty.x+Ty.width/2,Ay.y=Ty.y+Ty.height/2):(Ay.x=Ty.x,Ay.y=Ty.y),this._updateViewCoordSys(Sa,ka),this._updateController(Sa,ba,ka);var My=this._data;_y.diff(My).add(function(Dy){symbolNeedsDraw(_y,Dy)&&updateNode(_y,Dy,null,Ay,Sa)}).update(function(Dy,Iy){var Ly=My.getItemGraphicEl(Iy);if(!symbolNeedsDraw(_y,Dy)){Ly&&removeNode(My,Iy,Ly,Ay,Sa);return}updateNode(_y,Dy,Ly,Ay,Sa)}).remove(function(Dy){var Iy=My.getItemGraphicEl(Dy);Iy&&removeNode(My,Dy,Iy,Ay,Sa)}).execute(),this._nodeScaleRatio=Sa.get("nodeScaleRatio"),this._updateNodeAndLinkScale(Sa),Sa.get("expandAndCollapse")===!0&&_y.eachItemGraphicEl(function(Dy,Iy){Dy.off("click").on("click",function(){ka.dispatchAction({type:"treeExpandAndCollapse",seriesId:Sa.id,dataIndex:Iy})})}),this._data=_y},ua.prototype._updateViewCoordSys=function(Sa,ba){var ka=Sa.getData(),_y=[];ka.each(function(Iy){var Ly=ka.getItemLayout(Iy);Ly&&!isNaN(Ly.x)&&!isNaN(Ly.y)&&_y.push([+Ly.x,+Ly.y])});var Ty=[],Ay=[];fromPoints(_y,Ty,Ay);var Ey=this._min,My=this._max;Ay[0]-Ty[0]===0&&(Ty[0]=Ey?Ey[0]:Ty[0]-1,Ay[0]=My?My[0]:Ay[0]+1),Ay[1]-Ty[1]===0&&(Ty[1]=Ey?Ey[1]:Ty[1]-1,Ay[1]=My?My[1]:Ay[1]+1);var Dy=Sa.coordinateSystem=new View;Dy.zoomLimit=Sa.get("scaleLimit"),Dy.setBoundingRect(Ty[0],Ty[1],Ay[0]-Ty[0],Ay[1]-Ty[1]),Dy.setCenter(Sa.get("center"),ba),Dy.setZoom(Sa.get("zoom")),this.group.attr({x:Dy.x,y:Dy.y,scaleX:Dy.scaleX,scaleY:Dy.scaleY}),this._min=Ty,this._max=Ay},ua.prototype._updateController=function(Sa,ba,ka){var _y=this,Ty=this._controller,Ay=this._controllerHost,Ey=this.group;Ty.setPointerChecker(function(My,Dy,Iy){var Ly=Ey.getBoundingRect();return Ly.applyTransform(Ey.transform),Ly.contain(Dy,Iy)&&!onIrrelevantElement(My,ka,Sa)}),Ty.enable(Sa.get("roam")),Ay.zoomLimit=Sa.get("scaleLimit"),Ay.zoom=Sa.coordinateSystem.getZoom(),Ty.off("pan").off("zoom").on("pan",function(My){updateViewOnPan(Ay,My.dx,My.dy),ka.dispatchAction({seriesId:Sa.id,type:"treeRoam",dx:My.dx,dy:My.dy})}).on("zoom",function(My){updateViewOnZoom(Ay,My.scale,My.originX,My.originY),ka.dispatchAction({seriesId:Sa.id,type:"treeRoam",zoom:My.scale,originX:My.originX,originY:My.originY}),_y._updateNodeAndLinkScale(Sa),ka.updateLabelLayout()})},ua.prototype._updateNodeAndLinkScale=function(Sa){var ba=Sa.getData(),ka=this._getNodeGlobalScale(Sa);ba.eachItemGraphicEl(function(_y,Ty){_y.setSymbolScale(ka)})},ua.prototype._getNodeGlobalScale=function(Sa){var ba=Sa.coordinateSystem;if(ba.type!=="view")return 1;var ka=this._nodeScaleRatio,_y=ba.scaleX||1,Ty=ba.getZoom(),Ay=(Ty-1)*ka+1;return Ay/_y},ua.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},ua.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},ua.type="tree",ua}(ChartView);function symbolNeedsDraw(ha,ua){var Sa=ha.getItemLayout(ua);return Sa&&!isNaN(Sa.x)&&!isNaN(Sa.y)}function updateNode(ha,ua,Sa,ba,ka){var _y=!Sa,Ty=ha.tree.getNodeByDataIndex(ua),Ay=Ty.getModel(),Ey=Ty.getVisual("style").fill,My=Ty.isExpand===!1&&Ty.children.length!==0?Ey:"#fff",Dy=ha.tree.root,Iy=Ty.parentNode===Dy?Ty:Ty.parentNode||Ty,Ly=ha.getItemGraphicEl(Iy.dataIndex),Py=Iy.getLayout(),Ry=Ly?{x:Ly.__oldX,y:Ly.__oldY,rawX:Ly.__radialOldRawX,rawY:Ly.__radialOldRawY}:Py,Vy=Ty.getLayout();_y?(Sa=new Symbol$1(ha,ua,null,{symbolInnerColor:My,useNameLabel:!0}),Sa.x=Ry.x,Sa.y=Ry.y):Sa.updateData(ha,ua,null,{symbolInnerColor:My,useNameLabel:!0}),Sa.__radialOldRawX=Sa.__radialRawX,Sa.__radialOldRawY=Sa.__radialRawY,Sa.__radialRawX=Vy.rawX,Sa.__radialRawY=Vy.rawY,ba.add(Sa),ha.setItemGraphicEl(ua,Sa),Sa.__oldX=Sa.x,Sa.__oldY=Sa.y,updateProps$1(Sa,{x:Vy.x,y:Vy.y},ka);var Ny=Sa.getSymbolPath();if(ka.get("layout")==="radial"){var By=Dy.children[0],Oy=By.getLayout(),Fy=By.children.length,zy=void 0,Hy=void 0;if(Vy.x===Oy.x&&Ty.isExpand===!0&&By.children.length){var Gy={x:(By.children[0].getLayout().x+By.children[Fy-1].getLayout().x)/2,y:(By.children[0].getLayout().y+By.children[Fy-1].getLayout().y)/2};zy=Math.atan2(Gy.y-Oy.y,Gy.x-Oy.x),zy<0&&(zy=Math.PI*2+zy),Hy=Gy.x<Oy.x,Hy&&(zy=zy-Math.PI)}else zy=Math.atan2(Vy.y-Oy.y,Vy.x-Oy.x),zy<0&&(zy=Math.PI*2+zy),Ty.children.length===0||Ty.children.length!==0&&Ty.isExpand===!1?(Hy=Vy.x<Oy.x,Hy&&(zy=zy-Math.PI)):(Hy=Vy.x>Oy.x,Hy||(zy=zy-Math.PI));var Wy=Hy?"left":"right",Uy=Ay.getModel("label"),Yy=Uy.get("rotate"),jy=Yy*(Math.PI/180),Ky=Ny.getTextContent();Ky&&(Ny.setTextConfig({position:Uy.get("position")||Wy,rotation:Yy==null?-zy:jy,origin:"center"}),Ky.setStyle("verticalAlign","middle"))}var Xy=Ay.get(["emphasis","focus"]),Zy=Xy==="relative"?concatArray(Ty.getAncestorsIndices(),Ty.getDescendantIndices()):Xy==="ancestor"?Ty.getAncestorsIndices():Xy==="descendant"?Ty.getDescendantIndices():null;Zy&&(getECData(Sa).focus=Zy),drawEdge(ka,Ty,Dy,Sa,Ry,Py,Vy,ba),Sa.__edge&&(Sa.onHoverStateChange=function(Jy){if(Jy!=="blur"){var t_=Ty.parentNode&&ha.getItemGraphicEl(Ty.parentNode.dataIndex);t_&&t_.hoverState===HOVER_STATE_BLUR||setStatesFlag(Sa.__edge,Jy)}})}function drawEdge(ha,ua,Sa,ba,ka,_y,Ty,Ay){var Ey=ua.getModel(),My=ha.get("edgeShape"),Dy=ha.get("layout"),Iy=ha.getOrient(),Ly=ha.get(["lineStyle","curveness"]),Py=ha.get("edgeForkPosition"),Ry=Ey.getModel("lineStyle").getLineStyle(),Vy=ba.__edge;if(My==="curve")ua.parentNode&&ua.parentNode!==Sa&&(Vy||(Vy=ba.__edge=new BezierCurve({shape:getEdgeShape(Dy,Iy,Ly,ka,ka)})),updateProps$1(Vy,{shape:getEdgeShape(Dy,Iy,Ly,_y,Ty)},ha));else if(My==="polyline"&&Dy==="orthogonal"&&ua!==Sa&&ua.children&&ua.children.length!==0&&ua.isExpand===!0){for(var Ny=ua.children,By=[],Oy=0;Oy<Ny.length;Oy++){var Fy=Ny[Oy].getLayout();By.push([Fy.x,Fy.y])}Vy||(Vy=ba.__edge=new TreePath({shape:{parentPoint:[Ty.x,Ty.y],childPoints:[[Ty.x,Ty.y]],orient:Iy,forkPosition:Py}})),updateProps$1(Vy,{shape:{parentPoint:[Ty.x,Ty.y],childPoints:By}},ha)}Vy&&!(My==="polyline"&&!ua.isExpand)&&(Vy.useStyle(defaults({strokeNoScale:!0,fill:null},Ry)),setStatesStylesFromModel(Vy,Ey,"lineStyle"),setDefaultStateProxy(Vy),Ay.add(Vy))}function removeNodeEdge(ha,ua,Sa,ba,ka){var _y=ua.tree.root,Ty=getSourceNode(_y,ha),Ay=Ty.source,Ey=Ty.sourceLayout,My=ua.getItemGraphicEl(ha.dataIndex);if(My){var Dy=ua.getItemGraphicEl(Ay.dataIndex),Iy=Dy.__edge,Ly=My.__edge||(Ay.isExpand===!1||Ay.children.length===1?Iy:void 0),Py=ba.get("edgeShape"),Ry=ba.get("layout"),Vy=ba.get("orient"),Ny=ba.get(["lineStyle","curveness"]);Ly&&(Py==="curve"?removeElement(Ly,{shape:getEdgeShape(Ry,Vy,Ny,Ey,Ey),style:{opacity:0}},ba,{cb:function(){Sa.remove(Ly)},removeOpt:ka}):Py==="polyline"&&ba.get("layout")==="orthogonal"&&removeElement(Ly,{shape:{parentPoint:[Ey.x,Ey.y],childPoints:[[Ey.x,Ey.y]]},style:{opacity:0}},ba,{cb:function(){Sa.remove(Ly)},removeOpt:ka}))}}function getSourceNode(ha,ua){for(var Sa=ua.parentNode===ha?ua:ua.parentNode||ua,ba;ba=Sa.getLayout(),ba==null;)Sa=Sa.parentNode===ha?Sa:Sa.parentNode||Sa;return{source:Sa,sourceLayout:ba}}function removeNode(ha,ua,Sa,ba,ka){var _y=ha.tree.getNodeByDataIndex(ua),Ty=ha.tree.root,Ay=getSourceNode(Ty,_y).sourceLayout,Ey={duration:ka.get("animationDurationUpdate"),easing:ka.get("animationEasingUpdate")};removeElement(Sa,{x:Ay.x+1,y:Ay.y+1},ka,{cb:function(){ba.remove(Sa),ha.setItemGraphicEl(ua,null)},removeOpt:Ey}),Sa.fadeOut(null,ha.hostModel,{fadeLabel:!0,animation:Ey}),_y.children.forEach(function(My){removeNodeEdge(My,ha,ba,ka,Ey)}),removeNodeEdge(_y,ha,ba,ka,Ey)}function getEdgeShape(ha,ua,Sa,ba,ka){var _y,Ty,Ay,Ey,My,Dy,Iy,Ly;if(ha==="radial"){My=ba.rawX,Iy=ba.rawY,Dy=ka.rawX,Ly=ka.rawY;var Py=radialCoordinate(My,Iy),Ry=radialCoordinate(My,Iy+(Ly-Iy)*Sa),Vy=radialCoordinate(Dy,Ly+(Iy-Ly)*Sa),Ny=radialCoordinate(Dy,Ly);return{x1:Py.x||0,y1:Py.y||0,x2:Ny.x||0,y2:Ny.y||0,cpx1:Ry.x||0,cpy1:Ry.y||0,cpx2:Vy.x||0,cpy2:Vy.y||0}}else My=ba.x,Iy=ba.y,Dy=ka.x,Ly=ka.y,(ua==="LR"||ua==="RL")&&(_y=My+(Dy-My)*Sa,Ty=Iy,Ay=Dy+(My-Dy)*Sa,Ey=Ly),(ua==="TB"||ua==="BT")&&(_y=My,Ty=Iy+(Ly-Iy)*Sa,Ay=Dy,Ey=Ly+(Iy-Ly)*Sa);return{x1:My,y1:Iy,x2:Dy,y2:Ly,cpx1:_y,cpy1:Ty,cpx2:Ay,cpy2:Ey}}var inner$e=makeInner();function linkSeriesData(ha){var ua=ha.mainData,Sa=ha.datas;Sa||(Sa={main:ua},ha.datasAttr={main:"data"}),ha.datas=ha.mainData=null,linkAll(ua,Sa,ha),each$f(Sa,function(ba){each$f(ua.TRANSFERABLE_METHODS,function(ka){ba.wrapMethod(ka,curry$1(transferInjection,ha))})}),ua.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,ha)),each$f(ua.CHANGABLE_METHODS,function(ba){ua.wrapMethod(ba,curry$1(changeInjection,ha))}),assert(Sa[ua.dataType]===ua)}function transferInjection(ha,ua){if(isMainData(this)){var Sa=extend({},inner$e(this).datas);Sa[this.dataType]=ua,linkAll(ua,Sa,ha)}else linkSingle(ua,this.dataType,inner$e(this).mainData,ha);return ua}function changeInjection(ha,ua){return ha.struct&&ha.struct.update(),ua}function cloneShallowInjection(ha,ua){return each$f(inner$e(ua).datas,function(Sa,ba){Sa!==ua&&linkSingle(Sa.cloneShallow(),ba,ua,ha)}),ua}function getLinkedData(ha){var ua=inner$e(this).mainData;return ha==null||ua==null?ua:inner$e(ua).datas[ha]}function getLinkedDataAll(){var ha=inner$e(this).mainData;return ha==null?[{data:ha}]:map$1(keys(inner$e(ha).datas),function(ua){return{type:ua,data:inner$e(ha).datas[ua]}})}function isMainData(ha){return inner$e(ha).mainData===ha}function linkAll(ha,ua,Sa){inner$e(ha).datas={},each$f(ua,function(ba,ka){linkSingle(ba,ka,ha,Sa)})}function linkSingle(ha,ua,Sa,ba){inner$e(Sa).datas[ua]=ha,inner$e(ha).mainData=Sa,ha.dataType=ua,ba.struct&&(ha[ba.structAttr]=ba.struct,ba.struct[ba.datasAttr[ua]]=ha),ha.getLinkedData=getLinkedData,ha.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function ha(ua,Sa){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=ua||"",this.hostTree=Sa}return ha.prototype.isRemoved=function(){return this.dataIndex<0},ha.prototype.eachNode=function(ua,Sa,ba){isFunction(ua)&&(ba=Sa,Sa=ua,ua=null),ua=ua||{},isString(ua)&&(ua={order:ua});var ka=ua.order||"preorder",_y=this[ua.attr||"children"],Ty;ka==="preorder"&&(Ty=Sa.call(ba,this));for(var Ay=0;!Ty&&Ay<_y.length;Ay++)_y[Ay].eachNode(ua,Sa,ba);ka==="postorder"&&Sa.call(ba,this)},ha.prototype.updateDepthAndHeight=function(ua){var Sa=0;this.depth=ua;for(var ba=0;ba<this.children.length;ba++){var ka=this.children[ba];ka.updateDepthAndHeight(ua+1),ka.height>Sa&&(Sa=ka.height)}this.height=Sa+1},ha.prototype.getNodeById=function(ua){if(this.getId()===ua)return this;for(var Sa=0,ba=this.children,ka=ba.length;Sa<ka;Sa++){var _y=ba[Sa].getNodeById(ua);if(_y)return _y}},ha.prototype.contains=function(ua){if(ua===this)return!0;for(var Sa=0,ba=this.children,ka=ba.length;Sa<ka;Sa++){var _y=ba[Sa].contains(ua);if(_y)return _y}},ha.prototype.getAncestors=function(ua){for(var Sa=[],ba=ua?this:this.parentNode;ba;)Sa.push(ba),ba=ba.parentNode;return Sa.reverse(),Sa},ha.prototype.getAncestorsIndices=function(){for(var ua=[],Sa=this;Sa;)ua.push(Sa.dataIndex),Sa=Sa.parentNode;return ua.reverse(),ua},ha.prototype.getDescendantIndices=function(){var ua=[];return this.eachNode(function(Sa){ua.push(Sa.dataIndex)}),ua},ha.prototype.getValue=function(ua){var Sa=this.hostTree.data;return Sa.getStore().get(Sa.getDimensionIndex(ua||"value"),this.dataIndex)},ha.prototype.setLayout=function(ua,Sa){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,ua,Sa)},ha.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},ha.prototype.getModel=function(ua){if(!(this.dataIndex<0)){var Sa=this.hostTree,ba=Sa.data.getItemModel(this.dataIndex);return ba.getModel(ua)}},ha.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},ha.prototype.setVisual=function(ua,Sa){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,ua,Sa)},ha.prototype.getVisual=function(ua){return this.hostTree.data.getItemVisual(this.dataIndex,ua)},ha.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},ha.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},ha.prototype.getChildIndex=function(){if(this.parentNode){for(var ua=this.parentNode.children,Sa=0;Sa<ua.length;++Sa)if(ua[Sa]===this)return Sa;return-1}return-1},ha.prototype.isAncestorOf=function(ua){for(var Sa=ua.parentNode;Sa;){if(Sa===this)return!0;Sa=Sa.parentNode}return!1},ha.prototype.isDescendantOf=function(ua){return ua!==this&&ua.isAncestorOf(this)},ha}(),Tree=function(){function ha(ua){this.type="tree",this._nodes=[],this.hostModel=ua}return ha.prototype.eachNode=function(ua,Sa,ba){this.root.eachNode(ua,Sa,ba)},ha.prototype.getNodeByDataIndex=function(ua){var Sa=this.data.getRawIndex(ua);return this._nodes[Sa]},ha.prototype.getNodeById=function(ua){return this.root.getNodeById(ua)},ha.prototype.update=function(){for(var ua=this.data,Sa=this._nodes,ba=0,ka=Sa.length;ba<ka;ba++)Sa[ba].dataIndex=-1;for(var ba=0,ka=ua.count();ba<ka;ba++)Sa[ua.getRawIndex(ba)].dataIndex=ba},ha.prototype.clearLayouts=function(){this.data.clearItemLayouts()},ha.createTree=function(ua,Sa,ba){var ka=new ha(Sa),_y=[],Ty=1;Ay(ua);function Ay(Dy,Iy){var Ly=Dy.value;Ty=Math.max(Ty,isArray$1(Ly)?Ly.length:1),_y.push(Dy);var Py=new TreeNode(convertOptionIdName(Dy.name,""),ka);Iy?addChild(Py,Iy):ka.root=Py,ka._nodes.push(Py);var Ry=Dy.children;if(Ry)for(var Vy=0;Vy<Ry.length;Vy++)Ay(Ry[Vy],Py)}ka.root.updateDepthAndHeight(0);var Ey=prepareSeriesDataSchema(_y,{coordDimensions:["value"],dimensionsCount:Ty}).dimensions,My=new SeriesData(Ey,Sa);return My.initData(_y),ba&&ba(My),linkSeriesData({mainData:My,struct:ka,structAttr:"tree"}),ka.update(),ka},ha}();function addChild(ha,ua){var Sa=ua.children;ha.parentNode!==ua&&(Sa.push(ha),ha.parentNode=ua)}function retrieveTargetInfo(ha,ua,Sa){if(ha&&indexOf(ua,ha.type)>=0){var ba=Sa.getData().tree.root,ka=ha.targetNode;if(isString(ka)&&(ka=ba.getNodeById(ka)),ka&&ba.contains(ka))return{node:ka};var _y=ha.targetNodeId;if(_y!=null&&(ka=ba.getNodeById(_y)))return{node:ka}}}function getPathToRoot(ha){for(var ua=[];ha;)ha=ha.parentNode,ha&&ua.push(ha);return ua.reverse()}function aboveViewRoot(ha,ua){var Sa=getPathToRoot(ha);return indexOf(Sa,ua)>=0}function wrapTreePathInfo(ha,ua){for(var Sa=[];ha;){var ba=ha.dataIndex;Sa.push({name:ha.name,dataIndex:ba,value:ua.getRawValue(ba)}),ha=ha.parentNode}return Sa.reverse(),Sa}var TreeSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.hasSymbolVisual=!0,Sa.ignoreStyleOnData=!0,Sa}return ua.prototype.getInitialData=function(Sa){var ba={name:Sa.name,children:Sa.data},ka=Sa.leaves||{},_y=new Model(ka,this,this.ecModel),Ty=Tree.createTree(ba,this,Ay);function Ay(Iy){Iy.wrapMethod("getItemModel",function(Ly,Py){var Ry=Ty.getNodeByDataIndex(Py);return Ry&&Ry.children.length&&Ry.isExpand||(Ly.parentModel=_y),Ly})}var Ey=0;Ty.eachNode("preorder",function(Iy){Iy.depth>Ey&&(Ey=Iy.depth)});var My=Sa.expandAndCollapse,Dy=My&&Sa.initialTreeDepth>=0?Sa.initialTreeDepth:Ey;return Ty.root.eachNode("preorder",function(Iy){var Ly=Iy.hostTree.data.getRawDataItem(Iy.dataIndex);Iy.isExpand=Ly&&Ly.collapsed!=null?!Ly.collapsed:Iy.depth<=Dy}),Ty.data},ua.prototype.getOrient=function(){var Sa=this.get("orient");return Sa==="horizontal"?Sa="LR":Sa==="vertical"&&(Sa="TB"),Sa},ua.prototype.setZoom=function(Sa){this.option.zoom=Sa},ua.prototype.setCenter=function(Sa){this.option.center=Sa},ua.prototype.formatTooltip=function(Sa,ba,ka){for(var _y=this.getData().tree,Ty=_y.root.children[0],Ay=_y.getNodeByDataIndex(Sa),Ey=Ay.getValue(),My=Ay.name;Ay&&Ay!==Ty;)My=Ay.parentNode.name+"."+My,Ay=Ay.parentNode;return createTooltipMarkup("nameValue",{name:My,value:Ey,noValue:isNaN(Ey)||Ey==null})},ua.prototype.getDataParams=function(Sa){var ba=ha.prototype.getDataParams.apply(this,arguments),ka=this.getData().tree.getNodeByDataIndex(Sa);return ba.treeAncestors=wrapTreePathInfo(ka,this),ba.collapsed=!ka.isExpand,ba},ua.type="series.tree",ua.layoutMode="box",ua.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},ua}(SeriesModel);function eachAfter(ha,ua,Sa){for(var ba=[ha],ka=[],_y;_y=ba.pop();)if(ka.push(_y),_y.isExpand){var Ty=_y.children;if(Ty.length)for(var Ay=0;Ay<Ty.length;Ay++)ba.push(Ty[Ay])}for(;_y=ka.pop();)ua(_y,Sa)}function eachBefore(ha,ua){for(var Sa=[ha],ba;ba=Sa.pop();)if(ua(ba),ba.isExpand){var ka=ba.children;if(ka.length)for(var _y=ka.length-1;_y>=0;_y--)Sa.push(ka[_y])}}function treeLayout(ha,ua){ha.eachSeriesByType("tree",function(Sa){commonLayout(Sa,ua)})}function commonLayout(ha,ua){var Sa=getViewRect$4(ha,ua);ha.layoutInfo=Sa;var ba=ha.get("layout"),ka=0,_y=0,Ty=null;ba==="radial"?(ka=2*Math.PI,_y=Math.min(Sa.height,Sa.width)/2,Ty=separation(function(Fy,zy){return(Fy.parentNode===zy.parentNode?1:2)/Fy.depth})):(ka=Sa.width,_y=Sa.height,Ty=separation());var Ay=ha.getData().tree.root,Ey=Ay.children[0];if(Ey){init(Ay),eachAfter(Ey,firstWalk,Ty),Ay.hierNode.modifier=-Ey.hierNode.prelim,eachBefore(Ey,secondWalk);var My=Ey,Dy=Ey,Iy=Ey;eachBefore(Ey,function(Fy){var zy=Fy.getLayout().x;zy<My.getLayout().x&&(My=Fy),zy>Dy.getLayout().x&&(Dy=Fy),Fy.depth>Iy.depth&&(Iy=Fy)});var Ly=My===Dy?1:Ty(My,Dy)/2,Py=Ly-My.getLayout().x,Ry=0,Vy=0,Ny=0,By=0;if(ba==="radial")Ry=ka/(Dy.getLayout().x+Ly+Py),Vy=_y/(Iy.depth-1||1),eachBefore(Ey,function(Fy){Ny=(Fy.getLayout().x+Py)*Ry,By=(Fy.depth-1)*Vy;var zy=radialCoordinate(Ny,By);Fy.setLayout({x:zy.x,y:zy.y,rawX:Ny,rawY:By},!0)});else{var Oy=ha.getOrient();Oy==="RL"||Oy==="LR"?(Vy=_y/(Dy.getLayout().x+Ly+Py),Ry=ka/(Iy.depth-1||1),eachBefore(Ey,function(Fy){By=(Fy.getLayout().x+Py)*Vy,Ny=Oy==="LR"?(Fy.depth-1)*Ry:ka-(Fy.depth-1)*Ry,Fy.setLayout({x:Ny,y:By},!0)})):(Oy==="TB"||Oy==="BT")&&(Ry=ka/(Dy.getLayout().x+Ly+Py),Vy=_y/(Iy.depth-1||1),eachBefore(Ey,function(Fy){Ny=(Fy.getLayout().x+Py)*Ry,By=Oy==="TB"?(Fy.depth-1)*Vy:_y-(Fy.depth-1)*Vy,Fy.setLayout({x:Ny,y:By},!0)}))}}}function treeVisual(ha){ha.eachSeriesByType("tree",function(ua){var Sa=ua.getData(),ba=Sa.tree;ba.eachNode(function(ka){var _y=ka.getModel(),Ty=_y.getModel("itemStyle").getItemStyle(),Ay=Sa.ensureUniqueItemVisual(ka.dataIndex,"style");extend(Ay,Ty)})})}function installTreeAction(ha){ha.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(ua,Sa){Sa.eachComponent({mainType:"series",subType:"tree",query:ua},function(ba){var ka=ua.dataIndex,_y=ba.getData().tree,Ty=_y.getNodeByDataIndex(ka);Ty.isExpand=!Ty.isExpand})}),ha.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(ua,Sa,ba){Sa.eachComponent({mainType:"series",subType:"tree",query:ua},function(ka){var _y=ka.coordinateSystem,Ty=updateCenterAndZoom(_y,ua,void 0,ba);ka.setCenter&&ka.setCenter(Ty.center),ka.setZoom&&ka.setZoom(Ty.zoom)})})}function install$H(ha){ha.registerChartView(TreeView),ha.registerSeriesModel(TreeSeriesModel),ha.registerLayout(treeLayout),ha.registerVisual(treeVisual),installTreeAction(ha)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(ha){for(var ua=0;ua<actionTypes.length;ua++)ha.registerAction({type:actionTypes[ua],update:"updateView"},noop);ha.registerAction({type:"treemapRootToNode",update:"updateView"},function(Sa,ba){ba.eachComponent({mainType:"series",subType:"treemap",query:Sa},ka);function ka(_y,Ty){var Ay=["treemapZoomToNode","treemapRootToNode"],Ey=retrieveTargetInfo(Sa,Ay,_y);if(Ey){var My=_y.getViewRoot();My&&(Sa.direction=aboveViewRoot(My,Ey.node)?"rollUp":"drillDown"),_y.resetViewRoot(Ey.node)}}})}function enableAriaDecalForTree(ha){var ua=ha.getData(),Sa=ua.tree,ba={};Sa.eachNode(function(ka){for(var _y=ka;_y&&_y.depth>1;)_y=_y.parentNode;var Ty=getDecalFromPalette(ha.ecModel,_y.name||_y.dataIndex+"",ba);ka.setVisual("decal",Ty)})}var TreemapSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.preventUsingHoverLayer=!0,Sa}return ua.prototype.getInitialData=function(Sa,ba){var ka={name:Sa.name,children:Sa.data};completeTreeValue$1(ka);var _y=Sa.levels||[],Ty=this.designatedVisualItemStyle={},Ay=new Model({itemStyle:Ty},this,ba);_y=Sa.levels=setDefault(_y,ba);var Ey=map$1(_y||[],function(Iy){return new Model(Iy,Ay,ba)},this),My=Tree.createTree(ka,this,Dy);function Dy(Iy){Iy.wrapMethod("getItemModel",function(Ly,Py){var Ry=My.getNodeByDataIndex(Py),Vy=Ry?Ey[Ry.depth]:null;return Ly.parentModel=Vy||Ay,Ly})}return My.data},ua.prototype.optionUpdated=function(){this.resetViewRoot()},ua.prototype.formatTooltip=function(Sa,ba,ka){var _y=this.getData(),Ty=this.getRawValue(Sa),Ay=_y.getName(Sa);return createTooltipMarkup("nameValue",{name:Ay,value:Ty})},ua.prototype.getDataParams=function(Sa){var ba=ha.prototype.getDataParams.apply(this,arguments),ka=this.getData().tree.getNodeByDataIndex(Sa);return ba.treeAncestors=wrapTreePathInfo(ka,this),ba.treePathInfo=ba.treeAncestors,ba},ua.prototype.setLayoutInfo=function(Sa){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,Sa)},ua.prototype.mapIdToIndex=function(Sa){var ba=this._idIndexMap;ba||(ba=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var ka=ba.get(Sa);return ka==null&&ba.set(Sa,ka=this._idIndexMapCount++),ka},ua.prototype.getViewRoot=function(){return this._viewRoot},ua.prototype.resetViewRoot=function(Sa){Sa?this._viewRoot=Sa:Sa=this._viewRoot;var ba=this.getRawData().tree.root;(!Sa||Sa!==ba&&!ba.contains(Sa))&&(this._viewRoot=ba)},ua.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},ua.type="series.treemap",ua.layoutMode="box",ua.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},ua}(SeriesModel);function completeTreeValue$1(ha){var ua=0;each$f(ha.children,function(ba){completeTreeValue$1(ba);var ka=ba.value;isArray$1(ka)&&(ka=ka[0]),ua+=ka});var Sa=ha.value;isArray$1(Sa)&&(Sa=Sa[0]),(Sa==null||isNaN(Sa))&&(Sa=ua),Sa<0&&(Sa=0),isArray$1(ha.value)?ha.value[0]=Sa:ha.value=Sa}function setDefault(ha,ua){var Sa=normalizeToArray(ua.get("color")),ba=normalizeToArray(ua.get(["aria","decal","decals"]));if(Sa){ha=ha||[];var ka,_y;each$f(ha,function(Ay){var Ey=new Model(Ay),My=Ey.get("color"),Dy=Ey.get("decal");(Ey.get(["itemStyle","color"])||My&&My!=="none")&&(ka=!0),(Ey.get(["itemStyle","decal"])||Dy&&Dy!=="none")&&(_y=!0)});var Ty=ha[0]||(ha[0]={});return ka||(Ty.color=Sa.slice()),!_y&&ba&&(Ty.decal=ba.slice()),ha}}var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function ha(ua){this.group=new Group$3,ua.add(this.group)}return ha.prototype.render=function(ua,Sa,ba,ka){var _y=ua.getModel("breadcrumb"),Ty=this.group;if(Ty.removeAll(),!(!_y.get("show")||!ba)){var Ay=_y.getModel("itemStyle"),Ey=_y.getModel("emphasis"),My=Ay.getModel("textStyle"),Dy=Ey.getModel(["itemStyle","textStyle"]),Iy={pos:{left:_y.get("left"),right:_y.get("right"),top:_y.get("top"),bottom:_y.get("bottom")},box:{width:Sa.getWidth(),height:Sa.getHeight()},emptyItemWidth:_y.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(ba,Iy,My),this._renderContent(ua,Iy,Ay,Ey,My,Dy,ka),positionElement(Ty,Iy.pos,Iy.box)}},ha.prototype._prepare=function(ua,Sa,ba){for(var ka=ua;ka;ka=ka.parentNode){var _y=convertOptionIdName(ka.getModel().get("name"),""),Ty=ba.getTextRect(_y),Ay=Math.max(Ty.width+TEXT_PADDING*2,Sa.emptyItemWidth);Sa.totalWidth+=Ay+ITEM_GAP,Sa.renderList.push({node:ka,text:_y,width:Ay})}},ha.prototype._renderContent=function(ua,Sa,ba,ka,_y,Ty,Ay){for(var Ey=0,My=Sa.emptyItemWidth,Dy=ua.get(["breadcrumb","height"]),Iy=getAvailableSize(Sa.pos,Sa.box),Ly=Sa.totalWidth,Py=Sa.renderList,Ry=ka.getModel("itemStyle").getItemStyle(),Vy=Py.length-1;Vy>=0;Vy--){var Ny=Py[Vy],By=Ny.node,Oy=Ny.width,Fy=Ny.text;Ly>Iy.width&&(Ly-=Oy-My,Oy=My,Fy=null);var zy=new Polygon({shape:{points:makeItemPoints(Ey,0,Oy,Dy,Vy===Py.length-1,Vy===0)},style:defaults(ba.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText({style:createTextStyle(_y,{text:Fy})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(Ay,By)});zy.disableLabelAnimation=!0,zy.getTextContent().ensureState("emphasis").style=createTextStyle(Ty,{text:Fy}),zy.ensureState("emphasis").style=Ry,toggleHoverEmphasis(zy,ka.get("focus"),ka.get("blurScope"),ka.get("disabled")),this.group.add(zy),packEventData(zy,ua,By),Ey+=Oy+ITEM_GAP}},ha.prototype.remove=function(){this.group.removeAll()},ha}();function makeItemPoints(ha,ua,Sa,ba,ka,_y){var Ty=[[ka?ha:ha-ARRAY_LENGTH,ua],[ha+Sa,ua],[ha+Sa,ua+ba],[ka?ha:ha-ARRAY_LENGTH,ua+ba]];return!_y&&Ty.splice(2,0,[ha+Sa+ARRAY_LENGTH,ua+ba/2]),!ka&&Ty.push([ha,ua+ba/2]),Ty}function packEventData(ha,ua,Sa){getECData(ha).eventData={componentType:"series",componentSubType:"treemap",componentIndex:ua.componentIndex,seriesIndex:ua.seriesIndex,seriesName:ua.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:Sa&&Sa.dataIndex,name:Sa&&Sa.name},treePathInfo:Sa&&wrapTreePathInfo(Sa,ua)}}var AnimationWrap=function(){function ha(){this._storage=[],this._elExistsMap={}}return ha.prototype.add=function(ua,Sa,ba,ka,_y){return this._elExistsMap[ua.id]?!1:(this._elExistsMap[ua.id]=!0,this._storage.push({el:ua,target:Sa,duration:ba,delay:ka,easing:_y}),!0)},ha.prototype.finished=function(ua){return this._finishedCallback=ua,this},ha.prototype.start=function(){for(var ua=this,Sa=this._storage.length,ba=function(){Sa--,Sa<=0&&(ua._storage.length=0,ua._elExistsMap={},ua._finishedCallback&&ua._finishedCallback())},ka=0,_y=this._storage.length;ka<_y;ka++){var Ty=this._storage[ka];Ty.el.animateTo(Ty.target,{duration:Ty.duration,delay:Ty.delay,easing:Ty.easing,setToFinal:!0,done:ba,aborted:ba})}return this},ha}();function createWrap(){return new AnimationWrap}var Group$2=Group$3,Rect$1=Rect$2,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(ha){var ua=getStateItemStyle(ha);return ua.stroke=ua.fill=ua.lineWidth=null,ua},inner$d=makeInner(),TreemapView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa._state="ready",Sa._storage=createStorage(),Sa}return ua.prototype.render=function(Sa,ba,ka,_y){var Ty=ba.findComponents({mainType:"series",subType:"treemap",query:_y});if(!(indexOf(Ty,Sa)<0)){this.seriesModel=Sa,this.api=ka,this.ecModel=ba;var Ay=["treemapZoomToNode","treemapRootToNode"],Ey=retrieveTargetInfo(_y,Ay,Sa),My=_y&&_y.type,Dy=Sa.layoutInfo,Iy=!this._oldTree,Ly=this._storage,Py=My==="treemapRootToNode"&&Ey&&Ly?{rootNodeGroup:Ly.nodeGroup[Ey.node.getRawIndex()],direction:_y.direction}:null,Ry=this._giveContainerGroup(Dy),Vy=Sa.get("animation"),Ny=this._doRender(Ry,Sa,Py);Vy&&!Iy&&(!My||My==="treemapZoomToNode"||My==="treemapRootToNode")?this._doAnimation(Ry,Ny,Sa,Py):Ny.renderFinally(),this._resetController(ka),this._renderBreadcrumb(Sa,ka,Ey)}},ua.prototype._giveContainerGroup=function(Sa){var ba=this._containerGroup;return ba||(ba=this._containerGroup=new Group$2,this._initEvents(ba),this.group.add(ba)),ba.x=Sa.x,ba.y=Sa.y,ba},ua.prototype._doRender=function(Sa,ba,ka){var _y=ba.getData().tree,Ty=this._oldTree,Ay=createStorage(),Ey=createStorage(),My=this._storage,Dy=[];function Iy(Oy,Fy,zy,Hy){return renderNode(ba,Ey,My,ka,Ay,Dy,Oy,Fy,zy,Hy)}Vy(_y.root?[_y.root]:[],Ty&&Ty.root?[Ty.root]:[],Sa,_y===Ty||!Ty,0);var Ly=Ny(My);if(this._oldTree=_y,this._storage=Ey,this._controllerHost){var Py=this.seriesModel.layoutInfo,Ry=_y.root.getLayout();Ry.width===Py.width&&Ry.height===Py.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:Ay,willDeleteEls:Ly,renderFinally:By};function Vy(Oy,Fy,zy,Hy,Gy){Hy?(Fy=Oy,each$f(Oy,function(Yy,jy){!Yy.isRemoved()&&Uy(jy,jy)})):new DataDiffer(Fy,Oy,Wy,Wy).add(Uy).update(Uy).remove(curry$1(Uy,null)).execute();function Wy(Yy){return Yy.getId()}function Uy(Yy,jy){var Ky=Yy!=null?Oy[Yy]:null,Xy=jy!=null?Fy[jy]:null,Zy=Iy(Ky,Xy,zy,Gy);Zy&&Vy(Ky&&Ky.viewChildren||[],Xy&&Xy.viewChildren||[],Zy,Hy,Gy+1)}}function Ny(Oy){var Fy=createStorage();return Oy&&each$f(Oy,function(zy,Hy){var Gy=Fy[Hy];each$f(zy,function(Wy){Wy&&(Gy.push(Wy),inner$d(Wy).willDelete=!0)})}),Fy}function By(){each$f(Ly,function(Oy){each$f(Oy,function(Fy){Fy.parent&&Fy.parent.remove(Fy)})}),each$f(Dy,function(Oy){Oy.invisible=!0,Oy.dirty()})}},ua.prototype._doAnimation=function(Sa,ba,ka,_y){var Ty=ka.get("animationDurationUpdate"),Ay=ka.get("animationEasing"),Ey=(isFunction(Ty)?0:Ty)||0,My=(isFunction(Ay)?null:Ay)||"cubicOut",Dy=createWrap();each$f(ba.willDeleteEls,function(Iy,Ly){each$f(Iy,function(Py,Ry){if(!Py.invisible){var Vy=Py.parent,Ny,By=inner$d(Vy);if(_y&&_y.direction==="drillDown")Ny=Vy===_y.rootNodeGroup?{shape:{x:0,y:0,width:By.nodeWidth,height:By.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var Oy=0,Fy=0;By.willDelete||(Oy=By.nodeWidth/2,Fy=By.nodeHeight/2),Ny=Ly==="nodeGroup"?{x:Oy,y:Fy,style:{opacity:0}}:{shape:{x:Oy,y:Fy,width:0,height:0},style:{opacity:0}}}Ny&&Dy.add(Py,Ny,Ey,0,My)}})}),each$f(this._storage,function(Iy,Ly){each$f(Iy,function(Py,Ry){var Vy=ba.lastsForAnimation[Ly][Ry],Ny={};Vy&&(Py instanceof Group$3?Vy.oldX!=null&&(Ny.x=Py.x,Ny.y=Py.y,Py.x=Vy.oldX,Py.y=Vy.oldY):(Vy.oldShape&&(Ny.shape=extend({},Py.shape),Py.setShape(Vy.oldShape)),Vy.fadein?(Py.setStyle("opacity",0),Ny.style={opacity:1}):Py.style.opacity!==1&&(Ny.style={opacity:1})),Dy.add(Py,Ny,Ey,0,My))})},this),this._state="animating",Dy.finished(bind$1(function(){this._state="ready",ba.renderFinally()},this)).start()},ua.prototype._resetController=function(Sa){var ba=this._controller,ka=this._controllerHost;ka||(this._controllerHost={target:this.group},ka=this._controllerHost),ba||(ba=this._controller=new RoamController(Sa.getZr()),ba.enable(this.seriesModel.get("roam")),ka.zoomLimit=this.seriesModel.get("scaleLimit"),ka.zoom=this.seriesModel.get("zoom"),ba.on("pan",bind$1(this._onPan,this)),ba.on("zoom",bind$1(this._onZoom,this)));var _y=new BoundingRect(0,0,Sa.getWidth(),Sa.getHeight());ba.setPointerChecker(function(Ty,Ay,Ey){return _y.contain(Ay,Ey)})},ua.prototype._clearController=function(){var Sa=this._controller;this._controllerHost=null,Sa&&(Sa.dispose(),Sa=null)},ua.prototype._onPan=function(Sa){if(this._state!=="animating"&&(Math.abs(Sa.dx)>DRAG_THRESHOLD||Math.abs(Sa.dy)>DRAG_THRESHOLD)){var ba=this.seriesModel.getData().tree.root;if(!ba)return;var ka=ba.getLayout();if(!ka)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:ka.x+Sa.dx,y:ka.y+Sa.dy,width:ka.width,height:ka.height}})}},ua.prototype._onZoom=function(Sa){var ba=Sa.originX,ka=Sa.originY,_y=Sa.scale;if(this._state!=="animating"){var Ty=this.seriesModel.getData().tree.root;if(!Ty)return;var Ay=Ty.getLayout();if(!Ay)return;var Ey=new BoundingRect(Ay.x,Ay.y,Ay.width,Ay.height),My=null,Dy=this._controllerHost;My=Dy.zoomLimit;var Iy=Dy.zoom=Dy.zoom||1;if(Iy*=_y,My){var Ly=My.min||0,Py=My.max||1/0;Iy=Math.max(Math.min(Py,Iy),Ly)}var Ry=Iy/Dy.zoom;Dy.zoom=Iy;var Vy=this.seriesModel.layoutInfo;ba-=Vy.x,ka-=Vy.y;var Ny=create$1();translate(Ny,Ny,[-ba,-ka]),scale$1(Ny,Ny,[Ry,Ry]),translate(Ny,Ny,[ba,ka]),Ey.applyTransform(Ny),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:Ey.x,y:Ey.y,width:Ey.width,height:Ey.height}})}},ua.prototype._initEvents=function(Sa){var ba=this;Sa.on("click",function(ka){if(ba._state==="ready"){var _y=ba.seriesModel.get("nodeClick",!0);if(_y){var Ty=ba.findTarget(ka.offsetX,ka.offsetY);if(Ty){var Ay=Ty.node;if(Ay.getLayout().isLeafRoot)ba._rootToNode(Ty);else if(_y==="zoomToNode")ba._zoomToNode(Ty);else if(_y==="link"){var Ey=Ay.hostTree.data.getItemModel(Ay.dataIndex),My=Ey.get("link",!0),Dy=Ey.get("target",!0)||"blank";My&&windowOpen(My,Dy)}}}}},this)},ua.prototype._renderBreadcrumb=function(Sa,ba,ka){var _y=this;ka||(ka=Sa.get("leafDepth",!0)!=null?{node:Sa.getViewRoot()}:this.findTarget(ba.getWidth()/2,ba.getHeight()/2),ka||(ka={node:Sa.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb(this.group))).render(Sa,ba,ka.node,function(Ty){_y._state!=="animating"&&(aboveViewRoot(Sa.getViewRoot(),Ty)?_y._rootToNode({node:Ty}):_y._zoomToNode({node:Ty}))})},ua.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},ua.prototype.dispose=function(){this._clearController()},ua.prototype._zoomToNode=function(Sa){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Sa.node})},ua.prototype._rootToNode=function(Sa){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Sa.node})},ua.prototype.findTarget=function(Sa,ba){var ka,_y=this.seriesModel.getViewRoot();return _y.eachNode({attr:"viewChildren",order:"preorder"},function(Ty){var Ay=this._storage.background[Ty.getRawIndex()];if(Ay){var Ey=Ay.transformCoordToLocal(Sa,ba),My=Ay.shape;if(My.x<=Ey[0]&&Ey[0]<=My.x+My.width&&My.y<=Ey[1]&&Ey[1]<=My.y+My.height)ka={node:Ty,offsetX:Ey[0],offsetY:Ey[1]};else return!1}},this),ka},ua.type="treemap",ua}(ChartView);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My){if(!Ty)return;var Dy=Ty.getLayout(),Iy=ha.getData(),Ly=Ty.getModel();if(Iy.setItemGraphicEl(Ty.dataIndex,null),!Dy||!Dy.isInView)return;var Py=Dy.width,Ry=Dy.height,Vy=Dy.borderWidth,Ny=Dy.invisible,By=Ty.getRawIndex(),Oy=Ay&&Ay.getRawIndex(),Fy=Ty.viewChildren,zy=Dy.upperHeight,Hy=Fy&&Fy.length,Gy=Ly.getModel("itemStyle"),Wy=Ly.getModel(["emphasis","itemStyle"]),Uy=Ly.getModel(["blur","itemStyle"]),Yy=Ly.getModel(["select","itemStyle"]),jy=Gy.get("borderRadius")||0,Ky=$_("nodeGroup",Group$2);if(!Ky)return;if(Ey.add(Ky),Ky.x=Dy.x||0,Ky.y=Dy.y||0,Ky.markRedraw(),inner$d(Ky).nodeWidth=Py,inner$d(Ky).nodeHeight=Ry,Dy.isAboveViewRoot)return Ky;var Xy=$_("background",Rect$1,My,Z2_BG);Xy&&c_(Ky,Xy,Hy&&Dy.upperLabelHeight);var Zy=Ly.getModel("emphasis"),Jy=Zy.get("focus"),t_=Zy.get("blurScope"),Qy=Zy.get("disabled"),r_=Jy==="ancestor"?Ty.getAncestorsIndices():Jy==="descendant"?Ty.getDescendantIndices():Jy;if(Hy)isHighDownDispatcher(Ky)&&setAsHighDownDispatcher(Ky,!1),Xy&&(setAsHighDownDispatcher(Xy,!Qy),Iy.setItemGraphicEl(Ty.dataIndex,Xy),enableHoverFocus(Xy,r_,t_));else{var i_=$_("content",Rect$1,My,Z2_CONTENT);i_&&d_(Ky,i_),Xy.disableMorphing=!0,Xy&&isHighDownDispatcher(Xy)&&setAsHighDownDispatcher(Xy,!1),setAsHighDownDispatcher(Ky,!Qy),Iy.setItemGraphicEl(Ty.dataIndex,Ky);var l_=Ly.getShallow("cursor");l_&&i_.attr("cursor",l_),enableHoverFocus(Ky,r_,t_)}return Ky;function c_(g_,p_,o_){var n_=getECData(p_);if(n_.dataIndex=Ty.dataIndex,n_.seriesIndex=ha.seriesIndex,p_.setShape({x:0,y:0,width:Py,height:Ry,r:jy}),Ny)f_(p_);else{p_.invisible=!1;var qy=Ty.getVisual("style"),e_=qy.stroke,a_=getItemStyleNormal(Gy);a_.fill=e_;var s_=getStateItemStyle(Wy);s_.fill=Wy.get("borderColor");var u_=getStateItemStyle(Uy);u_.fill=Uy.get("borderColor");var h_=getStateItemStyle(Yy);if(h_.fill=Yy.get("borderColor"),o_){var __=Py-2*Vy;m_(p_,e_,qy.opacity,{x:Vy,y:0,width:__,height:zy})}else p_.removeTextContent();p_.setStyle(a_),p_.ensureState("emphasis").style=s_,p_.ensureState("blur").style=u_,p_.ensureState("select").style=h_,setDefaultStateProxy(p_)}g_.add(p_)}function d_(g_,p_){var o_=getECData(p_);o_.dataIndex=Ty.dataIndex,o_.seriesIndex=ha.seriesIndex;var n_=Math.max(Py-2*Vy,0),qy=Math.max(Ry-2*Vy,0);if(p_.culling=!0,p_.setShape({x:Vy,y:Vy,width:n_,height:qy,r:jy}),Ny)f_(p_);else{p_.invisible=!1;var e_=Ty.getVisual("style"),a_=e_.fill,s_=getItemStyleNormal(Gy);s_.fill=a_,s_.decal=e_.decal;var u_=getStateItemStyle(Wy),h_=getStateItemStyle(Uy),__=getStateItemStyle(Yy);m_(p_,a_,e_.opacity,null),p_.setStyle(s_),p_.ensureState("emphasis").style=u_,p_.ensureState("blur").style=h_,p_.ensureState("select").style=__,setDefaultStateProxy(p_)}g_.add(p_)}function f_(g_){!g_.invisible&&_y.push(g_)}function m_(g_,p_,o_,n_){var qy=Ly.getModel(n_?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),e_=convertOptionIdName(Ly.get("name"),null),a_=qy.getShallow("show");setLabelStyle(g_,getLabelStatesModels(Ly,n_?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:a_?e_:null,inheritColor:p_,defaultOpacity:o_,labelFetcher:ha,labelDataIndex:Ty.dataIndex});var s_=g_.getTextContent();if(s_){var u_=s_.style,h_=normalizeCssArray$1(u_.padding||0);n_&&(g_.setTextConfig({layoutRect:n_}),s_.disableLabelLayout=!0),s_.beforeUpdate=function(){var y_=Math.max((n_?n_.width:g_.shape.width)-h_[1]-h_[3],0),w_=Math.max((n_?n_.height:g_.shape.height)-h_[0]-h_[2],0);(u_.width!==y_||u_.height!==w_)&&s_.setStyle({width:y_,height:w_})},u_.truncateMinChar=2,u_.lineOverflow="truncate",b_(u_,n_,Dy);var __=s_.getState("emphasis");b_(__?__.style:null,n_,Dy)}}function b_(g_,p_,o_){var n_=g_?g_.text:null;if(!p_&&o_.isLeafRoot&&n_!=null){var qy=ha.get("drillDownIcon",!0);g_.text=qy?qy+" "+n_:n_}}function $_(g_,p_,o_,n_){var qy=Oy!=null&&Sa[g_][Oy],e_=ka[g_];return qy?(Sa[g_][Oy]=null,A_(e_,qy)):Ny||(qy=new p_,qy instanceof Displayable&&(qy.z2=calculateZ2(o_,n_)),v_(e_,qy)),ua[g_][By]=qy}function A_(g_,p_){var o_=g_[By]={};p_ instanceof Group$2?(o_.oldX=p_.x,o_.oldY=p_.y):o_.oldShape=extend({},p_.shape)}function v_(g_,p_){var o_=g_[By]={},n_=Ty.parentNode,qy=p_ instanceof Group$3;if(n_&&(!ba||ba.direction==="drillDown")){var e_=0,a_=0,s_=ka.background[n_.getRawIndex()];!ba&&s_&&s_.oldShape&&(e_=s_.oldShape.width,a_=s_.oldShape.height),qy?(o_.oldX=0,o_.oldY=a_):o_.oldShape={x:e_,y:a_,width:0,height:0}}o_.fadein=!qy}}function calculateZ2(ha,ua){return ha*Z2_BASE+ua}var each$c=each$f,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function ha(ua){var Sa=ua.mappingMethod,ba=ua.type,ka=this.option=clone$4(ua);this.type=ba,this.mappingMethod=Sa,this._normalizeData=normalizers[Sa];var _y=ha.visualHandlers[ba];this.applyVisual=_y.applyVisual,this.getColorMapper=_y.getColorMapper,this._normalizedToVisual=_y._normalizedToVisual[Sa],Sa==="piecewise"?(normalizeVisualRange(ka),preprocessForPiecewise(ka)):Sa==="category"?ka.categories?preprocessForSpecifiedCategory(ka):normalizeVisualRange(ka,!0):(assert(Sa!=="linear"||ka.dataExtent),normalizeVisualRange(ka))}return ha.prototype.mapValueToVisual=function(ua){var Sa=this._normalizeData(ua);return this._normalizedToVisual(Sa,ua)},ha.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},ha.listVisualTypes=function(){return keys(ha.visualHandlers)},ha.isValidType=function(ua){return ha.visualHandlers.hasOwnProperty(ua)},ha.eachVisual=function(ua,Sa,ba){isObject$3(ua)?each$f(ua,Sa,ba):Sa.call(ba,ua)},ha.mapVisual=function(ua,Sa,ba){var ka,_y=isArray$1(ua)?[]:isObject$3(ua)?{}:(ka=!0,null);return ha.eachVisual(ua,function(Ty,Ay){var Ey=Sa.call(ba,Ty,Ay);ka?_y=Ey:_y[Ay]=Ey}),_y},ha.retrieveVisuals=function(ua){var Sa={},ba;return ua&&each$c(ha.visualHandlers,function(ka,_y){ua.hasOwnProperty(_y)&&(Sa[_y]=ua[_y],ba=!0)}),ba?Sa:null},ha.prepareVisualTypes=function(ua){if(isArray$1(ua))ua=ua.slice();else if(isObject(ua)){var Sa=[];each$c(ua,function(ba,ka){Sa.push(ka)}),ua=Sa}else return[];return ua.sort(function(ba,ka){return ka==="color"&&ba!=="color"&&ba.indexOf("color")===0?1:-1}),ua},ha.dependsOn=function(ua,Sa){return Sa==="color"?!!(ua&&ua.indexOf(Sa)===0):ua===Sa},ha.findPieceIndex=function(ua,Sa,ba){for(var ka,_y=1/0,Ty=0,Ay=Sa.length;Ty<Ay;Ty++){var Ey=Sa[Ty].value;if(Ey!=null){if(Ey===ua||isString(Ey)&&Ey===ua+"")return Ty;ba&&Ly(Ey,Ty)}}for(var Ty=0,Ay=Sa.length;Ty<Ay;Ty++){var My=Sa[Ty],Dy=My.interval,Iy=My.close;if(Dy){if(Dy[0]===-1/0){if(littleThan(Iy[1],ua,Dy[1]))return Ty}else if(Dy[1]===1/0){if(littleThan(Iy[0],Dy[0],ua))return Ty}else if(littleThan(Iy[0],Dy[0],ua)&&littleThan(Iy[1],ua,Dy[1]))return Ty;ba&&Ly(Dy[0],Ty),ba&&Ly(Dy[1],Ty)}}if(ba)return ua===1/0?Sa.length-1:ua===-1/0?0:ka;function Ly(Py,Ry){var Vy=Math.abs(Py-ua);Vy<_y&&(_y=Vy,ka=Ry)}},ha.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var ua=this.option;return bind$1(ua.mappingMethod==="category"?function(Sa,ba){return!ba&&(Sa=this._normalizeData(Sa)),doMapCategory.call(this,Sa)}:function(Sa,ba,ka){var _y=!!ka;return!ba&&(Sa=this._normalizeData(Sa)),ka=fastLerp(Sa,ua.parsedVisual,ka),_y?ka:stringify(ka,"rgba")},this)},_normalizedToVisual:{linear:function(ua){return stringify(fastLerp(ua,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(ua,Sa){var ba=getSpecifiedVisual.call(this,Sa);return ba==null&&(ba=stringify(fastLerp(ua,this.option.parsedVisual),"rgba")),ba},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(ua,Sa){return modifyHSL(ua,Sa)}),colorSaturation:makePartialColorVisualHandler(function(ua,Sa){return modifyHSL(ua,null,Sa)}),colorLightness:makePartialColorVisualHandler(function(ua,Sa){return modifyHSL(ua,null,null,Sa)}),colorAlpha:makePartialColorVisualHandler(function(ua,Sa){return modifyAlpha(ua,Sa)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(ua,Sa,ba){var ka=this.mapValueToVisual(ua);ba("symbol",ka)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(ua,Sa){var ba=getSpecifiedVisual.call(this,Sa);return ba==null&&(ba=doMapToArray.call(this,ua)),ba},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},ha}();function preprocessForPiecewise(ha){var ua=ha.pieceList;ha.hasSpecialVisual=!1,each$f(ua,function(Sa,ba){Sa.originIndex=ba,Sa.visual!=null&&(ha.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(ha){var ua=ha.categories,Sa=ha.categoryMap={},ba=ha.visual;if(each$c(ua,function(Ty,Ay){Sa[Ty]=Ay}),!isArray$1(ba)){var ka=[];isObject$3(ba)?each$c(ba,function(Ty,Ay){var Ey=Sa[Ay];ka[Ey??CATEGORY_DEFAULT_VISUAL_INDEX]=Ty}):ka[CATEGORY_DEFAULT_VISUAL_INDEX]=ba,ba=setVisualToOption(ha,ka)}for(var _y=ua.length-1;_y>=0;_y--)ba[_y]==null&&(delete Sa[ua[_y]],ua.pop())}function normalizeVisualRange(ha,ua){var Sa=ha.visual,ba=[];isObject$3(Sa)?each$c(Sa,function(_y){ba.push(_y)}):Sa!=null&&ba.push(Sa);var ka={color:1,symbol:1};!ua&&ba.length===1&&!ka.hasOwnProperty(ha.type)&&(ba[1]=ba[0]),setVisualToOption(ha,ba)}function makePartialColorVisualHandler(ha){return{applyVisual:function(ua,Sa,ba){var ka=this.mapValueToVisual(ua);ba("color",ha(Sa("color"),ka))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(ha){var ua=this.option.visual;return ua[Math.round(linearMap$2(ha,[0,1],[0,ua.length-1],!0))]||{}}function makeApplyVisual(ha){return function(ua,Sa,ba){ba(ha,this.mapValueToVisual(ua))}}function doMapCategory(ha){var ua=this.option.visual;return ua[this.option.loop&&ha!==CATEGORY_DEFAULT_VISUAL_INDEX?ha%ua.length:ha]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(ha){return{linear:function(ua){return linearMap$2(ua,ha,this.option.visual,!0)},category:doMapCategory,piecewise:function(ua,Sa){var ba=getSpecifiedVisual.call(this,Sa);return ba==null&&(ba=linearMap$2(ua,ha,this.option.visual,!0)),ba},fixed:doMapFixed}}function getSpecifiedVisual(ha){var ua=this.option,Sa=ua.pieceList;if(ua.hasSpecialVisual){var ba=VisualMapping.findPieceIndex(ha,Sa),ka=Sa[ba];if(ka&&ka.visual)return ka.visual[this.type]}}function setVisualToOption(ha,ua){return ha.visual=ua,ha.type==="color"&&(ha.parsedVisual=map$1(ua,function(Sa){var ba=parse(Sa);return ba||[0,0,0,1]})),ua}var normalizers={linear:function(ha){return linearMap$2(ha,this.option.dataExtent,[0,1],!0)},piecewise:function(ha){var ua=this.option.pieceList,Sa=VisualMapping.findPieceIndex(ha,ua,!0);if(Sa!=null)return linearMap$2(Sa,[0,ua.length-1],[0,1],!0)},category:function(ha){var ua=this.option.categories?this.option.categoryMap[ha]:ha;return ua??CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop};function littleThan(ha,ua,Sa){return ha?ua<=Sa:ua<Sa}var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(ha){var ua=ha.getData().tree,Sa=ua.root;Sa.isRemoved()||travelTree(Sa,{},ha.getViewRoot().getAncestors(),ha)}};function travelTree(ha,ua,Sa,ba){var ka=ha.getModel(),_y=ha.getLayout(),Ty=ha.hostTree.data;if(!(!_y||_y.invisible||!_y.isInView)){var Ay=ka.getModel(ITEM_STYLE_NORMAL),Ey=buildVisuals(Ay,ua,ba),My=Ty.ensureUniqueItemVisual(ha.dataIndex,"style"),Dy=Ay.get("borderColor"),Iy=Ay.get("borderColorSaturation"),Ly;Iy!=null&&(Ly=calculateColor(Ey),Dy=calculateBorderColor(Iy,Ly)),My.stroke=Dy;var Py=ha.viewChildren;if(!Py||!Py.length)Ly=calculateColor(Ey),My.fill=Ly;else{var Ry=buildVisualMapping(ha,ka,_y,Ay,Ey,Py);each$f(Py,function(Vy,Ny){if(Vy.depth>=Sa.length||Vy===Sa[Vy.depth]){var By=mapVisual$1(ka,Ey,Vy,Ny,Ry,ba);travelTree(Vy,By,Sa,ba)}})}}}function buildVisuals(ha,ua,Sa){var ba=extend({},ua),ka=Sa.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(_y){ka[_y]=ua[_y];var Ty=ha.get(_y);ka[_y]=null,Ty!=null&&(ba[_y]=Ty)}),ba}function calculateColor(ha){var ua=getValueVisualDefine(ha,"color");if(ua){var Sa=getValueVisualDefine(ha,"colorAlpha"),ba=getValueVisualDefine(ha,"colorSaturation");return ba&&(ua=modifyHSL(ua,null,null,ba)),Sa&&(ua=modifyAlpha(ua,Sa)),ua}}function calculateBorderColor(ha,ua){return ua!=null?modifyHSL(ua,null,null,ha):null}function getValueVisualDefine(ha,ua){var Sa=ha[ua];if(Sa!=null&&Sa!=="none")return Sa}function buildVisualMapping(ha,ua,Sa,ba,ka,_y){if(!(!_y||!_y.length)){var Ty=getRangeVisual(ua,"color")||ka.color!=null&&ka.color!=="none"&&(getRangeVisual(ua,"colorAlpha")||getRangeVisual(ua,"colorSaturation"));if(Ty){var Ay=ua.get("visualMin"),Ey=ua.get("visualMax"),My=Sa.dataExtent.slice();Ay!=null&&Ay<My[0]&&(My[0]=Ay),Ey!=null&&Ey>My[1]&&(My[1]=Ey);var Dy=ua.get("colorMappingBy"),Iy={type:Ty.name,dataExtent:My,visual:Ty.range};Iy.type==="color"&&(Dy==="index"||Dy==="id")?(Iy.mappingMethod="category",Iy.loop=!0):Iy.mappingMethod="linear";var Ly=new VisualMapping(Iy);return inner$c(Ly).drColorMappingBy=Dy,Ly}}}function getRangeVisual(ha,ua){var Sa=ha.get(ua);return isArray$1(Sa)&&Sa.length?{name:ua,range:Sa}:null}function mapVisual$1(ha,ua,Sa,ba,ka,_y){var Ty=extend({},ua);if(ka){var Ay=ka.type,Ey=Ay==="color"&&inner$c(ka).drColorMappingBy,My=Ey==="index"?ba:Ey==="id"?_y.mapIdToIndex(Sa.getId()):Sa.getValue(ha.get("visualDimension"));Ty[Ay]=ka.mapValueToVisual(My)}return Ty}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(ha,ua,Sa,ba){var ka=Sa.getWidth(),_y=Sa.getHeight(),Ty=ha.option,Ay=getLayoutRect(ha.getBoxLayoutParams(),{width:Sa.getWidth(),height:Sa.getHeight()}),Ey=Ty.size||[],My=parsePercent(retrieveValue(Ay.width,Ey[0]),ka),Dy=parsePercent(retrieveValue(Ay.height,Ey[1]),_y),Iy=ba&&ba.type,Ly=["treemapZoomToNode","treemapRootToNode"],Py=retrieveTargetInfo(ba,Ly,ha),Ry=Iy==="treemapRender"||Iy==="treemapMove"?ba.rootRect:null,Vy=ha.getViewRoot(),Ny=getPathToRoot(Vy);if(Iy!=="treemapMove"){var By=Iy==="treemapZoomToNode"?estimateRootSize(ha,Py,Vy,My,Dy):Ry?[Ry.width,Ry.height]:[My,Dy],Oy=Ty.sort;Oy&&Oy!=="asc"&&Oy!=="desc"&&(Oy="desc");var Fy={squareRatio:Ty.squareRatio,sort:Oy,leafDepth:Ty.leafDepth};Vy.hostTree.clearLayouts();var zy={x:0,y:0,width:By[0],height:By[1],area:By[0]*By[1]};Vy.setLayout(zy),squarify(Vy,Fy,!1,0),zy=Vy.getLayout(),each$b(Ny,function(Gy,Wy){var Uy=(Ny[Wy+1]||Vy).getValue();Gy.setLayout(extend({dataExtent:[Uy,Uy],borderWidth:0,upperHeight:0},zy))})}var Hy=ha.getData().tree.root;Hy.setLayout(calculateRootPosition(Ay,Ry,Py),!0),ha.setLayoutInfo(Ay),prunning(Hy,new BoundingRect(-Ay.x,-Ay.y,ka,_y),Ny,Vy,0)}};function squarify(ha,ua,Sa,ba){var ka,_y;if(!ha.isRemoved()){var Ty=ha.getLayout();ka=Ty.width,_y=Ty.height;var Ay=ha.getModel(),Ey=Ay.get(PATH_BORDER_WIDTH),My=Ay.get(PATH_GAP_WIDTH)/2,Dy=getUpperLabelHeight(Ay),Iy=Math.max(Ey,Dy),Ly=Ey-My,Py=Iy-My;ha.setLayout({borderWidth:Ey,upperHeight:Iy,upperLabelHeight:Dy},!0),ka=mathMax$3(ka-2*Ly,0),_y=mathMax$3(_y-Ly-Py,0);var Ry=ka*_y,Vy=initChildren$1(ha,Ay,Ry,ua,Sa,ba);if(Vy.length){var Ny={x:Ly,y:Py,width:ka,height:_y},By=mathMin$3(ka,_y),Oy=1/0,Fy=[];Fy.area=0;for(var zy=0,Hy=Vy.length;zy<Hy;){var Gy=Vy[zy];Fy.push(Gy),Fy.area+=Gy.getLayout().area;var Wy=worst(Fy,By,ua.squareRatio);Wy<=Oy?(zy++,Oy=Wy):(Fy.area-=Fy.pop().getLayout().area,position(Fy,By,Ny,My,!1),By=mathMin$3(Ny.width,Ny.height),Fy.length=Fy.area=0,Oy=1/0)}if(Fy.length&&position(Fy,By,Ny,My,!0),!Sa){var Uy=Ay.get("childrenVisibleMin");Uy!=null&&Ry<Uy&&(Sa=!0)}for(var zy=0,Hy=Vy.length;zy<Hy;zy++)squarify(Vy[zy],ua,Sa,ba+1)}}}function initChildren$1(ha,ua,Sa,ba,ka,_y){var Ty=ha.children||[],Ay=ba.sort;Ay!=="asc"&&Ay!=="desc"&&(Ay=null);var Ey=ba.leafDepth!=null&&ba.leafDepth<=_y;if(ka&&!Ey)return ha.viewChildren=[];Ty=filter(Ty,function(Py){return!Py.isRemoved()}),sort$1(Ty,Ay);var My=statistic(ua,Ty,Ay);if(My.sum===0)return ha.viewChildren=[];if(My.sum=filterByThreshold(ua,Sa,My.sum,Ay,Ty),My.sum===0)return ha.viewChildren=[];for(var Dy=0,Iy=Ty.length;Dy<Iy;Dy++){var Ly=Ty[Dy].getValue()/My.sum*Sa;Ty[Dy].setLayout({area:Ly})}return Ey&&(Ty.length&&ha.setLayout({isLeafRoot:!0},!0),Ty.length=0),ha.viewChildren=Ty,ha.setLayout({dataExtent:My.dataExtent},!0),Ty}function filterByThreshold(ha,ua,Sa,ba,ka){if(!ba)return Sa;for(var _y=ha.get("visibleMin"),Ty=ka.length,Ay=Ty,Ey=Ty-1;Ey>=0;Ey--){var My=ka[ba==="asc"?Ty-Ey-1:Ey].getValue();My/Sa*ua<_y&&(Ay=Ey,Sa-=My)}return ba==="asc"?ka.splice(0,Ty-Ay):ka.splice(Ay,Ty-Ay),Sa}function sort$1(ha,ua){return ua&&ha.sort(function(Sa,ba){var ka=ua==="asc"?Sa.getValue()-ba.getValue():ba.getValue()-Sa.getValue();return ka===0?ua==="asc"?Sa.dataIndex-ba.dataIndex:ba.dataIndex-Sa.dataIndex:ka}),ha}function statistic(ha,ua,Sa){for(var ba=0,ka=0,_y=ua.length;ka<_y;ka++)ba+=ua[ka].getValue();var Ty=ha.get("visualDimension"),Ay;return!ua||!ua.length?Ay=[NaN,NaN]:Ty==="value"&&Sa?(Ay=[ua[ua.length-1].getValue(),ua[0].getValue()],Sa==="asc"&&Ay.reverse()):(Ay=[1/0,-1/0],each$b(ua,function(Ey){var My=Ey.getValue(Ty);My<Ay[0]&&(Ay[0]=My),My>Ay[1]&&(Ay[1]=My)})),{sum:ba,dataExtent:Ay}}function worst(ha,ua,Sa){for(var ba=0,ka=1/0,_y=0,Ty=void 0,Ay=ha.length;_y<Ay;_y++)Ty=ha[_y].getLayout().area,Ty&&(Ty<ka&&(ka=Ty),Ty>ba&&(ba=Ty));var Ey=ha.area*ha.area,My=ua*ua*Sa;return Ey?mathMax$3(My*ba/Ey,Ey/(My*ka)):1/0}function position(ha,ua,Sa,ba,ka){var _y=ua===Sa.width?0:1,Ty=1-_y,Ay=["x","y"],Ey=["width","height"],My=Sa[Ay[_y]],Dy=ua?ha.area/ua:0;(ka||Dy>Sa[Ey[Ty]])&&(Dy=Sa[Ey[Ty]]);for(var Iy=0,Ly=ha.length;Iy<Ly;Iy++){var Py=ha[Iy],Ry={},Vy=Dy?Py.getLayout().area/Dy:0,Ny=Ry[Ey[Ty]]=mathMax$3(Dy-2*ba,0),By=Sa[Ay[_y]]+Sa[Ey[_y]]-My,Oy=Iy===Ly-1||By<Vy?By:Vy,Fy=Ry[Ey[_y]]=mathMax$3(Oy-2*ba,0);Ry[Ay[Ty]]=Sa[Ay[Ty]]+mathMin$3(ba,Ny/2),Ry[Ay[_y]]=My+mathMin$3(ba,Fy/2),My+=Oy,Py.setLayout(Ry,!0)}Sa[Ay[Ty]]+=Dy,Sa[Ey[Ty]]-=Dy}function estimateRootSize(ha,ua,Sa,ba,ka){var _y=(ua||{}).node,Ty=[ba,ka];if(!_y||_y===Sa)return Ty;for(var Ay,Ey=ba*ka,My=Ey*ha.option.zoomToNodeRatio;Ay=_y.parentNode;){for(var Dy=0,Iy=Ay.children,Ly=0,Py=Iy.length;Ly<Py;Ly++)Dy+=Iy[Ly].getValue();var Ry=_y.getValue();if(Ry===0)return Ty;My*=Dy/Ry;var Vy=Ay.getModel(),Ny=Vy.get(PATH_BORDER_WIDTH),By=Math.max(Ny,getUpperLabelHeight(Vy));My+=4*Ny*Ny+(3*Ny+By)*Math.pow(My,.5),My>MAX_SAFE_INTEGER&&(My=MAX_SAFE_INTEGER),_y=Ay}My<Ey&&(My=Ey);var Oy=Math.pow(My/Ey,.5);return[ba*Oy,ka*Oy]}function calculateRootPosition(ha,ua,Sa){if(ua)return{x:ua.x,y:ua.y};var ba={x:0,y:0};if(!Sa)return ba;var ka=Sa.node,_y=ka.getLayout();if(!_y)return ba;for(var Ty=[_y.width/2,_y.height/2],Ay=ka;Ay;){var Ey=Ay.getLayout();Ty[0]+=Ey.x,Ty[1]+=Ey.y,Ay=Ay.parentNode}return{x:ha.width/2-Ty[0],y:ha.height/2-Ty[1]}}function prunning(ha,ua,Sa,ba,ka){var _y=ha.getLayout(),Ty=Sa[ka],Ay=Ty&&Ty===ha;if(!(Ty&&!Ay||ka===Sa.length&&ha!==ba)){ha.setLayout({isInView:!0,invisible:!Ay&&!ua.intersect(_y),isAboveViewRoot:Ay},!0);var Ey=new BoundingRect(ua.x-_y.x,ua.y-_y.y,ua.width,ua.height);each$b(ha.viewChildren||[],function(My){prunning(My,Ey,Sa,ba,ka+1)})}}function getUpperLabelHeight(ha){return ha.get(PATH_UPPER_LABEL_SHOW)?ha.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G(ha){ha.registerSeriesModel(TreemapSeriesModel),ha.registerChartView(TreemapView),ha.registerVisual(treemapVisual),ha.registerLayout(treemapLayout),installTreemapAction(ha)}function categoryFilter(ha){var ua=ha.findComponents({mainType:"legend"});!ua||!ua.length||ha.eachSeriesByType("graph",function(Sa){var ba=Sa.getCategoriesData(),ka=Sa.getGraph(),_y=ka.data,Ty=ba.mapArray(ba.getName);_y.filterSelf(function(Ay){var Ey=_y.getItemModel(Ay),My=Ey.getShallow("category");if(My!=null){isNumber(My)&&(My=Ty[My]);for(var Dy=0;Dy<ua.length;Dy++)if(!ua[Dy].isSelected(My))return!1}return!0})})}function categoryVisual(ha){var ua={};ha.eachSeriesByType("graph",function(Sa){var ba=Sa.getCategoriesData(),ka=Sa.getData(),_y={};ba.each(function(Ty){var Ay=ba.getName(Ty);_y["ec-"+Ay]=Ty;var Ey=ba.getItemModel(Ty),My=Ey.getModel("itemStyle").getItemStyle();My.fill||(My.fill=Sa.getColorFromPalette(Ay,ua)),ba.setItemVisual(Ty,"style",My);for(var Dy=["symbol","symbolSize","symbolKeepAspect"],Iy=0;Iy<Dy.length;Iy++){var Ly=Ey.getShallow(Dy[Iy],!0);Ly!=null&&ba.setItemVisual(Ty,Dy[Iy],Ly)}}),ba.count()&&ka.each(function(Ty){var Ay=ka.getItemModel(Ty),Ey=Ay.getShallow("category");if(Ey!=null){isString(Ey)&&(Ey=_y["ec-"+Ey]);var My=ba.getItemVisual(Ey,"style"),Dy=ka.ensureUniqueItemVisual(Ty,"style");extend(Dy,My);for(var Iy=["symbol","symbolSize","symbolKeepAspect"],Ly=0;Ly<Iy.length;Ly++)ka.setItemVisual(Ty,Iy[Ly],ba.getItemVisual(Ey,Iy[Ly]))}})})}function normalize$1(ha){return ha instanceof Array||(ha=[ha,ha]),ha}function graphEdgeVisual(ha){ha.eachSeriesByType("graph",function(ua){var Sa=ua.getGraph(),ba=ua.getEdgeData(),ka=normalize$1(ua.get("edgeSymbol")),_y=normalize$1(ua.get("edgeSymbolSize"));ba.setVisual("fromSymbol",ka&&ka[0]),ba.setVisual("toSymbol",ka&&ka[1]),ba.setVisual("fromSymbolSize",_y&&_y[0]),ba.setVisual("toSymbolSize",_y&&_y[1]),ba.setVisual("style",ua.getModel("lineStyle").getLineStyle()),ba.each(function(Ty){var Ay=ba.getItemModel(Ty),Ey=Sa.getEdgeByIndex(Ty),My=normalize$1(Ay.getShallow("symbol",!0)),Dy=normalize$1(Ay.getShallow("symbolSize",!0)),Iy=Ay.getModel("lineStyle").getLineStyle(),Ly=ba.ensureUniqueItemVisual(Ty,"style");switch(extend(Ly,Iy),Ly.stroke){case"source":{var Py=Ey.node1.getVisual("style");Ly.stroke=Py&&Py.fill;break}case"target":{var Py=Ey.node2.getVisual("style");Ly.stroke=Py&&Py.fill;break}}My[0]&&Ey.setVisual("fromSymbol",My[0]),My[1]&&Ey.setVisual("toSymbol",My[1]),Dy[0]&&Ey.setVisual("fromSymbolSize",Dy[0]),Dy[1]&&Ey.setVisual("toSymbolSize",Dy[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(ha){return ha.get("autoCurveness")||null},createCurveness=function(ha,ua){var Sa=getAutoCurvenessParams(ha),ba=20,ka=[];if(isNumber(Sa))ba=Sa;else if(isArray$1(Sa)){ha.__curvenessList=Sa;return}ua>ba&&(ba=ua);var _y=ba%2?ba+2:ba+3;ka=[];for(var Ty=0;Ty<_y;Ty++)ka.push((Ty%2?Ty+1:Ty)/10*(Ty%2?-1:1));ha.__curvenessList=ka},getKeyOfEdges=function(ha,ua,Sa){var ba=[ha.id,ha.dataIndex].join("."),ka=[ua.id,ua.dataIndex].join(".");return[Sa.uid,ba,ka].join(KEY_DELIMITER)},getOppositeKey=function(ha){var ua=ha.split(KEY_DELIMITER);return[ua[0],ua[2],ua[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(ha,ua){var Sa=getKeyOfEdges(ha.node1,ha.node2,ua);return ua.__edgeMap[Sa]},getTotalLengthBetweenNodes=function(ha,ua){var Sa=getEdgeMapLengthWithKey(getKeyOfEdges(ha.node1,ha.node2,ua),ua),ba=getEdgeMapLengthWithKey(getKeyOfEdges(ha.node2,ha.node1,ua),ua);return Sa+ba},getEdgeMapLengthWithKey=function(ha,ua){var Sa=ua.__edgeMap;return Sa[ha]?Sa[ha].length:0};function initCurvenessList(ha){getAutoCurvenessParams(ha)&&(ha.__curvenessList=[],ha.__edgeMap={},createCurveness(ha))}function createEdgeMapForCurveness(ha,ua,Sa,ba){if(getAutoCurvenessParams(Sa)){var ka=getKeyOfEdges(ha,ua,Sa),_y=Sa.__edgeMap,Ty=_y[getOppositeKey(ka)];_y[ka]&&!Ty?_y[ka].isForward=!0:Ty&&_y[ka]&&(Ty.isForward=!0,_y[ka].isForward=!1),_y[ka]=_y[ka]||[],_y[ka].push(ba)}}function getCurvenessForEdge(ha,ua,Sa,ba){var ka=getAutoCurvenessParams(ua),_y=isArray$1(ka);if(!ka)return null;var Ty=getEdgeFromMap(ha,ua);if(!Ty)return null;for(var Ay=-1,Ey=0;Ey<Ty.length;Ey++)if(Ty[Ey]===Sa){Ay=Ey;break}var My=getTotalLengthBetweenNodes(ha,ua);createCurveness(ua,My),ha.lineStyle=ha.lineStyle||{};var Dy=getKeyOfEdges(ha.node1,ha.node2,ua),Iy=ua.__curvenessList,Ly=_y||My%2?0:1;if(Ty.isForward)return Iy[Ly+Ay];var Py=getOppositeKey(Dy),Ry=getEdgeMapLengthWithKey(Py,ua),Vy=Iy[Ay+Ry+Ly];return ba?_y?ka&&ka[0]===0?(Ry+Ly)%2?Vy:-Vy:((Ry%2?0:1)+Ly)%2?Vy:-Vy:(Ry+Ly)%2?Vy:-Vy:Iy[Ay+Ry+Ly]}function simpleLayout(ha){var ua=ha.coordinateSystem;if(!(ua&&ua.type!=="view")){var Sa=ha.getGraph();Sa.eachNode(function(ba){var ka=ba.getModel();ba.setLayout([+ka.get("x"),+ka.get("y")])}),simpleLayoutEdge(Sa,ha)}}function simpleLayoutEdge(ha,ua){ha.eachEdge(function(Sa,ba){var ka=retrieve3(Sa.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(Sa,ua,ba,!0),0),_y=clone$3(Sa.node1.getLayout()),Ty=clone$3(Sa.node2.getLayout()),Ay=[_y,Ty];+ka&&Ay.push([(_y[0]+Ty[0])/2-(_y[1]-Ty[1])*ka,(_y[1]+Ty[1])/2-(Ty[0]-_y[0])*ka]),Sa.setLayout(Ay)})}function graphSimpleLayout(ha,ua){ha.eachSeriesByType("graph",function(Sa){var ba=Sa.get("layout"),ka=Sa.coordinateSystem;if(ka&&ka.type!=="view"){var _y=Sa.getData(),Ty=[];each$f(ka.dimensions,function(Ly){Ty=Ty.concat(_y.mapDimensionsAll(Ly))});for(var Ay=0;Ay<_y.count();Ay++){for(var Ey=[],My=!1,Dy=0;Dy<Ty.length;Dy++){var Iy=_y.get(Ty[Dy],Ay);isNaN(Iy)||(My=!0),Ey.push(Iy)}My?_y.setItemLayout(Ay,ka.dataToPoint(Ey)):_y.setItemLayout(Ay,[NaN,NaN])}simpleLayoutEdge(_y.graph,Sa)}else(!ba||ba==="none")&&simpleLayout(Sa)})}function getNodeGlobalScale(ha){var ua=ha.coordinateSystem;if(ua.type!=="view")return 1;var Sa=ha.option.nodeScaleRatio,ba=ua.scaleX,ka=ua.getZoom(),_y=(ka-1)*Sa+1;return _y/ba}function getSymbolSize(ha){var ua=ha.getVisual("symbolSize");return ua instanceof Array&&(ua=(ua[0]+ua[1])/2),+ua}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(ha,ua,Sa,ba){var ka=ha.coordinateSystem;if(!(ka&&ka.type!=="view")){var _y=ka.getBoundingRect(),Ty=ha.getData(),Ay=Ty.graph,Ey=_y.width/2+_y.x,My=_y.height/2+_y.y,Dy=Math.min(_y.width,_y.height)/2,Iy=Ty.count();if(Ty.setLayout({cx:Ey,cy:My}),!!Iy){if(Sa){var Ly=ka.pointToData(ba),Py=Ly[0],Ry=Ly[1],Vy=[Py-Ey,Ry-My];normalize$3(Vy,Vy),scale$2(Vy,Vy,Dy),Sa.setLayout([Ey+Vy[0],My+Vy[1]],!0);var Ny=ha.get(["circular","rotateLabel"]);rotateNodeLabel(Sa,Ny,Ey,My)}_layoutNodesBasedOn[ua](ha,Ay,Ty,Dy,Ey,My,Iy),Ay.eachEdge(function(By,Oy){var Fy=retrieve3(By.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(By,ha,Oy),0),zy=clone$3(By.node1.getLayout()),Hy=clone$3(By.node2.getLayout()),Gy,Wy=(zy[0]+Hy[0])/2,Uy=(zy[1]+Hy[1])/2;+Fy&&(Fy*=3,Gy=[Ey*Fy+Wy*(1-Fy),My*Fy+Uy*(1-Fy)]),By.setLayout([zy,Hy,Gy])})}}}var _layoutNodesBasedOn={value:function(ha,ua,Sa,ba,ka,_y,Ty){var Ay=0,Ey=Sa.getSum("value"),My=Math.PI*2/(Ey||Ty);ua.eachNode(function(Dy){var Iy=Dy.getValue("value"),Ly=My*(Ey?Iy:1)/2;Ay+=Ly,Dy.setLayout([ba*Math.cos(Ay)+ka,ba*Math.sin(Ay)+_y]),Ay+=Ly})},symbolSize:function(ha,ua,Sa,ba,ka,_y,Ty){var Ay=0;_symbolRadiansHalf.length=Ty;var Ey=getNodeGlobalScale(ha);ua.eachNode(function(Iy){var Ly=getSymbolSize(Iy);isNaN(Ly)&&(Ly=2),Ly<0&&(Ly=0),Ly*=Ey;var Py=Math.asin(Ly/2/ba);isNaN(Py)&&(Py=PI$2/2),_symbolRadiansHalf[Iy.dataIndex]=Py,Ay+=Py*2});var My=(2*PI$2-Ay)/Ty/2,Dy=0;ua.eachNode(function(Iy){var Ly=My+_symbolRadiansHalf[Iy.dataIndex];Dy+=Ly,(!Iy.getLayout()||!Iy.getLayout().fixed)&&Iy.setLayout([ba*Math.cos(Dy)+ka,ba*Math.sin(Dy)+_y]),Dy+=Ly})}};function rotateNodeLabel(ha,ua,Sa,ba){var ka=ha.getGraphicEl();if(ka){var _y=ha.getModel(),Ty=_y.get(["label","rotate"])||0,Ay=ka.getSymbolPath();if(ua){var Ey=ha.getLayout(),My=Math.atan2(Ey[1]-ba,Ey[0]-Sa);My<0&&(My=Math.PI*2+My);var Dy=Ey[0]<Sa;Dy&&(My=My-Math.PI);var Iy=Dy?"left":"right";Ay.setTextConfig({rotation:-My,position:Iy,origin:"center"});var Ly=Ay.ensureState("emphasis");extend(Ly.textConfig||(Ly.textConfig={}),{position:Iy})}else Ay.setTextConfig({rotation:Ty*=Math.PI/180})}}function graphCircularLayout(ha){ha.eachSeriesByType("graph",function(ua){ua.get("layout")==="circular"&&circularLayout(ua,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(ha,ua,Sa){for(var ba=ha,ka=ua,_y=Sa.rect,Ty=_y.width,Ay=_y.height,Ey=[_y.x+Ty/2,_y.y+Ay/2],My=Sa.gravity==null?.1:Sa.gravity,Dy=0;Dy<ba.length;Dy++){var Iy=ba[Dy];Iy.p||(Iy.p=create$2(Ty*(Math.random()-.5)+Ey[0],Ay*(Math.random()-.5)+Ey[1])),Iy.pp=clone$3(Iy.p),Iy.edges=null}var Ly=Sa.friction==null?.6:Sa.friction,Py=Ly,Ry,Vy;return{warmUp:function(){Py=Ly*.8},setFixed:function(Ny){ba[Ny].fixed=!0},setUnfixed:function(Ny){ba[Ny].fixed=!1},beforeStep:function(Ny){Ry=Ny},afterStep:function(Ny){Vy=Ny},step:function(Ny){Ry&&Ry(ba,ka);for(var By=[],Oy=ba.length,Fy=0;Fy<ka.length;Fy++){var zy=ka[Fy];if(!zy.ignoreForceLayout){var Hy=zy.n1,Gy=zy.n2;sub(By,Gy.p,Hy.p);var Wy=len(By)-zy.d,Uy=Gy.w/(Hy.w+Gy.w);isNaN(Uy)&&(Uy=0),normalize$3(By,By),!Hy.fixed&&scaleAndAdd(Hy.p,Hy.p,By,Uy*Wy*Py),!Gy.fixed&&scaleAndAdd(Gy.p,Gy.p,By,-(1-Uy)*Wy*Py)}}for(var Fy=0;Fy<Oy;Fy++){var Yy=ba[Fy];Yy.fixed||(sub(By,Ey,Yy.p),scaleAndAdd(Yy.p,Yy.p,By,My*Py))}for(var Fy=0;Fy<Oy;Fy++)for(var Hy=ba[Fy],jy=Fy+1;jy<Oy;jy++){var Gy=ba[jy];sub(By,Gy.p,Hy.p);var Wy=len(By);Wy===0&&(set$1(By,Math.random()-.5,Math.random()-.5),Wy=1);var Ky=(Hy.rep+Gy.rep)/Wy/Wy;!Hy.fixed&&scaleAndAdd(Hy.pp,Hy.pp,By,Ky),!Gy.fixed&&scaleAndAdd(Gy.pp,Gy.pp,By,-Ky)}for(var Xy=[],Fy=0;Fy<Oy;Fy++){var Yy=ba[Fy];Yy.fixed||(sub(Xy,Yy.p,Yy.pp),scaleAndAdd(Yy.p,Yy.p,Xy,Py),copy$1(Yy.pp,Yy.p))}Py=Py*.992;var Zy=Py<.01;Vy&&Vy(ba,ka,Zy),Ny&&Ny(Zy)}}}function graphForceLayout(ha){ha.eachSeriesByType("graph",function(ua){var Sa=ua.coordinateSystem;if(!(Sa&&Sa.type!=="view"))if(ua.get("layout")==="force"){var ba=ua.preservedPoints||{},ka=ua.getGraph(),_y=ka.data,Ty=ka.edgeData,Ay=ua.getModel("force"),Ey=Ay.get("initLayout");ua.preservedPoints?_y.each(function(Fy){var zy=_y.getId(Fy);_y.setItemLayout(Fy,ba[zy]||[NaN,NaN])}):!Ey||Ey==="none"?simpleLayout(ua):Ey==="circular"&&circularLayout(ua,"value");var My=_y.getDataExtent("value"),Dy=Ty.getDataExtent("value"),Iy=Ay.get("repulsion"),Ly=Ay.get("edgeLength"),Py=isArray$1(Iy)?Iy:[Iy,Iy],Ry=isArray$1(Ly)?Ly:[Ly,Ly];Ry=[Ry[1],Ry[0]];var Vy=_y.mapArray("value",function(Fy,zy){var Hy=_y.getItemLayout(zy),Gy=linearMap$2(Fy,My,Py);return isNaN(Gy)&&(Gy=(Py[0]+Py[1])/2),{w:Gy,rep:Gy,fixed:_y.getItemModel(zy).get("fixed"),p:!Hy||isNaN(Hy[0])||isNaN(Hy[1])?null:Hy}}),Ny=Ty.mapArray("value",function(Fy,zy){var Hy=ka.getEdgeByIndex(zy),Gy=linearMap$2(Fy,Dy,Ry);isNaN(Gy)&&(Gy=(Ry[0]+Ry[1])/2);var Wy=Hy.getModel(),Uy=retrieve3(Hy.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(Hy,ua,zy,!0),0);return{n1:Vy[Hy.node1.dataIndex],n2:Vy[Hy.node2.dataIndex],d:Gy,curveness:Uy,ignoreForceLayout:Wy.get("ignoreForceLayout")}}),By=Sa.getBoundingRect(),Oy=forceLayout(Vy,Ny,{rect:By,gravity:Ay.get("gravity"),friction:Ay.get("friction")});Oy.beforeStep(function(Fy,zy){for(var Hy=0,Gy=Fy.length;Hy<Gy;Hy++)Fy[Hy].fixed&&copy$1(Fy[Hy].p,ka.getNodeByIndex(Hy).getLayout())}),Oy.afterStep(function(Fy,zy,Hy){for(var Gy=0,Wy=Fy.length;Gy<Wy;Gy++)Fy[Gy].fixed||ka.getNodeByIndex(Gy).setLayout(Fy[Gy].p),ba[_y.getId(Gy)]=Fy[Gy].p;for(var Gy=0,Wy=zy.length;Gy<Wy;Gy++){var Uy=zy[Gy],Yy=ka.getEdgeByIndex(Gy),jy=Uy.n1.p,Ky=Uy.n2.p,Xy=Yy.getLayout();Xy=Xy?Xy.slice():[],Xy[0]=Xy[0]||[],Xy[1]=Xy[1]||[],copy$1(Xy[0],jy),copy$1(Xy[1],Ky),+Uy.curveness&&(Xy[2]=[(jy[0]+Ky[0])/2-(jy[1]-Ky[1])*Uy.curveness,(jy[1]+Ky[1])/2-(Ky[0]-jy[0])*Uy.curveness]),Yy.setLayout(Xy)}}),ua.forceLayout=Oy,ua.preservedPoints=ba,Oy.step()}else ua.forceLayout=null})}function getViewRect$3(ha,ua,Sa){var ba=extend(ha.getBoxLayoutParams(),{aspect:Sa});return getLayoutRect(ba,{width:ua.getWidth(),height:ua.getHeight()})}function createViewCoordSys(ha,ua){var Sa=[];return ha.eachSeriesByType("graph",function(ba){var ka=ba.get("coordinateSystem");if(!ka||ka==="view"){var _y=ba.getData(),Ty=_y.mapArray(function(Ny){var By=_y.getItemModel(Ny);return[+By.get("x"),+By.get("y")]}),Ay=[],Ey=[];fromPoints(Ty,Ay,Ey),Ey[0]-Ay[0]===0&&(Ey[0]+=1,Ay[0]-=1),Ey[1]-Ay[1]===0&&(Ey[1]+=1,Ay[1]-=1);var My=(Ey[0]-Ay[0])/(Ey[1]-Ay[1]),Dy=getViewRect$3(ba,ua,My);isNaN(My)&&(Ay=[Dy.x,Dy.y],Ey=[Dy.x+Dy.width,Dy.y+Dy.height]);var Iy=Ey[0]-Ay[0],Ly=Ey[1]-Ay[1],Py=Dy.width,Ry=Dy.height,Vy=ba.coordinateSystem=new View;Vy.zoomLimit=ba.get("scaleLimit"),Vy.setBoundingRect(Ay[0],Ay[1],Iy,Ly),Vy.setViewRect(Dy.x,Dy.y,Py,Ry),Vy.setCenter(ba.get("center"),ua),Vy.setZoom(ba.get("zoom")),Sa.push(Vy)}}),Sa}var straightLineProto=Line$1.prototype,bezierCurveProto=BezierCurve.prototype,StraightLineShape=function(){function ha(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return ha}();(function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua})(StraightLineShape);function isStraightLine(ha){return isNaN(+ha.cpx1)||isNaN(+ha.cpy1)}var ECLinePath=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba.type="ec-line",ba}return ua.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ua.prototype.getDefaultShape=function(){return new StraightLineShape},ua.prototype.buildPath=function(Sa,ba){isStraightLine(ba)?straightLineProto.buildPath.call(this,Sa,ba):bezierCurveProto.buildPath.call(this,Sa,ba)},ua.prototype.pointAt=function(Sa){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,Sa):bezierCurveProto.pointAt.call(this,Sa)},ua.prototype.tangentAt=function(Sa){var ba=this.shape,ka=isStraightLine(ba)?[ba.x2-ba.x1,ba.y2-ba.y1]:bezierCurveProto.tangentAt.call(this,Sa);return normalize$3(ka,ka)},ua}(Path),SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(ha){return"_"+ha+"Type"}function makeSymbolTypeValue(ha,ua,Sa){var ba=ua.getItemVisual(Sa,ha);if(!ba||ba==="none")return ba;var ka=ua.getItemVisual(Sa,ha+"Size"),_y=ua.getItemVisual(Sa,ha+"Rotate"),Ty=ua.getItemVisual(Sa,ha+"Offset"),Ay=ua.getItemVisual(Sa,ha+"KeepAspect"),Ey=normalizeSymbolSize(ka),My=normalizeSymbolOffset(Ty||0,Ey);return ba+Ey+My+(_y||"")+(Ay||"")}function createSymbol(ha,ua,Sa){var ba=ua.getItemVisual(Sa,ha);if(!(!ba||ba==="none")){var ka=ua.getItemVisual(Sa,ha+"Size"),_y=ua.getItemVisual(Sa,ha+"Rotate"),Ty=ua.getItemVisual(Sa,ha+"Offset"),Ay=ua.getItemVisual(Sa,ha+"KeepAspect"),Ey=normalizeSymbolSize(ka),My=normalizeSymbolOffset(Ty||0,Ey),Dy=createSymbol$1(ba,-Ey[0]/2+My[0],-Ey[1]/2+My[1],Ey[0],Ey[1],null,Ay);return Dy.__specifiedRotation=_y==null||isNaN(_y)?void 0:+_y*Math.PI/180||0,Dy.name=ha,Dy}}function createLine(ha){var ua=new ECLinePath({name:"line",subPixelOptimize:!0});return setLinePoints(ua.shape,ha),ua}function setLinePoints(ha,ua){ha.x1=ua[0][0],ha.y1=ua[0][1],ha.x2=ua[1][0],ha.y2=ua[1][1],ha.percent=1;var Sa=ua[2];Sa?(ha.cpx1=Sa[0],ha.cpy1=Sa[1]):(ha.cpx1=NaN,ha.cpy1=NaN)}var Line=function(ha){__extends(ua,ha);function ua(Sa,ba,ka){var _y=ha.call(this)||this;return _y._createLine(Sa,ba,ka),_y}return ua.prototype._createLine=function(Sa,ba,ka){var _y=Sa.hostModel,Ty=Sa.getItemLayout(ba),Ay=createLine(Ty);Ay.shape.percent=0,initProps(Ay,{shape:{percent:1}},_y,ba),this.add(Ay),each$f(SYMBOL_CATEGORIES,function(Ey){var My=createSymbol(Ey,Sa,ba);this.add(My),this[makeSymbolTypeKey(Ey)]=makeSymbolTypeValue(Ey,Sa,ba)},this),this._updateCommonStl(Sa,ba,ka)},ua.prototype.updateData=function(Sa,ba,ka){var _y=Sa.hostModel,Ty=this.childOfName("line"),Ay=Sa.getItemLayout(ba),Ey={shape:{}};setLinePoints(Ey.shape,Ay),updateProps$1(Ty,Ey,_y,ba),each$f(SYMBOL_CATEGORIES,function(My){var Dy=makeSymbolTypeValue(My,Sa,ba),Iy=makeSymbolTypeKey(My);if(this[Iy]!==Dy){this.remove(this.childOfName(My));var Ly=createSymbol(My,Sa,ba);this.add(Ly)}this[Iy]=Dy},this),this._updateCommonStl(Sa,ba,ka)},ua.prototype.getLinePath=function(){return this.childAt(0)},ua.prototype._updateCommonStl=function(Sa,ba,ka){var _y=Sa.hostModel,Ty=this.childOfName("line"),Ay=ka&&ka.emphasisLineStyle,Ey=ka&&ka.blurLineStyle,My=ka&&ka.selectLineStyle,Dy=ka&&ka.labelStatesModels,Iy=ka&&ka.emphasisDisabled,Ly=ka&&ka.focus,Py=ka&&ka.blurScope;if(!ka||Sa.hasItemOption){var Ry=Sa.getItemModel(ba),Vy=Ry.getModel("emphasis");Ay=Vy.getModel("lineStyle").getLineStyle(),Ey=Ry.getModel(["blur","lineStyle"]).getLineStyle(),My=Ry.getModel(["select","lineStyle"]).getLineStyle(),Iy=Vy.get("disabled"),Ly=Vy.get("focus"),Py=Vy.get("blurScope"),Dy=getLabelStatesModels(Ry)}var Ny=Sa.getItemVisual(ba,"style"),By=Ny.stroke;Ty.useStyle(Ny),Ty.style.fill=null,Ty.style.strokeNoScale=!0,Ty.ensureState("emphasis").style=Ay,Ty.ensureState("blur").style=Ey,Ty.ensureState("select").style=My,each$f(SYMBOL_CATEGORIES,function(Gy){var Wy=this.childOfName(Gy);if(Wy){Wy.setColor(By),Wy.style.opacity=Ny.opacity;for(var Uy=0;Uy<SPECIAL_STATES.length;Uy++){var Yy=SPECIAL_STATES[Uy],jy=Ty.getState(Yy);if(jy){var Ky=jy.style||{},Xy=Wy.ensureState(Yy),Zy=Xy.style||(Xy.style={});Ky.stroke!=null&&(Zy[Wy.__isEmptyBrush?"stroke":"fill"]=Ky.stroke),Ky.opacity!=null&&(Zy.opacity=Ky.opacity)}}Wy.markRedraw()}},this);var Oy=_y.getRawValue(ba);setLabelStyle(this,Dy,{labelDataIndex:ba,labelFetcher:{getFormattedLabel:function(Gy,Wy){return _y.getFormattedLabel(Gy,Wy,Sa.dataType)}},inheritColor:By||"#000",defaultOpacity:Ny.opacity,defaultText:(Oy==null?Sa.getName(ba):isFinite(Oy)?round$3(Oy):Oy)+""});var Fy=this.getTextContent();if(Fy){var zy=Dy.normal;Fy.__align=Fy.style.align,Fy.__verticalAlign=Fy.style.verticalAlign,Fy.__position=zy.get("position")||"middle";var Hy=zy.get("distance");isArray$1(Hy)||(Hy=[Hy,Hy]),Fy.__labelDistance=Hy}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,Ly,Py,Iy)},ua.prototype.highlight=function(){enterEmphasis(this)},ua.prototype.downplay=function(){leaveEmphasis(this)},ua.prototype.updateLayout=function(Sa,ba){this.setLinePoints(Sa.getItemLayout(ba))},ua.prototype.setLinePoints=function(Sa){var ba=this.childOfName("line");setLinePoints(ba.shape,Sa),ba.dirty()},ua.prototype.beforeUpdate=function(){var Sa=this,ba=Sa.childOfName("fromSymbol"),ka=Sa.childOfName("toSymbol"),_y=Sa.getTextContent();if(!ba&&!ka&&(!_y||_y.ignore))return;for(var Ty=1,Ay=this.parent;Ay;)Ay.scaleX&&(Ty/=Ay.scaleX),Ay=Ay.parent;var Ey=Sa.childOfName("line");if(!this.__dirty&&!Ey.__dirty)return;var My=Ey.shape.percent,Dy=Ey.pointAt(0),Iy=Ey.pointAt(My),Ly=sub([],Iy,Dy);normalize$3(Ly,Ly);function Py(jy,Ky){var Xy=jy.__specifiedRotation;if(Xy==null){var Zy=Ey.tangentAt(Ky);jy.attr("rotation",(Ky===1?-1:1)*Math.PI/2-Math.atan2(Zy[1],Zy[0]))}else jy.attr("rotation",Xy)}if(ba&&(ba.setPosition(Dy),Py(ba,0),ba.scaleX=ba.scaleY=Ty*My,ba.markRedraw()),ka&&(ka.setPosition(Iy),Py(ka,1),ka.scaleX=ka.scaleY=Ty*My,ka.markRedraw()),_y&&!_y.ignore){_y.x=_y.y=0,_y.originX=_y.originY=0;var Ry=void 0,Vy=void 0,Ny=_y.__labelDistance,By=Ny[0]*Ty,Oy=Ny[1]*Ty,Fy=My/2,zy=Ey.tangentAt(Fy),Hy=[zy[1],-zy[0]],Gy=Ey.pointAt(Fy);Hy[1]>0&&(Hy[0]=-Hy[0],Hy[1]=-Hy[1]);var Wy=zy[0]<0?-1:1;if(_y.__position!=="start"&&_y.__position!=="end"){var Uy=-Math.atan2(zy[1],zy[0]);Iy[0]<Dy[0]&&(Uy=Math.PI+Uy),_y.rotation=Uy}var Yy=void 0;switch(_y.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Yy=-Oy,Vy="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Yy=Oy,Vy="top";break;default:Yy=0,Vy="middle"}switch(_y.__position){case"end":_y.x=Ly[0]*By+Iy[0],_y.y=Ly[1]*Oy+Iy[1],Ry=Ly[0]>.8?"left":Ly[0]<-.8?"right":"center",Vy=Ly[1]>.8?"top":Ly[1]<-.8?"bottom":"middle";break;case"start":_y.x=-Ly[0]*By+Dy[0],_y.y=-Ly[1]*Oy+Dy[1],Ry=Ly[0]>.8?"right":Ly[0]<-.8?"left":"center",Vy=Ly[1]>.8?"bottom":Ly[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":_y.x=By*Wy+Dy[0],_y.y=Dy[1]+Yy,Ry=zy[0]<0?"right":"left",_y.originX=-By*Wy,_y.originY=-Yy;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":_y.x=Gy[0],_y.y=Gy[1]+Yy,Ry="center",_y.originY=-Yy;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":_y.x=-By*Wy+Iy[0],_y.y=Iy[1]+Yy,Ry=zy[0]>=0?"right":"left",_y.originX=By*Wy,_y.originY=-Yy;break}_y.scaleX=_y.scaleY=Ty,_y.setStyle({verticalAlign:_y.__verticalAlign||Vy,align:_y.__align||Ry})}},ua}(Group$3),LineDraw=function(){function ha(ua){this.group=new Group$3,this._LineCtor=ua||Line}return ha.prototype.updateData=function(ua){var Sa=this;this._progressiveEls=null;var ba=this,ka=ba.group,_y=ba._lineData;ba._lineData=ua,_y||ka.removeAll();var Ty=makeSeriesScope$1(ua);ua.diff(_y).add(function(Ay){Sa._doAdd(ua,Ay,Ty)}).update(function(Ay,Ey){Sa._doUpdate(_y,ua,Ey,Ay,Ty)}).remove(function(Ay){ka.remove(_y.getItemGraphicEl(Ay))}).execute()},ha.prototype.updateLayout=function(){var ua=this._lineData;ua&&ua.eachItemGraphicEl(function(Sa,ba){Sa.updateLayout(ua,ba)},this)},ha.prototype.incrementalPrepareUpdate=function(ua){this._seriesScope=makeSeriesScope$1(ua),this._lineData=null,this.group.removeAll()},ha.prototype.incrementalUpdate=function(ua,Sa){this._progressiveEls=[];function ba(Ay){!Ay.isGroup&&!isEffectObject(Ay)&&(Ay.incremental=!0,Ay.ensureState("emphasis").hoverLayer=!0)}for(var ka=ua.start;ka<ua.end;ka++){var _y=Sa.getItemLayout(ka);if(lineNeedsDraw(_y)){var Ty=new this._LineCtor(Sa,ka,this._seriesScope);Ty.traverse(ba),this.group.add(Ty),Sa.setItemGraphicEl(ka,Ty),this._progressiveEls.push(Ty)}}},ha.prototype.remove=function(){this.group.removeAll()},ha.prototype.eachRendered=function(ua){traverseElements(this._progressiveEls||this.group,ua)},ha.prototype._doAdd=function(ua,Sa,ba){var ka=ua.getItemLayout(Sa);if(lineNeedsDraw(ka)){var _y=new this._LineCtor(ua,Sa,ba);ua.setItemGraphicEl(Sa,_y),this.group.add(_y)}},ha.prototype._doUpdate=function(ua,Sa,ba,ka,_y){var Ty=ua.getItemGraphicEl(ba);if(!lineNeedsDraw(Sa.getItemLayout(ka))){this.group.remove(Ty);return}Ty?Ty.updateData(Sa,ka,_y):Ty=new this._LineCtor(Sa,ka,_y),Sa.setItemGraphicEl(ka,Ty),this.group.add(Ty)},ha}();function isEffectObject(ha){return ha.animators&&ha.animators.length>0}function makeSeriesScope$1(ha){var ua=ha.hostModel,Sa=ua.getModel("emphasis");return{lineStyle:ua.getModel("lineStyle").getLineStyle(),emphasisLineStyle:Sa.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:ua.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:ua.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:Sa.get("disabled"),blurScope:Sa.get("blurScope"),focus:Sa.get("focus"),labelStatesModels:getLabelStatesModels(ua)}}function isPointNaN(ha){return isNaN(ha[0])||isNaN(ha[1])}function lineNeedsDraw(ha){return ha&&!isPointNaN(ha[0])&&!isPointNaN(ha[1])}var v1$1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(ha,ua,Sa){for(var ba=ha[0],ka=ha[1],_y=ha[2],Ty=1/0,Ay,Ey=Sa*Sa,My=.1,Dy=.1;Dy<=.9;Dy+=.1){v1$1[0]=quadraticAt(ba[0],ka[0],_y[0],Dy),v1$1[1]=quadraticAt(ba[1],ka[1],_y[1],Dy);var Iy=mathAbs(v2DistSquare(v1$1,ua)-Ey);Iy<Ty&&(Ty=Iy,Ay=Dy)}for(var Ly=0;Ly<32;Ly++){var Py=Ay+My;v2[0]=quadraticAt(ba[0],ka[0],_y[0],Ay),v2[1]=quadraticAt(ba[1],ka[1],_y[1],Ay),v3[0]=quadraticAt(ba[0],ka[0],_y[0],Py),v3[1]=quadraticAt(ba[1],ka[1],_y[1],Py);var Iy=v2DistSquare(v2,ua)-Ey;if(mathAbs(Iy)<.01)break;var Ry=v2DistSquare(v3,ua)-Ey;My/=2,Iy<0?Ry>=0?Ay=Ay+My:Ay=Ay-My:Ry>=0?Ay=Ay-My:Ay=Ay+My}return Ay}function adjustEdge(ha,ua){var Sa=[],ba=quadraticSubdivide,ka=[[],[],[]],_y=[[],[]],Ty=[];ua/=2,ha.eachEdge(function(Ay,Ey){var My=Ay.getLayout(),Dy=Ay.getVisual("fromSymbol"),Iy=Ay.getVisual("toSymbol");My.__original||(My.__original=[clone$3(My[0]),clone$3(My[1])],My[2]&&My.__original.push(clone$3(My[2])));var Ly=My.__original;if(My[2]!=null){if(copy$1(ka[0],Ly[0]),copy$1(ka[1],Ly[2]),copy$1(ka[2],Ly[1]),Dy&&Dy!=="none"){var Py=getSymbolSize(Ay.node1),Ry=intersectCurveCircle(ka,Ly[0],Py*ua);ba(ka[0][0],ka[1][0],ka[2][0],Ry,Sa),ka[0][0]=Sa[3],ka[1][0]=Sa[4],ba(ka[0][1],ka[1][1],ka[2][1],Ry,Sa),ka[0][1]=Sa[3],ka[1][1]=Sa[4]}if(Iy&&Iy!=="none"){var Py=getSymbolSize(Ay.node2),Ry=intersectCurveCircle(ka,Ly[1],Py*ua);ba(ka[0][0],ka[1][0],ka[2][0],Ry,Sa),ka[1][0]=Sa[1],ka[2][0]=Sa[2],ba(ka[0][1],ka[1][1],ka[2][1],Ry,Sa),ka[1][1]=Sa[1],ka[2][1]=Sa[2]}copy$1(My[0],ka[0]),copy$1(My[1],ka[2]),copy$1(My[2],ka[1])}else{if(copy$1(_y[0],Ly[0]),copy$1(_y[1],Ly[1]),sub(Ty,_y[1],_y[0]),normalize$3(Ty,Ty),Dy&&Dy!=="none"){var Py=getSymbolSize(Ay.node1);scaleAndAdd$1(_y[0],_y[0],Ty,Py*ua)}if(Iy&&Iy!=="none"){var Py=getSymbolSize(Ay.node2);scaleAndAdd$1(_y[1],_y[1],Ty,-Py*ua)}copy$1(My[0],_y[0]),copy$1(My[1],_y[1])}})}function isViewCoordSys(ha){return ha.type==="view"}var GraphView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(Sa,ba){var ka=new SymbolDraw,_y=new LineDraw,Ty=this.group;this._controller=new RoamController(ba.getZr()),this._controllerHost={target:Ty},Ty.add(ka.group),Ty.add(_y.group),this._symbolDraw=ka,this._lineDraw=_y,this._firstRender=!0},ua.prototype.render=function(Sa,ba,ka){var _y=this,Ty=Sa.coordinateSystem;this._model=Sa;var Ay=this._symbolDraw,Ey=this._lineDraw,My=this.group;if(isViewCoordSys(Ty)){var Dy={x:Ty.x,y:Ty.y,scaleX:Ty.scaleX,scaleY:Ty.scaleY};this._firstRender?My.attr(Dy):updateProps$1(My,Dy,Sa)}adjustEdge(Sa.getGraph(),getNodeGlobalScale(Sa));var Iy=Sa.getData();Ay.updateData(Iy);var Ly=Sa.getEdgeData();Ey.updateData(Ly),this._updateNodeAndLinkScale(),this._updateController(Sa,ba,ka),clearTimeout(this._layoutTimeout);var Py=Sa.forceLayout,Ry=Sa.get(["force","layoutAnimation"]);Py&&this._startForceLayoutIteration(Py,Ry);var Vy=Sa.get("layout");Iy.graph.eachNode(function(Fy){var zy=Fy.dataIndex,Hy=Fy.getGraphicEl(),Gy=Fy.getModel();if(Hy){Hy.off("drag").off("dragend");var Wy=Gy.get("draggable");Wy&&Hy.on("drag",function(Yy){switch(Vy){case"force":Py.warmUp(),!_y._layouting&&_y._startForceLayoutIteration(Py,Ry),Py.setFixed(zy),Iy.setItemLayout(zy,[Hy.x,Hy.y]);break;case"circular":Iy.setItemLayout(zy,[Hy.x,Hy.y]),Fy.setLayout({fixed:!0},!0),circularLayout(Sa,"symbolSize",Fy,[Yy.offsetX,Yy.offsetY]),_y.updateLayout(Sa);break;case"none":default:Iy.setItemLayout(zy,[Hy.x,Hy.y]),simpleLayoutEdge(Sa.getGraph(),Sa),_y.updateLayout(Sa);break}}).on("dragend",function(){Py&&Py.setUnfixed(zy)}),Hy.setDraggable(Wy,!!Gy.get("cursor"));var Uy=Gy.get(["emphasis","focus"]);Uy==="adjacency"&&(getECData(Hy).focus=Fy.getAdjacentDataIndices())}}),Iy.graph.eachEdge(function(Fy){var zy=Fy.getGraphicEl(),Hy=Fy.getModel().get(["emphasis","focus"]);zy&&Hy==="adjacency"&&(getECData(zy).focus={edge:[Fy.dataIndex],node:[Fy.node1.dataIndex,Fy.node2.dataIndex]})});var Ny=Sa.get("layout")==="circular"&&Sa.get(["circular","rotateLabel"]),By=Iy.getLayout("cx"),Oy=Iy.getLayout("cy");Iy.graph.eachNode(function(Fy){rotateNodeLabel(Fy,Ny,By,Oy)}),this._firstRender=!1},ua.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},ua.prototype._startForceLayoutIteration=function(Sa,ba){var ka=this;(function _y(){Sa.step(function(Ty){ka.updateLayout(ka._model),(ka._layouting=!Ty)&&(ba?ka._layoutTimeout=setTimeout(_y,16):_y())})})()},ua.prototype._updateController=function(Sa,ba,ka){var _y=this,Ty=this._controller,Ay=this._controllerHost,Ey=this.group;if(Ty.setPointerChecker(function(My,Dy,Iy){var Ly=Ey.getBoundingRect();return Ly.applyTransform(Ey.transform),Ly.contain(Dy,Iy)&&!onIrrelevantElement(My,ka,Sa)}),!isViewCoordSys(Sa.coordinateSystem)){Ty.disable();return}Ty.enable(Sa.get("roam")),Ay.zoomLimit=Sa.get("scaleLimit"),Ay.zoom=Sa.coordinateSystem.getZoom(),Ty.off("pan").off("zoom").on("pan",function(My){updateViewOnPan(Ay,My.dx,My.dy),ka.dispatchAction({seriesId:Sa.id,type:"graphRoam",dx:My.dx,dy:My.dy})}).on("zoom",function(My){updateViewOnZoom(Ay,My.scale,My.originX,My.originY),ka.dispatchAction({seriesId:Sa.id,type:"graphRoam",zoom:My.scale,originX:My.originX,originY:My.originY}),_y._updateNodeAndLinkScale(),adjustEdge(Sa.getGraph(),getNodeGlobalScale(Sa)),_y._lineDraw.updateLayout(),ka.updateLabelLayout()})},ua.prototype._updateNodeAndLinkScale=function(){var Sa=this._model,ba=Sa.getData(),ka=getNodeGlobalScale(Sa);ba.eachItemGraphicEl(function(_y,Ty){_y&&_y.setSymbolScale(ka)})},ua.prototype.updateLayout=function(Sa){adjustEdge(Sa.getGraph(),getNodeGlobalScale(Sa)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},ua.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},ua.type="graph",ua}(ChartView);function generateNodeKey(ha){return"_EC_"+ha}var Graph=function(){function ha(ua){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=ua||!1}return ha.prototype.isDirected=function(){return this._directed},ha.prototype.addNode=function(ua,Sa){ua=ua==null?""+Sa:""+ua;var ba=this._nodesMap;if(!ba[generateNodeKey(ua)]){var ka=new GraphNode(ua,Sa);return ka.hostGraph=this,this.nodes.push(ka),ba[generateNodeKey(ua)]=ka,ka}},ha.prototype.getNodeByIndex=function(ua){var Sa=this.data.getRawIndex(ua);return this.nodes[Sa]},ha.prototype.getNodeById=function(ua){return this._nodesMap[generateNodeKey(ua)]},ha.prototype.addEdge=function(ua,Sa,ba){var ka=this._nodesMap,_y=this._edgesMap;if(isNumber(ua)&&(ua=this.nodes[ua]),isNumber(Sa)&&(Sa=this.nodes[Sa]),ua instanceof GraphNode||(ua=ka[generateNodeKey(ua)]),Sa instanceof GraphNode||(Sa=ka[generateNodeKey(Sa)]),!(!ua||!Sa)){var Ty=ua.id+"-"+Sa.id,Ay=new GraphEdge(ua,Sa,ba);return Ay.hostGraph=this,this._directed&&(ua.outEdges.push(Ay),Sa.inEdges.push(Ay)),ua.edges.push(Ay),ua!==Sa&&Sa.edges.push(Ay),this.edges.push(Ay),_y[Ty]=Ay,Ay}},ha.prototype.getEdgeByIndex=function(ua){var Sa=this.edgeData.getRawIndex(ua);return this.edges[Sa]},ha.prototype.getEdge=function(ua,Sa){ua instanceof GraphNode&&(ua=ua.id),Sa instanceof GraphNode&&(Sa=Sa.id);var ba=this._edgesMap;return this._directed?ba[ua+"-"+Sa]:ba[ua+"-"+Sa]||ba[Sa+"-"+ua]},ha.prototype.eachNode=function(ua,Sa){for(var ba=this.nodes,ka=ba.length,_y=0;_y<ka;_y++)ba[_y].dataIndex>=0&&ua.call(Sa,ba[_y],_y)},ha.prototype.eachEdge=function(ua,Sa){for(var ba=this.edges,ka=ba.length,_y=0;_y<ka;_y++)ba[_y].dataIndex>=0&&ba[_y].node1.dataIndex>=0&&ba[_y].node2.dataIndex>=0&&ua.call(Sa,ba[_y],_y)},ha.prototype.breadthFirstTraverse=function(ua,Sa,ba,ka){if(Sa instanceof GraphNode||(Sa=this._nodesMap[generateNodeKey(Sa)]),!!Sa){for(var _y=ba==="out"?"outEdges":ba==="in"?"inEdges":"edges",Ty=0;Ty<this.nodes.length;Ty++)this.nodes[Ty].__visited=!1;if(!ua.call(ka,Sa,null))for(var Ay=[Sa];Ay.length;)for(var Ey=Ay.shift(),My=Ey[_y],Ty=0;Ty<My.length;Ty++){var Dy=My[Ty],Iy=Dy.node1===Ey?Dy.node2:Dy.node1;if(!Iy.__visited){if(ua.call(ka,Iy,Ey))return;Ay.push(Iy),Iy.__visited=!0}}}},ha.prototype.update=function(){for(var ua=this.data,Sa=this.edgeData,ba=this.nodes,ka=this.edges,_y=0,Ty=ba.length;_y<Ty;_y++)ba[_y].dataIndex=-1;for(var _y=0,Ty=ua.count();_y<Ty;_y++)ba[ua.getRawIndex(_y)].dataIndex=_y;Sa.filterSelf(function(Ay){var Ey=ka[Sa.getRawIndex(Ay)];return Ey.node1.dataIndex>=0&&Ey.node2.dataIndex>=0});for(var _y=0,Ty=ka.length;_y<Ty;_y++)ka[_y].dataIndex=-1;for(var _y=0,Ty=Sa.count();_y<Ty;_y++)ka[Sa.getRawIndex(_y)].dataIndex=_y},ha.prototype.clone=function(){for(var ua=new ha(this._directed),Sa=this.nodes,ba=this.edges,ka=0;ka<Sa.length;ka++)ua.addNode(Sa[ka].id,Sa[ka].dataIndex);for(var ka=0;ka<ba.length;ka++){var _y=ba[ka];ua.addEdge(_y.node1.id,_y.node2.id,_y.dataIndex)}return ua},ha}(),GraphNode=function(){function ha(ua,Sa){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=ua??"",this.dataIndex=Sa??-1}return ha.prototype.degree=function(){return this.edges.length},ha.prototype.inDegree=function(){return this.inEdges.length},ha.prototype.outDegree=function(){return this.outEdges.length},ha.prototype.getModel=function(ua){if(!(this.dataIndex<0)){var Sa=this.hostGraph,ba=Sa.data.getItemModel(this.dataIndex);return ba.getModel(ua)}},ha.prototype.getAdjacentDataIndices=function(){for(var ua={edge:[],node:[]},Sa=0;Sa<this.edges.length;Sa++){var ba=this.edges[Sa];ba.dataIndex<0||(ua.edge.push(ba.dataIndex),ua.node.push(ba.node1.dataIndex,ba.node2.dataIndex))}return ua},ha.prototype.getTrajectoryDataIndices=function(){for(var ua=createHashMap(),Sa=createHashMap(),ba=0;ba<this.edges.length;ba++){var ka=this.edges[ba];if(!(ka.dataIndex<0)){ua.set(ka.dataIndex,!0);for(var _y=[ka.node1],Ty=[ka.node2],Ay=0;Ay<_y.length;){var Ey=_y[Ay];Ay++,Sa.set(Ey.dataIndex,!0);for(var My=0;My<Ey.inEdges.length;My++)ua.set(Ey.inEdges[My].dataIndex,!0),_y.push(Ey.inEdges[My].node1)}for(Ay=0;Ay<Ty.length;){var Dy=Ty[Ay];Ay++,Sa.set(Dy.dataIndex,!0);for(var My=0;My<Dy.outEdges.length;My++)ua.set(Dy.outEdges[My].dataIndex,!0),Ty.push(Dy.outEdges[My].node2)}}}return{edge:ua.keys(),node:Sa.keys()}},ha}(),GraphEdge=function(){function ha(ua,Sa,ba){this.dataIndex=-1,this.node1=ua,this.node2=Sa,this.dataIndex=ba??-1}return ha.prototype.getModel=function(ua){if(!(this.dataIndex<0)){var Sa=this.hostGraph,ba=Sa.edgeData.getItemModel(this.dataIndex);return ba.getModel(ua)}},ha.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},ha.prototype.getTrajectoryDataIndices=function(){var ua=createHashMap(),Sa=createHashMap();ua.set(this.dataIndex,!0);for(var ba=[this.node1],ka=[this.node2],_y=0;_y<ba.length;){var Ty=ba[_y];_y++,Sa.set(Ty.dataIndex,!0);for(var Ay=0;Ay<Ty.inEdges.length;Ay++)ua.set(Ty.inEdges[Ay].dataIndex,!0),ba.push(Ty.inEdges[Ay].node1)}for(_y=0;_y<ka.length;){var Ey=ka[_y];_y++,Sa.set(Ey.dataIndex,!0);for(var Ay=0;Ay<Ey.outEdges.length;Ay++)ua.set(Ey.outEdges[Ay].dataIndex,!0),ka.push(Ey.outEdges[Ay].node2)}return{edge:ua.keys(),node:Sa.keys()}},ha}();function createGraphDataProxyMixin(ha,ua){return{getValue:function(Sa){var ba=this[ha][ua];return ba.getStore().get(ba.getDimensionIndex(Sa||"value"),this.dataIndex)},setVisual:function(Sa,ba){this.dataIndex>=0&&this[ha][ua].setItemVisual(this.dataIndex,Sa,ba)},getVisual:function(Sa){return this[ha][ua].getItemVisual(this.dataIndex,Sa)},setLayout:function(Sa,ba){this.dataIndex>=0&&this[ha][ua].setItemLayout(this.dataIndex,Sa,ba)},getLayout:function(){return this[ha][ua].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[ha][ua].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[ha][ua].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));function createGraphFromNodeEdge(ha,ua,Sa,ba,ka){for(var _y=new Graph(ba),Ty=0;Ty<ha.length;Ty++)_y.addNode(retrieve(ha[Ty].id,ha[Ty].name,Ty),Ty);for(var Ay=[],Ey=[],My=0,Ty=0;Ty<ua.length;Ty++){var Dy=ua[Ty],Iy=Dy.source,Ly=Dy.target;_y.addEdge(Iy,Ly,My)&&(Ey.push(Dy),Ay.push(retrieve(convertOptionIdName(Dy.id,null),Iy+" > "+Ly)),My++)}var Py=Sa.get("coordinateSystem"),Ry;if(Py==="cartesian2d"||Py==="polar")Ry=createSeriesData(ha,Sa);else{var Vy=CoordinateSystemManager.get(Py),Ny=Vy?Vy.dimensions||[]:[];indexOf(Ny,"value")<0&&Ny.concat(["value"]);var By=prepareSeriesDataSchema(ha,{coordDimensions:Ny,encodeDefine:Sa.getEncode()}).dimensions;Ry=new SeriesData(By,Sa),Ry.initData(ha)}var Oy=new SeriesData(["value"],Sa);return Oy.initData(Ey,Ay),ka&&ka(Ry,Oy),linkSeriesData({mainData:Ry,struct:_y,structAttr:"graph",datas:{node:Ry,edge:Oy},datasAttr:{node:"data",edge:"edgeData"}}),_y.update(),_y}var GraphSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.hasSymbolVisual=!0,Sa}return ua.prototype.init=function(Sa){ha.prototype.init.apply(this,arguments);var ba=this;function ka(){return ba._categoriesData}this.legendVisualProvider=new LegendVisualProvider(ka,ka),this.fillDataTextStyle(Sa.edges||Sa.links),this._updateCategoriesData()},ua.prototype.mergeOption=function(Sa){ha.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(Sa.edges||Sa.links),this._updateCategoriesData()},ua.prototype.mergeDefaultAndTheme=function(Sa){ha.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(Sa,"edgeLabel",["show"])},ua.prototype.getInitialData=function(Sa,ba){var ka=Sa.edges||Sa.links||[],_y=Sa.data||Sa.nodes||[],Ty=this;if(_y&&ka){initCurvenessList(this);var Ay=createGraphFromNodeEdge(_y,ka,this,!0,Ey);return each$f(Ay.edges,function(My){createEdgeMapForCurveness(My.node1,My.node2,this,My.dataIndex)},this),Ay.data}function Ey(My,Dy){My.wrapMethod("getItemModel",function(Ry){var Vy=Ty._categoriesModels,Ny=Ry.getShallow("category"),By=Vy[Ny];return By&&(By.parentModel=Ry.parentModel,Ry.parentModel=By),Ry});var Iy=Model.prototype.getModel;function Ly(Ry,Vy){var Ny=Iy.call(this,Ry,Vy);return Ny.resolveParentPath=Py,Ny}Dy.wrapMethod("getItemModel",function(Ry){return Ry.resolveParentPath=Py,Ry.getModel=Ly,Ry});function Py(Ry){if(Ry&&(Ry[0]==="label"||Ry[1]==="label")){var Vy=Ry.slice();return Ry[0]==="label"?Vy[0]="edgeLabel":Ry[1]==="label"&&(Vy[1]="edgeLabel"),Vy}return Ry}}},ua.prototype.getGraph=function(){return this.getData().graph},ua.prototype.getEdgeData=function(){return this.getGraph().edgeData},ua.prototype.getCategoriesData=function(){return this._categoriesData},ua.prototype.formatTooltip=function(Sa,ba,ka){if(ka==="edge"){var _y=this.getData(),Ty=this.getDataParams(Sa,ka),Ay=_y.graph.getEdgeByIndex(Sa),Ey=_y.getName(Ay.node1.dataIndex),My=_y.getName(Ay.node2.dataIndex),Dy=[];return Ey!=null&&Dy.push(Ey),My!=null&&Dy.push(My),createTooltipMarkup("nameValue",{name:Dy.join(" > "),value:Ty.value,noValue:Ty.value==null})}var Iy=defaultSeriesFormatTooltip({series:this,dataIndex:Sa,multipleSeries:ba});return Iy},ua.prototype._updateCategoriesData=function(){var Sa=map$1(this.option.categories||[],function(ka){return ka.value!=null?ka:extend({value:0},ka)}),ba=new SeriesData(["value"],this);ba.initData(Sa),this._categoriesData=ba,this._categoriesModels=ba.mapArray(function(ka){return ba.getItemModel(ka)})},ua.prototype.setZoom=function(Sa){this.option.zoom=Sa},ua.prototype.setCenter=function(Sa){this.option.center=Sa},ua.prototype.isAnimationEnabled=function(){return ha.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},ua.type="series.graph",ua.dependencies=["grid","polar","geo","singleAxis","calendar"],ua.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},ua}(SeriesModel),actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F(ha){ha.registerChartView(GraphView),ha.registerSeriesModel(GraphSeriesModel),ha.registerProcessor(categoryFilter),ha.registerVisual(categoryVisual),ha.registerVisual(graphEdgeVisual),ha.registerLayout(graphSimpleLayout),ha.registerLayout(ha.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),ha.registerLayout(graphForceLayout),ha.registerCoordinateSystem("graphView",{dimensions:View.dimensions,create:createViewCoordSys}),ha.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),ha.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),ha.registerAction(actionInfo$1,function(ua,Sa,ba){Sa.eachComponent({mainType:"series",query:ua},function(ka){var _y=ka.coordinateSystem,Ty=updateCenterAndZoom(_y,ua,void 0,ba);ka.setCenter&&ka.setCenter(Ty.center),ka.setZoom&&ka.setZoom(Ty.zoom)})})}var PointerShape=function(){function ha(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return ha}(),PointerPath=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba.type="pointer",ba}return ua.prototype.getDefaultShape=function(){return new PointerShape},ua.prototype.buildPath=function(Sa,ba){var ka=Math.cos,_y=Math.sin,Ty=ba.r,Ay=ba.width,Ey=ba.angle,My=ba.x-ka(Ey)*Ay*(Ay>=Ty/3?1:2),Dy=ba.y-_y(Ey)*Ay*(Ay>=Ty/3?1:2);Ey=ba.angle-Math.PI/2,Sa.moveTo(My,Dy),Sa.lineTo(ba.x+ka(Ey)*Ay,ba.y+_y(Ey)*Ay),Sa.lineTo(ba.x+ka(ba.angle)*Ty,ba.y+_y(ba.angle)*Ty),Sa.lineTo(ba.x-ka(Ey)*Ay,ba.y-_y(Ey)*Ay),Sa.lineTo(My,Dy)},ua}(Path);function parsePosition(ha,ua){var Sa=ha.get("center"),ba=ua.getWidth(),ka=ua.getHeight(),_y=Math.min(ba,ka),Ty=parsePercent(Sa[0],ua.getWidth()),Ay=parsePercent(Sa[1],ua.getHeight()),Ey=parsePercent(ha.get("radius"),_y/2);return{cx:Ty,cy:Ay,r:Ey}}function formatLabel(ha,ua){var Sa=ha==null?"":ha+"";return ua&&(isString(ua)?Sa=ua.replace("{value}",Sa):isFunction(ua)&&(Sa=ua(ha))),Sa}var GaugeView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){this.group.removeAll();var _y=Sa.get(["axisLine","lineStyle","color"]),Ty=parsePosition(Sa,ka);this._renderMain(Sa,ba,ka,_y,Ty),this._data=Sa.getData()},ua.prototype.dispose=function(){},ua.prototype._renderMain=function(Sa,ba,ka,_y,Ty){var Ay=this.group,Ey=Sa.get("clockwise"),My=-Sa.get("startAngle")/180*Math.PI,Dy=-Sa.get("endAngle")/180*Math.PI,Iy=Sa.getModel("axisLine"),Ly=Iy.get("roundCap"),Py=Ly?SausagePath:Sector,Ry=Iy.get("show"),Vy=Iy.getModel("lineStyle"),Ny=Vy.get("width"),By=[My,Dy];normalizeArcAngles(By,!Ey),My=By[0],Dy=By[1];for(var Oy=Dy-My,Fy=My,zy=[],Hy=0;Ry&&Hy<_y.length;Hy++){var Gy=Math.min(Math.max(_y[Hy][0],0),1);Dy=My+Oy*Gy;var Wy=new Py({shape:{startAngle:Fy,endAngle:Dy,cx:Ty.cx,cy:Ty.cy,clockwise:Ey,r0:Ty.r-Ny,r:Ty.r},silent:!0});Wy.setStyle({fill:_y[Hy][1]}),Wy.setStyle(Vy.getLineStyle(["color","width"])),zy.push(Wy),Fy=Dy}zy.reverse(),each$f(zy,function(Yy){return Ay.add(Yy)});var Uy=function(Yy){if(Yy<=0)return _y[0][1];var jy;for(jy=0;jy<_y.length;jy++)if(_y[jy][0]>=Yy&&(jy===0?0:_y[jy-1][0])<Yy)return _y[jy][1];return _y[jy-1][1]};this._renderTicks(Sa,ba,ka,Uy,Ty,My,Dy,Ey,Ny),this._renderTitleAndDetail(Sa,ba,ka,Uy,Ty),this._renderAnchor(Sa,Ty),this._renderPointer(Sa,ba,ka,Uy,Ty,My,Dy,Ey,Ny)},ua.prototype._renderTicks=function(Sa,ba,ka,_y,Ty,Ay,Ey,My,Dy){for(var Iy=this.group,Ly=Ty.cx,Py=Ty.cy,Ry=Ty.r,Vy=+Sa.get("min"),Ny=+Sa.get("max"),By=Sa.getModel("splitLine"),Oy=Sa.getModel("axisTick"),Fy=Sa.getModel("axisLabel"),zy=Sa.get("splitNumber"),Hy=Oy.get("splitNumber"),Gy=parsePercent(By.get("length"),Ry),Wy=parsePercent(Oy.get("length"),Ry),Uy=Ay,Yy=(Ey-Ay)/zy,jy=Yy/Hy,Ky=By.getModel("lineStyle").getLineStyle(),Xy=Oy.getModel("lineStyle").getLineStyle(),Zy=By.get("distance"),Jy,t_,Qy=0;Qy<=zy;Qy++){if(Jy=Math.cos(Uy),t_=Math.sin(Uy),By.get("show")){var r_=Zy?Zy+Dy:Dy,i_=new Line$1({shape:{x1:Jy*(Ry-r_)+Ly,y1:t_*(Ry-r_)+Py,x2:Jy*(Ry-Gy-r_)+Ly,y2:t_*(Ry-Gy-r_)+Py},style:Ky,silent:!0});Ky.stroke==="auto"&&i_.setStyle({stroke:_y(Qy/zy)}),Iy.add(i_)}if(Fy.get("show")){var r_=Fy.get("distance")+Zy,l_=formatLabel(round$3(Qy/zy*(Ny-Vy)+Vy),Fy.get("formatter")),c_=_y(Qy/zy),d_=Jy*(Ry-Gy-r_)+Ly,f_=t_*(Ry-Gy-r_)+Py,m_=Fy.get("rotate"),b_=0;m_==="radial"?(b_=-Uy+2*Math.PI,b_>Math.PI/2&&(b_+=Math.PI)):m_==="tangential"?b_=-Uy-Math.PI/2:isNumber(m_)&&(b_=m_*Math.PI/180),b_===0?Iy.add(new ZRText({style:createTextStyle(Fy,{text:l_,x:d_,y:f_,verticalAlign:t_<-.8?"top":t_>.8?"bottom":"middle",align:Jy<-.4?"left":Jy>.4?"right":"center"},{inheritColor:c_}),silent:!0})):Iy.add(new ZRText({style:createTextStyle(Fy,{text:l_,x:d_,y:f_,verticalAlign:"middle",align:"center"},{inheritColor:c_}),silent:!0,originX:d_,originY:f_,rotation:b_}))}if(Oy.get("show")&&Qy!==zy){var r_=Oy.get("distance");r_=r_?r_+Dy:Dy;for(var $_=0;$_<=Hy;$_++){Jy=Math.cos(Uy),t_=Math.sin(Uy);var A_=new Line$1({shape:{x1:Jy*(Ry-r_)+Ly,y1:t_*(Ry-r_)+Py,x2:Jy*(Ry-Wy-r_)+Ly,y2:t_*(Ry-Wy-r_)+Py},silent:!0,style:Xy});Xy.stroke==="auto"&&A_.setStyle({stroke:_y((Qy+$_/Hy)/zy)}),Iy.add(A_),Uy+=jy}Uy-=jy}else Uy+=Yy}},ua.prototype._renderPointer=function(Sa,ba,ka,_y,Ty,Ay,Ey,My,Dy){var Iy=this.group,Ly=this._data,Py=this._progressEls,Ry=[],Vy=Sa.get(["pointer","show"]),Ny=Sa.getModel("progress"),By=Ny.get("show"),Oy=Sa.getData(),Fy=Oy.mapDimension("value"),zy=+Sa.get("min"),Hy=+Sa.get("max"),Gy=[zy,Hy],Wy=[Ay,Ey];function Uy(jy,Ky){var Xy=Oy.getItemModel(jy),Zy=Xy.getModel("pointer"),Jy=parsePercent(Zy.get("width"),Ty.r),t_=parsePercent(Zy.get("length"),Ty.r),Qy=Sa.get(["pointer","icon"]),r_=Zy.get("offsetCenter"),i_=parsePercent(r_[0],Ty.r),l_=parsePercent(r_[1],Ty.r),c_=Zy.get("keepAspect"),d_;return Qy?d_=createSymbol$1(Qy,i_-Jy/2,l_-t_,Jy,t_,null,c_):d_=new PointerPath({shape:{angle:-Math.PI/2,width:Jy,r:t_,x:i_,y:l_}}),d_.rotation=-(Ky+Math.PI/2),d_.x=Ty.cx,d_.y=Ty.cy,d_}function Yy(jy,Ky){var Xy=Ny.get("roundCap"),Zy=Xy?SausagePath:Sector,Jy=Ny.get("overlap"),t_=Jy?Ny.get("width"):Dy/Oy.count(),Qy=Jy?Ty.r-t_:Ty.r-(jy+1)*t_,r_=Jy?Ty.r:Ty.r-jy*t_,i_=new Zy({shape:{startAngle:Ay,endAngle:Ky,cx:Ty.cx,cy:Ty.cy,clockwise:My,r0:Qy,r:r_}});return Jy&&(i_.z2=linearMap$2(Oy.get(Fy,jy),[zy,Hy],[100,0],!0)),i_}(By||Vy)&&(Oy.diff(Ly).add(function(jy){var Ky=Oy.get(Fy,jy);if(Vy){var Xy=Uy(jy,Ay);initProps(Xy,{rotation:-((isNaN(+Ky)?Wy[0]:linearMap$2(Ky,Gy,Wy,!0))+Math.PI/2)},Sa),Iy.add(Xy),Oy.setItemGraphicEl(jy,Xy)}if(By){var Zy=Yy(jy,Ay),Jy=Ny.get("clip");initProps(Zy,{shape:{endAngle:linearMap$2(Ky,Gy,Wy,Jy)}},Sa),Iy.add(Zy),setCommonECData(Sa.seriesIndex,Oy.dataType,jy,Zy),Ry[jy]=Zy}}).update(function(jy,Ky){var Xy=Oy.get(Fy,jy);if(Vy){var Zy=Ly.getItemGraphicEl(Ky),Jy=Zy?Zy.rotation:Ay,t_=Uy(jy,Jy);t_.rotation=Jy,updateProps$1(t_,{rotation:-((isNaN(+Xy)?Wy[0]:linearMap$2(Xy,Gy,Wy,!0))+Math.PI/2)},Sa),Iy.add(t_),Oy.setItemGraphicEl(jy,t_)}if(By){var Qy=Py[Ky],r_=Qy?Qy.shape.endAngle:Ay,i_=Yy(jy,r_),l_=Ny.get("clip");updateProps$1(i_,{shape:{endAngle:linearMap$2(Xy,Gy,Wy,l_)}},Sa),Iy.add(i_),setCommonECData(Sa.seriesIndex,Oy.dataType,jy,i_),Ry[jy]=i_}}).execute(),Oy.each(function(jy){var Ky=Oy.getItemModel(jy),Xy=Ky.getModel("emphasis"),Zy=Xy.get("focus"),Jy=Xy.get("blurScope"),t_=Xy.get("disabled");if(Vy){var Qy=Oy.getItemGraphicEl(jy),r_=Oy.getItemVisual(jy,"style"),i_=r_.fill;if(Qy instanceof ZRImage){var l_=Qy.style;Qy.useStyle(extend({image:l_.image,x:l_.x,y:l_.y,width:l_.width,height:l_.height},r_))}else Qy.useStyle(r_),Qy.type!=="pointer"&&Qy.setColor(i_);Qy.setStyle(Ky.getModel(["pointer","itemStyle"]).getItemStyle()),Qy.style.fill==="auto"&&Qy.setStyle("fill",_y(linearMap$2(Oy.get(Fy,jy),Gy,[0,1],!0))),Qy.z2EmphasisLift=0,setStatesStylesFromModel(Qy,Ky),toggleHoverEmphasis(Qy,Zy,Jy,t_)}if(By){var c_=Ry[jy];c_.useStyle(Oy.getItemVisual(jy,"style")),c_.setStyle(Ky.getModel(["progress","itemStyle"]).getItemStyle()),c_.z2EmphasisLift=0,setStatesStylesFromModel(c_,Ky),toggleHoverEmphasis(c_,Zy,Jy,t_)}}),this._progressEls=Ry)},ua.prototype._renderAnchor=function(Sa,ba){var ka=Sa.getModel("anchor"),_y=ka.get("show");if(_y){var Ty=ka.get("size"),Ay=ka.get("icon"),Ey=ka.get("offsetCenter"),My=ka.get("keepAspect"),Dy=createSymbol$1(Ay,ba.cx-Ty/2+parsePercent(Ey[0],ba.r),ba.cy-Ty/2+parsePercent(Ey[1],ba.r),Ty,Ty,null,My);Dy.z2=ka.get("showAbove")?1:0,Dy.setStyle(ka.getModel("itemStyle").getItemStyle()),this.group.add(Dy)}},ua.prototype._renderTitleAndDetail=function(Sa,ba,ka,_y,Ty){var Ay=this,Ey=Sa.getData(),My=Ey.mapDimension("value"),Dy=+Sa.get("min"),Iy=+Sa.get("max"),Ly=new Group$3,Py=[],Ry=[],Vy=Sa.isAnimationEnabled(),Ny=Sa.get(["pointer","showAbove"]);Ey.diff(this._data).add(function(By){Py[By]=new ZRText({silent:!0}),Ry[By]=new ZRText({silent:!0})}).update(function(By,Oy){Py[By]=Ay._titleEls[Oy],Ry[By]=Ay._detailEls[Oy]}).execute(),Ey.each(function(By){var Oy=Ey.getItemModel(By),Fy=Ey.get(My,By),zy=new Group$3,Hy=_y(linearMap$2(Fy,[Dy,Iy],[0,1],!0)),Gy=Oy.getModel("title");if(Gy.get("show")){var Wy=Gy.get("offsetCenter"),Uy=Ty.cx+parsePercent(Wy[0],Ty.r),Yy=Ty.cy+parsePercent(Wy[1],Ty.r),jy=Py[By];jy.attr({z2:Ny?0:2,style:createTextStyle(Gy,{x:Uy,y:Yy,text:Ey.getName(By),align:"center",verticalAlign:"middle"},{inheritColor:Hy})}),zy.add(jy)}var Ky=Oy.getModel("detail");if(Ky.get("show")){var Xy=Ky.get("offsetCenter"),Zy=Ty.cx+parsePercent(Xy[0],Ty.r),Jy=Ty.cy+parsePercent(Xy[1],Ty.r),t_=parsePercent(Ky.get("width"),Ty.r),Qy=parsePercent(Ky.get("height"),Ty.r),r_=Sa.get(["progress","show"])?Ey.getItemVisual(By,"style").fill:Hy,jy=Ry[By],i_=Ky.get("formatter");jy.attr({z2:Ny?0:2,style:createTextStyle(Ky,{x:Zy,y:Jy,text:formatLabel(Fy,i_),width:isNaN(t_)?null:t_,height:isNaN(Qy)?null:Qy,align:"center",verticalAlign:"middle"},{inheritColor:r_})}),setLabelValueAnimation(jy,{normal:Ky},Fy,function(c_){return formatLabel(c_,i_)}),Vy&&animateLabelValue(jy,By,Ey,Sa,{getFormattedLabel:function(c_,d_,f_,m_,b_,$_){return formatLabel($_?$_.interpolatedValue:Fy,i_)}}),zy.add(jy)}Ly.add(zy)}),this.group.add(Ly),this._titleEls=Py,this._detailEls=Ry},ua.type="gauge",ua}(ChartView),GaugeSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.visualStyleAccessPath="itemStyle",Sa}return ua.prototype.getInitialData=function(Sa,ba){return createSeriesDataSimply(this,["value"])},ua.type="series.gauge",ua.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},ua}(SeriesModel);function install$E(ha){ha.registerChartView(GaugeView),ha.registerSeriesModel(GaugeSeriesModel)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(ha){__extends(ua,ha);function ua(Sa,ba){var ka=ha.call(this)||this,_y=ka,Ty=new Polyline$1,Ay=new ZRText;return _y.setTextContent(Ay),ka.setTextGuideLine(Ty),ka.updateData(Sa,ba,!0),ka}return ua.prototype.updateData=function(Sa,ba,ka){var _y=this,Ty=Sa.hostModel,Ay=Sa.getItemModel(ba),Ey=Sa.getItemLayout(ba),My=Ay.getModel("emphasis"),Dy=Ay.get(opacityAccessPath$1);Dy=Dy??1,ka||saveOldStyle(_y),_y.useStyle(Sa.getItemVisual(ba,"style")),_y.style.lineJoin="round",ka?(_y.setShape({points:Ey.points}),_y.style.opacity=0,initProps(_y,{style:{opacity:Dy}},Ty,ba)):updateProps$1(_y,{style:{opacity:Dy},shape:{points:Ey.points}},Ty,ba),setStatesStylesFromModel(_y,Ay),this._updateLabel(Sa,ba),toggleHoverEmphasis(this,My.get("focus"),My.get("blurScope"),My.get("disabled"))},ua.prototype._updateLabel=function(Sa,ba){var ka=this,_y=this.getTextGuideLine(),Ty=ka.getTextContent(),Ay=Sa.hostModel,Ey=Sa.getItemModel(ba),My=Sa.getItemLayout(ba),Dy=My.label,Iy=Sa.getItemVisual(ba,"style"),Ly=Iy.fill;setLabelStyle(Ty,getLabelStatesModels(Ey),{labelFetcher:Sa.hostModel,labelDataIndex:ba,defaultOpacity:Iy.opacity,defaultText:Sa.getName(ba)},{normal:{align:Dy.textAlign,verticalAlign:Dy.verticalAlign}}),ka.setTextConfig({local:!0,inside:!!Dy.inside,insideStroke:Ly,outsideFill:Ly});var Py=Dy.linePoints;_y.setShape({points:Py}),ka.textGuideLineConfig={anchor:Py?new Point(Py[0][0],Py[0][1]):null},updateProps$1(Ty,{style:{x:Dy.x,y:Dy.y}},Ay,ba),Ty.attr({rotation:Dy.rotation,originX:Dy.x,originY:Dy.y,z2:10}),setLabelLineStyle(ka,getLabelLineStatesModels(Ey),{stroke:Ly})},ua}(Polygon),FunnelView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.ignoreLabelLineUpdate=!0,Sa}return ua.prototype.render=function(Sa,ba,ka){var _y=Sa.getData(),Ty=this._data,Ay=this.group;_y.diff(Ty).add(function(Ey){var My=new FunnelPiece(_y,Ey);_y.setItemGraphicEl(Ey,My),Ay.add(My)}).update(function(Ey,My){var Dy=Ty.getItemGraphicEl(My);Dy.updateData(_y,Ey),Ay.add(Dy),_y.setItemGraphicEl(Ey,Dy)}).remove(function(Ey){var My=Ty.getItemGraphicEl(Ey);removeElementWithFadeOut(My,Sa,Ey)}).execute(),this._data=_y},ua.prototype.remove=function(){this.group.removeAll(),this._data=null},ua.prototype.dispose=function(){},ua.type="funnel",ua}(ChartView),FunnelSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(Sa){ha.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(Sa)},ua.prototype.getInitialData=function(Sa,ba){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},ua.prototype._defaultLabelLine=function(Sa){defaultEmphasis(Sa,"labelLine",["show"]);var ba=Sa.labelLine,ka=Sa.emphasis.labelLine;ba.show=ba.show&&Sa.label.show,ka.show=ka.show&&Sa.emphasis.label.show},ua.prototype.getDataParams=function(Sa){var ba=this.getData(),ka=ha.prototype.getDataParams.call(this,Sa),_y=ba.mapDimension("value"),Ty=ba.getSum(_y);return ka.percent=Ty?+(ba.get(_y,Sa)/Ty*100).toFixed(2):0,ka.$vars.push("percent"),ka},ua.type="series.funnel",ua.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},ua}(SeriesModel);function getViewRect$2(ha,ua){return getLayoutRect(ha.getBoxLayoutParams(),{width:ua.getWidth(),height:ua.getHeight()})}function getSortedIndices(ha,ua){for(var Sa=ha.mapDimension("value"),ba=ha.mapArray(Sa,function(Ey){return Ey}),ka=[],_y=ua==="ascending",Ty=0,Ay=ha.count();Ty<Ay;Ty++)ka[Ty]=Ty;return isFunction(ua)?ka.sort(ua):ua!=="none"&&ka.sort(function(Ey,My){return _y?ba[Ey]-ba[My]:ba[My]-ba[Ey]}),ka}function labelLayout(ha){var ua=ha.hostModel,Sa=ua.get("orient");ha.each(function(ba){var ka=ha.getItemModel(ba),_y=ka.getModel("label"),Ty=_y.get("position"),Ay=ka.getModel("labelLine"),Ey=ha.getItemLayout(ba),My=Ey.points,Dy=Ty==="inner"||Ty==="inside"||Ty==="center"||Ty==="insideLeft"||Ty==="insideRight",Iy,Ly,Py,Ry;if(Dy)Ty==="insideLeft"?(Ly=(My[0][0]+My[3][0])/2+5,Py=(My[0][1]+My[3][1])/2,Iy="left"):Ty==="insideRight"?(Ly=(My[1][0]+My[2][0])/2-5,Py=(My[1][1]+My[2][1])/2,Iy="right"):(Ly=(My[0][0]+My[1][0]+My[2][0]+My[3][0])/4,Py=(My[0][1]+My[1][1]+My[2][1]+My[3][1])/4,Iy="center"),Ry=[[Ly,Py],[Ly,Py]];else{var Vy=void 0,Ny=void 0,By=void 0,Oy=void 0,Fy=Ay.get("length");Ty==="left"?(Vy=(My[3][0]+My[0][0])/2,Ny=(My[3][1]+My[0][1])/2,By=Vy-Fy,Ly=By-5,Iy="right"):Ty==="right"?(Vy=(My[1][0]+My[2][0])/2,Ny=(My[1][1]+My[2][1])/2,By=Vy+Fy,Ly=By+5,Iy="left"):Ty==="top"?(Vy=(My[3][0]+My[0][0])/2,Ny=(My[3][1]+My[0][1])/2,Oy=Ny-Fy,Py=Oy-5,Iy="center"):Ty==="bottom"?(Vy=(My[1][0]+My[2][0])/2,Ny=(My[1][1]+My[2][1])/2,Oy=Ny+Fy,Py=Oy+5,Iy="center"):Ty==="rightTop"?(Vy=Sa==="horizontal"?My[3][0]:My[1][0],Ny=Sa==="horizontal"?My[3][1]:My[1][1],Sa==="horizontal"?(Oy=Ny-Fy,Py=Oy-5,Iy="center"):(By=Vy+Fy,Ly=By+5,Iy="top")):Ty==="rightBottom"?(Vy=My[2][0],Ny=My[2][1],Sa==="horizontal"?(Oy=Ny+Fy,Py=Oy+5,Iy="center"):(By=Vy+Fy,Ly=By+5,Iy="bottom")):Ty==="leftTop"?(Vy=My[0][0],Ny=Sa==="horizontal"?My[0][1]:My[1][1],Sa==="horizontal"?(Oy=Ny-Fy,Py=Oy-5,Iy="center"):(By=Vy-Fy,Ly=By-5,Iy="right")):Ty==="leftBottom"?(Vy=Sa==="horizontal"?My[1][0]:My[3][0],Ny=Sa==="horizontal"?My[1][1]:My[2][1],Sa==="horizontal"?(Oy=Ny+Fy,Py=Oy+5,Iy="center"):(By=Vy-Fy,Ly=By-5,Iy="right")):(Vy=(My[1][0]+My[2][0])/2,Ny=(My[1][1]+My[2][1])/2,Sa==="horizontal"?(Oy=Ny+Fy,Py=Oy+5,Iy="center"):(By=Vy+Fy,Ly=By+5,Iy="left")),Sa==="horizontal"?(By=Vy,Ly=By):(Oy=Ny,Py=Oy),Ry=[[Vy,Ny],[By,Oy]]}Ey.label={linePoints:Ry,x:Ly,y:Py,verticalAlign:"middle",textAlign:Iy,inside:Dy}})}function funnelLayout(ha,ua){ha.eachSeriesByType("funnel",function(Sa){var ba=Sa.getData(),ka=ba.mapDimension("value"),_y=Sa.get("sort"),Ty=getViewRect$2(Sa,ua),Ay=Sa.get("orient"),Ey=Ty.width,My=Ty.height,Dy=getSortedIndices(ba,_y),Iy=Ty.x,Ly=Ty.y,Py=Ay==="horizontal"?[parsePercent(Sa.get("minSize"),My),parsePercent(Sa.get("maxSize"),My)]:[parsePercent(Sa.get("minSize"),Ey),parsePercent(Sa.get("maxSize"),Ey)],Ry=ba.getDataExtent(ka),Vy=Sa.get("min"),Ny=Sa.get("max");Vy==null&&(Vy=Math.min(Ry[0],0)),Ny==null&&(Ny=Ry[1]);var By=Sa.get("funnelAlign"),Oy=Sa.get("gap"),Fy=Ay==="horizontal"?Ey:My,zy=(Fy-Oy*(ba.count()-1))/ba.count(),Hy=function(Jy,t_){if(Ay==="horizontal"){var Qy=ba.get(ka,Jy)||0,r_=linearMap$2(Qy,[Vy,Ny],Py,!0),i_=void 0;switch(By){case"top":i_=Ly;break;case"center":i_=Ly+(My-r_)/2;break;case"bottom":i_=Ly+(My-r_);break}return[[t_,i_],[t_,i_+r_]]}var l_=ba.get(ka,Jy)||0,c_=linearMap$2(l_,[Vy,Ny],Py,!0),d_;switch(By){case"left":d_=Iy;break;case"center":d_=Iy+(Ey-c_)/2;break;case"right":d_=Iy+Ey-c_;break}return[[d_,t_],[d_+c_,t_]]};_y==="ascending"&&(zy=-zy,Oy=-Oy,Ay==="horizontal"?Iy+=Ey:Ly+=My,Dy=Dy.reverse());for(var Gy=0;Gy<Dy.length;Gy++){var Wy=Dy[Gy],Uy=Dy[Gy+1],Yy=ba.getItemModel(Wy);if(Ay==="horizontal"){var jy=Yy.get(["itemStyle","width"]);jy==null?jy=zy:(jy=parsePercent(jy,Ey),_y==="ascending"&&(jy=-jy));var Ky=Hy(Wy,Iy),Xy=Hy(Uy,Iy+jy);Iy+=jy+Oy,ba.setItemLayout(Wy,{points:Ky.concat(Xy.slice().reverse())})}else{var Zy=Yy.get(["itemStyle","height"]);Zy==null?Zy=zy:(Zy=parsePercent(Zy,My),_y==="ascending"&&(Zy=-Zy));var Ky=Hy(Wy,Ly),Xy=Hy(Uy,Ly+Zy);Ly+=Zy+Oy,ba.setItemLayout(Wy,{points:Ky.concat(Xy.slice().reverse())})}}labelLayout(ba)})}function install$D(ha){ha.registerChartView(FunnelView),ha.registerSeriesModel(FunnelSeriesModel),ha.registerLayout(funnelLayout),ha.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$1=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa._dataGroup=new Group$3,Sa._initialized=!1,Sa}return ua.prototype.init=function(){this.group.add(this._dataGroup)},ua.prototype.render=function(Sa,ba,ka,_y){this._progressiveEls=null;var Ty=this._dataGroup,Ay=Sa.getData(),Ey=this._data,My=Sa.coordinateSystem,Dy=My.dimensions,Iy=makeSeriesScope(Sa);Ay.diff(Ey).add(Ly).update(Py).remove(Ry).execute();function Ly(Ny){var By=addEl(Ay,Ty,Ny,Dy,My);updateElCommon(By,Ay,Ny,Iy)}function Py(Ny,By){var Oy=Ey.getItemGraphicEl(By),Fy=createLinePoints(Ay,Ny,Dy,My);Ay.setItemGraphicEl(Ny,Oy),updateProps$1(Oy,{shape:{points:Fy}},Sa,Ny),saveOldStyle(Oy),updateElCommon(Oy,Ay,Ny,Iy)}function Ry(Ny){var By=Ey.getItemGraphicEl(Ny);Ty.remove(By)}if(!this._initialized){this._initialized=!0;var Vy=createGridClipShape$2(My,Sa,function(){setTimeout(function(){Ty.removeClipPath()})});Ty.setClipPath(Vy)}this._data=Ay},ua.prototype.incrementalPrepareRender=function(Sa,ba,ka){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},ua.prototype.incrementalRender=function(Sa,ba,ka){for(var _y=ba.getData(),Ty=ba.coordinateSystem,Ay=Ty.dimensions,Ey=makeSeriesScope(ba),My=this._progressiveEls=[],Dy=Sa.start;Dy<Sa.end;Dy++){var Iy=addEl(_y,this._dataGroup,Dy,Ay,Ty);Iy.incremental=!0,updateElCommon(Iy,_y,Dy,Ey),My.push(Iy)}},ua.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},ua.type="parallel",ua}(ChartView);function createGridClipShape$2(ha,ua,Sa){var ba=ha.model,ka=ha.getRect(),_y=new Rect$2({shape:{x:ka.x,y:ka.y,width:ka.width,height:ka.height}}),Ty=ba.get("layout")==="horizontal"?"width":"height";return _y.setShape(Ty,0),initProps(_y,{shape:{width:ka.width,height:ka.height}},ua,Sa),_y}function createLinePoints(ha,ua,Sa,ba){for(var ka=[],_y=0;_y<Sa.length;_y++){var Ty=Sa[_y],Ay=ha.get(ha.mapDimension(Ty),ua);isEmptyValue(Ay,ba.getAxis(Ty).type)||ka.push(ba.dataToPoint(Ay,Ty))}return ka}function addEl(ha,ua,Sa,ba,ka){var _y=createLinePoints(ha,Sa,ba,ka),Ty=new Polyline$1({shape:{points:_y},z2:10});return ua.add(Ty),ha.setItemGraphicEl(Sa,Ty),Ty}function makeSeriesScope(ha){var ua=ha.get("smooth",!0);return ua===!0&&(ua=DEFAULT_SMOOTH),ua=numericToNumber(ua),eqNaN(ua)&&(ua=0),{smooth:ua}}function updateElCommon(ha,ua,Sa,ba){ha.useStyle(ua.getItemVisual(Sa,"style")),ha.style.fill=null,ha.setShape("smooth",ba.smooth);var ka=ua.getItemModel(Sa),_y=ka.getModel("emphasis");setStatesStylesFromModel(ha,ka,"lineStyle"),toggleHoverEmphasis(ha,_y.get("focus"),_y.get("blurScope"),_y.get("disabled"))}function isEmptyValue(ha,ua){return ua==="category"?ha==null:ha==null||isNaN(ha)}var ParallelSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.visualStyleAccessPath="lineStyle",Sa.visualDrawType="stroke",Sa}return ua.prototype.getInitialData=function(Sa,ba){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},ua.prototype.getRawIndicesByActiveState=function(Sa){var ba=this.coordinateSystem,ka=this.getData(),_y=[];return ba.eachActiveState(ka,function(Ty,Ay){Sa===Ty&&_y.push(ka.getRawIndex(Ay))}),_y},ua.type="series.parallel",ua.dependencies=["parallel"],ua.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},ua}(SeriesModel);function makeDefaultEncode(ha){var ua=ha.ecModel.getComponent("parallel",ha.get("parallelIndex"));if(ua){var Sa={};return each$f(ua.dimensions,function(ba){var ka=convertDimNameToNumber(ba);Sa[ba]=ka}),Sa}}function convertDimNameToNumber(ha){return+ha.replace("dim","")}var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(ha,ua){var Sa=ha.coordinateSystem,ba={normal:ha.get(["lineStyle","opacity"]),active:ha.get("activeOpacity"),inactive:ha.get("inactiveOpacity")};return{progress:function(ka,_y){Sa.eachActiveState(_y,function(Ty,Ay){var Ey=ba[Ty];if(Ty==="normal"&&_y.hasItemOption){var My=_y.getItemModel(Ay).get(opacityAccessPath,!0);My!=null&&(Ey=My)}var Dy=_y.ensureUniqueItemVisual(Ay,"style");Dy.opacity=Ey},ka.start,ka.end)}}}};function parallelPreprocessor(ha){createParallelIfNeeded(ha),mergeAxisOptionFromParallel(ha)}function createParallelIfNeeded(ha){if(!ha.parallel){var ua=!1;each$f(ha.series,function(Sa){Sa&&Sa.type==="parallel"&&(ua=!0)}),ua&&(ha.parallel=[{}])}}function mergeAxisOptionFromParallel(ha){var ua=normalizeToArray(ha.parallelAxis);each$f(ua,function(Sa){if(isObject$3(Sa)){var ba=Sa.parallelIndex||0,ka=normalizeToArray(ha.parallel)[ba];ka&&ka.parallelAxisDefault&&merge(Sa,ka.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){this._model=Sa,this._api=ka,this._handlers||(this._handlers={},each$f(handlers$1,function(_y,Ty){ka.getZr().on(Ty,this._handlers[Ty]=bind$1(_y,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",Sa.get("axisExpandRate"),"fixRate")},ua.prototype.dispose=function(Sa,ba){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(ka,_y){ba.getZr().off(_y,ka)}),this._handlers=null},ua.prototype._throttledDispatchExpand=function(Sa){this._dispatchExpand(Sa)},ua.prototype._dispatchExpand=function(Sa){Sa&&this._api.dispatchAction(extend({type:"parallelAxisExpand"},Sa))},ua.type="parallel",ua}(ComponentView),handlers$1={mousedown:function(ha){checkTrigger(this,"click")&&(this._mouseDownPoint=[ha.offsetX,ha.offsetY])},mouseup:function(ha){var ua=this._mouseDownPoint;if(checkTrigger(this,"click")&&ua){var Sa=[ha.offsetX,ha.offsetY],ba=Math.pow(ua[0]-Sa[0],2)+Math.pow(ua[1]-Sa[1],2);if(ba>CLICK_THRESHOLD)return;var ka=this._model.coordinateSystem.getSlidedAxisExpandWindow([ha.offsetX,ha.offsetY]);ka.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:ka.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(ha){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var ua=this._model,Sa=ua.coordinateSystem.getSlidedAxisExpandWindow([ha.offsetX,ha.offsetY]),ba=Sa.behavior;ba==="jump"&&this._throttledDispatchExpand.debounceNextCall(ua.get("axisExpandDebounce")),this._throttledDispatchExpand(ba==="none"?null:{axisExpandWindow:Sa.axisExpandWindow,animation:ba==="jump"?null:{duration:0}})}}};function checkTrigger(ha,ua){var Sa=ha._model;return Sa.get("axisExpandable")&&Sa.get("axisExpandTriggerOn")===ua}var ParallelModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(){ha.prototype.init.apply(this,arguments),this.mergeOption({})},ua.prototype.mergeOption=function(Sa){var ba=this.option;Sa&&merge(ba,Sa,!0),this._initDimensions()},ua.prototype.contains=function(Sa,ba){var ka=Sa.get("parallelIndex");return ka!=null&&ba.getComponent("parallel",ka)===this},ua.prototype.setAxisExpand=function(Sa){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(ba){Sa.hasOwnProperty(ba)&&(this.option[ba]=Sa[ba])},this)},ua.prototype._initDimensions=function(){var Sa=this.dimensions=[],ba=this.parallelAxisIndex=[],ka=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(_y){return(_y.get("parallelIndex")||0)===this.componentIndex},this);each$f(ka,function(_y){Sa.push("dim"+_y.get("dim")),ba.push(_y.componentIndex)})},ua.type="parallel",ua.dependencies=["parallelAxis"],ua.layoutMode="box",ua.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},ua}(ComponentModel),ParallelAxis=function(ha){__extends(ua,ha);function ua(Sa,ba,ka,_y,Ty){var Ay=ha.call(this,Sa,ba,ka)||this;return Ay.type=_y||"value",Ay.axisIndex=Ty,Ay}return ua.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},ua}(Axis);function sliderMove(ha,ua,Sa,ba,ka,_y){ha=ha||0;var Ty=Sa[1]-Sa[0];if(ka!=null&&(ka=restrict$1(ka,[0,Ty])),_y!=null&&(_y=Math.max(_y,ka??0)),ba==="all"){var Ay=Math.abs(ua[1]-ua[0]);Ay=restrict$1(Ay,[0,Ty]),ka=_y=restrict$1(Ay,[ka,_y]),ba=0}ua[0]=restrict$1(ua[0],Sa),ua[1]=restrict$1(ua[1],Sa);var Ey=getSpanSign(ua,ba);ua[ba]+=ha;var My=ka||0,Dy=Sa.slice();Ey.sign<0?Dy[0]+=My:Dy[1]-=My,ua[ba]=restrict$1(ua[ba],Dy);var Iy;return Iy=getSpanSign(ua,ba),ka!=null&&(Iy.sign!==Ey.sign||Iy.span<ka)&&(ua[1-ba]=ua[ba]+Ey.sign*ka),Iy=getSpanSign(ua,ba),_y!=null&&Iy.span>_y&&(ua[1-ba]=ua[ba]+Iy.sign*_y),ua}function getSpanSign(ha,ua){var Sa=ha[ua]-ha[1-ua];return{span:Math.abs(Sa),sign:Sa>0?-1:Sa<0?1:ua?-1:1}}function restrict$1(ha,ua){return Math.min(ua[1]!=null?ua[1]:1/0,Math.max(ua[0]!=null?ua[0]:-1/0,ha))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function ha(ua,Sa,ba){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=ua.dimensions,this._model=ua,this._init(ua,Sa,ba)}return ha.prototype._init=function(ua,Sa,ba){var ka=ua.dimensions,_y=ua.parallelAxisIndex;each$a(ka,function(Ty,Ay){var Ey=_y[Ay],My=Sa.getComponent("parallelAxis",Ey),Dy=this._axesMap.set(Ty,new ParallelAxis(Ty,createScaleByModel$1(My),[0,0],My.get("type"),Ey)),Iy=Dy.type==="category";Dy.onBand=Iy&&My.get("boundaryGap"),Dy.inverse=My.get("inverse"),My.axis=Dy,Dy.model=My,Dy.coordinateSystem=My.coordinateSystem=this},this)},ha.prototype.update=function(ua,Sa){this._updateAxesFromSeries(this._model,ua)},ha.prototype.containPoint=function(ua){var Sa=this._makeLayoutInfo(),ba=Sa.axisBase,ka=Sa.layoutBase,_y=Sa.pixelDimIndex,Ty=ua[1-_y],Ay=ua[_y];return Ty>=ba&&Ty<=ba+Sa.axisLength&&Ay>=ka&&Ay<=ka+Sa.layoutLength},ha.prototype.getModel=function(){return this._model},ha.prototype._updateAxesFromSeries=function(ua,Sa){Sa.eachSeries(function(ba){if(ua.contains(ba,Sa)){var ka=ba.getData();each$a(this.dimensions,function(_y){var Ty=this._axesMap.get(_y);Ty.scale.unionExtentFromData(ka,ka.mapDimension(_y)),niceScaleExtent(Ty.scale,Ty.model)},this)}},this)},ha.prototype.resize=function(ua,Sa){this._rect=getLayoutRect(ua.getBoxLayoutParams(),{width:Sa.getWidth(),height:Sa.getHeight()}),this._layoutAxes()},ha.prototype.getRect=function(){return this._rect},ha.prototype._makeLayoutInfo=function(){var ua=this._model,Sa=this._rect,ba=["x","y"],ka=["width","height"],_y=ua.get("layout"),Ty=_y==="horizontal"?0:1,Ay=Sa[ka[Ty]],Ey=[0,Ay],My=this.dimensions.length,Dy=restrict(ua.get("axisExpandWidth"),Ey),Iy=restrict(ua.get("axisExpandCount")||0,[0,My]),Ly=ua.get("axisExpandable")&&My>3&&My>Iy&&Iy>1&&Dy>0&&Ay>0,Py=ua.get("axisExpandWindow"),Ry;if(Py)Ry=restrict(Py[1]-Py[0],Ey),Py[1]=Py[0]+Ry;else{Ry=restrict(Dy*(Iy-1),Ey);var Vy=ua.get("axisExpandCenter")||mathFloor(My/2);Py=[Dy*Vy-Ry/2],Py[1]=Py[0]+Ry}var Ny=(Ay-Ry)/(My-Iy);Ny<3&&(Ny=0);var By=[mathFloor(round(Py[0]/Dy,1))+1,mathCeil(round(Py[1]/Dy,1))-1],Oy=Ny/Dy*Py[0];return{layout:_y,pixelDimIndex:Ty,layoutBase:Sa[ba[Ty]],layoutLength:Ay,axisBase:Sa[ba[1-Ty]],axisLength:Sa[ka[1-Ty]],axisExpandable:Ly,axisExpandWidth:Dy,axisCollapseWidth:Ny,axisExpandWindow:Py,axisCount:My,winInnerIndices:By,axisExpandWindow0Pos:Oy}},ha.prototype._layoutAxes=function(){var ua=this._rect,Sa=this._axesMap,ba=this.dimensions,ka=this._makeLayoutInfo(),_y=ka.layout;Sa.each(function(Ty){var Ay=[0,ka.axisLength],Ey=Ty.inverse?1:0;Ty.setExtent(Ay[Ey],Ay[1-Ey])}),each$a(ba,function(Ty,Ay){var Ey=(ka.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(Ay,ka),My={horizontal:{x:Ey.position,y:ka.axisLength},vertical:{x:0,y:Ey.position}},Dy={horizontal:PI$1/2,vertical:0},Iy=[My[_y].x+ua.x,My[_y].y+ua.y],Ly=Dy[_y],Py=create$1();rotate(Py,Py,Ly),translate(Py,Py,Iy),this._axesLayout[Ty]={position:Iy,rotation:Ly,transform:Py,axisNameAvailableWidth:Ey.axisNameAvailableWidth,axisLabelShow:Ey.axisLabelShow,nameTruncateMaxWidth:Ey.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},ha.prototype.getAxis=function(ua){return this._axesMap.get(ua)},ha.prototype.dataToPoint=function(ua,Sa){return this.axisCoordToPoint(this._axesMap.get(Sa).dataToCoord(ua),Sa)},ha.prototype.eachActiveState=function(ua,Sa,ba,ka){ba==null&&(ba=0),ka==null&&(ka=ua.count());var _y=this._axesMap,Ty=this.dimensions,Ay=[],Ey=[];each$f(Ty,function(Ny){Ay.push(ua.mapDimension(Ny)),Ey.push(_y.get(Ny).model)});for(var My=this.hasAxisBrushed(),Dy=ba;Dy<ka;Dy++){var Iy=void 0;if(!My)Iy="normal";else{Iy="active";for(var Ly=ua.getValues(Ay,Dy),Py=0,Ry=Ty.length;Py<Ry;Py++){var Vy=Ey[Py].getActiveState(Ly[Py]);if(Vy==="inactive"){Iy="inactive";break}}}Sa(Iy,Dy)}},ha.prototype.hasAxisBrushed=function(){for(var ua=this.dimensions,Sa=this._axesMap,ba=!1,ka=0,_y=ua.length;ka<_y;ka++)Sa.get(ua[ka]).model.getActiveState()!=="normal"&&(ba=!0);return ba},ha.prototype.axisCoordToPoint=function(ua,Sa){var ba=this._axesLayout[Sa];return applyTransform([ua,0],ba.transform)},ha.prototype.getAxisLayout=function(ua){return clone$4(this._axesLayout[ua])},ha.prototype.getSlidedAxisExpandWindow=function(ua){var Sa=this._makeLayoutInfo(),ba=Sa.pixelDimIndex,ka=Sa.axisExpandWindow.slice(),_y=ka[1]-ka[0],Ty=[0,Sa.axisExpandWidth*(Sa.axisCount-1)];if(!this.containPoint(ua))return{behavior:"none",axisExpandWindow:ka};var Ay=ua[ba]-Sa.layoutBase-Sa.axisExpandWindow0Pos,Ey,My="slide",Dy=Sa.axisCollapseWidth,Iy=this._model.get("axisExpandSlideTriggerArea"),Ly=Iy[0]!=null;if(Dy)Ly&&Dy&&Ay<_y*Iy[0]?(My="jump",Ey=Ay-_y*Iy[2]):Ly&&Dy&&Ay>_y*(1-Iy[0])?(My="jump",Ey=Ay-_y*(1-Iy[2])):(Ey=Ay-_y*Iy[1])>=0&&(Ey=Ay-_y*(1-Iy[1]))<=0&&(Ey=0),Ey*=Sa.axisExpandWidth/Dy,Ey?sliderMove(Ey,ka,Ty,"all"):My="none";else{var Py=ka[1]-ka[0],Ry=Ty[1]*Ay/Py;ka=[mathMax$2(0,Ry-Py/2)],ka[1]=mathMin$2(Ty[1],ka[0]+Py),ka[0]=ka[1]-Py}return{axisExpandWindow:ka,behavior:My}},ha}();function restrict(ha,ua){return mathMin$2(mathMax$2(ha,ua[0]),ua[1])}function layoutAxisWithoutExpand(ha,ua){var Sa=ua.layoutLength/(ua.axisCount-1);return{position:Sa*ha,axisNameAvailableWidth:Sa,axisLabelShow:!0}}function layoutAxisWithExpand(ha,ua){var Sa=ua.layoutLength,ba=ua.axisExpandWidth,ka=ua.axisCount,_y=ua.axisCollapseWidth,Ty=ua.winInnerIndices,Ay,Ey=_y,My=!1,Dy;return ha<Ty[0]?(Ay=ha*_y,Dy=_y):ha<=Ty[1]?(Ay=ua.axisExpandWindow0Pos+ha*ba-ua.axisExpandWindow[0],Ey=ba,My=!0):(Ay=Sa-(ka-1-ha)*_y,Dy=_y),{position:Ay,axisNameAvailableWidth:Ey,axisLabelShow:My,nameTruncateMaxWidth:Dy}}function createParallelCoordSys(ha,ua){var Sa=[];return ha.eachComponent("parallel",function(ba,ka){var _y=new Parallel(ba,ha,ua);_y.name="parallel_"+ka,_y.resize(ba,ua),ba.coordinateSystem=_y,_y.model=ba,Sa.push(_y)}),ha.eachSeries(function(ba){if(ba.get("coordinateSystem")==="parallel"){var ka=ba.getReferringComponents("parallel",SINGLE_REFERRING).models[0];ba.coordinateSystem=ka.coordinateSystem}}),Sa}var parallelCoordSysCreator={create:createParallelCoordSys},ParallelAxisModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.activeIntervals=[],Sa}return ua.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},ua.prototype.setActiveIntervals=function(Sa){var ba=this.activeIntervals=clone$4(Sa);if(ba)for(var ka=ba.length-1;ka>=0;ka--)asc$2(ba[ka])},ua.prototype.getActiveState=function(Sa){var ba=this.activeIntervals;if(!ba.length)return"normal";if(Sa==null||isNaN(+Sa))return"inactive";if(ba.length===1){var ka=ba[0];if(ka[0]<=Sa&&Sa<=ka[1])return"active"}else for(var _y=0,Ty=ba.length;_y<Ty;_y++)if(ba[_y][0]<=Sa&&Sa<=ba[_y][1])return"active";return"inactive"},ua}(ComponentModel);mixin(ParallelAxisModel,AxisModelCommonMixin);var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this)||this;return ba._track=[],ba._covers=[],ba._handlers={},ba._zr=Sa,ba.group=new Group$3,ba._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(ka,_y){this._handlers[_y]=bind$1(ka,this)},ba),ba}return ua.prototype.enableBrush=function(Sa){return this._brushType&&this._doDisableBrush(),Sa.brushType&&this._doEnableBrush(Sa),this},ua.prototype._doEnableBrush=function(Sa){var ba=this._zr;this._enableGlobalPan||take(ba,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(ka,_y){ba.on(_y,ka)}),this._brushType=Sa.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),Sa,!0)},ua.prototype._doDisableBrush=function(){var Sa=this._zr;release(Sa,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(ba,ka){Sa.off(ka,ba)}),this._brushType=this._brushOption=null},ua.prototype.setPanels=function(Sa){if(Sa&&Sa.length){var ba=this._panels={};each$f(Sa,function(ka){ba[ka.panelId]=clone$4(ka)})}else this._panels=null;return this},ua.prototype.mount=function(Sa){Sa=Sa||{},this._enableGlobalPan=Sa.enableGlobalPan;var ba=this.group;return this._zr.add(ba),ba.attr({x:Sa.x||0,y:Sa.y||0,rotation:Sa.rotation||0,scaleX:Sa.scaleX||1,scaleY:Sa.scaleY||1}),this._transform=ba.getLocalTransform(),this},ua.prototype.updateCovers=function(Sa){Sa=map$1(Sa,function(Ly){return merge(clone$4(DEFAULT_BRUSH_OPT),Ly,!0)});var ba="\0-brush-index-",ka=this._covers,_y=this._covers=[],Ty=this,Ay=this._creatingCover;return new DataDiffer(ka,Sa,My,Ey).add(Dy).update(Dy).remove(Iy).execute(),this;function Ey(Ly,Py){return(Ly.id!=null?Ly.id:ba+Py)+"-"+Ly.brushType}function My(Ly,Py){return Ey(Ly.__brushOption,Py)}function Dy(Ly,Py){var Ry=Sa[Ly];if(Py!=null&&ka[Py]===Ay)_y[Ly]=ka[Py];else{var Vy=_y[Ly]=Py!=null?(ka[Py].__brushOption=Ry,ka[Py]):endCreating(Ty,createCover(Ty,Ry));updateCoverAfterCreation(Ty,Vy)}}function Iy(Ly){ka[Ly]!==Ay&&Ty.group.remove(ka[Ly])}},ua.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},ua.prototype.dispose=function(){this.unmount(),this.off()},ua}(Eventful);function createCover(ha,ua){var Sa=coverRenderers[ua.brushType].createCover(ha,ua);return Sa.__brushOption=ua,updateZ$1(Sa,ua),ha.group.add(Sa),Sa}function endCreating(ha,ua){var Sa=getCoverRenderer(ua);return Sa.endCreating&&(Sa.endCreating(ha,ua),updateZ$1(ua,ua.__brushOption)),ua}function updateCoverShape(ha,ua){var Sa=ua.__brushOption;getCoverRenderer(ua).updateCoverShape(ha,ua,Sa.range,Sa)}function updateZ$1(ha,ua){var Sa=ua.z;Sa==null&&(Sa=COVER_Z),ha.traverse(function(ba){ba.z=Sa,ba.z2=Sa})}function updateCoverAfterCreation(ha,ua){getCoverRenderer(ua).updateCommon(ha,ua),updateCoverShape(ha,ua)}function getCoverRenderer(ha){return coverRenderers[ha.__brushOption.brushType]}function getPanelByPoint(ha,ua,Sa){var ba=ha._panels;if(!ba)return BRUSH_PANEL_GLOBAL;var ka,_y=ha._transform;return each$f(ba,function(Ty){Ty.isTargetByCursor(ua,Sa,_y)&&(ka=Ty)}),ka}function getPanelByCover(ha,ua){var Sa=ha._panels;if(!Sa)return BRUSH_PANEL_GLOBAL;var ba=ua.__brushOption.panelId;return ba!=null?Sa[ba]:BRUSH_PANEL_GLOBAL}function clearCovers(ha){var ua=ha._covers,Sa=ua.length;return each$f(ua,function(ba){ha.group.remove(ba)},ha),ua.length=0,!!Sa}function trigger(ha,ua){var Sa=map$1(ha._covers,function(ba){var ka=ba.__brushOption,_y=clone$4(ka.range);return{brushType:ka.brushType,panelId:ka.panelId,range:_y}});ha.trigger("brush",{areas:Sa,isEnd:!!ua.isEnd,removeOnClick:!!ua.removeOnClick})}function shouldShowCover(ha){var ua=ha._track;if(!ua.length)return!1;var Sa=ua[ua.length-1],ba=ua[0],ka=Sa[0]-ba[0],_y=Sa[1]-ba[1],Ty=mathPow(ka*ka+_y*_y,.5);return Ty>UNSELECT_THRESHOLD}function getTrackEnds(ha){var ua=ha.length-1;return ua<0&&(ua=0),[ha[0],ha[ua]]}function createBaseRectCover(ha,ua,Sa,ba){var ka=new Group$3;return ka.add(new Rect$2({name:"main",style:makeStyle(Sa),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,ha,ua,ka,["n","s","w","e"]),ondragend:curry$1(trigger,ua,{isEnd:!0})})),each$f(ba,function(_y){ka.add(new Rect$2({name:_y.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,ha,ua,ka,_y),ondragend:curry$1(trigger,ua,{isEnd:!0})}))}),ka}function updateBaseRect(ha,ua,Sa,ba){var ka=ba.brushStyle.lineWidth||0,_y=mathMax$1(ka,MIN_RESIZE_LINE_WIDTH),Ty=Sa[0][0],Ay=Sa[1][0],Ey=Ty-ka/2,My=Ay-ka/2,Dy=Sa[0][1],Iy=Sa[1][1],Ly=Dy-_y+ka/2,Py=Iy-_y+ka/2,Ry=Dy-Ty,Vy=Iy-Ay,Ny=Ry+ka,By=Vy+ka;updateRectShape(ha,ua,"main",Ty,Ay,Ry,Vy),ba.transformable&&(updateRectShape(ha,ua,"w",Ey,My,_y,By),updateRectShape(ha,ua,"e",Ly,My,_y,By),updateRectShape(ha,ua,"n",Ey,My,Ny,_y),updateRectShape(ha,ua,"s",Ey,Py,Ny,_y),updateRectShape(ha,ua,"nw",Ey,My,_y,_y),updateRectShape(ha,ua,"ne",Ly,My,_y,_y),updateRectShape(ha,ua,"sw",Ey,Py,_y,_y),updateRectShape(ha,ua,"se",Ly,Py,_y,_y))}function updateCommon$1(ha,ua){var Sa=ua.__brushOption,ba=Sa.transformable,ka=ua.childAt(0);ka.useStyle(makeStyle(Sa)),ka.attr({silent:!ba,cursor:ba?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(_y){var Ty=ua.childOfName(_y.join("")),Ay=_y.length===1?getGlobalDirection1(ha,_y[0]):getGlobalDirection2(ha,_y);Ty&&Ty.attr({silent:!ba,invisible:!ba,cursor:ba?CURSOR_MAP[Ay]+"-resize":null})})}function updateRectShape(ha,ua,Sa,ba,ka,_y,Ty){var Ay=ua.childOfName(Sa);Ay&&Ay.setShape(pointsToRect(clipByPanel(ha,ua,[[ba,ka],[ba+_y,ka+Ty]])))}function makeStyle(ha){return defaults({strokeNoScale:!0},ha.brushStyle)}function formatRectRange(ha,ua,Sa,ba){var ka=[mathMin$1(ha,Sa),mathMin$1(ua,ba)],_y=[mathMax$1(ha,Sa),mathMax$1(ua,ba)];return[[ka[0],_y[0]],[ka[1],_y[1]]]}function getTransform(ha){return getTransform$1(ha.group)}function getGlobalDirection1(ha,ua){var Sa={w:"left",e:"right",n:"top",s:"bottom"},ba={left:"w",right:"e",top:"n",bottom:"s"},ka=transformDirection(Sa[ua],getTransform(ha));return ba[ka]}function getGlobalDirection2(ha,ua){var Sa=[getGlobalDirection1(ha,ua[0]),getGlobalDirection1(ha,ua[1])];return(Sa[0]==="e"||Sa[0]==="w")&&Sa.reverse(),Sa.join("")}function driftRect(ha,ua,Sa,ba,ka,_y){var Ty=Sa.__brushOption,Ay=ha.toRectRange(Ty.range),Ey=toLocalDelta(ua,ka,_y);each$f(ba,function(My){var Dy=DIRECTION_MAP[My];Ay[Dy[0]][Dy[1]]+=Ey[Dy[0]]}),Ty.range=ha.fromRectRange(formatRectRange(Ay[0][0],Ay[1][0],Ay[0][1],Ay[1][1])),updateCoverAfterCreation(ua,Sa),trigger(ua,{isEnd:!1})}function driftPolygon(ha,ua,Sa,ba){var ka=ua.__brushOption.range,_y=toLocalDelta(ha,Sa,ba);each$f(ka,function(Ty){Ty[0]+=_y[0],Ty[1]+=_y[1]}),updateCoverAfterCreation(ha,ua),trigger(ha,{isEnd:!1})}function toLocalDelta(ha,ua,Sa){var ba=ha.group,ka=ba.transformCoordToLocal(ua,Sa),_y=ba.transformCoordToLocal(0,0);return[ka[0]-_y[0],ka[1]-_y[1]]}function clipByPanel(ha,ua,Sa){var ba=getPanelByCover(ha,ua);return ba&&ba!==BRUSH_PANEL_GLOBAL?ba.clipPath(Sa,ha._transform):clone$4(Sa)}function pointsToRect(ha){var ua=mathMin$1(ha[0][0],ha[1][0]),Sa=mathMin$1(ha[0][1],ha[1][1]),ba=mathMax$1(ha[0][0],ha[1][0]),ka=mathMax$1(ha[0][1],ha[1][1]);return{x:ua,y:Sa,width:ba-ua,height:ka-Sa}}function resetCursor(ha,ua,Sa){if(!(!ha._brushType||isOutsideZrArea(ha,ua.offsetX,ua.offsetY))){var ba=ha._zr,ka=ha._covers,_y=getPanelByPoint(ha,ua,Sa);if(!ha._dragging)for(var Ty=0;Ty<ka.length;Ty++){var Ay=ka[Ty].__brushOption;if(_y&&(_y===BRUSH_PANEL_GLOBAL||Ay.panelId===_y.panelId)&&coverRenderers[Ay.brushType].contain(ka[Ty],Sa[0],Sa[1]))return}_y&&ba.setCursorStyle("crosshair")}}function preventDefault(ha){var ua=ha.event;ua.preventDefault&&ua.preventDefault()}function mainShapeContain(ha,ua,Sa){return ha.childOfName("main").contain(ua,Sa)}function updateCoverByMouse(ha,ua,Sa,ba){var ka=ha._creatingCover,_y=ha._creatingPanel,Ty=ha._brushOption,Ay;if(ha._track.push(Sa.slice()),shouldShowCover(ha)||ka){if(_y&&!ka){Ty.brushMode==="single"&&clearCovers(ha);var Ey=clone$4(Ty);Ey.brushType=determineBrushType(Ey.brushType,_y),Ey.panelId=_y===BRUSH_PANEL_GLOBAL?null:_y.panelId,ka=ha._creatingCover=createCover(ha,Ey),ha._covers.push(ka)}if(ka){var My=coverRenderers[determineBrushType(ha._brushType,_y)],Dy=ka.__brushOption;Dy.range=My.getCreatingRange(clipByPanel(ha,ka,ha._track)),ba&&(endCreating(ha,ka),My.updateCommon(ha,ka)),updateCoverShape(ha,ka),Ay={isEnd:ba}}}else ba&&Ty.brushMode==="single"&&Ty.removeOnClick&&getPanelByPoint(ha,ua,Sa)&&clearCovers(ha)&&(Ay={isEnd:ba,removeOnClick:!0});return Ay}function determineBrushType(ha,ua){return ha==="auto"?ua.defaultBrushType:ha}var pointerHandlers={mousedown:function(ha){if(this._dragging)handleDragEnd(this,ha);else if(!ha.target||!ha.target.draggable){preventDefault(ha);var ua=this.group.transformCoordToLocal(ha.offsetX,ha.offsetY);this._creatingCover=null;var Sa=this._creatingPanel=getPanelByPoint(this,ha,ua);Sa&&(this._dragging=!0,this._track=[ua.slice()])}},mousemove:function(ha){var ua=ha.offsetX,Sa=ha.offsetY,ba=this.group.transformCoordToLocal(ua,Sa);if(resetCursor(this,ha,ba),this._dragging){preventDefault(ha);var ka=updateCoverByMouse(this,ha,ba,!1);ka&&trigger(this,ka)}},mouseup:function(ha){handleDragEnd(this,ha)}};function handleDragEnd(ha,ua){if(ha._dragging){preventDefault(ua);var Sa=ua.offsetX,ba=ua.offsetY,ka=ha.group.transformCoordToLocal(Sa,ba),_y=updateCoverByMouse(ha,ua,ka,!0);ha._dragging=!1,ha._track=[],ha._creatingCover=null,_y&&trigger(ha,_y)}}function isOutsideZrArea(ha,ua,Sa){var ba=ha._zr;return ua<0||ua>ba.getWidth()||Sa<0||Sa>ba.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(ha,ua){function Sa(ba){return ba}return createBaseRectCover({toRectRange:Sa,fromRectRange:Sa},ha,ua,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(ha){var ua=getTrackEnds(ha);return formatRectRange(ua[1][0],ua[1][1],ua[0][0],ua[0][1])},updateCoverShape:function(ha,ua,Sa,ba){updateBaseRect(ha,ua,Sa,ba)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(ha,ua){var Sa=new Group$3;return Sa.add(new Polyline$1({name:"main",style:makeStyle(ua),silent:!0})),Sa},getCreatingRange:function(ha){return ha},endCreating:function(ha,ua){ua.remove(ua.childAt(0)),ua.add(new Polygon({name:"main",draggable:!0,drift:curry$1(driftPolygon,ha,ua),ondragend:curry$1(trigger,ha,{isEnd:!0})}))},updateCoverShape:function(ha,ua,Sa,ba){ua.childAt(0).setShape({points:clipByPanel(ha,ua,Sa)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(ha){return{createCover:function(ua,Sa){return createBaseRectCover({toRectRange:function(ba){var ka=[ba,[0,100]];return ha&&ka.reverse(),ka},fromRectRange:function(ba){return ba[ha]}},ua,Sa,[[["w"],["e"]],[["n"],["s"]]][ha])},getCreatingRange:function(ua){var Sa=getTrackEnds(ua),ba=mathMin$1(Sa[0][ha],Sa[1][ha]),ka=mathMax$1(Sa[0][ha],Sa[1][ha]);return[ba,ka]},updateCoverShape:function(ua,Sa,ba,ka){var _y,Ty=getPanelByCover(ua,Sa);if(Ty!==BRUSH_PANEL_GLOBAL&&Ty.getLinearBrushOtherExtent)_y=Ty.getLinearBrushOtherExtent(ha);else{var Ay=ua._zr;_y=[0,[Ay.getWidth(),Ay.getHeight()][1-ha]]}var Ey=[ba,_y];ha&&Ey.reverse(),updateBaseRect(ua,Sa,Ey,ka)},updateCommon:updateCommon$1,contain:mainShapeContain}}function makeRectPanelClipPath(ha){return ha=normalizeRect(ha),function(ua){return clipPointsByRect(ua,ha)}}function makeLinearBrushOtherExtent(ha,ua){return ha=normalizeRect(ha),function(Sa){var ba=ua??Sa,ka=ba?ha.width:ha.height,_y=ba?ha.x:ha.y;return[_y,_y+(ka||0)]}}function makeRectIsTargetByCursor(ha,ua,Sa){var ba=normalizeRect(ha);return function(ka,_y){return ba.contain(_y[0],_y[1])&&!onIrrelevantElement(ka,ua,Sa)}}function normalizeRect(ha){return BoundingRect.create(ha)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(Sa,ba){ha.prototype.init.apply(this,arguments),(this._brushController=new BrushController(ba.getZr())).on("brush",bind$1(this._onBrush,this))},ua.prototype.render=function(Sa,ba,ka,_y){if(!fromAxisAreaSelect(Sa,ba,_y)){this.axisModel=Sa,this.api=ka,this.group.removeAll();var Ty=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!Sa.get("show")){var Ay=getCoordSysModel(Sa,ba),Ey=Ay.coordinateSystem,My=Sa.getAreaSelectStyle(),Dy=My.width,Iy=Sa.axis.dim,Ly=Ey.getAxisLayout(Iy),Py=extend({strokeContainThreshold:Dy},Ly),Ry=new AxisBuilder(Sa,Py);each$f(elementList$1,Ry.add,Ry),this._axisGroup.add(Ry.getGroup()),this._refreshBrushController(Py,My,Sa,Ay,Dy,ka),groupTransition(Ty,this._axisGroup,Sa)}}},ua.prototype._refreshBrushController=function(Sa,ba,ka,_y,Ty,Ay){var Ey=ka.axis.getExtent(),My=Ey[1]-Ey[0],Dy=Math.min(30,Math.abs(My)*.1),Iy=BoundingRect.create({x:Ey[0],y:-Ty/2,width:My,height:Ty});Iy.x-=Dy,Iy.width+=2*Dy,this._brushController.mount({enableGlobalPan:!0,rotation:Sa.rotation,x:Sa.position[0],y:Sa.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(Iy),isTargetByCursor:makeRectIsTargetByCursor(Iy,Ay,_y),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(Iy,0)}]).enableBrush({brushType:"lineX",brushStyle:ba,removeOnClick:!0}).updateCovers(getCoverInfoList(ka))},ua.prototype._onBrush=function(Sa){var ba=Sa.areas,ka=this.axisModel,_y=ka.axis,Ty=map$1(ba,function(Ay){return[_y.coordToData(Ay.range[0],!0),_y.coordToData(Ay.range[1],!0)]});(!ka.option.realtime===Sa.isEnd||Sa.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:ka.id,intervals:Ty})},ua.prototype.dispose=function(){this._brushController.dispose()},ua.type="parallelAxis",ua}(ComponentView);function fromAxisAreaSelect(ha,ua,Sa){return Sa&&Sa.type==="axisAreaSelect"&&ua.findComponents({mainType:"parallelAxis",query:Sa})[0]===ha}function getCoverInfoList(ha){var ua=ha.axis;return map$1(ha.activeIntervals,function(Sa){return{brushType:"lineX",panelId:"pl",range:[ua.dataToCoord(Sa[0],!0),ua.dataToCoord(Sa[1],!0)]}})}function getCoordSysModel(ha,ua){return ua.getComponent("parallel",ha.get("parallelIndex"))}var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(ha){ha.registerAction(actionInfo,function(ua,Sa){Sa.eachComponent({mainType:"parallelAxis",query:ua},function(ba){ba.axis.model.setActiveIntervals(ua.intervals)})}),ha.registerAction("parallelAxisExpand",function(ua,Sa){Sa.eachComponent({mainType:"parallel",query:ua},function(ba){ba.setAxisExpand(ua)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C(ha){ha.registerComponentView(ParallelView),ha.registerComponentModel(ParallelModel),ha.registerCoordinateSystem("parallel",parallelCoordSysCreator),ha.registerPreprocessor(parallelPreprocessor),ha.registerComponentModel(ParallelAxisModel),ha.registerComponentView(ParallelAxisView),axisModelCreator(ha,"parallel",ParallelAxisModel,defaultAxisOption),installParallelActions(ha)}function install$B(ha){use(install$C),ha.registerChartView(ParallelView$1),ha.registerSeriesModel(ParallelSeriesModel),ha.registerVisual(ha.PRIORITY.VISUAL.BRUSH,parallelVisual)}var SankeyPathShape=function(){function ha(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return ha}(),SankeyPath=function(ha){__extends(ua,ha);function ua(Sa){return ha.call(this,Sa)||this}return ua.prototype.getDefaultShape=function(){return new SankeyPathShape},ua.prototype.buildPath=function(Sa,ba){var ka=ba.extent;Sa.moveTo(ba.x1,ba.y1),Sa.bezierCurveTo(ba.cpx1,ba.cpy1,ba.cpx2,ba.cpy2,ba.x2,ba.y2),ba.orient==="vertical"?(Sa.lineTo(ba.x2+ka,ba.y2),Sa.bezierCurveTo(ba.cpx2+ka,ba.cpy2,ba.cpx1+ka,ba.cpy1,ba.x1+ka,ba.y1)):(Sa.lineTo(ba.x2,ba.y2+ka),Sa.bezierCurveTo(ba.cpx2,ba.cpy2+ka,ba.cpx1,ba.cpy1+ka,ba.x1,ba.y1+ka)),Sa.closePath()},ua.prototype.highlight=function(){enterEmphasis(this)},ua.prototype.downplay=function(){leaveEmphasis(this)},ua}(Path),SankeyView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa._focusAdjacencyDisabled=!1,Sa}return ua.prototype.render=function(Sa,ba,ka){var _y=this,Ty=Sa.getGraph(),Ay=this.group,Ey=Sa.layoutInfo,My=Ey.width,Dy=Ey.height,Iy=Sa.getData(),Ly=Sa.getData("edge"),Py=Sa.get("orient");this._model=Sa,Ay.removeAll(),Ay.x=Ey.x,Ay.y=Ey.y,Ty.eachEdge(function(Ry){var Vy=new SankeyPath,Ny=getECData(Vy);Ny.dataIndex=Ry.dataIndex,Ny.seriesIndex=Sa.seriesIndex,Ny.dataType="edge";var By=Ry.getModel(),Oy=By.getModel("lineStyle"),Fy=Oy.get("curveness"),zy=Ry.node1.getLayout(),Hy=Ry.node1.getModel(),Gy=Hy.get("localX"),Wy=Hy.get("localY"),Uy=Ry.node2.getLayout(),Yy=Ry.node2.getModel(),jy=Yy.get("localX"),Ky=Yy.get("localY"),Xy=Ry.getLayout(),Zy,Jy,t_,Qy,r_,i_,l_,c_;Vy.shape.extent=Math.max(1,Xy.dy),Vy.shape.orient=Py,Py==="vertical"?(Zy=(Gy!=null?Gy*My:zy.x)+Xy.sy,Jy=(Wy!=null?Wy*Dy:zy.y)+zy.dy,t_=(jy!=null?jy*My:Uy.x)+Xy.ty,Qy=Ky!=null?Ky*Dy:Uy.y,r_=Zy,i_=Jy*(1-Fy)+Qy*Fy,l_=t_,c_=Jy*Fy+Qy*(1-Fy)):(Zy=(Gy!=null?Gy*My:zy.x)+zy.dx,Jy=(Wy!=null?Wy*Dy:zy.y)+Xy.sy,t_=jy!=null?jy*My:Uy.x,Qy=(Ky!=null?Ky*Dy:Uy.y)+Xy.ty,r_=Zy*(1-Fy)+t_*Fy,i_=Jy,l_=Zy*Fy+t_*(1-Fy),c_=Qy),Vy.setShape({x1:Zy,y1:Jy,x2:t_,y2:Qy,cpx1:r_,cpy1:i_,cpx2:l_,cpy2:c_}),Vy.useStyle(Oy.getItemStyle()),applyCurveStyle(Vy.style,Py,Ry);var d_=""+By.get("value"),f_=getLabelStatesModels(By,"edgeLabel");setLabelStyle(Vy,f_,{labelFetcher:{getFormattedLabel:function($_,A_,v_,g_,p_,o_){return Sa.getFormattedLabel($_,A_,"edge",g_,retrieve3(p_,f_.normal&&f_.normal.get("formatter"),d_),o_)}},labelDataIndex:Ry.dataIndex,defaultText:d_}),Vy.setTextConfig({position:"inside"});var m_=By.getModel("emphasis");setStatesStylesFromModel(Vy,By,"lineStyle",function($_){var A_=$_.getItemStyle();return applyCurveStyle(A_,Py,Ry),A_}),Ay.add(Vy),Ly.setItemGraphicEl(Ry.dataIndex,Vy);var b_=m_.get("focus");toggleHoverEmphasis(Vy,b_==="adjacency"?Ry.getAdjacentDataIndices():b_==="trajectory"?Ry.getTrajectoryDataIndices():b_,m_.get("blurScope"),m_.get("disabled"))}),Ty.eachNode(function(Ry){var Vy=Ry.getLayout(),Ny=Ry.getModel(),By=Ny.get("localX"),Oy=Ny.get("localY"),Fy=Ny.getModel("emphasis"),zy=Ny.get(["itemStyle","borderRadius"])||0,Hy=new Rect$2({shape:{x:By!=null?By*My:Vy.x,y:Oy!=null?Oy*Dy:Vy.y,width:Vy.dx,height:Vy.dy,r:zy},style:Ny.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(Hy,getLabelStatesModels(Ny),{labelFetcher:{getFormattedLabel:function(Wy,Uy){return Sa.getFormattedLabel(Wy,Uy,"node")}},labelDataIndex:Ry.dataIndex,defaultText:Ry.id}),Hy.disableLabelAnimation=!0,Hy.setStyle("fill",Ry.getVisual("color")),Hy.setStyle("decal",Ry.getVisual("style").decal),setStatesStylesFromModel(Hy,Ny),Ay.add(Hy),Iy.setItemGraphicEl(Ry.dataIndex,Hy),getECData(Hy).dataType="node";var Gy=Fy.get("focus");toggleHoverEmphasis(Hy,Gy==="adjacency"?Ry.getAdjacentDataIndices():Gy==="trajectory"?Ry.getTrajectoryDataIndices():Gy,Fy.get("blurScope"),Fy.get("disabled"))}),Iy.eachItemGraphicEl(function(Ry,Vy){var Ny=Iy.getItemModel(Vy);Ny.get("draggable")&&(Ry.drift=function(By,Oy){_y._focusAdjacencyDisabled=!0,this.shape.x+=By,this.shape.y+=Oy,this.dirty(),ka.dispatchAction({type:"dragNode",seriesId:Sa.id,dataIndex:Iy.getRawIndex(Vy),localX:this.shape.x/My,localY:this.shape.y/Dy})},Ry.ondragend=function(){_y._focusAdjacencyDisabled=!1},Ry.draggable=!0,Ry.cursor="move")}),!this._data&&Sa.isAnimationEnabled()&&Ay.setClipPath(createGridClipShape$1(Ay.getBoundingRect(),Sa,function(){Ay.removeClipPath()})),this._data=Sa.getData()},ua.prototype.dispose=function(){},ua.type="sankey",ua}(ChartView);function applyCurveStyle(ha,ua,Sa){switch(ha.fill){case"source":ha.fill=Sa.node1.getVisual("color"),ha.decal=Sa.node1.getVisual("style").decal;break;case"target":ha.fill=Sa.node2.getVisual("color"),ha.decal=Sa.node2.getVisual("style").decal;break;case"gradient":var ba=Sa.node1.getVisual("color"),ka=Sa.node2.getVisual("color");isString(ba)&&isString(ka)&&(ha.fill=new LinearGradient(0,0,+(ua==="horizontal"),+(ua==="vertical"),[{color:ba,offset:0},{color:ka,offset:1}]))}}function createGridClipShape$1(ha,ua,Sa){var ba=new Rect$2({shape:{x:ha.x-10,y:ha.y-10,width:0,height:ha.height+20}});return initProps(ba,{shape:{width:ha.width+20}},ua,Sa),ba}var SankeySeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.getInitialData=function(Sa,ba){var ka=Sa.edges||Sa.links||[],_y=Sa.data||Sa.nodes||[],Ty=Sa.levels||[];this.levelModels=[];for(var Ay=this.levelModels,Ey=0;Ey<Ty.length;Ey++)Ty[Ey].depth!=null&&Ty[Ey].depth>=0&&(Ay[Ty[Ey].depth]=new Model(Ty[Ey],this,ba));var My=createGraphFromNodeEdge(_y,ka,this,!0,Dy);return My.data;function Dy(Iy,Ly){Iy.wrapMethod("getItemModel",function(Py,Ry){var Vy=Py.parentModel,Ny=Vy.getData().getItemLayout(Ry);if(Ny){var By=Ny.depth,Oy=Vy.levelModels[By];Oy&&(Py.parentModel=Oy)}return Py}),Ly.wrapMethod("getItemModel",function(Py,Ry){var Vy=Py.parentModel,Ny=Vy.getGraph().getEdgeByIndex(Ry),By=Ny.node1.getLayout();if(By){var Oy=By.depth,Fy=Vy.levelModels[Oy];Fy&&(Py.parentModel=Fy)}return Py})}},ua.prototype.setNodePosition=function(Sa,ba){var ka=this.option.data||this.option.nodes,_y=ka[Sa];_y.localX=ba[0],_y.localY=ba[1]},ua.prototype.getGraph=function(){return this.getData().graph},ua.prototype.getEdgeData=function(){return this.getGraph().edgeData},ua.prototype.formatTooltip=function(Sa,ba,ka){function _y(Py){return isNaN(Py)||Py==null}if(ka==="edge"){var Ty=this.getDataParams(Sa,ka),Ay=Ty.data,Ey=Ty.value,My=Ay.source+" -- "+Ay.target;return createTooltipMarkup("nameValue",{name:My,value:Ey,noValue:_y(Ey)})}else{var Dy=this.getGraph().getNodeByIndex(Sa),Iy=Dy.getLayout().value,Ly=this.getDataParams(Sa,ka).data.name;return createTooltipMarkup("nameValue",{name:Ly!=null?Ly+"":null,value:Iy,noValue:_y(Iy)})}},ua.prototype.optionUpdated=function(){},ua.prototype.getDataParams=function(Sa,ba){var ka=ha.prototype.getDataParams.call(this,Sa,ba);if(ka.value==null&&ba==="node"){var _y=this.getGraph().getNodeByIndex(Sa),Ty=_y.getLayout().value;ka.value=Ty}return ka},ua.type="series.sankey",ua.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},ua}(SeriesModel);function sankeyLayout(ha,ua){ha.eachSeriesByType("sankey",function(Sa){var ba=Sa.get("nodeWidth"),ka=Sa.get("nodeGap"),_y=getViewRect$1(Sa,ua);Sa.layoutInfo=_y;var Ty=_y.width,Ay=_y.height,Ey=Sa.getGraph(),My=Ey.nodes,Dy=Ey.edges;computeNodeValues(My);var Iy=filter(My,function(Vy){return Vy.getLayout().value===0}),Ly=Iy.length!==0?0:Sa.get("layoutIterations"),Py=Sa.get("orient"),Ry=Sa.get("nodeAlign");layoutSankey(My,Dy,ba,ka,Ty,Ay,Ly,Py,Ry)})}function getViewRect$1(ha,ua){return getLayoutRect(ha.getBoxLayoutParams(),{width:ua.getWidth(),height:ua.getHeight()})}function layoutSankey(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey){computeNodeBreadths(ha,ua,Sa,ka,_y,Ay,Ey),computeNodeDepths(ha,ua,_y,ka,ba,Ty,Ay),computeEdgeDepths(ha,Ay)}function computeNodeValues(ha){each$f(ha,function(ua){var Sa=sum(ua.outEdges,getEdgeValue),ba=sum(ua.inEdges,getEdgeValue),ka=ua.getValue()||0,_y=Math.max(Sa,ba,ka);ua.setLayout({value:_y},!0)})}function computeNodeBreadths(ha,ua,Sa,ba,ka,_y,Ty){for(var Ay=[],Ey=[],My=[],Dy=[],Iy=0,Ly=0;Ly<ua.length;Ly++)Ay[Ly]=1;for(var Ly=0;Ly<ha.length;Ly++)Ey[Ly]=ha[Ly].inEdges.length,Ey[Ly]===0&&My.push(ha[Ly]);for(var Py=-1;My.length;){for(var Ry=0;Ry<My.length;Ry++){var Vy=My[Ry],Ny=Vy.hostGraph.data.getRawDataItem(Vy.dataIndex),By=Ny.depth!=null&&Ny.depth>=0;By&&Ny.depth>Py&&(Py=Ny.depth),Vy.setLayout({depth:By?Ny.depth:Iy},!0),_y==="vertical"?Vy.setLayout({dy:Sa},!0):Vy.setLayout({dx:Sa},!0);for(var Oy=0;Oy<Vy.outEdges.length;Oy++){var Fy=Vy.outEdges[Oy],zy=ua.indexOf(Fy);Ay[zy]=0;var Hy=Fy.node2,Gy=ha.indexOf(Hy);--Ey[Gy]===0&&Dy.indexOf(Hy)<0&&Dy.push(Hy)}}++Iy,My=Dy,Dy=[]}for(var Ly=0;Ly<Ay.length;Ly++)if(Ay[Ly]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var Wy=Py>Iy-1?Py:Iy-1;Ty&&Ty!=="left"&&adjustNodeWithNodeAlign(ha,Ty,_y,Wy);var Uy=_y==="vertical"?(ka-Sa)/Wy:(ba-Sa)/Wy;scaleNodeBreadths(ha,Uy,_y)}function isNodeDepth(ha){var ua=ha.hostGraph.data.getRawDataItem(ha.dataIndex);return ua.depth!=null&&ua.depth>=0}function adjustNodeWithNodeAlign(ha,ua,Sa,ba){if(ua==="right"){for(var ka=[],_y=ha,Ty=0;_y.length;){for(var Ay=0;Ay<_y.length;Ay++){var Ey=_y[Ay];Ey.setLayout({skNodeHeight:Ty},!0);for(var My=0;My<Ey.inEdges.length;My++){var Dy=Ey.inEdges[My];ka.indexOf(Dy.node1)<0&&ka.push(Dy.node1)}}_y=ka,ka=[],++Ty}each$f(ha,function(Iy){isNodeDepth(Iy)||Iy.setLayout({depth:Math.max(0,ba-Iy.getLayout().skNodeHeight)},!0)})}else ua==="justify"&&moveSinksRight(ha,ba)}function moveSinksRight(ha,ua){each$f(ha,function(Sa){!isNodeDepth(Sa)&&!Sa.outEdges.length&&Sa.setLayout({depth:ua},!0)})}function scaleNodeBreadths(ha,ua,Sa){each$f(ha,function(ba){var ka=ba.getLayout().depth*ua;Sa==="vertical"?ba.setLayout({y:ka},!0):ba.setLayout({x:ka},!0)})}function computeNodeDepths(ha,ua,Sa,ba,ka,_y,Ty){var Ay=prepareNodesByBreadth(ha,Ty);initializeNodeDepth(Ay,ua,Sa,ba,ka,Ty),resolveCollisions(Ay,ka,Sa,ba,Ty);for(var Ey=1;_y>0;_y--)Ey*=.99,relaxRightToLeft(Ay,Ey,Ty),resolveCollisions(Ay,ka,Sa,ba,Ty),relaxLeftToRight(Ay,Ey,Ty),resolveCollisions(Ay,ka,Sa,ba,Ty)}function prepareNodesByBreadth(ha,ua){var Sa=[],ba=ua==="vertical"?"y":"x",ka=groupData(ha,function(_y){return _y.getLayout()[ba]});return ka.keys.sort(function(_y,Ty){return _y-Ty}),each$f(ka.keys,function(_y){Sa.push(ka.buckets.get(_y))}),Sa}function initializeNodeDepth(ha,ua,Sa,ba,ka,_y){var Ty=1/0;each$f(ha,function(Ay){var Ey=Ay.length,My=0;each$f(Ay,function(Iy){My+=Iy.getLayout().value});var Dy=_y==="vertical"?(ba-(Ey-1)*ka)/My:(Sa-(Ey-1)*ka)/My;Dy<Ty&&(Ty=Dy)}),each$f(ha,function(Ay){each$f(Ay,function(Ey,My){var Dy=Ey.getLayout().value*Ty;_y==="vertical"?(Ey.setLayout({x:My},!0),Ey.setLayout({dx:Dy},!0)):(Ey.setLayout({y:My},!0),Ey.setLayout({dy:Dy},!0))})}),each$f(ua,function(Ay){var Ey=+Ay.getValue()*Ty;Ay.setLayout({dy:Ey},!0)})}function resolveCollisions(ha,ua,Sa,ba,ka){var _y=ka==="vertical"?"x":"y";each$f(ha,function(Ty){Ty.sort(function(Vy,Ny){return Vy.getLayout()[_y]-Ny.getLayout()[_y]});for(var Ay,Ey,My,Dy=0,Iy=Ty.length,Ly=ka==="vertical"?"dx":"dy",Py=0;Py<Iy;Py++)Ey=Ty[Py],My=Dy-Ey.getLayout()[_y],My>0&&(Ay=Ey.getLayout()[_y]+My,ka==="vertical"?Ey.setLayout({x:Ay},!0):Ey.setLayout({y:Ay},!0)),Dy=Ey.getLayout()[_y]+Ey.getLayout()[Ly]+ua;var Ry=ka==="vertical"?ba:Sa;if(My=Dy-ua-Ry,My>0){Ay=Ey.getLayout()[_y]-My,ka==="vertical"?Ey.setLayout({x:Ay},!0):Ey.setLayout({y:Ay},!0),Dy=Ay;for(var Py=Iy-2;Py>=0;--Py)Ey=Ty[Py],My=Ey.getLayout()[_y]+Ey.getLayout()[Ly]+ua-Dy,My>0&&(Ay=Ey.getLayout()[_y]-My,ka==="vertical"?Ey.setLayout({x:Ay},!0):Ey.setLayout({y:Ay},!0)),Dy=Ey.getLayout()[_y]}})}function relaxRightToLeft(ha,ua,Sa){each$f(ha.slice().reverse(),function(ba){each$f(ba,function(ka){if(ka.outEdges.length){var _y=sum(ka.outEdges,weightedTarget,Sa)/sum(ka.outEdges,getEdgeValue);if(isNaN(_y)){var Ty=ka.outEdges.length;_y=Ty?sum(ka.outEdges,centerTarget,Sa)/Ty:0}if(Sa==="vertical"){var Ay=ka.getLayout().x+(_y-center(ka,Sa))*ua;ka.setLayout({x:Ay},!0)}else{var Ey=ka.getLayout().y+(_y-center(ka,Sa))*ua;ka.setLayout({y:Ey},!0)}}})})}function weightedTarget(ha,ua){return center(ha.node2,ua)*ha.getValue()}function centerTarget(ha,ua){return center(ha.node2,ua)}function weightedSource(ha,ua){return center(ha.node1,ua)*ha.getValue()}function centerSource(ha,ua){return center(ha.node1,ua)}function center(ha,ua){return ua==="vertical"?ha.getLayout().x+ha.getLayout().dx/2:ha.getLayout().y+ha.getLayout().dy/2}function getEdgeValue(ha){return ha.getValue()}function sum(ha,ua,Sa){for(var ba=0,ka=ha.length,_y=-1;++_y<ka;){var Ty=+ua(ha[_y],Sa);isNaN(Ty)||(ba+=Ty)}return ba}function relaxLeftToRight(ha,ua,Sa){each$f(ha,function(ba){each$f(ba,function(ka){if(ka.inEdges.length){var _y=sum(ka.inEdges,weightedSource,Sa)/sum(ka.inEdges,getEdgeValue);if(isNaN(_y)){var Ty=ka.inEdges.length;_y=Ty?sum(ka.inEdges,centerSource,Sa)/Ty:0}if(Sa==="vertical"){var Ay=ka.getLayout().x+(_y-center(ka,Sa))*ua;ka.setLayout({x:Ay},!0)}else{var Ey=ka.getLayout().y+(_y-center(ka,Sa))*ua;ka.setLayout({y:Ey},!0)}}})})}function computeEdgeDepths(ha,ua){var Sa=ua==="vertical"?"x":"y";each$f(ha,function(ba){ba.outEdges.sort(function(ka,_y){return ka.node2.getLayout()[Sa]-_y.node2.getLayout()[Sa]}),ba.inEdges.sort(function(ka,_y){return ka.node1.getLayout()[Sa]-_y.node1.getLayout()[Sa]})}),each$f(ha,function(ba){var ka=0,_y=0;each$f(ba.outEdges,function(Ty){Ty.setLayout({sy:ka},!0),ka+=Ty.getLayout().dy}),each$f(ba.inEdges,function(Ty){Ty.setLayout({ty:_y},!0),_y+=Ty.getLayout().dy})})}function sankeyVisual(ha){ha.eachSeriesByType("sankey",function(ua){var Sa=ua.getGraph(),ba=Sa.nodes,ka=Sa.edges;if(ba.length){var _y=1/0,Ty=-1/0;each$f(ba,function(Ay){var Ey=Ay.getLayout().value;Ey<_y&&(_y=Ey),Ey>Ty&&(Ty=Ey)}),each$f(ba,function(Ay){var Ey=new VisualMapping({type:"color",mappingMethod:"linear",dataExtent:[_y,Ty],visual:ua.get("color")}),My=Ey.mapValueToVisual(Ay.getLayout().value),Dy=Ay.getModel().get(["itemStyle","color"]);Dy!=null?(Ay.setVisual("color",Dy),Ay.setVisual("style",{fill:Dy})):(Ay.setVisual("color",My),Ay.setVisual("style",{fill:My}))})}ka.length&&each$f(ka,function(Ay){var Ey=Ay.getModel().get("lineStyle");Ay.setVisual("style",Ey)})})}function install$A(ha){ha.registerChartView(SankeyView),ha.registerSeriesModel(SankeySeriesModel),ha.registerLayout(sankeyLayout),ha.registerVisual(sankeyVisual),ha.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(ua,Sa){Sa.eachComponent({mainType:"series",subType:"sankey",query:ua},function(ba){ba.setNodePosition(ua.dataIndex,[ua.localX,ua.localY])})})}var WhiskerBoxCommonMixin=function(){function ha(){}return ha.prototype._hasEncodeRule=function(ua){var Sa=this.getEncode();return Sa&&Sa.get(ua)!=null},ha.prototype.getInitialData=function(ua,Sa){var ba,ka=Sa.getComponent("xAxis",this.get("xAxisIndex")),_y=Sa.getComponent("yAxis",this.get("yAxisIndex")),Ty=ka.get("type"),Ay=_y.get("type"),Ey;Ty==="category"?(ua.layout="horizontal",ba=ka.getOrdinalMeta(),Ey=!this._hasEncodeRule("x")):Ay==="category"?(ua.layout="vertical",ba=_y.getOrdinalMeta(),Ey=!this._hasEncodeRule("y")):ua.layout=ua.layout||"horizontal";var My=["x","y"],Dy=ua.layout==="horizontal"?0:1,Iy=this._baseAxisDim=My[Dy],Ly=My[1-Dy],Py=[ka,_y],Ry=Py[Dy].get("type"),Vy=Py[1-Dy].get("type"),Ny=ua.data;if(Ny&&Ey){var By=[];each$f(Ny,function(zy,Hy){var Gy;isArray$1(zy)?(Gy=zy.slice(),zy.unshift(Hy)):isArray$1(zy.value)?(Gy=extend({},zy),Gy.value=Gy.value.slice(),zy.value.unshift(Hy)):Gy=zy,By.push(Gy)}),ua.data=By}var Oy=this.defaultValueDimensions,Fy=[{name:Iy,type:getDimensionTypeByAxis(Ry),ordinalMeta:ba,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:Ly,type:getDimensionTypeByAxis(Vy),dimsDef:Oy.slice()}];return createSeriesDataSimply(this,{coordDimensions:Fy,dimensionsCount:Oy.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,Fy,this)})},ha.prototype.getBaseAxis=function(){var ua=this._baseAxisDim;return this.ecModel.getComponent(ua+"Axis",this.get(ua+"AxisIndex")).axis},ha}(),BoxplotSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],Sa.visualDrawType="stroke",Sa}return ua.type="series.boxplot",ua.dependencies=["xAxis","yAxis","grid"],ua.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},ua}(SeriesModel);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);var BoxplotView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){var _y=Sa.getData(),Ty=this.group,Ay=this._data;this._data||Ty.removeAll();var Ey=Sa.get("layout")==="horizontal"?1:0;_y.diff(Ay).add(function(My){if(_y.hasValue(My)){var Dy=_y.getItemLayout(My),Iy=createNormalBox$1(Dy,_y,My,Ey,!0);_y.setItemGraphicEl(My,Iy),Ty.add(Iy)}}).update(function(My,Dy){var Iy=Ay.getItemGraphicEl(Dy);if(!_y.hasValue(My)){Ty.remove(Iy);return}var Ly=_y.getItemLayout(My);Iy?(saveOldStyle(Iy),updateNormalBoxData(Ly,Iy,_y,My)):Iy=createNormalBox$1(Ly,_y,My,Ey),Ty.add(Iy),_y.setItemGraphicEl(My,Iy)}).remove(function(My){var Dy=Ay.getItemGraphicEl(My);Dy&&Ty.remove(Dy)}).execute(),this._data=_y},ua.prototype.remove=function(Sa){var ba=this.group,ka=this._data;this._data=null,ka&&ka.eachItemGraphicEl(function(_y){_y&&ba.remove(_y)})},ua.type="boxplot",ua}(ChartView),BoxPathShape=function(){function ha(){}return ha}(),BoxPath=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba.type="boxplotBoxPath",ba}return ua.prototype.getDefaultShape=function(){return new BoxPathShape},ua.prototype.buildPath=function(Sa,ba){var ka=ba.points,_y=0;for(Sa.moveTo(ka[_y][0],ka[_y][1]),_y++;_y<4;_y++)Sa.lineTo(ka[_y][0],ka[_y][1]);for(Sa.closePath();_y<ka.length;_y++)Sa.moveTo(ka[_y][0],ka[_y][1]),_y++,Sa.lineTo(ka[_y][0],ka[_y][1])},ua}(Path);function createNormalBox$1(ha,ua,Sa,ba,ka){var _y=ha.ends,Ty=new BoxPath({shape:{points:ka?transInit$1(_y,ba,ha):_y}});return updateNormalBoxData(ha,Ty,ua,Sa,ka),Ty}function updateNormalBoxData(ha,ua,Sa,ba,ka){var _y=Sa.hostModel,Ty=graphic[ka?"initProps":"updateProps"];Ty(ua,{shape:{points:ha.ends}},_y,ba),ua.useStyle(Sa.getItemVisual(ba,"style")),ua.style.strokeNoScale=!0,ua.z2=100;var Ay=Sa.getItemModel(ba),Ey=Ay.getModel("emphasis");setStatesStylesFromModel(ua,Ay),toggleHoverEmphasis(ua,Ey.get("focus"),Ey.get("blurScope"),Ey.get("disabled"))}function transInit$1(ha,ua,Sa){return map$1(ha,function(ba){return ba=ba.slice(),ba[ua]=Sa.initBaseline,ba})}var each$9=each$f;function boxplotLayout(ha){var ua=groupSeriesByAxis(ha);each$9(ua,function(Sa){var ba=Sa.seriesModels;ba.length&&(calculateBase(Sa),each$9(ba,function(ka,_y){layoutSingleSeries(ka,Sa.boxOffsetList[_y],Sa.boxWidthList[_y])}))})}function groupSeriesByAxis(ha){var ua=[],Sa=[];return ha.eachSeriesByType("boxplot",function(ba){var ka=ba.getBaseAxis(),_y=indexOf(Sa,ka);_y<0&&(_y=Sa.length,Sa[_y]=ka,ua[_y]={axis:ka,seriesModels:[]}),ua[_y].seriesModels.push(ba)}),ua}function calculateBase(ha){var ua=ha.axis,Sa=ha.seriesModels,ba=Sa.length,ka=ha.boxWidthList=[],_y=ha.boxOffsetList=[],Ty=[],Ay;if(ua.type==="category")Ay=ua.getBandWidth();else{var Ey=0;each$9(Sa,function(Ry){Ey=Math.max(Ey,Ry.getData().count())});var My=ua.getExtent();Ay=Math.abs(My[1]-My[0])/Ey}each$9(Sa,function(Ry){var Vy=Ry.get("boxWidth");isArray$1(Vy)||(Vy=[Vy,Vy]),Ty.push([parsePercent(Vy[0],Ay)||0,parsePercent(Vy[1],Ay)||0])});var Dy=Ay*.8-2,Iy=Dy/ba*.3,Ly=(Dy-Iy*(ba-1))/ba,Py=Ly/2-Dy/2;each$9(Sa,function(Ry,Vy){_y.push(Py),Py+=Iy+Ly,ka.push(Math.min(Math.max(Ly,Ty[Vy][0]),Ty[Vy][1]))})}function layoutSingleSeries(ha,ua,Sa){var ba=ha.coordinateSystem,ka=ha.getData(),_y=Sa/2,Ty=ha.get("layout")==="horizontal"?0:1,Ay=1-Ty,Ey=["x","y"],My=ka.mapDimension(Ey[Ty]),Dy=ka.mapDimensionsAll(Ey[Ay]);if(My==null||Dy.length<5)return;for(var Iy=0;Iy<ka.count();Iy++){var Ly=ka.get(My,Iy),Py=Fy(Ly,Dy[2],Iy),Ry=Fy(Ly,Dy[0],Iy),Vy=Fy(Ly,Dy[1],Iy),Ny=Fy(Ly,Dy[3],Iy),By=Fy(Ly,Dy[4],Iy),Oy=[];zy(Oy,Vy,!1),zy(Oy,Ny,!0),Oy.push(Ry,Vy,By,Ny),Hy(Oy,Ry),Hy(Oy,By),Hy(Oy,Py),ka.setItemLayout(Iy,{initBaseline:Py[Ay],ends:Oy})}function Fy(Gy,Wy,Uy){var Yy=ka.get(Wy,Uy),jy=[];jy[Ty]=Gy,jy[Ay]=Yy;var Ky;return isNaN(Gy)||isNaN(Yy)?Ky=[NaN,NaN]:(Ky=ba.dataToPoint(jy),Ky[Ty]+=ua),Ky}function zy(Gy,Wy,Uy){var Yy=Wy.slice(),jy=Wy.slice();Yy[Ty]+=_y,jy[Ty]-=_y,Uy?Gy.push(Yy,jy):Gy.push(jy,Yy)}function Hy(Gy,Wy){var Uy=Wy.slice(),Yy=Wy.slice();Uy[Ty]-=_y,Yy[Ty]+=_y,Gy.push(Uy,Yy)}}function prepareBoxplotData(ha,ua){ua=ua||{};for(var Sa=[],ba=[],ka=ua.boundIQR,_y=ka==="none"||ka===0,Ty=0;Ty<ha.length;Ty++){var Ay=asc$2(ha[Ty].slice()),Ey=quantile(Ay,.25),My=quantile(Ay,.5),Dy=quantile(Ay,.75),Iy=Ay[0],Ly=Ay[Ay.length-1],Py=(ka??1.5)*(Dy-Ey),Ry=_y?Iy:Math.max(Iy,Ey-Py),Vy=_y?Ly:Math.min(Ly,Dy+Py),Ny=ua.itemNameFormatter,By=isFunction(Ny)?Ny({value:Ty}):isString(Ny)?Ny.replace("{value}",Ty+""):Ty+"";Sa.push([By,Ry,Ey,My,Dy,Vy]);for(var Oy=0;Oy<Ay.length;Oy++){var Fy=Ay[Oy];if(Fy<Ry||Fy>Vy){var zy=[By,Fy];ba.push(zy)}}}return{boxData:Sa,outliers:ba}}var boxplotTransform={type:"echarts:boxplot",transform:function(ua){var Sa=ua.upstream;if(Sa.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var ba="";throwError(ba)}var ka=prepareBoxplotData(Sa.getRawData(),ua.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:ka.boxData},{data:ka.outliers}]}};function install$z(ha){ha.registerSeriesModel(BoxplotSeriesModel),ha.registerChartView(BoxplotView),ha.registerLayout(boxplotLayout),ha.registerTransform(boxplotTransform)}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"];function getColor(ha,ua){return ua.get(ha>0?positiveColorQuery:negativeColorQuery)}function getBorderColor(ha,ua){return ua.get(ha===0?dojiBorderColorQuery:ha>0?positiveBorderColorQuery:negativeBorderColorQuery)}var candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(ha,ua){if(!ua.isSeriesFiltered(ha)){var Sa=ha.pipelineContext.large;return!Sa&&{progress:function(ba,ka){for(var _y;(_y=ba.next())!=null;){var Ty=ka.getItemModel(_y),Ay=ka.getItemLayout(_y).sign,Ey=Ty.getItemStyle();Ey.fill=getColor(Ay,Ty),Ey.stroke=getBorderColor(Ay,Ty)||Ey.fill;var My=ka.ensureUniqueItemVisual(_y,"style");extend(My,Ey)}}}}}},SKIP_PROPS=["color","borderColor"],CandlestickView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(Sa),this._isLargeDraw?this._renderLarge(Sa):this._renderNormal(Sa)},ua.prototype.incrementalPrepareRender=function(Sa,ba,ka){this._clear(),this._updateDrawMode(Sa)},ua.prototype.incrementalRender=function(Sa,ba,ka,_y){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(Sa,ba):this._incrementalRenderNormal(Sa,ba)},ua.prototype.eachRendered=function(Sa){traverseElements(this._progressiveEls||this.group,Sa)},ua.prototype._updateDrawMode=function(Sa){var ba=Sa.pipelineContext.large;(this._isLargeDraw==null||ba!==this._isLargeDraw)&&(this._isLargeDraw=ba,this._clear())},ua.prototype._renderNormal=function(Sa){var ba=Sa.getData(),ka=this._data,_y=this.group,Ty=ba.getLayout("isSimpleBox"),Ay=Sa.get("clip",!0),Ey=Sa.coordinateSystem,My=Ey.getArea&&Ey.getArea();this._data||_y.removeAll(),ba.diff(ka).add(function(Dy){if(ba.hasValue(Dy)){var Iy=ba.getItemLayout(Dy);if(Ay&&isNormalBoxClipped(My,Iy))return;var Ly=createNormalBox(Iy,Dy,!0);initProps(Ly,{shape:{points:Iy.ends}},Sa,Dy),setBoxCommon(Ly,ba,Dy,Ty),_y.add(Ly),ba.setItemGraphicEl(Dy,Ly)}}).update(function(Dy,Iy){var Ly=ka.getItemGraphicEl(Iy);if(!ba.hasValue(Dy)){_y.remove(Ly);return}var Py=ba.getItemLayout(Dy);if(Ay&&isNormalBoxClipped(My,Py)){_y.remove(Ly);return}Ly?(updateProps$1(Ly,{shape:{points:Py.ends}},Sa,Dy),saveOldStyle(Ly)):Ly=createNormalBox(Py),setBoxCommon(Ly,ba,Dy,Ty),_y.add(Ly),ba.setItemGraphicEl(Dy,Ly)}).remove(function(Dy){var Iy=ka.getItemGraphicEl(Dy);Iy&&_y.remove(Iy)}).execute(),this._data=ba},ua.prototype._renderLarge=function(Sa){this._clear(),createLarge(Sa,this.group);var ba=Sa.get("clip",!0)?createClipPath(Sa.coordinateSystem,!1,Sa):null;ba?this.group.setClipPath(ba):this.group.removeClipPath()},ua.prototype._incrementalRenderNormal=function(Sa,ba){for(var ka=ba.getData(),_y=ka.getLayout("isSimpleBox"),Ty;(Ty=Sa.next())!=null;){var Ay=ka.getItemLayout(Ty),Ey=createNormalBox(Ay);setBoxCommon(Ey,ka,Ty,_y),Ey.incremental=!0,this.group.add(Ey),this._progressiveEls.push(Ey)}},ua.prototype._incrementalRenderLarge=function(Sa,ba){createLarge(ba,this.group,this._progressiveEls,!0)},ua.prototype.remove=function(Sa){this._clear()},ua.prototype._clear=function(){this.group.removeAll(),this._data=null},ua.type="candlestick",ua}(ChartView),NormalBoxPathShape=function(){function ha(){}return ha}(),NormalBoxPath=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba.type="normalCandlestickBox",ba}return ua.prototype.getDefaultShape=function(){return new NormalBoxPathShape},ua.prototype.buildPath=function(Sa,ba){var ka=ba.points;this.__simpleBox?(Sa.moveTo(ka[4][0],ka[4][1]),Sa.lineTo(ka[6][0],ka[6][1])):(Sa.moveTo(ka[0][0],ka[0][1]),Sa.lineTo(ka[1][0],ka[1][1]),Sa.lineTo(ka[2][0],ka[2][1]),Sa.lineTo(ka[3][0],ka[3][1]),Sa.closePath(),Sa.moveTo(ka[4][0],ka[4][1]),Sa.lineTo(ka[5][0],ka[5][1]),Sa.moveTo(ka[6][0],ka[6][1]),Sa.lineTo(ka[7][0],ka[7][1]))},ua}(Path);function createNormalBox(ha,ua,Sa){var ba=ha.ends;return new NormalBoxPath({shape:{points:Sa?transInit(ba,ha):ba},z2:100})}function isNormalBoxClipped(ha,ua){for(var Sa=!0,ba=0;ba<ua.ends.length;ba++)if(ha.contain(ua.ends[ba][0],ua.ends[ba][1])){Sa=!1;break}return Sa}function setBoxCommon(ha,ua,Sa,ba){var ka=ua.getItemModel(Sa);ha.useStyle(ua.getItemVisual(Sa,"style")),ha.style.strokeNoScale=!0,ha.__simpleBox=ba,setStatesStylesFromModel(ha,ka);var _y=ua.getItemLayout(Sa).sign;each$f(ha.states,function(Ay,Ey){var My=ka.getModel(Ey),Dy=getColor(_y,My),Iy=getBorderColor(_y,My)||Dy,Ly=Ay.style||(Ay.style={});Dy&&(Ly.fill=Dy),Iy&&(Ly.stroke=Iy)});var Ty=ka.getModel("emphasis");toggleHoverEmphasis(ha,Ty.get("focus"),Ty.get("blurScope"),Ty.get("disabled"))}function transInit(ha,ua){return map$1(ha,function(Sa){return Sa=Sa.slice(),Sa[1]=ua.initBaseline,Sa})}var LargeBoxPathShape=function(){function ha(){}return ha}(),LargeBoxPath=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba.type="largeCandlestickBox",ba}return ua.prototype.getDefaultShape=function(){return new LargeBoxPathShape},ua.prototype.buildPath=function(Sa,ba){for(var ka=ba.points,_y=0;_y<ka.length;)if(this.__sign===ka[_y++]){var Ty=ka[_y++];Sa.moveTo(Ty,ka[_y++]),Sa.lineTo(Ty,ka[_y++])}else _y+=3},ua}(Path);function createLarge(ha,ua,Sa,ba){var ka=ha.getData(),_y=ka.getLayout("largePoints"),Ty=new LargeBoxPath({shape:{points:_y},__sign:1,ignoreCoarsePointer:!0});ua.add(Ty);var Ay=new LargeBoxPath({shape:{points:_y},__sign:-1,ignoreCoarsePointer:!0});ua.add(Ay);var Ey=new LargeBoxPath({shape:{points:_y},__sign:0,ignoreCoarsePointer:!0});ua.add(Ey),setLargeStyle(1,Ty,ha),setLargeStyle(-1,Ay,ha),setLargeStyle(0,Ey,ha),ba&&(Ty.incremental=!0,Ay.incremental=!0),Sa&&Sa.push(Ty,Ay)}function setLargeStyle(ha,ua,Sa,ba){var ka=getBorderColor(ha,Sa)||getColor(ha,Sa),_y=Sa.getModel("itemStyle").getItemStyle(SKIP_PROPS);ua.useStyle(_y),ua.style.fill=null,ua.style.stroke=ka}var CandlestickSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],Sa}return ua.prototype.getShadowDim=function(){return"open"},ua.prototype.brushSelector=function(Sa,ba,ka){var _y=ba.getItemLayout(Sa);return _y&&ka.rect(_y.brushRect)},ua.type="series.candlestick",ua.dependencies=["xAxis","yAxis","grid"],ua.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},ua}(SeriesModel);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);function candlestickPreprocessor(ha){!ha||!isArray$1(ha.series)||each$f(ha.series,function(ua){isObject$3(ua)&&ua.type==="k"&&(ua.type="candlestick")})}var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(ha){var ua=ha.coordinateSystem,Sa=ha.getData(),ba=calculateCandleWidth(ha,Sa),ka=0,_y=1,Ty=["x","y"],Ay=Sa.getDimensionIndex(Sa.mapDimension(Ty[ka])),Ey=map$1(Sa.mapDimensionsAll(Ty[_y]),Sa.getDimensionIndex,Sa),My=Ey[0],Dy=Ey[1],Iy=Ey[2],Ly=Ey[3];if(Sa.setLayout({candleWidth:ba,isSimpleBox:ba<=1.3}),Ay<0||Ey.length<4)return;return{progress:ha.pipelineContext.large?Ry:Py};function Py(Vy,Ny){for(var By,Oy=Ny.getStore();(By=Vy.next())!=null;){var Fy=Oy.get(Ay,By),zy=Oy.get(My,By),Hy=Oy.get(Dy,By),Gy=Oy.get(Iy,By),Wy=Oy.get(Ly,By),Uy=Math.min(zy,Hy),Yy=Math.max(zy,Hy),jy=r_(Uy,Fy),Ky=r_(Yy,Fy),Xy=r_(Gy,Fy),Zy=r_(Wy,Fy),Jy=[];i_(Jy,Ky,0),i_(Jy,jy,1),Jy.push(c_(Zy),c_(Ky),c_(Xy),c_(jy));var t_=Ny.getItemModel(By),Qy=!!t_.get(["itemStyle","borderColorDoji"]);Ny.setItemLayout(By,{sign:getSign(Oy,By,zy,Hy,Dy,Qy),initBaseline:zy>Hy?Ky[_y]:jy[_y],ends:Jy,brushRect:l_(Gy,Wy,Fy)})}function r_(d_,f_){var m_=[];return m_[ka]=f_,m_[_y]=d_,isNaN(f_)||isNaN(d_)?[NaN,NaN]:ua.dataToPoint(m_)}function i_(d_,f_,m_){var b_=f_.slice(),$_=f_.slice();b_[ka]=subPixelOptimize(b_[ka]+ba/2,1,!1),$_[ka]=subPixelOptimize($_[ka]-ba/2,1,!0),m_?d_.push(b_,$_):d_.push($_,b_)}function l_(d_,f_,m_){var b_=r_(d_,m_),$_=r_(f_,m_);return b_[ka]-=ba/2,$_[ka]-=ba/2,{x:b_[0],y:b_[1],width:ba,height:$_[1]-b_[1]}}function c_(d_){return d_[ka]=subPixelOptimize(d_[ka],1),d_}}function Ry(Vy,Ny){for(var By=createFloat32Array(Vy.count*4),Oy=0,Fy,zy=[],Hy=[],Gy,Wy=Ny.getStore(),Uy=!!ha.get(["itemStyle","borderColorDoji"]);(Gy=Vy.next())!=null;){var Yy=Wy.get(Ay,Gy),jy=Wy.get(My,Gy),Ky=Wy.get(Dy,Gy),Xy=Wy.get(Iy,Gy),Zy=Wy.get(Ly,Gy);if(isNaN(Yy)||isNaN(Xy)||isNaN(Zy)){By[Oy++]=NaN,Oy+=3;continue}By[Oy++]=getSign(Wy,Gy,jy,Ky,Dy,Uy),zy[ka]=Yy,zy[_y]=Xy,Fy=ua.dataToPoint(zy,null,Hy),By[Oy++]=Fy?Fy[0]:NaN,By[Oy++]=Fy?Fy[1]:NaN,zy[_y]=Zy,Fy=ua.dataToPoint(zy,null,Hy),By[Oy++]=Fy?Fy[1]:NaN}Ny.setLayout("largePoints",By)}}};function getSign(ha,ua,Sa,ba,ka,_y){var Ty;return Sa>ba?Ty=-1:Sa<ba?Ty=1:Ty=_y?0:ua>0?ha.get(ka,ua-1)<=ba?1:-1:1,Ty}function calculateCandleWidth(ha,ua){var Sa=ha.getBaseAxis(),ba,ka=Sa.type==="category"?Sa.getBandWidth():(ba=Sa.getExtent(),Math.abs(ba[1]-ba[0])/ua.count()),_y=parsePercent(retrieve2(ha.get("barMaxWidth"),ka),ka),Ty=parsePercent(retrieve2(ha.get("barMinWidth"),1),ka),Ay=ha.get("barWidth");return Ay!=null?parsePercent(Ay,ka):Math.max(Math.min(ka/2,_y),Ty)}function install$y(ha){ha.registerChartView(CandlestickView),ha.registerSeriesModel(CandlestickSeriesModel),ha.registerPreprocessor(candlestickPreprocessor),ha.registerVisual(candlestickVisual),ha.registerLayout(candlestickLayout)}function updateRipplePath(ha,ua){var Sa=ua.rippleEffectColor||ua.color;ha.eachChild(function(ba){ba.attr({z:ua.z,zlevel:ua.zlevel,style:{stroke:ua.brushType==="stroke"?Sa:null,fill:ua.brushType==="fill"?Sa:null}})})}var EffectSymbol=function(ha){__extends(ua,ha);function ua(Sa,ba){var ka=ha.call(this)||this,_y=new Symbol$1(Sa,ba),Ty=new Group$3;return ka.add(_y),ka.add(Ty),ka.updateData(Sa,ba),ka}return ua.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},ua.prototype.startEffectAnimation=function(Sa){for(var ba=Sa.symbolType,ka=Sa.color,_y=Sa.rippleNumber,Ty=this.childAt(1),Ay=0;Ay<_y;Ay++){var Ey=createSymbol$1(ba,-1,-1,2,2,ka);Ey.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var My=-Ay/_y*Sa.period+Sa.effectOffset;Ey.animate("",!0).when(Sa.period,{scaleX:Sa.rippleScale/2,scaleY:Sa.rippleScale/2}).delay(My).start(),Ey.animateStyle(!0).when(Sa.period,{opacity:0}).delay(My).start(),Ty.add(Ey)}updateRipplePath(Ty,Sa)},ua.prototype.updateEffectAnimation=function(Sa){for(var ba=this._effectCfg,ka=this.childAt(1),_y=["symbolType","period","rippleScale","rippleNumber"],Ty=0;Ty<_y.length;Ty++){var Ay=_y[Ty];if(ba[Ay]!==Sa[Ay]){this.stopEffectAnimation(),this.startEffectAnimation(Sa);return}}updateRipplePath(ka,Sa)},ua.prototype.highlight=function(){enterEmphasis(this)},ua.prototype.downplay=function(){leaveEmphasis(this)},ua.prototype.getSymbolType=function(){var Sa=this.childAt(0);return Sa&&Sa.getSymbolType()},ua.prototype.updateData=function(Sa,ba){var ka=this,_y=Sa.hostModel;this.childAt(0).updateData(Sa,ba);var Ty=this.childAt(1),Ay=Sa.getItemModel(ba),Ey=Sa.getItemVisual(ba,"symbol"),My=normalizeSymbolSize(Sa.getItemVisual(ba,"symbolSize")),Dy=Sa.getItemVisual(ba,"style"),Iy=Dy&&Dy.fill,Ly=Ay.getModel("emphasis");Ty.setScale(My),Ty.traverse(function(Ny){Ny.setStyle("fill",Iy)});var Py=normalizeSymbolOffset(Sa.getItemVisual(ba,"symbolOffset"),My);Py&&(Ty.x=Py[0],Ty.y=Py[1]);var Ry=Sa.getItemVisual(ba,"symbolRotate");Ty.rotation=(Ry||0)*Math.PI/180||0;var Vy={};Vy.showEffectOn=_y.get("showEffectOn"),Vy.rippleScale=Ay.get(["rippleEffect","scale"]),Vy.brushType=Ay.get(["rippleEffect","brushType"]),Vy.period=Ay.get(["rippleEffect","period"])*1e3,Vy.effectOffset=ba/Sa.count(),Vy.z=_y.getShallow("z")||0,Vy.zlevel=_y.getShallow("zlevel")||0,Vy.symbolType=Ey,Vy.color=Iy,Vy.rippleEffectColor=Ay.get(["rippleEffect","color"]),Vy.rippleNumber=Ay.get(["rippleEffect","number"]),Vy.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(Vy):this.startEffectAnimation(Vy),this._effectCfg=Vy):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(Ny){Ny==="emphasis"?Vy.showEffectOn!=="render"&&ka.startEffectAnimation(Vy):Ny==="normal"&&Vy.showEffectOn!=="render"&&ka.stopEffectAnimation()}),this._effectCfg=Vy,toggleHoverEmphasis(this,Ly.get("focus"),Ly.get("blurScope"),Ly.get("disabled"))},ua.prototype.fadeOut=function(Sa){Sa&&Sa()},ua}(Group$3),EffectScatterView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(){this._symbolDraw=new SymbolDraw(EffectSymbol)},ua.prototype.render=function(Sa,ba,ka){var _y=Sa.getData(),Ty=this._symbolDraw;Ty.updateData(_y,{clipShape:this._getClipShape(Sa)}),this.group.add(Ty.group)},ua.prototype._getClipShape=function(Sa){var ba=Sa.coordinateSystem,ka=ba&&ba.getArea&&ba.getArea();return Sa.get("clip",!0)?ka:null},ua.prototype.updateTransform=function(Sa,ba,ka){var _y=Sa.getData();this.group.dirty();var Ty=pointsLayout("").reset(Sa,ba,ka);Ty.progress&&Ty.progress({start:0,end:_y.count(),count:_y.count()},_y),this._symbolDraw.updateLayout()},ua.prototype._updateGroupTransform=function(Sa){var ba=Sa.coordinateSystem;ba&&ba.getRoamTransform&&(this.group.transform=clone$2(ba.getRoamTransform()),this.group.decomposeTransform())},ua.prototype.remove=function(Sa,ba){this._symbolDraw&&this._symbolDraw.remove(!0)},ua.type="effectScatter",ua}(ChartView),EffectScatterSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.hasSymbolVisual=!0,Sa}return ua.prototype.getInitialData=function(Sa,ba){return createSeriesData(null,this,{useEncodeDefaulter:!0})},ua.prototype.brushSelector=function(Sa,ba,ka){return ka.point(ba.getItemLayout(Sa))},ua.type="series.effectScatter",ua.dependencies=["grid","polar"],ua.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},ua}(SeriesModel);function install$x(ha){ha.registerChartView(EffectScatterView),ha.registerSeriesModel(EffectScatterSeriesModel),ha.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(ha){__extends(ua,ha);function ua(Sa,ba,ka){var _y=ha.call(this)||this;return _y.add(_y.createLine(Sa,ba,ka)),_y._updateEffectSymbol(Sa,ba),_y}return ua.prototype.createLine=function(Sa,ba,ka){return new Line(Sa,ba,ka)},ua.prototype._updateEffectSymbol=function(Sa,ba){var ka=Sa.getItemModel(ba),_y=ka.getModel("effect"),Ty=_y.get("symbolSize"),Ay=_y.get("symbol");isArray$1(Ty)||(Ty=[Ty,Ty]);var Ey=Sa.getItemVisual(ba,"style"),My=_y.get("color")||Ey&&Ey.stroke,Dy=this.childAt(1);this._symbolType!==Ay&&(this.remove(Dy),Dy=createSymbol$1(Ay,-.5,-.5,1,1,My),Dy.z2=100,Dy.culling=!0,this.add(Dy)),Dy&&(Dy.setStyle("shadowColor",My),Dy.setStyle(_y.getItemStyle(["color"])),Dy.scaleX=Ty[0],Dy.scaleY=Ty[1],Dy.setColor(My),this._symbolType=Ay,this._symbolScale=Ty,this._updateEffectAnimation(Sa,_y,ba))},ua.prototype._updateEffectAnimation=function(Sa,ba,ka){var _y=this.childAt(1);if(_y){var Ty=Sa.getItemLayout(ka),Ay=ba.get("period")*1e3,Ey=ba.get("loop"),My=ba.get("roundTrip"),Dy=ba.get("constantSpeed"),Iy=retrieve(ba.get("delay"),function(Py){return Py/Sa.count()*Ay/3});if(_y.ignore=!0,this._updateAnimationPoints(_y,Ty),Dy>0&&(Ay=this._getLineLength(_y)/Dy*1e3),Ay!==this._period||Ey!==this._loop||My!==this._roundTrip){_y.stopAnimation();var Ly=void 0;isFunction(Iy)?Ly=Iy(ka):Ly=Iy,_y.__t>0&&(Ly=-Ay*_y.__t),this._animateSymbol(_y,Ay,Ly,Ey,My)}this._period=Ay,this._loop=Ey,this._roundTrip=My}},ua.prototype._animateSymbol=function(Sa,ba,ka,_y,Ty){if(ba>0){Sa.__t=0;var Ay=this,Ey=Sa.animate("",_y).when(Ty?ba*2:ba,{__t:Ty?2:1}).delay(ka).during(function(){Ay._updateSymbolPosition(Sa)});_y||Ey.done(function(){Ay.remove(Sa)}),Ey.start()}},ua.prototype._getLineLength=function(Sa){return dist$1(Sa.__p1,Sa.__cp1)+dist$1(Sa.__cp1,Sa.__p2)},ua.prototype._updateAnimationPoints=function(Sa,ba){Sa.__p1=ba[0],Sa.__p2=ba[1],Sa.__cp1=ba[2]||[(ba[0][0]+ba[1][0])/2,(ba[0][1]+ba[1][1])/2]},ua.prototype.updateData=function(Sa,ba,ka){this.childAt(0).updateData(Sa,ba,ka),this._updateEffectSymbol(Sa,ba)},ua.prototype._updateSymbolPosition=function(Sa){var ba=Sa.__p1,ka=Sa.__p2,_y=Sa.__cp1,Ty=Sa.__t<1?Sa.__t:2-Sa.__t,Ay=[Sa.x,Sa.y],Ey=Ay.slice(),My=quadraticAt$1,Dy=quadraticDerivativeAt;Ay[0]=My(ba[0],_y[0],ka[0],Ty),Ay[1]=My(ba[1],_y[1],ka[1],Ty);var Iy=Sa.__t<1?Dy(ba[0],_y[0],ka[0],Ty):Dy(ka[0],_y[0],ba[0],1-Ty),Ly=Sa.__t<1?Dy(ba[1],_y[1],ka[1],Ty):Dy(ka[1],_y[1],ba[1],1-Ty);Sa.rotation=-Math.atan2(Ly,Iy)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(Sa.__lastT!==void 0&&Sa.__lastT<Sa.__t?(Sa.scaleY=dist$1(Ey,Ay)*1.05,Ty===1&&(Ay[0]=Ey[0]+(Ay[0]-Ey[0])/2,Ay[1]=Ey[1]+(Ay[1]-Ey[1])/2)):Sa.__lastT===1?Sa.scaleY=2*dist$1(ba,Ay):Sa.scaleY=this._symbolScale[1]),Sa.__lastT=Sa.__t,Sa.ignore=!1,Sa.x=Ay[0],Sa.y=Ay[1]},ua.prototype.updateLayout=function(Sa,ba){this.childAt(0).updateLayout(Sa,ba);var ka=Sa.getItemModel(ba).getModel("effect");this._updateEffectAnimation(Sa,ka,ba)},ua}(Group$3),Polyline=function(ha){__extends(ua,ha);function ua(Sa,ba,ka){var _y=ha.call(this)||this;return _y._createPolyline(Sa,ba,ka),_y}return ua.prototype._createPolyline=function(Sa,ba,ka){var _y=Sa.getItemLayout(ba),Ty=new Polyline$1({shape:{points:_y}});this.add(Ty),this._updateCommonStl(Sa,ba,ka)},ua.prototype.updateData=function(Sa,ba,ka){var _y=Sa.hostModel,Ty=this.childAt(0),Ay={shape:{points:Sa.getItemLayout(ba)}};updateProps$1(Ty,Ay,_y,ba),this._updateCommonStl(Sa,ba,ka)},ua.prototype._updateCommonStl=function(Sa,ba,ka){var _y=this.childAt(0),Ty=Sa.getItemModel(ba),Ay=ka&&ka.emphasisLineStyle,Ey=ka&&ka.focus,My=ka&&ka.blurScope,Dy=ka&&ka.emphasisDisabled;if(!ka||Sa.hasItemOption){var Iy=Ty.getModel("emphasis");Ay=Iy.getModel("lineStyle").getLineStyle(),Dy=Iy.get("disabled"),Ey=Iy.get("focus"),My=Iy.get("blurScope")}_y.useStyle(Sa.getItemVisual(ba,"style")),_y.style.fill=null,_y.style.strokeNoScale=!0;var Ly=_y.ensureState("emphasis");Ly.style=Ay,toggleHoverEmphasis(this,Ey,My,Dy)},ua.prototype.updateLayout=function(Sa,ba){var ka=this.childAt(0);ka.setShape("points",Sa.getItemLayout(ba))},ua}(Group$3),EffectPolyline=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa._lastFrame=0,Sa._lastFramePercent=0,Sa}return ua.prototype.createLine=function(Sa,ba,ka){return new Polyline(Sa,ba,ka)},ua.prototype._updateAnimationPoints=function(Sa,ba){this._points=ba;for(var ka=[0],_y=0,Ty=1;Ty<ba.length;Ty++){var Ay=ba[Ty-1],Ey=ba[Ty];_y+=dist$1(Ay,Ey),ka.push(_y)}if(_y===0){this._length=0;return}for(var Ty=0;Ty<ka.length;Ty++)ka[Ty]/=_y;this._offsets=ka,this._length=_y},ua.prototype._getLineLength=function(){return this._length},ua.prototype._updateSymbolPosition=function(Sa){var ba=Sa.__t<1?Sa.__t:2-Sa.__t,ka=this._points,_y=this._offsets,Ty=ka.length;if(_y){var Ay=this._lastFrame,Ey;if(ba<this._lastFramePercent){var My=Math.min(Ay+1,Ty-1);for(Ey=My;Ey>=0&&!(_y[Ey]<=ba);Ey--);Ey=Math.min(Ey,Ty-2)}else{for(Ey=Ay;Ey<Ty&&!(_y[Ey]>ba);Ey++);Ey=Math.min(Ey-1,Ty-2)}var Dy=(ba-_y[Ey])/(_y[Ey+1]-_y[Ey]),Iy=ka[Ey],Ly=ka[Ey+1];Sa.x=Iy[0]*(1-Dy)+Dy*Ly[0],Sa.y=Iy[1]*(1-Dy)+Dy*Ly[1];var Py=Sa.__t<1?Ly[0]-Iy[0]:Iy[0]-Ly[0],Ry=Sa.__t<1?Ly[1]-Iy[1]:Iy[1]-Ly[1];Sa.rotation=-Math.atan2(Ry,Py)-Math.PI/2,this._lastFrame=Ey,this._lastFramePercent=ba,Sa.ignore=!1}},ua}(EffectLine),LargeLinesPathShape=function(){function ha(){this.polyline=!1,this.curveness=0,this.segs=[]}return ha}(),LargeLinesPath=function(ha){__extends(ua,ha);function ua(Sa){var ba=ha.call(this,Sa)||this;return ba._off=0,ba.hoverDataIdx=-1,ba}return ua.prototype.reset=function(){this.notClear=!1,this._off=0},ua.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ua.prototype.getDefaultShape=function(){return new LargeLinesPathShape},ua.prototype.buildPath=function(Sa,ba){var ka=ba.segs,_y=ba.curveness,Ty;if(ba.polyline)for(Ty=this._off;Ty<ka.length;){var Ay=ka[Ty++];if(Ay>0){Sa.moveTo(ka[Ty++],ka[Ty++]);for(var Ey=1;Ey<Ay;Ey++)Sa.lineTo(ka[Ty++],ka[Ty++])}}else for(Ty=this._off;Ty<ka.length;){var My=ka[Ty++],Dy=ka[Ty++],Iy=ka[Ty++],Ly=ka[Ty++];if(Sa.moveTo(My,Dy),_y>0){var Py=(My+Iy)/2-(Dy-Ly)*_y,Ry=(Dy+Ly)/2-(Iy-My)*_y;Sa.quadraticCurveTo(Py,Ry,Iy,Ly)}else Sa.lineTo(Iy,Ly)}this.incremental&&(this._off=Ty,this.notClear=!0)},ua.prototype.findDataIndex=function(Sa,ba){var ka=this.shape,_y=ka.segs,Ty=ka.curveness,Ay=this.style.lineWidth;if(ka.polyline)for(var Ey=0,My=0;My<_y.length;){var Dy=_y[My++];if(Dy>0)for(var Iy=_y[My++],Ly=_y[My++],Py=1;Py<Dy;Py++){var Ry=_y[My++],Vy=_y[My++];if(containStroke$4(Iy,Ly,Ry,Vy,Ay,Sa,ba))return Ey}Ey++}else for(var Ey=0,My=0;My<_y.length;){var Iy=_y[My++],Ly=_y[My++],Ry=_y[My++],Vy=_y[My++];if(Ty>0){var Ny=(Iy+Ry)/2-(Ly-Vy)*Ty,By=(Ly+Vy)/2-(Ry-Iy)*Ty;if(containStroke$2(Iy,Ly,Ny,By,Ry,Vy,Ay,Sa,ba))return Ey}else if(containStroke$4(Iy,Ly,Ry,Vy,Ay,Sa,ba))return Ey;Ey++}return-1},ua.prototype.contain=function(Sa,ba){var ka=this.transformCoordToLocal(Sa,ba),_y=this.getBoundingRect();if(Sa=ka[0],ba=ka[1],_y.contain(Sa,ba)){var Ty=this.hoverDataIdx=this.findDataIndex(Sa,ba);return Ty>=0}return this.hoverDataIdx=-1,!1},ua.prototype.getBoundingRect=function(){var Sa=this._rect;if(!Sa){for(var ba=this.shape,ka=ba.segs,_y=1/0,Ty=1/0,Ay=-1/0,Ey=-1/0,My=0;My<ka.length;){var Dy=ka[My++],Iy=ka[My++];_y=Math.min(Dy,_y),Ay=Math.max(Dy,Ay),Ty=Math.min(Iy,Ty),Ey=Math.max(Iy,Ey)}Sa=this._rect=new BoundingRect(_y,Ty,Ay,Ey)}return Sa},ua}(Path),LargeLineDraw=function(){function ha(){this.group=new Group$3}return ha.prototype.updateData=function(ua){this._clear();var Sa=this._create();Sa.setShape({segs:ua.getLayout("linesPoints")}),this._setCommon(Sa,ua)},ha.prototype.incrementalPrepareUpdate=function(ua){this.group.removeAll(),this._clear()},ha.prototype.incrementalUpdate=function(ua,Sa){var ba=this._newAdded[0],ka=Sa.getLayout("linesPoints"),_y=ba&&ba.shape.segs;if(_y&&_y.length<2e4){var Ty=_y.length,Ay=new Float32Array(Ty+ka.length);Ay.set(_y),Ay.set(ka,Ty),ba.setShape({segs:Ay})}else{this._newAdded=[];var Ey=this._create();Ey.incremental=!0,Ey.setShape({segs:ka}),this._setCommon(Ey,Sa),Ey.__startIndex=ua.start}},ha.prototype.remove=function(){this._clear()},ha.prototype.eachRendered=function(ua){this._newAdded[0]&&ua(this._newAdded[0])},ha.prototype._create=function(){var ua=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(ua),this.group.add(ua),ua},ha.prototype._setCommon=function(ua,Sa,ba){var ka=Sa.hostModel;ua.setShape({polyline:ka.get("polyline"),curveness:ka.get(["lineStyle","curveness"])}),ua.useStyle(ka.getModel("lineStyle").getLineStyle()),ua.style.strokeNoScale=!0;var _y=Sa.getVisual("style");_y&&_y.stroke&&ua.setStyle("stroke",_y.stroke),ua.setStyle("fill",null);var Ty=getECData(ua);Ty.seriesIndex=ka.seriesIndex,ua.on("mousemove",function(Ay){Ty.dataIndex=null;var Ey=ua.hoverDataIdx;Ey>0&&(Ty.dataIndex=Ey+ua.__startIndex)})},ha.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},ha}(),linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(ha){var ua=ha.coordinateSystem;if(ua){var Sa=ha.get("polyline"),ba=ha.pipelineContext.large;return{progress:function(ka,_y){var Ty=[];if(ba){var Ay=void 0,Ey=ka.end-ka.start;if(Sa){for(var My=0,Dy=ka.start;Dy<ka.end;Dy++)My+=ha.getLineCoordsCount(Dy);Ay=new Float32Array(Ey+My*2)}else Ay=new Float32Array(Ey*4);for(var Iy=0,Ly=[],Dy=ka.start;Dy<ka.end;Dy++){var Py=ha.getLineCoords(Dy,Ty);Sa&&(Ay[Iy++]=Py);for(var Ry=0;Ry<Py;Ry++)Ly=ua.dataToPoint(Ty[Ry],!1,Ly),Ay[Iy++]=Ly[0],Ay[Iy++]=Ly[1]}_y.setLayout("linesPoints",Ay)}else for(var Dy=ka.start;Dy<ka.end;Dy++){var Vy=_y.getItemModel(Dy),Py=ha.getLineCoords(Dy,Ty),Ny=[];if(Sa)for(var By=0;By<Py;By++)Ny.push(ua.dataToPoint(Ty[By]));else{Ny[0]=ua.dataToPoint(Ty[0]),Ny[1]=ua.dataToPoint(Ty[1]);var Oy=Vy.get(["lineStyle","curveness"]);+Oy&&(Ny[2]=[(Ny[0][0]+Ny[1][0])/2-(Ny[0][1]-Ny[1][1])*Oy,(Ny[0][1]+Ny[1][1])/2-(Ny[1][0]-Ny[0][0])*Oy])}_y.setItemLayout(Dy,Ny)}}}}}},LinesView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){var _y=Sa.getData(),Ty=this._updateLineDraw(_y,Sa),Ay=Sa.get("zlevel"),Ey=Sa.get(["effect","trailLength"]),My=ka.getZr(),Dy=My.painter.getType()==="svg";Dy||My.painter.getLayer(Ay).clear(!0),this._lastZlevel!=null&&!Dy&&My.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(Sa)&&Ey>0&&(Dy||My.configLayer(Ay,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(Ey/10+.9,1),0)})),Ty.updateData(_y);var Iy=Sa.get("clip",!0)&&createClipPath(Sa.coordinateSystem,!1,Sa);Iy?this.group.setClipPath(Iy):this.group.removeClipPath(),this._lastZlevel=Ay,this._finished=!0},ua.prototype.incrementalPrepareRender=function(Sa,ba,ka){var _y=Sa.getData(),Ty=this._updateLineDraw(_y,Sa);Ty.incrementalPrepareUpdate(_y),this._clearLayer(ka),this._finished=!1},ua.prototype.incrementalRender=function(Sa,ba,ka){this._lineDraw.incrementalUpdate(Sa,ba.getData()),this._finished=Sa.end===ba.getData().count()},ua.prototype.eachRendered=function(Sa){this._lineDraw&&this._lineDraw.eachRendered(Sa)},ua.prototype.updateTransform=function(Sa,ba,ka){var _y=Sa.getData(),Ty=Sa.pipelineContext;if(!this._finished||Ty.large||Ty.progressiveRender)return{update:!0};var Ay=linesLayout.reset(Sa,ba,ka);Ay.progress&&Ay.progress({start:0,end:_y.count(),count:_y.count()},_y),this._lineDraw.updateLayout(),this._clearLayer(ka)},ua.prototype._updateLineDraw=function(Sa,ba){var ka=this._lineDraw,_y=this._showEffect(ba),Ty=!!ba.get("polyline"),Ay=ba.pipelineContext,Ey=Ay.large;return(!ka||_y!==this._hasEffet||Ty!==this._isPolyline||Ey!==this._isLargeDraw)&&(ka&&ka.remove(),ka=this._lineDraw=Ey?new LargeLineDraw:new LineDraw(Ty?_y?EffectPolyline:Polyline:_y?EffectLine:Line),this._hasEffet=_y,this._isPolyline=Ty,this._isLargeDraw=Ey),this.group.add(ka.group),ka},ua.prototype._showEffect=function(Sa){return!!Sa.get(["effect","show"])},ua.prototype._clearLayer=function(Sa){var ba=Sa.getZr(),ka=ba.painter.getType()==="svg";!ka&&this._lastZlevel!=null&&ba.painter.getLayer(this._lastZlevel).clear(!0)},ua.prototype.remove=function(Sa,ba){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(ba)},ua.prototype.dispose=function(Sa,ba){this.remove(Sa,ba)},ua.type="lines",ua}(ChartView),Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(ha){var ua=ha.data;ua&&ua[0]&&ua[0][0]&&ua[0][0].coord&&(ha.data=map$1(ua,function(Sa){var ba=[Sa[0].coord,Sa[1].coord],ka={coords:ba};return Sa[0].name&&(ka.fromName=Sa[0].name),Sa[1].name&&(ka.toName=Sa[1].name),mergeAll([ka,Sa[0],Sa[1]])}))}var LinesSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.visualStyleAccessPath="lineStyle",Sa.visualDrawType="stroke",Sa}return ua.prototype.init=function(Sa){Sa.data=Sa.data||[],compatEc2(Sa);var ba=this._processFlatCoordsArray(Sa.data);this._flatCoords=ba.flatCoords,this._flatCoordsOffset=ba.flatCoordsOffset,ba.flatCoords&&(Sa.data=new Float32Array(ba.count)),ha.prototype.init.apply(this,arguments)},ua.prototype.mergeOption=function(Sa){if(compatEc2(Sa),Sa.data){var ba=this._processFlatCoordsArray(Sa.data);this._flatCoords=ba.flatCoords,this._flatCoordsOffset=ba.flatCoordsOffset,ba.flatCoords&&(Sa.data=new Float32Array(ba.count))}ha.prototype.mergeOption.apply(this,arguments)},ua.prototype.appendData=function(Sa){var ba=this._processFlatCoordsArray(Sa.data);ba.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,ba.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,ba.flatCoordsOffset)):(this._flatCoords=ba.flatCoords,this._flatCoordsOffset=ba.flatCoordsOffset),Sa.data=new Float32Array(ba.count)),this.getRawData().appendData(Sa.data)},ua.prototype._getCoordsFromItemModel=function(Sa){var ba=this.getData().getItemModel(Sa),ka=ba.option instanceof Array?ba.option:ba.getShallow("coords");return ka},ua.prototype.getLineCoordsCount=function(Sa){return this._flatCoordsOffset?this._flatCoordsOffset[Sa*2+1]:this._getCoordsFromItemModel(Sa).length},ua.prototype.getLineCoords=function(Sa,ba){if(this._flatCoordsOffset){for(var ka=this._flatCoordsOffset[Sa*2],_y=this._flatCoordsOffset[Sa*2+1],Ty=0;Ty<_y;Ty++)ba[Ty]=ba[Ty]||[],ba[Ty][0]=this._flatCoords[ka+Ty*2],ba[Ty][1]=this._flatCoords[ka+Ty*2+1];return _y}else{for(var Ay=this._getCoordsFromItemModel(Sa),Ty=0;Ty<Ay.length;Ty++)ba[Ty]=ba[Ty]||[],ba[Ty][0]=Ay[Ty][0],ba[Ty][1]=Ay[Ty][1];return Ay.length}},ua.prototype._processFlatCoordsArray=function(Sa){var ba=0;if(this._flatCoords&&(ba=this._flatCoords.length),isNumber(Sa[0])){for(var ka=Sa.length,_y=new Uint32Arr(ka),Ty=new Float64Arr(ka),Ay=0,Ey=0,My=0,Dy=0;Dy<ka;){My++;var Iy=Sa[Dy++];_y[Ey++]=Ay+ba,_y[Ey++]=Iy;for(var Ly=0;Ly<Iy;Ly++){var Py=Sa[Dy++],Ry=Sa[Dy++];Ty[Ay++]=Py,Ty[Ay++]=Ry}}return{flatCoordsOffset:new Uint32Array(_y.buffer,0,Ey),flatCoords:Ty,count:My}}return{flatCoordsOffset:null,flatCoords:null,count:Sa.length}},ua.prototype.getInitialData=function(Sa,ba){var ka=new SeriesData(["value"],this);return ka.hasItemOption=!1,ka.initData(Sa.data,[],function(_y,Ty,Ay,Ey){if(_y instanceof Array)return NaN;ka.hasItemOption=!0;var My=_y.value;if(My!=null)return My instanceof Array?My[Ey]:My}),ka},ua.prototype.formatTooltip=function(Sa,ba,ka){var _y=this.getData(),Ty=_y.getItemModel(Sa),Ay=Ty.get("name");if(Ay)return Ay;var Ey=Ty.get("fromName"),My=Ty.get("toName"),Dy=[];return Ey!=null&&Dy.push(Ey),My!=null&&Dy.push(My),createTooltipMarkup("nameValue",{name:Dy.join(" > ")})},ua.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},ua.prototype.getProgressive=function(){var Sa=this.option.progressive;return Sa??(this.option.large?1e4:this.get("progressive"))},ua.prototype.getProgressiveThreshold=function(){var Sa=this.option.progressiveThreshold;return Sa??(this.option.large?2e4:this.get("progressiveThreshold"))},ua.prototype.getZLevelKey=function(){var Sa=this.getModel("effect"),ba=Sa.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:Sa.get("show")&&ba>0?ba+"":""},ua.type="series.lines",ua.dependencies=["grid","polar","geo","calendar"],ua.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},ua}(SeriesModel);function normalize(ha){return ha instanceof Array||(ha=[ha,ha]),ha}var linesVisual={seriesType:"lines",reset:function(ha){var ua=normalize(ha.get("symbol")),Sa=normalize(ha.get("symbolSize")),ba=ha.getData();ba.setVisual("fromSymbol",ua&&ua[0]),ba.setVisual("toSymbol",ua&&ua[1]),ba.setVisual("fromSymbolSize",Sa&&Sa[0]),ba.setVisual("toSymbolSize",Sa&&Sa[1]);function ka(_y,Ty){var Ay=_y.getItemModel(Ty),Ey=normalize(Ay.getShallow("symbol",!0)),My=normalize(Ay.getShallow("symbolSize",!0));Ey[0]&&_y.setItemVisual(Ty,"fromSymbol",Ey[0]),Ey[1]&&_y.setItemVisual(Ty,"toSymbol",Ey[1]),My[0]&&_y.setItemVisual(Ty,"fromSymbolSize",My[0]),My[1]&&_y.setItemVisual(Ty,"toSymbolSize",My[1])}return{dataEach:ba.hasItemOption?ka:null}}};function install$w(ha){ha.registerChartView(LinesView),ha.registerSeriesModel(LinesSeriesModel),ha.registerLayout(linesLayout),ha.registerVisual(linesVisual)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function ha(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var ua=platformApi.createCanvas();this.canvas=ua}return ha.prototype.update=function(ua,Sa,ba,ka,_y,Ty){var Ay=this._getBrush(),Ey=this._getGradient(_y,"inRange"),My=this._getGradient(_y,"outOfRange"),Dy=this.pointSize+this.blurSize,Iy=this.canvas,Ly=Iy.getContext("2d"),Py=ua.length;Iy.width=Sa,Iy.height=ba;for(var Ry=0;Ry<Py;++Ry){var Vy=ua[Ry],Ny=Vy[0],By=Vy[1],Oy=Vy[2],Fy=ka(Oy);Ly.globalAlpha=Fy,Ly.drawImage(Ay,Ny-Dy,By-Dy)}if(!Iy.width||!Iy.height)return Iy;for(var zy=Ly.getImageData(0,0,Iy.width,Iy.height),Hy=zy.data,Gy=0,Wy=Hy.length,Uy=this.minOpacity,Yy=this.maxOpacity,jy=Yy-Uy;Gy<Wy;){var Fy=Hy[Gy+3]/256,Ky=Math.floor(Fy*(GRADIENT_LEVELS-1))*4;if(Fy>0){var Xy=Ty(Fy)?Ey:My;Fy>0&&(Fy=Fy*jy+Uy),Hy[Gy++]=Xy[Ky],Hy[Gy++]=Xy[Ky+1],Hy[Gy++]=Xy[Ky+2],Hy[Gy++]=Xy[Ky+3]*Fy*256}else Gy+=4}return Ly.putImageData(zy,0,0),Iy},ha.prototype._getBrush=function(){var ua=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),Sa=this.pointSize+this.blurSize,ba=Sa*2;ua.width=ba,ua.height=ba;var ka=ua.getContext("2d");return ka.clearRect(0,0,ba,ba),ka.shadowOffsetX=ba,ka.shadowBlur=this.blurSize,ka.shadowColor="#000",ka.beginPath(),ka.arc(-Sa,Sa,this.pointSize,0,Math.PI*2,!0),ka.closePath(),ka.fill(),ua},ha.prototype._getGradient=function(ua,Sa){for(var ba=this._gradientPixels,ka=ba[Sa]||(ba[Sa]=new Uint8ClampedArray(256*4)),_y=[0,0,0,0],Ty=0,Ay=0;Ay<256;Ay++)ua[Sa](Ay/255,!0,_y),ka[Ty++]=_y[0],ka[Ty++]=_y[1],ka[Ty++]=_y[2],ka[Ty++]=_y[3];return ka},ha}();function getIsInPiecewiseRange(ha,ua,Sa){var ba=ha[1]-ha[0];ua=map$1(ua,function(Ty){return{interval:[(Ty.interval[0]-ha[0])/ba,(Ty.interval[1]-ha[0])/ba]}});var ka=ua.length,_y=0;return function(Ty){var Ay;for(Ay=_y;Ay<ka;Ay++){var Ey=ua[Ay].interval;if(Ey[0]<=Ty&&Ty<=Ey[1]){_y=Ay;break}}if(Ay===ka)for(Ay=_y-1;Ay>=0;Ay--){var Ey=ua[Ay].interval;if(Ey[0]<=Ty&&Ty<=Ey[1]){_y=Ay;break}}return Ay>=0&&Ay<ka&&Sa[Ay]}}function getIsInContinuousRange(ha,ua){var Sa=ha[1]-ha[0];return ua=[(ua[0]-ha[0])/Sa,(ua[1]-ha[0])/Sa],function(ba){return ba>=ua[0]&&ba<=ua[1]}}function isGeoCoordSys(ha){var ua=ha.dimensions;return ua[0]==="lng"&&ua[1]==="lat"}var HeatmapView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){var _y;ba.eachComponent("visualMap",function(Ay){Ay.eachTargetSeries(function(Ey){Ey===Sa&&(_y=Ay)})}),this._progressiveEls=null,this.group.removeAll();var Ty=Sa.coordinateSystem;Ty.type==="cartesian2d"||Ty.type==="calendar"?this._renderOnCartesianAndCalendar(Sa,ka,0,Sa.getData().count()):isGeoCoordSys(Ty)&&this._renderOnGeo(Ty,Sa,_y,ka)},ua.prototype.incrementalPrepareRender=function(Sa,ba,ka){this.group.removeAll()},ua.prototype.incrementalRender=function(Sa,ba,ka,_y){var Ty=ba.coordinateSystem;Ty&&(isGeoCoordSys(Ty)?this.render(ba,ka,_y):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(ba,_y,Sa.start,Sa.end,!0)))},ua.prototype.eachRendered=function(Sa){traverseElements(this._progressiveEls||this.group,Sa)},ua.prototype._renderOnCartesianAndCalendar=function(Sa,ba,ka,_y,Ty){var Ay=Sa.coordinateSystem,Ey=isCoordinateSystemType(Ay,"cartesian2d"),My,Dy,Iy,Ly;if(Ey){var Py=Ay.getAxis("x"),Ry=Ay.getAxis("y");My=Py.getBandWidth()+.5,Dy=Ry.getBandWidth()+.5,Iy=Py.scale.getExtent(),Ly=Ry.scale.getExtent()}for(var Vy=this.group,Ny=Sa.getData(),By=Sa.getModel(["emphasis","itemStyle"]).getItemStyle(),Oy=Sa.getModel(["blur","itemStyle"]).getItemStyle(),Fy=Sa.getModel(["select","itemStyle"]).getItemStyle(),zy=Sa.get(["itemStyle","borderRadius"]),Hy=getLabelStatesModels(Sa),Gy=Sa.getModel("emphasis"),Wy=Gy.get("focus"),Uy=Gy.get("blurScope"),Yy=Gy.get("disabled"),jy=Ey?[Ny.mapDimension("x"),Ny.mapDimension("y"),Ny.mapDimension("value")]:[Ny.mapDimension("time"),Ny.mapDimension("value")],Ky=ka;Ky<_y;Ky++){var Xy=void 0,Zy=Ny.getItemVisual(Ky,"style");if(Ey){var Jy=Ny.get(jy[0],Ky),t_=Ny.get(jy[1],Ky);if(isNaN(Ny.get(jy[2],Ky))||isNaN(Jy)||isNaN(t_)||Jy<Iy[0]||Jy>Iy[1]||t_<Ly[0]||t_>Ly[1])continue;var Qy=Ay.dataToPoint([Jy,t_]);Xy=new Rect$2({shape:{x:Qy[0]-My/2,y:Qy[1]-Dy/2,width:My,height:Dy},style:Zy})}else{if(isNaN(Ny.get(jy[1],Ky)))continue;Xy=new Rect$2({z2:1,shape:Ay.dataToRect([Ny.get(jy[0],Ky)]).contentShape,style:Zy})}if(Ny.hasItemOption){var r_=Ny.getItemModel(Ky),i_=r_.getModel("emphasis");By=i_.getModel("itemStyle").getItemStyle(),Oy=r_.getModel(["blur","itemStyle"]).getItemStyle(),Fy=r_.getModel(["select","itemStyle"]).getItemStyle(),zy=r_.get(["itemStyle","borderRadius"]),Wy=i_.get("focus"),Uy=i_.get("blurScope"),Yy=i_.get("disabled"),Hy=getLabelStatesModels(r_)}Xy.shape.r=zy;var l_=Sa.getRawValue(Ky),c_="-";l_&&l_[2]!=null&&(c_=l_[2]+""),setLabelStyle(Xy,Hy,{labelFetcher:Sa,labelDataIndex:Ky,defaultOpacity:Zy.opacity,defaultText:c_}),Xy.ensureState("emphasis").style=By,Xy.ensureState("blur").style=Oy,Xy.ensureState("select").style=Fy,toggleHoverEmphasis(Xy,Wy,Uy,Yy),Xy.incremental=Ty,Ty&&(Xy.states.emphasis.hoverLayer=!0),Vy.add(Xy),Ny.setItemGraphicEl(Ky,Xy),this._progressiveEls&&this._progressiveEls.push(Xy)}},ua.prototype._renderOnGeo=function(Sa,ba,ka,_y){var Ty=ka.targetVisuals.inRange,Ay=ka.targetVisuals.outOfRange,Ey=ba.getData(),My=this._hmLayer||this._hmLayer||new HeatmapLayer;My.blurSize=ba.get("blurSize"),My.pointSize=ba.get("pointSize"),My.minOpacity=ba.get("minOpacity"),My.maxOpacity=ba.get("maxOpacity");var Dy=Sa.getViewRect().clone(),Iy=Sa.getRoamTransform();Dy.applyTransform(Iy);var Ly=Math.max(Dy.x,0),Py=Math.max(Dy.y,0),Ry=Math.min(Dy.width+Dy.x,_y.getWidth()),Vy=Math.min(Dy.height+Dy.y,_y.getHeight()),Ny=Ry-Ly,By=Vy-Py,Oy=[Ey.mapDimension("lng"),Ey.mapDimension("lat"),Ey.mapDimension("value")],Fy=Ey.mapArray(Oy,function(Wy,Uy,Yy){var jy=Sa.dataToPoint([Wy,Uy]);return jy[0]-=Ly,jy[1]-=Py,jy.push(Yy),jy}),zy=ka.getExtent(),Hy=ka.type==="visualMap.continuous"?getIsInContinuousRange(zy,ka.option.range):getIsInPiecewiseRange(zy,ka.getPieceList(),ka.option.selected);My.update(Fy,Ny,By,Ty.color.getNormalizer(),{inRange:Ty.color.getColorMapper(),outOfRange:Ay.color.getColorMapper()},Hy);var Gy=new ZRImage({style:{width:Ny,height:By,x:Ly,y:Py,image:My.canvas},silent:!0});this.group.add(Gy)},ua.type="heatmap",ua}(ChartView),HeatmapSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.getInitialData=function(Sa,ba){return createSeriesData(null,this,{generateCoord:"value"})},ua.prototype.preventIncremental=function(){var Sa=CoordinateSystemManager.get(this.get("coordinateSystem"));if(Sa&&Sa.dimensions)return Sa.dimensions[0]==="lng"&&Sa.dimensions[1]==="lat"},ua.type="series.heatmap",ua.dependencies=["grid","geo","calendar"],ua.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},ua}(SeriesModel);function install$v(ha){ha.registerChartView(HeatmapView),ha.registerSeriesModel(HeatmapSeriesModel)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle,PictorialBarView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){var _y=this.group,Ty=Sa.getData(),Ay=this._data,Ey=Sa.coordinateSystem,My=Ey.getBaseAxis(),Dy=My.isHorizontal(),Iy=Ey.master.getRect(),Ly={ecSize:{width:ka.getWidth(),height:ka.getHeight()},seriesModel:Sa,coordSys:Ey,coordSysExtent:[[Iy.x,Iy.x+Iy.width],[Iy.y,Iy.y+Iy.height]],isHorizontal:Dy,valueDim:LAYOUT_ATTRS[+Dy],categoryDim:LAYOUT_ATTRS[1-+Dy]};Ty.diff(Ay).add(function(Ry){if(Ty.hasValue(Ry)){var Vy=getItemModel(Ty,Ry),Ny=getSymbolMeta(Ty,Ry,Vy,Ly),By=createBar(Ty,Ly,Ny);Ty.setItemGraphicEl(Ry,By),_y.add(By),updateCommon(By,Ly,Ny)}}).update(function(Ry,Vy){var Ny=Ay.getItemGraphicEl(Vy);if(!Ty.hasValue(Ry)){_y.remove(Ny);return}var By=getItemModel(Ty,Ry),Oy=getSymbolMeta(Ty,Ry,By,Ly),Fy=getShapeStr(Ty,Oy);Ny&&Fy!==Ny.__pictorialShapeStr&&(_y.remove(Ny),Ty.setItemGraphicEl(Ry,null),Ny=null),Ny?updateBar(Ny,Ly,Oy):Ny=createBar(Ty,Ly,Oy,!0),Ty.setItemGraphicEl(Ry,Ny),Ny.__pictorialSymbolMeta=Oy,_y.add(Ny),updateCommon(Ny,Ly,Oy)}).remove(function(Ry){var Vy=Ay.getItemGraphicEl(Ry);Vy&&removeBar(Ay,Ry,Vy.__pictorialSymbolMeta.animationModel,Vy)}).execute();var Py=Sa.get("clip",!0)?createClipPath(Sa.coordinateSystem,!1,Sa):null;return Py?_y.setClipPath(Py):_y.removeClipPath(),this._data=Ty,this.group},ua.prototype.remove=function(Sa,ba){var ka=this.group,_y=this._data;Sa.get("animation")?_y&&_y.eachItemGraphicEl(function(Ty){removeBar(_y,getECData(Ty).dataIndex,Sa,Ty)}):ka.removeAll()},ua.type="pictorialBar",ua}(ChartView);function getSymbolMeta(ha,ua,Sa,ba){var ka=ha.getItemLayout(ua),_y=Sa.get("symbolRepeat"),Ty=Sa.get("symbolClip"),Ay=Sa.get("symbolPosition")||"start",Ey=Sa.get("symbolRotate"),My=(Ey||0)*Math.PI/180||0,Dy=Sa.get("symbolPatternSize")||2,Iy=Sa.isAnimationEnabled(),Ly={dataIndex:ua,layout:ka,itemModel:Sa,symbolType:ha.getItemVisual(ua,"symbol")||"circle",style:ha.getItemVisual(ua,"style"),symbolClip:Ty,symbolRepeat:_y,symbolRepeatDirection:Sa.get("symbolRepeatDirection"),symbolPatternSize:Dy,rotation:My,animationModel:Iy?Sa:null,hoverScale:Iy&&Sa.get(["emphasis","scale"]),z2:Sa.getShallow("z",!0)||0};prepareBarLength(Sa,_y,ka,ba,Ly),prepareSymbolSize(ha,ua,ka,_y,Ty,Ly.boundingLength,Ly.pxSign,Dy,ba,Ly),prepareLineWidth(Sa,Ly.symbolScale,My,ba,Ly);var Py=Ly.symbolSize,Ry=normalizeSymbolOffset(Sa.get("symbolOffset"),Py);return prepareLayoutInfo(Sa,Py,ka,_y,Ty,Ry,Ay,Ly.valueLineWidth,Ly.boundingLength,Ly.repeatCutLength,ba,Ly),Ly}function prepareBarLength(ha,ua,Sa,ba,ka){var _y=ba.valueDim,Ty=ha.get("symbolBoundingData"),Ay=ba.coordSys.getOtherAxis(ba.coordSys.getBaseAxis()),Ey=Ay.toGlobalCoord(Ay.dataToCoord(0)),My=1-+(Sa[_y.wh]<=0),Dy;if(isArray$1(Ty)){var Iy=[convertToCoordOnAxis(Ay,Ty[0])-Ey,convertToCoordOnAxis(Ay,Ty[1])-Ey];Iy[1]<Iy[0]&&Iy.reverse(),Dy=Iy[My]}else Ty!=null?Dy=convertToCoordOnAxis(Ay,Ty)-Ey:ua?Dy=ba.coordSysExtent[_y.index][My]-Ey:Dy=Sa[_y.wh];ka.boundingLength=Dy,ua&&(ka.repeatCutLength=Sa[_y.wh]);var Ly=_y.xy==="x",Py=Ay.inverse;ka.pxSign=Ly&&!Py||!Ly&&Py?Dy>=0?1:-1:Dy>0?1:-1}function convertToCoordOnAxis(ha,ua){return ha.toGlobalCoord(ha.dataToCoord(ha.scale.parse(ua)))}function prepareSymbolSize(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My){var Dy=Ey.valueDim,Iy=Ey.categoryDim,Ly=Math.abs(Sa[Iy.wh]),Py=ha.getItemVisual(ua,"symbolSize"),Ry;isArray$1(Py)?Ry=Py.slice():Py==null?Ry=["100%","100%"]:Ry=[Py,Py],Ry[Iy.index]=parsePercent(Ry[Iy.index],Ly),Ry[Dy.index]=parsePercent(Ry[Dy.index],ba?Ly:Math.abs(_y)),My.symbolSize=Ry;var Vy=My.symbolScale=[Ry[0]/Ay,Ry[1]/Ay];Vy[Dy.index]*=(Ey.isHorizontal?-1:1)*Ty}function prepareLineWidth(ha,ua,Sa,ba,ka){var _y=ha.get(BAR_BORDER_WIDTH_QUERY)||0;_y&&(pathForLineWidth.attr({scaleX:ua[0],scaleY:ua[1],rotation:Sa}),pathForLineWidth.updateTransform(),_y/=pathForLineWidth.getLineScale(),_y*=ua[ba.valueDim.index]),ka.valueLineWidth=_y||0}function prepareLayoutInfo(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My,Dy,Iy){var Ly=Dy.categoryDim,Py=Dy.valueDim,Ry=Iy.pxSign,Vy=Math.max(ua[Py.index]+Ay,0),Ny=Vy;if(ba){var By=Math.abs(Ey),Oy=retrieve(ha.get("symbolMargin"),"15%")+"",Fy=!1;Oy.lastIndexOf("!")===Oy.length-1&&(Fy=!0,Oy=Oy.slice(0,Oy.length-1));var zy=parsePercent(Oy,ua[Py.index]),Hy=Math.max(Vy+zy*2,0),Gy=Fy?0:zy*2,Wy=isNumeric(ba),Uy=Wy?ba:toIntTimes((By+Gy)/Hy),Yy=By-Uy*Vy;zy=Yy/2/(Fy?Uy:Math.max(Uy-1,1)),Hy=Vy+zy*2,Gy=Fy?0:zy*2,!Wy&&ba!=="fixed"&&(Uy=My?toIntTimes((Math.abs(My)+Gy)/Hy):0),Ny=Uy*Hy-Gy,Iy.repeatTimes=Uy,Iy.symbolMargin=zy}var jy=Ry*(Ny/2),Ky=Iy.pathPosition=[];Ky[Ly.index]=Sa[Ly.wh]/2,Ky[Py.index]=Ty==="start"?jy:Ty==="end"?Ey-jy:Ey/2,_y&&(Ky[0]+=_y[0],Ky[1]+=_y[1]);var Xy=Iy.bundlePosition=[];Xy[Ly.index]=Sa[Ly.xy],Xy[Py.index]=Sa[Py.xy];var Zy=Iy.barRectShape=extend({},Sa);Zy[Py.wh]=Ry*Math.max(Math.abs(Sa[Py.wh]),Math.abs(Ky[Py.index]+jy)),Zy[Ly.wh]=Sa[Ly.wh];var Jy=Iy.clipShape={};Jy[Ly.xy]=-Sa[Ly.xy],Jy[Ly.wh]=Dy.ecSize[Ly.wh],Jy[Py.xy]=0,Jy[Py.wh]=Sa[Py.wh]}function createPath(ha){var ua=ha.symbolPatternSize,Sa=createSymbol$1(ha.symbolType,-ua/2,-ua/2,ua,ua);return Sa.attr({culling:!0}),Sa.type!=="image"&&Sa.setStyle({strokeNoScale:!0}),Sa}function createOrUpdateRepeatSymbols(ha,ua,Sa,ba){var ka=ha.__pictorialBundle,_y=Sa.symbolSize,Ty=Sa.valueLineWidth,Ay=Sa.pathPosition,Ey=ua.valueDim,My=Sa.repeatTimes||0,Dy=0,Iy=_y[ua.valueDim.index]+Ty+Sa.symbolMargin*2;for(eachPath(ha,function(Vy){Vy.__pictorialAnimationIndex=Dy,Vy.__pictorialRepeatTimes=My,Dy<My?updateAttr(Vy,null,Ry(Dy),Sa,ba):updateAttr(Vy,null,{scaleX:0,scaleY:0},Sa,ba,function(){ka.remove(Vy)}),Dy++});Dy<My;Dy++){var Ly=createPath(Sa);Ly.__pictorialAnimationIndex=Dy,Ly.__pictorialRepeatTimes=My,ka.add(Ly);var Py=Ry(Dy);updateAttr(Ly,{x:Py.x,y:Py.y,scaleX:0,scaleY:0},{scaleX:Py.scaleX,scaleY:Py.scaleY,rotation:Py.rotation},Sa,ba)}function Ry(Vy){var Ny=Ay.slice(),By=Sa.pxSign,Oy=Vy;return(Sa.symbolRepeatDirection==="start"?By>0:By<0)&&(Oy=My-1-Vy),Ny[Ey.index]=Iy*(Oy-My/2+.5)+Ay[Ey.index],{x:Ny[0],y:Ny[1],scaleX:Sa.symbolScale[0],scaleY:Sa.symbolScale[1],rotation:Sa.rotation}}}function createOrUpdateSingleSymbol(ha,ua,Sa,ba){var ka=ha.__pictorialBundle,_y=ha.__pictorialMainPath;_y?updateAttr(_y,null,{x:Sa.pathPosition[0],y:Sa.pathPosition[1],scaleX:Sa.symbolScale[0],scaleY:Sa.symbolScale[1],rotation:Sa.rotation},Sa,ba):(_y=ha.__pictorialMainPath=createPath(Sa),ka.add(_y),updateAttr(_y,{x:Sa.pathPosition[0],y:Sa.pathPosition[1],scaleX:0,scaleY:0,rotation:Sa.rotation},{scaleX:Sa.symbolScale[0],scaleY:Sa.symbolScale[1]},Sa,ba))}function createOrUpdateBarRect(ha,ua,Sa){var ba=extend({},ua.barRectShape),ka=ha.__pictorialBarRect;ka?updateAttr(ka,null,{shape:ba},ua,Sa):(ka=ha.__pictorialBarRect=new Rect$2({z2:2,shape:ba,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),ka.disableMorphing=!0,ha.add(ka))}function createOrUpdateClip(ha,ua,Sa,ba){if(Sa.symbolClip){var ka=ha.__pictorialClipPath,_y=extend({},Sa.clipShape),Ty=ua.valueDim,Ay=Sa.animationModel,Ey=Sa.dataIndex;if(ka)updateProps$1(ka,{shape:_y},Ay,Ey);else{_y[Ty.wh]=0,ka=new Rect$2({shape:_y}),ha.__pictorialBundle.setClipPath(ka),ha.__pictorialClipPath=ka;var My={};My[Ty.wh]=Sa.clipShape[Ty.wh],graphic[ba?"updateProps":"initProps"](ka,{shape:My},Ay,Ey)}}}function getItemModel(ha,ua){var Sa=ha.getItemModel(ua);return Sa.getAnimationDelayParams=getAnimationDelayParams,Sa.isAnimationEnabled=isAnimationEnabled,Sa}function getAnimationDelayParams(ha){return{index:ha.__pictorialAnimationIndex,count:ha.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(ha,ua,Sa,ba){var ka=new Group$3,_y=new Group$3;return ka.add(_y),ka.__pictorialBundle=_y,_y.x=Sa.bundlePosition[0],_y.y=Sa.bundlePosition[1],Sa.symbolRepeat?createOrUpdateRepeatSymbols(ka,ua,Sa):createOrUpdateSingleSymbol(ka,ua,Sa),createOrUpdateBarRect(ka,Sa,ba),createOrUpdateClip(ka,ua,Sa,ba),ka.__pictorialShapeStr=getShapeStr(ha,Sa),ka.__pictorialSymbolMeta=Sa,ka}function updateBar(ha,ua,Sa){var ba=Sa.animationModel,ka=Sa.dataIndex,_y=ha.__pictorialBundle;updateProps$1(_y,{x:Sa.bundlePosition[0],y:Sa.bundlePosition[1]},ba,ka),Sa.symbolRepeat?createOrUpdateRepeatSymbols(ha,ua,Sa,!0):createOrUpdateSingleSymbol(ha,ua,Sa,!0),createOrUpdateBarRect(ha,Sa,!0),createOrUpdateClip(ha,ua,Sa,!0)}function removeBar(ha,ua,Sa,ba){var ka=ba.__pictorialBarRect;ka&&ka.removeTextContent();var _y=[];eachPath(ba,function(Ty){_y.push(Ty)}),ba.__pictorialMainPath&&_y.push(ba.__pictorialMainPath),ba.__pictorialClipPath&&(Sa=null),each$f(_y,function(Ty){removeElement(Ty,{scaleX:0,scaleY:0},Sa,ua,function(){ba.parent&&ba.parent.remove(ba)})}),ha.setItemGraphicEl(ua,null)}function getShapeStr(ha,ua){return[ha.getItemVisual(ua.dataIndex,"symbol")||"none",!!ua.symbolRepeat,!!ua.symbolClip].join(":")}function eachPath(ha,ua,Sa){each$f(ha.__pictorialBundle.children(),function(ba){ba!==ha.__pictorialBarRect&&ua.call(Sa,ba)})}function updateAttr(ha,ua,Sa,ba,ka,_y){ua&&ha.attr(ua),ba.symbolClip&&!ka?Sa&&ha.attr(Sa):Sa&&graphic[ka?"updateProps":"initProps"](ha,Sa,ba.animationModel,ba.dataIndex,_y)}function updateCommon(ha,ua,Sa){var ba=Sa.dataIndex,ka=Sa.itemModel,_y=ka.getModel("emphasis"),Ty=_y.getModel("itemStyle").getItemStyle(),Ay=ka.getModel(["blur","itemStyle"]).getItemStyle(),Ey=ka.getModel(["select","itemStyle"]).getItemStyle(),My=ka.getShallow("cursor"),Dy=_y.get("focus"),Iy=_y.get("blurScope"),Ly=_y.get("scale");eachPath(ha,function(Vy){if(Vy instanceof ZRImage){var Ny=Vy.style;Vy.useStyle(extend({image:Ny.image,x:Ny.x,y:Ny.y,width:Ny.width,height:Ny.height},Sa.style))}else Vy.useStyle(Sa.style);var By=Vy.ensureState("emphasis");By.style=Ty,Ly&&(By.scaleX=Vy.scaleX*1.1,By.scaleY=Vy.scaleY*1.1),Vy.ensureState("blur").style=Ay,Vy.ensureState("select").style=Ey,My&&(Vy.cursor=My),Vy.z2=Sa.z2});var Py=ua.valueDim.posDesc[+(Sa.boundingLength>0)],Ry=ha.__pictorialBarRect;Ry.ignoreClip=!0,setLabelStyle(Ry,getLabelStatesModels(ka),{labelFetcher:ua.seriesModel,labelDataIndex:ba,defaultText:getDefaultLabel(ua.seriesModel.getData(),ba),inheritColor:Sa.style.fill,defaultOpacity:Sa.style.opacity,defaultOutsidePosition:Py}),toggleHoverEmphasis(ha,Dy,Iy,_y.get("disabled"))}function toIntTimes(ha){var ua=Math.round(ha);return Math.abs(ha-ua)<1e-4?ua:Math.ceil(ha)}var PictorialBarSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.hasSymbolVisual=!0,Sa.defaultSymbol="roundRect",Sa}return ua.prototype.getInitialData=function(Sa){return Sa.stack=null,ha.prototype.getInitialData.apply(this,arguments)},ua.type="series.pictorialBar",ua.dependencies=["grid"],ua.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),ua}(BaseBarSeriesModel);function install$u(ha){ha.registerChartView(PictorialBarView),ha.registerSeriesModel(PictorialBarSeriesModel),ha.registerLayout(ha.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),ha.registerLayout(ha.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa._layers=[],Sa}return ua.prototype.render=function(Sa,ba,ka){var _y=Sa.getData(),Ty=this,Ay=this.group,Ey=Sa.getLayerSeries(),My=_y.getLayout("layoutInfo"),Dy=My.rect,Iy=My.boundaryGap;Ay.x=0,Ay.y=Dy.y+Iy[0];function Ly(Ny){return Ny.name}var Py=new DataDiffer(this._layersSeries||[],Ey,Ly,Ly),Ry=[];Py.add(bind$1(Vy,this,"add")).update(bind$1(Vy,this,"update")).remove(bind$1(Vy,this,"remove")).execute();function Vy(Ny,By,Oy){var Fy=Ty._layers;if(Ny==="remove"){Ay.remove(Fy[By]);return}for(var zy=[],Hy=[],Gy,Wy=Ey[By].indices,Uy=0;Uy<Wy.length;Uy++){var Yy=_y.getItemLayout(Wy[Uy]),jy=Yy.x,Ky=Yy.y0,Xy=Yy.y;zy.push(jy,Ky),Hy.push(jy,Ky+Xy),Gy=_y.getItemVisual(Wy[Uy],"style")}var Zy,Jy=_y.getItemLayout(Wy[0]),t_=Sa.getModel("label"),Qy=t_.get("margin"),r_=Sa.getModel("emphasis");if(Ny==="add"){var i_=Ry[By]=new Group$3;Zy=new ECPolygon({shape:{points:zy,stackedOnPoints:Hy,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),i_.add(Zy),Ay.add(i_),Sa.isAnimationEnabled()&&Zy.setClipPath(createGridClipShape(Zy.getBoundingRect(),Sa,function(){Zy.removeClipPath()}))}else{var i_=Fy[Oy];Zy=i_.childAt(0),Ay.add(i_),Ry[By]=i_,updateProps$1(Zy,{shape:{points:zy,stackedOnPoints:Hy}},Sa),saveOldStyle(Zy)}setLabelStyle(Zy,getLabelStatesModels(Sa),{labelDataIndex:Wy[Uy-1],defaultText:_y.getName(Wy[Uy-1]),inheritColor:Gy.fill},{normal:{verticalAlign:"middle"}}),Zy.setTextConfig({position:null,local:!0});var l_=Zy.getTextContent();l_&&(l_.x=Jy.x-Qy,l_.y=Jy.y0+Jy.y/2),Zy.useStyle(Gy),_y.setItemGraphicEl(By,Zy),setStatesStylesFromModel(Zy,Sa),toggleHoverEmphasis(Zy,r_.get("focus"),r_.get("blurScope"),r_.get("disabled"))}this._layersSeries=Ey,this._layers=Ry},ua.type="themeRiver",ua}(ChartView);function createGridClipShape(ha,ua,Sa){var ba=new Rect$2({shape:{x:ha.x-10,y:ha.y-10,width:0,height:ha.height+20}});return initProps(ba,{shape:{x:ha.x-50,width:ha.width+100,height:ha.height+20}},ua,Sa),ba}var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(Sa){ha.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},ua.prototype.fixData=function(Sa){var ba=Sa.length,ka={},_y=groupData(Sa,function(Ly){return ka.hasOwnProperty(Ly[0]+"")||(ka[Ly[0]+""]=-1),Ly[2]}),Ty=[];_y.buckets.each(function(Ly,Py){Ty.push({name:Py,dataList:Ly})});for(var Ay=Ty.length,Ey=0;Ey<Ay;++Ey){for(var My=Ty[Ey].name,Dy=0;Dy<Ty[Ey].dataList.length;++Dy){var Iy=Ty[Ey].dataList[Dy][0]+"";ka[Iy]=Ey}for(var Iy in ka)ka.hasOwnProperty(Iy)&&ka[Iy]!==Ey&&(ka[Iy]=Ey,Sa[ba]=[Iy,0,My],ba++)}return Sa},ua.prototype.getInitialData=function(Sa,ba){for(var ka=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],_y=ka.get("type"),Ty=filter(Sa.data,function(Ry){return Ry[2]!==void 0}),Ay=this.fixData(Ty||[]),Ey=[],My=this.nameMap=createHashMap(),Dy=0,Iy=0;Iy<Ay.length;++Iy)Ey.push(Ay[Iy][DATA_NAME_INDEX]),My.get(Ay[Iy][DATA_NAME_INDEX])||(My.set(Ay[Iy][DATA_NAME_INDEX],Dy),Dy++);var Ly=prepareSeriesDataSchema(Ay,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(_y)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,Py=new SeriesData(Ly,this);return Py.initData(Ay),Py},ua.prototype.getLayerSeries=function(){for(var Sa=this.getData(),ba=Sa.count(),ka=[],_y=0;_y<ba;++_y)ka[_y]=_y;var Ty=Sa.mapDimension("single"),Ay=groupData(ka,function(My){return Sa.get("name",My)}),Ey=[];return Ay.buckets.each(function(My,Dy){My.sort(function(Iy,Ly){return Sa.get(Ty,Iy)-Sa.get(Ty,Ly)}),Ey.push({name:Dy,indices:My})}),Ey},ua.prototype.getAxisTooltipData=function(Sa,ba,ka){isArray$1(Sa)||(Sa=Sa?[Sa]:[]);for(var _y=this.getData(),Ty=this.getLayerSeries(),Ay=[],Ey=Ty.length,My,Dy=0;Dy<Ey;++Dy){for(var Iy=Number.MAX_VALUE,Ly=-1,Py=Ty[Dy].indices.length,Ry=0;Ry<Py;++Ry){var Vy=_y.get(Sa[0],Ty[Dy].indices[Ry]),Ny=Math.abs(Vy-ba);Ny<=Iy&&(My=Vy,Iy=Ny,Ly=Ty[Dy].indices[Ry])}Ay.push(Ly)}return{dataIndices:Ay,nestestValue:My}},ua.prototype.formatTooltip=function(Sa,ba,ka){var _y=this.getData(),Ty=_y.getName(Sa),Ay=_y.get(_y.mapDimension("value"),Sa);return createTooltipMarkup("nameValue",{name:Ty,value:Ay})},ua.type="series.themeRiver",ua.dependencies=["singleAxis"],ua.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},ua}(SeriesModel);function themeRiverLayout(ha,ua){ha.eachSeriesByType("themeRiver",function(Sa){var ba=Sa.getData(),ka=Sa.coordinateSystem,_y={},Ty=ka.getRect();_y.rect=Ty;var Ay=Sa.get("boundaryGap"),Ey=ka.getAxis();if(_y.boundaryGap=Ay,Ey.orient==="horizontal"){Ay[0]=parsePercent(Ay[0],Ty.height),Ay[1]=parsePercent(Ay[1],Ty.height);var My=Ty.height-Ay[0]-Ay[1];doThemeRiverLayout(ba,Sa,My)}else{Ay[0]=parsePercent(Ay[0],Ty.width),Ay[1]=parsePercent(Ay[1],Ty.width);var Dy=Ty.width-Ay[0]-Ay[1];doThemeRiverLayout(ba,Sa,Dy)}ba.setLayout("layoutInfo",_y)})}function doThemeRiverLayout(ha,ua,Sa){if(ha.count())for(var ba=ua.coordinateSystem,ka=ua.getLayerSeries(),_y=ha.mapDimension("single"),Ty=ha.mapDimension("value"),Ay=map$1(ka,function(Ny){return map$1(Ny.indices,function(By){var Oy=ba.dataToPoint(ha.get(_y,By));return Oy[1]=ha.get(Ty,By),Oy})}),Ey=computeBaseline(Ay),My=Ey.y0,Dy=Sa/Ey.max,Iy=ka.length,Ly=ka[0].indices.length,Py,Ry=0;Ry<Ly;++Ry){Py=My[Ry]*Dy,ha.setItemLayout(ka[0].indices[Ry],{layerIndex:0,x:Ay[0][Ry][0],y0:Py,y:Ay[0][Ry][1]*Dy});for(var Vy=1;Vy<Iy;++Vy)Py+=Ay[Vy-1][Ry][1]*Dy,ha.setItemLayout(ka[Vy].indices[Ry],{layerIndex:Vy,x:Ay[Vy][Ry][0],y0:Py,y:Ay[Vy][Ry][1]*Dy})}}function computeBaseline(ha){for(var ua=ha.length,Sa=ha[0].length,ba=[],ka=[],_y=0,Ty=0;Ty<Sa;++Ty){for(var Ay=0,Ey=0;Ey<ua;++Ey)Ay+=ha[Ey][Ty][1];Ay>_y&&(_y=Ay),ba.push(Ay)}for(var My=0;My<Sa;++My)ka[My]=(_y-ba[My])/2;_y=0;for(var Dy=0;Dy<Sa;++Dy){var Iy=ba[Dy]+ka[Dy];Iy>_y&&(_y=Iy)}return{y0:ka,max:_y}}function install$t(ha){ha.registerChartView(ThemeRiverView),ha.registerSeriesModel(ThemeRiverSeriesModel),ha.registerLayout(themeRiverLayout),ha.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(ha){__extends(ua,ha);function ua(Sa,ba,ka,_y){var Ty=ha.call(this)||this;Ty.z2=DEFAULT_SECTOR_Z,Ty.textConfig={inside:!0},getECData(Ty).seriesIndex=ba.seriesIndex;var Ay=new ZRText({z2:DEFAULT_TEXT_Z,silent:Sa.getModel().get(["label","silent"])});return Ty.setTextContent(Ay),Ty.updateData(!0,Sa,ba,ka,_y),Ty}return ua.prototype.updateData=function(Sa,ba,ka,_y,Ty){this.node=ba,ba.piece=this,ka=ka||this._seriesModel,_y=_y||this._ecModel;var Ay=this;getECData(Ay).dataIndex=ba.dataIndex;var Ey=ba.getModel(),My=Ey.getModel("emphasis"),Dy=ba.getLayout(),Iy=extend({},Dy);Iy.label=null;var Ly=ba.getVisual("style");Ly.lineJoin="bevel";var Py=ba.getVisual("decal");Py&&(Ly.decal=createOrUpdatePatternFromDecal(Py,Ty));var Ry=getSectorCornerRadius(Ey.getModel("itemStyle"),Iy,!0);extend(Iy,Ry),each$f(SPECIAL_STATES,function(Oy){var Fy=Ay.ensureState(Oy),zy=Ey.getModel([Oy,"itemStyle"]);Fy.style=zy.getItemStyle();var Hy=getSectorCornerRadius(zy,Iy);Hy&&(Fy.shape=Hy)}),Sa?(Ay.setShape(Iy),Ay.shape.r=Dy.r0,initProps(Ay,{shape:{r:Dy.r}},ka,ba.dataIndex)):(updateProps$1(Ay,{shape:Iy},ka),saveOldStyle(Ay)),Ay.useStyle(Ly),this._updateLabel(ka);var Vy=Ey.getShallow("cursor");Vy&&Ay.attr("cursor",Vy),this._seriesModel=ka||this._seriesModel,this._ecModel=_y||this._ecModel;var Ny=My.get("focus"),By=Ny==="relative"?concatArray(ba.getAncestorsIndices(),ba.getDescendantIndices()):Ny==="ancestor"?ba.getAncestorsIndices():Ny==="descendant"?ba.getDescendantIndices():Ny;toggleHoverEmphasis(this,By,My.get("blurScope"),My.get("disabled"))},ua.prototype._updateLabel=function(Sa){var ba=this,ka=this.node.getModel(),_y=ka.getModel("label"),Ty=this.node.getLayout(),Ay=Ty.endAngle-Ty.startAngle,Ey=(Ty.startAngle+Ty.endAngle)/2,My=Math.cos(Ey),Dy=Math.sin(Ey),Iy=this,Ly=Iy.getTextContent(),Py=this.node.dataIndex,Ry=_y.get("minAngle")/180*Math.PI,Vy=_y.get("show")&&!(Ry!=null&&Math.abs(Ay)<Ry);Ly.ignore=!Vy,each$f(DISPLAY_STATES,function(By){var Oy=By==="normal"?ka.getModel("label"):ka.getModel([By,"label"]),Fy=By==="normal",zy=Fy?Ly:Ly.ensureState(By),Hy=Sa.getFormattedLabel(Py,By);Fy&&(Hy=Hy||ba.node.name),zy.style=createTextStyle(Oy,{},null,By!=="normal",!0),Hy&&(zy.style.text=Hy);var Gy=Oy.get("show");Gy!=null&&!Fy&&(zy.ignore=!Gy);var Wy=Ny(Oy,"position"),Uy=Fy?Iy:Iy.states[By],Yy=Uy.style.fill;Uy.textConfig={outsideFill:Oy.get("color")==="inherit"?Yy:null,inside:Wy!=="outside"};var jy,Ky=Ny(Oy,"distance")||0,Xy=Ny(Oy,"align"),Zy=Ny(Oy,"rotate"),Jy=Math.PI*.5,t_=Math.PI*1.5,Qy=normalizeRadian(Zy==="tangential"?Math.PI/2-Ey:Ey),r_=Qy>Jy&&!isRadianAroundZero(Qy-Jy)&&Qy<t_;Wy==="outside"?(jy=Ty.r+Ky,Xy=r_?"right":"left"):!Xy||Xy==="center"?(Ay===2*Math.PI&&Ty.r0===0?jy=0:jy=(Ty.r+Ty.r0)/2,Xy="center"):Xy==="left"?(jy=Ty.r0+Ky,Xy=r_?"right":"left"):Xy==="right"&&(jy=Ty.r-Ky,Xy=r_?"left":"right"),zy.style.align=Xy,zy.style.verticalAlign=Ny(Oy,"verticalAlign")||"middle",zy.x=jy*My+Ty.cx,zy.y=jy*Dy+Ty.cy;var i_=0;Zy==="radial"?i_=normalizeRadian(-Ey)+(r_?Math.PI:0):Zy==="tangential"?i_=normalizeRadian(Math.PI/2-Ey)+(r_?Math.PI:0):isNumber(Zy)&&(i_=Zy*Math.PI/180),zy.rotation=normalizeRadian(i_)});function Ny(By,Oy){var Fy=By.get(Oy);return Fy??_y.get(Oy)}Ly.dirtyStyle()},ua}(Sector),ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(ha){ha.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(ua,Sa){Sa.eachComponent({mainType:"series",subType:"sunburst",query:ua},ba);function ba(ka,_y){var Ty=retrieveTargetInfo(ua,[ROOT_TO_NODE_ACTION],ka);if(Ty){var Ay=ka.getViewRoot();Ay&&(ua.direction=aboveViewRoot(Ay,Ty.node)?"rollUp":"drillDown"),ka.resetViewRoot(Ty.node)}}}),ha.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(ua,Sa,ba){ua=extend({},ua),Sa.eachComponent({mainType:"series",subType:"sunburst",query:ua},ka);function ka(_y){var Ty=retrieveTargetInfo(ua,[HIGHLIGHT_ACTION],_y);Ty&&(ua.dataIndex=Ty.node.dataIndex)}ba.dispatchAction(extend(ua,{type:"highlight"}))}),ha.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(ua,Sa,ba){ua=extend({},ua),ba.dispatchAction(extend(ua,{type:"downplay"}))})}var SunburstView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka,_y){var Ty=this;this.seriesModel=Sa,this.api=ka,this.ecModel=ba;var Ay=Sa.getData(),Ey=Ay.tree.root,My=Sa.getViewRoot(),Dy=this.group,Iy=Sa.get("renderLabelForZeroData"),Ly=[];My.eachNode(function(Oy){Ly.push(Oy)});var Py=this._oldChildren||[];Ry(Ly,Py),By(Ey,My),this._initEvents(),this._oldChildren=Ly;function Ry(Oy,Fy){if(Oy.length===0&&Fy.length===0)return;new DataDiffer(Fy,Oy,zy,zy).add(Hy).update(Hy).remove(curry$1(Hy,null)).execute();function zy(Gy){return Gy.getId()}function Hy(Gy,Wy){var Uy=Gy==null?null:Oy[Gy],Yy=Wy==null?null:Fy[Wy];Vy(Uy,Yy)}}function Vy(Oy,Fy){if(!Iy&&Oy&&!Oy.getValue()&&(Oy=null),Oy!==Ey&&Fy!==Ey){if(Fy&&Fy.piece)Oy?(Fy.piece.updateData(!1,Oy,Sa,ba,ka),Ay.setItemGraphicEl(Oy.dataIndex,Fy.piece)):Ny(Fy);else if(Oy){var zy=new SunburstPiece(Oy,Sa,ba,ka);Dy.add(zy),Ay.setItemGraphicEl(Oy.dataIndex,zy)}}}function Ny(Oy){Oy&&Oy.piece&&(Dy.remove(Oy.piece),Oy.piece=null)}function By(Oy,Fy){Fy.depth>0?(Ty.virtualPiece?Ty.virtualPiece.updateData(!1,Oy,Sa,ba,ka):(Ty.virtualPiece=new SunburstPiece(Oy,Sa,ba,ka),Dy.add(Ty.virtualPiece)),Fy.piece.off("click"),Ty.virtualPiece.on("click",function(zy){Ty._rootToNode(Fy.parentNode)})):Ty.virtualPiece&&(Dy.remove(Ty.virtualPiece),Ty.virtualPiece=null)}},ua.prototype._initEvents=function(){var Sa=this;this.group.off("click"),this.group.on("click",function(ba){var ka=!1,_y=Sa.seriesModel.getViewRoot();_y.eachNode(function(Ty){if(!ka&&Ty.piece&&Ty.piece===ba.target){var Ay=Ty.getModel().get("nodeClick");if(Ay==="rootToNode")Sa._rootToNode(Ty);else if(Ay==="link"){var Ey=Ty.getModel(),My=Ey.get("link");if(My){var Dy=Ey.get("target",!0)||"_blank";windowOpen(My,Dy)}}ka=!0}})})},ua.prototype._rootToNode=function(Sa){Sa!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:Sa})},ua.prototype.containPoint=function(Sa,ba){var ka=ba.getData(),_y=ka.getItemLayout(0);if(_y){var Ty=Sa[0]-_y.cx,Ay=Sa[1]-_y.cy,Ey=Math.sqrt(Ty*Ty+Ay*Ay);return Ey<=_y.r&&Ey>=_y.r0}},ua.type="sunburst",ua}(ChartView),SunburstSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.ignoreStyleOnData=!0,Sa}return ua.prototype.getInitialData=function(Sa,ba){var ka={name:Sa.name,children:Sa.data};completeTreeValue(ka);var _y=this._levelModels=map$1(Sa.levels||[],function(Ey){return new Model(Ey,this,ba)},this),Ty=Tree.createTree(ka,this,Ay);function Ay(Ey){Ey.wrapMethod("getItemModel",function(My,Dy){var Iy=Ty.getNodeByDataIndex(Dy),Ly=_y[Iy.depth];return Ly&&(My.parentModel=Ly),My})}return Ty.data},ua.prototype.optionUpdated=function(){this.resetViewRoot()},ua.prototype.getDataParams=function(Sa){var ba=ha.prototype.getDataParams.apply(this,arguments),ka=this.getData().tree.getNodeByDataIndex(Sa);return ba.treePathInfo=wrapTreePathInfo(ka,this),ba},ua.prototype.getLevelModel=function(Sa){return this._levelModels&&this._levelModels[Sa.depth]},ua.prototype.getViewRoot=function(){return this._viewRoot},ua.prototype.resetViewRoot=function(Sa){Sa?this._viewRoot=Sa:Sa=this._viewRoot;var ba=this.getRawData().tree.root;(!Sa||Sa!==ba&&!ba.contains(Sa))&&(this._viewRoot=ba)},ua.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},ua.type="series.sunburst",ua.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},ua}(SeriesModel);function completeTreeValue(ha){var ua=0;each$f(ha.children,function(ba){completeTreeValue(ba);var ka=ba.value;isArray$1(ka)&&(ka=ka[0]),ua+=ka});var Sa=ha.value;isArray$1(Sa)&&(Sa=Sa[0]),(Sa==null||isNaN(Sa))&&(Sa=ua),Sa<0&&(Sa=0),isArray$1(ha.value)?ha.value[0]=Sa:ha.value=Sa}var RADIAN=Math.PI/180;function sunburstLayout(ha,ua,Sa){ua.eachSeriesByType(ha,function(ba){var ka=ba.get("center"),_y=ba.get("radius");isArray$1(_y)||(_y=[0,_y]),isArray$1(ka)||(ka=[ka,ka]);var Ty=Sa.getWidth(),Ay=Sa.getHeight(),Ey=Math.min(Ty,Ay),My=parsePercent(ka[0],Ty),Dy=parsePercent(ka[1],Ay),Iy=parsePercent(_y[0],Ey/2),Ly=parsePercent(_y[1],Ey/2),Py=-ba.get("startAngle")*RADIAN,Ry=ba.get("minAngle")*RADIAN,Vy=ba.getData().tree.root,Ny=ba.getViewRoot(),By=Ny.depth,Oy=ba.get("sort");Oy!=null&&initChildren(Ny,Oy);var Fy=0;each$f(Ny.children,function(Qy){!isNaN(Qy.getValue())&&Fy++});var zy=Ny.getValue(),Hy=Math.PI/(zy||Fy)*2,Gy=Ny.depth>0,Wy=Ny.height-(Gy?-1:1),Uy=(Ly-Iy)/(Wy||1),Yy=ba.get("clockwise"),jy=ba.get("stillShowZeroSum"),Ky=Yy?1:-1,Xy=function(Qy,r_){if(Qy){var i_=r_;if(Qy!==Vy){var l_=Qy.getValue(),c_=zy===0&&jy?Hy:l_*Hy;c_<Ry&&(c_=Ry),i_=r_+Ky*c_;var d_=Qy.depth-By-(Gy?-1:1),f_=Iy+Uy*d_,m_=Iy+Uy*(d_+1),b_=ba.getLevelModel(Qy);if(b_){var $_=b_.get("r0",!0),A_=b_.get("r",!0),v_=b_.get("radius",!0);v_!=null&&($_=v_[0],A_=v_[1]),$_!=null&&(f_=parsePercent($_,Ey/2)),A_!=null&&(m_=parsePercent(A_,Ey/2))}Qy.setLayout({angle:c_,startAngle:r_,endAngle:i_,clockwise:Yy,cx:My,cy:Dy,r0:f_,r:m_})}if(Qy.children&&Qy.children.length){var g_=0;each$f(Qy.children,function(p_){g_+=Xy(p_,r_+g_)})}return i_-r_}};if(Gy){var Zy=Iy,Jy=Iy+Uy,t_=Math.PI*2;Vy.setLayout({angle:t_,startAngle:Py,endAngle:Py+t_,clockwise:Yy,cx:My,cy:Dy,r0:Zy,r:Jy})}Xy(Ny,Py)})}function initChildren(ha,ua){var Sa=ha.children||[];ha.children=sort(Sa,ua),Sa.length&&each$f(ha.children,function(ba){initChildren(ba,ua)})}function sort(ha,ua){if(isFunction(ua)){var Sa=map$1(ha,function(ka,_y){var Ty=ka.getValue();return{params:{depth:ka.depth,height:ka.height,dataIndex:ka.dataIndex,getValue:function(){return Ty}},index:_y}});return Sa.sort(function(ka,_y){return ua(ka.params,_y.params)}),map$1(Sa,function(ka){return ha[ka.index]})}else{var ba=ua==="asc";return ha.sort(function(ka,_y){var Ty=(ka.getValue()-_y.getValue())*(ba?1:-1);return Ty===0?(ka.dataIndex-_y.dataIndex)*(ba?-1:1):Ty})}}function sunburstVisual(ha){var ua={};function Sa(ba,ka,_y){for(var Ty=ba;Ty&&Ty.depth>1;)Ty=Ty.parentNode;var Ay=ka.getColorFromPalette(Ty.name||Ty.dataIndex+"",ua);return ba.depth>1&&isString(Ay)&&(Ay=lift(Ay,(ba.depth-1)/(_y-1)*.5)),Ay}ha.eachSeriesByType("sunburst",function(ba){var ka=ba.getData(),_y=ka.tree;_y.eachNode(function(Ty){var Ay=Ty.getModel(),Ey=Ay.getModel("itemStyle").getItemStyle();Ey.fill||(Ey.fill=Sa(Ty,ba,_y.root.height));var My=ka.ensureUniqueItemVisual(Ty.dataIndex,"style");extend(My,Ey)})})}function install$s(ha){ha.registerChartView(SunburstView),ha.registerSeriesModel(SunburstSeriesModel),ha.registerLayout(curry$1(sunburstLayout,"sunburst")),ha.registerProcessor(curry$1(dataFilter$1,"sunburst")),ha.registerVisual(sunburstVisual),installSunburstAction(ha)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},ua.prototype.getInitialData=function(Sa,ba){return createSeriesData(null,this)},ua.prototype.getDataParams=function(Sa,ba,ka){var _y=ha.prototype.getDataParams.call(this,Sa,ba);return ka&&(_y.info=customInnerStore(ka).info),_y},ua.type="series.custom",ua.dependencies=["grid","polar","geo","singleAxis","calendar"],ua.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},ua}(SeriesModel);function dataToCoordSize$3(ha,ua){return ua=ua||[0,0],map$1(["x","y"],function(Sa,ba){var ka=this.getAxis(Sa),_y=ua[ba],Ty=ha[ba]/2;return ka.type==="category"?ka.getBandWidth():Math.abs(ka.dataToCoord(_y-Ty)-ka.dataToCoord(_y+Ty))},this)}function cartesianPrepareCustom(ha){var ua=ha.master.getRect();return{coordSys:{type:"cartesian2d",x:ua.x,y:ua.y,width:ua.width,height:ua.height},api:{coord:function(Sa){return ha.dataToPoint(Sa)},size:bind$1(dataToCoordSize$3,ha)}}}function dataToCoordSize$2(ha,ua){return ua=ua||[0,0],map$1([0,1],function(Sa){var ba=ua[Sa],ka=ha[Sa]/2,_y=[],Ty=[];return _y[Sa]=ba-ka,Ty[Sa]=ba+ka,_y[1-Sa]=Ty[1-Sa]=ua[1-Sa],Math.abs(this.dataToPoint(_y)[Sa]-this.dataToPoint(Ty)[Sa])},this)}function geoPrepareCustom(ha){var ua=ha.getBoundingRect();return{coordSys:{type:"geo",x:ua.x,y:ua.y,width:ua.width,height:ua.height,zoom:ha.getZoom()},api:{coord:function(Sa){return ha.dataToPoint(Sa)},size:bind$1(dataToCoordSize$2,ha)}}}function dataToCoordSize$1(ha,ua){var Sa=this.getAxis(),ba=ua instanceof Array?ua[0]:ua,ka=(ha instanceof Array?ha[0]:ha)/2;return Sa.type==="category"?Sa.getBandWidth():Math.abs(Sa.dataToCoord(ba-ka)-Sa.dataToCoord(ba+ka))}function singlePrepareCustom(ha){var ua=ha.getRect();return{coordSys:{type:"singleAxis",x:ua.x,y:ua.y,width:ua.width,height:ua.height},api:{coord:function(Sa){return ha.dataToPoint(Sa)},size:bind$1(dataToCoordSize$1,ha)}}}function dataToCoordSize(ha,ua){return ua=ua||[0,0],map$1(["Radius","Angle"],function(Sa,ba){var ka="get"+Sa+"Axis",_y=this[ka](),Ty=ua[ba],Ay=ha[ba]/2,Ey=_y.type==="category"?_y.getBandWidth():Math.abs(_y.dataToCoord(Ty-Ay)-_y.dataToCoord(Ty+Ay));return Sa==="Angle"&&(Ey=Ey*Math.PI/180),Ey},this)}function polarPrepareCustom(ha){var ua=ha.getRadiusAxis(),Sa=ha.getAngleAxis(),ba=ua.getExtent();return ba[0]>ba[1]&&ba.reverse(),{coordSys:{type:"polar",cx:ha.cx,cy:ha.cy,r:ba[1],r0:ba[0]},api:{coord:function(ka){var _y=ua.dataToRadius(ka[0]),Ty=Sa.dataToAngle(ka[1]),Ay=ha.coordToPoint([_y,Ty]);return Ay.push(_y,Ty*Math.PI/180),Ay},size:bind$1(dataToCoordSize,ha)}}}function calendarPrepareCustom(ha){var ua=ha.getRect(),Sa=ha.getRangeInfo();return{coordSys:{type:"calendar",x:ua.x,y:ua.y,width:ua.width,height:ua.height,cellWidth:ha.getCellWidth(),cellHeight:ha.getCellHeight(),rangeInfo:{start:Sa.start,end:Sa.end,weeks:Sa.weeks,dayCount:Sa.allDay}},api:{coord:function(ba,ka){return ha.dataToPoint(ba,ka)}}}}function isEC4CompatibleStyle(ha,ua,Sa,ba){return ha&&(ha.legacy||ha.legacy!==!1&&!Sa&&!ba&&ua!=="tspan"&&(ua==="text"||hasOwn(ha,"text")))}function convertFromEC4CompatibleStyle(ha,ua,Sa){var ba=ha,ka,_y,Ty;if(ua==="text")Ty=ba;else{Ty={},hasOwn(ba,"text")&&(Ty.text=ba.text),hasOwn(ba,"rich")&&(Ty.rich=ba.rich),hasOwn(ba,"textFill")&&(Ty.fill=ba.textFill),hasOwn(ba,"textStroke")&&(Ty.stroke=ba.textStroke),hasOwn(ba,"fontFamily")&&(Ty.fontFamily=ba.fontFamily),hasOwn(ba,"fontSize")&&(Ty.fontSize=ba.fontSize),hasOwn(ba,"fontStyle")&&(Ty.fontStyle=ba.fontStyle),hasOwn(ba,"fontWeight")&&(Ty.fontWeight=ba.fontWeight),_y={type:"text",style:Ty,silent:!0},ka={};var Ay=hasOwn(ba,"textPosition");Sa?ka.position=Ay?ba.textPosition:"inside":Ay&&(ka.position=ba.textPosition),hasOwn(ba,"textPosition")&&(ka.position=ba.textPosition),hasOwn(ba,"textOffset")&&(ka.offset=ba.textOffset),hasOwn(ba,"textRotation")&&(ka.rotation=ba.textRotation),hasOwn(ba,"textDistance")&&(ka.distance=ba.textDistance)}return convertEC4CompatibleRichItem(Ty,ha),each$f(Ty.rich,function(Ey){convertEC4CompatibleRichItem(Ey,Ey)}),{textConfig:ka,textContent:_y}}function convertEC4CompatibleRichItem(ha,ua){ua&&(ua.font=ua.textFont||ua.font,hasOwn(ua,"textStrokeWidth")&&(ha.lineWidth=ua.textStrokeWidth),hasOwn(ua,"textAlign")&&(ha.align=ua.textAlign),hasOwn(ua,"textVerticalAlign")&&(ha.verticalAlign=ua.textVerticalAlign),hasOwn(ua,"textLineHeight")&&(ha.lineHeight=ua.textLineHeight),hasOwn(ua,"textWidth")&&(ha.width=ua.textWidth),hasOwn(ua,"textHeight")&&(ha.height=ua.textHeight),hasOwn(ua,"textBackgroundColor")&&(ha.backgroundColor=ua.textBackgroundColor),hasOwn(ua,"textPadding")&&(ha.padding=ua.textPadding),hasOwn(ua,"textBorderColor")&&(ha.borderColor=ua.textBorderColor),hasOwn(ua,"textBorderWidth")&&(ha.borderWidth=ua.textBorderWidth),hasOwn(ua,"textBorderRadius")&&(ha.borderRadius=ua.textBorderRadius),hasOwn(ua,"textBoxShadowColor")&&(ha.shadowColor=ua.textBoxShadowColor),hasOwn(ua,"textBoxShadowBlur")&&(ha.shadowBlur=ua.textBoxShadowBlur),hasOwn(ua,"textBoxShadowOffsetX")&&(ha.shadowOffsetX=ua.textBoxShadowOffsetX),hasOwn(ua,"textBoxShadowOffsetY")&&(ha.shadowOffsetY=ua.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(ha,ua,Sa){var ba=ha;ba.textPosition=ba.textPosition||Sa.position||"inside",Sa.offset!=null&&(ba.textOffset=Sa.offset),Sa.rotation!=null&&(ba.textRotation=Sa.rotation),Sa.distance!=null&&(ba.textDistance=Sa.distance);var ka=ba.textPosition.indexOf("inside")>=0,_y=ha.fill||"#000";convertToEC4RichItem(ba,ua);var Ty=ba.textFill==null;return ka?Ty&&(ba.textFill=Sa.insideFill||"#fff",!ba.textStroke&&Sa.insideStroke&&(ba.textStroke=Sa.insideStroke),!ba.textStroke&&(ba.textStroke=_y),ba.textStrokeWidth==null&&(ba.textStrokeWidth=2)):(Ty&&(ba.textFill=ha.fill||Sa.outsideFill||"#000"),!ba.textStroke&&Sa.outsideStroke&&(ba.textStroke=Sa.outsideStroke)),ba.text=ua.text,ba.rich=ua.rich,each$f(ua.rich,function(Ay){convertToEC4RichItem(Ay,Ay)}),ba}function convertToEC4RichItem(ha,ua){ua&&(hasOwn(ua,"fill")&&(ha.textFill=ua.fill),hasOwn(ua,"stroke")&&(ha.textStroke=ua.fill),hasOwn(ua,"lineWidth")&&(ha.textStrokeWidth=ua.lineWidth),hasOwn(ua,"font")&&(ha.font=ua.font),hasOwn(ua,"fontStyle")&&(ha.fontStyle=ua.fontStyle),hasOwn(ua,"fontWeight")&&(ha.fontWeight=ua.fontWeight),hasOwn(ua,"fontSize")&&(ha.fontSize=ua.fontSize),hasOwn(ua,"fontFamily")&&(ha.fontFamily=ua.fontFamily),hasOwn(ua,"align")&&(ha.textAlign=ua.align),hasOwn(ua,"verticalAlign")&&(ha.textVerticalAlign=ua.verticalAlign),hasOwn(ua,"lineHeight")&&(ha.textLineHeight=ua.lineHeight),hasOwn(ua,"width")&&(ha.textWidth=ua.width),hasOwn(ua,"height")&&(ha.textHeight=ua.height),hasOwn(ua,"backgroundColor")&&(ha.textBackgroundColor=ua.backgroundColor),hasOwn(ua,"padding")&&(ha.textPadding=ua.padding),hasOwn(ua,"borderColor")&&(ha.textBorderColor=ua.borderColor),hasOwn(ua,"borderWidth")&&(ha.textBorderWidth=ua.borderWidth),hasOwn(ua,"borderRadius")&&(ha.textBorderRadius=ua.borderRadius),hasOwn(ua,"shadowColor")&&(ha.textBoxShadowColor=ua.shadowColor),hasOwn(ua,"shadowBlur")&&(ha.textBoxShadowBlur=ua.shadowBlur),hasOwn(ua,"shadowOffsetX")&&(ha.textBoxShadowOffsetX=ua.shadowOffsetX),hasOwn(ua,"shadowOffsetY")&&(ha.textBoxShadowOffsetY=ua.shadowOffsetY),hasOwn(ua,"textShadowColor")&&(ha.textShadowColor=ua.textShadowColor),hasOwn(ua,"textShadowBlur")&&(ha.textShadowBlur=ua.textShadowBlur),hasOwn(ua,"textShadowOffsetX")&&(ha.textShadowOffsetX=ua.textShadowOffsetX),hasOwn(ua,"textShadowOffsetY")&&(ha.textShadowOffsetY=ua.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(ha,ua){return ha[ua]=1,ha},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(ha,ua,Sa,ba,ka){var _y=ha+"Animation",Ty=getAnimationConfig(ha,ba,ka)||{},Ay=transitionInnerStore(ua).userDuring;return Ty.duration>0&&(Ty.during=Ay?bind$1(duringCall,{el:ua,userDuring:Ay}):null,Ty.setToFinal=!0,Ty.scope=ha),extend(Ty,Sa[_y]),Ty}function applyUpdateTransition(ha,ua,Sa,ba){ba=ba||{};var ka=ba.dataIndex,_y=ba.isInit,Ty=ba.clearStyle,Ay=Sa.isAnimationEnabled(),Ey=transitionInnerStore(ha),My=ua.style;Ey.userDuring=ua.during;var Dy={},Iy={};if(prepareTransformAllPropsFinal(ha,ua,Iy),prepareShapeOrExtraAllPropsFinal("shape",ua,Iy),prepareShapeOrExtraAllPropsFinal("extra",ua,Iy),!_y&&Ay&&(prepareTransformTransitionFrom(ha,ua,Dy),prepareShapeOrExtraTransitionFrom("shape",ha,ua,Dy),prepareShapeOrExtraTransitionFrom("extra",ha,ua,Dy),prepareStyleTransitionFrom(ha,ua,My,Dy)),Iy.style=My,applyPropsDirectly(ha,Iy,Ty),applyMiscProps(ha,ua),Ay)if(_y){var Ly={};each$f(ELEMENT_ANIMATABLE_PROPS,function(Ry){var Vy=Ry?ua[Ry]:ua;Vy&&Vy.enterFrom&&(Ry&&(Ly[Ry]=Ly[Ry]||{}),extend(Ry?Ly[Ry]:Ly,Vy.enterFrom))});var Py=getElementAnimationConfig("enter",ha,ua,Sa,ka);Py.duration>0&&ha.animateFrom(Ly,Py)}else applyPropsTransition(ha,ua,ka||0,Sa,Dy);updateLeaveTo(ha,ua),My?ha.dirty():ha.markRedraw()}function updateLeaveTo(ha,ua){for(var Sa=transitionInnerStore(ha).leaveToProps,ba=0;ba<ELEMENT_ANIMATABLE_PROPS.length;ba++){var ka=ELEMENT_ANIMATABLE_PROPS[ba],_y=ka?ua[ka]:ua;_y&&_y.leaveTo&&(Sa||(Sa=transitionInnerStore(ha).leaveToProps={}),ka&&(Sa[ka]=Sa[ka]||{}),extend(ka?Sa[ka]:Sa,_y.leaveTo))}}function applyLeaveTransition(ha,ua,Sa,ba){if(ha){var ka=ha.parent,_y=transitionInnerStore(ha).leaveToProps;if(_y){var Ty=getElementAnimationConfig("update",ha,ua,Sa,0);Ty.done=function(){ka.remove(ha)},ha.animateTo(_y,Ty)}else ka.remove(ha)}}function isTransitionAll(ha){return ha==="all"}function applyPropsDirectly(ha,ua,Sa){var ba=ua.style;if(!ha.isGroup&&ba){if(Sa){ha.useStyle({});for(var ka=ha.animators,_y=0;_y<ka.length;_y++){var Ty=ka[_y];Ty.targetName==="style"&&Ty.changeTarget(ha.style)}}ha.setStyle(ba)}ua&&(ua.style=null,ua&&ha.attr(ua),ua.style=ba)}function applyPropsTransition(ha,ua,Sa,ba,ka){if(ka){var _y=getElementAnimationConfig("update",ha,ua,ba,Sa);_y.duration>0&&ha.animateFrom(ka,_y)}}function applyMiscProps(ha,ua){hasOwn(ua,"silent")&&(ha.silent=ua.silent),hasOwn(ua,"ignore")&&(ha.ignore=ua.ignore),ha instanceof Displayable&&hasOwn(ua,"invisible")&&(ha.invisible=ua.invisible),ha instanceof Path&&hasOwn(ua,"autoBatch")&&(ha.autoBatch=ua.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(ha,ua){return tmpDuringScope.el[ha]=ua,this},getTransform:function(ha){return tmpDuringScope.el[ha]},setShape:function(ha,ua){var Sa=tmpDuringScope.el,ba=Sa.shape||(Sa.shape={});return ba[ha]=ua,Sa.dirtyShape&&Sa.dirtyShape(),this},getShape:function(ha){var ua=tmpDuringScope.el.shape;if(ua)return ua[ha]},setStyle:function(ha,ua){var Sa=tmpDuringScope.el,ba=Sa.style;return ba&&(ba[ha]=ua,Sa.dirtyStyle&&Sa.dirtyStyle()),this},getStyle:function(ha){var ua=tmpDuringScope.el.style;if(ua)return ua[ha]},setExtra:function(ha,ua){var Sa=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return Sa[ha]=ua,this},getExtra:function(ha){var ua=tmpDuringScope.el.extra;if(ua)return ua[ha]}};function duringCall(){var ha=this,ua=ha.el;if(ua){var Sa=transitionInnerStore(ua).userDuring,ba=ha.userDuring;if(Sa!==ba){ha.el=ha.userDuring=null;return}tmpDuringScope.el=ua,ba(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(ha,ua,Sa,ba){var ka=Sa[ha];if(ka){var _y=ua[ha],Ty;if(_y){var Ay=Sa.transition,Ey=ka.transition;if(Ey)if(!Ty&&(Ty=ba[ha]={}),isTransitionAll(Ey))extend(Ty,_y);else for(var My=normalizeToArray(Ey),Dy=0;Dy<My.length;Dy++){var Iy=My[Dy],Ly=_y[Iy];Ty[Iy]=Ly}else if(isTransitionAll(Ay)||indexOf(Ay,ha)>=0){!Ty&&(Ty=ba[ha]={});for(var Py=keys(_y),Dy=0;Dy<Py.length;Dy++){var Iy=Py[Dy],Ly=_y[Iy];isNonStyleTransitionEnabled(ka[Iy],Ly)&&(Ty[Iy]=Ly)}}}}}function prepareShapeOrExtraAllPropsFinal(ha,ua,Sa){var ba=ua[ha];if(ba)for(var ka=Sa[ha]={},_y=keys(ba),Ty=0;Ty<_y.length;Ty++){var Ay=_y[Ty];ka[Ay]=cloneValue(ba[Ay])}}function prepareTransformTransitionFrom(ha,ua,Sa){for(var ba=ua.transition,ka=isTransitionAll(ba)?TRANSFORMABLE_PROPS:normalizeToArray(ba||[]),_y=0;_y<ka.length;_y++){var Ty=ka[_y];if(!(Ty==="style"||Ty==="shape"||Ty==="extra")){var Ay=ha[Ty];Sa[Ty]=Ay}}}function prepareTransformAllPropsFinal(ha,ua,Sa){for(var ba=0;ba<LEGACY_TRANSFORM_PROPS.length;ba++){var ka=LEGACY_TRANSFORM_PROPS[ba],_y=LEGACY_TRANSFORM_PROPS_MAP[ka],Ty=ua[ka];Ty&&(Sa[_y[0]]=Ty[0],Sa[_y[1]]=Ty[1])}for(var ba=0;ba<TRANSFORMABLE_PROPS.length;ba++){var Ay=TRANSFORMABLE_PROPS[ba];ua[Ay]!=null&&(Sa[Ay]=ua[Ay])}}function prepareStyleTransitionFrom(ha,ua,Sa,ba){if(Sa){var ka=ha.style,_y;if(ka){var Ty=Sa.transition,Ay=ua.transition;if(Ty&&!isTransitionAll(Ty)){var Ey=normalizeToArray(Ty);!_y&&(_y=ba.style={});for(var My=0;My<Ey.length;My++){var Dy=Ey[My],Iy=ka[Dy];_y[Dy]=Iy}}else if(ha.getAnimationStyleProps&&(isTransitionAll(Ay)||isTransitionAll(Ty)||indexOf(Ay,"style")>=0)){var Ly=ha.getAnimationStyleProps(),Py=Ly?Ly.style:null;if(Py){!_y&&(_y=ba.style={});for(var Ry=keys(Sa),My=0;My<Ry.length;My++){var Dy=Ry[My];if(Py[Dy]){var Iy=ka[Dy];_y[Dy]=Iy}}}}}}}function isNonStyleTransitionEnabled(ha,ua){return isArrayLike(ha)?ha!==ua:ha!=null&&isFinite(ha)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(ha){ha.stopAnimation("keyframe"),ha.attr(getStateToRestore(ha))}function applyKeyframeAnimation(ha,ua,Sa){if(!(!Sa.isAnimationEnabled()||!ua)){if(isArray$1(ua)){each$f(ua,function(Ay){applyKeyframeAnimation(ha,Ay,Sa)});return}var ba=ua.keyframes,ka=ua.duration;if(Sa&&ka==null){var _y=getAnimationConfig("enter",Sa,0);ka=_y&&_y.duration}if(!(!ba||!ka)){var Ty=getStateToRestore(ha);each$f(ELEMENT_ANIMATABLE_PROPS,function(Ay){if(!(Ay&&!ha[Ay])){var Ey;ba.sort(function(My,Dy){return My.percent-Dy.percent}),each$f(ba,function(My){var Dy=ha.animators,Iy=Ay?My[Ay]:My;if(Iy){var Ly=keys(Iy);if(Ay||(Ly=filter(Ly,function(Vy){return indexOf(KEYFRAME_EXCLUDE_KEYS,Vy)<0})),!!Ly.length){Ey||(Ey=ha.animate(Ay,ua.loop,!0),Ey.scope="keyframe");for(var Py=0;Py<Dy.length;Py++)Dy[Py]!==Ey&&Dy[Py].targetName===Ey.targetName&&Dy[Py].stopTracks(Ly);Ay&&(Ty[Ay]=Ty[Ay]||{});var Ry=Ay?Ty[Ay]:Ty;each$f(Ly,function(Vy){Ry[Vy]=((Ay?ha[Ay]:ha)||{})[Vy]}),Ey.whenWithKeys(ka*My.percent,Iy,Ly,My.easing)}}}),Ey&&Ey.delay(ua.delay||0).duration(ka).start(ua.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(ha){return ha instanceof Path}function isDisplayable(ha){return ha instanceof Displayable}function copyElement(ha,ua){ua.copyTransform(ha),isDisplayable(ua)&&isDisplayable(ha)&&(ua.setStyle(ha.style),ua.z=ha.z,ua.z2=ha.z2,ua.zlevel=ha.zlevel,ua.invisible=ha.invisible,ua.ignore=ha.ignore,isPath(ua)&&isPath(ha)&&ua.setShape(ha.shape))}var CustomChartView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka,_y){this._progressiveEls=null;var Ty=this._data,Ay=Sa.getData(),Ey=this.group,My=makeRenderItem(Sa,Ay,ba,ka);Ty||Ey.removeAll(),Ay.diff(Ty).add(function(Iy){createOrUpdateItem(ka,null,Iy,My(Iy,_y),Sa,Ey,Ay)}).remove(function(Iy){var Ly=Ty.getItemGraphicEl(Iy);Ly&&applyLeaveTransition(Ly,customInnerStore(Ly).option,Sa)}).update(function(Iy,Ly){var Py=Ty.getItemGraphicEl(Ly);createOrUpdateItem(ka,Py,Iy,My(Iy,_y),Sa,Ey,Ay)}).execute();var Dy=Sa.get("clip",!0)?createClipPath(Sa.coordinateSystem,!1,Sa):null;Dy?Ey.setClipPath(Dy):Ey.removeClipPath(),this._data=Ay},ua.prototype.incrementalPrepareRender=function(Sa,ba,ka){this.group.removeAll(),this._data=null},ua.prototype.incrementalRender=function(Sa,ba,ka,_y,Ty){var Ay=ba.getData(),Ey=makeRenderItem(ba,Ay,ka,_y),My=this._progressiveEls=[];function Dy(Py){Py.isGroup||(Py.incremental=!0,Py.ensureState("emphasis").hoverLayer=!0)}for(var Iy=Sa.start;Iy<Sa.end;Iy++){var Ly=createOrUpdateItem(null,null,Iy,Ey(Iy,Ty),ba,this.group,Ay);Ly&&(Ly.traverse(Dy),My.push(Ly))}},ua.prototype.eachRendered=function(Sa){traverseElements(this._progressiveEls||this.group,Sa)},ua.prototype.filterForExposedEvent=function(Sa,ba,ka,_y){var Ty=ba.element;if(Ty==null||ka.name===Ty)return!0;for(;(ka=ka.__hostTarget||ka.parent)&&ka!==this.group;)if(ka.name===Ty)return!0;return!1},ua.type="custom",ua}(ChartView);function createEl$1(ha){var ua=ha.type,Sa;if(ua==="path"){var ba=ha.shape,ka=ba.width!=null&&ba.height!=null?{x:ba.x||0,y:ba.y||0,width:ba.width,height:ba.height}:null,_y=getPathData(ba);Sa=makePath(_y,null,ka,ba.layout||"center"),customInnerStore(Sa).customPathData=_y}else if(ua==="image")Sa=new ZRImage({}),customInnerStore(Sa).customImagePath=ha.style.image;else if(ua==="text")Sa=new ZRText({});else if(ua==="group")Sa=new Group$3;else{if(ua==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var Ty=getShapeClass(ua);if(!Ty){var Ay="";throwError(Ay)}Sa=new Ty}return customInnerStore(Sa).customGraphicType=ua,Sa.name=ha.name,Sa.z2EmphasisLift=1,Sa.z2SelectLift=1,Sa}function updateElNormal(ha,ua,Sa,ba,ka,_y,Ty){stopPreviousKeyframeAnimationAndRestore(ua);var Ay=ka&&ka.normal.cfg;Ay&&ua.setTextConfig(Ay),ba&&ba.transition==null&&(ba.transition=DEFAULT_TRANSITION);var Ey=ba&&ba.style;if(Ey){if(ua.type==="text"){var My=Ey;hasOwn(My,"textFill")&&(My.fill=My.textFill),hasOwn(My,"textStroke")&&(My.stroke=My.textStroke)}var Dy=void 0,Iy=isPath(ua)?Ey.decal:null;ha&&Iy&&(Iy.dirty=!0,Dy=createOrUpdatePatternFromDecal(Iy,ha)),Ey.__decalPattern=Dy}if(isDisplayable(ua)&&Ey){var Dy=Ey.__decalPattern;Dy&&(Ey.decal=Dy)}applyUpdateTransition(ua,ba,_y,{dataIndex:Sa,isInit:Ty,clearStyle:!0}),applyKeyframeAnimation(ua,ba.keyframeAnimation,_y)}function updateElOnState(ha,ua,Sa,ba,ka){var _y=ua.isGroup?null:ua,Ty=ka&&ka[ha].cfg;if(_y){var Ay=_y.ensureState(ha);if(ba===!1){var Ey=_y.getState(ha);Ey&&(Ey.style=null)}else Ay.style=ba||null;Ty&&(Ay.textConfig=Ty),setDefaultStateProxy(_y)}}function updateZ(ha,ua,Sa){if(!ha.isGroup){var ba=ha,ka=Sa.currentZ,_y=Sa.currentZLevel;ba.z=ka,ba.zlevel=_y;var Ty=ua.z2;Ty!=null&&(ba.z2=Ty||0);for(var Ay=0;Ay<STATES.length;Ay++)updateZForEachState(ba,ua,STATES[Ay])}}function updateZForEachState(ha,ua,Sa){var ba=Sa===NORMAL,ka=ba?ua:retrieveStateOption(ua,Sa),_y=ka?ka.z2:null,Ty;_y!=null&&(Ty=ba?ha:ha.ensureState(Sa),Ty.z2=_y||0)}function makeRenderItem(ha,ua,Sa,ba){var ka=ha.get("renderItem"),_y=ha.coordinateSystem,Ty={};_y&&(Ty=_y.prepareCustoms?_y.prepareCustoms(_y):prepareCustoms[_y.type](_y));for(var Ay=defaults({getWidth:ba.getWidth,getHeight:ba.getHeight,getZr:ba.getZr,getDevicePixelRatio:ba.getDevicePixelRatio,value:zy,style:Gy,ordinalRawValue:Hy,styleEmphasis:Wy,visual:jy,barLayout:Ky,currentSeriesIndices:Xy,font:Zy},Ty.api||{}),Ey={context:{},seriesId:ha.id,seriesName:ha.name,seriesIndex:ha.seriesIndex,coordSys:Ty.coordSys,dataInsideLength:ua.count(),encode:wrapEncodeDef(ha.getData())},My,Dy,Iy={},Ly={},Py={},Ry={},Vy=0;Vy<STATES.length;Vy++){var Ny=STATES[Vy];Py[Ny]=ha.getModel(PATH_ITEM_STYLE[Ny]),Ry[Ny]=ha.getModel(PATH_LABEL[Ny])}function By(Jy){return Jy===My?Dy||(Dy=ua.getItemModel(Jy)):ua.getItemModel(Jy)}function Oy(Jy,t_){return ua.hasItemOption?Jy===My?Iy[t_]||(Iy[t_]=By(Jy).getModel(PATH_ITEM_STYLE[t_])):By(Jy).getModel(PATH_ITEM_STYLE[t_]):Py[t_]}function Fy(Jy,t_){return ua.hasItemOption?Jy===My?Ly[t_]||(Ly[t_]=By(Jy).getModel(PATH_LABEL[t_])):By(Jy).getModel(PATH_LABEL[t_]):Ry[t_]}return function(Jy,t_){return My=Jy,Dy=null,Iy={},Ly={},ka&&ka(defaults({dataIndexInside:Jy,dataIndex:ua.getRawIndex(Jy),actionType:t_?t_.type:null},Ey),Ay)};function zy(Jy,t_){return t_==null&&(t_=My),ua.getStore().get(ua.getDimensionIndex(Jy||0),t_)}function Hy(Jy,t_){t_==null&&(t_=My),Jy=Jy||0;var Qy=ua.getDimensionInfo(Jy);if(!Qy){var r_=ua.getDimensionIndex(Jy);return r_>=0?ua.getStore().get(r_,t_):void 0}var i_=ua.get(Qy.name,t_),l_=Qy&&Qy.ordinalMeta;return l_?l_.categories[i_]:i_}function Gy(Jy,t_){t_==null&&(t_=My);var Qy=ua.getItemVisual(t_,"style"),r_=Qy&&Qy.fill,i_=Qy&&Qy.opacity,l_=Oy(t_,NORMAL).getItemStyle();r_!=null&&(l_.fill=r_),i_!=null&&(l_.opacity=i_);var c_={inheritColor:isString(r_)?r_:"#000"},d_=Fy(t_,NORMAL),f_=createTextStyle(d_,null,c_,!1,!0);f_.text=d_.getShallow("show")?retrieve2(ha.getFormattedLabel(t_,NORMAL),getDefaultLabel(ua,t_)):null;var m_=createTextConfig(d_,c_,!1);return Yy(Jy,l_),l_=convertToEC4StyleForCustomSerise(l_,f_,m_),Jy&&Uy(l_,Jy),l_.legacy=!0,l_}function Wy(Jy,t_){t_==null&&(t_=My);var Qy=Oy(t_,EMPHASIS).getItemStyle(),r_=Fy(t_,EMPHASIS),i_=createTextStyle(r_,null,null,!0,!0);i_.text=r_.getShallow("show")?retrieve3(ha.getFormattedLabel(t_,EMPHASIS),ha.getFormattedLabel(t_,NORMAL),getDefaultLabel(ua,t_)):null;var l_=createTextConfig(r_,null,!0);return Yy(Jy,Qy),Qy=convertToEC4StyleForCustomSerise(Qy,i_,l_),Jy&&Uy(Qy,Jy),Qy.legacy=!0,Qy}function Uy(Jy,t_){for(var Qy in t_)hasOwn(t_,Qy)&&(Jy[Qy]=t_[Qy])}function Yy(Jy,t_){Jy&&(Jy.textFill&&(t_.textFill=Jy.textFill),Jy.textPosition&&(t_.textPosition=Jy.textPosition))}function jy(Jy,t_){if(t_==null&&(t_=My),hasOwn(STYLE_VISUAL_TYPE,Jy)){var Qy=ua.getItemVisual(t_,"style");return Qy?Qy[STYLE_VISUAL_TYPE[Jy]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,Jy))return ua.getItemVisual(t_,Jy)}function Ky(Jy){if(_y.type==="cartesian2d"){var t_=_y.getBaseAxis();return getLayoutOnAxis(defaults({axis:t_},Jy))}}function Xy(){return Sa.getCurrentSeriesIndices()}function Zy(Jy){return getFont(Jy,Sa)}}function wrapEncodeDef(ha){var ua={};return each$f(ha.dimensions,function(Sa){var ba=ha.getDimensionInfo(Sa);if(!ba.isExtraCoord){var ka=ba.coordDim,_y=ua[ka]=ua[ka]||[];_y[ba.coordDimIndex]=ha.getDimensionIndex(Sa)}}),ua}function createOrUpdateItem(ha,ua,Sa,ba,ka,_y,Ty){if(!ba){_y.remove(ua);return}var Ay=doCreateOrUpdateEl(ha,ua,Sa,ba,ka,_y);return Ay&&Ty.setItemGraphicEl(Sa,Ay),Ay&&toggleHoverEmphasis(Ay,ba.focus,ba.blurScope,ba.emphasisDisabled),Ay}function doCreateOrUpdateEl(ha,ua,Sa,ba,ka,_y){var Ty=-1,Ay=ua;ua&&doesElNeedRecreate(ua,ba,ka)&&(Ty=indexOf(_y.childrenRef(),ua),ua=null);var Ey=!ua,My=ua;My?My.clearStates():(My=createEl$1(ba),Ay&&copyElement(Ay,My)),ba.morph===!1?My.disableMorphing=!0:My.disableMorphing&&(My.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(My,Sa,ba,ka,Ey,attachedTxInfoTmp),doCreateOrUpdateClipPath(My,Sa,ba,ka,Ey),updateElNormal(ha,My,Sa,ba,attachedTxInfoTmp,ka,Ey),hasOwn(ba,"info")&&(customInnerStore(My).info=ba.info);for(var Dy=0;Dy<STATES.length;Dy++){var Iy=STATES[Dy];if(Iy!==NORMAL){var Ly=retrieveStateOption(ba,Iy),Py=retrieveStyleOptionOnState(ba,Ly,Iy);updateElOnState(Iy,My,Ly,Py,attachedTxInfoTmp)}}return updateZ(My,ba,ka),ba.type==="group"&&mergeChildren(ha,My,Sa,ba,ka),Ty>=0?_y.replaceAt(My,Ty):_y.add(My),My}function doesElNeedRecreate(ha,ua,Sa){var ba=customInnerStore(ha),ka=ua.type,_y=ua.shape,Ty=ua.style;return Sa.isUniversalTransitionEnabled()||ka!=null&&ka!==ba.customGraphicType||ka==="path"&&hasOwnPathData(_y)&&getPathData(_y)!==ba.customPathData||ka==="image"&&hasOwn(Ty,"image")&&Ty.image!==ba.customImagePath}function doCreateOrUpdateClipPath(ha,ua,Sa,ba,ka){var _y=Sa.clipPath;if(_y===!1)ha&&ha.getClipPath()&&ha.removeClipPath();else if(_y){var Ty=ha.getClipPath();Ty&&doesElNeedRecreate(Ty,_y,ba)&&(Ty=null),Ty||(Ty=createEl$1(_y),ha.setClipPath(Ty)),updateElNormal(null,Ty,ua,_y,null,ba,ka)}}function doCreateOrUpdateAttachedTx(ha,ua,Sa,ba,ka,_y){if(!ha.isGroup){processTxInfo(Sa,null,_y),processTxInfo(Sa,EMPHASIS,_y);var Ty=_y.normal.conOpt,Ay=_y.emphasis.conOpt,Ey=_y.blur.conOpt,My=_y.select.conOpt;if(Ty!=null||Ay!=null||My!=null||Ey!=null){var Dy=ha.getTextContent();if(Ty===!1)Dy&&ha.removeTextContent();else{Ty=_y.normal.conOpt=Ty||{type:"text"},Dy?Dy.clearStates():(Dy=createEl$1(Ty),ha.setTextContent(Dy)),updateElNormal(null,Dy,ua,Ty,null,ba,ka);for(var Iy=Ty&&Ty.style,Ly=0;Ly<STATES.length;Ly++){var Py=STATES[Ly];if(Py!==NORMAL){var Ry=_y[Py].conOpt;updateElOnState(Py,Dy,Ry,retrieveStyleOptionOnState(Ty,Ry,Py),null)}}Iy?Dy.dirty():Dy.markRedraw()}}}}function processTxInfo(ha,ua,Sa){var ba=ua?retrieveStateOption(ha,ua):ha,ka=ua?retrieveStyleOptionOnState(ha,ba,EMPHASIS):ha.style,_y=ha.type,Ty=ba?ba.textConfig:null,Ay=ha.textContent,Ey=Ay?ua?retrieveStateOption(Ay,ua):Ay:null;if(ka&&(Sa.isLegacy||isEC4CompatibleStyle(ka,_y,!!Ty,!!Ey))){Sa.isLegacy=!0;var My=convertFromEC4CompatibleStyle(ka,_y,!ua);!Ty&&My.textConfig&&(Ty=My.textConfig),!Ey&&My.textContent&&(Ey=My.textContent)}if(!ua&&Ey){var Dy=Ey;!Dy.type&&(Dy.type="text")}var Iy=ua?Sa[ua]:Sa.normal;Iy.cfg=Ty,Iy.conOpt=Ey}function retrieveStateOption(ha,ua){return ua?ha?ha[ua]:null:ha}function retrieveStyleOptionOnState(ha,ua,Sa){var ba=ua&&ua.style;return ba==null&&Sa===EMPHASIS&&ha&&(ba=ha.styleEmphasis),ba}function mergeChildren(ha,ua,Sa,ba,ka){var _y=ba.children,Ty=_y?_y.length:0,Ay=ba.$mergeChildren,Ey=Ay==="byName"||ba.diffChildrenByName,My=Ay===!1;if(!(!Ty&&!Ey&&!My)){if(Ey){diffGroupChildren({api:ha,oldChildren:ua.children()||[],newChildren:_y||[],dataIndex:Sa,seriesModel:ka,group:ua});return}My&&ua.removeAll();for(var Dy=0;Dy<Ty;Dy++){var Iy=_y[Dy],Ly=ua.childAt(Dy);Iy?(Iy.ignore==null&&(Iy.ignore=!1),doCreateOrUpdateEl(ha,Ly,Sa,Iy,ka,ua)):Ly.ignore=!0}for(var Py=ua.childCount()-1;Py>=Dy;Py--){var Ry=ua.childAt(Py);removeChildFromGroup(ua,Ry,ka)}}}function removeChildFromGroup(ha,ua,Sa){ua&&applyLeaveTransition(ua,customInnerStore(ha).option,Sa)}function diffGroupChildren(ha){new DataDiffer(ha.oldChildren,ha.newChildren,getKey,getKey,ha).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(ha,ua){var Sa=ha&&ha.name;return Sa??GROUP_DIFF_PREFIX+ua}function processAddUpdate(ha,ua){var Sa=this.context,ba=ha!=null?Sa.newChildren[ha]:null,ka=ua!=null?Sa.oldChildren[ua]:null;doCreateOrUpdateEl(Sa.api,ka,Sa.dataIndex,ba,Sa.seriesModel,Sa.group)}function processRemove(ha){var ua=this.context,Sa=ua.oldChildren[ha];Sa&&applyLeaveTransition(Sa,customInnerStore(Sa).option,ua.seriesModel)}function getPathData(ha){return ha&&(ha.pathData||ha.d)}function hasOwnPathData(ha){return ha&&(hasOwn(ha,"pathData")||hasOwn(ha,"d"))}function install$r(ha){ha.registerChartView(CustomChartView),ha.registerSeriesModel(CustomSeriesModel)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function ha(){this._dragging=!1,this.animationThreshold=15}return ha.prototype.render=function(ua,Sa,ba,ka){var _y=Sa.get("value"),Ty=Sa.get("status");if(this._axisModel=ua,this._axisPointerModel=Sa,this._api=ba,!(!ka&&this._lastValue===_y&&this._lastStatus===Ty)){this._lastValue=_y,this._lastStatus=Ty;var Ay=this._group,Ey=this._handle;if(!Ty||Ty==="hide"){Ay&&Ay.hide(),Ey&&Ey.hide();return}Ay&&Ay.show(),Ey&&Ey.show();var My={};this.makeElOption(My,_y,ua,Sa,ba);var Dy=My.graphicKey;Dy!==this._lastGraphicKey&&this.clear(ba),this._lastGraphicKey=Dy;var Iy=this._moveAnimation=this.determineAnimation(ua,Sa);if(!Ay)Ay=this._group=new Group$3,this.createPointerEl(Ay,My,ua,Sa),this.createLabelEl(Ay,My,ua,Sa),ba.getZr().add(Ay);else{var Ly=curry$1(updateProps,Sa,Iy);this.updatePointerEl(Ay,My,Ly),this.updateLabelEl(Ay,My,Ly,Sa)}updateMandatoryProps(Ay,Sa,!0),this._renderHandle(_y)}},ha.prototype.remove=function(ua){this.clear(ua)},ha.prototype.dispose=function(ua){this.clear(ua)},ha.prototype.determineAnimation=function(ua,Sa){var ba=Sa.get("animation"),ka=ua.axis,_y=ka.type==="category",Ty=Sa.get("snap");if(!Ty&&!_y)return!1;if(ba==="auto"||ba==null){var Ay=this.animationThreshold;if(_y&&ka.getBandWidth()>Ay)return!0;if(Ty){var Ey=getAxisInfo$1(ua).seriesDataCount,My=ka.getExtent();return Math.abs(My[0]-My[1])/Ey>Ay}return!1}return ba===!0},ha.prototype.makeElOption=function(ua,Sa,ba,ka,_y){},ha.prototype.createPointerEl=function(ua,Sa,ba,ka){var _y=Sa.pointer;if(_y){var Ty=inner$b(ua).pointerEl=new graphic[_y.type](clone$1(Sa.pointer));ua.add(Ty)}},ha.prototype.createLabelEl=function(ua,Sa,ba,ka){if(Sa.label){var _y=inner$b(ua).labelEl=new ZRText(clone$1(Sa.label));ua.add(_y),updateLabelShowHide(_y,ka)}},ha.prototype.updatePointerEl=function(ua,Sa,ba){var ka=inner$b(ua).pointerEl;ka&&Sa.pointer&&(ka.setStyle(Sa.pointer.style),ba(ka,{shape:Sa.pointer.shape}))},ha.prototype.updateLabelEl=function(ua,Sa,ba,ka){var _y=inner$b(ua).labelEl;_y&&(_y.setStyle(Sa.label.style),ba(_y,{x:Sa.label.x,y:Sa.label.y}),updateLabelShowHide(_y,ka))},ha.prototype._renderHandle=function(ua){if(!(this._dragging||!this.updateHandleTransform)){var Sa=this._axisPointerModel,ba=this._api.getZr(),ka=this._handle,_y=Sa.getModel("handle"),Ty=Sa.get("status");if(!_y.get("show")||!Ty||Ty==="hide"){ka&&ba.remove(ka),this._handle=null;return}var Ay;this._handle||(Ay=!0,ka=this._handle=createIcon(_y.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(My){stop(My.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),ba.add(ka)),updateMandatoryProps(ka,Sa,!1),ka.setStyle(_y.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var Ey=_y.get("size");isArray$1(Ey)||(Ey=[Ey,Ey]),ka.scaleX=Ey[0]/2,ka.scaleY=Ey[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",_y.get("throttle")||0,"fixRate"),this._moveHandleToValue(ua,Ay)}},ha.prototype._moveHandleToValue=function(ua,Sa){updateProps(this._axisPointerModel,!Sa&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(ua,this._axisModel,this._axisPointerModel)))},ha.prototype._onHandleDragMove=function(ua,Sa){var ba=this._handle;if(ba){this._dragging=!0;var ka=this.updateHandleTransform(getHandleTransProps(ba),[ua,Sa],this._axisModel,this._axisPointerModel);this._payloadInfo=ka,ba.stopAnimation(),ba.attr(getHandleTransProps(ka)),inner$b(ba).lastProp=null,this._doDispatchAxisPointer()}},ha.prototype._doDispatchAxisPointer=function(){var ua=this._handle;if(ua){var Sa=this._payloadInfo,ba=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:Sa.cursorPoint[0],y:Sa.cursorPoint[1],tooltipOption:Sa.tooltipOption,axesInfo:[{axisDim:ba.axis.dim,axisIndex:ba.componentIndex}]})}},ha.prototype._onHandleDragEnd=function(){this._dragging=!1;var ua=this._handle;if(ua){var Sa=this._axisPointerModel.get("value");this._moveHandleToValue(Sa),this._api.dispatchAction({type:"hideTip"})}},ha.prototype.clear=function(ua){this._lastValue=null,this._lastStatus=null;var Sa=ua.getZr(),ba=this._group,ka=this._handle;Sa&&ba&&(this._lastGraphicKey=null,ba&&Sa.remove(ba),ka&&Sa.remove(ka),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},ha.prototype.doClear=function(){},ha.prototype.buildLabel=function(ua,Sa,ba){return ba=ba||0,{x:ua[ba],y:ua[1-ba],width:Sa[ba],height:Sa[1-ba]}},ha}();function updateProps(ha,ua,Sa,ba){propsEqual(inner$b(Sa).lastProp,ba)||(inner$b(Sa).lastProp=ba,ua?updateProps$1(Sa,ba,ha):(Sa.stopAnimation(),Sa.attr(ba)))}function propsEqual(ha,ua){if(isObject$3(ha)&&isObject$3(ua)){var Sa=!0;return each$f(ua,function(ba,ka){Sa=Sa&&propsEqual(ha[ka],ba)}),!!Sa}else return ha===ua}function updateLabelShowHide(ha,ua){ha[ua.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(ha){return{x:ha.x||0,y:ha.y||0,rotation:ha.rotation||0}}function updateMandatoryProps(ha,ua,Sa){var ba=ua.get("z"),ka=ua.get("zlevel");ha&&ha.traverse(function(_y){_y.type!=="group"&&(ba!=null&&(_y.z=ba),ka!=null&&(_y.zlevel=ka),_y.silent=Sa)})}function buildElStyle(ha){var ua=ha.get("type"),Sa=ha.getModel(ua+"Style"),ba;return ua==="line"?(ba=Sa.getLineStyle(),ba.fill=null):ua==="shadow"&&(ba=Sa.getAreaStyle(),ba.stroke=null),ba}function buildLabelElOption(ha,ua,Sa,ba,ka){var _y=Sa.get("value"),Ty=getValueLabel(_y,ua.axis,ua.ecModel,Sa.get("seriesDataIndices"),{precision:Sa.get(["label","precision"]),formatter:Sa.get(["label","formatter"])}),Ay=Sa.getModel("label"),Ey=normalizeCssArray(Ay.get("padding")||0),My=Ay.getFont(),Dy=getBoundingRect(Ty,My),Iy=ka.position,Ly=Dy.width+Ey[1]+Ey[3],Py=Dy.height+Ey[0]+Ey[2],Ry=ka.align;Ry==="right"&&(Iy[0]-=Ly),Ry==="center"&&(Iy[0]-=Ly/2);var Vy=ka.verticalAlign;Vy==="bottom"&&(Iy[1]-=Py),Vy==="middle"&&(Iy[1]-=Py/2),confineInContainer(Iy,Ly,Py,ba);var Ny=Ay.get("backgroundColor");(!Ny||Ny==="auto")&&(Ny=ua.get(["axisLine","lineStyle","color"])),ha.label={x:Iy[0],y:Iy[1],style:createTextStyle(Ay,{text:Ty,font:My,fill:Ay.getTextColor(),padding:Ey,backgroundColor:Ny}),z2:10}}function confineInContainer(ha,ua,Sa,ba){var ka=ba.getWidth(),_y=ba.getHeight();ha[0]=Math.min(ha[0]+ua,ka)-ua,ha[1]=Math.min(ha[1]+Sa,_y)-Sa,ha[0]=Math.max(ha[0],0),ha[1]=Math.max(ha[1],0)}function getValueLabel(ha,ua,Sa,ba,ka){ha=ua.scale.parse(ha);var _y=ua.scale.getLabel({value:ha},{precision:ka.precision}),Ty=ka.formatter;if(Ty){var Ay={value:getAxisRawValue(ua,{value:ha}),axisDimension:ua.dim,axisIndex:ua.index,seriesData:[]};each$f(ba,function(Ey){var My=Sa.getSeriesByIndex(Ey.seriesIndex),Dy=Ey.dataIndexInside,Iy=My&&My.getDataParams(Dy);Iy&&Ay.seriesData.push(Iy)}),isString(Ty)?_y=Ty.replace("{value}",_y):isFunction(Ty)&&(_y=Ty(Ay))}return _y}function getTransformedPosition(ha,ua,Sa){var ba=create$1();return rotate(ba,ba,Sa.rotation),translate(ba,ba,Sa.position),applyTransform([ha.dataToCoord(ua),(Sa.labelOffset||0)+(Sa.labelDirection||1)*(Sa.labelMargin||0)],ba)}function buildCartesianSingleLabelElOption(ha,ua,Sa,ba,ka,_y){var Ty=AxisBuilder.innerTextLayout(Sa.rotation,0,Sa.labelDirection);Sa.labelMargin=ka.get(["label","margin"]),buildLabelElOption(ua,ba,ka,_y,{position:getTransformedPosition(ba.axis,ha,Sa),align:Ty.textAlign,verticalAlign:Ty.textVerticalAlign})}function makeLineShape(ha,ua,Sa){return Sa=Sa||0,{x1:ha[Sa],y1:ha[1-Sa],x2:ua[Sa],y2:ua[1-Sa]}}function makeRectShape(ha,ua,Sa){return Sa=Sa||0,{x:ha[Sa],y:ha[1-Sa],width:ua[Sa],height:ua[1-Sa]}}function makeSectorShape(ha,ua,Sa,ba,ka,_y){return{cx:ha,cy:ua,r0:Sa,r:ba,startAngle:ka,endAngle:_y,clockwise:!0}}var CartesianAxisPointer=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.makeElOption=function(Sa,ba,ka,_y,Ty){var Ay=ka.axis,Ey=Ay.grid,My=_y.get("type"),Dy=getCartesian(Ey,Ay).getOtherAxis(Ay).getGlobalExtent(),Iy=Ay.toGlobalCoord(Ay.dataToCoord(ba,!0));if(My&&My!=="none"){var Ly=buildElStyle(_y),Py=pointerShapeBuilder$2[My](Ay,Iy,Dy);Py.style=Ly,Sa.graphicKey=Py.type,Sa.pointer=Py}var Ry=layout$2(Ey.model,ka);buildCartesianSingleLabelElOption(ba,Sa,Ry,ka,_y,Ty)},ua.prototype.getHandleTransform=function(Sa,ba,ka){var _y=layout$2(ba.axis.grid.model,ba,{labelInside:!1});_y.labelMargin=ka.get(["handle","margin"]);var Ty=getTransformedPosition(ba.axis,Sa,_y);return{x:Ty[0],y:Ty[1],rotation:_y.rotation+(_y.labelDirection<0?Math.PI:0)}},ua.prototype.updateHandleTransform=function(Sa,ba,ka,_y){var Ty=ka.axis,Ay=Ty.grid,Ey=Ty.getGlobalExtent(!0),My=getCartesian(Ay,Ty).getOtherAxis(Ty).getGlobalExtent(),Dy=Ty.dim==="x"?0:1,Iy=[Sa.x,Sa.y];Iy[Dy]+=ba[Dy],Iy[Dy]=Math.min(Ey[1],Iy[Dy]),Iy[Dy]=Math.max(Ey[0],Iy[Dy]);var Ly=(My[1]+My[0])/2,Py=[Ly,Ly];Py[Dy]=Iy[Dy];var Ry=[{verticalAlign:"middle"},{align:"center"}];return{x:Iy[0],y:Iy[1],rotation:Sa.rotation,cursorPoint:Py,tooltipOption:Ry[Dy]}},ua}(BaseAxisPointer);function getCartesian(ha,ua){var Sa={};return Sa[ua.dim+"AxisIndex"]=ua.index,ha.getCartesian(Sa)}var pointerShapeBuilder$2={line:function(ha,ua,Sa){var ba=makeLineShape([ua,Sa[0]],[ua,Sa[1]],getAxisDimIndex(ha));return{type:"Line",subPixelOptimize:!0,shape:ba}},shadow:function(ha,ua,Sa){var ba=Math.max(1,ha.getBandWidth()),ka=Sa[1]-Sa[0];return{type:"Rect",shape:makeRectShape([ua-ba/2,Sa[0]],[ba,ka],getAxisDimIndex(ha))}}};function getAxisDimIndex(ha){return ha.dim==="x"?0:1}var AxisPointerModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="axisPointer",ua.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},ua}(ComponentModel),inner$a=makeInner(),each$8=each$f;function register(ha,ua,Sa){if(!env.node){var ba=ua.getZr();inner$a(ba).records||(inner$a(ba).records={}),initGlobalListeners(ba,ua);var ka=inner$a(ba).records[ha]||(inner$a(ba).records[ha]={});ka.handler=Sa}}function initGlobalListeners(ha,ua){if(inner$a(ha).initialized)return;inner$a(ha).initialized=!0,Sa("click",curry$1(doEnter,"click")),Sa("mousemove",curry$1(doEnter,"mousemove")),Sa("globalout",onLeave);function Sa(ba,ka){ha.on(ba,function(_y){var Ty=makeDispatchAction$1(ua);each$8(inner$a(ha).records,function(Ay){Ay&&ka(Ay,_y,Ty.dispatchAction)}),dispatchTooltipFinally(Ty.pendings,ua)})}}function dispatchTooltipFinally(ha,ua){var Sa=ha.showTip.length,ba=ha.hideTip.length,ka;Sa?ka=ha.showTip[Sa-1]:ba&&(ka=ha.hideTip[ba-1]),ka&&(ka.dispatchAction=null,ua.dispatchAction(ka))}function onLeave(ha,ua,Sa){ha.handler("leave",null,Sa)}function doEnter(ha,ua,Sa,ba){ua.handler(ha,Sa,ba)}function makeDispatchAction$1(ha){var ua={showTip:[],hideTip:[]},Sa=function(ba){var ka=ua[ba.type];ka?ka.push(ba):(ba.dispatchAction=Sa,ha.dispatchAction(ba))};return{dispatchAction:Sa,pendings:ua}}function unregister(ha,ua){if(!env.node){var Sa=ua.getZr(),ba=(inner$a(Sa).records||{})[ha];ba&&(inner$a(Sa).records[ha]=null)}}var AxisPointerView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){var _y=ba.getComponent("tooltip"),Ty=Sa.get("triggerOn")||_y&&_y.get("triggerOn")||"mousemove|click";register("axisPointer",ka,function(Ay,Ey,My){Ty!=="none"&&(Ay==="leave"||Ty.indexOf(Ay)>=0)&&My({type:"updateAxisPointer",currTrigger:Ay,x:Ey&&Ey.offsetX,y:Ey&&Ey.offsetY})})},ua.prototype.remove=function(Sa,ba){unregister("axisPointer",ba)},ua.prototype.dispose=function(Sa,ba){unregister("axisPointer",ba)},ua.type="axisPointer",ua}(ComponentView);function findPointFromSeries(ha,ua){var Sa=[],ba=ha.seriesIndex,ka;if(ba==null||!(ka=ua.getSeriesByIndex(ba)))return{point:[]};var _y=ka.getData(),Ty=queryDataIndex(_y,ha);if(Ty==null||Ty<0||isArray$1(Ty))return{point:[]};var Ay=_y.getItemGraphicEl(Ty),Ey=ka.coordinateSystem;if(ka.getTooltipPosition)Sa=ka.getTooltipPosition(Ty)||[];else if(Ey&&Ey.dataToPoint)if(ha.isStacked){var My=Ey.getBaseAxis(),Dy=Ey.getOtherAxis(My),Iy=Dy.dim,Ly=My.dim,Py=Iy==="x"||Iy==="radius"?1:0,Ry=_y.mapDimension(Ly),Vy=[];Vy[Py]=_y.get(Ry,Ty),Vy[1-Py]=_y.get(_y.getCalculationInfo("stackResultDimension"),Ty),Sa=Ey.dataToPoint(Vy)||[]}else Sa=Ey.dataToPoint(_y.getValues(map$1(Ey.dimensions,function(By){return _y.mapDimension(By)}),Ty))||[];else if(Ay){var Ny=Ay.getBoundingRect().clone();Ny.applyTransform(Ay.transform),Sa=[Ny.x+Ny.width/2,Ny.y+Ny.height/2]}return{point:Sa,el:Ay}}var inner$9=makeInner();function axisTrigger(ha,ua,Sa){var ba=ha.currTrigger,ka=[ha.x,ha.y],_y=ha,Ty=ha.dispatchAction||bind$1(Sa.dispatchAction,Sa),Ay=ua.getComponent("axisPointer").coordSysAxesInfo;if(Ay){illegalPoint(ka)&&(ka=findPointFromSeries({seriesIndex:_y.seriesIndex,dataIndex:_y.dataIndex},ua).point);var Ey=illegalPoint(ka),My=_y.axesInfo,Dy=Ay.axesInfo,Iy=ba==="leave"||illegalPoint(ka),Ly={},Py={},Ry={list:[],map:{}},Vy={showPointer:curry$1(showPointer,Py),showTooltip:curry$1(showTooltip,Ry)};each$f(Ay.coordSysMap,function(By,Oy){var Fy=Ey||By.containPoint(ka);each$f(Ay.coordSysAxesInfo[Oy],function(zy,Hy){var Gy=zy.axis,Wy=findInputAxisInfo(My,zy);if(!Iy&&Fy&&(!My||Wy)){var Uy=Wy&&Wy.value;Uy==null&&!Ey&&(Uy=Gy.pointToData(ka)),Uy!=null&&processOnAxis(zy,Uy,Vy,!1,Ly)}})});var Ny={};return each$f(Dy,function(By,Oy){var Fy=By.linkGroup;Fy&&!Py[Oy]&&each$f(Fy.axesInfo,function(zy,Hy){var Gy=Py[Hy];if(zy!==By&&Gy){var Wy=Gy.value;Fy.mapper&&(Wy=By.axis.scale.parse(Fy.mapper(Wy,makeMapperParam(zy),makeMapperParam(By)))),Ny[By.key]=Wy}})}),each$f(Ny,function(By,Oy){processOnAxis(Dy[Oy],By,Vy,!0,Ly)}),updateModelActually(Py,Dy,Ly),dispatchTooltipActually(Ry,ka,ha,Ty),dispatchHighDownActually(Dy,Ty,Sa),Ly}}function processOnAxis(ha,ua,Sa,ba,ka){var _y=ha.axis;if(!(_y.scale.isBlank()||!_y.containData(ua))){if(!ha.involveSeries){Sa.showPointer(ha,ua);return}var Ty=buildPayloadsBySeries(ua,ha),Ay=Ty.payloadBatch,Ey=Ty.snapToValue;Ay[0]&&ka.seriesIndex==null&&extend(ka,Ay[0]),!ba&&ha.snap&&_y.containData(Ey)&&Ey!=null&&(ua=Ey),Sa.showPointer(ha,ua,Ay),Sa.showTooltip(ha,Ty,Ey)}}function buildPayloadsBySeries(ha,ua){var Sa=ua.axis,ba=Sa.dim,ka=ha,_y=[],Ty=Number.MAX_VALUE,Ay=-1;return each$f(ua.seriesModels,function(Ey,My){var Dy=Ey.getData().mapDimensionsAll(ba),Iy,Ly;if(Ey.getAxisTooltipData){var Py=Ey.getAxisTooltipData(Dy,ha,Sa);Ly=Py.dataIndices,Iy=Py.nestestValue}else{if(Ly=Ey.getData().indicesOfNearest(Dy[0],ha,Sa.type==="category"?.5:null),!Ly.length)return;Iy=Ey.getData().get(Dy[0],Ly[0])}if(!(Iy==null||!isFinite(Iy))){var Ry=ha-Iy,Vy=Math.abs(Ry);Vy<=Ty&&((Vy<Ty||Ry>=0&&Ay<0)&&(Ty=Vy,Ay=Ry,ka=Iy,_y.length=0),each$f(Ly,function(Ny){_y.push({seriesIndex:Ey.seriesIndex,dataIndexInside:Ny,dataIndex:Ey.getData().getRawIndex(Ny)})}))}}),{payloadBatch:_y,snapToValue:ka}}function showPointer(ha,ua,Sa,ba){ha[ua.key]={value:Sa,payloadBatch:ba}}function showTooltip(ha,ua,Sa,ba){var ka=Sa.payloadBatch,_y=ua.axis,Ty=_y.model,Ay=ua.axisPointerModel;if(!(!ua.triggerTooltip||!ka.length)){var Ey=ua.coordSys.model,My=makeKey(Ey),Dy=ha.map[My];Dy||(Dy=ha.map[My]={coordSysId:Ey.id,coordSysIndex:Ey.componentIndex,coordSysType:Ey.type,coordSysMainType:Ey.mainType,dataByAxis:[]},ha.list.push(Dy)),Dy.dataByAxis.push({axisDim:_y.dim,axisIndex:Ty.componentIndex,axisType:Ty.type,axisId:Ty.id,value:ba,valueLabelOpt:{precision:Ay.get(["label","precision"]),formatter:Ay.get(["label","formatter"])},seriesDataIndices:ka.slice()})}}function updateModelActually(ha,ua,Sa){var ba=Sa.axesInfo=[];each$f(ua,function(ka,_y){var Ty=ka.axisPointerModel.option,Ay=ha[_y];Ay?(!ka.useHandle&&(Ty.status="show"),Ty.value=Ay.value,Ty.seriesDataIndices=(Ay.payloadBatch||[]).slice()):!ka.useHandle&&(Ty.status="hide"),Ty.status==="show"&&ba.push({axisDim:ka.axis.dim,axisIndex:ka.axis.model.componentIndex,value:Ty.value})})}function dispatchTooltipActually(ha,ua,Sa,ba){if(illegalPoint(ua)||!ha.list.length){ba({type:"hideTip"});return}var ka=((ha.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};ba({type:"showTip",escapeConnect:!0,x:ua[0],y:ua[1],tooltipOption:Sa.tooltipOption,position:Sa.position,dataIndexInside:ka.dataIndexInside,dataIndex:ka.dataIndex,seriesIndex:ka.seriesIndex,dataByCoordSys:ha.list})}function dispatchHighDownActually(ha,ua,Sa){var ba=Sa.getZr(),ka="axisPointerLastHighlights",_y=inner$9(ba)[ka]||{},Ty=inner$9(ba)[ka]={};each$f(ha,function(My,Dy){var Iy=My.axisPointerModel.option;Iy.status==="show"&&My.triggerEmphasis&&each$f(Iy.seriesDataIndices,function(Ly){var Py=Ly.seriesIndex+" | "+Ly.dataIndex;Ty[Py]=Ly})});var Ay=[],Ey=[];each$f(_y,function(My,Dy){!Ty[Dy]&&Ey.push(My)}),each$f(Ty,function(My,Dy){!_y[Dy]&&Ay.push(My)}),Ey.length&&Sa.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:Ey}),Ay.length&&Sa.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:Ay})}function findInputAxisInfo(ha,ua){for(var Sa=0;Sa<(ha||[]).length;Sa++){var ba=ha[Sa];if(ua.axis.dim===ba.axisDim&&ua.axis.model.componentIndex===ba.axisIndex)return ba}}function makeMapperParam(ha){var ua=ha.axis.model,Sa={},ba=Sa.axisDim=ha.axis.dim;return Sa.axisIndex=Sa[ba+"AxisIndex"]=ua.componentIndex,Sa.axisName=Sa[ba+"AxisName"]=ua.name,Sa.axisId=Sa[ba+"AxisId"]=ua.id,Sa}function illegalPoint(ha){return!ha||ha[0]==null||isNaN(ha[0])||ha[1]==null||isNaN(ha[1])}function install$q(ha){AxisView.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer),ha.registerComponentModel(AxisPointerModel),ha.registerComponentView(AxisPointerView),ha.registerPreprocessor(function(ua){if(ua){(!ua.axisPointer||ua.axisPointer.length===0)&&(ua.axisPointer={});var Sa=ua.axisPointer.link;Sa&&!isArray$1(Sa)&&(ua.axisPointer.link=[Sa])}}),ha.registerProcessor(ha.PRIORITY.PROCESSOR.STATISTIC,function(ua,Sa){ua.getComponent("axisPointer").coordSysAxesInfo=collect(ua,Sa)}),ha.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p(ha){use(install$N),use(install$q)}var PolarAxisPointer=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.makeElOption=function(Sa,ba,ka,_y,Ty){var Ay=ka.axis;Ay.dim==="angle"&&(this.animationThreshold=Math.PI/18);var Ey=Ay.polar,My=Ey.getOtherAxis(Ay),Dy=My.getExtent(),Iy=Ay.dataToCoord(ba),Ly=_y.get("type");if(Ly&&Ly!=="none"){var Py=buildElStyle(_y),Ry=pointerShapeBuilder$1[Ly](Ay,Ey,Iy,Dy);Ry.style=Py,Sa.graphicKey=Ry.type,Sa.pointer=Ry}var Vy=_y.get(["label","margin"]),Ny=getLabelPosition(ba,ka,_y,Ey,Vy);buildLabelElOption(Sa,ka,_y,Ty,Ny)},ua}(BaseAxisPointer);function getLabelPosition(ha,ua,Sa,ba,ka){var _y=ua.axis,Ty=_y.dataToCoord(ha),Ay=ba.getAngleAxis().getExtent()[0];Ay=Ay/180*Math.PI;var Ey=ba.getRadiusAxis().getExtent(),My,Dy,Iy;if(_y.dim==="radius"){var Ly=create$1();rotate(Ly,Ly,Ay),translate(Ly,Ly,[ba.cx,ba.cy]),My=applyTransform([Ty,-ka],Ly);var Py=ua.getModel("axisLabel").get("rotate")||0,Ry=AxisBuilder.innerTextLayout(Ay,Py*Math.PI/180,-1);Dy=Ry.textAlign,Iy=Ry.textVerticalAlign}else{var Vy=Ey[1];My=ba.coordToPoint([Vy+ka,Ty]);var Ny=ba.cx,By=ba.cy;Dy=Math.abs(My[0]-Ny)/Vy<.3?"center":My[0]>Ny?"left":"right",Iy=Math.abs(My[1]-By)/Vy<.3?"middle":My[1]>By?"top":"bottom"}return{position:My,align:Dy,verticalAlign:Iy}}var pointerShapeBuilder$1={line:function(ha,ua,Sa,ba){return ha.dim==="angle"?{type:"Line",shape:makeLineShape(ua.coordToPoint([ba[0],Sa]),ua.coordToPoint([ba[1],Sa]))}:{type:"Circle",shape:{cx:ua.cx,cy:ua.cy,r:Sa}}},shadow:function(ha,ua,Sa,ba){var ka=Math.max(1,ha.getBandWidth()),_y=Math.PI/180;return ha.dim==="angle"?{type:"Sector",shape:makeSectorShape(ua.cx,ua.cy,ba[0],ba[1],(-Sa-ka/2)*_y,(-Sa+ka/2)*_y)}:{type:"Sector",shape:makeSectorShape(ua.cx,ua.cy,Sa-ka/2,Sa+ka/2,0,Math.PI*2)}}},PolarModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.findAxisModel=function(Sa){var ba,ka=this.ecModel;return ka.eachComponent(Sa,function(_y){_y.getCoordSysModel()===this&&(ba=_y)},this),ba},ua.type="polar",ua.dependencies=["radiusAxis","angleAxis"],ua.defaultOption={z:0,center:["50%","50%"],radius:"80%"},ua}(ComponentModel),PolarAxisModel=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},ua.type="polarAxis",ua}(ComponentModel);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="angleAxis",ua}(PolarAxisModel),RadiusAxisModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="radiusAxis",ua}(PolarAxisModel),RadiusAxis=function(ha){__extends(ua,ha);function ua(Sa,ba){return ha.call(this,"radius",Sa,ba)||this}return ua.prototype.pointToData=function(Sa,ba){return this.polar.pointToData(Sa,ba)[this.dim==="radius"?0:1]},ua}(Axis);RadiusAxis.prototype.dataToRadius=Axis.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis.prototype.coordToData;var inner$8=makeInner(),AngleAxis=function(ha){__extends(ua,ha);function ua(Sa,ba){return ha.call(this,"angle",Sa,ba||[0,360])||this}return ua.prototype.pointToData=function(Sa,ba){return this.polar.pointToData(Sa,ba)[this.dim==="radius"?0:1]},ua.prototype.calculateCategoryInterval=function(){var Sa=this,ba=Sa.getLabelModel(),ka=Sa.scale,_y=ka.getExtent(),Ty=ka.count();if(_y[1]-_y[0]<1)return 0;var Ay=_y[0],Ey=Sa.dataToCoord(Ay+1)-Sa.dataToCoord(Ay),My=Math.abs(Ey),Dy=getBoundingRect(Ay==null?"":Ay+"",ba.getFont(),"center","top"),Iy=Math.max(Dy.height,7),Ly=Iy/My;isNaN(Ly)&&(Ly=1/0);var Py=Math.max(0,Math.floor(Ly)),Ry=inner$8(Sa.model),Vy=Ry.lastAutoInterval,Ny=Ry.lastTickCount;return Vy!=null&&Ny!=null&&Math.abs(Vy-Py)<=1&&Math.abs(Ny-Ty)<=1&&Vy>Py?Py=Vy:(Ry.lastTickCount=Ty,Ry.lastAutoInterval=Py),Py},ua}(Axis);AngleAxis.prototype.dataToAngle=Axis.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis.prototype.coordToData;var polarDimensions=["radius","angle"],Polar=function(){function ha(ua){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis,this._angleAxis=new AngleAxis,this.axisPointerEnabled=!0,this.name=ua||"",this._radiusAxis.polar=this._angleAxis.polar=this}return ha.prototype.containPoint=function(ua){var Sa=this.pointToCoord(ua);return this._radiusAxis.contain(Sa[0])&&this._angleAxis.contain(Sa[1])},ha.prototype.containData=function(ua){return this._radiusAxis.containData(ua[0])&&this._angleAxis.containData(ua[1])},ha.prototype.getAxis=function(ua){var Sa="_"+ua+"Axis";return this[Sa]},ha.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},ha.prototype.getAxesByScale=function(ua){var Sa=[],ba=this._angleAxis,ka=this._radiusAxis;return ba.scale.type===ua&&Sa.push(ba),ka.scale.type===ua&&Sa.push(ka),Sa},ha.prototype.getAngleAxis=function(){return this._angleAxis},ha.prototype.getRadiusAxis=function(){return this._radiusAxis},ha.prototype.getOtherAxis=function(ua){var Sa=this._angleAxis;return ua===Sa?this._radiusAxis:Sa},ha.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},ha.prototype.getTooltipAxes=function(ua){var Sa=ua!=null&&ua!=="auto"?this.getAxis(ua):this.getBaseAxis();return{baseAxes:[Sa],otherAxes:[this.getOtherAxis(Sa)]}},ha.prototype.dataToPoint=function(ua,Sa){return this.coordToPoint([this._radiusAxis.dataToRadius(ua[0],Sa),this._angleAxis.dataToAngle(ua[1],Sa)])},ha.prototype.pointToData=function(ua,Sa){var ba=this.pointToCoord(ua);return[this._radiusAxis.radiusToData(ba[0],Sa),this._angleAxis.angleToData(ba[1],Sa)]},ha.prototype.pointToCoord=function(ua){var Sa=ua[0]-this.cx,ba=ua[1]-this.cy,ka=this.getAngleAxis(),_y=ka.getExtent(),Ty=Math.min(_y[0],_y[1]),Ay=Math.max(_y[0],_y[1]);ka.inverse?Ty=Ay-360:Ay=Ty+360;var Ey=Math.sqrt(Sa*Sa+ba*ba);Sa/=Ey,ba/=Ey;for(var My=Math.atan2(-ba,Sa)/Math.PI*180,Dy=My<Ty?1:-1;My<Ty||My>Ay;)My+=Dy*360;return[Ey,My]},ha.prototype.coordToPoint=function(ua){var Sa=ua[0],ba=ua[1]/180*Math.PI,ka=Math.cos(ba)*Sa+this.cx,_y=-Math.sin(ba)*Sa+this.cy;return[ka,_y]},ha.prototype.getArea=function(){var ua=this.getAngleAxis(),Sa=this.getRadiusAxis(),ba=Sa.getExtent().slice();ba[0]>ba[1]&&ba.reverse();var ka=ua.getExtent(),_y=Math.PI/180,Ty=1e-4;return{cx:this.cx,cy:this.cy,r0:ba[0],r:ba[1],startAngle:-ka[0]*_y,endAngle:-ka[1]*_y,clockwise:ua.inverse,contain:function(Ay,Ey){var My=Ay-this.cx,Dy=Ey-this.cy,Iy=My*My+Dy*Dy,Ly=this.r,Py=this.r0;return Ly!==Py&&Iy-Ty<=Ly*Ly&&Iy+Ty>=Py*Py}}},ha.prototype.convertToPixel=function(ua,Sa,ba){var ka=getCoordSys$2(Sa);return ka===this?this.dataToPoint(ba):null},ha.prototype.convertFromPixel=function(ua,Sa,ba){var ka=getCoordSys$2(Sa);return ka===this?this.pointToData(ba):null},ha}();function getCoordSys$2(ha){var ua=ha.seriesModel,Sa=ha.polarModel;return Sa&&Sa.coordinateSystem||ua&&ua.coordinateSystem}function resizePolar(ha,ua,Sa){var ba=ua.get("center"),ka=Sa.getWidth(),_y=Sa.getHeight();ha.cx=parsePercent(ba[0],ka),ha.cy=parsePercent(ba[1],_y);var Ty=ha.getRadiusAxis(),Ay=Math.min(ka,_y)/2,Ey=ua.get("radius");Ey==null?Ey=[0,"100%"]:isArray$1(Ey)||(Ey=[0,Ey]);var My=[parsePercent(Ey[0],Ay),parsePercent(Ey[1],Ay)];Ty.inverse?Ty.setExtent(My[1],My[0]):Ty.setExtent(My[0],My[1])}function updatePolarScale(ha,ua){var Sa=this,ba=Sa.getAngleAxis(),ka=Sa.getRadiusAxis();if(ba.scale.setExtent(1/0,-1/0),ka.scale.setExtent(1/0,-1/0),ha.eachSeries(function(Ay){if(Ay.coordinateSystem===Sa){var Ey=Ay.getData();each$f(getDataDimensionsOnAxis(Ey,"radius"),function(My){ka.scale.unionExtentFromData(Ey,My)}),each$f(getDataDimensionsOnAxis(Ey,"angle"),function(My){ba.scale.unionExtentFromData(Ey,My)})}}),niceScaleExtent(ba.scale,ba.model),niceScaleExtent(ka.scale,ka.model),ba.type==="category"&&!ba.onBand){var _y=ba.getExtent(),Ty=360/ba.scale.count();ba.inverse?_y[1]+=Ty:_y[1]-=Ty,ba.setExtent(_y[0],_y[1])}}function isAngleAxisModel(ha){return ha.mainType==="angleAxis"}function setAxis(ha,ua){var Sa;if(ha.type=ua.get("type"),ha.scale=createScaleByModel$1(ua),ha.onBand=ua.get("boundaryGap")&&ha.type==="category",ha.inverse=ua.get("inverse"),isAngleAxisModel(ua)){ha.inverse=ha.inverse!==ua.get("clockwise");var ba=ua.get("startAngle"),ka=(Sa=ua.get("endAngle"))!==null&&Sa!==void 0?Sa:ba+(ha.inverse?-360:360);ha.setExtent(ba,ka)}ua.axis=ha,ha.model=ua}var polarCreator={dimensions:polarDimensions,create:function(ha,ua){var Sa=[];return ha.eachComponent("polar",function(ba,ka){var _y=new Polar(ka+"");_y.update=updatePolarScale;var Ty=_y.getRadiusAxis(),Ay=_y.getAngleAxis(),Ey=ba.findAxisModel("radiusAxis"),My=ba.findAxisModel("angleAxis");setAxis(Ty,Ey),setAxis(Ay,My),resizePolar(_y,ba,ua),Sa.push(_y),ba.coordinateSystem=_y,_y.model=ba}),ha.eachSeries(function(ba){if(ba.get("coordinateSystem")==="polar"){var ka=ba.getReferringComponents("polar",SINGLE_REFERRING).models[0];ba.coordinateSystem=ka.coordinateSystem}}),Sa}},elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(ha,ua,Sa){ua[1]>ua[0]&&(ua=ua.slice().reverse());var ba=ha.coordToPoint([ua[0],Sa]),ka=ha.coordToPoint([ua[1],Sa]);return{x1:ba[0],y1:ba[1],x2:ka[0],y2:ka[1]}}function getRadiusIdx(ha){var ua=ha.getRadiusAxis();return ua.inverse?0:1}function fixAngleOverlap(ha){var ua=ha[0],Sa=ha[ha.length-1];ua&&Sa&&Math.abs(Math.abs(ua.coord-Sa.coord)-360)<1e-4&&ha.pop()}var AngleAxisView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.axisPointerClass="PolarAxisPointer",Sa}return ua.prototype.render=function(Sa,ba){if(this.group.removeAll(),!!Sa.get("show")){var ka=Sa.axis,_y=ka.polar,Ty=_y.getRadiusAxis().getExtent(),Ay=ka.getTicksCoords(),Ey=ka.getMinorTicksCoords(),My=map$1(ka.getViewLabels(),function(Dy){Dy=clone$4(Dy);var Iy=ka.scale,Ly=Iy.type==="ordinal"?Iy.getRawOrdinalNumber(Dy.tickValue):Dy.tickValue;return Dy.coord=ka.dataToCoord(Ly),Dy});fixAngleOverlap(My),fixAngleOverlap(Ay),each$f(elementList,function(Dy){Sa.get([Dy,"show"])&&(!ka.scale.isBlank()||Dy==="axisLine")&&angelAxisElementsBuilders[Dy](this.group,Sa,_y,Ay,Ey,Ty,My)},this)}},ua.type="angleAxis",ua}(AxisView),angelAxisElementsBuilders={axisLine:function(ha,ua,Sa,ba,ka,_y){var Ty=ua.getModel(["axisLine","lineStyle"]),Ay=Sa.getAngleAxis(),Ey=Math.PI/180,My=Ay.getExtent(),Dy=getRadiusIdx(Sa),Iy=Dy?0:1,Ly,Py=Math.abs(My[1]-My[0])===360?"Circle":"Arc";_y[Iy]===0?Ly=new graphic[Py]({shape:{cx:Sa.cx,cy:Sa.cy,r:_y[Dy],startAngle:-My[0]*Ey,endAngle:-My[1]*Ey,clockwise:Ay.inverse},style:Ty.getLineStyle(),z2:1,silent:!0}):Ly=new Ring({shape:{cx:Sa.cx,cy:Sa.cy,r:_y[Dy],r0:_y[Iy]},style:Ty.getLineStyle(),z2:1,silent:!0}),Ly.style.fill=null,ha.add(Ly)},axisTick:function(ha,ua,Sa,ba,ka,_y){var Ty=ua.getModel("axisTick"),Ay=(Ty.get("inside")?-1:1)*Ty.get("length"),Ey=_y[getRadiusIdx(Sa)],My=map$1(ba,function(Dy){return new Line$1({shape:getAxisLineShape(Sa,[Ey,Ey+Ay],Dy.coord)})});ha.add(mergePath(My,{style:defaults(Ty.getModel("lineStyle").getLineStyle(),{stroke:ua.get(["axisLine","lineStyle","color"])})}))},minorTick:function(ha,ua,Sa,ba,ka,_y){if(ka.length){for(var Ty=ua.getModel("axisTick"),Ay=ua.getModel("minorTick"),Ey=(Ty.get("inside")?-1:1)*Ay.get("length"),My=_y[getRadiusIdx(Sa)],Dy=[],Iy=0;Iy<ka.length;Iy++)for(var Ly=0;Ly<ka[Iy].length;Ly++)Dy.push(new Line$1({shape:getAxisLineShape(Sa,[My,My+Ey],ka[Iy][Ly].coord)}));ha.add(mergePath(Dy,{style:defaults(Ay.getModel("lineStyle").getLineStyle(),defaults(Ty.getLineStyle(),{stroke:ua.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(ha,ua,Sa,ba,ka,_y,Ty){var Ay=ua.getCategories(!0),Ey=ua.getModel("axisLabel"),My=Ey.get("margin"),Dy=ua.get("triggerEvent");each$f(Ty,function(Iy,Ly){var Py=Ey,Ry=Iy.tickValue,Vy=_y[getRadiusIdx(Sa)],Ny=Sa.coordToPoint([Vy+My,Iy.coord]),By=Sa.cx,Oy=Sa.cy,Fy=Math.abs(Ny[0]-By)/Vy<.3?"center":Ny[0]>By?"left":"right",zy=Math.abs(Ny[1]-Oy)/Vy<.3?"middle":Ny[1]>Oy?"top":"bottom";if(Ay&&Ay[Ry]){var Hy=Ay[Ry];isObject$3(Hy)&&Hy.textStyle&&(Py=new Model(Hy.textStyle,Ey,Ey.ecModel))}var Gy=new ZRText({silent:AxisBuilder.isLabelSilent(ua),style:createTextStyle(Py,{x:Ny[0],y:Ny[1],fill:Py.getTextColor()||ua.get(["axisLine","lineStyle","color"]),text:Iy.formattedLabel,align:Fy,verticalAlign:zy})});if(ha.add(Gy),Dy){var Wy=AxisBuilder.makeAxisEventDataBase(ua);Wy.targetType="axisLabel",Wy.value=Iy.rawLabel,getECData(Gy).eventData=Wy}},this)},splitLine:function(ha,ua,Sa,ba,ka,_y){var Ty=ua.getModel("splitLine"),Ay=Ty.getModel("lineStyle"),Ey=Ay.get("color"),My=0;Ey=Ey instanceof Array?Ey:[Ey];for(var Dy=[],Iy=0;Iy<ba.length;Iy++){var Ly=My++%Ey.length;Dy[Ly]=Dy[Ly]||[],Dy[Ly].push(new Line$1({shape:getAxisLineShape(Sa,_y,ba[Iy].coord)}))}for(var Iy=0;Iy<Dy.length;Iy++)ha.add(mergePath(Dy[Iy],{style:defaults({stroke:Ey[Iy%Ey.length]},Ay.getLineStyle()),silent:!0,z:ua.get("z")}))},minorSplitLine:function(ha,ua,Sa,ba,ka,_y){if(ka.length){for(var Ty=ua.getModel("minorSplitLine"),Ay=Ty.getModel("lineStyle"),Ey=[],My=0;My<ka.length;My++)for(var Dy=0;Dy<ka[My].length;Dy++)Ey.push(new Line$1({shape:getAxisLineShape(Sa,_y,ka[My][Dy].coord)}));ha.add(mergePath(Ey,{style:Ay.getLineStyle(),silent:!0,z:ua.get("z")}))}},splitArea:function(ha,ua,Sa,ba,ka,_y){if(ba.length){var Ty=ua.getModel("splitArea"),Ay=Ty.getModel("areaStyle"),Ey=Ay.get("color"),My=0;Ey=Ey instanceof Array?Ey:[Ey];for(var Dy=[],Iy=Math.PI/180,Ly=-ba[0].coord*Iy,Py=Math.min(_y[0],_y[1]),Ry=Math.max(_y[0],_y[1]),Vy=ua.get("clockwise"),Ny=1,By=ba.length;Ny<=By;Ny++){var Oy=Ny===By?ba[0].coord:ba[Ny].coord,Fy=My++%Ey.length;Dy[Fy]=Dy[Fy]||[],Dy[Fy].push(new Sector({shape:{cx:Sa.cx,cy:Sa.cy,r0:Py,r:Ry,startAngle:Ly,endAngle:-Oy*Iy,clockwise:Vy},silent:!0})),Ly=-Oy*Iy}for(var Ny=0;Ny<Dy.length;Ny++)ha.add(mergePath(Dy[Ny],{style:defaults({fill:Ey[Ny%Ey.length]},Ay.getAreaStyle()),silent:!0}))}}},axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.axisPointerClass="PolarAxisPointer",Sa}return ua.prototype.render=function(Sa,ba){if(this.group.removeAll(),!!Sa.get("show")){var ka=this._axisGroup,_y=this._axisGroup=new Group$3;this.group.add(_y);var Ty=Sa.axis,Ay=Ty.polar,Ey=Ay.getAngleAxis(),My=Ty.getTicksCoords(),Dy=Ty.getMinorTicksCoords(),Iy=Ey.getExtent()[0],Ly=Ty.getExtent(),Py=layoutAxis(Ay,Sa,Iy),Ry=new AxisBuilder(Sa,Py);each$f(axisBuilderAttrs$1,Ry.add,Ry),_y.add(Ry.getGroup()),groupTransition(ka,_y,Sa),each$f(selfBuilderAttrs$1,function(Vy){Sa.get([Vy,"show"])&&!Ty.scale.isBlank()&&axisElementBuilders$1[Vy](this.group,Sa,Ay,Iy,Ly,My,Dy)},this)}},ua.type="radiusAxis",ua}(AxisView),axisElementBuilders$1={splitLine:function(ha,ua,Sa,ba,ka,_y){var Ty=ua.getModel("splitLine"),Ay=Ty.getModel("lineStyle"),Ey=Ay.get("color"),My=0,Dy=Sa.getAngleAxis(),Iy=Math.PI/180,Ly=Dy.getExtent(),Py=Math.abs(Ly[1]-Ly[0])===360?"Circle":"Arc";Ey=Ey instanceof Array?Ey:[Ey];for(var Ry=[],Vy=0;Vy<_y.length;Vy++){var Ny=My++%Ey.length;Ry[Ny]=Ry[Ny]||[],Ry[Ny].push(new graphic[Py]({shape:{cx:Sa.cx,cy:Sa.cy,r:Math.max(_y[Vy].coord,0),startAngle:-Ly[0]*Iy,endAngle:-Ly[1]*Iy,clockwise:Dy.inverse}}))}for(var Vy=0;Vy<Ry.length;Vy++)ha.add(mergePath(Ry[Vy],{style:defaults({stroke:Ey[Vy%Ey.length],fill:null},Ay.getLineStyle()),silent:!0}))},minorSplitLine:function(ha,ua,Sa,ba,ka,_y,Ty){if(Ty.length){for(var Ay=ua.getModel("minorSplitLine"),Ey=Ay.getModel("lineStyle"),My=[],Dy=0;Dy<Ty.length;Dy++)for(var Iy=0;Iy<Ty[Dy].length;Iy++)My.push(new Circle({shape:{cx:Sa.cx,cy:Sa.cy,r:Ty[Dy][Iy].coord}}));ha.add(mergePath(My,{style:defaults({fill:null},Ey.getLineStyle()),silent:!0}))}},splitArea:function(ha,ua,Sa,ba,ka,_y){if(_y.length){var Ty=ua.getModel("splitArea"),Ay=Ty.getModel("areaStyle"),Ey=Ay.get("color"),My=0;Ey=Ey instanceof Array?Ey:[Ey];for(var Dy=[],Iy=_y[0].coord,Ly=1;Ly<_y.length;Ly++){var Py=My++%Ey.length;Dy[Py]=Dy[Py]||[],Dy[Py].push(new Sector({shape:{cx:Sa.cx,cy:Sa.cy,r0:Iy,r:_y[Ly].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),Iy=_y[Ly].coord}for(var Ly=0;Ly<Dy.length;Ly++)ha.add(mergePath(Dy[Ly],{style:defaults({fill:Ey[Ly%Ey.length]},Ay.getAreaStyle()),silent:!0}))}}};function layoutAxis(ha,ua,Sa){return{position:[ha.cx,ha.cy],rotation:Sa/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:ua.getModel("axisLabel").get("rotate"),z2:1}}function getSeriesStackId(ha){return ha.get("stack")||"__ec_stack_"+ha.seriesIndex}function getAxisKey(ha,ua){return ua.dim+ha.model.componentIndex}function barLayoutPolar(ha,ua,Sa){var ba={},ka=calRadialBar(filter(ua.getSeriesByType(ha),function(_y){return!ua.isSeriesFiltered(_y)&&_y.coordinateSystem&&_y.coordinateSystem.type==="polar"}));ua.eachSeriesByType(ha,function(_y){if(_y.coordinateSystem.type==="polar"){var Ty=_y.getData(),Ay=_y.coordinateSystem,Ey=Ay.getBaseAxis(),My=getAxisKey(Ay,Ey),Dy=getSeriesStackId(_y),Iy=ka[My][Dy],Ly=Iy.offset,Py=Iy.width,Ry=Ay.getOtherAxis(Ey),Vy=_y.coordinateSystem.cx,Ny=_y.coordinateSystem.cy,By=_y.get("barMinHeight")||0,Oy=_y.get("barMinAngle")||0;ba[Dy]=ba[Dy]||[];for(var Fy=Ty.mapDimension(Ry.dim),zy=Ty.mapDimension(Ey.dim),Hy=isDimensionStacked(Ty,Fy),Gy=Ey.dim!=="radius"||!_y.get("roundCap",!0),Wy=Ry.model,Uy=Wy.get("startValue"),Yy=Ry.dataToCoord(Uy||0),jy=0,Ky=Ty.count();jy<Ky;jy++){var Xy=Ty.get(Fy,jy),Zy=Ty.get(zy,jy),Jy=Xy>=0?"p":"n",t_=Yy;Hy&&(ba[Dy][Zy]||(ba[Dy][Zy]={p:Yy,n:Yy}),t_=ba[Dy][Zy][Jy]);var Qy=void 0,r_=void 0,i_=void 0,l_=void 0;if(Ry.dim==="radius"){var c_=Ry.dataToCoord(Xy)-Yy,d_=Ey.dataToCoord(Zy);Math.abs(c_)<By&&(c_=(c_<0?-1:1)*By),Qy=t_,r_=t_+c_,i_=d_-Ly,l_=i_-Py,Hy&&(ba[Dy][Zy][Jy]=r_)}else{var f_=Ry.dataToCoord(Xy,Gy)-Yy,m_=Ey.dataToCoord(Zy);Math.abs(f_)<Oy&&(f_=(f_<0?-1:1)*Oy),Qy=m_+Ly,r_=Qy+Py,i_=t_,l_=t_+f_,Hy&&(ba[Dy][Zy][Jy]=l_)}Ty.setItemLayout(jy,{cx:Vy,cy:Ny,r0:Qy,r:r_,startAngle:-i_*Math.PI/180,endAngle:-l_*Math.PI/180,clockwise:i_>=l_})}}})}function calRadialBar(ha){var ua={};each$f(ha,function(ba,ka){var _y=ba.getData(),Ty=ba.coordinateSystem,Ay=Ty.getBaseAxis(),Ey=getAxisKey(Ty,Ay),My=Ay.getExtent(),Dy=Ay.type==="category"?Ay.getBandWidth():Math.abs(My[1]-My[0])/_y.count(),Iy=ua[Ey]||{bandWidth:Dy,remainedWidth:Dy,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},Ly=Iy.stacks;ua[Ey]=Iy;var Py=getSeriesStackId(ba);Ly[Py]||Iy.autoWidthCount++,Ly[Py]=Ly[Py]||{width:0,maxWidth:0};var Ry=parsePercent(ba.get("barWidth"),Dy),Vy=parsePercent(ba.get("barMaxWidth"),Dy),Ny=ba.get("barGap"),By=ba.get("barCategoryGap");Ry&&!Ly[Py].width&&(Ry=Math.min(Iy.remainedWidth,Ry),Ly[Py].width=Ry,Iy.remainedWidth-=Ry),Vy&&(Ly[Py].maxWidth=Vy),Ny!=null&&(Iy.gap=Ny),By!=null&&(Iy.categoryGap=By)});var Sa={};return each$f(ua,function(ba,ka){Sa[ka]={};var _y=ba.stacks,Ty=ba.bandWidth,Ay=parsePercent(ba.categoryGap,Ty),Ey=parsePercent(ba.gap,1),My=ba.remainedWidth,Dy=ba.autoWidthCount,Iy=(My-Ay)/(Dy+(Dy-1)*Ey);Iy=Math.max(Iy,0),each$f(_y,function(Vy,Ny){var By=Vy.maxWidth;By&&By<Iy&&(By=Math.min(By,My),Vy.width&&(By=Math.min(By,Vy.width)),My-=By,Vy.width=By,Dy--)}),Iy=(My-Ay)/(Dy+(Dy-1)*Ey),Iy=Math.max(Iy,0);var Ly=0,Py;each$f(_y,function(Vy,Ny){Vy.width||(Vy.width=Iy),Py=Vy,Ly+=Vy.width*(1+Ey)}),Py&&(Ly-=Py.width*Ey);var Ry=-Ly/2;each$f(_y,function(Vy,Ny){Sa[ka][Ny]=Sa[ka][Ny]||{offset:Ry,width:Vy.width},Ry+=Vy.width*(1+Ey)})}),Sa}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="polar",ua}(ComponentView);function install$o(ha){use(install$q),AxisView.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer),ha.registerCoordinateSystem("polar",polarCreator),ha.registerComponentModel(PolarModel),ha.registerComponentView(PolarView),axisModelCreator(ha,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(ha,"radius",RadiusAxisModel,radiusAxisExtraOption),ha.registerComponentView(AngleAxisView),ha.registerComponentView(RadiusAxisView),ha.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(ha,ua){ua=ua||{};var Sa=ha.coordinateSystem,ba=ha.axis,ka={},_y=ba.position,Ty=ba.orient,Ay=Sa.getRect(),Ey=[Ay.x,Ay.x+Ay.width,Ay.y,Ay.y+Ay.height],My={horizontal:{top:Ey[2],bottom:Ey[3]},vertical:{left:Ey[0],right:Ey[1]}};ka.position=[Ty==="vertical"?My.vertical[_y]:Ey[0],Ty==="horizontal"?My.horizontal[_y]:Ey[3]];var Dy={horizontal:0,vertical:1};ka.rotation=Math.PI/2*Dy[Ty];var Iy={top:-1,bottom:1,right:1,left:-1};ka.labelDirection=ka.tickDirection=ka.nameDirection=Iy[_y],ha.get(["axisTick","inside"])&&(ka.tickDirection=-ka.tickDirection),retrieve(ua.labelInside,ha.get(["axisLabel","inside"]))&&(ka.labelDirection=-ka.labelDirection);var Ly=ua.rotate;return Ly==null&&(Ly=ha.get(["axisLabel","rotate"])),ka.labelRotation=_y==="top"?-Ly:Ly,ka.z2=1,ka}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.axisPointerClass="SingleAxisPointer",Sa}return ua.prototype.render=function(Sa,ba,ka,_y){var Ty=this.group;Ty.removeAll();var Ay=this._axisGroup;this._axisGroup=new Group$3;var Ey=layout$1(Sa),My=new AxisBuilder(Sa,Ey);each$f(axisBuilderAttrs,My.add,My),Ty.add(this._axisGroup),Ty.add(My.getGroup()),each$f(selfBuilderAttrs,function(Dy){Sa.get([Dy,"show"])&&axisElementBuilders[Dy](this,this.group,this._axisGroup,Sa)},this),groupTransition(Ay,this._axisGroup,Sa),ha.prototype.render.call(this,Sa,ba,ka,_y)},ua.prototype.remove=function(){rectCoordAxisHandleRemove(this)},ua.type="singleAxis",ua}(AxisView),axisElementBuilders={splitLine:function(ha,ua,Sa,ba){var ka=ba.axis;if(!ka.scale.isBlank()){var _y=ba.getModel("splitLine"),Ty=_y.getModel("lineStyle"),Ay=Ty.get("color");Ay=Ay instanceof Array?Ay:[Ay];for(var Ey=Ty.get("width"),My=ba.coordinateSystem.getRect(),Dy=ka.isHorizontal(),Iy=[],Ly=0,Py=ka.getTicksCoords({tickModel:_y}),Ry=[],Vy=[],Ny=0;Ny<Py.length;++Ny){var By=ka.toGlobalCoord(Py[Ny].coord);Dy?(Ry[0]=By,Ry[1]=My.y,Vy[0]=By,Vy[1]=My.y+My.height):(Ry[0]=My.x,Ry[1]=By,Vy[0]=My.x+My.width,Vy[1]=By);var Oy=new Line$1({shape:{x1:Ry[0],y1:Ry[1],x2:Vy[0],y2:Vy[1]},silent:!0});subPixelOptimizeLine(Oy.shape,Ey);var Fy=Ly++%Ay.length;Iy[Fy]=Iy[Fy]||[],Iy[Fy].push(Oy)}for(var zy=Ty.getLineStyle(["color"]),Ny=0;Ny<Iy.length;++Ny)ua.add(mergePath(Iy[Ny],{style:defaults({stroke:Ay[Ny%Ay.length]},zy),silent:!0}))}},splitArea:function(ha,ua,Sa,ba){rectCoordAxisBuildSplitArea(ha,Sa,ba,ba)}},SingleAxisModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.getCoordSysModel=function(){return this},ua.type="singleAxis",ua.layoutMode="box",ua.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},ua}(ComponentModel);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);var SingleAxis=function(ha){__extends(ua,ha);function ua(Sa,ba,ka,_y,Ty){var Ay=ha.call(this,Sa,ba,ka)||this;return Ay.type=_y||"value",Ay.position=Ty||"bottom",Ay}return ua.prototype.isHorizontal=function(){var Sa=this.position;return Sa==="top"||Sa==="bottom"},ua.prototype.pointToData=function(Sa,ba){return this.coordinateSystem.pointToData(Sa)[0]},ua}(Axis),singleDimensions=["single"],Single=function(){function ha(ua,Sa,ba){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=ua,this._init(ua,Sa,ba)}return ha.prototype._init=function(ua,Sa,ba){var ka=this.dimension,_y=new SingleAxis(ka,createScaleByModel$1(ua),[0,0],ua.get("type"),ua.get("position")),Ty=_y.type==="category";_y.onBand=Ty&&ua.get("boundaryGap"),_y.inverse=ua.get("inverse"),_y.orient=ua.get("orient"),ua.axis=_y,_y.model=ua,_y.coordinateSystem=this,this._axis=_y},ha.prototype.update=function(ua,Sa){ua.eachSeries(function(ba){if(ba.coordinateSystem===this){var ka=ba.getData();each$f(ka.mapDimensionsAll(this.dimension),function(_y){this._axis.scale.unionExtentFromData(ka,_y)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},ha.prototype.resize=function(ua,Sa){this._rect=getLayoutRect({left:ua.get("left"),top:ua.get("top"),right:ua.get("right"),bottom:ua.get("bottom"),width:ua.get("width"),height:ua.get("height")},{width:Sa.getWidth(),height:Sa.getHeight()}),this._adjustAxis()},ha.prototype.getRect=function(){return this._rect},ha.prototype._adjustAxis=function(){var ua=this._rect,Sa=this._axis,ba=Sa.isHorizontal(),ka=ba?[0,ua.width]:[0,ua.height],_y=Sa.inverse?1:0;Sa.setExtent(ka[_y],ka[1-_y]),this._updateAxisTransform(Sa,ba?ua.x:ua.y)},ha.prototype._updateAxisTransform=function(ua,Sa){var ba=ua.getExtent(),ka=ba[0]+ba[1],_y=ua.isHorizontal();ua.toGlobalCoord=_y?function(Ty){return Ty+Sa}:function(Ty){return ka-Ty+Sa},ua.toLocalCoord=_y?function(Ty){return Ty-Sa}:function(Ty){return ka-Ty+Sa}},ha.prototype.getAxis=function(){return this._axis},ha.prototype.getBaseAxis=function(){return this._axis},ha.prototype.getAxes=function(){return[this._axis]},ha.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},ha.prototype.containPoint=function(ua){var Sa=this.getRect(),ba=this.getAxis(),ka=ba.orient;return ka==="horizontal"?ba.contain(ba.toLocalCoord(ua[0]))&&ua[1]>=Sa.y&&ua[1]<=Sa.y+Sa.height:ba.contain(ba.toLocalCoord(ua[1]))&&ua[0]>=Sa.y&&ua[0]<=Sa.y+Sa.height},ha.prototype.pointToData=function(ua){var Sa=this.getAxis();return[Sa.coordToData(Sa.toLocalCoord(ua[Sa.orient==="horizontal"?0:1]))]},ha.prototype.dataToPoint=function(ua){var Sa=this.getAxis(),ba=this.getRect(),ka=[],_y=Sa.orient==="horizontal"?0:1;return ua instanceof Array&&(ua=ua[0]),ka[_y]=Sa.toGlobalCoord(Sa.dataToCoord(+ua)),ka[1-_y]=_y===0?ba.y+ba.height/2:ba.x+ba.width/2,ka},ha.prototype.convertToPixel=function(ua,Sa,ba){var ka=getCoordSys$1(Sa);return ka===this?this.dataToPoint(ba):null},ha.prototype.convertFromPixel=function(ua,Sa,ba){var ka=getCoordSys$1(Sa);return ka===this?this.pointToData(ba):null},ha}();function getCoordSys$1(ha){var ua=ha.seriesModel,Sa=ha.singleAxisModel;return Sa&&Sa.coordinateSystem||ua&&ua.coordinateSystem}function create(ha,ua){var Sa=[];return ha.eachComponent("singleAxis",function(ba,ka){var _y=new Single(ba,ha,ua);_y.name="single_"+ka,_y.resize(ba,ua),ba.coordinateSystem=_y,Sa.push(_y)}),ha.eachSeries(function(ba){if(ba.get("coordinateSystem")==="singleAxis"){var ka=ba.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];ba.coordinateSystem=ka&&ka.coordinateSystem}}),Sa}var singleCreator={create,dimensions:singleDimensions},XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.makeElOption=function(Sa,ba,ka,_y,Ty){var Ay=ka.axis,Ey=Ay.coordinateSystem,My=getGlobalExtent(Ey,1-getPointDimIndex(Ay)),Dy=Ey.dataToPoint(ba)[0],Iy=_y.get("type");if(Iy&&Iy!=="none"){var Ly=buildElStyle(_y),Py=pointerShapeBuilder[Iy](Ay,Dy,My);Py.style=Ly,Sa.graphicKey=Py.type,Sa.pointer=Py}var Ry=layout$1(ka);buildCartesianSingleLabelElOption(ba,Sa,Ry,ka,_y,Ty)},ua.prototype.getHandleTransform=function(Sa,ba,ka){var _y=layout$1(ba,{labelInside:!1});_y.labelMargin=ka.get(["handle","margin"]);var Ty=getTransformedPosition(ba.axis,Sa,_y);return{x:Ty[0],y:Ty[1],rotation:_y.rotation+(_y.labelDirection<0?Math.PI:0)}},ua.prototype.updateHandleTransform=function(Sa,ba,ka,_y){var Ty=ka.axis,Ay=Ty.coordinateSystem,Ey=getPointDimIndex(Ty),My=getGlobalExtent(Ay,Ey),Dy=[Sa.x,Sa.y];Dy[Ey]+=ba[Ey],Dy[Ey]=Math.min(My[1],Dy[Ey]),Dy[Ey]=Math.max(My[0],Dy[Ey]);var Iy=getGlobalExtent(Ay,1-Ey),Ly=(Iy[1]+Iy[0])/2,Py=[Ly,Ly];return Py[Ey]=Dy[Ey],{x:Dy[0],y:Dy[1],rotation:Sa.rotation,cursorPoint:Py,tooltipOption:{verticalAlign:"middle"}}},ua}(BaseAxisPointer),pointerShapeBuilder={line:function(ha,ua,Sa){var ba=makeLineShape([ua,Sa[0]],[ua,Sa[1]],getPointDimIndex(ha));return{type:"Line",subPixelOptimize:!0,shape:ba}},shadow:function(ha,ua,Sa){var ba=ha.getBandWidth(),ka=Sa[1]-Sa[0];return{type:"Rect",shape:makeRectShape([ua-ba/2,Sa[0]],[ba,ka],getPointDimIndex(ha))}}};function getPointDimIndex(ha){return ha.isHorizontal()?0:1}function getGlobalExtent(ha,ua){var Sa=ha.getRect();return[Sa[XY$1[ua]],Sa[XY$1[ua]]+Sa[WH$1[ua]]]}var SingleView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="single",ua}(ComponentView);function install$n(ha){use(install$q),AxisView.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer),ha.registerComponentView(SingleView),ha.registerComponentView(SingleAxisView),ha.registerComponentModel(SingleAxisModel),axisModelCreator(ha,"single",SingleAxisModel,SingleAxisModel.defaultOption),ha.registerCoordinateSystem("single",singleCreator)}var CalendarModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(Sa,ba,ka){var _y=getLayoutParams(Sa);ha.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(Sa,_y)},ua.prototype.mergeOption=function(Sa){ha.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,Sa)},ua.prototype.getCellSize=function(){return this.option.cellSize},ua.type="calendar",ua.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},ua}(ComponentModel);function mergeAndNormalizeLayoutParams$1(ha,ua){var Sa=ha.cellSize,ba;isArray$1(Sa)?ba=Sa:ba=ha.cellSize=[Sa,Sa],ba.length===1&&(ba[1]=ba[0]);var ka=map$1([0,1],function(_y){return sizeCalculable(ua,_y)&&(ba[_y]="auto"),ba[_y]!=null&&ba[_y]!=="auto"});mergeLayoutParam(ha,ua,{type:"box",ignoreSize:ka})}var CalendarView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){var _y=this.group;_y.removeAll();var Ty=Sa.coordinateSystem,Ay=Ty.getRangeInfo(),Ey=Ty.getOrient(),My=ba.getLocaleModel();this._renderDayRect(Sa,Ay,_y),this._renderLines(Sa,Ay,Ey,_y),this._renderYearText(Sa,Ay,Ey,_y),this._renderMonthText(Sa,My,Ey,_y),this._renderWeekText(Sa,My,Ay,Ey,_y)},ua.prototype._renderDayRect=function(Sa,ba,ka){for(var _y=Sa.coordinateSystem,Ty=Sa.getModel("itemStyle").getItemStyle(),Ay=_y.getCellWidth(),Ey=_y.getCellHeight(),My=ba.start.time;My<=ba.end.time;My=_y.getNextNDay(My,1).time){var Dy=_y.dataToRect([My],!1).tl,Iy=new Rect$2({shape:{x:Dy[0],y:Dy[1],width:Ay,height:Ey},cursor:"default",style:Ty});ka.add(Iy)}},ua.prototype._renderLines=function(Sa,ba,ka,_y){var Ty=this,Ay=Sa.coordinateSystem,Ey=Sa.getModel(["splitLine","lineStyle"]).getLineStyle(),My=Sa.get(["splitLine","show"]),Dy=Ey.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var Iy=ba.start,Ly=0;Iy.time<=ba.end.time;Ly++){Ry(Iy.formatedDate),Ly===0&&(Iy=Ay.getDateInfo(ba.start.y+"-"+ba.start.m));var Py=Iy.date;Py.setMonth(Py.getMonth()+1),Iy=Ay.getDateInfo(Py)}Ry(Ay.getNextNDay(ba.end.time,1).formatedDate);function Ry(Vy){Ty._firstDayOfMonth.push(Ay.getDateInfo(Vy)),Ty._firstDayPoints.push(Ay.dataToRect([Vy],!1).tl);var Ny=Ty._getLinePointsOfOneWeek(Sa,Vy,ka);Ty._tlpoints.push(Ny[0]),Ty._blpoints.push(Ny[Ny.length-1]),My&&Ty._drawSplitline(Ny,Ey,_y)}My&&this._drawSplitline(Ty._getEdgesPoints(Ty._tlpoints,Dy,ka),Ey,_y),My&&this._drawSplitline(Ty._getEdgesPoints(Ty._blpoints,Dy,ka),Ey,_y)},ua.prototype._getEdgesPoints=function(Sa,ba,ka){var _y=[Sa[0].slice(),Sa[Sa.length-1].slice()],Ty=ka==="horizontal"?0:1;return _y[0][Ty]=_y[0][Ty]-ba/2,_y[1][Ty]=_y[1][Ty]+ba/2,_y},ua.prototype._drawSplitline=function(Sa,ba,ka){var _y=new Polyline$1({z2:20,shape:{points:Sa},style:ba});ka.add(_y)},ua.prototype._getLinePointsOfOneWeek=function(Sa,ba,ka){for(var _y=Sa.coordinateSystem,Ty=_y.getDateInfo(ba),Ay=[],Ey=0;Ey<7;Ey++){var My=_y.getNextNDay(Ty.time,Ey),Dy=_y.dataToRect([My.time],!1);Ay[2*My.day]=Dy.tl,Ay[2*My.day+1]=Dy[ka==="horizontal"?"bl":"tr"]}return Ay},ua.prototype._formatterLabel=function(Sa,ba){return isString(Sa)&&Sa?formatTplSimple(Sa,ba):isFunction(Sa)?Sa(ba):ba.nameMap},ua.prototype._yearTextPositionControl=function(Sa,ba,ka,_y,Ty){var Ay=ba[0],Ey=ba[1],My=["center","bottom"];_y==="bottom"?(Ey+=Ty,My=["center","top"]):_y==="left"?Ay-=Ty:_y==="right"?(Ay+=Ty,My=["center","top"]):Ey-=Ty;var Dy=0;return(_y==="left"||_y==="right")&&(Dy=Math.PI/2),{rotation:Dy,x:Ay,y:Ey,style:{align:My[0],verticalAlign:My[1]}}},ua.prototype._renderYearText=function(Sa,ba,ka,_y){var Ty=Sa.getModel("yearLabel");if(Ty.get("show")){var Ay=Ty.get("margin"),Ey=Ty.get("position");Ey||(Ey=ka!=="horizontal"?"top":"left");var My=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],Dy=(My[0][0]+My[1][0])/2,Iy=(My[0][1]+My[1][1])/2,Ly=ka==="horizontal"?0:1,Py={top:[Dy,My[Ly][1]],bottom:[Dy,My[1-Ly][1]],left:[My[1-Ly][0],Iy],right:[My[Ly][0],Iy]},Ry=ba.start.y;+ba.end.y>+ba.start.y&&(Ry=Ry+"-"+ba.end.y);var Vy=Ty.get("formatter"),Ny={start:ba.start.y,end:ba.end.y,nameMap:Ry},By=this._formatterLabel(Vy,Ny),Oy=new ZRText({z2:30,style:createTextStyle(Ty,{text:By}),silent:Ty.get("silent")});Oy.attr(this._yearTextPositionControl(Oy,Py[Ey],ka,Ey,Ay)),_y.add(Oy)}},ua.prototype._monthTextPositionControl=function(Sa,ba,ka,_y,Ty){var Ay="left",Ey="top",My=Sa[0],Dy=Sa[1];return ka==="horizontal"?(Dy=Dy+Ty,ba&&(Ay="center"),_y==="start"&&(Ey="bottom")):(My=My+Ty,ba&&(Ey="middle"),_y==="start"&&(Ay="right")),{x:My,y:Dy,align:Ay,verticalAlign:Ey}},ua.prototype._renderMonthText=function(Sa,ba,ka,_y){var Ty=Sa.getModel("monthLabel");if(Ty.get("show")){var Ay=Ty.get("nameMap"),Ey=Ty.get("margin"),My=Ty.get("position"),Dy=Ty.get("align"),Iy=[this._tlpoints,this._blpoints];(!Ay||isString(Ay))&&(Ay&&(ba=getLocaleModel(Ay)||ba),Ay=ba.get(["time","monthAbbr"])||[]);var Ly=My==="start"?0:1,Py=ka==="horizontal"?0:1;Ey=My==="start"?-Ey:Ey;for(var Ry=Dy==="center",Vy=Ty.get("silent"),Ny=0;Ny<Iy[Ly].length-1;Ny++){var By=Iy[Ly][Ny].slice(),Oy=this._firstDayOfMonth[Ny];if(Ry){var Fy=this._firstDayPoints[Ny];By[Py]=(Fy[Py]+Iy[0][Ny+1][Py])/2}var zy=Ty.get("formatter"),Hy=Ay[+Oy.m-1],Gy={yyyy:Oy.y,yy:(Oy.y+"").slice(2),MM:Oy.m,M:+Oy.m,nameMap:Hy},Wy=this._formatterLabel(zy,Gy),Uy=new ZRText({z2:30,style:extend(createTextStyle(Ty,{text:Wy}),this._monthTextPositionControl(By,Ry,ka,My,Ey)),silent:Vy});_y.add(Uy)}}},ua.prototype._weekTextPositionControl=function(Sa,ba,ka,_y,Ty){var Ay="center",Ey="middle",My=Sa[0],Dy=Sa[1],Iy=ka==="start";return ba==="horizontal"?(My=My+_y+(Iy?1:-1)*Ty[0]/2,Ay=Iy?"right":"left"):(Dy=Dy+_y+(Iy?1:-1)*Ty[1]/2,Ey=Iy?"bottom":"top"),{x:My,y:Dy,align:Ay,verticalAlign:Ey}},ua.prototype._renderWeekText=function(Sa,ba,ka,_y,Ty){var Ay=Sa.getModel("dayLabel");if(Ay.get("show")){var Ey=Sa.coordinateSystem,My=Ay.get("position"),Dy=Ay.get("nameMap"),Iy=Ay.get("margin"),Ly=Ey.getFirstDayOfWeek();if(!Dy||isString(Dy)){Dy&&(ba=getLocaleModel(Dy)||ba);var Py=ba.get(["time","dayOfWeekShort"]);Dy=Py||map$1(ba.get(["time","dayOfWeekAbbr"]),function(Gy){return Gy[0]})}var Ry=Ey.getNextNDay(ka.end.time,7-ka.lweek).time,Vy=[Ey.getCellWidth(),Ey.getCellHeight()];Iy=parsePercent(Iy,Math.min(Vy[1],Vy[0])),My==="start"&&(Ry=Ey.getNextNDay(ka.start.time,-(7+ka.fweek)).time,Iy=-Iy);for(var Ny=Ay.get("silent"),By=0;By<7;By++){var Oy=Ey.getNextNDay(Ry,By),Fy=Ey.dataToRect([Oy.time],!1).center,zy=By;zy=Math.abs((By+Ly)%7);var Hy=new ZRText({z2:30,style:extend(createTextStyle(Ay,{text:Dy[zy]}),this._weekTextPositionControl(Fy,_y,My,Iy,Vy)),silent:Ny});Ty.add(Hy)}}},ua.type="calendar",ua}(ComponentView),PROXIMATE_ONE_DAY=864e5,Calendar=function(){function ha(ua,Sa,ba){this.type="calendar",this.dimensions=ha.dimensions,this.getDimensionsInfo=ha.getDimensionsInfo,this._model=ua}return ha.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},ha.prototype.getRangeInfo=function(){return this._rangeInfo},ha.prototype.getModel=function(){return this._model},ha.prototype.getRect=function(){return this._rect},ha.prototype.getCellWidth=function(){return this._sw},ha.prototype.getCellHeight=function(){return this._sh},ha.prototype.getOrient=function(){return this._orient},ha.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},ha.prototype.getDateInfo=function(ua){ua=parseDate(ua);var Sa=ua.getFullYear(),ba=ua.getMonth()+1,ka=ba<10?"0"+ba:""+ba,_y=ua.getDate(),Ty=_y<10?"0"+_y:""+_y,Ay=ua.getDay();return Ay=Math.abs((Ay+7-this.getFirstDayOfWeek())%7),{y:Sa+"",m:ka,d:Ty,day:Ay,time:ua.getTime(),formatedDate:Sa+"-"+ka+"-"+Ty,date:ua}},ha.prototype.getNextNDay=function(ua,Sa){return Sa=Sa||0,Sa===0?this.getDateInfo(ua):(ua=new Date(this.getDateInfo(ua).time),ua.setDate(ua.getDate()+Sa),this.getDateInfo(ua))},ha.prototype.update=function(ua,Sa){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var ba=this._rangeInfo.weeks||1,ka=["width","height"],_y=this._model.getCellSize().slice(),Ty=this._model.getBoxLayoutParams(),Ay=this._orient==="horizontal"?[ba,7]:[7,ba];each$f([0,1],function(Iy){Dy(_y,Iy)&&(Ty[ka[Iy]]=_y[Iy]*Ay[Iy])});var Ey={width:Sa.getWidth(),height:Sa.getHeight()},My=this._rect=getLayoutRect(Ty,Ey);each$f([0,1],function(Iy){Dy(_y,Iy)||(_y[Iy]=My[ka[Iy]]/Ay[Iy])});function Dy(Iy,Ly){return Iy[Ly]!=null&&Iy[Ly]!=="auto"}this._sw=_y[0],this._sh=_y[1]},ha.prototype.dataToPoint=function(ua,Sa){isArray$1(ua)&&(ua=ua[0]),Sa==null&&(Sa=!0);var ba=this.getDateInfo(ua),ka=this._rangeInfo,_y=ba.formatedDate;if(Sa&&!(ba.time>=ka.start.time&&ba.time<ka.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var Ty=ba.day,Ay=this._getRangeInfo([ka.start.time,_y]).nthWeek;return this._orient==="vertical"?[this._rect.x+Ty*this._sw+this._sw/2,this._rect.y+Ay*this._sh+this._sh/2]:[this._rect.x+Ay*this._sw+this._sw/2,this._rect.y+Ty*this._sh+this._sh/2]},ha.prototype.pointToData=function(ua){var Sa=this.pointToDate(ua);return Sa&&Sa.time},ha.prototype.dataToRect=function(ua,Sa){var ba=this.dataToPoint(ua,Sa);return{contentShape:{x:ba[0]-(this._sw-this._lineWidth)/2,y:ba[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:ba,tl:[ba[0]-this._sw/2,ba[1]-this._sh/2],tr:[ba[0]+this._sw/2,ba[1]-this._sh/2],br:[ba[0]+this._sw/2,ba[1]+this._sh/2],bl:[ba[0]-this._sw/2,ba[1]+this._sh/2]}},ha.prototype.pointToDate=function(ua){var Sa=Math.floor((ua[0]-this._rect.x)/this._sw)+1,ba=Math.floor((ua[1]-this._rect.y)/this._sh)+1,ka=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(ba,Sa-1,ka):this._getDateByWeeksAndDay(Sa,ba-1,ka)},ha.prototype.convertToPixel=function(ua,Sa,ba){var ka=getCoordSys(Sa);return ka===this?ka.dataToPoint(ba):null},ha.prototype.convertFromPixel=function(ua,Sa,ba){var ka=getCoordSys(Sa);return ka===this?ka.pointToData(ba):null},ha.prototype.containPoint=function(ua){return console.warn("Not implemented."),!1},ha.prototype._initRangeOption=function(){var ua=this._model.get("range"),Sa;if(isArray$1(ua)&&ua.length===1&&(ua=ua[0]),isArray$1(ua))Sa=ua;else{var ba=ua.toString();if(/^\d{4}$/.test(ba)&&(Sa=[ba+"-01-01",ba+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(ba)){var ka=this.getDateInfo(ba),_y=ka.date;_y.setMonth(_y.getMonth()+1);var Ty=this.getNextNDay(_y,-1);Sa=[ka.formatedDate,Ty.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(ba)&&(Sa=[ba,ba])}if(!Sa)return ua;var Ay=this._getRangeInfo(Sa);return Ay.start.time>Ay.end.time&&Sa.reverse(),Sa},ha.prototype._getRangeInfo=function(ua){var Sa=[this.getDateInfo(ua[0]),this.getDateInfo(ua[1])],ba;Sa[0].time>Sa[1].time&&(ba=!0,Sa.reverse());var ka=Math.floor(Sa[1].time/PROXIMATE_ONE_DAY)-Math.floor(Sa[0].time/PROXIMATE_ONE_DAY)+1,_y=new Date(Sa[0].time),Ty=_y.getDate(),Ay=Sa[1].date.getDate();_y.setDate(Ty+ka-1);var Ey=_y.getDate();if(Ey!==Ay)for(var My=_y.getTime()-Sa[1].time>0?1:-1;(Ey=_y.getDate())!==Ay&&(_y.getTime()-Sa[1].time)*My>0;)ka-=My,_y.setDate(Ey-My);var Dy=Math.floor((ka+Sa[0].day+6)/7),Iy=ba?-Dy+1:Dy-1;return ba&&Sa.reverse(),{range:[Sa[0].formatedDate,Sa[1].formatedDate],start:Sa[0],end:Sa[1],allDay:ka,weeks:Dy,nthWeek:Iy,fweek:Sa[0].day,lweek:Sa[1].day}},ha.prototype._getDateByWeeksAndDay=function(ua,Sa,ba){var ka=this._getRangeInfo(ba);if(ua>ka.weeks||ua===0&&Sa<ka.fweek||ua===ka.weeks&&Sa>ka.lweek)return null;var _y=(ua-1)*7-ka.fweek+Sa,Ty=new Date(ka.start.time);return Ty.setDate(+ka.start.d+_y),this.getDateInfo(Ty)},ha.create=function(ua,Sa){var ba=[];return ua.eachComponent("calendar",function(ka){var _y=new ha(ka);ba.push(_y),ka.coordinateSystem=_y}),ua.eachSeries(function(ka){ka.get("coordinateSystem")==="calendar"&&(ka.coordinateSystem=ba[ka.get("calendarIndex")||0])}),ba},ha.dimensions=["time","value"],ha}();function getCoordSys(ha){var ua=ha.calendarModel,Sa=ha.seriesModel,ba=ua?ua.coordinateSystem:Sa?Sa.coordinateSystem:null;return ba}function install$m(ha){ha.registerComponentModel(CalendarModel),ha.registerComponentView(CalendarView),ha.registerCoordinateSystem("calendar",Calendar)}function setKeyInfoToNewElOption(ha,ua){var Sa=ha.existing;if(ua.id=ha.keyInfo.id,!ua.type&&Sa&&(ua.type=Sa.type),ua.parentId==null){var ba=ua.parentOption;ba?ua.parentId=ba.id:Sa&&(ua.parentId=Sa.parentId)}ua.parentOption=null}function isSetLoc(ha,ua){var Sa;return each$f(ua,function(ba){ha[ba]!=null&&ha[ba]!=="auto"&&(Sa=!0)}),Sa}function mergeNewElOptionToExist(ha,ua,Sa){var ba=extend({},Sa),ka=ha[ua],_y=Sa.$action||"merge";_y==="merge"?ka?(merge(ka,ba,!0),mergeLayoutParam(ka,ba,{ignoreSize:!0}),copyLayoutParams(Sa,ka),copyTransitionInfo(Sa,ka),copyTransitionInfo(Sa,ka,"shape"),copyTransitionInfo(Sa,ka,"style"),copyTransitionInfo(Sa,ka,"extra"),Sa.clipPath=ka.clipPath):ha[ua]=ba:_y==="replace"?ha[ua]=ba:_y==="remove"&&ka&&(ha[ua]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(ha,ua,Sa){if(Sa&&(!ha[Sa]&&ua[Sa]&&(ha[Sa]={}),ha=ha[Sa],ua=ua[Sa]),!(!ha||!ua))for(var ba=Sa?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,ka=0;ka<ba.length;ka++){var _y=ba[ka];ha[_y]==null&&ua[_y]!=null&&(ha[_y]=ua[_y])}}function setLayoutInfoToExist(ha,ua){if(ha&&(ha.hv=ua.hv=[isSetLoc(ua,["left","right"]),isSetLoc(ua,["top","bottom"])],ha.type==="group")){var Sa=ha,ba=ua;Sa.width==null&&(Sa.width=ba.width=0),Sa.height==null&&(Sa.height=ba.height=0)}}var GraphicComponentModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.preventAutoZ=!0,Sa}return ua.prototype.mergeOption=function(Sa,ba){var ka=this.option.elements;this.option.elements=null,ha.prototype.mergeOption.call(this,Sa,ba),this.option.elements=ka},ua.prototype.optionUpdated=function(Sa,ba){var ka=this.option,_y=(ba?ka:Sa).elements,Ty=ka.elements=ba?[]:ka.elements,Ay=[];this._flatten(_y,Ay,null);var Ey=mappingToExists(Ty,Ay,"normalMerge"),My=this._elOptionsToUpdate=[];each$f(Ey,function(Dy,Iy){var Ly=Dy.newOption;Ly&&(My.push(Ly),setKeyInfoToNewElOption(Dy,Ly),mergeNewElOptionToExist(Ty,Iy,Ly),setLayoutInfoToExist(Ty[Iy],Ly))},this),ka.elements=filter(Ty,function(Dy){return Dy&&delete Dy.$action,Dy!=null})},ua.prototype._flatten=function(Sa,ba,ka){each$f(Sa,function(_y){if(_y){ka&&(_y.parentOption=ka),ba.push(_y);var Ty=_y.children;Ty&&Ty.length&&this._flatten(Ty,ba,_y),delete _y.children}},this)},ua.prototype.useElOptionsToUpdate=function(){var Sa=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,Sa},ua.type="graphic",ua.defaultOption={elements:[]},ua}(ComponentModel),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$3,image:ZRImage,text:ZRText},inner$7=makeInner(),GraphicComponentView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(){this._elMap=createHashMap()},ua.prototype.render=function(Sa,ba,ka){Sa!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=Sa,this._updateElements(Sa),this._relocate(Sa,ka)},ua.prototype._updateElements=function(Sa){var ba=Sa.useElOptionsToUpdate();if(ba){var ka=this._elMap,_y=this.group,Ty=Sa.get("z"),Ay=Sa.get("zlevel");each$f(ba,function(Ey){var My=convertOptionIdName(Ey.id,null),Dy=My!=null?ka.get(My):null,Iy=convertOptionIdName(Ey.parentId,null),Ly=Iy!=null?ka.get(Iy):_y,Py=Ey.type,Ry=Ey.style;Py==="text"&&Ry&&Ey.hv&&Ey.hv[1]&&(Ry.textVerticalAlign=Ry.textBaseline=Ry.verticalAlign=Ry.align=null);var Vy=Ey.textContent,Ny=Ey.textConfig;if(Ry&&isEC4CompatibleStyle(Ry,Py,!!Ny,!!Vy)){var By=convertFromEC4CompatibleStyle(Ry,Py,!0);!Ny&&By.textConfig&&(Ny=Ey.textConfig=By.textConfig),!Vy&&By.textContent&&(Vy=By.textContent)}var Oy=getCleanedElOption(Ey),Fy=Ey.$action||"merge",zy=Fy==="merge",Hy=Fy==="replace";if(zy){var Gy=!Dy,Wy=Dy;Gy?Wy=createEl(My,Ly,Ey.type,ka):(Wy&&(inner$7(Wy).isNew=!1),stopPreviousKeyframeAnimationAndRestore(Wy)),Wy&&(applyUpdateTransition(Wy,Oy,Sa,{isInit:Gy}),updateCommonAttrs(Wy,Ey,Ty,Ay))}else if(Hy){removeEl$1(Dy,Ey,ka,Sa);var Uy=createEl(My,Ly,Ey.type,ka);Uy&&(applyUpdateTransition(Uy,Oy,Sa,{isInit:!0}),updateCommonAttrs(Uy,Ey,Ty,Ay))}else Fy==="remove"&&(updateLeaveTo(Dy,Ey),removeEl$1(Dy,Ey,ka,Sa));var Yy=ka.get(My);if(Yy&&Vy)if(zy){var jy=Yy.getTextContent();jy?jy.attr(Vy):Yy.setTextContent(new ZRText(Vy))}else Hy&&Yy.setTextContent(new ZRText(Vy));if(Yy){var Ky=Ey.clipPath;if(Ky){var Xy=Ky.type,Zy=void 0,Gy=!1;if(zy){var Jy=Yy.getClipPath();Gy=!Jy||inner$7(Jy).type!==Xy,Zy=Gy?newEl(Xy):Jy}else Hy&&(Gy=!0,Zy=newEl(Xy));Yy.setClipPath(Zy),applyUpdateTransition(Zy,Ky,Sa,{isInit:Gy}),applyKeyframeAnimation(Zy,Ky.keyframeAnimation,Sa)}var t_=inner$7(Yy);Yy.setTextConfig(Ny),t_.option=Ey,setEventData(Yy,Sa,Ey),setTooltipConfig({el:Yy,componentModel:Sa,itemName:Yy.name,itemTooltipOption:Ey.tooltip}),applyKeyframeAnimation(Yy,Ey.keyframeAnimation,Sa)}})}},ua.prototype._relocate=function(Sa,ba){for(var ka=Sa.option.elements,_y=this.group,Ty=this._elMap,Ay=ba.getWidth(),Ey=ba.getHeight(),My=["x","y"],Dy=0;Dy<ka.length;Dy++){var Iy=ka[Dy],Ly=convertOptionIdName(Iy.id,null),Py=Ly!=null?Ty.get(Ly):null;if(!(!Py||!Py.isGroup)){var Ry=Py.parent,Vy=Ry===_y,Ny=inner$7(Py),By=inner$7(Ry);Ny.width=parsePercent(Ny.option.width,Vy?Ay:By.width)||0,Ny.height=parsePercent(Ny.option.height,Vy?Ey:By.height)||0}}for(var Dy=ka.length-1;Dy>=0;Dy--){var Iy=ka[Dy],Ly=convertOptionIdName(Iy.id,null),Py=Ly!=null?Ty.get(Ly):null;if(Py){var Ry=Py.parent,By=inner$7(Ry),Oy=Ry===_y?{width:Ay,height:Ey}:{width:By.width,height:By.height},Fy={},zy=positionElement(Py,Iy,Oy,null,{hv:Iy.hv,boundingMode:Iy.bounding},Fy);if(!inner$7(Py).isNew&&zy){for(var Hy=Iy.transition,Gy={},Wy=0;Wy<My.length;Wy++){var Uy=My[Wy],Yy=Fy[Uy];Hy&&(isTransitionAll(Hy)||indexOf(Hy,Uy)>=0)?Gy[Uy]=Yy:Py[Uy]=Yy}updateProps$1(Py,Gy,Sa,0)}else Py.attr(Fy)}}},ua.prototype._clear=function(){var Sa=this,ba=this._elMap;ba.each(function(ka){removeEl$1(ka,inner$7(ka).option,ba,Sa._lastGraphicModel)}),this._elMap=createHashMap()},ua.prototype.dispose=function(){this._clear()},ua.type="graphic",ua}(ComponentView);function newEl(ha){var ua=hasOwn(nonShapeGraphicElements,ha)?nonShapeGraphicElements[ha]:getShapeClass(ha),Sa=new ua({});return inner$7(Sa).type=ha,Sa}function createEl(ha,ua,Sa,ba){var ka=newEl(Sa);return ua.add(ka),ba.set(ha,ka),inner$7(ka).id=ha,inner$7(ka).isNew=!0,ka}function removeEl$1(ha,ua,Sa,ba){var ka=ha&&ha.parent;ka&&(ha.type==="group"&&ha.traverse(function(_y){removeEl$1(_y,ua,Sa,ba)}),applyLeaveTransition(ha,ua,ba),Sa.removeKey(inner$7(ha).id))}function updateCommonAttrs(ha,ua,Sa,ba){ha.isGroup||each$f([["cursor",Displayable.prototype.cursor],["zlevel",ba||0],["z",Sa||0],["z2",0]],function(ka){var _y=ka[0];hasOwn(ua,_y)?ha[_y]=retrieve2(ua[_y],ka[1]):ha[_y]==null&&(ha[_y]=ka[1])}),each$f(keys(ua),function(ka){if(ka.indexOf("on")===0){var _y=ua[ka];ha[ka]=isFunction(_y)?_y:null}}),hasOwn(ua,"draggable")&&(ha.draggable=ua.draggable),ua.name!=null&&(ha.name=ua.name),ua.id!=null&&(ha.id=ua.id)}function getCleanedElOption(ha){return ha=extend({},ha),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(ua){delete ha[ua]}),ha}function setEventData(ha,ua,Sa){var ba=getECData(ha).eventData;!ha.silent&&!ha.ignore&&!ba&&(ba=getECData(ha).eventData={componentType:"graphic",componentIndex:ua.componentIndex,name:ha.name}),ba&&(ba.info=Sa.info)}function install$l(ha){ha.registerComponentModel(GraphicComponentModel),ha.registerComponentView(GraphicComponentView),ha.registerPreprocessor(function(ua){var Sa=ua.graphic;isArray$1(Sa)?!Sa[0]||!Sa[0].elements?ua.graphic=[{elements:Sa}]:ua.graphic=[ua.graphic[0]]:Sa&&!Sa.elements&&(ua.graphic=[{elements:[Sa]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(ha){var ua=ha.get("coordinateSystem");return indexOf(SERIES_COORDS,ua)>=0}function getAxisMainType(ha){return ha+"Axis"}function findEffectedDataZooms(ha,ua){var Sa=createHashMap(),ba=[],ka=createHashMap();ha.eachComponent({mainType:"dataZoom",query:ua},function(Dy){ka.get(Dy.uid)||Ay(Dy)});var _y;do _y=!1,ha.eachComponent("dataZoom",Ty);while(_y);function Ty(Dy){!ka.get(Dy.uid)&&Ey(Dy)&&(Ay(Dy),_y=!0)}function Ay(Dy){ka.set(Dy.uid,!0),ba.push(Dy),My(Dy)}function Ey(Dy){var Iy=!1;return Dy.eachTargetAxis(function(Ly,Py){var Ry=Sa.get(Ly);Ry&&Ry[Py]&&(Iy=!0)}),Iy}function My(Dy){Dy.eachTargetAxis(function(Iy,Ly){(Sa.get(Iy)||Sa.set(Iy,[]))[Ly]=!0})}return ba}function collectReferCoordSysModelInfo(ha){var ua=ha.ecModel,Sa={infoList:[],infoMap:createHashMap()};return ha.eachTargetAxis(function(ba,ka){var _y=ua.getComponent(getAxisMainType(ba),ka);if(_y){var Ty=_y.getCoordSysModel();if(Ty){var Ay=Ty.uid,Ey=Sa.infoMap.get(Ay);Ey||(Ey={model:Ty,axisModels:[]},Sa.infoList.push(Ey),Sa.infoMap.set(Ay,Ey)),Ey.axisModels.push(_y)}}}),Sa}var DataZoomAxisInfo=function(){function ha(){this.indexList=[],this.indexMap=[]}return ha.prototype.add=function(ua){this.indexMap[ua]||(this.indexList.push(ua),this.indexMap[ua]=!0)},ha}(),DataZoomModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa._autoThrottle=!0,Sa._noTarget=!0,Sa._rangePropMode=["percent","percent"],Sa}return ua.prototype.init=function(Sa,ba,ka){var _y=retrieveRawOption(Sa);this.settledOption=_y,this.mergeDefaultAndTheme(Sa,ka),this._doInit(_y)},ua.prototype.mergeOption=function(Sa){var ba=retrieveRawOption(Sa);merge(this.option,Sa,!0),merge(this.settledOption,ba,!0),this._doInit(ba)},ua.prototype._doInit=function(Sa){var ba=this.option;this._setDefaultThrottle(Sa),this._updateRangeUse(Sa);var ka=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(_y,Ty){this._rangePropMode[Ty]==="value"&&(ba[_y[0]]=ka[_y[0]]=null)},this),this._resetTarget()},ua.prototype._resetTarget=function(){var Sa=this.get("orient",!0),ba=this._targetAxisInfoMap=createHashMap(),ka=this._fillSpecifiedTargetAxis(ba);ka?this._orient=Sa||this._makeAutoOrientByTargetAxis():(this._orient=Sa||"horizontal",this._fillAutoTargetAxisByOrient(ba,this._orient)),this._noTarget=!0,ba.each(function(_y){_y.indexList.length&&(this._noTarget=!1)},this)},ua.prototype._fillSpecifiedTargetAxis=function(Sa){var ba=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(ka){var _y=this.getReferringComponents(getAxisMainType(ka),MULTIPLE_REFERRING);if(_y.specified){ba=!0;var Ty=new DataZoomAxisInfo;each$f(_y.models,function(Ay){Ty.add(Ay.componentIndex)}),Sa.set(ka,Ty)}},this),ba},ua.prototype._fillAutoTargetAxisByOrient=function(Sa,ba){var ka=this.ecModel,_y=!0;if(_y){var Ty=ba==="vertical"?"y":"x",Ay=ka.findComponents({mainType:Ty+"Axis"});Ey(Ay,Ty)}if(_y){var Ay=ka.findComponents({mainType:"singleAxis",filter:function(Dy){return Dy.get("orient",!0)===ba}});Ey(Ay,"single")}function Ey(My,Dy){var Iy=My[0];if(Iy){var Ly=new DataZoomAxisInfo;if(Ly.add(Iy.componentIndex),Sa.set(Dy,Ly),_y=!1,Dy==="x"||Dy==="y"){var Py=Iy.getReferringComponents("grid",SINGLE_REFERRING).models[0];Py&&each$f(My,function(Ry){Iy.componentIndex!==Ry.componentIndex&&Py===Ry.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&Ly.add(Ry.componentIndex)})}}}_y&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(My){if(_y){var Dy=ka.findComponents({mainType:getAxisMainType(My),filter:function(Ly){return Ly.get("type",!0)==="category"}});if(Dy[0]){var Iy=new DataZoomAxisInfo;Iy.add(Dy[0].componentIndex),Sa.set(My,Iy),_y=!1}}},this)},ua.prototype._makeAutoOrientByTargetAxis=function(){var Sa;return this.eachTargetAxis(function(ba){!Sa&&(Sa=ba)},this),Sa==="y"?"vertical":"horizontal"},ua.prototype._setDefaultThrottle=function(Sa){if(Sa.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var ba=this.ecModel.option;this.option.throttle=ba.animation&&ba.animationDurationUpdate>0?100:20}},ua.prototype._updateRangeUse=function(Sa){var ba=this._rangePropMode,ka=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(_y,Ty){var Ay=Sa[_y[0]]!=null,Ey=Sa[_y[1]]!=null;Ay&&!Ey?ba[Ty]="percent":!Ay&&Ey?ba[Ty]="value":ka?ba[Ty]=ka[Ty]:Ay&&(ba[Ty]="percent")})},ua.prototype.noTarget=function(){return this._noTarget},ua.prototype.getFirstTargetAxisModel=function(){var Sa;return this.eachTargetAxis(function(ba,ka){Sa==null&&(Sa=this.ecModel.getComponent(getAxisMainType(ba),ka))},this),Sa},ua.prototype.eachTargetAxis=function(Sa,ba){this._targetAxisInfoMap.each(function(ka,_y){each$f(ka.indexList,function(Ty){Sa.call(ba,_y,Ty)})})},ua.prototype.getAxisProxy=function(Sa,ba){var ka=this.getAxisModel(Sa,ba);if(ka)return ka.__dzAxisProxy},ua.prototype.getAxisModel=function(Sa,ba){var ka=this._targetAxisInfoMap.get(Sa);if(ka&&ka.indexMap[ba])return this.ecModel.getComponent(getAxisMainType(Sa),ba)},ua.prototype.setRawRange=function(Sa){var ba=this.option,ka=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(_y){(Sa[_y[0]]!=null||Sa[_y[1]]!=null)&&(ba[_y[0]]=ka[_y[0]]=Sa[_y[0]],ba[_y[1]]=ka[_y[1]]=Sa[_y[1]])},this),this._updateRangeUse(Sa)},ua.prototype.setCalculatedRange=function(Sa){var ba=this.option;each$f(["start","startValue","end","endValue"],function(ka){ba[ka]=Sa[ka]})},ua.prototype.getPercentRange=function(){var Sa=this.findRepresentativeAxisProxy();if(Sa)return Sa.getDataPercentWindow()},ua.prototype.getValueRange=function(Sa,ba){if(Sa==null&&ba==null){var ka=this.findRepresentativeAxisProxy();if(ka)return ka.getDataValueWindow()}else return this.getAxisProxy(Sa,ba).getDataValueWindow()},ua.prototype.findRepresentativeAxisProxy=function(Sa){if(Sa)return Sa.__dzAxisProxy;for(var ba,ka=this._targetAxisInfoMap.keys(),_y=0;_y<ka.length;_y++)for(var Ty=ka[_y],Ay=this._targetAxisInfoMap.get(Ty),Ey=0;Ey<Ay.indexList.length;Ey++){var My=this.getAxisProxy(Ty,Ay.indexList[Ey]);if(My.hostedBy(this))return My;ba||(ba=My)}return ba},ua.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},ua.prototype.getOrient=function(){return this._orient},ua.type="dataZoom",ua.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],ua.defaultOption={z:4,filterMode:"filter",start:0,end:100},ua}(ComponentModel);function retrieveRawOption(ha){var ua={};return each$f(["start","end","startValue","endValue","throttle"],function(Sa){ha.hasOwnProperty(Sa)&&(ua[Sa]=ha[Sa])}),ua}var SelectDataZoomModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="dataZoom.select",ua}(DataZoomModel),DataZoomView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka,_y){this.dataZoomModel=Sa,this.ecModel=ba,this.api=ka},ua.type="dataZoom",ua}(ComponentView),SelectDataZoomView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="dataZoom.select",ua}(DataZoomView),each$7=each$f,asc$1=asc$2,AxisProxy=function(){function ha(ua,Sa,ba,ka){this._dimName=ua,this._axisIndex=Sa,this.ecModel=ka,this._dataZoomModel=ba}return ha.prototype.hostedBy=function(ua){return this._dataZoomModel===ua},ha.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},ha.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},ha.prototype.getTargetSeriesModels=function(){var ua=[];return this.ecModel.eachSeries(function(Sa){if(isCoordSupported(Sa)){var ba=getAxisMainType(this._dimName),ka=Sa.getReferringComponents(ba,SINGLE_REFERRING).models[0];ka&&this._axisIndex===ka.componentIndex&&ua.push(Sa)}},this),ua},ha.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},ha.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},ha.prototype.calculateDataWindow=function(ua){var Sa=this._dataExtent,ba=this.getAxisModel(),ka=ba.axis.scale,_y=this._dataZoomModel.getRangePropMode(),Ty=[0,100],Ay=[],Ey=[],My;each$7(["start","end"],function(Ly,Py){var Ry=ua[Ly],Vy=ua[Ly+"Value"];_y[Py]==="percent"?(Ry==null&&(Ry=Ty[Py]),Vy=ka.parse(linearMap$2(Ry,Ty,Sa))):(My=!0,Vy=Vy==null?Sa[Py]:ka.parse(Vy),Ry=linearMap$2(Vy,Sa,Ty)),Ey[Py]=Vy==null||isNaN(Vy)?Sa[Py]:Vy,Ay[Py]=Ry==null||isNaN(Ry)?Ty[Py]:Ry}),asc$1(Ey),asc$1(Ay);var Dy=this._minMaxSpan;My?Iy(Ey,Ay,Sa,Ty,!1):Iy(Ay,Ey,Ty,Sa,!0);function Iy(Ly,Py,Ry,Vy,Ny){var By=Ny?"Span":"ValueSpan";sliderMove(0,Ly,Ry,"all",Dy["min"+By],Dy["max"+By]);for(var Oy=0;Oy<2;Oy++)Py[Oy]=linearMap$2(Ly[Oy],Ry,Vy,!0),Ny&&(Py[Oy]=ka.parse(Py[Oy]))}return{valueWindow:Ey,percentWindow:Ay}},ha.prototype.reset=function(ua){if(ua===this._dataZoomModel){var Sa=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,Sa),this._updateMinMaxSpan();var ba=this.calculateDataWindow(ua.settledOption);this._valueWindow=ba.valueWindow,this._percentWindow=ba.percentWindow,this._setAxisModel()}},ha.prototype.filterData=function(ua,Sa){if(ua!==this._dataZoomModel)return;var ba=this._dimName,ka=this.getTargetSeriesModels(),_y=ua.get("filterMode"),Ty=this._valueWindow;if(_y==="none")return;each$7(ka,function(Ey){var My=Ey.getData(),Dy=My.mapDimensionsAll(ba);if(Dy.length){if(_y==="weakFilter"){var Iy=My.getStore(),Ly=map$1(Dy,function(Py){return My.getDimensionIndex(Py)},My);My.filterSelf(function(Py){for(var Ry,Vy,Ny,By=0;By<Dy.length;By++){var Oy=Iy.get(Ly[By],Py),Fy=!isNaN(Oy),zy=Oy<Ty[0],Hy=Oy>Ty[1];if(Fy&&!zy&&!Hy)return!0;Fy&&(Ny=!0),zy&&(Ry=!0),Hy&&(Vy=!0)}return Ny&&Ry&&Vy})}else each$7(Dy,function(Py){if(_y==="empty")Ey.setData(My=My.map(Py,function(Vy){return Ay(Vy)?Vy:NaN}));else{var Ry={};Ry[Py]=Ty,My.selectRange(Ry)}});each$7(Dy,function(Py){My.setApproximateExtent(Ty,Py)})}});function Ay(Ey){return Ey>=Ty[0]&&Ey<=Ty[1]}},ha.prototype._updateMinMaxSpan=function(){var ua=this._minMaxSpan={},Sa=this._dataZoomModel,ba=this._dataExtent;each$7(["min","max"],function(ka){var _y=Sa.get(ka+"Span"),Ty=Sa.get(ka+"ValueSpan");Ty!=null&&(Ty=this.getAxisModel().axis.scale.parse(Ty)),Ty!=null?_y=linearMap$2(ba[0]+Ty,ba,[0,100],!0):_y!=null&&(Ty=linearMap$2(_y,[0,100],ba,!0)-ba[0]),ua[ka+"Span"]=_y,ua[ka+"ValueSpan"]=Ty},this)},ha.prototype._setAxisModel=function(){var ua=this.getAxisModel(),Sa=this._percentWindow,ba=this._valueWindow;if(Sa){var ka=getPixelPrecision(ba,[0,500]);ka=Math.min(ka,20);var _y=ua.axis.scale.rawExtentInfo;Sa[0]!==0&&_y.setDeterminedMinMax("min",+ba[0].toFixed(ka)),Sa[1]!==100&&_y.setDeterminedMinMax("max",+ba[1].toFixed(ka)),_y.freeze()}},ha}();function calculateDataExtent(ha,ua,Sa){var ba=[1/0,-1/0];each$7(Sa,function(Ty){unionAxisExtentFromData(ba,Ty.getData(),ua)});var ka=ha.getAxisModel(),_y=ensureScaleRawExtentInfo(ka.axis.scale,ka,ba).calculate();return[_y.min,_y.max]}var dataZoomProcessor={getTargetSeries:function(ha){function ua(ka){ha.eachComponent("dataZoom",function(_y){_y.eachTargetAxis(function(Ty,Ay){var Ey=ha.getComponent(getAxisMainType(Ty),Ay);ka(Ty,Ay,Ey,_y)})})}ua(function(ka,_y,Ty,Ay){Ty.__dzAxisProxy=null});var Sa=[];ua(function(ka,_y,Ty,Ay){Ty.__dzAxisProxy||(Ty.__dzAxisProxy=new AxisProxy(ka,_y,Ay,ha),Sa.push(Ty.__dzAxisProxy))});var ba=createHashMap();return each$f(Sa,function(ka){each$f(ka.getTargetSeriesModels(),function(_y){ba.set(_y.uid,_y)})}),ba},overallReset:function(ha,ua){ha.eachComponent("dataZoom",function(Sa){Sa.eachTargetAxis(function(ba,ka){Sa.getAxisProxy(ba,ka).reset(Sa)}),Sa.eachTargetAxis(function(ba,ka){Sa.getAxisProxy(ba,ka).filterData(Sa,ua)})}),ha.eachComponent("dataZoom",function(Sa){var ba=Sa.findRepresentativeAxisProxy();if(ba){var ka=ba.getDataPercentWindow(),_y=ba.getDataValueWindow();Sa.setCalculatedRange({start:ka[0],end:ka[1],startValue:_y[0],endValue:_y[1]})}})}};function installDataZoomAction(ha){ha.registerAction("dataZoom",function(ua,Sa){var ba=findEffectedDataZooms(Sa,ua);each$f(ba,function(ka){ka.setRawRange({start:ua.start,end:ua.end,startValue:ua.startValue,endValue:ua.endValue})})})}var installed$1=!1;function installCommon$1(ha){installed$1||(installed$1=!0,ha.registerProcessor(ha.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor),installDataZoomAction(ha),ha.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k(ha){ha.registerComponentModel(SelectDataZoomModel),ha.registerComponentView(SelectDataZoomView),installCommon$1(ha)}var ToolboxFeature=function(){function ha(){}return ha}(),features={};function registerFeature(ha,ua){features[ha]=ua}function getFeature(ha){return features[ha]}var ToolboxModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.optionUpdated=function(){ha.prototype.optionUpdated.apply(this,arguments);var Sa=this.ecModel;each$f(this.option.feature,function(ba,ka){var _y=getFeature(ka);_y&&(_y.getDefaultOption&&(_y.defaultOption=_y.getDefaultOption(Sa)),merge(ba,_y.defaultOption))})},ua.type="toolbox",ua.layoutMode={type:"box",ignoreSize:!0},ua.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},ua}(ComponentModel);function layout(ha,ua,Sa){var ba=ua.getBoxLayoutParams(),ka=ua.get("padding"),_y={width:Sa.getWidth(),height:Sa.getHeight()},Ty=getLayoutRect(ba,_y,ka);box(ua.get("orient"),ha,ua.get("itemGap"),Ty.width,Ty.height),positionElement(ha,ba,_y,ka)}function makeBackground(ha,ua){var Sa=normalizeCssArray(ua.get("padding")),ba=ua.getItemStyle(["color","opacity"]);return ba.fill=ua.get("backgroundColor"),ha=new Rect$2({shape:{x:ha.x-Sa[3],y:ha.y-Sa[0],width:ha.width+Sa[1]+Sa[3],height:ha.height+Sa[0]+Sa[2],r:ua.get("borderRadius")},style:ba,silent:!0,z2:-1}),ha}var ToolboxView=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.render=function(Sa,ba,ka,_y){var Ty=this.group;if(Ty.removeAll(),!Sa.get("show"))return;var Ay=+Sa.get("itemSize"),Ey=Sa.get("orient")==="vertical",My=Sa.get("feature")||{},Dy=this._features||(this._features={}),Iy=[];each$f(My,function(Ry,Vy){Iy.push(Vy)}),new DataDiffer(this._featureNames||[],Iy).add(Ly).update(Ly).remove(curry$1(Ly,null)).execute(),this._featureNames=Iy;function Ly(Ry,Vy){var Ny=Iy[Ry],By=Iy[Vy],Oy=My[Ny],Fy=new Model(Oy,Sa,Sa.ecModel),zy;if(_y&&_y.newTitle!=null&&_y.featureName===Ny&&(Oy.title=_y.newTitle),Ny&&!By){if(isUserFeatureName(Ny))zy={onclick:Fy.option.onclick,featureName:Ny};else{var Hy=getFeature(Ny);if(!Hy)return;zy=new Hy}Dy[Ny]=zy}else if(zy=Dy[By],!zy)return;zy.uid=getUID("toolbox-feature"),zy.model=Fy,zy.ecModel=ba,zy.api=ka;var Gy=zy instanceof ToolboxFeature;if(!Ny&&By){Gy&&zy.dispose&&zy.dispose(ba,ka);return}if(!Fy.get("show")||Gy&&zy.unusable){Gy&&zy.remove&&zy.remove(ba,ka);return}Py(Fy,zy,Ny),Fy.setIconStatus=function(Wy,Uy){var Yy=this.option,jy=this.iconPaths;Yy.iconStatus=Yy.iconStatus||{},Yy.iconStatus[Wy]=Uy,jy[Wy]&&(Uy==="emphasis"?enterEmphasis:leaveEmphasis)(jy[Wy])},zy instanceof ToolboxFeature&&zy.render&&zy.render(Fy,ba,ka,_y)}function Py(Ry,Vy,Ny){var By=Ry.getModel("iconStyle"),Oy=Ry.getModel(["emphasis","iconStyle"]),Fy=Vy instanceof ToolboxFeature&&Vy.getIcons?Vy.getIcons():Ry.get("icon"),zy=Ry.get("title")||{},Hy,Gy;isString(Fy)?(Hy={},Hy[Ny]=Fy):Hy=Fy,isString(zy)?(Gy={},Gy[Ny]=zy):Gy=zy;var Wy=Ry.iconPaths={};each$f(Hy,function(Uy,Yy){var jy=createIcon(Uy,{},{x:-Ay/2,y:-Ay/2,width:Ay,height:Ay});jy.setStyle(By.getItemStyle());var Ky=jy.ensureState("emphasis");Ky.style=Oy.getItemStyle();var Xy=new ZRText({style:{text:Gy[Yy],align:Oy.get("textAlign"),borderRadius:Oy.get("textBorderRadius"),padding:Oy.get("textPadding"),fill:null,font:getFont({fontStyle:Oy.get("textFontStyle"),fontFamily:Oy.get("textFontFamily"),fontSize:Oy.get("textFontSize"),fontWeight:Oy.get("textFontWeight")},ba)},ignore:!0});jy.setTextContent(Xy),setTooltipConfig({el:jy,componentModel:Sa,itemName:Yy,formatterParamsExtra:{title:Gy[Yy]}}),jy.__title=Gy[Yy],jy.on("mouseover",function(){var Zy=Oy.getItemStyle(),Jy=Ey?Sa.get("right")==null&&Sa.get("left")!=="right"?"right":"left":Sa.get("bottom")==null&&Sa.get("top")!=="bottom"?"bottom":"top";Xy.setStyle({fill:Oy.get("textFill")||Zy.fill||Zy.stroke||"#000",backgroundColor:Oy.get("textBackgroundColor")}),jy.setTextConfig({position:Oy.get("textPosition")||Jy}),Xy.ignore=!Sa.get("showTitle"),ka.enterEmphasis(this)}).on("mouseout",function(){Ry.get(["iconStatus",Yy])!=="emphasis"&&ka.leaveEmphasis(this),Xy.hide()}),(Ry.get(["iconStatus",Yy])==="emphasis"?enterEmphasis:leaveEmphasis)(jy),Ty.add(jy),jy.on("click",bind$1(Vy.onclick,Vy,ba,ka,Yy)),Wy[Yy]=jy})}layout(Ty,Sa,ka),Ty.add(makeBackground(Ty.getBoundingRect(),Sa)),Ey||Ty.eachChild(function(Ry){var Vy=Ry.__title,Ny=Ry.ensureState("emphasis"),By=Ny.textConfig||(Ny.textConfig={}),Oy=Ry.getTextContent(),Fy=Oy&&Oy.ensureState("emphasis");if(Fy&&!isFunction(Fy)&&Vy){var zy=Fy.style||(Fy.style={}),Hy=getBoundingRect(Vy,ZRText.makeFont(zy)),Gy=Ry.x+Ty.x,Wy=Ry.y+Ty.y+Ay,Uy=!1;Wy+Hy.height>ka.getHeight()&&(By.position="top",Uy=!0);var Yy=Uy?-5-Hy.height:Ay+10;Gy+Hy.width/2>ka.getWidth()?(By.position=["100%",Yy],zy.align="right"):Gy-Hy.width/2<0&&(By.position=[0,Yy],zy.align="left")}})},ua.prototype.updateView=function(Sa,ba,ka,_y){each$f(this._features,function(Ty){Ty instanceof ToolboxFeature&&Ty.updateView&&Ty.updateView(Ty.model,ba,ka,_y)})},ua.prototype.remove=function(Sa,ba){each$f(this._features,function(ka){ka instanceof ToolboxFeature&&ka.remove&&ka.remove(Sa,ba)}),this.group.removeAll()},ua.prototype.dispose=function(Sa,ba){each$f(this._features,function(ka){ka instanceof ToolboxFeature&&ka.dispose&&ka.dispose(Sa,ba)})},ua.type="toolbox",ua}(ComponentView);function isUserFeatureName(ha){return ha.indexOf("my")===0}var SaveAsImage=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.onclick=function(Sa,ba){var ka=this.model,_y=ka.get("name")||Sa.get("title.0.text")||"echarts",Ty=ba.getZr().painter.getType()==="svg",Ay=Ty?"svg":ka.get("type",!0)||"png",Ey=ba.getConnectedDataURL({type:Ay,backgroundColor:ka.get("backgroundColor",!0)||Sa.get("backgroundColor")||"#fff",connectedBackgroundColor:ka.get("connectedBackgroundColor"),excludeComponents:ka.get("excludeComponents"),pixelRatio:ka.get("pixelRatio")}),My=env.browser;if(typeof MouseEvent=="function"&&(My.newEdge||!My.ie&&!My.edge)){var Dy=document.createElement("a");Dy.download=_y+"."+Ay,Dy.target="_blank",Dy.href=Ey;var Iy=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});Dy.dispatchEvent(Iy)}else if(window.navigator.msSaveOrOpenBlob||Ty){var Ly=Ey.split(","),Py=Ly[0].indexOf("base64")>-1,Ry=Ty?decodeURIComponent(Ly[1]):Ly[1];Py&&(Ry=window.atob(Ry));var Vy=_y+"."+Ay;if(window.navigator.msSaveOrOpenBlob){for(var Ny=Ry.length,By=new Uint8Array(Ny);Ny--;)By[Ny]=Ry.charCodeAt(Ny);var Oy=new Blob([By]);window.navigator.msSaveOrOpenBlob(Oy,Vy)}else{var Fy=document.createElement("iframe");document.body.appendChild(Fy);var zy=Fy.contentWindow,Hy=zy.document;Hy.open("image/svg+xml","replace"),Hy.write(Ry),Hy.close(),zy.focus(),Hy.execCommand("SaveAs",!0,Vy),document.body.removeChild(Fy)}}else{var Gy=ka.get("lang"),Wy='<body style="margin:0;"><img src="'+Ey+'" style="max-width:100%;" title="'+(Gy&&Gy[0]||"")+'" /></body>',Uy=window.open();Uy.document.write(Wy),Uy.document.title=_y}},ua.getDefaultOption=function(Sa){var ba={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:Sa.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:Sa.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return ba},ua}(ToolboxFeature),INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.getIcons=function(){var Sa=this.model,ba=Sa.get("icon"),ka={};return each$f(Sa.get("type"),function(_y){ba[_y]&&(ka[_y]=ba[_y])}),ka},ua.getDefaultOption=function(Sa){var ba={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:Sa.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return ba},ua.prototype.onclick=function(Sa,ba,ka){var _y=this.model,Ty=_y.get(["seriesIndex",ka]);if(seriesOptGenreator[ka]){var Ay={series:[]},Ey=function(Iy){var Ly=Iy.subType,Py=Iy.id,Ry=seriesOptGenreator[ka](Ly,Py,Iy,_y);Ry&&(defaults(Ry,Iy.option),Ay.series.push(Ry));var Vy=Iy.coordinateSystem;if(Vy&&Vy.type==="cartesian2d"&&(ka==="line"||ka==="bar")){var Ny=Vy.getAxesByScale("ordinal")[0];if(Ny){var By=Ny.dim,Oy=By+"Axis",Fy=Iy.getReferringComponents(Oy,SINGLE_REFERRING).models[0],zy=Fy.componentIndex;Ay[Oy]=Ay[Oy]||[];for(var Hy=0;Hy<=zy;Hy++)Ay[Oy][zy]=Ay[Oy][zy]||{};Ay[Oy][zy].boundaryGap=ka==="bar"}}};each$f(radioTypes,function(Iy){indexOf(Iy,ka)>=0&&each$f(Iy,function(Ly){_y.setIconStatus(Ly,"normal")})}),_y.setIconStatus(ka,"emphasis"),Sa.eachComponent({mainType:"series",query:Ty==null?null:{seriesIndex:Ty}},Ey);var My,Dy=ka;ka==="stack"&&(My=merge({stack:_y.option.title.tiled,tiled:_y.option.title.stack},_y.option.title),_y.get(["iconStatus",ka])!=="emphasis"&&(Dy="tiled")),ba.dispatchAction({type:"changeMagicType",currentType:Dy,newOption:Ay,newTitle:My,featureName:"magicType"})}},ua}(ToolboxFeature),seriesOptGenreator={line:function(ha,ua,Sa,ba){if(ha==="bar")return merge({id:ua,type:"line",data:Sa.get("data"),stack:Sa.get("stack"),markPoint:Sa.get("markPoint"),markLine:Sa.get("markLine")},ba.get(["option","line"])||{},!0)},bar:function(ha,ua,Sa,ba){if(ha==="line")return merge({id:ua,type:"bar",data:Sa.get("data"),stack:Sa.get("stack"),markPoint:Sa.get("markPoint"),markLine:Sa.get("markLine")},ba.get(["option","bar"])||{},!0)},stack:function(ha,ua,Sa,ba){var ka=Sa.get("stack")===INNER_STACK_KEYWORD;if(ha==="line"||ha==="bar")return ba.setIconStatus("stack",ka?"normal":"emphasis"),merge({id:ua,stack:ka?"":INNER_STACK_KEYWORD},ba.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(ha,ua){ua.mergeOption(ha.newOption)});var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(ha){var ua={},Sa=[],ba=[];return ha.eachRawSeries(function(ka){var _y=ka.coordinateSystem;if(_y&&(_y.type==="cartesian2d"||_y.type==="polar")){var Ty=_y.getBaseAxis();if(Ty.type==="category"){var Ay=Ty.dim+"_"+Ty.index;ua[Ay]||(ua[Ay]={categoryAxis:Ty,valueAxis:_y.getOtherAxis(Ty),series:[]},ba.push({axisDim:Ty.dim,axisIndex:Ty.index})),ua[Ay].series.push(ka)}else Sa.push(ka)}else Sa.push(ka)}),{seriesGroupByCategoryAxis:ua,other:Sa,meta:ba}}function assembleSeriesWithCategoryAxis(ha){var ua=[];return each$f(ha,function(Sa,ba){var ka=Sa.categoryAxis,_y=Sa.valueAxis,Ty=_y.dim,Ay=[" "].concat(map$1(Sa.series,function(Py){return Py.name})),Ey=[ka.model.getCategories()];each$f(Sa.series,function(Py){var Ry=Py.getRawData();Ey.push(Py.getRawData().mapArray(Ry.mapDimension(Ty),function(Vy){return Vy}))});for(var My=[Ay.join(ITEM_SPLITER)],Dy=0;Dy<Ey[0].length;Dy++){for(var Iy=[],Ly=0;Ly<Ey.length;Ly++)Iy.push(Ey[Ly][Dy]);My.push(Iy.join(ITEM_SPLITER))}ua.push(My.join(`
`))}),ua.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(ha){return map$1(ha,function(ua){var Sa=ua.getRawData(),ba=[ua.name],ka=[];return Sa.each(Sa.dimensions,function(){for(var _y=arguments.length,Ty=arguments[_y-1],Ay=Sa.getName(Ty),Ey=0;Ey<_y-1;Ey++)ka[Ey]=arguments[Ey];ba.push((Ay?Ay+ITEM_SPLITER:"")+ka.join(ITEM_SPLITER))}),ba.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(ha){var ua=groupSeries(ha);return{value:filter([assembleSeriesWithCategoryAxis(ua.seriesGroupByCategoryAxis),assembleOtherSeries(ua.other)],function(Sa){return!!Sa.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:ua.meta}}function trim(ha){return ha.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(ha){var ua=ha.slice(0,ha.indexOf(`
`));if(ua.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(ha){for(var ua=ha.split(/\n+/g),Sa=trim(ua.shift()).split(itemSplitRegex),ba=[],ka=map$1(Sa,function(Ey){return{name:Ey,data:[]}}),_y=0;_y<ua.length;_y++){var Ty=trim(ua[_y]).split(itemSplitRegex);ba.push(Ty.shift());for(var Ay=0;Ay<Ty.length;Ay++)ka[Ay]&&(ka[Ay].data[_y]=Ty[Ay])}return{series:ka,categories:ba}}function parseListContents(ha){for(var ua=ha.split(/\n+/g),Sa=trim(ua.shift()),ba=[],ka=0;ka<ua.length;ka++){var _y=trim(ua[ka]);if(_y){var Ty=_y.split(itemSplitRegex),Ay="",Ey=void 0,My=!1;isNaN(Ty[0])?(My=!0,Ay=Ty[0],Ty=Ty.slice(1),ba[ka]={name:Ay,value:[]},Ey=ba[ka].value):Ey=ba[ka]=[];for(var Dy=0;Dy<Ty.length;Dy++)Ey.push(+Ty[Dy]);Ey.length===1&&(My?ba[ka].value=Ey[0]:ba[ka]=Ey[0])}}return{name:Sa,data:ba}}function parseContents(ha,ua){var Sa=ha.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),ba={series:[]};return each$f(Sa,function(ka,_y){if(isTSVFormat(ka)){var Ty=parseTSVContents(ka),Ay=ua[_y],Ey=Ay.axisDim+"Axis";Ay&&(ba[Ey]=ba[Ey]||[],ba[Ey][Ay.axisIndex]={data:Ty.categories},ba.series=ba.series.concat(Ty.series))}else{var Ty=parseListContents(ka);ba.series.push(Ty)}}),ba}var DataView$1=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.onclick=function(Sa,ba){setTimeout(function(){ba.dispatchAction({type:"hideTip"})});var ka=ba.getDom(),_y=this.model;this._dom&&ka.removeChild(this._dom);var Ty=document.createElement("div");Ty.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",Ty.style.backgroundColor=_y.get("backgroundColor")||"#fff";var Ay=document.createElement("h4"),Ey=_y.get("lang")||[];Ay.innerHTML=Ey[0]||_y.get("title"),Ay.style.cssText="margin:10px 20px",Ay.style.color=_y.get("textColor");var My=document.createElement("div"),Dy=document.createElement("textarea");My.style.cssText="overflow:auto";var Iy=_y.get("optionToContent"),Ly=_y.get("contentToOption"),Py=getContentFromModel(Sa);if(isFunction(Iy)){var Ry=Iy(ba.getOption());isString(Ry)?My.innerHTML=Ry:isDom(Ry)&&My.appendChild(Ry)}else{Dy.readOnly=_y.get("readOnly");var Vy=Dy.style;Vy.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",Vy.color=_y.get("textColor"),Vy.borderColor=_y.get("textareaBorderColor"),Vy.backgroundColor=_y.get("textareaColor"),Dy.value=Py.value,My.appendChild(Dy)}var Ny=Py.meta,By=document.createElement("div");By.style.cssText="position:absolute;bottom:5px;left:0;right:0";var Oy="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",Fy=document.createElement("div"),zy=document.createElement("div");Oy+=";background-color:"+_y.get("buttonColor"),Oy+=";color:"+_y.get("buttonTextColor");var Hy=this;function Gy(){ka.removeChild(Ty),Hy._dom=null}addEventListener(Fy,"click",Gy),addEventListener(zy,"click",function(){if(Ly==null&&Iy!=null||Ly!=null&&Iy==null){Gy();return}var Wy;try{isFunction(Ly)?Wy=Ly(My,ba.getOption()):Wy=parseContents(Dy.value,Ny)}catch(Uy){throw Gy(),new Error("Data view format error "+Uy)}Wy&&ba.dispatchAction({type:"changeDataView",newOption:Wy}),Gy()}),Fy.innerHTML=Ey[1],zy.innerHTML=Ey[2],zy.style.cssText=Fy.style.cssText=Oy,!_y.get("readOnly")&&By.appendChild(zy),By.appendChild(Fy),Ty.appendChild(Ay),Ty.appendChild(My),Ty.appendChild(By),My.style.height=ka.clientHeight-80+"px",ka.appendChild(Ty),this._dom=Ty},ua.prototype.remove=function(Sa,ba){this._dom&&ba.getDom().removeChild(this._dom)},ua.prototype.dispose=function(Sa,ba){this.remove(Sa,ba)},ua.getDefaultOption=function(Sa){var ba={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:Sa.getLocaleModel().get(["toolbox","dataView","title"]),lang:Sa.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return ba},ua}(ToolboxFeature);function tryMergeDataOption(ha,ua){return map$1(ha,function(Sa,ba){var ka=ua&&ua[ba];if(isObject$3(ka)&&!isArray$1(ka)){var _y=isObject$3(Sa)&&!isArray$1(Sa);_y||(Sa={value:Sa});var Ty=ka.name!=null&&Sa.name==null;return Sa=defaults(Sa,ka),Ty&&delete Sa.name,Sa}else return Sa})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(ha,ua){var Sa=[];each$f(ha.newOption.series,function(ba){var ka=ua.getSeriesByName(ba.name)[0];if(!ka)Sa.push(extend({type:"scatter"},ba));else{var _y=ka.get("data");Sa.push({name:ba.name,data:tryMergeDataOption(ba.data,_y)})}}),ua.mergeOption(defaults({series:Sa},ha.newOption))});var each$6=each$f,inner$6=makeInner();function push(ha,ua){var Sa=getStoreSnapshots(ha);each$6(ua,function(ba,ka){for(var _y=Sa.length-1;_y>=0;_y--){var Ty=Sa[_y];if(Ty[ka])break}if(_y<0){var Ay=ha.queryComponents({mainType:"dataZoom",subType:"select",id:ka})[0];if(Ay){var Ey=Ay.getPercentRange();Sa[0][ka]={dataZoomId:ka,start:Ey[0],end:Ey[1]}}}}),Sa.push(ua)}function pop(ha){var ua=getStoreSnapshots(ha),Sa=ua[ua.length-1];ua.length>1&&ua.pop();var ba={};return each$6(Sa,function(ka,_y){for(var Ty=ua.length-1;Ty>=0;Ty--)if(ka=ua[Ty][_y],ka){ba[_y]=ka;break}}),ba}function clear(ha){inner$6(ha).snapshots=null}function count(ha){return getStoreSnapshots(ha).length}function getStoreSnapshots(ha){var ua=inner$6(ha);return ua.snapshots||(ua.snapshots=[{}]),ua.snapshots}var RestoreOption=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.onclick=function(Sa,ba){clear(Sa),ba.dispatchAction({type:"restore",from:this.uid})},ua.getDefaultOption=function(Sa){var ba={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Sa.getLocaleModel().get(["toolbox","restore","title"])};return ba},ua}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(ha,ua){ua.resetOption("recreate")});var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function ha(ua,Sa,ba){var ka=this;this._targetInfoList=[];var _y=parseFinder(Sa,ua);each$f(targetInfoBuilders,function(Ty,Ay){(!ba||!ba.include||indexOf(ba.include,Ay)>=0)&&Ty(_y,ka._targetInfoList)})}return ha.prototype.setOutputRanges=function(ua,Sa){return this.matchOutputRanges(ua,Sa,function(ba,ka,_y){if((ba.coordRanges||(ba.coordRanges=[])).push(ka),!ba.coordRange){ba.coordRange=ka;var Ty=coordConvert[ba.brushType](0,_y,ka);ba.__rangeOffset={offset:diffProcessor[ba.brushType](Ty.values,ba.range,[1,1]),xyMinMax:Ty.xyMinMax}}}),ua},ha.prototype.matchOutputRanges=function(ua,Sa,ba){each$f(ua,function(ka){var _y=this.findTargetInfo(ka,Sa);_y&&_y!==!0&&each$f(_y.coordSyses,function(Ty){var Ay=coordConvert[ka.brushType](1,Ty,ka.range,!0);ba(ka,Ay.values,Ty,Sa)})},this)},ha.prototype.setInputRanges=function(ua,Sa){each$f(ua,function(ba){var ka=this.findTargetInfo(ba,Sa);if(ba.range=ba.range||[],ka&&ka!==!0){ba.panelId=ka.panelId;var _y=coordConvert[ba.brushType](0,ka.coordSys,ba.coordRange),Ty=ba.__rangeOffset;ba.range=Ty?diffProcessor[ba.brushType](_y.values,Ty.offset,getScales(_y.xyMinMax,Ty.xyMinMax)):_y.values}},this)},ha.prototype.makePanelOpts=function(ua,Sa){return map$1(this._targetInfoList,function(ba){var ka=ba.getPanelRect();return{panelId:ba.panelId,defaultBrushType:Sa?Sa(ba):null,clipPath:makeRectPanelClipPath(ka),isTargetByCursor:makeRectIsTargetByCursor(ka,ua,ba.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(ka)}})},ha.prototype.controlSeries=function(ua,Sa,ba){var ka=this.findTargetInfo(ua,ba);return ka===!0||ka&&indexOf(ka.coordSyses,Sa.coordinateSystem)>=0},ha.prototype.findTargetInfo=function(ua,Sa){for(var ba=this._targetInfoList,ka=parseFinder(Sa,ua),_y=0;_y<ba.length;_y++){var Ty=ba[_y],Ay=ua.panelId;if(Ay){if(Ty.panelId===Ay)return Ty}else for(var Ey=0;Ey<targetInfoMatchers.length;Ey++)if(targetInfoMatchers[Ey](ka,Ty))return Ty}return!0},ha}();function formatMinMax(ha){return ha[0]>ha[1]&&ha.reverse(),ha}function parseFinder(ha,ua){return parseFinder$1(ha,ua,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(ha,ua){var Sa=ha.xAxisModels,ba=ha.yAxisModels,ka=ha.gridModels,_y=createHashMap(),Ty={},Ay={};!Sa&&!ba&&!ka||(each$f(Sa,function(Ey){var My=Ey.axis.grid.model;_y.set(My.id,My),Ty[My.id]=!0}),each$f(ba,function(Ey){var My=Ey.axis.grid.model;_y.set(My.id,My),Ay[My.id]=!0}),each$f(ka,function(Ey){_y.set(Ey.id,Ey),Ty[Ey.id]=!0,Ay[Ey.id]=!0}),_y.each(function(Ey){var My=Ey.coordinateSystem,Dy=[];each$f(My.getCartesians(),function(Iy,Ly){(indexOf(Sa,Iy.getAxis("x").model)>=0||indexOf(ba,Iy.getAxis("y").model)>=0)&&Dy.push(Iy)}),ua.push({panelId:"grid--"+Ey.id,gridModel:Ey,coordSysModel:Ey,coordSys:Dy[0],coordSyses:Dy,getPanelRect:panelRectBuilders.grid,xAxisDeclared:Ty[Ey.id],yAxisDeclared:Ay[Ey.id]})}))},geo:function(ha,ua){each$f(ha.geoModels,function(Sa){var ba=Sa.coordinateSystem;ua.push({panelId:"geo--"+Sa.id,geoModel:Sa,coordSysModel:Sa,coordSys:ba,coordSyses:[ba],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(ha,ua){var Sa=ha.xAxisModel,ba=ha.yAxisModel,ka=ha.gridModel;return!ka&&Sa&&(ka=Sa.axis.grid.model),!ka&&ba&&(ka=ba.axis.grid.model),ka&&ka===ua.gridModel},function(ha,ua){var Sa=ha.geoModel;return Sa&&Sa===ua.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var ha=this.coordSys,ua=ha.getBoundingRect().clone();return ua.applyTransform(getTransform$1(ha)),ua}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(ha,ua,Sa,ba){var ka=ha?ua.pointToData([Sa[0][0],Sa[1][0]],ba):ua.dataToPoint([Sa[0][0],Sa[1][0]],ba),_y=ha?ua.pointToData([Sa[0][1],Sa[1][1]],ba):ua.dataToPoint([Sa[0][1],Sa[1][1]],ba),Ty=[formatMinMax([ka[0],_y[0]]),formatMinMax([ka[1],_y[1]])];return{values:Ty,xyMinMax:Ty}},polygon:function(ha,ua,Sa,ba){var ka=[[1/0,-1/0],[1/0,-1/0]],_y=map$1(Sa,function(Ty){var Ay=ha?ua.pointToData(Ty,ba):ua.dataToPoint(Ty,ba);return ka[0][0]=Math.min(ka[0][0],Ay[0]),ka[1][0]=Math.min(ka[1][0],Ay[1]),ka[0][1]=Math.max(ka[0][1],Ay[0]),ka[1][1]=Math.max(ka[1][1],Ay[1]),Ay});return{values:_y,xyMinMax:ka}}};function axisConvert(ha,ua,Sa,ba){var ka=Sa.getAxis(["x","y"][ha]),_y=formatMinMax(map$1([0,1],function(Ay){return ua?ka.coordToData(ka.toLocalCoord(ba[Ay]),!0):ka.toGlobalCoord(ka.dataToCoord(ba[Ay]))})),Ty=[];return Ty[ha]=_y,Ty[1-ha]=[NaN,NaN],{values:_y,xyMinMax:Ty}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(ha,ua,Sa){return[[ha[0][0]-Sa[0]*ua[0][0],ha[0][1]-Sa[0]*ua[0][1]],[ha[1][0]-Sa[1]*ua[1][0],ha[1][1]-Sa[1]*ua[1][1]]]},polygon:function(ha,ua,Sa){return map$1(ha,function(ba,ka){return[ba[0]-Sa[0]*ua[ka][0],ba[1]-Sa[1]*ua[ka][1]]})}};function axisDiffProcessor(ha,ua,Sa,ba){return[ua[0]-ba[ha]*Sa[0],ua[1]-ba[ha]*Sa[1]]}function getScales(ha,ua){var Sa=getSize(ha),ba=getSize(ua),ka=[Sa[0]/ba[0],Sa[1]/ba[1]];return isNaN(ka[0])&&(ka[0]=1),isNaN(ka[1])&&(ka[1]=1),ka}function getSize(ha){return ha?[ha[0][1]-ha[0][0],ha[1][1]-ha[1][0]]:[NaN,NaN]}var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.render=function(Sa,ba,ka,_y){this._brushController||(this._brushController=new BrushController(ka.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(Sa,ba,this,_y,ka),updateBackBtnStatus(Sa,ba)},ua.prototype.onclick=function(Sa,ba,ka){handlers[ka].call(this)},ua.prototype.remove=function(Sa,ba){this._brushController&&this._brushController.unmount()},ua.prototype.dispose=function(Sa,ba){this._brushController&&this._brushController.dispose()},ua.prototype._onBrush=function(Sa){var ba=Sa.areas;if(!Sa.isEnd||!ba.length)return;var ka={},_y=this.ecModel;this._brushController.updateCovers([]);var Ty=new BrushTargetManager(makeAxisFinder(this.model),_y,{include:["grid"]});Ty.matchOutputRanges(ba,_y,function(My,Dy,Iy){if(Iy.type==="cartesian2d"){var Ly=My.brushType;Ly==="rect"?(Ay("x",Iy,Dy[0]),Ay("y",Iy,Dy[1])):Ay({lineX:"x",lineY:"y"}[Ly],Iy,Dy)}}),push(_y,ka),this._dispatchZoomAction(ka);function Ay(My,Dy,Iy){var Ly=Dy.getAxis(My),Py=Ly.model,Ry=Ey(My,Py,_y),Vy=Ry.findRepresentativeAxisProxy(Py).getMinMaxSpan();(Vy.minValueSpan!=null||Vy.maxValueSpan!=null)&&(Iy=sliderMove(0,Iy.slice(),Ly.scale.getExtent(),0,Vy.minValueSpan,Vy.maxValueSpan)),Ry&&(ka[Ry.id]={dataZoomId:Ry.id,startValue:Iy[0],endValue:Iy[1]})}function Ey(My,Dy,Iy){var Ly;return Iy.eachComponent({mainType:"dataZoom",subType:"select"},function(Py){var Ry=Py.getAxisModel(My,Dy.componentIndex);Ry&&(Ly=Py)}),Ly}},ua.prototype._dispatchZoomAction=function(Sa){var ba=[];each$5(Sa,function(ka,_y){ba.push(clone$4(ka))}),ba.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:ba})},ua.getDefaultOption=function(Sa){var ba={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:Sa.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return ba},ua}(ToolboxFeature),handlers={zoom:function(){var ha=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:ha})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(ha){var ua={xAxisIndex:ha.get("xAxisIndex",!0),yAxisIndex:ha.get("yAxisIndex",!0),xAxisId:ha.get("xAxisId",!0),yAxisId:ha.get("yAxisId",!0)};return ua.xAxisIndex==null&&ua.xAxisId==null&&(ua.xAxisIndex="all"),ua.yAxisIndex==null&&ua.yAxisId==null&&(ua.yAxisIndex="all"),ua}function updateBackBtnStatus(ha,ua){ha.setIconStatus("back",count(ua)>1?"emphasis":"normal")}function updateZoomBtnStatus(ha,ua,Sa,ba,ka){var _y=Sa._isZoomActive;ba&&ba.type==="takeGlobalCursor"&&(_y=ba.key==="dataZoomSelect"?ba.dataZoomSelectActive:!1),Sa._isZoomActive=_y,ha.setIconStatus("zoom",_y?"emphasis":"normal");var Ty=new BrushTargetManager(makeAxisFinder(ha),ua,{include:["grid"]}),Ay=Ty.makePanelOpts(ka,function(Ey){return Ey.xAxisDeclared&&!Ey.yAxisDeclared?"lineX":!Ey.xAxisDeclared&&Ey.yAxisDeclared?"lineY":"rect"});Sa._brushController.setPanels(Ay).enableBrush(_y&&Ay.length?{brushType:"auto",brushStyle:ha.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(ha){var ua=ha.getComponent("toolbox",0),Sa=["feature","dataZoom"];if(!ua||ua.get(Sa)==null)return;var ba=ua.getModel(Sa),ka=[],_y=makeAxisFinder(ba),Ty=parseFinder$1(ha,_y);each$5(Ty.xAxisModels,function(Ey){return Ay(Ey,"xAxis","xAxisIndex")}),each$5(Ty.yAxisModels,function(Ey){return Ay(Ey,"yAxis","yAxisIndex")});function Ay(Ey,My,Dy){var Iy=Ey.componentIndex,Ly={type:"select",$fromToolbox:!0,filterMode:ba.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+My+Iy};Ly[Dy]=Iy,ka.push(Ly)}return ka});function install$j(ha){ha.registerComponentModel(ToolboxModel),ha.registerComponentView(ToolboxView),registerFeature("saveAsImage",SaveAsImage),registerFeature("magicType",MagicType),registerFeature("dataView",DataView$1),registerFeature("dataZoom",DataZoomFeature),registerFeature("restore",RestoreOption),use(install$k)}var TooltipModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="tooltip",ua.dependencies=["axisPointer"],ua.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},ua}(ComponentModel);function shouldTooltipConfine(ha){var ua=ha.get("confine");return ua!=null?!!ua:ha.get("renderMode")==="richText"}function testStyle(ha){if(env.domSupported){for(var ua=document.documentElement.style,Sa=0,ba=ha.length;Sa<ba;Sa++)if(ha[Sa]in ua)return ha[Sa]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(ha,ua){if(!ha)return ua;ua=toCamelCase(ua,!0);var Sa=ha.indexOf(ua);return ha=Sa===-1?ua:"-"+ha.slice(0,Sa)+"-"+ua,ha.toLowerCase()}function getComputedStyle$1(ha,ua){var Sa=ha.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(ha);return Sa?Sa[ua]:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env.transform3dSupported?"will-change:transform;":"");function mirrorPos(ha){return ha=ha==="left"?"right":ha==="right"?"left":ha==="top"?"bottom":"top",ha}function assembleArrow(ha,ua,Sa){if(!isString(Sa)||Sa==="inside")return"";var ba=ha.get("backgroundColor"),ka=ha.get("borderWidth");ua=convertToColorString(ua);var _y=mirrorPos(Sa),Ty=Math.max(Math.round(ka)*1.5,6),Ay="",Ey=CSS_TRANSFORM_VENDOR+":",My;indexOf(["left","right"],_y)>-1?(Ay+="top:50%",Ey+="translateY(-50%) rotate("+(My=_y==="left"?-225:-45)+"deg)"):(Ay+="left:50%",Ey+="translateX(-50%) rotate("+(My=_y==="top"?225:45)+"deg)");var Dy=My*Math.PI/180,Iy=Ty+ka,Ly=Iy*Math.abs(Math.cos(Dy))+Iy*Math.abs(Math.sin(Dy)),Py=Math.round(((Ly-Math.SQRT2*ka)/2+Math.SQRT2*ka-(Ly-Iy)/2)*100)/100;Ay+=";"+_y+":-"+Py+"px";var Ry=ua+" solid "+ka+"px;",Vy=["position:absolute;width:"+Ty+"px;height:"+Ty+"px;z-index:-1;",Ay+";"+Ey+";","border-bottom:"+Ry,"border-right:"+Ry,"background-color:"+ba+";"];return'<div style="'+Vy.join("")+'"></div>'}function assembleTransition(ha,ua){var Sa="cubic-bezier(0.23,1,0.32,1)",ba=" "+ha/2+"s "+Sa,ka="opacity"+ba+",visibility"+ba;return ua||(ba=" "+ha+"s "+Sa,ka+=env.transformSupported?","+CSS_TRANSFORM_VENDOR+ba:",left"+ba+",top"+ba),CSS_TRANSITION_VENDOR+":"+ka}function assembleTransform(ha,ua,Sa){var ba=ha.toFixed(0)+"px",ka=ua.toFixed(0)+"px";if(!env.transformSupported)return Sa?"top:"+ka+";left:"+ba+";":[["top",ka],["left",ba]];var _y=env.transform3dSupported,Ty="translate"+(_y?"3d":"")+"("+ba+","+ka+(_y?",0":"")+")";return Sa?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+Ty+";":[["top",0],["left",0],[TRANSFORM_VENDOR,Ty]]}function assembleFont(ha){var ua=[],Sa=ha.get("fontSize"),ba=ha.getTextColor();ba&&ua.push("color:"+ba),ua.push("font:"+ha.getFont());var ka=retrieve2(ha.get("lineHeight"),Math.round(Sa*3/2));Sa&&ua.push("line-height:"+ka+"px");var _y=ha.get("textShadowColor"),Ty=ha.get("textShadowBlur")||0,Ay=ha.get("textShadowOffsetX")||0,Ey=ha.get("textShadowOffsetY")||0;return _y&&Ty&&ua.push("text-shadow:"+Ay+"px "+Ey+"px "+Ty+"px "+_y),each$f(["decoration","align"],function(My){var Dy=ha.get(My);Dy&&ua.push("text-"+My+":"+Dy)}),ua.join(";")}function assembleCssText(ha,ua,Sa){var ba=[],ka=ha.get("transitionDuration"),_y=ha.get("backgroundColor"),Ty=ha.get("shadowBlur"),Ay=ha.get("shadowColor"),Ey=ha.get("shadowOffsetX"),My=ha.get("shadowOffsetY"),Dy=ha.getModel("textStyle"),Iy=getPaddingFromTooltipModel(ha,"html"),Ly=Ey+"px "+My+"px "+Ty+"px "+Ay;return ba.push("box-shadow:"+Ly),ua&&ka&&ba.push(assembleTransition(ka,Sa)),_y&&ba.push("background-color:"+_y),each$f(["width","color","radius"],function(Py){var Ry="border-"+Py,Vy=toCamelCase(Ry),Ny=ha.get(Vy);Ny!=null&&ba.push(Ry+":"+Ny+(Py==="color"?"":"px"))}),ba.push(assembleFont(Dy)),Iy!=null&&ba.push("padding:"+normalizeCssArray(Iy).join("px ")+"px"),ba.join(";")+";"}function makeStyleCoord$1(ha,ua,Sa,ba,ka){var _y=ua&&ua.painter;if(Sa){var Ty=_y&&_y.getViewportRoot();Ty&&transformLocalCoord(ha,Ty,Sa,ba,ka)}else{ha[0]=ba,ha[1]=ka;var Ay=_y&&_y.getViewportRootOffset();Ay&&(ha[0]+=Ay.offsetLeft,ha[1]+=Ay.offsetTop)}ha[2]=ha[0]/ua.getWidth(),ha[3]=ha[1]/ua.getHeight()}var TooltipHTMLContent=function(){function ha(ua,Sa){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env.wxa)return null;var ba=document.createElement("div");ba.domBelongToZr=!0,this.el=ba;var ka=this._zr=ua.getZr(),_y=Sa.appendTo,Ty=_y&&(isString(_y)?document.querySelector(_y):isDom(_y)?_y:isFunction(_y)&&_y(ua.getDom()));makeStyleCoord$1(this._styleCoord,ka,Ty,ua.getWidth()/2,ua.getHeight()/2),(Ty||ua.getDom()).appendChild(ba),this._api=ua,this._container=Ty;var Ay=this;ba.onmouseenter=function(){Ay._enterable&&(clearTimeout(Ay._hideTimeout),Ay._show=!0),Ay._inContent=!0},ba.onmousemove=function(Ey){if(Ey=Ey||window.event,!Ay._enterable){var My=ka.handler,Dy=ka.painter.getViewportRoot();normalizeEvent(Dy,Ey,!0),My.dispatch("mousemove",Ey)}},ba.onmouseleave=function(){Ay._inContent=!1,Ay._enterable&&Ay._show&&Ay.hideLater(Ay._hideDelay)}}return ha.prototype.update=function(ua){if(!this._container){var Sa=this._api.getDom(),ba=getComputedStyle$1(Sa,"position"),ka=Sa.style;ka.position!=="absolute"&&ba!=="absolute"&&(ka.position="relative")}var _y=ua.get("alwaysShowContent");_y&&this._moveIfResized(),this._alwaysShowContent=_y,this.el.className=ua.get("className")||""},ha.prototype.show=function(ua,Sa){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var ba=this.el,ka=ba.style,_y=this._styleCoord;ba.innerHTML?ka.cssText=gCssText+assembleCssText(ua,!this._firstShow,this._longHide)+assembleTransform(_y[0],_y[1],!0)+("border-color:"+convertToColorString(Sa)+";")+(ua.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):ka.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},ha.prototype.setContent=function(ua,Sa,ba,ka,_y){var Ty=this.el;if(ua==null){Ty.innerHTML="";return}var Ay="";if(isString(_y)&&ba.get("trigger")==="item"&&!shouldTooltipConfine(ba)&&(Ay=assembleArrow(ba,ka,_y)),isString(ua))Ty.innerHTML=ua+Ay;else if(ua){Ty.innerHTML="",isArray$1(ua)||(ua=[ua]);for(var Ey=0;Ey<ua.length;Ey++)isDom(ua[Ey])&&ua[Ey].parentNode!==Ty&&Ty.appendChild(ua[Ey]);if(Ay&&Ty.childNodes.length){var My=document.createElement("div");My.innerHTML=Ay,Ty.appendChild(My)}}},ha.prototype.setEnterable=function(ua){this._enterable=ua},ha.prototype.getSize=function(){var ua=this.el;return ua?[ua.offsetWidth,ua.offsetHeight]:[0,0]},ha.prototype.moveTo=function(ua,Sa){if(this.el){var ba=this._styleCoord;if(makeStyleCoord$1(ba,this._zr,this._container,ua,Sa),ba[0]!=null&&ba[1]!=null){var ka=this.el.style,_y=assembleTransform(ba[0],ba[1]);each$f(_y,function(Ty){ka[Ty[0]]=Ty[1]})}}},ha.prototype._moveIfResized=function(){var ua=this._styleCoord[2],Sa=this._styleCoord[3];this.moveTo(ua*this._zr.getWidth(),Sa*this._zr.getHeight())},ha.prototype.hide=function(){var ua=this,Sa=this.el.style;Sa.visibility="hidden",Sa.opacity="0",env.transform3dSupported&&(Sa.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return ua._longHide=!0},500)},ha.prototype.hideLater=function(ua){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(ua?(this._hideDelay=ua,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),ua)):this.hide())},ha.prototype.isShow=function(){return this._show},ha.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var ua=this.el.parentNode;ua&&ua.removeChild(this.el),this.el=this._container=null},ha}(),TooltipRichContent=function(){function ha(ua){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=ua.getZr(),makeStyleCoord(this._styleCoord,this._zr,ua.getWidth()/2,ua.getHeight()/2)}return ha.prototype.update=function(ua){var Sa=ua.get("alwaysShowContent");Sa&&this._moveIfResized(),this._alwaysShowContent=Sa},ha.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},ha.prototype.setContent=function(ua,Sa,ba,ka,_y){var Ty=this;isObject$3(ua)&&throwError(""),this.el&&this._zr.remove(this.el);var Ay=ba.getModel("textStyle");this.el=new ZRText({style:{rich:Sa.richTextStyles,text:ua,lineHeight:22,borderWidth:1,borderColor:ka,textShadowColor:Ay.get("textShadowColor"),fill:ba.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(ba,"richText"),verticalAlign:"top",align:"left"},z:ba.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(My){Ty.el.style[My]=ba.get(My)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(My){Ty.el.style[My]=Ay.get(My)||0}),this._zr.add(this.el);var Ey=this;this.el.on("mouseover",function(){Ey._enterable&&(clearTimeout(Ey._hideTimeout),Ey._show=!0),Ey._inContent=!0}),this.el.on("mouseout",function(){Ey._enterable&&Ey._show&&Ey.hideLater(Ey._hideDelay),Ey._inContent=!1})},ha.prototype.setEnterable=function(ua){this._enterable=ua},ha.prototype.getSize=function(){var ua=this.el,Sa=this.el.getBoundingRect(),ba=calcShadowOuterSize(ua.style);return[Sa.width+ba.left+ba.right,Sa.height+ba.top+ba.bottom]},ha.prototype.moveTo=function(ua,Sa){var ba=this.el;if(ba){var ka=this._styleCoord;makeStyleCoord(ka,this._zr,ua,Sa),ua=ka[0],Sa=ka[1];var _y=ba.style,Ty=mathMaxWith0(_y.borderWidth||0),Ay=calcShadowOuterSize(_y);ba.x=ua+Ty+Ay.left,ba.y=Sa+Ty+Ay.top,ba.markRedraw()}},ha.prototype._moveIfResized=function(){var ua=this._styleCoord[2],Sa=this._styleCoord[3];this.moveTo(ua*this._zr.getWidth(),Sa*this._zr.getHeight())},ha.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},ha.prototype.hideLater=function(ua){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(ua?(this._hideDelay=ua,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),ua)):this.hide())},ha.prototype.isShow=function(){return this._show},ha.prototype.dispose=function(){this._zr.remove(this.el)},ha}();function mathMaxWith0(ha){return Math.max(0,ha)}function calcShadowOuterSize(ha){var ua=mathMaxWith0(ha.shadowBlur||0),Sa=mathMaxWith0(ha.shadowOffsetX||0),ba=mathMaxWith0(ha.shadowOffsetY||0);return{left:mathMaxWith0(ua-Sa),right:mathMaxWith0(ua+Sa),top:mathMaxWith0(ua-ba),bottom:mathMaxWith0(ua+ba)}}function makeStyleCoord(ha,ua,Sa,ba){ha[0]=Sa,ha[1]=ba,ha[2]=ha[0]/ua.getWidth(),ha[3]=ha[1]/ua.getHeight()}var proxyRect=new Rect$2({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(Sa,ba){if(!(env.node||!ba.getDom())){var ka=Sa.getComponent("tooltip"),_y=this._renderMode=getTooltipRenderMode(ka.get("renderMode"));this._tooltipContent=_y==="richText"?new TooltipRichContent(ba):new TooltipHTMLContent(ba,{appendTo:ka.get("appendToBody",!0)?"body":ka.get("appendTo",!0)})}},ua.prototype.render=function(Sa,ba,ka){if(!(env.node||!ka.getDom())){this.group.removeAll(),this._tooltipModel=Sa,this._ecModel=ba,this._api=ka;var _y=this._tooltipContent;_y.update(Sa),_y.setEnterable(Sa.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&Sa.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},ua.prototype._initGlobalListener=function(){var Sa=this._tooltipModel,ba=Sa.get("triggerOn");register("itemTooltip",this._api,bind$1(function(ka,_y,Ty){ba!=="none"&&(ba.indexOf(ka)>=0?this._tryShow(_y,Ty):ka==="leave"&&this._hide(Ty))},this))},ua.prototype._keepShow=function(){var Sa=this._tooltipModel,ba=this._ecModel,ka=this._api,_y=Sa.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&_y!=="none"&&_y!=="click"){var Ty=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!ka.isDisposed()&&Ty.manuallyShowTip(Sa,ba,ka,{x:Ty._lastX,y:Ty._lastY,dataByCoordSys:Ty._lastDataByCoordSys})})}},ua.prototype.manuallyShowTip=function(Sa,ba,ka,_y){if(!(_y.from===this.uid||env.node||!ka.getDom())){var Ty=makeDispatchAction(_y,ka);this._ticket="";var Ay=_y.dataByCoordSys,Ey=findComponentReference(_y,ba,ka);if(Ey){var My=Ey.el.getBoundingRect().clone();My.applyTransform(Ey.el.transform),this._tryShow({offsetX:My.x+My.width/2,offsetY:My.y+My.height/2,target:Ey.el,position:_y.position,positionDefault:"bottom"},Ty)}else if(_y.tooltip&&_y.x!=null&&_y.y!=null){var Dy=proxyRect;Dy.x=_y.x,Dy.y=_y.y,Dy.update(),getECData(Dy).tooltipConfig={name:null,option:_y.tooltip},this._tryShow({offsetX:_y.x,offsetY:_y.y,target:Dy},Ty)}else if(Ay)this._tryShow({offsetX:_y.x,offsetY:_y.y,position:_y.position,dataByCoordSys:Ay,tooltipOption:_y.tooltipOption},Ty);else if(_y.seriesIndex!=null){if(this._manuallyAxisShowTip(Sa,ba,ka,_y))return;var Iy=findPointFromSeries(_y,ba),Ly=Iy.point[0],Py=Iy.point[1];Ly!=null&&Py!=null&&this._tryShow({offsetX:Ly,offsetY:Py,target:Iy.el,position:_y.position,positionDefault:"bottom"},Ty)}else _y.x!=null&&_y.y!=null&&(ka.dispatchAction({type:"updateAxisPointer",x:_y.x,y:_y.y}),this._tryShow({offsetX:_y.x,offsetY:_y.y,position:_y.position,target:ka.getZr().findHover(_y.x,_y.y).target},Ty))}},ua.prototype.manuallyHideTip=function(Sa,ba,ka,_y){var Ty=this._tooltipContent;this._tooltipModel&&Ty.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,_y.from!==this.uid&&this._hide(makeDispatchAction(_y,ka))},ua.prototype._manuallyAxisShowTip=function(Sa,ba,ka,_y){var Ty=_y.seriesIndex,Ay=_y.dataIndex,Ey=ba.getComponent("axisPointer").coordSysAxesInfo;if(!(Ty==null||Ay==null||Ey==null)){var My=ba.getSeriesByIndex(Ty);if(My){var Dy=My.getData(),Iy=buildTooltipModel([Dy.getItemModel(Ay),My,(My.coordinateSystem||{}).model],this._tooltipModel);if(Iy.get("trigger")==="axis")return ka.dispatchAction({type:"updateAxisPointer",seriesIndex:Ty,dataIndex:Ay,position:_y.position}),!0}}},ua.prototype._tryShow=function(Sa,ba){var ka=Sa.target,_y=this._tooltipModel;if(_y){this._lastX=Sa.offsetX,this._lastY=Sa.offsetY;var Ty=Sa.dataByCoordSys;if(Ty&&Ty.length)this._showAxisTooltip(Ty,Sa);else if(ka){var Ay=getECData(ka);if(Ay.ssrType==="legend")return;this._lastDataByCoordSys=null;var Ey,My;findEventDispatcher(ka,function(Dy){if(getECData(Dy).dataIndex!=null)return Ey=Dy,!0;if(getECData(Dy).tooltipConfig!=null)return My=Dy,!0},!0),Ey?this._showSeriesItemTooltip(Sa,Ey,ba):My?this._showComponentItemTooltip(Sa,My,ba):this._hide(ba)}else this._lastDataByCoordSys=null,this._hide(ba)}},ua.prototype._showOrMove=function(Sa,ba){var ka=Sa.get("showDelay");ba=bind$1(ba,this),clearTimeout(this._showTimout),ka>0?this._showTimout=setTimeout(ba,ka):ba()},ua.prototype._showAxisTooltip=function(Sa,ba){var ka=this._ecModel,_y=this._tooltipModel,Ty=[ba.offsetX,ba.offsetY],Ay=buildTooltipModel([ba.tooltipOption],_y),Ey=this._renderMode,My=[],Dy=createTooltipMarkup("section",{blocks:[],noHeader:!0}),Iy=[],Ly=new TooltipMarkupStyleCreator;each$f(Sa,function(Oy){each$f(Oy.dataByAxis,function(Fy){var zy=ka.getComponent(Fy.axisDim+"Axis",Fy.axisIndex),Hy=Fy.value;if(!(!zy||Hy==null)){var Gy=getValueLabel(Hy,zy.axis,ka,Fy.seriesDataIndices,Fy.valueLabelOpt),Wy=createTooltipMarkup("section",{header:Gy,noHeader:!trim$1(Gy),sortBlocks:!0,blocks:[]});Dy.blocks.push(Wy),each$f(Fy.seriesDataIndices,function(Uy){var Yy=ka.getSeriesByIndex(Uy.seriesIndex),jy=Uy.dataIndexInside,Ky=Yy.getDataParams(jy);if(!(Ky.dataIndex<0)){Ky.axisDim=Fy.axisDim,Ky.axisIndex=Fy.axisIndex,Ky.axisType=Fy.axisType,Ky.axisId=Fy.axisId,Ky.axisValue=getAxisRawValue(zy.axis,{value:Hy}),Ky.axisValueLabel=Gy,Ky.marker=Ly.makeTooltipMarker("item",convertToColorString(Ky.color),Ey);var Xy=normalizeTooltipFormatResult(Yy.formatTooltip(jy,!0,null)),Zy=Xy.frag;if(Zy){var Jy=buildTooltipModel([Yy],_y).get("valueFormatter");Wy.blocks.push(Jy?extend({valueFormatter:Jy},Zy):Zy)}Xy.text&&Iy.push(Xy.text),My.push(Ky)}})}})}),Dy.blocks.reverse(),Iy.reverse();var Py=ba.position,Ry=Ay.get("order"),Vy=buildTooltipMarkup(Dy,Ly,Ey,Ry,ka.get("useUTC"),Ay.get("textStyle"));Vy&&Iy.unshift(Vy);var Ny=Ey==="richText"?`

`:"<br/>",By=Iy.join(Ny);this._showOrMove(Ay,function(){this._updateContentNotChangedOnAxis(Sa,My)?this._updatePosition(Ay,Py,Ty[0],Ty[1],this._tooltipContent,My):this._showTooltipContent(Ay,By,My,Math.random()+"",Ty[0],Ty[1],Py,null,Ly)})},ua.prototype._showSeriesItemTooltip=function(Sa,ba,ka){var _y=this._ecModel,Ty=getECData(ba),Ay=Ty.seriesIndex,Ey=_y.getSeriesByIndex(Ay),My=Ty.dataModel||Ey,Dy=Ty.dataIndex,Iy=Ty.dataType,Ly=My.getData(Iy),Py=this._renderMode,Ry=Sa.positionDefault,Vy=buildTooltipModel([Ly.getItemModel(Dy),My,Ey&&(Ey.coordinateSystem||{}).model],this._tooltipModel,Ry?{position:Ry}:null),Ny=Vy.get("trigger");if(!(Ny!=null&&Ny!=="item")){var By=My.getDataParams(Dy,Iy),Oy=new TooltipMarkupStyleCreator;By.marker=Oy.makeTooltipMarker("item",convertToColorString(By.color),Py);var Fy=normalizeTooltipFormatResult(My.formatTooltip(Dy,!1,Iy)),zy=Vy.get("order"),Hy=Vy.get("valueFormatter"),Gy=Fy.frag,Wy=Gy?buildTooltipMarkup(Hy?extend({valueFormatter:Hy},Gy):Gy,Oy,Py,zy,_y.get("useUTC"),Vy.get("textStyle")):Fy.text,Uy="item_"+My.name+"_"+Dy;this._showOrMove(Vy,function(){this._showTooltipContent(Vy,Wy,By,Uy,Sa.offsetX,Sa.offsetY,Sa.position,Sa.target,Oy)}),ka({type:"showTip",dataIndexInside:Dy,dataIndex:Ly.getRawIndex(Dy),seriesIndex:Ay,from:this.uid})}},ua.prototype._showComponentItemTooltip=function(Sa,ba,ka){var _y=this._renderMode==="html",Ty=getECData(ba),Ay=Ty.tooltipConfig,Ey=Ay.option||{},My=Ey.encodeHTMLContent;if(isString(Ey)){var Dy=Ey;Ey={content:Dy,formatter:Dy},My=!0}My&&_y&&Ey.content&&(Ey=clone$4(Ey),Ey.content=encodeHTML(Ey.content));var Iy=[Ey],Ly=this._ecModel.getComponent(Ty.componentMainType,Ty.componentIndex);Ly&&Iy.push(Ly),Iy.push({formatter:Ey.content});var Py=Sa.positionDefault,Ry=buildTooltipModel(Iy,this._tooltipModel,Py?{position:Py}:null),Vy=Ry.get("content"),Ny=Math.random()+"",By=new TooltipMarkupStyleCreator;this._showOrMove(Ry,function(){var Oy=clone$4(Ry.get("formatterParams")||{});this._showTooltipContent(Ry,Vy,Oy,Ny,Sa.offsetX,Sa.offsetY,Sa.position,ba,By)}),ka({type:"showTip",from:this.uid})},ua.prototype._showTooltipContent=function(Sa,ba,ka,_y,Ty,Ay,Ey,My,Dy){if(this._ticket="",!(!Sa.get("showContent")||!Sa.get("show"))){var Iy=this._tooltipContent;Iy.setEnterable(Sa.get("enterable"));var Ly=Sa.get("formatter");Ey=Ey||Sa.get("position");var Py=ba,Ry=this._getNearestPoint([Ty,Ay],ka,Sa.get("trigger"),Sa.get("borderColor")),Vy=Ry.color;if(Ly)if(isString(Ly)){var Ny=Sa.ecModel.get("useUTC"),By=isArray$1(ka)?ka[0]:ka,Oy=By&&By.axisType&&By.axisType.indexOf("time")>=0;Py=Ly,Oy&&(Py=format(By.axisValue,Py,Ny)),Py=formatTpl(Py,ka,!0)}else if(isFunction(Ly)){var Fy=bind$1(function(zy,Hy){zy===this._ticket&&(Iy.setContent(Hy,Dy,Sa,Vy,Ey),this._updatePosition(Sa,Ey,Ty,Ay,Iy,ka,My))},this);this._ticket=_y,Py=Ly(ka,_y,Fy)}else Py=Ly;Iy.setContent(Py,Dy,Sa,Vy,Ey),Iy.show(Sa,Vy),this._updatePosition(Sa,Ey,Ty,Ay,Iy,ka,My)}},ua.prototype._getNearestPoint=function(Sa,ba,ka,_y){if(ka==="axis"||isArray$1(ba))return{color:_y||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(ba))return{color:_y||ba.color||ba.borderColor}},ua.prototype._updatePosition=function(Sa,ba,ka,_y,Ty,Ay,Ey){var My=this._api.getWidth(),Dy=this._api.getHeight();ba=ba||Sa.get("position");var Iy=Ty.getSize(),Ly=Sa.get("align"),Py=Sa.get("verticalAlign"),Ry=Ey&&Ey.getBoundingRect().clone();if(Ey&&Ry.applyTransform(Ey.transform),isFunction(ba)&&(ba=ba([ka,_y],Ay,Ty.el,Ry,{viewSize:[My,Dy],contentSize:Iy.slice()})),isArray$1(ba))ka=parsePercent(ba[0],My),_y=parsePercent(ba[1],Dy);else if(isObject$3(ba)){var Vy=ba;Vy.width=Iy[0],Vy.height=Iy[1];var Ny=getLayoutRect(Vy,{width:My,height:Dy});ka=Ny.x,_y=Ny.y,Ly=null,Py=null}else if(isString(ba)&&Ey){var By=calcTooltipPosition(ba,Ry,Iy,Sa.get("borderWidth"));ka=By[0],_y=By[1]}else{var By=refixTooltipPosition(ka,_y,Ty,My,Dy,Ly?null:20,Py?null:20);ka=By[0],_y=By[1]}if(Ly&&(ka-=isCenterAlign(Ly)?Iy[0]/2:Ly==="right"?Iy[0]:0),Py&&(_y-=isCenterAlign(Py)?Iy[1]/2:Py==="bottom"?Iy[1]:0),shouldTooltipConfine(Sa)){var By=confineTooltipPosition(ka,_y,Ty,My,Dy);ka=By[0],_y=By[1]}Ty.moveTo(ka,_y)},ua.prototype._updateContentNotChangedOnAxis=function(Sa,ba){var ka=this._lastDataByCoordSys,_y=this._cbParamsList,Ty=!!ka&&ka.length===Sa.length;return Ty&&each$f(ka,function(Ay,Ey){var My=Ay.dataByAxis||[],Dy=Sa[Ey]||{},Iy=Dy.dataByAxis||[];Ty=Ty&&My.length===Iy.length,Ty&&each$f(My,function(Ly,Py){var Ry=Iy[Py]||{},Vy=Ly.seriesDataIndices||[],Ny=Ry.seriesDataIndices||[];Ty=Ty&&Ly.value===Ry.value&&Ly.axisType===Ry.axisType&&Ly.axisId===Ry.axisId&&Vy.length===Ny.length,Ty&&each$f(Vy,function(By,Oy){var Fy=Ny[Oy];Ty=Ty&&By.seriesIndex===Fy.seriesIndex&&By.dataIndex===Fy.dataIndex}),_y&&each$f(Ly.seriesDataIndices,function(By){var Oy=By.seriesIndex,Fy=ba[Oy],zy=_y[Oy];Fy&&zy&&zy.data!==Fy.data&&(Ty=!1)})})}),this._lastDataByCoordSys=Sa,this._cbParamsList=ba,!!Ty},ua.prototype._hide=function(Sa){this._lastDataByCoordSys=null,Sa({type:"hideTip",from:this.uid})},ua.prototype.dispose=function(Sa,ba){env.node||!ba.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",ba))},ua.type="tooltip",ua}(ComponentView);function buildTooltipModel(ha,ua,Sa){var ba=ua.ecModel,ka;Sa?(ka=new Model(Sa,ba,ba),ka=new Model(ua.option,ka,ba)):ka=ua;for(var _y=ha.length-1;_y>=0;_y--){var Ty=ha[_y];Ty&&(Ty instanceof Model&&(Ty=Ty.get("tooltip",!0)),isString(Ty)&&(Ty={formatter:Ty}),Ty&&(ka=new Model(Ty,ka,ba)))}return ka}function makeDispatchAction(ha,ua){return ha.dispatchAction||bind$1(ua.dispatchAction,ua)}function refixTooltipPosition(ha,ua,Sa,ba,ka,_y,Ty){var Ay=Sa.getSize(),Ey=Ay[0],My=Ay[1];return _y!=null&&(ha+Ey+_y+2>ba?ha-=Ey+_y:ha+=_y),Ty!=null&&(ua+My+Ty>ka?ua-=My+Ty:ua+=Ty),[ha,ua]}function confineTooltipPosition(ha,ua,Sa,ba,ka){var _y=Sa.getSize(),Ty=_y[0],Ay=_y[1];return ha=Math.min(ha+Ty,ba)-Ty,ua=Math.min(ua+Ay,ka)-Ay,ha=Math.max(ha,0),ua=Math.max(ua,0),[ha,ua]}function calcTooltipPosition(ha,ua,Sa,ba){var ka=Sa[0],_y=Sa[1],Ty=Math.ceil(Math.SQRT2*ba)+8,Ay=0,Ey=0,My=ua.width,Dy=ua.height;switch(ha){case"inside":Ay=ua.x+My/2-ka/2,Ey=ua.y+Dy/2-_y/2;break;case"top":Ay=ua.x+My/2-ka/2,Ey=ua.y-_y-Ty;break;case"bottom":Ay=ua.x+My/2-ka/2,Ey=ua.y+Dy+Ty;break;case"left":Ay=ua.x-ka-Ty,Ey=ua.y+Dy/2-_y/2;break;case"right":Ay=ua.x+My+Ty,Ey=ua.y+Dy/2-_y/2}return[Ay,Ey]}function isCenterAlign(ha){return ha==="center"||ha==="middle"}function findComponentReference(ha,ua,Sa){var ba=preParseFinder(ha).queryOptionMap,ka=ba.keys()[0];if(!(!ka||ka==="series")){var _y=queryReferringComponents(ua,ka,ba.get(ka),{useDefault:!1,enableAll:!1,enableNone:!1}),Ty=_y.models[0];if(Ty){var Ay=Sa.getViewOfComponentModel(Ty),Ey;if(Ay.group.traverse(function(My){var Dy=getECData(My).tooltipConfig;if(Dy&&Dy.name===ha.name)return Ey=My,!0}),Ey)return{componentMainType:ka,componentIndex:Ty.componentIndex,el:Ey}}}}function install$i(ha){use(install$q),ha.registerComponentModel(TooltipModel),ha.registerComponentView(TooltipView),ha.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),ha.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(ha,ua){var Sa=normalizeToArray(ha?ha.brush:[]);if(Sa.length){var ba=[];each$f(Sa,function(Ey){var My=Ey.hasOwnProperty("toolbox")?Ey.toolbox:[];My instanceof Array&&(ba=ba.concat(My))});var ka=ha&&ha.toolbox;isArray$1(ka)&&(ka=ka[0]),ka||(ka={feature:{}},ha.toolbox=[ka]);var _y=ka.feature||(ka.feature={}),Ty=_y.brush||(_y.brush={}),Ay=Ty.type||(Ty.type=[]);Ay.push.apply(Ay,ba),removeDuplicate(Ay),ua&&!Ay.length&&Ay.push.apply(Ay,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(ha){var ua={};each$f(ha,function(Sa){ua[Sa]=1}),ha.length=0,each$f(ua,function(Sa,ba){ha.push(ba)})}var each$4=each$f;function hasKeys(ha){if(ha){for(var ua in ha)if(ha.hasOwnProperty(ua))return!0}}function createVisualMappings(ha,ua,Sa){var ba={};return each$4(ua,function(_y){var Ty=ba[_y]=ka();each$4(ha[_y],function(Ay,Ey){if(VisualMapping.isValidType(Ey)){var My={type:Ey,visual:Ay};Sa&&Sa(My,_y),Ty[Ey]=new VisualMapping(My),Ey==="opacity"&&(My=clone$4(My),My.type="colorAlpha",Ty.__hidden.__alphaForOpacity=new VisualMapping(My))}})}),ba;function ka(){var _y=function(){};_y.prototype.__hidden=_y.prototype;var Ty=new _y;return Ty}}function replaceVisualOption(ha,ua,Sa){var ba;each$f(Sa,function(ka){ua.hasOwnProperty(ka)&&hasKeys(ua[ka])&&(ba=!0)}),ba&&each$f(Sa,function(ka){ua.hasOwnProperty(ka)&&hasKeys(ua[ka])?ha[ka]=clone$4(ua[ka]):delete ha[ka]})}function applyVisual(ha,ua,Sa,ba,ka,_y){var Ty={};each$f(ha,function(Iy){var Ly=VisualMapping.prepareVisualTypes(ua[Iy]);Ty[Iy]=Ly});var Ay;function Ey(Iy){return getItemVisualFromData(Sa,Ay,Iy)}function My(Iy,Ly){setItemVisualFromData(Sa,Ay,Iy,Ly)}Sa.each(Dy);function Dy(Iy,Ly){Ay=Iy;var Py=Sa.getRawDataItem(Ay);if(!(Py&&Py.visualMap===!1))for(var Ry=ba.call(ka,Iy),Vy=ua[Ry],Ny=Ty[Ry],By=0,Oy=Ny.length;By<Oy;By++){var Fy=Ny[By];Vy[Fy]&&Vy[Fy].applyVisual(Iy,Ey,My)}}}function incrementalApplyVisual(ha,ua,Sa,ba){var ka={};return each$f(ha,function(_y){var Ty=VisualMapping.prepareVisualTypes(ua[_y]);ka[_y]=Ty}),{progress:function(Ty,Ay){var Ey;ba!=null&&(Ey=Ay.getDimensionIndex(ba));function My(Hy){return getItemVisualFromData(Ay,Iy,Hy)}function Dy(Hy,Gy){setItemVisualFromData(Ay,Iy,Hy,Gy)}for(var Iy,Ly=Ay.getStore();(Iy=Ty.next())!=null;){var Py=Ay.getRawDataItem(Iy);if(!(Py&&Py.visualMap===!1))for(var Ry=ba!=null?Ly.get(Ey,Iy):Iy,Vy=Sa(Ry),Ny=ua[Vy],By=ka[Vy],Oy=0,Fy=By.length;Oy<Fy;Oy++){var zy=By[Oy];Ny[zy]&&Ny[zy].applyVisual(Ry,My,Dy)}}}}}function makeBrushCommonSelectorForSeries(ha){var ua=ha.brushType,Sa={point:function(ba){return selector[ua].point(ba,Sa,ha)},rect:function(ba){return selector[ua].rect(ba,Sa,ha)}};return Sa}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(ha,ua,Sa){return ha&&Sa.boundingRect.contain(ha[0],ha[1])},rect:function(ha,ua,Sa){return ha&&Sa.boundingRect.intersect(ha)}},polygon:{point:function(ha,ua,Sa){return ha&&Sa.boundingRect.contain(ha[0],ha[1])&&contain(Sa.range,ha[0],ha[1])},rect:function(ha,ua,Sa){var ba=Sa.range;if(!ha||ba.length<=1)return!1;var ka=ha.x,_y=ha.y,Ty=ha.width,Ay=ha.height,Ey=ba[0];if(contain(ba,ka,_y)||contain(ba,ka+Ty,_y)||contain(ba,ka,_y+Ay)||contain(ba,ka+Ty,_y+Ay)||BoundingRect.create(ha).contain(Ey[0],Ey[1])||linePolygonIntersect(ka,_y,ka+Ty,_y,ba)||linePolygonIntersect(ka,_y,ka,_y+Ay,ba)||linePolygonIntersect(ka+Ty,_y,ka+Ty,_y+Ay,ba)||linePolygonIntersect(ka,_y+Ay,ka+Ty,_y+Ay,ba))return!0}}};function getLineSelectors(ha){var ua=["x","y"],Sa=["width","height"];return{point:function(ba,ka,_y){if(ba){var Ty=_y.range,Ay=ba[ha];return inLineRange(Ay,Ty)}},rect:function(ba,ka,_y){if(ba){var Ty=_y.range,Ay=[ba[ua[ha]],ba[ua[ha]]+ba[Sa[ha]]];return Ay[1]<Ay[0]&&Ay.reverse(),inLineRange(Ay[0],Ty)||inLineRange(Ay[1],Ty)||inLineRange(Ty[0],Ay)||inLineRange(Ty[1],Ay)}}}}function inLineRange(ha,ua){return ua[0]<=ha&&ha<=ua[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(ha){ha.eachComponent({mainType:"brush"},function(ua){var Sa=ua.brushTargetManager=new BrushTargetManager(ua.option,ha);Sa.setInputRanges(ua.areas,ha)})}function brushVisual(ha,ua,Sa){var ba=[],ka,_y;ha.eachComponent({mainType:"brush"},function(Ty){Sa&&Sa.type==="takeGlobalCursor"&&Ty.setBrushOption(Sa.key==="brush"?Sa.brushOption:{brushType:!1})}),layoutCovers(ha),ha.eachComponent({mainType:"brush"},function(Ty,Ay){var Ey={brushId:Ty.id,brushIndex:Ay,brushName:Ty.name,areas:clone$4(Ty.areas),selected:[]};ba.push(Ey);var My=Ty.option,Dy=My.brushLink,Iy=[],Ly=[],Py=[],Ry=!1;Ay||(ka=My.throttleType,_y=My.throttleDelay);var Vy=map$1(Ty.areas,function(Hy){var Gy=boundingRectBuilders[Hy.brushType],Wy=defaults({boundingRect:Gy?Gy(Hy):void 0},Hy);return Wy.selectors=makeBrushCommonSelectorForSeries(Wy),Wy}),Ny=createVisualMappings(Ty.option,STATE_LIST,function(Hy){Hy.mappingMethod="fixed"});isArray$1(Dy)&&each$f(Dy,function(Hy){Iy[Hy]=1});function By(Hy){return Dy==="all"||!!Iy[Hy]}function Oy(Hy){return!!Hy.length}ha.eachSeries(function(Hy,Gy){var Wy=Py[Gy]=[];Hy.subType==="parallel"?Fy(Hy,Gy):zy(Hy,Gy,Wy)});function Fy(Hy,Gy){var Wy=Hy.coordinateSystem;Ry=Ry||Wy.hasAxisBrushed(),By(Gy)&&Wy.eachActiveState(Hy.getData(),function(Uy,Yy){Uy==="active"&&(Ly[Yy]=1)})}function zy(Hy,Gy,Wy){if(!(!Hy.brushSelector||brushModelNotControll(Ty,Gy))&&(each$f(Vy,function(Yy){Ty.brushTargetManager.controlSeries(Yy,Hy,ha)&&Wy.push(Yy),Ry=Ry||Oy(Wy)}),By(Gy)&&Oy(Wy))){var Uy=Hy.getData();Uy.each(function(Yy){checkInRange(Hy,Wy,Uy,Yy)&&(Ly[Yy]=1)})}}ha.eachSeries(function(Hy,Gy){var Wy={seriesId:Hy.id,seriesIndex:Gy,seriesName:Hy.name,dataIndex:[]};Ey.selected.push(Wy);var Uy=Py[Gy],Yy=Hy.getData(),jy=By(Gy)?function(Ky){return Ly[Ky]?(Wy.dataIndex.push(Yy.getRawIndex(Ky)),"inBrush"):"outOfBrush"}:function(Ky){return checkInRange(Hy,Uy,Yy,Ky)?(Wy.dataIndex.push(Yy.getRawIndex(Ky)),"inBrush"):"outOfBrush"};(By(Gy)?Ry:Oy(Uy))&&applyVisual(STATE_LIST,Ny,Yy,jy)})}),dispatchAction$1(ua,ka,_y,ba,Sa)}function dispatchAction$1(ha,ua,Sa,ba,ka){if(ka){var _y=ha.getZr();if(!_y[DISPATCH_FLAG]){_y[DISPATCH_METHOD]||(_y[DISPATCH_METHOD]=doDispatch);var Ty=createOrUpdate(_y,DISPATCH_METHOD,Sa,ua);Ty(ha,ba)}}}function doDispatch(ha,ua){if(!ha.isDisposed()){var Sa=ha.getZr();Sa[DISPATCH_FLAG]=!0,ha.dispatchAction({type:"brushSelect",batch:ua}),Sa[DISPATCH_FLAG]=!1}}function checkInRange(ha,ua,Sa,ba){for(var ka=0,_y=ua.length;ka<_y;ka++){var Ty=ua[ka];if(ha.brushSelector(ba,Sa,Ty.selectors,Ty))return!0}}function brushModelNotControll(ha,ua){var Sa=ha.option.seriesIndex;return Sa!=null&&Sa!=="all"&&(isArray$1(Sa)?indexOf(Sa,ua)<0:ua!==Sa)}var boundingRectBuilders={rect:function(ha){return getBoundingRectFromMinMax(ha.range)},polygon:function(ha){for(var ua,Sa=ha.range,ba=0,ka=Sa.length;ba<ka;ba++){ua=ua||[[1/0,-1/0],[1/0,-1/0]];var _y=Sa[ba];_y[0]<ua[0][0]&&(ua[0][0]=_y[0]),_y[0]>ua[0][1]&&(ua[0][1]=_y[0]),_y[1]<ua[1][0]&&(ua[1][0]=_y[1]),_y[1]>ua[1][1]&&(ua[1][1]=_y[1])}return ua&&getBoundingRectFromMinMax(ua)}};function getBoundingRectFromMinMax(ha){return new BoundingRect(ha[0][0],ha[1][0],ha[0][1]-ha[0][0],ha[1][1]-ha[1][0])}var BrushView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(Sa,ba){this.ecModel=Sa,this.api=ba,this.model,(this._brushController=new BrushController(ba.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},ua.prototype.render=function(Sa,ba,ka,_y){this.model=Sa,this._updateController(Sa,ba,ka,_y)},ua.prototype.updateTransform=function(Sa,ba,ka,_y){layoutCovers(ba),this._updateController(Sa,ba,ka,_y)},ua.prototype.updateVisual=function(Sa,ba,ka,_y){this.updateTransform(Sa,ba,ka,_y)},ua.prototype.updateView=function(Sa,ba,ka,_y){this._updateController(Sa,ba,ka,_y)},ua.prototype._updateController=function(Sa,ba,ka,_y){(!_y||_y.$from!==Sa.id)&&this._brushController.setPanels(Sa.brushTargetManager.makePanelOpts(ka)).enableBrush(Sa.brushOption).updateCovers(Sa.areas.slice())},ua.prototype.dispose=function(){this._brushController.dispose()},ua.prototype._onBrush=function(Sa){var ba=this.model.id,ka=this.model.brushTargetManager.setOutputRanges(Sa.areas,this.ecModel);(!Sa.isEnd||Sa.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:ba,areas:clone$4(ka),$from:ba}),Sa.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:ba,areas:clone$4(ka),$from:ba})},ua.type="brush",ua}(ComponentView),DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.areas=[],Sa.brushOption={},Sa}return ua.prototype.optionUpdated=function(Sa,ba){var ka=this.option;!ba&&replaceVisualOption(ka,Sa,["inBrush","outOfBrush"]);var _y=ka.inBrush=ka.inBrush||{};ka.outOfBrush=ka.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},_y.hasOwnProperty("liftZ")||(_y.liftZ=5)},ua.prototype.setAreas=function(Sa){Sa&&(this.areas=map$1(Sa,function(ba){return generateBrushOption(this.option,ba)},this))},ua.prototype.setBrushOption=function(Sa){this.brushOption=generateBrushOption(this.option,Sa),this.brushType=this.brushOption.brushType},ua.type="brush",ua.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],ua.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},ua}(ComponentModel);function generateBrushOption(ha,ua){return merge({brushType:ha.brushType,brushMode:ha.brushMode,transformable:ha.transformable,brushStyle:new Model(ha.brushStyle).getItemStyle(),removeOnClick:ha.removeOnClick,z:ha.z},ua,!0)}var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(ha){__extends(ua,ha);function ua(){return ha!==null&&ha.apply(this,arguments)||this}return ua.prototype.render=function(Sa,ba,ka){var _y,Ty,Ay;ba.eachComponent({mainType:"brush"},function(Ey){_y=Ey.brushType,Ty=Ey.brushOption.brushMode||"single",Ay=Ay||!!Ey.areas.length}),this._brushType=_y,this._brushMode=Ty,each$f(Sa.get("type",!0),function(Ey){Sa.setIconStatus(Ey,(Ey==="keep"?Ty==="multiple":Ey==="clear"?Ay:Ey===_y)?"emphasis":"normal")})},ua.prototype.updateView=function(Sa,ba,ka){this.render(Sa,ba,ka)},ua.prototype.getIcons=function(){var Sa=this.model,ba=Sa.get("icon",!0),ka={};return each$f(Sa.get("type",!0),function(_y){ba[_y]&&(ka[_y]=ba[_y])}),ka},ua.prototype.onclick=function(Sa,ba,ka){var _y=this._brushType,Ty=this._brushMode;ka==="clear"?(ba.dispatchAction({type:"axisAreaSelect",intervals:[]}),ba.dispatchAction({type:"brush",command:"clear",areas:[]})):ba.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:ka==="keep"?_y:_y===ka?!1:ka,brushMode:ka==="keep"?Ty==="multiple"?"single":"multiple":Ty}})},ua.getDefaultOption=function(Sa){var ba={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:Sa.getLocaleModel().get(["toolbox","brush","title"])};return ba},ua}(ToolboxFeature);function install$h(ha){ha.registerComponentView(BrushView),ha.registerComponentModel(BrushModel),ha.registerPreprocessor(brushPreprocessor),ha.registerVisual(ha.PRIORITY.VISUAL.BRUSH,brushVisual),ha.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(ua,Sa){Sa.eachComponent({mainType:"brush",query:ua},function(ba){ba.setAreas(ua.areas)})}),ha.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),ha.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),registerFeature("brush",BrushFeature)}var TitleModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.layoutMode={type:"box",ignoreSize:!0},Sa}return ua.type="title",ua.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},ua}(ComponentModel),TitleView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.render=function(Sa,ba,ka){if(this.group.removeAll(),!!Sa.get("show")){var _y=this.group,Ty=Sa.getModel("textStyle"),Ay=Sa.getModel("subtextStyle"),Ey=Sa.get("textAlign"),My=retrieve2(Sa.get("textBaseline"),Sa.get("textVerticalAlign")),Dy=new ZRText({style:createTextStyle(Ty,{text:Sa.get("text"),fill:Ty.getTextColor()},{disableBox:!0}),z2:10}),Iy=Dy.getBoundingRect(),Ly=Sa.get("subtext"),Py=new ZRText({style:createTextStyle(Ay,{text:Ly,fill:Ay.getTextColor(),y:Iy.height+Sa.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),Ry=Sa.get("link"),Vy=Sa.get("sublink"),Ny=Sa.get("triggerEvent",!0);Dy.silent=!Ry&&!Ny,Py.silent=!Vy&&!Ny,Ry&&Dy.on("click",function(){windowOpen(Ry,"_"+Sa.get("target"))}),Vy&&Py.on("click",function(){windowOpen(Vy,"_"+Sa.get("subtarget"))}),getECData(Dy).eventData=getECData(Py).eventData=Ny?{componentType:"title",componentIndex:Sa.componentIndex}:null,_y.add(Dy),Ly&&_y.add(Py);var By=_y.getBoundingRect(),Oy=Sa.getBoxLayoutParams();Oy.width=By.width,Oy.height=By.height;var Fy=getLayoutRect(Oy,{width:ka.getWidth(),height:ka.getHeight()},Sa.get("padding"));Ey||(Ey=Sa.get("left")||Sa.get("right"),Ey==="middle"&&(Ey="center"),Ey==="right"?Fy.x+=Fy.width:Ey==="center"&&(Fy.x+=Fy.width/2)),My||(My=Sa.get("top")||Sa.get("bottom"),My==="center"&&(My="middle"),My==="bottom"?Fy.y+=Fy.height:My==="middle"&&(Fy.y+=Fy.height/2),My=My||"top"),_y.x=Fy.x,_y.y=Fy.y,_y.markRedraw();var zy={align:Ey,verticalAlign:My};Dy.setStyle(zy),Py.setStyle(zy),By=_y.getBoundingRect();var Hy=Fy.margin,Gy=Sa.getItemStyle(["color","opacity"]);Gy.fill=Sa.get("backgroundColor");var Wy=new Rect$2({shape:{x:By.x-Hy[3],y:By.y-Hy[0],width:By.width+Hy[1]+Hy[3],height:By.height+Hy[0]+Hy[2],r:Sa.get("borderRadius")},style:Gy,subPixelOptimize:!0,silent:!0});_y.add(Wy)}},ua.type="title",ua}(ComponentView);function install$g(ha){ha.registerComponentModel(TitleModel),ha.registerComponentView(TitleView)}var TimelineModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.layoutMode="box",Sa}return ua.prototype.init=function(Sa,ba,ka){this.mergeDefaultAndTheme(Sa,ka),this._initData()},ua.prototype.mergeOption=function(Sa){ha.prototype.mergeOption.apply(this,arguments),this._initData()},ua.prototype.setCurrentIndex=function(Sa){Sa==null&&(Sa=this.option.currentIndex);var ba=this._data.count();this.option.loop?Sa=(Sa%ba+ba)%ba:(Sa>=ba&&(Sa=ba-1),Sa<0&&(Sa=0)),this.option.currentIndex=Sa},ua.prototype.getCurrentIndex=function(){return this.option.currentIndex},ua.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},ua.prototype.setPlayState=function(Sa){this.option.autoPlay=!!Sa},ua.prototype.getPlayState=function(){return!!this.option.autoPlay},ua.prototype._initData=function(){var Sa=this.option,ba=Sa.data||[],ka=Sa.axisType,_y=this._names=[],Ty;ka==="category"?(Ty=[],each$f(ba,function(My,Dy){var Iy=convertOptionIdName(getDataItemValue(My),""),Ly;isObject$3(My)?(Ly=clone$4(My),Ly.value=Dy):Ly=Dy,Ty.push(Ly),_y.push(Iy)})):Ty=ba;var Ay={category:"ordinal",time:"time",value:"number"}[ka]||"number",Ey=this._data=new SeriesData([{name:"value",type:Ay}],this);Ey.initData(Ty,_y)},ua.prototype.getData=function(){return this._data},ua.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},ua.type="timeline",ua.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},ua}(ComponentModel),SliderTimelineModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="timeline.slider",ua.defaultOption=inheritDefaultOption(TimelineModel.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),ua}(TimelineModel);mixin(SliderTimelineModel,DataFormatMixin.prototype);var TimelineView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="timeline",ua}(ComponentView),TimelineAxis=function(ha){__extends(ua,ha);function ua(Sa,ba,ka,_y){var Ty=ha.call(this,Sa,ba,ka)||this;return Ty.type=_y||"value",Ty}return ua.prototype.getLabelModel=function(){return this.model.getModel("label")},ua.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},ua}(Axis),PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(Sa,ba){this.api=ba},ua.prototype.render=function(Sa,ba,ka){if(this.model=Sa,this.api=ka,this.ecModel=ba,this.group.removeAll(),Sa.get("show",!0)){var _y=this._layout(Sa,ka),Ty=this._createGroup("_mainGroup"),Ay=this._createGroup("_labelGroup"),Ey=this._axis=this._createAxis(_y,Sa);Sa.formatTooltip=function(My){var Dy=Ey.scale.getLabel({value:My});return createTooltipMarkup("nameValue",{noName:!0,value:Dy})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(My){this["_render"+My](_y,Ty,Ey,Sa)},this),this._renderAxisLabel(_y,Ay,Ey,Sa),this._position(_y,Sa)}this._doPlayStop(),this._updateTicksStatus()},ua.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},ua.prototype.dispose=function(){this._clearTimer()},ua.prototype._layout=function(Sa,ba){var ka=Sa.get(["label","position"]),_y=Sa.get("orient"),Ty=getViewRect(Sa,ba),Ay;ka==null||ka==="auto"?Ay=_y==="horizontal"?Ty.y+Ty.height/2<ba.getHeight()/2?"-":"+":Ty.x+Ty.width/2<ba.getWidth()/2?"+":"-":isString(ka)?Ay={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[_y][ka]:Ay=ka;var Ey={horizontal:"center",vertical:Ay>=0||Ay==="+"?"left":"right"},My={horizontal:Ay>=0||Ay==="+"?"top":"bottom",vertical:"middle"},Dy={horizontal:0,vertical:PI/2},Iy=_y==="vertical"?Ty.height:Ty.width,Ly=Sa.getModel("controlStyle"),Py=Ly.get("show",!0),Ry=Py?Ly.get("itemSize"):0,Vy=Py?Ly.get("itemGap"):0,Ny=Ry+Vy,By=Sa.get(["label","rotate"])||0;By=By*PI/180;var Oy,Fy,zy,Hy=Ly.get("position",!0),Gy=Py&&Ly.get("showPlayBtn",!0),Wy=Py&&Ly.get("showPrevBtn",!0),Uy=Py&&Ly.get("showNextBtn",!0),Yy=0,jy=Iy;Hy==="left"||Hy==="bottom"?(Gy&&(Oy=[0,0],Yy+=Ny),Wy&&(Fy=[Yy,0],Yy+=Ny),Uy&&(zy=[jy-Ry,0],jy-=Ny)):(Gy&&(Oy=[jy-Ry,0],jy-=Ny),Wy&&(Fy=[0,0],Yy+=Ny),Uy&&(zy=[jy-Ry,0],jy-=Ny));var Ky=[Yy,jy];return Sa.get("inverse")&&Ky.reverse(),{viewRect:Ty,mainLength:Iy,orient:_y,rotation:Dy[_y],labelRotation:By,labelPosOpt:Ay,labelAlign:Sa.get(["label","align"])||Ey[_y],labelBaseline:Sa.get(["label","verticalAlign"])||Sa.get(["label","baseline"])||My[_y],playPosition:Oy,prevBtnPosition:Fy,nextBtnPosition:zy,axisExtent:Ky,controlSize:Ry,controlGap:Vy}},ua.prototype._position=function(Sa,ba){var ka=this._mainGroup,_y=this._labelGroup,Ty=Sa.viewRect;if(Sa.orient==="vertical"){var Ay=create$1(),Ey=Ty.x,My=Ty.y+Ty.height;translate(Ay,Ay,[-Ey,-My]),rotate(Ay,Ay,-PI/2),translate(Ay,Ay,[Ey,My]),Ty=Ty.clone(),Ty.applyTransform(Ay)}var Dy=Oy(Ty),Iy=Oy(ka.getBoundingRect()),Ly=Oy(_y.getBoundingRect()),Py=[ka.x,ka.y],Ry=[_y.x,_y.y];Ry[0]=Py[0]=Dy[0][0];var Vy=Sa.labelPosOpt;if(Vy==null||isString(Vy)){var Ny=Vy==="+"?0:1;Fy(Py,Iy,Dy,1,Ny),Fy(Ry,Ly,Dy,1,1-Ny)}else{var Ny=Vy>=0?0:1;Fy(Py,Iy,Dy,1,Ny),Ry[1]=Py[1]+Vy}ka.setPosition(Py),_y.setPosition(Ry),ka.rotation=_y.rotation=Sa.rotation,By(ka),By(_y);function By(zy){zy.originX=Dy[0][0]-zy.x,zy.originY=Dy[1][0]-zy.y}function Oy(zy){return[[zy.x,zy.x+zy.width],[zy.y,zy.y+zy.height]]}function Fy(zy,Hy,Gy,Wy,Uy){zy[Wy]+=Gy[Wy][Uy]-Hy[Wy][Uy]}},ua.prototype._createAxis=function(Sa,ba){var ka=ba.getData(),_y=ba.get("axisType"),Ty=createScaleByModel(ba,_y);Ty.getTicks=function(){return ka.mapArray(["value"],function(My){return{value:My}})};var Ay=ka.getDataExtent("value");Ty.setExtent(Ay[0],Ay[1]),Ty.calcNiceTicks();var Ey=new TimelineAxis("value",Ty,Sa.axisExtent,_y);return Ey.model=ba,Ey},ua.prototype._createGroup=function(Sa){var ba=this[Sa]=new Group$3;return this.group.add(ba),ba},ua.prototype._renderAxisLine=function(Sa,ba,ka,_y){var Ty=ka.getExtent();if(_y.get(["lineStyle","show"])){var Ay=new Line$1({shape:{x1:Ty[0],y1:0,x2:Ty[1],y2:0},style:extend({lineCap:"round"},_y.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});ba.add(Ay);var Ey=this._progressLine=new Line$1({shape:{x1:Ty[0],x2:this._currentPointer?this._currentPointer.x:Ty[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:Ay.style.lineWidth},_y.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});ba.add(Ey)}},ua.prototype._renderAxisTick=function(Sa,ba,ka,_y){var Ty=this,Ay=_y.getData(),Ey=ka.scale.getTicks();this._tickSymbols=[],each$f(Ey,function(My){var Dy=ka.dataToCoord(My.value),Iy=Ay.getItemModel(My.value),Ly=Iy.getModel("itemStyle"),Py=Iy.getModel(["emphasis","itemStyle"]),Ry=Iy.getModel(["progress","itemStyle"]),Vy={x:Dy,y:0,onclick:bind$1(Ty._changeTimeline,Ty,My.value)},Ny=giveSymbol(Iy,Ly,ba,Vy);Ny.ensureState("emphasis").style=Py.getItemStyle(),Ny.ensureState("progress").style=Ry.getItemStyle(),enableHoverEmphasis(Ny);var By=getECData(Ny);Iy.get("tooltip")?(By.dataIndex=My.value,By.dataModel=_y):By.dataIndex=By.dataModel=null,Ty._tickSymbols.push(Ny)})},ua.prototype._renderAxisLabel=function(Sa,ba,ka,_y){var Ty=this,Ay=ka.getLabelModel();if(Ay.get("show")){var Ey=_y.getData(),My=ka.getViewLabels();this._tickLabels=[],each$f(My,function(Dy){var Iy=Dy.tickValue,Ly=Ey.getItemModel(Iy),Py=Ly.getModel("label"),Ry=Ly.getModel(["emphasis","label"]),Vy=Ly.getModel(["progress","label"]),Ny=ka.dataToCoord(Dy.tickValue),By=new ZRText({x:Ny,y:0,rotation:Sa.labelRotation-Sa.rotation,onclick:bind$1(Ty._changeTimeline,Ty,Iy),silent:!1,style:createTextStyle(Py,{text:Dy.formattedLabel,align:Sa.labelAlign,verticalAlign:Sa.labelBaseline})});By.ensureState("emphasis").style=createTextStyle(Ry),By.ensureState("progress").style=createTextStyle(Vy),ba.add(By),enableHoverEmphasis(By),labelDataIndexStore(By).dataIndex=Iy,Ty._tickLabels.push(By)})}},ua.prototype._renderControl=function(Sa,ba,ka,_y){var Ty=Sa.controlSize,Ay=Sa.rotation,Ey=_y.getModel("controlStyle").getItemStyle(),My=_y.getModel(["emphasis","controlStyle"]).getItemStyle(),Dy=_y.getPlayState(),Iy=_y.get("inverse",!0);Ly(Sa.nextBtnPosition,"next",bind$1(this._changeTimeline,this,Iy?"-":"+")),Ly(Sa.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,Iy?"+":"-")),Ly(Sa.playPosition,Dy?"stop":"play",bind$1(this._handlePlayClick,this,!Dy),!0);function Ly(Py,Ry,Vy,Ny){if(Py){var By=parsePercent$1(retrieve2(_y.get(["controlStyle",Ry+"BtnSize"]),Ty),Ty),Oy=[0,-By/2,By,By],Fy=makeControlIcon(_y,Ry+"Icon",Oy,{x:Py[0],y:Py[1],originX:Ty/2,originY:0,rotation:Ny?-Ay:0,rectHover:!0,style:Ey,onclick:Vy});Fy.ensureState("emphasis").style=My,ba.add(Fy),enableHoverEmphasis(Fy)}}},ua.prototype._renderCurrentPointer=function(Sa,ba,ka,_y){var Ty=_y.getData(),Ay=_y.getCurrentIndex(),Ey=Ty.getItemModel(Ay).getModel("checkpointStyle"),My=this,Dy={onCreate:function(Iy){Iy.draggable=!0,Iy.drift=bind$1(My._handlePointerDrag,My),Iy.ondragend=bind$1(My._handlePointerDragend,My),pointerMoveTo(Iy,My._progressLine,Ay,ka,_y,!0)},onUpdate:function(Iy){pointerMoveTo(Iy,My._progressLine,Ay,ka,_y)}};this._currentPointer=giveSymbol(Ey,Ey,this._mainGroup,{},this._currentPointer,Dy)},ua.prototype._handlePlayClick=function(Sa){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:Sa,from:this.uid})},ua.prototype._handlePointerDrag=function(Sa,ba,ka){this._clearTimer(),this._pointerChangeTimeline([ka.offsetX,ka.offsetY])},ua.prototype._handlePointerDragend=function(Sa){this._pointerChangeTimeline([Sa.offsetX,Sa.offsetY],!0)},ua.prototype._pointerChangeTimeline=function(Sa,ba){var ka=this._toAxisCoord(Sa)[0],_y=this._axis,Ty=asc$2(_y.getExtent().slice());ka>Ty[1]&&(ka=Ty[1]),ka<Ty[0]&&(ka=Ty[0]),this._currentPointer.x=ka,this._currentPointer.markRedraw();var Ay=this._progressLine;Ay&&(Ay.shape.x2=ka,Ay.dirty());var Ey=this._findNearestTick(ka),My=this.model;(ba||Ey!==My.getCurrentIndex()&&My.get("realtime"))&&this._changeTimeline(Ey)},ua.prototype._doPlayStop=function(){var Sa=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var ba=Sa.model;Sa._changeTimeline(ba.getCurrentIndex()+(ba.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},ua.prototype._toAxisCoord=function(Sa){var ba=this._mainGroup.getLocalTransform();return applyTransform(Sa,ba,!0)},ua.prototype._findNearestTick=function(Sa){var ba=this.model.getData(),ka=1/0,_y,Ty=this._axis;return ba.each(["value"],function(Ay,Ey){var My=Ty.dataToCoord(Ay),Dy=Math.abs(My-Sa);Dy<ka&&(ka=Dy,_y=Ey)}),_y},ua.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},ua.prototype._changeTimeline=function(Sa){var ba=this.model.getCurrentIndex();Sa==="+"?Sa=ba+1:Sa==="-"&&(Sa=ba-1),this.api.dispatchAction({type:"timelineChange",currentIndex:Sa,from:this.uid})},ua.prototype._updateTicksStatus=function(){var Sa=this.model.getCurrentIndex(),ba=this._tickSymbols,ka=this._tickLabels;if(ba)for(var _y=0;_y<ba.length;_y++)ba&&ba[_y]&&ba[_y].toggleState("progress",_y<Sa);if(ka)for(var _y=0;_y<ka.length;_y++)ka&&ka[_y]&&ka[_y].toggleState("progress",labelDataIndexStore(ka[_y]).dataIndex<=Sa)},ua.type="timeline.slider",ua}(TimelineView);function createScaleByModel(ha,ua){if(ua=ua||ha.get("type"),ua)switch(ua){case"category":return new OrdinalScale({ordinalMeta:ha.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:ha.ecModel.getLocaleModel(),useUTC:ha.ecModel.get("useUTC")});default:return new IntervalScale}}function getViewRect(ha,ua){return getLayoutRect(ha.getBoxLayoutParams(),{width:ua.getWidth(),height:ua.getHeight()},ha.get("padding"))}function makeControlIcon(ha,ua,Sa,ba){var ka=ba.style,_y=createIcon(ha.get(["controlStyle",ua]),ba||{},new BoundingRect(Sa[0],Sa[1],Sa[2],Sa[3]));return ka&&_y.setStyle(ka),_y}function giveSymbol(ha,ua,Sa,ba,ka,_y){var Ty=ua.get("color");if(ka)ka.setColor(Ty),Sa.add(ka),_y&&_y.onUpdate(ka);else{var Ay=ha.get("symbol");ka=createSymbol$1(Ay,-1,-1,2,2,Ty),ka.setStyle("strokeNoScale",!0),Sa.add(ka),_y&&_y.onCreate(ka)}var Ey=ua.getItemStyle(["color"]);ka.setStyle(Ey),ba=merge({rectHover:!0,z2:100},ba,!0);var My=normalizeSymbolSize(ha.get("symbolSize"));ba.scaleX=My[0]/2,ba.scaleY=My[1]/2;var Dy=normalizeSymbolOffset(ha.get("symbolOffset"),My);Dy&&(ba.x=(ba.x||0)+Dy[0],ba.y=(ba.y||0)+Dy[1]);var Iy=ha.get("symbolRotate");return ba.rotation=(Iy||0)*Math.PI/180||0,ka.attr(ba),ka.updateTransform(),ka}function pointerMoveTo(ha,ua,Sa,ba,ka,_y){if(!ha.dragging){var Ty=ka.getModel("checkpointStyle"),Ay=ba.dataToCoord(ka.getData().get("value",Sa));if(_y||!Ty.get("animation",!0))ha.attr({x:Ay,y:0}),ua&&ua.attr({shape:{x2:Ay}});else{var Ey={duration:Ty.get("animationDuration",!0),easing:Ty.get("animationEasing",!0)};ha.stopAnimation(null,!0),ha.animateTo({x:Ay,y:0},Ey),ua&&ua.animateTo({shape:{x2:Ay}},Ey)}}}function installTimelineAction(ha){ha.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(ua,Sa,ba){var ka=Sa.getComponent("timeline");return ka&&ua.currentIndex!=null&&(ka.setCurrentIndex(ua.currentIndex),!ka.get("loop",!0)&&ka.isIndexMax()&&ka.getPlayState()&&(ka.setPlayState(!1),ba.dispatchAction({type:"timelinePlayChange",playState:!1,from:ua.from}))),Sa.resetOption("timeline",{replaceMerge:ka.get("replaceMerge",!0)}),defaults({currentIndex:ka.option.currentIndex},ua)}),ha.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(ua,Sa){var ba=Sa.getComponent("timeline");ba&&ua.playState!=null&&ba.setPlayState(ua.playState)})}function timelinePreprocessor(ha){var ua=ha&&ha.timeline;isArray$1(ua)||(ua=ua?[ua]:[]),each$f(ua,function(Sa){Sa&&compatibleEC2(Sa)})}function compatibleEC2(ha){var ua=ha.type,Sa={number:"value",time:"time"};if(Sa[ua]&&(ha.axisType=Sa[ua],delete ha.type),transferItem(ha),has$1(ha,"controlPosition")){var ba=ha.controlStyle||(ha.controlStyle={});has$1(ba,"position")||(ba.position=ha.controlPosition),ba.position==="none"&&!has$1(ba,"show")&&(ba.show=!1,delete ba.position),delete ha.controlPosition}each$f(ha.data||[],function(ka){isObject$3(ka)&&!isArray$1(ka)&&(!has$1(ka,"value")&&has$1(ka,"name")&&(ka.value=ka.name),transferItem(ka))})}function transferItem(ha){var ua=ha.itemStyle||(ha.itemStyle={}),Sa=ua.emphasis||(ua.emphasis={}),ba=ha.label||ha.label||{},ka=ba.normal||(ba.normal={}),_y={normal:1,emphasis:1};each$f(ba,function(Ty,Ay){!_y[Ay]&&!has$1(ka,Ay)&&(ka[Ay]=Ty)}),Sa.label&&!has$1(ba,"emphasis")&&(ba.emphasis=Sa.label,delete Sa.label)}function has$1(ha,ua){return ha.hasOwnProperty(ua)}function install$f(ha){ha.registerComponentModel(SliderTimelineModel),ha.registerComponentView(SliderTimelineView),ha.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(ha),ha.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(ha,ua){if(!ha)return!1;for(var Sa=isArray$1(ha)?ha:[ha],ba=0;ba<Sa.length;ba++)if(Sa[ba]&&Sa[ba][ua])return!0;return!1}function fillLabel(ha){defaultEmphasis(ha,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.createdBySelf=!1,Sa}return ua.prototype.init=function(Sa,ba,ka){this.mergeDefaultAndTheme(Sa,ka),this._mergeOption(Sa,ka,!1,!0)},ua.prototype.isAnimationEnabled=function(){if(env.node)return!1;var Sa=this.__hostSeries;return this.getShallow("animation")&&Sa&&Sa.isAnimationEnabled()},ua.prototype.mergeOption=function(Sa,ba){this._mergeOption(Sa,ba,!1,!1)},ua.prototype._mergeOption=function(Sa,ba,ka,_y){var Ty=this.mainType;ka||ba.eachSeries(function(Ay){var Ey=Ay.get(this.mainType,!0),My=inner$5(Ay)[Ty];if(!Ey||!Ey.data){inner$5(Ay)[Ty]=null;return}My?My._mergeOption(Ey,ba,!0):(_y&&fillLabel(Ey),each$f(Ey.data,function(Dy){Dy instanceof Array?(fillLabel(Dy[0]),fillLabel(Dy[1])):fillLabel(Dy)}),My=this.createMarkerModelFromSeries(Ey,this,ba),extend(My,{mainType:this.mainType,seriesIndex:Ay.seriesIndex,name:Ay.name,createdBySelf:!0}),My.__hostSeries=Ay),inner$5(Ay)[Ty]=My},this)},ua.prototype.formatTooltip=function(Sa,ba,ka){var _y=this.getData(),Ty=this.getRawValue(Sa),Ay=_y.getName(Sa);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:Ay,value:Ty,noName:!Ay,noValue:Ty==null})]})},ua.prototype.getData=function(){return this._data},ua.prototype.setData=function(Sa){this._data=Sa},ua.prototype.getDataParams=function(Sa,ba){var ka=DataFormatMixin.prototype.getDataParams.call(this,Sa,ba),_y=this.__hostSeries;return _y&&(ka.seriesId=_y.id,ka.seriesName=_y.name,ka.seriesType=_y.subType),ka},ua.getMarkerModelFromSeries=function(Sa,ba){return inner$5(Sa)[ba]},ua.type="marker",ua.dependencies=["series","grid","polar","geo"],ua}(ComponentModel);mixin(MarkerModel,DataFormatMixin.prototype);var MarkPointModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.createMarkerModelFromSeries=function(Sa,ba,ka){return new ua(Sa,ba,ka)},ua.type="markPoint",ua.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},ua}(MarkerModel);function hasXOrY(ha){return!(isNaN(parseFloat(ha.x))&&isNaN(parseFloat(ha.y)))}function hasXAndY(ha){return!isNaN(parseFloat(ha.x))&&!isNaN(parseFloat(ha.y))}function markerTypeCalculatorWithExtent(ha,ua,Sa,ba,ka,_y){var Ty=[],Ay=isDimensionStacked(ua,ba),Ey=Ay?ua.getCalculationInfo("stackResultDimension"):ba,My=numCalculate(ua,Ey,ha),Dy=ua.indicesOfNearest(Ey,My)[0];Ty[ka]=ua.get(Sa,Dy),Ty[_y]=ua.get(Ey,Dy);var Iy=ua.get(ba,Dy),Ly=getPrecision(ua.get(ba,Dy));return Ly=Math.min(Ly,20),Ly>=0&&(Ty[_y]=+Ty[_y].toFixed(Ly)),[Ty,Iy]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(ha,ua){if(ua){var Sa=ha.getData(),ba=ha.coordinateSystem,ka=ba&&ba.dimensions;if(!hasXAndY(ua)&&!isArray$1(ua.coord)&&isArray$1(ka)){var _y=getAxisInfo(ua,Sa,ba,ha);if(ua=clone$4(ua),ua.type&&markerTypeCalculator[ua.type]&&_y.baseAxis&&_y.valueAxis){var Ty=indexOf(ka,_y.baseAxis.dim),Ay=indexOf(ka,_y.valueAxis.dim),Ey=markerTypeCalculator[ua.type](Sa,_y.baseDataDim,_y.valueDataDim,Ty,Ay);ua.coord=Ey[0],ua.value=Ey[1]}else ua.coord=[ua.xAxis!=null?ua.xAxis:ua.radiusAxis,ua.yAxis!=null?ua.yAxis:ua.angleAxis]}if(ua.coord==null||!isArray$1(ka))ua.coord=[];else for(var My=ua.coord,Dy=0;Dy<2;Dy++)markerTypeCalculator[My[Dy]]&&(My[Dy]=numCalculate(Sa,Sa.mapDimension(ka[Dy]),My[Dy]));return ua}}function getAxisInfo(ha,ua,Sa,ba){var ka={};return ha.valueIndex!=null||ha.valueDim!=null?(ka.valueDataDim=ha.valueIndex!=null?ua.getDimension(ha.valueIndex):ha.valueDim,ka.valueAxis=Sa.getAxis(dataDimToCoordDim(ba,ka.valueDataDim)),ka.baseAxis=Sa.getOtherAxis(ka.valueAxis),ka.baseDataDim=ua.mapDimension(ka.baseAxis.dim)):(ka.baseAxis=ba.getBaseAxis(),ka.valueAxis=Sa.getOtherAxis(ka.baseAxis),ka.baseDataDim=ua.mapDimension(ka.baseAxis.dim),ka.valueDataDim=ua.mapDimension(ka.valueAxis.dim)),ka}function dataDimToCoordDim(ha,ua){var Sa=ha.getData().getDimensionInfo(ua);return Sa&&Sa.coordDim}function dataFilter(ha,ua){return ha&&ha.containData&&ua.coord&&!hasXOrY(ua)?ha.containData(ua.coord):!0}function zoneFilter(ha,ua,Sa){return ha&&ha.containZone&&ua.coord&&Sa.coord&&!hasXOrY(ua)&&!hasXOrY(Sa)?ha.containZone(ua.coord,Sa.coord):!0}function createMarkerDimValueGetter(ha,ua){return ha?function(Sa,ba,ka,_y){var Ty=_y<2?Sa.coord&&Sa.coord[_y]:Sa.value;return parseDataValue(Ty,ua[_y])}:function(Sa,ba,ka,_y){return parseDataValue(Sa.value,ua[_y])}}function numCalculate(ha,ua,Sa){if(Sa==="average"){var ba=0,ka=0;return ha.each(ua,function(_y,Ty){isNaN(_y)||(ba+=_y,ka++)}),ba/ka}else return Sa==="median"?ha.getMedian(ua):ha.getDataExtent(ua)[Sa==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.init=function(){this.markerGroupMap=createHashMap()},ua.prototype.render=function(Sa,ba,ka){var _y=this,Ty=this.markerGroupMap;Ty.each(function(Ay){inner$4(Ay).keep=!1}),ba.eachSeries(function(Ay){var Ey=MarkerModel.getMarkerModelFromSeries(Ay,_y.type);Ey&&_y.renderSeries(Ay,Ey,ba,ka)}),Ty.each(function(Ay){!inner$4(Ay).keep&&_y.group.remove(Ay.group)})},ua.prototype.markKeep=function(Sa){inner$4(Sa).keep=!0},ua.prototype.toggleBlurSeries=function(Sa,ba){var ka=this;each$f(Sa,function(_y){var Ty=MarkerModel.getMarkerModelFromSeries(_y,ka.type);if(Ty){var Ay=Ty.getData();Ay.eachItemGraphicEl(function(Ey){Ey&&(ba?enterBlur(Ey):leaveBlur(Ey))})}})},ua.type="marker",ua}(ComponentView);function updateMarkerLayout(ha,ua,Sa){var ba=ua.coordinateSystem;ha.each(function(ka){var _y=ha.getItemModel(ka),Ty,Ay=parsePercent(_y.get("x"),Sa.getWidth()),Ey=parsePercent(_y.get("y"),Sa.getHeight());if(!isNaN(Ay)&&!isNaN(Ey))Ty=[Ay,Ey];else if(ua.getMarkerPosition)Ty=ua.getMarkerPosition(ha.getValues(ha.dimensions,ka));else if(ba){var My=ha.get(ba.dimensions[0],ka),Dy=ha.get(ba.dimensions[1],ka);Ty=ba.dataToPoint([My,Dy])}isNaN(Ay)||(Ty[0]=Ay),isNaN(Ey)||(Ty[1]=Ey),ha.setItemLayout(ka,Ty)})}var MarkPointView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.updateTransform=function(Sa,ba,ka){ba.eachSeries(function(_y){var Ty=MarkerModel.getMarkerModelFromSeries(_y,"markPoint");Ty&&(updateMarkerLayout(Ty.getData(),_y,ka),this.markerGroupMap.get(_y.id).updateLayout())},this)},ua.prototype.renderSeries=function(Sa,ba,ka,_y){var Ty=Sa.coordinateSystem,Ay=Sa.id,Ey=Sa.getData(),My=this.markerGroupMap,Dy=My.get(Ay)||My.set(Ay,new SymbolDraw),Iy=createData(Ty,Sa,ba);ba.setData(Iy),updateMarkerLayout(ba.getData(),Sa,_y),Iy.each(function(Ly){var Py=Iy.getItemModel(Ly),Ry=Py.getShallow("symbol"),Vy=Py.getShallow("symbolSize"),Ny=Py.getShallow("symbolRotate"),By=Py.getShallow("symbolOffset"),Oy=Py.getShallow("symbolKeepAspect");if(isFunction(Ry)||isFunction(Vy)||isFunction(Ny)||isFunction(By)){var Fy=ba.getRawValue(Ly),zy=ba.getDataParams(Ly);isFunction(Ry)&&(Ry=Ry(Fy,zy)),isFunction(Vy)&&(Vy=Vy(Fy,zy)),isFunction(Ny)&&(Ny=Ny(Fy,zy)),isFunction(By)&&(By=By(Fy,zy))}var Hy=Py.getModel("itemStyle").getItemStyle(),Gy=getVisualFromData(Ey,"color");Hy.fill||(Hy.fill=Gy),Iy.setItemVisual(Ly,{symbol:Ry,symbolSize:Vy,symbolRotate:Ny,symbolOffset:By,symbolKeepAspect:Oy,style:Hy})}),Dy.updateData(Iy),this.group.add(Dy.group),Iy.eachItemGraphicEl(function(Ly){Ly.traverse(function(Py){getECData(Py).dataModel=ba})}),this.markKeep(Dy),Dy.group.silent=ba.get("silent")||Sa.get("silent")},ua.type="markPoint",ua}(MarkerView);function createData(ha,ua,Sa){var ba;ha?ba=map$1(ha&&ha.dimensions,function(Ay){var Ey=ua.getData().getDimensionInfo(ua.getData().mapDimension(Ay))||{};return extend(extend({},Ey),{name:Ay,ordinalMeta:null})}):ba=[{name:"value",type:"float"}];var ka=new SeriesData(ba,Sa),_y=map$1(Sa.get("data"),curry$1(dataTransform,ua));ha&&(_y=filter(_y,curry$1(dataFilter,ha)));var Ty=createMarkerDimValueGetter(!!ha,ba);return ka.initData(_y,null,Ty),ka}function install$e(ha){ha.registerComponentModel(MarkPointModel),ha.registerComponentView(MarkPointView),ha.registerPreprocessor(function(ua){checkMarkerInSeries(ua.series,"markPoint")&&(ua.markPoint=ua.markPoint||{})})}var MarkLineModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.createMarkerModelFromSeries=function(Sa,ba,ka){return new ua(Sa,ba,ka)},ua.type="markLine",ua.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},ua}(MarkerModel),inner$3=makeInner(),markLineTransform=function(ha,ua,Sa,ba){var ka=ha.getData(),_y;if(isArray$1(ba))_y=ba;else{var Ty=ba.type;if(Ty==="min"||Ty==="max"||Ty==="average"||Ty==="median"||ba.xAxis!=null||ba.yAxis!=null){var Ay=void 0,Ey=void 0;if(ba.yAxis!=null||ba.xAxis!=null)Ay=ua.getAxis(ba.yAxis!=null?"y":"x"),Ey=retrieve(ba.yAxis,ba.xAxis);else{var My=getAxisInfo(ba,ka,ua,ha);Ay=My.valueAxis;var Dy=getStackedDimension(ka,My.valueDataDim);Ey=numCalculate(ka,Dy,Ty)}var Iy=Ay.dim==="x"?0:1,Ly=1-Iy,Py=clone$4(ba),Ry={coord:[]};Py.type=null,Py.coord=[],Py.coord[Ly]=-1/0,Ry.coord[Ly]=1/0;var Vy=Sa.get("precision");Vy>=0&&isNumber(Ey)&&(Ey=+Ey.toFixed(Math.min(Vy,20))),Py.coord[Iy]=Ry.coord[Iy]=Ey,_y=[Py,Ry,{type:Ty,valueIndex:ba.valueIndex,value:Ey}]}else _y=[]}var Ny=[dataTransform(ha,_y[0]),dataTransform(ha,_y[1]),extend({},_y[2])];return Ny[2].type=Ny[2].type||null,merge(Ny[2],Ny[0]),merge(Ny[2],Ny[1]),Ny};function isInfinity$1(ha){return!isNaN(ha)&&!isFinite(ha)}function ifMarkLineHasOnlyDim(ha,ua,Sa,ba){var ka=1-ha,_y=ba.dimensions[ha];return isInfinity$1(ua[ka])&&isInfinity$1(Sa[ka])&&ua[ha]===Sa[ha]&&ba.getAxis(_y).containData(ua[ha])}function markLineFilter(ha,ua){if(ha.type==="cartesian2d"){var Sa=ua[0].coord,ba=ua[1].coord;if(Sa&&ba&&(ifMarkLineHasOnlyDim(1,Sa,ba,ha)||ifMarkLineHasOnlyDim(0,Sa,ba,ha)))return!0}return dataFilter(ha,ua[0])&&dataFilter(ha,ua[1])}function updateSingleMarkerEndLayout(ha,ua,Sa,ba,ka){var _y=ba.coordinateSystem,Ty=ha.getItemModel(ua),Ay,Ey=parsePercent(Ty.get("x"),ka.getWidth()),My=parsePercent(Ty.get("y"),ka.getHeight());if(!isNaN(Ey)&&!isNaN(My))Ay=[Ey,My];else{if(ba.getMarkerPosition)Ay=ba.getMarkerPosition(ha.getValues(ha.dimensions,ua));else{var Dy=_y.dimensions,Iy=ha.get(Dy[0],ua),Ly=ha.get(Dy[1],ua);Ay=_y.dataToPoint([Iy,Ly])}if(isCoordinateSystemType(_y,"cartesian2d")){var Py=_y.getAxis("x"),Ry=_y.getAxis("y"),Dy=_y.dimensions;isInfinity$1(ha.get(Dy[0],ua))?Ay[0]=Py.toGlobalCoord(Py.getExtent()[Sa?0:1]):isInfinity$1(ha.get(Dy[1],ua))&&(Ay[1]=Ry.toGlobalCoord(Ry.getExtent()[Sa?0:1]))}isNaN(Ey)||(Ay[0]=Ey),isNaN(My)||(Ay[1]=My)}ha.setItemLayout(ua,Ay)}var MarkLineView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.updateTransform=function(Sa,ba,ka){ba.eachSeries(function(_y){var Ty=MarkerModel.getMarkerModelFromSeries(_y,"markLine");if(Ty){var Ay=Ty.getData(),Ey=inner$3(Ty).from,My=inner$3(Ty).to;Ey.each(function(Dy){updateSingleMarkerEndLayout(Ey,Dy,!0,_y,ka),updateSingleMarkerEndLayout(My,Dy,!1,_y,ka)}),Ay.each(function(Dy){Ay.setItemLayout(Dy,[Ey.getItemLayout(Dy),My.getItemLayout(Dy)])}),this.markerGroupMap.get(_y.id).updateLayout()}},this)},ua.prototype.renderSeries=function(Sa,ba,ka,_y){var Ty=Sa.coordinateSystem,Ay=Sa.id,Ey=Sa.getData(),My=this.markerGroupMap,Dy=My.get(Ay)||My.set(Ay,new LineDraw);this.group.add(Dy.group);var Iy=createList$1(Ty,Sa,ba),Ly=Iy.from,Py=Iy.to,Ry=Iy.line;inner$3(ba).from=Ly,inner$3(ba).to=Py,ba.setData(Ry);var Vy=ba.get("symbol"),Ny=ba.get("symbolSize"),By=ba.get("symbolRotate"),Oy=ba.get("symbolOffset");isArray$1(Vy)||(Vy=[Vy,Vy]),isArray$1(Ny)||(Ny=[Ny,Ny]),isArray$1(By)||(By=[By,By]),isArray$1(Oy)||(Oy=[Oy,Oy]),Iy.from.each(function(zy){Fy(Ly,zy,!0),Fy(Py,zy,!1)}),Ry.each(function(zy){var Hy=Ry.getItemModel(zy).getModel("lineStyle").getLineStyle();Ry.setItemLayout(zy,[Ly.getItemLayout(zy),Py.getItemLayout(zy)]),Hy.stroke==null&&(Hy.stroke=Ly.getItemVisual(zy,"style").fill),Ry.setItemVisual(zy,{fromSymbolKeepAspect:Ly.getItemVisual(zy,"symbolKeepAspect"),fromSymbolOffset:Ly.getItemVisual(zy,"symbolOffset"),fromSymbolRotate:Ly.getItemVisual(zy,"symbolRotate"),fromSymbolSize:Ly.getItemVisual(zy,"symbolSize"),fromSymbol:Ly.getItemVisual(zy,"symbol"),toSymbolKeepAspect:Py.getItemVisual(zy,"symbolKeepAspect"),toSymbolOffset:Py.getItemVisual(zy,"symbolOffset"),toSymbolRotate:Py.getItemVisual(zy,"symbolRotate"),toSymbolSize:Py.getItemVisual(zy,"symbolSize"),toSymbol:Py.getItemVisual(zy,"symbol"),style:Hy})}),Dy.updateData(Ry),Iy.line.eachItemGraphicEl(function(zy){getECData(zy).dataModel=ba,zy.traverse(function(Hy){getECData(Hy).dataModel=ba})});function Fy(zy,Hy,Gy){var Wy=zy.getItemModel(Hy);updateSingleMarkerEndLayout(zy,Hy,Gy,Sa,_y);var Uy=Wy.getModel("itemStyle").getItemStyle();Uy.fill==null&&(Uy.fill=getVisualFromData(Ey,"color")),zy.setItemVisual(Hy,{symbolKeepAspect:Wy.get("symbolKeepAspect"),symbolOffset:retrieve2(Wy.get("symbolOffset",!0),Oy[Gy?0:1]),symbolRotate:retrieve2(Wy.get("symbolRotate",!0),By[Gy?0:1]),symbolSize:retrieve2(Wy.get("symbolSize"),Ny[Gy?0:1]),symbol:retrieve2(Wy.get("symbol",!0),Vy[Gy?0:1]),style:Uy})}this.markKeep(Dy),Dy.group.silent=ba.get("silent")||Sa.get("silent")},ua.type="markLine",ua}(MarkerView);function createList$1(ha,ua,Sa){var ba;ha?ba=map$1(ha&&ha.dimensions,function(My){var Dy=ua.getData().getDimensionInfo(ua.getData().mapDimension(My))||{};return extend(extend({},Dy),{name:My,ordinalMeta:null})}):ba=[{name:"value",type:"float"}];var ka=new SeriesData(ba,Sa),_y=new SeriesData(ba,Sa),Ty=new SeriesData([],Sa),Ay=map$1(Sa.get("data"),curry$1(markLineTransform,ua,ha,Sa));ha&&(Ay=filter(Ay,curry$1(markLineFilter,ha)));var Ey=createMarkerDimValueGetter(!!ha,ba);return ka.initData(map$1(Ay,function(My){return My[0]}),null,Ey),_y.initData(map$1(Ay,function(My){return My[1]}),null,Ey),Ty.initData(map$1(Ay,function(My){return My[2]})),Ty.hasItemOption=!0,{from:ka,to:_y,line:Ty}}function install$d(ha){ha.registerComponentModel(MarkLineModel),ha.registerComponentView(MarkLineView),ha.registerPreprocessor(function(ua){checkMarkerInSeries(ua.series,"markLine")&&(ua.markLine=ua.markLine||{})})}var MarkAreaModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.createMarkerModelFromSeries=function(Sa,ba,ka){return new ua(Sa,ba,ka)},ua.type="markArea",ua.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},ua}(MarkerModel),inner$2=makeInner(),markAreaTransform=function(ha,ua,Sa,ba){var ka=ba[0],_y=ba[1];if(!(!ka||!_y)){var Ty=dataTransform(ha,ka),Ay=dataTransform(ha,_y),Ey=Ty.coord,My=Ay.coord;Ey[0]=retrieve(Ey[0],-1/0),Ey[1]=retrieve(Ey[1],-1/0),My[0]=retrieve(My[0],1/0),My[1]=retrieve(My[1],1/0);var Dy=mergeAll([{},Ty,Ay]);return Dy.coord=[Ty.coord,Ay.coord],Dy.x0=Ty.x,Dy.y0=Ty.y,Dy.x1=Ay.x,Dy.y1=Ay.y,Dy}};function isInfinity(ha){return!isNaN(ha)&&!isFinite(ha)}function ifMarkAreaHasOnlyDim(ha,ua,Sa,ba){var ka=1-ha;return isInfinity(ua[ka])&&isInfinity(Sa[ka])}function markAreaFilter(ha,ua){var Sa=ua.coord[0],ba=ua.coord[1],ka={coord:Sa,x:ua.x0,y:ua.y0},_y={coord:ba,x:ua.x1,y:ua.y1};return isCoordinateSystemType(ha,"cartesian2d")?Sa&&ba&&(ifMarkAreaHasOnlyDim(1,Sa,ba)||ifMarkAreaHasOnlyDim(0,Sa,ba))?!0:zoneFilter(ha,ka,_y):dataFilter(ha,ka)||dataFilter(ha,_y)}function getSingleMarkerEndPoint(ha,ua,Sa,ba,ka){var _y=ba.coordinateSystem,Ty=ha.getItemModel(ua),Ay,Ey=parsePercent(Ty.get(Sa[0]),ka.getWidth()),My=parsePercent(Ty.get(Sa[1]),ka.getHeight());if(!isNaN(Ey)&&!isNaN(My))Ay=[Ey,My];else{if(ba.getMarkerPosition){var Dy=ha.getValues(["x0","y0"],ua),Iy=ha.getValues(["x1","y1"],ua),Ly=_y.clampData(Dy),Py=_y.clampData(Iy),Ry=[];Sa[0]==="x0"?Ry[0]=Ly[0]>Py[0]?Iy[0]:Dy[0]:Ry[0]=Ly[0]>Py[0]?Dy[0]:Iy[0],Sa[1]==="y0"?Ry[1]=Ly[1]>Py[1]?Iy[1]:Dy[1]:Ry[1]=Ly[1]>Py[1]?Dy[1]:Iy[1],Ay=ba.getMarkerPosition(Ry,Sa,!0)}else{var Vy=ha.get(Sa[0],ua),Ny=ha.get(Sa[1],ua),By=[Vy,Ny];_y.clampData&&_y.clampData(By,By),Ay=_y.dataToPoint(By,!0)}if(isCoordinateSystemType(_y,"cartesian2d")){var Oy=_y.getAxis("x"),Fy=_y.getAxis("y"),Vy=ha.get(Sa[0],ua),Ny=ha.get(Sa[1],ua);isInfinity(Vy)?Ay[0]=Oy.toGlobalCoord(Oy.getExtent()[Sa[0]==="x0"?0:1]):isInfinity(Ny)&&(Ay[1]=Fy.toGlobalCoord(Fy.getExtent()[Sa[1]==="y0"?0:1]))}isNaN(Ey)||(Ay[0]=Ey),isNaN(My)||(Ay[1]=My)}return Ay}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.updateTransform=function(Sa,ba,ka){ba.eachSeries(function(_y){var Ty=MarkerModel.getMarkerModelFromSeries(_y,"markArea");if(Ty){var Ay=Ty.getData();Ay.each(function(Ey){var My=map$1(dimPermutations,function(Iy){return getSingleMarkerEndPoint(Ay,Ey,Iy,_y,ka)});Ay.setItemLayout(Ey,My);var Dy=Ay.getItemGraphicEl(Ey);Dy.setShape("points",My)})}},this)},ua.prototype.renderSeries=function(Sa,ba,ka,_y){var Ty=Sa.coordinateSystem,Ay=Sa.id,Ey=Sa.getData(),My=this.markerGroupMap,Dy=My.get(Ay)||My.set(Ay,{group:new Group$3});this.group.add(Dy.group),this.markKeep(Dy);var Iy=createList(Ty,Sa,ba);ba.setData(Iy),Iy.each(function(Ly){var Py=map$1(dimPermutations,function(Uy){return getSingleMarkerEndPoint(Iy,Ly,Uy,Sa,_y)}),Ry=Ty.getAxis("x").scale,Vy=Ty.getAxis("y").scale,Ny=Ry.getExtent(),By=Vy.getExtent(),Oy=[Ry.parse(Iy.get("x0",Ly)),Ry.parse(Iy.get("x1",Ly))],Fy=[Vy.parse(Iy.get("y0",Ly)),Vy.parse(Iy.get("y1",Ly))];asc$2(Oy),asc$2(Fy);var zy=!(Ny[0]>Oy[1]||Ny[1]<Oy[0]||By[0]>Fy[1]||By[1]<Fy[0]),Hy=!zy;Iy.setItemLayout(Ly,{points:Py,allClipped:Hy});var Gy=Iy.getItemModel(Ly).getModel("itemStyle").getItemStyle(),Wy=getVisualFromData(Ey,"color");Gy.fill||(Gy.fill=Wy,isString(Gy.fill)&&(Gy.fill=modifyAlpha(Gy.fill,.4))),Gy.stroke||(Gy.stroke=Wy),Iy.setItemVisual(Ly,"style",Gy)}),Iy.diff(inner$2(Dy).data).add(function(Ly){var Py=Iy.getItemLayout(Ly);if(!Py.allClipped){var Ry=new Polygon({shape:{points:Py.points}});Iy.setItemGraphicEl(Ly,Ry),Dy.group.add(Ry)}}).update(function(Ly,Py){var Ry=inner$2(Dy).data.getItemGraphicEl(Py),Vy=Iy.getItemLayout(Ly);Vy.allClipped?Ry&&Dy.group.remove(Ry):(Ry?updateProps$1(Ry,{shape:{points:Vy.points}},ba,Ly):Ry=new Polygon({shape:{points:Vy.points}}),Iy.setItemGraphicEl(Ly,Ry),Dy.group.add(Ry))}).remove(function(Ly){var Py=inner$2(Dy).data.getItemGraphicEl(Ly);Dy.group.remove(Py)}).execute(),Iy.eachItemGraphicEl(function(Ly,Py){var Ry=Iy.getItemModel(Py),Vy=Iy.getItemVisual(Py,"style");Ly.useStyle(Iy.getItemVisual(Py,"style")),setLabelStyle(Ly,getLabelStatesModels(Ry),{labelFetcher:ba,labelDataIndex:Py,defaultText:Iy.getName(Py)||"",inheritColor:isString(Vy.fill)?modifyAlpha(Vy.fill,1):"#000"}),setStatesStylesFromModel(Ly,Ry),toggleHoverEmphasis(Ly,null,null,Ry.get(["emphasis","disabled"])),getECData(Ly).dataModel=ba}),inner$2(Dy).data=Iy,Dy.group.silent=ba.get("silent")||Sa.get("silent")},ua.type="markArea",ua}(MarkerView);function createList(ha,ua,Sa){var ba,ka,_y=["x0","y0","x1","y1"];if(ha){var Ty=map$1(ha&&ha.dimensions,function(My){var Dy=ua.getData(),Iy=Dy.getDimensionInfo(Dy.mapDimension(My))||{};return extend(extend({},Iy),{name:My,ordinalMeta:null})});ka=map$1(_y,function(My,Dy){return{name:My,type:Ty[Dy%2].type}}),ba=new SeriesData(ka,Sa)}else ka=[{name:"value",type:"float"}],ba=new SeriesData(ka,Sa);var Ay=map$1(Sa.get("data"),curry$1(markAreaTransform,ua,ha,Sa));ha&&(Ay=filter(Ay,curry$1(markAreaFilter,ha)));var Ey=ha?function(My,Dy,Iy,Ly){var Py=My.coord[Math.floor(Ly/2)][Ly%2];return parseDataValue(Py,ka[Ly])}:function(My,Dy,Iy,Ly){return parseDataValue(My.value,ka[Ly])};return ba.initData(Ay,null,Ey),ba.hasItemOption=!0,ba}function install$c(ha){ha.registerComponentModel(MarkAreaModel),ha.registerComponentView(MarkAreaView),ha.registerPreprocessor(function(ua){checkMarkerInSeries(ua.series,"markArea")&&(ua.markArea=ua.markArea||{})})}var getDefaultSelectorOptions=function(ha,ua){if(ua==="all")return{type:"all",title:ha.getLocaleModel().get(["legend","selector","all"])};if(ua==="inverse")return{type:"inverse",title:ha.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.layoutMode={type:"box",ignoreSize:!0},Sa}return ua.prototype.init=function(Sa,ba,ka){this.mergeDefaultAndTheme(Sa,ka),Sa.selected=Sa.selected||{},this._updateSelector(Sa)},ua.prototype.mergeOption=function(Sa,ba){ha.prototype.mergeOption.call(this,Sa,ba),this._updateSelector(Sa)},ua.prototype._updateSelector=function(Sa){var ba=Sa.selector,ka=this.ecModel;ba===!0&&(ba=Sa.selector=["all","inverse"]),isArray$1(ba)&&each$f(ba,function(_y,Ty){isString(_y)&&(_y={type:_y}),ba[Ty]=merge(_y,getDefaultSelectorOptions(ka,_y.type))})},ua.prototype.optionUpdated=function(){this._updateData(this.ecModel);var Sa=this._data;if(Sa[0]&&this.get("selectedMode")==="single"){for(var ba=!1,ka=0;ka<Sa.length;ka++){var _y=Sa[ka].get("name");if(this.isSelected(_y)){this.select(_y),ba=!0;break}}!ba&&this.select(Sa[0].get("name"))}},ua.prototype._updateData=function(Sa){var ba=[],ka=[];Sa.eachRawSeries(function(Ey){var My=Ey.name;ka.push(My);var Dy;if(Ey.legendVisualProvider){var Iy=Ey.legendVisualProvider,Ly=Iy.getAllNames();Sa.isSeriesFiltered(Ey)||(ka=ka.concat(Ly)),Ly.length?ba=ba.concat(Ly):Dy=!0}else Dy=!0;Dy&&isNameSpecified(Ey)&&ba.push(Ey.name)}),this._availableNames=ka;var _y=this.get("data")||ba,Ty=createHashMap(),Ay=map$1(_y,function(Ey){return(isString(Ey)||isNumber(Ey))&&(Ey={name:Ey}),Ty.get(Ey.name)?null:(Ty.set(Ey.name,!0),new Model(Ey,this,this.ecModel))},this);this._data=filter(Ay,function(Ey){return!!Ey})},ua.prototype.getData=function(){return this._data},ua.prototype.select=function(Sa){var ba=this.option.selected,ka=this.get("selectedMode");if(ka==="single"){var _y=this._data;each$f(_y,function(Ty){ba[Ty.get("name")]=!1})}ba[Sa]=!0},ua.prototype.unSelect=function(Sa){this.get("selectedMode")!=="single"&&(this.option.selected[Sa]=!1)},ua.prototype.toggleSelected=function(Sa){var ba=this.option.selected;ba.hasOwnProperty(Sa)||(ba[Sa]=!0),this[ba[Sa]?"unSelect":"select"](Sa)},ua.prototype.allSelect=function(){var Sa=this._data,ba=this.option.selected;each$f(Sa,function(ka){ba[ka.get("name",!0)]=!0})},ua.prototype.inverseSelect=function(){var Sa=this._data,ba=this.option.selected;each$f(Sa,function(ka){var _y=ka.get("name",!0);ba.hasOwnProperty(_y)||(ba[_y]=!0),ba[_y]=!ba[_y]})},ua.prototype.isSelected=function(Sa){var ba=this.option.selected;return!(ba.hasOwnProperty(Sa)&&!ba[Sa])&&indexOf(this._availableNames,Sa)>=0},ua.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},ua.type="legend.plain",ua.dependencies=["series"],ua.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},ua}(ComponentModel),curry=curry$1,each$3=each$f,Group$1=Group$3,LegendView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.newlineDisabled=!1,Sa}return ua.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},ua.prototype.getContentGroup=function(){return this._contentGroup},ua.prototype.getSelectorGroup=function(){return this._selectorGroup},ua.prototype.render=function(Sa,ba,ka){var _y=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!Sa.get("show",!0)){var Ty=Sa.get("align"),Ay=Sa.get("orient");(!Ty||Ty==="auto")&&(Ty=Sa.get("left")==="right"&&Ay==="vertical"?"right":"left");var Ey=Sa.get("selector",!0),My=Sa.get("selectorPosition",!0);Ey&&(!My||My==="auto")&&(My=Ay==="horizontal"?"end":"start"),this.renderInner(Ty,Sa,ba,ka,Ey,Ay,My);var Dy=Sa.getBoxLayoutParams(),Iy={width:ka.getWidth(),height:ka.getHeight()},Ly=Sa.get("padding"),Py=getLayoutRect(Dy,Iy,Ly),Ry=this.layoutInner(Sa,Ty,Py,_y,Ey,My),Vy=getLayoutRect(defaults({width:Ry.width,height:Ry.height},Dy),Iy,Ly);this.group.x=Vy.x-Ry.x,this.group.y=Vy.y-Ry.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(Ry,Sa))}},ua.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},ua.prototype.renderInner=function(Sa,ba,ka,_y,Ty,Ay,Ey){var My=this.getContentGroup(),Dy=createHashMap(),Iy=ba.get("selectedMode"),Ly=[];ka.eachRawSeries(function(Py){!Py.get("legendHoverLink")&&Ly.push(Py.id)}),each$3(ba.getData(),function(Py,Ry){var Vy=Py.get("name");if(!this.newlineDisabled&&(Vy===""||Vy===`
`)){var Ny=new Group$1;Ny.newline=!0,My.add(Ny);return}var By=ka.getSeriesByName(Vy)[0];if(!Dy.get(Vy))if(By){var Oy=By.getData(),Fy=Oy.getVisual("legendLineStyle")||{},zy=Oy.getVisual("legendIcon"),Hy=Oy.getVisual("style"),Gy=this._createItem(By,Vy,Ry,Py,ba,Sa,Fy,Hy,zy,Iy,_y);Gy.on("click",curry(dispatchSelectAction,Vy,null,_y,Ly)).on("mouseover",curry(dispatchHighlightAction,By.name,null,_y,Ly)).on("mouseout",curry(dispatchDownplayAction,By.name,null,_y,Ly)),ka.ssr&&Gy.eachChild(function(Wy){var Uy=getECData(Wy);Uy.seriesIndex=By.seriesIndex,Uy.dataIndex=Ry,Uy.ssrType="legend"}),Dy.set(Vy,!0)}else ka.eachRawSeries(function(Wy){if(!Dy.get(Vy)&&Wy.legendVisualProvider){var Uy=Wy.legendVisualProvider;if(!Uy.containName(Vy))return;var Yy=Uy.indexOfName(Vy),jy=Uy.getItemVisual(Yy,"style"),Ky=Uy.getItemVisual(Yy,"legendIcon"),Xy=parse(jy.fill);Xy&&Xy[3]===0&&(Xy[3]=.2,jy=extend(extend({},jy),{fill:stringify(Xy,"rgba")}));var Zy=this._createItem(Wy,Vy,Ry,Py,ba,Sa,{},jy,Ky,Iy,_y);Zy.on("click",curry(dispatchSelectAction,null,Vy,_y,Ly)).on("mouseover",curry(dispatchHighlightAction,null,Vy,_y,Ly)).on("mouseout",curry(dispatchDownplayAction,null,Vy,_y,Ly)),ka.ssr&&Zy.eachChild(function(Jy){var t_=getECData(Jy);t_.seriesIndex=Wy.seriesIndex,t_.dataIndex=Ry,t_.ssrType="legend"}),Dy.set(Vy,!0)}},this)},this),Ty&&this._createSelector(Ty,ba,_y,Ay,Ey)},ua.prototype._createSelector=function(Sa,ba,ka,_y,Ty){var Ay=this.getSelectorGroup();each$3(Sa,function(My){var Dy=My.type,Iy=new ZRText({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){ka.dispatchAction({type:Dy==="all"?"legendAllSelect":"legendInverseSelect",legendId:ba.id})}});Ay.add(Iy);var Ly=ba.getModel("selectorLabel"),Py=ba.getModel(["emphasis","selectorLabel"]);setLabelStyle(Iy,{normal:Ly,emphasis:Py},{defaultText:My.title}),enableHoverEmphasis(Iy)})},ua.prototype._createItem=function(Sa,ba,ka,_y,Ty,Ay,Ey,My,Dy,Iy,Ly){var Py=Sa.visualDrawType,Ry=Ty.get("itemWidth"),Vy=Ty.get("itemHeight"),Ny=Ty.isSelected(ba),By=_y.get("symbolRotate"),Oy=_y.get("symbolKeepAspect"),Fy=_y.get("icon");Dy=Fy||Dy||"roundRect";var zy=getLegendStyle(Dy,_y,Ey,My,Py,Ny,Ly),Hy=new Group$1,Gy=_y.getModel("textStyle");if(isFunction(Sa.getLegendIcon)&&(!Fy||Fy==="inherit"))Hy.add(Sa.getLegendIcon({itemWidth:Ry,itemHeight:Vy,icon:Dy,iconRotate:By,itemStyle:zy.itemStyle,lineStyle:zy.lineStyle,symbolKeepAspect:Oy}));else{var Wy=Fy==="inherit"&&Sa.getData().getVisual("symbol")?By==="inherit"?Sa.getData().getVisual("symbolRotate"):By:0;Hy.add(getDefaultLegendIcon({itemWidth:Ry,itemHeight:Vy,icon:Dy,iconRotate:Wy,itemStyle:zy.itemStyle,symbolKeepAspect:Oy}))}var Uy=Ay==="left"?Ry+5:-5,Yy=Ay,jy=Ty.get("formatter"),Ky=ba;isString(jy)&&jy?Ky=jy.replace("{name}",ba??""):isFunction(jy)&&(Ky=jy(ba));var Xy=Ny?Gy.getTextColor():_y.get("inactiveColor");Hy.add(new ZRText({style:createTextStyle(Gy,{text:Ky,x:Uy,y:Vy/2,fill:Xy,align:Yy,verticalAlign:"middle"},{inheritColor:Xy})}));var Zy=new Rect$2({shape:Hy.getBoundingRect(),style:{fill:"transparent"}}),Jy=_y.getModel("tooltip");return Jy.get("show")&&setTooltipConfig({el:Zy,componentModel:Ty,itemName:ba,itemTooltipOption:Jy.option}),Hy.add(Zy),Hy.eachChild(function(t_){t_.silent=!0}),Zy.silent=!Iy,this.getContentGroup().add(Hy),enableHoverEmphasis(Hy),Hy.__legendDataIndex=ka,Hy},ua.prototype.layoutInner=function(Sa,ba,ka,_y,Ty,Ay){var Ey=this.getContentGroup(),My=this.getSelectorGroup();box(Sa.get("orient"),Ey,Sa.get("itemGap"),ka.width,ka.height);var Dy=Ey.getBoundingRect(),Iy=[-Dy.x,-Dy.y];if(My.markRedraw(),Ey.markRedraw(),Ty){box("horizontal",My,Sa.get("selectorItemGap",!0));var Ly=My.getBoundingRect(),Py=[-Ly.x,-Ly.y],Ry=Sa.get("selectorButtonGap",!0),Vy=Sa.getOrient().index,Ny=Vy===0?"width":"height",By=Vy===0?"height":"width",Oy=Vy===0?"y":"x";Ay==="end"?Py[Vy]+=Dy[Ny]+Ry:Iy[Vy]+=Ly[Ny]+Ry,Py[1-Vy]+=Dy[By]/2-Ly[By]/2,My.x=Py[0],My.y=Py[1],Ey.x=Iy[0],Ey.y=Iy[1];var Fy={x:0,y:0};return Fy[Ny]=Dy[Ny]+Ry+Ly[Ny],Fy[By]=Math.max(Dy[By],Ly[By]),Fy[Oy]=Math.min(0,Ly[Oy]+Py[1-Vy]),Fy}else return Ey.x=Iy[0],Ey.y=Iy[1],this.group.getBoundingRect()},ua.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},ua.type="legend.plain",ua}(ComponentView);function getLegendStyle(ha,ua,Sa,ba,ka,_y,Ty){function Ay(Ny,By){Ny.lineWidth==="auto"&&(Ny.lineWidth=By.lineWidth>0?2:0),each$3(Ny,function(Oy,Fy){Ny[Fy]==="inherit"&&(Ny[Fy]=By[Fy])})}var Ey=ua.getModel("itemStyle"),My=Ey.getItemStyle(),Dy=ha.lastIndexOf("empty",0)===0?"fill":"stroke",Iy=Ey.getShallow("decal");My.decal=!Iy||Iy==="inherit"?ba.decal:createOrUpdatePatternFromDecal(Iy,Ty),My.fill==="inherit"&&(My.fill=ba[ka]),My.stroke==="inherit"&&(My.stroke=ba[Dy]),My.opacity==="inherit"&&(My.opacity=(ka==="fill"?ba:Sa).opacity),Ay(My,ba);var Ly=ua.getModel("lineStyle"),Py=Ly.getLineStyle();if(Ay(Py,Sa),My.fill==="auto"&&(My.fill=ba.fill),My.stroke==="auto"&&(My.stroke=ba.fill),Py.stroke==="auto"&&(Py.stroke=ba.fill),!_y){var Ry=ua.get("inactiveBorderWidth"),Vy=My[Dy];My.lineWidth=Ry==="auto"?ba.lineWidth>0&&Vy?2:0:My.lineWidth,My.fill=ua.get("inactiveColor"),My.stroke=ua.get("inactiveBorderColor"),Py.stroke=Ly.get("inactiveColor"),Py.lineWidth=Ly.get("inactiveWidth")}return{itemStyle:My,lineStyle:Py}}function getDefaultLegendIcon(ha){var ua=ha.icon||"roundRect",Sa=createSymbol$1(ua,0,0,ha.itemWidth,ha.itemHeight,ha.itemStyle.fill,ha.symbolKeepAspect);return Sa.setStyle(ha.itemStyle),Sa.rotation=(ha.iconRotate||0)*Math.PI/180,Sa.setOrigin([ha.itemWidth/2,ha.itemHeight/2]),ua.indexOf("empty")>-1&&(Sa.style.stroke=Sa.style.fill,Sa.style.fill="#fff",Sa.style.lineWidth=2),Sa}function dispatchSelectAction(ha,ua,Sa,ba){dispatchDownplayAction(ha,ua,Sa,ba),Sa.dispatchAction({type:"legendToggleSelect",name:ha??ua}),dispatchHighlightAction(ha,ua,Sa,ba)}function isUseHoverLayer(ha){for(var ua=ha.getZr().storage.getDisplayList(),Sa,ba=0,ka=ua.length;ba<ka&&!(Sa=ua[ba].states.emphasis);)ba++;return Sa&&Sa.hoverLayer}function dispatchHighlightAction(ha,ua,Sa,ba){isUseHoverLayer(Sa)||Sa.dispatchAction({type:"highlight",seriesName:ha,name:ua,excludeSeriesId:ba})}function dispatchDownplayAction(ha,ua,Sa,ba){isUseHoverLayer(Sa)||Sa.dispatchAction({type:"downplay",seriesName:ha,name:ua,excludeSeriesId:ba})}function legendFilter(ha){var ua=ha.findComponents({mainType:"legend"});ua&&ua.length&&ha.filterSeries(function(Sa){for(var ba=0;ba<ua.length;ba++)if(!ua[ba].isSelected(Sa.name))return!1;return!0})}function legendSelectActionHandler(ha,ua,Sa){var ba=ha==="allSelect"||ha==="inverseSelect",ka={},_y=[];Sa.eachComponent({mainType:"legend",query:ua},function(Ay){ba?Ay[ha]():Ay[ha](ua.name),makeSelectedMap(Ay,ka),_y.push(Ay.componentIndex)});var Ty={};return Sa.eachComponent("legend",function(Ay){each$f(ka,function(Ey,My){Ay[Ey?"select":"unSelect"](My)}),makeSelectedMap(Ay,Ty)}),ba?{selected:Ty,legendIndex:_y}:{name:ua.name,selected:Ty}}function makeSelectedMap(ha,ua){var Sa=ua||{};return each$f(ha.getData(),function(ba){var ka=ba.get("name");if(!(ka===`
`||ka==="")){var _y=ha.isSelected(ka);hasOwn(Sa,ka)?Sa[ka]=Sa[ka]&&_y:Sa[ka]=_y}}),Sa}function installLegendAction(ha){ha.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),ha.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),ha.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),ha.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),ha.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b(ha){ha.registerComponentModel(LegendModel),ha.registerComponentView(LegendView),ha.registerProcessor(ha.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),ha.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(ha)}var ScrollableLegendModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.setScrollDataIndex=function(Sa){this.option.scrollDataIndex=Sa},ua.prototype.init=function(Sa,ba,ka){var _y=getLayoutParams(Sa);ha.prototype.init.call(this,Sa,ba,ka),mergeAndNormalizeLayoutParams(this,Sa,_y)},ua.prototype.mergeOption=function(Sa,ba){ha.prototype.mergeOption.call(this,Sa,ba),mergeAndNormalizeLayoutParams(this,this.option,Sa)},ua.type="legend.scroll",ua.defaultOption=inheritDefaultOption(LegendModel.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),ua}(LegendModel);function mergeAndNormalizeLayoutParams(ha,ua,Sa){var ba=ha.getOrient(),ka=[1,1];ka[ba.index]=0,mergeLayoutParam(ua,Sa,{type:"box",ignoreSize:!!ka})}var Group=Group$3,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.newlineDisabled=!0,Sa._currentIndex=0,Sa}return ua.prototype.init=function(){ha.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},ua.prototype.resetInner=function(){ha.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},ua.prototype.renderInner=function(Sa,ba,ka,_y,Ty,Ay,Ey){var My=this;ha.prototype.renderInner.call(this,Sa,ba,ka,_y,Ty,Ay,Ey);var Dy=this._controllerGroup,Iy=ba.get("pageIconSize",!0),Ly=isArray$1(Iy)?Iy:[Iy,Iy];Ry("pagePrev",0);var Py=ba.getModel("pageTextStyle");Dy.add(new ZRText({name:"pageText",style:{text:"xx/xx",fill:Py.getTextColor(),font:Py.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),Ry("pageNext",1);function Ry(Vy,Ny){var By=Vy+"DataIndex",Oy=createIcon(ba.get("pageIcons",!0)[ba.getOrient().name][Ny],{onclick:bind$1(My._pageGo,My,By,ba,_y)},{x:-Ly[0]/2,y:-Ly[1]/2,width:Ly[0],height:Ly[1]});Oy.name=Vy,Dy.add(Oy)}},ua.prototype.layoutInner=function(Sa,ba,ka,_y,Ty,Ay){var Ey=this.getSelectorGroup(),My=Sa.getOrient().index,Dy=WH[My],Iy=XY[My],Ly=WH[1-My],Py=XY[1-My];Ty&&box("horizontal",Ey,Sa.get("selectorItemGap",!0));var Ry=Sa.get("selectorButtonGap",!0),Vy=Ey.getBoundingRect(),Ny=[-Vy.x,-Vy.y],By=clone$4(ka);Ty&&(By[Dy]=ka[Dy]-Vy[Dy]-Ry);var Oy=this._layoutContentAndController(Sa,_y,By,My,Dy,Ly,Py,Iy);if(Ty){if(Ay==="end")Ny[My]+=Oy[Dy]+Ry;else{var Fy=Vy[Dy]+Ry;Ny[My]-=Fy,Oy[Iy]-=Fy}Oy[Dy]+=Vy[Dy]+Ry,Ny[1-My]+=Oy[Py]+Oy[Ly]/2-Vy[Ly]/2,Oy[Ly]=Math.max(Oy[Ly],Vy[Ly]),Oy[Py]=Math.min(Oy[Py],Vy[Py]+Ny[1-My]),Ey.x=Ny[0],Ey.y=Ny[1],Ey.markRedraw()}return Oy},ua.prototype._layoutContentAndController=function(Sa,ba,ka,_y,Ty,Ay,Ey,My){var Dy=this.getContentGroup(),Iy=this._containerGroup,Ly=this._controllerGroup;box(Sa.get("orient"),Dy,Sa.get("itemGap"),_y?ka.width:null,_y?null:ka.height),box("horizontal",Ly,Sa.get("pageButtonItemGap",!0));var Py=Dy.getBoundingRect(),Ry=Ly.getBoundingRect(),Vy=this._showController=Py[Ty]>ka[Ty],Ny=[-Py.x,-Py.y];ba||(Ny[_y]=Dy[My]);var By=[0,0],Oy=[-Ry.x,-Ry.y],Fy=retrieve2(Sa.get("pageButtonGap",!0),Sa.get("itemGap",!0));if(Vy){var zy=Sa.get("pageButtonPosition",!0);zy==="end"?Oy[_y]+=ka[Ty]-Ry[Ty]:By[_y]+=Ry[Ty]+Fy}Oy[1-_y]+=Py[Ay]/2-Ry[Ay]/2,Dy.setPosition(Ny),Iy.setPosition(By),Ly.setPosition(Oy);var Hy={x:0,y:0};if(Hy[Ty]=Vy?ka[Ty]:Py[Ty],Hy[Ay]=Math.max(Py[Ay],Ry[Ay]),Hy[Ey]=Math.min(0,Ry[Ey]+Oy[1-_y]),Iy.__rectSize=ka[Ty],Vy){var Gy={x:0,y:0};Gy[Ty]=Math.max(ka[Ty]-Ry[Ty]-Fy,0),Gy[Ay]=Hy[Ay],Iy.setClipPath(new Rect$2({shape:Gy})),Iy.__rectSize=Gy[Ty]}else Ly.eachChild(function(Uy){Uy.attr({invisible:!0,silent:!0})});var Wy=this._getPageInfo(Sa);return Wy.pageIndex!=null&&updateProps$1(Dy,{x:Wy.contentPosition[0],y:Wy.contentPosition[1]},Vy?Sa:null),this._updatePageInfoView(Sa,Wy),Hy},ua.prototype._pageGo=function(Sa,ba,ka){var _y=this._getPageInfo(ba)[Sa];_y!=null&&ka.dispatchAction({type:"legendScroll",scrollDataIndex:_y,legendId:ba.id})},ua.prototype._updatePageInfoView=function(Sa,ba){var ka=this._controllerGroup;each$f(["pagePrev","pageNext"],function(Dy){var Iy=Dy+"DataIndex",Ly=ba[Iy]!=null,Py=ka.childOfName(Dy);Py&&(Py.setStyle("fill",Ly?Sa.get("pageIconColor",!0):Sa.get("pageIconInactiveColor",!0)),Py.cursor=Ly?"pointer":"default")});var _y=ka.childOfName("pageText"),Ty=Sa.get("pageFormatter"),Ay=ba.pageIndex,Ey=Ay!=null?Ay+1:0,My=ba.pageCount;_y&&Ty&&_y.setStyle("text",isString(Ty)?Ty.replace("{current}",Ey==null?"":Ey+"").replace("{total}",My==null?"":My+""):Ty({current:Ey,total:My}))},ua.prototype._getPageInfo=function(Sa){var ba=Sa.get("scrollDataIndex",!0),ka=this.getContentGroup(),_y=this._containerGroup.__rectSize,Ty=Sa.getOrient().index,Ay=WH[Ty],Ey=XY[Ty],My=this._findTargetItemIndex(ba),Dy=ka.children(),Iy=Dy[My],Ly=Dy.length,Py=Ly?1:0,Ry={contentPosition:[ka.x,ka.y],pageCount:Py,pageIndex:Py-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!Iy)return Ry;var Vy=zy(Iy);Ry.contentPosition[Ty]=-Vy.s;for(var Ny=My+1,By=Vy,Oy=Vy,Fy=null;Ny<=Ly;++Ny)Fy=zy(Dy[Ny]),(!Fy&&Oy.e>By.s+_y||Fy&&!Hy(Fy,By.s))&&(Oy.i>By.i?By=Oy:By=Fy,By&&(Ry.pageNextDataIndex==null&&(Ry.pageNextDataIndex=By.i),++Ry.pageCount)),Oy=Fy;for(var Ny=My-1,By=Vy,Oy=Vy,Fy=null;Ny>=-1;--Ny)Fy=zy(Dy[Ny]),(!Fy||!Hy(Oy,Fy.s))&&By.i<Oy.i&&(Oy=By,Ry.pagePrevDataIndex==null&&(Ry.pagePrevDataIndex=By.i),++Ry.pageCount,++Ry.pageIndex),By=Fy;return Ry;function zy(Gy){if(Gy){var Wy=Gy.getBoundingRect(),Uy=Wy[Ey]+Gy[Ey];return{s:Uy,e:Uy+Wy[Ay],i:Gy.__legendDataIndex}}}function Hy(Gy,Wy){return Gy.e>=Wy&&Gy.s<=Wy+_y}},ua.prototype._findTargetItemIndex=function(Sa){if(!this._showController)return 0;var ba,ka=this.getContentGroup(),_y;return ka.eachChild(function(Ty,Ay){var Ey=Ty.__legendDataIndex;_y==null&&Ey!=null&&(_y=Ay),Ey===Sa&&(ba=Ay)}),ba??_y},ua.type="legend.scroll",ua}(LegendView);function installScrollableLegendAction(ha){ha.registerAction("legendScroll","legendscroll",function(ua,Sa){var ba=ua.scrollDataIndex;ba!=null&&Sa.eachComponent({mainType:"legend",subType:"scroll",query:ua},function(ka){ka.setScrollDataIndex(ba)})})}function install$a(ha){use(install$b),ha.registerComponentModel(ScrollableLegendModel),ha.registerComponentView(ScrollableLegendView),installScrollableLegendAction(ha)}function install$9(ha){use(install$b),use(install$a)}var InsideZoomModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="dataZoom.inside",ua.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),ua}(DataZoomModel),inner$1=makeInner();function setViewInfoToCoordSysRecord(ha,ua,Sa){inner$1(ha).coordSysRecordMap.each(function(ba){var ka=ba.dataZoomInfoMap.get(ua.uid);ka&&(ka.getRange=Sa)})}function disposeCoordSysRecordIfNeeded(ha,ua){for(var Sa=inner$1(ha).coordSysRecordMap,ba=Sa.keys(),ka=0;ka<ba.length;ka++){var _y=ba[ka],Ty=Sa.get(_y),Ay=Ty.dataZoomInfoMap;if(Ay){var Ey=ua.uid,My=Ay.get(Ey);My&&(Ay.removeKey(Ey),Ay.keys().length||disposeCoordSysRecord(Sa,Ty))}}}function disposeCoordSysRecord(ha,ua){if(ua){ha.removeKey(ua.model.uid);var Sa=ua.controller;Sa&&Sa.dispose()}}function createCoordSysRecord(ha,ua){var Sa={model:ua,containsPoint:curry$1(containsPoint,ua),dispatchAction:curry$1(dispatchAction,ha),dataZoomInfoMap:null,controller:null},ba=Sa.controller=new RoamController(ha.getZr());return each$f(["pan","zoom","scrollMove"],function(ka){ba.on(ka,function(_y){var Ty=[];Sa.dataZoomInfoMap.each(function(Ay){if(_y.isAvailableBehavior(Ay.model.option)){var Ey=(Ay.getRange||{})[ka],My=Ey&&Ey(Ay.dzReferCoordSysInfo,Sa.model.mainType,Sa.controller,_y);!Ay.model.get("disabled",!0)&&My&&Ty.push({dataZoomId:Ay.model.id,start:My[0],end:My[1]})}}),Ty.length&&Sa.dispatchAction(Ty)})}),Sa}function dispatchAction(ha,ua){ha.isDisposed()||ha.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:ua})}function containsPoint(ha,ua,Sa,ba){return ha.coordinateSystem.containPoint([Sa,ba])}function mergeControllerParams(ha){var ua,Sa="type_",ba={type_true:2,type_move:1,type_false:0,type_undefined:-1},ka=!0;return ha.each(function(_y){var Ty=_y.model,Ay=Ty.get("disabled",!0)?!1:Ty.get("zoomLock",!0)?"move":!0;ba[Sa+Ay]>ba[Sa+ua]&&(ua=Ay),ka=ka&&Ty.get("preventDefaultMouseMove",!0)}),{controlType:ua,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!ka}}}function installDataZoomRoamProcessor(ha){ha.registerProcessor(ha.PRIORITY.PROCESSOR.FILTER,function(ua,Sa){var ba=inner$1(Sa),ka=ba.coordSysRecordMap||(ba.coordSysRecordMap=createHashMap());ka.each(function(_y){_y.dataZoomInfoMap=null}),ua.eachComponent({mainType:"dataZoom",subType:"inside"},function(_y){var Ty=collectReferCoordSysModelInfo(_y);each$f(Ty.infoList,function(Ay){var Ey=Ay.model.uid,My=ka.get(Ey)||ka.set(Ey,createCoordSysRecord(Sa,Ay.model)),Dy=My.dataZoomInfoMap||(My.dataZoomInfoMap=createHashMap());Dy.set(_y.uid,{dzReferCoordSysInfo:Ay,model:_y,getRange:null})})}),ka.each(function(_y){var Ty=_y.controller,Ay,Ey=_y.dataZoomInfoMap;if(Ey){var My=Ey.keys()[0];My!=null&&(Ay=Ey.get(My))}if(!Ay){disposeCoordSysRecord(ka,_y);return}var Dy=mergeControllerParams(Ey);Ty.enable(Dy.controlType,Dy.opt),Ty.setPointerChecker(_y.containsPoint),createOrUpdate(_y,"dispatchAction",Ay.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type="dataZoom.inside",Sa}return ua.prototype.render=function(Sa,ba,ka){if(ha.prototype.render.apply(this,arguments),Sa.noTarget()){this._clear();return}this.range=Sa.getPercentRange(),setViewInfoToCoordSysRecord(ka,Sa,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},ua.prototype.dispose=function(){this._clear(),ha.prototype.dispose.apply(this,arguments)},ua.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},ua.type="dataZoom.inside",ua}(DataZoomView),getRangeHandlers={zoom:function(ha,ua,Sa,ba){var ka=this.range,_y=ka.slice(),Ty=ha.axisModels[0];if(Ty){var Ay=getDirectionInfo[ua](null,[ba.originX,ba.originY],Ty,Sa,ha),Ey=(Ay.signal>0?Ay.pixelStart+Ay.pixelLength-Ay.pixel:Ay.pixel-Ay.pixelStart)/Ay.pixelLength*(_y[1]-_y[0])+_y[0],My=Math.max(1/ba.scale,0);_y[0]=(_y[0]-Ey)*My+Ey,_y[1]=(_y[1]-Ey)*My+Ey;var Dy=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,_y,[0,100],0,Dy.minSpan,Dy.maxSpan),this.range=_y,ka[0]!==_y[0]||ka[1]!==_y[1])return _y}},pan:makeMover(function(ha,ua,Sa,ba,ka,_y){var Ty=getDirectionInfo[ba]([_y.oldX,_y.oldY],[_y.newX,_y.newY],ua,ka,Sa);return Ty.signal*(ha[1]-ha[0])*Ty.pixel/Ty.pixelLength}),scrollMove:makeMover(function(ha,ua,Sa,ba,ka,_y){var Ty=getDirectionInfo[ba]([0,0],[_y.scrollDelta,_y.scrollDelta],ua,ka,Sa);return Ty.signal*(ha[1]-ha[0])*_y.scrollDelta})};function makeMover(ha){return function(ua,Sa,ba,ka){var _y=this.range,Ty=_y.slice(),Ay=ua.axisModels[0];if(Ay){var Ey=ha(Ty,Ay,ua,Sa,ba,ka);if(sliderMove(Ey,Ty,[0,100],"all"),this.range=Ty,_y[0]!==Ty[0]||_y[1]!==Ty[1])return Ty}}}var getDirectionInfo={grid:function(ha,ua,Sa,ba,ka){var _y=Sa.axis,Ty={},Ay=ka.model.coordinateSystem.getRect();return ha=ha||[0,0],_y.dim==="x"?(Ty.pixel=ua[0]-ha[0],Ty.pixelLength=Ay.width,Ty.pixelStart=Ay.x,Ty.signal=_y.inverse?1:-1):(Ty.pixel=ua[1]-ha[1],Ty.pixelLength=Ay.height,Ty.pixelStart=Ay.y,Ty.signal=_y.inverse?-1:1),Ty},polar:function(ha,ua,Sa,ba,ka){var _y=Sa.axis,Ty={},Ay=ka.model.coordinateSystem,Ey=Ay.getRadiusAxis().getExtent(),My=Ay.getAngleAxis().getExtent();return ha=ha?Ay.pointToCoord(ha):[0,0],ua=Ay.pointToCoord(ua),Sa.mainType==="radiusAxis"?(Ty.pixel=ua[0]-ha[0],Ty.pixelLength=Ey[1]-Ey[0],Ty.pixelStart=Ey[0],Ty.signal=_y.inverse?1:-1):(Ty.pixel=ua[1]-ha[1],Ty.pixelLength=My[1]-My[0],Ty.pixelStart=My[0],Ty.signal=_y.inverse?-1:1),Ty},singleAxis:function(ha,ua,Sa,ba,ka){var _y=Sa.axis,Ty=ka.model.coordinateSystem.getRect(),Ay={};return ha=ha||[0,0],_y.orient==="horizontal"?(Ay.pixel=ua[0]-ha[0],Ay.pixelLength=Ty.width,Ay.pixelStart=Ty.x,Ay.signal=_y.inverse?1:-1):(Ay.pixel=ua[1]-ha[1],Ay.pixelLength=Ty.height,Ay.pixelStart=Ty.y,Ay.signal=_y.inverse?-1:1),Ay}};function install$8(ha){installCommon$1(ha),ha.registerComponentModel(InsideZoomModel),ha.registerComponentView(InsideZoomView),installDataZoomRoamProcessor(ha)}var SliderZoomModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.type="dataZoom.slider",ua.layoutMode="box",ua.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),ua}(DataZoomModel),Rect=Rect$2,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa._displayables={},Sa}return ua.prototype.init=function(Sa,ba){this.api=ba,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},ua.prototype.render=function(Sa,ba,ka,_y){if(ha.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",Sa.get("throttle"),"fixRate"),this._orient=Sa.getOrient(),Sa.get("show")===!1){this.group.removeAll();return}if(Sa.noTarget()){this._clear(),this.group.removeAll();return}(!_y||_y.type!=="dataZoom"||_y.from!==this.uid)&&this._buildView(),this._updateView()},ua.prototype.dispose=function(){this._clear(),ha.prototype.dispose.apply(this,arguments)},ua.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var Sa=this.api.getZr();Sa.off("mousemove",this._onBrush),Sa.off("mouseup",this._onBrushEnd)},ua.prototype._buildView=function(){var Sa=this.group;Sa.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var ba=this._displayables.sliderGroup=new Group$3;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),Sa.add(ba),this._positionGroup()},ua.prototype._resetLocation=function(){var Sa=this.dataZoomModel,ba=this.api,ka=Sa.get("brushSelect"),_y=ka?DEFAULT_MOVE_HANDLE_SIZE:0,Ty=this._findCoordRect(),Ay={width:ba.getWidth(),height:ba.getHeight()},Ey=this._orient===HORIZONTAL?{right:Ay.width-Ty.x-Ty.width,top:Ay.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-_y,width:Ty.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:Ty.y,width:DEFAULT_FILLER_SIZE,height:Ty.height},My=getLayoutParams(Sa.option);each$f(["right","top","width","height"],function(Iy){My[Iy]==="ph"&&(My[Iy]=Ey[Iy])});var Dy=getLayoutRect(My,Ay);this._location={x:Dy.x,y:Dy.y},this._size=[Dy.width,Dy.height],this._orient===VERTICAL&&this._size.reverse()},ua.prototype._positionGroup=function(){var Sa=this.group,ba=this._location,ka=this._orient,_y=this.dataZoomModel.getFirstTargetAxisModel(),Ty=_y&&_y.get("inverse"),Ay=this._displayables.sliderGroup,Ey=(this._dataShadowInfo||{}).otherAxisInverse;Ay.attr(ka===HORIZONTAL&&!Ty?{scaleY:Ey?1:-1,scaleX:1}:ka===HORIZONTAL&&Ty?{scaleY:Ey?1:-1,scaleX:-1}:ka===VERTICAL&&!Ty?{scaleY:Ey?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:Ey?-1:1,scaleX:-1,rotation:Math.PI/2});var My=Sa.getBoundingRect([Ay]);Sa.x=ba.x-My.x,Sa.y=ba.y-My.y,Sa.markRedraw()},ua.prototype._getViewExtent=function(){return[0,this._size[0]]},ua.prototype._renderBackground=function(){var Sa=this.dataZoomModel,ba=this._size,ka=this._displayables.sliderGroup,_y=Sa.get("brushSelect");ka.add(new Rect({silent:!0,shape:{x:0,y:0,width:ba[0],height:ba[1]},style:{fill:Sa.get("backgroundColor")},z2:-40}));var Ty=new Rect({shape:{x:0,y:0,width:ba[0],height:ba[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),Ay=this.api.getZr();_y?(Ty.on("mousedown",this._onBrushStart,this),Ty.cursor="crosshair",Ay.on("mousemove",this._onBrush),Ay.on("mouseup",this._onBrushEnd)):(Ay.off("mousemove",this._onBrush),Ay.off("mouseup",this._onBrushEnd)),ka.add(Ty)},ua.prototype._renderDataShadow=function(){var Sa=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!Sa)return;var ba=this._size,ka=this._shadowSize||[],_y=Sa.series,Ty=_y.getRawData(),Ay=_y.getShadowDim&&_y.getShadowDim(),Ey=Ay&&Ty.getDimensionInfo(Ay)?_y.getShadowDim():Sa.otherDim;if(Ey==null)return;var My=this._shadowPolygonPts,Dy=this._shadowPolylinePts;if(Ty!==this._shadowData||Ey!==this._shadowDim||ba[0]!==ka[0]||ba[1]!==ka[1]){var Iy=Ty.getDataExtent(Ey),Ly=(Iy[1]-Iy[0])*.3;Iy=[Iy[0]-Ly,Iy[1]+Ly];var Py=[0,ba[1]],Ry=[0,ba[0]],Vy=[[ba[0],0],[0,0]],Ny=[],By=Ry[1]/(Ty.count()-1),Oy=0,Fy=Math.round(Ty.count()/ba[0]),zy;Ty.each([Ey],function(Yy,jy){if(Fy>0&&jy%Fy){Oy+=By;return}var Ky=Yy==null||isNaN(Yy)||Yy==="",Xy=Ky?0:linearMap$2(Yy,Iy,Py,!0);Ky&&!zy&&jy?(Vy.push([Vy[Vy.length-1][0],0]),Ny.push([Ny[Ny.length-1][0],0])):!Ky&&zy&&(Vy.push([Oy,0]),Ny.push([Oy,0])),Vy.push([Oy,Xy]),Ny.push([Oy,Xy]),Oy+=By,zy=Ky}),My=this._shadowPolygonPts=Vy,Dy=this._shadowPolylinePts=Ny}this._shadowData=Ty,this._shadowDim=Ey,this._shadowSize=[ba[0],ba[1]];var Hy=this.dataZoomModel;function Gy(Yy){var jy=Hy.getModel(Yy?"selectedDataBackground":"dataBackground"),Ky=new Group$3,Xy=new Polygon({shape:{points:My},segmentIgnoreThreshold:1,style:jy.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Zy=new Polyline$1({shape:{points:Dy},segmentIgnoreThreshold:1,style:jy.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return Ky.add(Xy),Ky.add(Zy),Ky}for(var Wy=0;Wy<3;Wy++){var Uy=Gy(Wy===1);this._displayables.sliderGroup.add(Uy),this._displayables.dataShadowSegs.push(Uy)}},ua.prototype._prepareDataShadowInfo=function(){var Sa=this.dataZoomModel,ba=Sa.get("showDataShadow");if(ba!==!1){var ka,_y=this.ecModel;return Sa.eachTargetAxis(function(Ty,Ay){var Ey=Sa.getAxisProxy(Ty,Ay).getTargetSeriesModels();each$f(Ey,function(My){if(!ka&&!(ba!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,My.get("type"))<0)){var Dy=_y.getComponent(getAxisMainType(Ty),Ay).axis,Iy=getOtherDim(Ty),Ly,Py=My.coordinateSystem;Iy!=null&&Py.getOtherAxis&&(Ly=Py.getOtherAxis(Dy).inverse),Iy=My.getData().mapDimension(Iy),ka={thisAxis:Dy,series:My,thisDim:Ty,otherDim:Iy,otherAxisInverse:Ly}}},this)},this),ka}},ua.prototype._renderHandle=function(){var Sa=this.group,ba=this._displayables,ka=ba.handles=[null,null],_y=ba.handleLabels=[null,null],Ty=this._displayables.sliderGroup,Ay=this._size,Ey=this.dataZoomModel,My=this.api,Dy=Ey.get("borderRadius")||0,Iy=Ey.get("brushSelect"),Ly=ba.filler=new Rect({silent:Iy,style:{fill:Ey.get("fillerColor")},textConfig:{position:"inside"}});Ty.add(Ly),Ty.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:Ay[0],height:Ay[1],r:Dy},style:{stroke:Ey.get("dataBackgroundColor")||Ey.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(Fy){var zy=Ey.get("handleIcon");!symbolBuildProxies[zy]&&zy.indexOf("path://")<0&&zy.indexOf("image://")<0&&(zy="path://"+zy);var Hy=createSymbol$1(zy,-1,0,2,2,null,!0);Hy.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,Fy),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var Gy=Hy.getBoundingRect(),Wy=Ey.get("handleSize");this._handleHeight=parsePercent(Wy,this._size[1]),this._handleWidth=Gy.width/Gy.height*this._handleHeight,Hy.setStyle(Ey.getModel("handleStyle").getItemStyle()),Hy.style.strokeNoScale=!0,Hy.rectHover=!0,Hy.ensureState("emphasis").style=Ey.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(Hy);var Uy=Ey.get("handleColor");Uy!=null&&(Hy.style.fill=Uy),Ty.add(ka[Fy]=Hy);var Yy=Ey.getModel("textStyle"),jy=Ey.get("handleLabel")||{},Ky=jy.show||!1;Sa.add(_y[Fy]=new ZRText({silent:!0,invisible:!Ky,style:createTextStyle(Yy,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:Yy.getTextColor(),font:Yy.getFont()}),z2:10}))},this);var Py=Ly;if(Iy){var Ry=parsePercent(Ey.get("moveHandleSize"),Ay[1]),Vy=ba.moveHandle=new Rect$2({style:Ey.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:Ay[1]-.5,height:Ry}}),Ny=Ry*.8,By=ba.moveHandleIcon=createSymbol$1(Ey.get("moveHandleIcon"),-Ny/2,-Ny/2,Ny,Ny,"#fff",!0);By.silent=!0,By.y=Ay[1]+Ry/2-.5,Vy.ensureState("emphasis").style=Ey.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var Oy=Math.min(Ay[1]/2,Math.max(Ry,10));Py=ba.moveZone=new Rect$2({invisible:!0,shape:{y:Ay[1]-Oy,height:Ry+Oy}}),Py.on("mouseover",function(){My.enterEmphasis(Vy)}).on("mouseout",function(){My.leaveEmphasis(Vy)}),Ty.add(Vy),Ty.add(By),Ty.add(Py)}Py.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},ua.prototype._resetInterval=function(){var Sa=this._range=this.dataZoomModel.getPercentRange(),ba=this._getViewExtent();this._handleEnds=[linearMap$2(Sa[0],[0,100],ba,!0),linearMap$2(Sa[1],[0,100],ba,!0)]},ua.prototype._updateInterval=function(Sa,ba){var ka=this.dataZoomModel,_y=this._handleEnds,Ty=this._getViewExtent(),Ay=ka.findRepresentativeAxisProxy().getMinMaxSpan(),Ey=[0,100];sliderMove(ba,_y,Ty,ka.get("zoomLock")?"all":Sa,Ay.minSpan!=null?linearMap$2(Ay.minSpan,Ey,Ty,!0):null,Ay.maxSpan!=null?linearMap$2(Ay.maxSpan,Ey,Ty,!0):null);var My=this._range,Dy=this._range=asc$2([linearMap$2(_y[0],Ty,Ey,!0),linearMap$2(_y[1],Ty,Ey,!0)]);return!My||My[0]!==Dy[0]||My[1]!==Dy[1]},ua.prototype._updateView=function(Sa){var ba=this._displayables,ka=this._handleEnds,_y=asc$2(ka.slice()),Ty=this._size;each$f([0,1],function(Py){var Ry=ba.handles[Py],Vy=this._handleHeight;Ry.attr({scaleX:Vy/2,scaleY:Vy/2,x:ka[Py]+(Py?-1:1),y:Ty[1]/2-Vy/2})},this),ba.filler.setShape({x:_y[0],y:0,width:_y[1]-_y[0],height:Ty[1]});var Ay={x:_y[0],width:_y[1]-_y[0]};ba.moveHandle&&(ba.moveHandle.setShape(Ay),ba.moveZone.setShape(Ay),ba.moveZone.getBoundingRect(),ba.moveHandleIcon&&ba.moveHandleIcon.attr("x",Ay.x+Ay.width/2));for(var Ey=ba.dataShadowSegs,My=[0,_y[0],_y[1],Ty[0]],Dy=0;Dy<Ey.length;Dy++){var Iy=Ey[Dy],Ly=Iy.getClipPath();Ly||(Ly=new Rect$2,Iy.setClipPath(Ly)),Ly.setShape({x:My[Dy],y:0,width:My[Dy+1]-My[Dy],height:Ty[1]})}this._updateDataInfo(Sa)},ua.prototype._updateDataInfo=function(Sa){var ba=this.dataZoomModel,ka=this._displayables,_y=ka.handleLabels,Ty=this._orient,Ay=["",""];if(ba.get("showDetail")){var Ey=ba.findRepresentativeAxisProxy();if(Ey){var My=Ey.getAxisModel().axis,Dy=this._range,Iy=Sa?Ey.calculateDataWindow({start:Dy[0],end:Dy[1]}).valueWindow:Ey.getDataValueWindow();Ay=[this._formatLabel(Iy[0],My),this._formatLabel(Iy[1],My)]}}var Ly=asc$2(this._handleEnds.slice());Py.call(this,0),Py.call(this,1);function Py(Ry){var Vy=getTransform$1(ka.handles[Ry].parent,this.group),Ny=transformDirection(Ry===0?"right":"left",Vy),By=this._handleWidth/2+LABEL_GAP,Oy=applyTransform([Ly[Ry]+(Ry===0?-By:By),this._size[1]/2],Vy);_y[Ry].setStyle({x:Oy[0],y:Oy[1],verticalAlign:Ty===HORIZONTAL?"middle":Ny,align:Ty===HORIZONTAL?Ny:"center",text:Ay[Ry]})}},ua.prototype._formatLabel=function(Sa,ba){var ka=this.dataZoomModel,_y=ka.get("labelFormatter"),Ty=ka.get("labelPrecision");(Ty==null||Ty==="auto")&&(Ty=ba.getPixelPrecision());var Ay=Sa==null||isNaN(Sa)?"":ba.type==="category"||ba.type==="time"?ba.scale.getLabel({value:Math.round(Sa)}):Sa.toFixed(Math.min(Ty,20));return isFunction(_y)?_y(Sa,Ay):isString(_y)?_y.replace("{value}",Ay):Ay},ua.prototype._showDataInfo=function(Sa){var ba=this.dataZoomModel.get("handleLabel")||{},ka=ba.show||!1,_y=this.dataZoomModel.getModel(["emphasis","handleLabel"]),Ty=_y.get("show")||!1,Ay=Sa||this._dragging?Ty:ka,Ey=this._displayables,My=Ey.handleLabels;My[0].attr("invisible",!Ay),My[1].attr("invisible",!Ay),Ey.moveHandle&&this.api[Ay?"enterEmphasis":"leaveEmphasis"](Ey.moveHandle,1)},ua.prototype._onDragMove=function(Sa,ba,ka,_y){this._dragging=!0,stop(_y.event);var Ty=this._displayables.sliderGroup.getLocalTransform(),Ay=applyTransform([ba,ka],Ty,!0),Ey=this._updateInterval(Sa,Ay[0]),My=this.dataZoomModel.get("realtime");this._updateView(!My),Ey&&My&&this._dispatchZoomAction(!0)},ua.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var Sa=this.dataZoomModel.get("realtime");!Sa&&this._dispatchZoomAction(!1)},ua.prototype._onClickPanel=function(Sa){var ba=this._size,ka=this._displayables.sliderGroup.transformCoordToLocal(Sa.offsetX,Sa.offsetY);if(!(ka[0]<0||ka[0]>ba[0]||ka[1]<0||ka[1]>ba[1])){var _y=this._handleEnds,Ty=(_y[0]+_y[1])/2,Ay=this._updateInterval("all",ka[0]-Ty);this._updateView(),Ay&&this._dispatchZoomAction(!1)}},ua.prototype._onBrushStart=function(Sa){var ba=Sa.offsetX,ka=Sa.offsetY;this._brushStart=new Point(ba,ka),this._brushing=!0,this._brushStartTime=+new Date},ua.prototype._onBrushEnd=function(Sa){if(this._brushing){var ba=this._displayables.brushRect;if(this._brushing=!1,!!ba){ba.attr("ignore",!0);var ka=ba.shape,_y=+new Date;if(!(_y-this._brushStartTime<200&&Math.abs(ka.width)<5)){var Ty=this._getViewExtent(),Ay=[0,100];this._range=asc$2([linearMap$2(ka.x,Ty,Ay,!0),linearMap$2(ka.x+ka.width,Ty,Ay,!0)]),this._handleEnds=[ka.x,ka.x+ka.width],this._updateView(),this._dispatchZoomAction(!1)}}}},ua.prototype._onBrush=function(Sa){this._brushing&&(stop(Sa.event),this._updateBrushRect(Sa.offsetX,Sa.offsetY))},ua.prototype._updateBrushRect=function(Sa,ba){var ka=this._displayables,_y=this.dataZoomModel,Ty=ka.brushRect;Ty||(Ty=ka.brushRect=new Rect({silent:!0,style:_y.getModel("brushStyle").getItemStyle()}),ka.sliderGroup.add(Ty)),Ty.attr("ignore",!1);var Ay=this._brushStart,Ey=this._displayables.sliderGroup,My=Ey.transformCoordToLocal(Sa,ba),Dy=Ey.transformCoordToLocal(Ay.x,Ay.y),Iy=this._size;My[0]=Math.max(Math.min(Iy[0],My[0]),0),Ty.setShape({x:Dy[0],y:0,width:My[0]-Dy[0],height:Iy[1]})},ua.prototype._dispatchZoomAction=function(Sa){var ba=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:Sa?REALTIME_ANIMATION_CONFIG:null,start:ba[0],end:ba[1]})},ua.prototype._findCoordRect=function(){var Sa,ba=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!Sa&&ba.length){var ka=ba[0].model.coordinateSystem;Sa=ka.getRect&&ka.getRect()}if(!Sa){var _y=this.api.getWidth(),Ty=this.api.getHeight();Sa={x:_y*.2,y:Ty*.2,width:_y*.6,height:Ty*.6}}return Sa},ua.type="dataZoom.slider",ua}(DataZoomView);function getOtherDim(ha){var ua={x:"y",y:"x",radius:"angle",angle:"radius"};return ua[ha]}function getCursor$1(ha){return ha==="vertical"?"ns-resize":"ew-resize"}function install$7(ha){ha.registerComponentModel(SliderZoomModel),ha.registerComponentView(SliderZoomView),installCommon$1(ha)}function install$6(ha){use(install$8),use(install$7)}var visualDefault={get:function(ha,ua,Sa){var ba=clone$4((defaultOption[ha]||{})[ua]);return Sa&&isArray$1(ba)?ba[ba.length-1]:ba}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},mapVisual=VisualMapping.mapVisual,eachVisual=VisualMapping.eachVisual,isArray=isArray$1,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.stateList=["inRange","outOfRange"],Sa.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],Sa.layoutMode={type:"box",ignoreSize:!0},Sa.dataBound=[-1/0,1/0],Sa.targetVisuals={},Sa.controllerVisuals={},Sa}return ua.prototype.init=function(Sa,ba,ka){this.mergeDefaultAndTheme(Sa,ka)},ua.prototype.optionUpdated=function(Sa,ba){var ka=this.option;!ba&&replaceVisualOption(ka,Sa,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},ua.prototype.resetVisual=function(Sa){var ba=this.stateList;Sa=bind$1(Sa,this),this.controllerVisuals=createVisualMappings(this.option.controller,ba,Sa),this.targetVisuals=createVisualMappings(this.option.target,ba,Sa)},ua.prototype.getItemSymbol=function(){return null},ua.prototype.getTargetSeriesIndices=function(){var Sa=this.option.seriesIndex,ba=[];return Sa==null||Sa==="all"?this.ecModel.eachSeries(function(ka,_y){ba.push(_y)}):ba=normalizeToArray(Sa),ba},ua.prototype.eachTargetSeries=function(Sa,ba){each$f(this.getTargetSeriesIndices(),function(ka){var _y=this.ecModel.getSeriesByIndex(ka);_y&&Sa.call(ba,_y)},this)},ua.prototype.isTargetSeries=function(Sa){var ba=!1;return this.eachTargetSeries(function(ka){ka===Sa&&(ba=!0)}),ba},ua.prototype.formatValueText=function(Sa,ba,ka){var _y=this.option,Ty=_y.precision,Ay=this.dataBound,Ey=_y.formatter,My;ka=ka||["<",">"],isArray$1(Sa)&&(Sa=Sa.slice(),My=!0);var Dy=ba?Sa:My?[Iy(Sa[0]),Iy(Sa[1])]:Iy(Sa);if(isString(Ey))return Ey.replace("{value}",My?Dy[0]:Dy).replace("{value2}",My?Dy[1]:Dy);if(isFunction(Ey))return My?Ey(Sa[0],Sa[1]):Ey(Sa);if(My)return Sa[0]===Ay[0]?ka[0]+" "+Dy[1]:Sa[1]===Ay[1]?ka[1]+" "+Dy[0]:Dy[0]+" - "+Dy[1];return Dy;function Iy(Ly){return Ly===Ay[0]?"min":Ly===Ay[1]?"max":(+Ly).toFixed(Math.min(Ty,20))}},ua.prototype.resetExtent=function(){var Sa=this.option,ba=asc([Sa.min,Sa.max]);this._dataExtent=ba},ua.prototype.getDataDimensionIndex=function(Sa){var ba=this.option.dimension;if(ba!=null)return Sa.getDimensionIndex(ba);for(var ka=Sa.dimensions,_y=ka.length-1;_y>=0;_y--){var Ty=ka[_y],Ay=Sa.getDimensionInfo(Ty);if(!Ay.isCalculationCoord)return Ay.storeDimIndex}},ua.prototype.getExtent=function(){return this._dataExtent.slice()},ua.prototype.completeVisualOption=function(){var Sa=this.ecModel,ba=this.option,ka={inRange:ba.inRange,outOfRange:ba.outOfRange},_y=ba.target||(ba.target={}),Ty=ba.controller||(ba.controller={});merge(_y,ka),merge(Ty,ka);var Ay=this.isCategory();Ey.call(this,_y),Ey.call(this,Ty),My.call(this,_y,"inRange","outOfRange"),Dy.call(this,Ty);function Ey(Iy){isArray(ba.color)&&!Iy.inRange&&(Iy.inRange={color:ba.color.slice().reverse()}),Iy.inRange=Iy.inRange||{color:Sa.get("gradientColor")}}function My(Iy,Ly,Py){var Ry=Iy[Ly],Vy=Iy[Py];Ry&&!Vy&&(Vy=Iy[Py]={},each$2(Ry,function(Ny,By){if(VisualMapping.isValidType(By)){var Oy=visualDefault.get(By,"inactive",Ay);Oy!=null&&(Vy[By]=Oy,By==="color"&&!Vy.hasOwnProperty("opacity")&&!Vy.hasOwnProperty("colorAlpha")&&(Vy.opacity=[0,0]))}}))}function Dy(Iy){var Ly=(Iy.inRange||{}).symbol||(Iy.outOfRange||{}).symbol,Py=(Iy.inRange||{}).symbolSize||(Iy.outOfRange||{}).symbolSize,Ry=this.get("inactiveColor"),Vy=this.getItemSymbol(),Ny=Vy||"roundRect";each$2(this.stateList,function(By){var Oy=this.itemSize,Fy=Iy[By];Fy||(Fy=Iy[By]={color:Ay?Ry:[Ry]}),Fy.symbol==null&&(Fy.symbol=Ly&&clone$4(Ly)||(Ay?Ny:[Ny])),Fy.symbolSize==null&&(Fy.symbolSize=Py&&clone$4(Py)||(Ay?Oy[0]:[Oy[0],Oy[0]])),Fy.symbol=mapVisual(Fy.symbol,function(Gy){return Gy==="none"?Ny:Gy});var zy=Fy.symbolSize;if(zy!=null){var Hy=-1/0;eachVisual(zy,function(Gy){Gy>Hy&&(Hy=Gy)}),Fy.symbolSize=mapVisual(zy,function(Gy){return linearMap$1(Gy,[0,Hy],[0,Oy[0]],!0)})}},this)}},ua.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},ua.prototype.isCategory=function(){return!!this.option.categories},ua.prototype.setSelected=function(Sa){},ua.prototype.getSelected=function(){return null},ua.prototype.getValueState=function(Sa){return null},ua.prototype.getVisualMeta=function(Sa){return null},ua.type="visualMap",ua.dependencies=["series"],ua.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},ua}(ComponentModel),DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.optionUpdated=function(Sa,ba){ha.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(ka){ka.mappingMethod="linear",ka.dataExtent=this.getExtent()}),this._resetRange()},ua.prototype.resetItemSize=function(){ha.prototype.resetItemSize.apply(this,arguments);var Sa=this.itemSize;(Sa[0]==null||isNaN(Sa[0]))&&(Sa[0]=DEFAULT_BAR_BOUND[0]),(Sa[1]==null||isNaN(Sa[1]))&&(Sa[1]=DEFAULT_BAR_BOUND[1])},ua.prototype._resetRange=function(){var Sa=this.getExtent(),ba=this.option.range;!ba||ba.auto?(Sa.auto=1,this.option.range=Sa):isArray$1(ba)&&(ba[0]>ba[1]&&ba.reverse(),ba[0]=Math.max(ba[0],Sa[0]),ba[1]=Math.min(ba[1],Sa[1]))},ua.prototype.completeVisualOption=function(){ha.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(Sa){var ba=this.option.controller[Sa].symbolSize;ba&&ba[0]!==ba[1]&&(ba[0]=ba[1]/3)},this)},ua.prototype.setSelected=function(Sa){this.option.range=Sa.slice(),this._resetRange()},ua.prototype.getSelected=function(){var Sa=this.getExtent(),ba=asc$2((this.get("range")||[]).slice());return ba[0]>Sa[1]&&(ba[0]=Sa[1]),ba[1]>Sa[1]&&(ba[1]=Sa[1]),ba[0]<Sa[0]&&(ba[0]=Sa[0]),ba[1]<Sa[0]&&(ba[1]=Sa[0]),ba},ua.prototype.getValueState=function(Sa){var ba=this.option.range,ka=this.getExtent();return(ba[0]<=ka[0]||ba[0]<=Sa)&&(ba[1]>=ka[1]||Sa<=ba[1])?"inRange":"outOfRange"},ua.prototype.findTargetDataIndices=function(Sa){var ba=[];return this.eachTargetSeries(function(ka){var _y=[],Ty=ka.getData();Ty.each(this.getDataDimensionIndex(Ty),function(Ay,Ey){Sa[0]<=Ay&&Ay<=Sa[1]&&_y.push(Ey)},this),ba.push({seriesId:ka.id,dataIndex:_y})},this),ba},ua.prototype.getVisualMeta=function(Sa){var ba=getColorStopValues(this,"outOfRange",this.getExtent()),ka=getColorStopValues(this,"inRange",this.option.range.slice()),_y=[];function Ty(Py,Ry){_y.push({value:Py,color:Sa(Py,Ry)})}for(var Ay=0,Ey=0,My=ka.length,Dy=ba.length;Ey<Dy&&(!ka.length||ba[Ey]<=ka[0]);Ey++)ba[Ey]<ka[Ay]&&Ty(ba[Ey],"outOfRange");for(var Iy=1;Ay<My;Ay++,Iy=0)Iy&&_y.length&&Ty(ka[Ay],"outOfRange"),Ty(ka[Ay],"inRange");for(var Iy=1;Ey<Dy;Ey++)(!ka.length||ka[ka.length-1]<ba[Ey])&&(Iy&&(_y.length&&Ty(_y[_y.length-1].value,"outOfRange"),Iy=0),Ty(ba[Ey],"outOfRange"));var Ly=_y.length;return{stops:_y,outerColors:[Ly?_y[0].color:"transparent",Ly?_y[Ly-1].color:"transparent"]}},ua.type="visualMap.continuous",ua.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),ua}(VisualMapModel);function getColorStopValues(ha,ua,Sa){if(Sa[0]===Sa[1])return Sa.slice();for(var ba=200,ka=(Sa[1]-Sa[0])/ba,_y=Sa[0],Ty=[],Ay=0;Ay<=ba&&_y<Sa[1];Ay++)Ty.push(_y),_y+=ka;return Ty.push(Sa[1]),Ty}var VisualMapView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa.autoPositionValues={left:1,right:1,top:1,bottom:1},Sa}return ua.prototype.init=function(Sa,ba){this.ecModel=Sa,this.api=ba},ua.prototype.render=function(Sa,ba,ka,_y){if(this.visualMapModel=Sa,Sa.get("show")===!1){this.group.removeAll();return}this.doRender(Sa,ba,ka,_y)},ua.prototype.renderBackground=function(Sa){var ba=this.visualMapModel,ka=normalizeCssArray(ba.get("padding")||0),_y=Sa.getBoundingRect();Sa.add(new Rect$2({z2:-1,silent:!0,shape:{x:_y.x-ka[3],y:_y.y-ka[0],width:_y.width+ka[3]+ka[1],height:_y.height+ka[0]+ka[2]},style:{fill:ba.get("backgroundColor"),stroke:ba.get("borderColor"),lineWidth:ba.get("borderWidth")}}))},ua.prototype.getControllerVisual=function(Sa,ba,ka){ka=ka||{};var _y=ka.forceState,Ty=this.visualMapModel,Ay={};if(ba==="color"){var Ey=Ty.get("contentColor");Ay.color=Ey}function My(Py){return Ay[Py]}function Dy(Py,Ry){Ay[Py]=Ry}var Iy=Ty.controllerVisuals[_y||Ty.getValueState(Sa)],Ly=VisualMapping.prepareVisualTypes(Iy);return each$f(Ly,function(Py){var Ry=Iy[Py];ka.convertOpacityToAlpha&&Py==="opacity"&&(Py="colorAlpha",Ry=Iy.__alphaForOpacity),VisualMapping.dependsOn(Py,ba)&&Ry&&Ry.applyVisual(Sa,My,Dy)}),Ay[ba]},ua.prototype.positionGroup=function(Sa){var ba=this.visualMapModel,ka=this.api;positionElement(Sa,ba.getBoxLayoutParams(),{width:ka.getWidth(),height:ka.getHeight()})},ua.prototype.doRender=function(Sa,ba,ka,_y){},ua.type="visualMap",ua}(ComponentView),paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(ha,ua,Sa){var ba=ha.option,ka=ba.align;if(ka!=null&&ka!=="auto")return ka;for(var _y={width:ua.getWidth(),height:ua.getHeight()},Ty=ba.orient==="horizontal"?1:0,Ay=paramsSet[Ty],Ey=[0,null,10],My={},Dy=0;Dy<3;Dy++)My[paramsSet[1-Ty][Dy]]=Ey[Dy],My[Ay[Dy]]=Dy===2?Sa[0]:ba[Ay[Dy]];var Iy=[["x","width",3],["y","height",0]][Ty],Ly=getLayoutRect(My,_y,ba.padding);return Ay[(Ly.margin[Iy[2]]||0)+Ly[Iy[0]]+Ly[Iy[1]]*.5<_y[Iy[1]]*.5?0:1]}function makeHighDownBatch(ha,ua){return each$f(ha||[],function(Sa){Sa.dataIndex!=null&&(Sa.dataIndexInside=Sa.dataIndex,Sa.dataIndex=null),Sa.highlightKey="visualMap"+(ua?ua.componentIndex:"")}),ha}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa._shapes={},Sa._dataInterval=[],Sa._handleEnds=[],Sa._hoverLinkDataIndices=[],Sa}return ua.prototype.init=function(Sa,ba){ha.prototype.init.call(this,Sa,ba),this._hoverLinkFromSeriesMouseOver=bind$1(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=bind$1(this._hideIndicator,this)},ua.prototype.doRender=function(Sa,ba,ka,_y){(!_y||_y.type!=="selectDataRange"||_y.from!==this.uid)&&this._buildView()},ua.prototype._buildView=function(){this.group.removeAll();var Sa=this.visualMapModel,ba=this.group;this._orient=Sa.get("orient"),this._useHandle=Sa.get("calculable"),this._resetInterval(),this._renderBar(ba);var ka=Sa.get("text");this._renderEndsText(ba,ka,0),this._renderEndsText(ba,ka,1),this._updateView(!0),this.renderBackground(ba),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(ba)},ua.prototype._renderEndsText=function(Sa,ba,ka){if(ba){var _y=ba[1-ka];_y=_y!=null?_y+"":"";var Ty=this.visualMapModel,Ay=Ty.get("textGap"),Ey=Ty.itemSize,My=this._shapes.mainGroup,Dy=this._applyTransform([Ey[0]/2,ka===0?-Ay:Ey[1]+Ay],My),Iy=this._applyTransform(ka===0?"bottom":"top",My),Ly=this._orient,Py=this.visualMapModel.textStyleModel;this.group.add(new ZRText({style:createTextStyle(Py,{x:Dy[0],y:Dy[1],verticalAlign:Ly==="horizontal"?"middle":Iy,align:Ly==="horizontal"?Iy:"center",text:_y})}))}},ua.prototype._renderBar=function(Sa){var ba=this.visualMapModel,ka=this._shapes,_y=ba.itemSize,Ty=this._orient,Ay=this._useHandle,Ey=getItemAlign(ba,this.api,_y),My=ka.mainGroup=this._createBarGroup(Ey),Dy=new Group$3;My.add(Dy),Dy.add(ka.outOfRange=createPolygon()),Dy.add(ka.inRange=createPolygon(null,Ay?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),Dy.setClipPath(new Rect$2({shape:{x:0,y:0,width:_y[0],height:_y[1],r:3}}));var Iy=ba.textStyleModel.getTextRect("国"),Ly=mathMax(Iy.width,Iy.height);Ay&&(ka.handleThumbs=[],ka.handleLabels=[],ka.handleLabelPoints=[],this._createHandle(ba,My,0,_y,Ly,Ty),this._createHandle(ba,My,1,_y,Ly,Ty)),this._createIndicator(ba,My,_y,Ly,Ty),Sa.add(My)},ua.prototype._createHandle=function(Sa,ba,ka,_y,Ty,Ay){var Ey=bind$1(this._dragHandle,this,ka,!1),My=bind$1(this._dragHandle,this,ka,!0),Dy=parsePercent$1(Sa.get("handleSize"),_y[0]),Iy=createSymbol$1(Sa.get("handleIcon"),-Dy/2,-Dy/2,Dy,Dy,null,!0),Ly=getCursor(this._orient);Iy.attr({cursor:Ly,draggable:!0,drift:Ey,ondragend:My,onmousemove:function(By){stop(By.event)}}),Iy.x=_y[0]/2,Iy.useStyle(Sa.getModel("handleStyle").getItemStyle()),Iy.setStyle({strokeNoScale:!0,strokeFirst:!0}),Iy.style.lineWidth*=2,Iy.ensureState("emphasis").style=Sa.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(Iy,!0),ba.add(Iy);var Py=this.visualMapModel.textStyleModel,Ry=new ZRText({cursor:Ly,draggable:!0,drift:Ey,onmousemove:function(By){stop(By.event)},ondragend:My,style:createTextStyle(Py,{x:0,y:0,text:""})});Ry.ensureState("blur").style={opacity:.1},Ry.stateTransition={duration:200},this.group.add(Ry);var Vy=[Dy,0],Ny=this._shapes;Ny.handleThumbs[ka]=Iy,Ny.handleLabelPoints[ka]=Vy,Ny.handleLabels[ka]=Ry},ua.prototype._createIndicator=function(Sa,ba,ka,_y,Ty){var Ay=parsePercent$1(Sa.get("indicatorSize"),ka[0]),Ey=createSymbol$1(Sa.get("indicatorIcon"),-Ay/2,-Ay/2,Ay,Ay,null,!0);Ey.attr({cursor:"move",invisible:!0,silent:!0,x:ka[0]/2});var My=Sa.getModel("indicatorStyle").getItemStyle();if(Ey instanceof ZRImage){var Dy=Ey.style;Ey.useStyle(extend({image:Dy.image,x:Dy.x,y:Dy.y,width:Dy.width,height:Dy.height},My))}else Ey.useStyle(My);ba.add(Ey);var Iy=this.visualMapModel.textStyleModel,Ly=new ZRText({silent:!0,invisible:!0,style:createTextStyle(Iy,{x:0,y:0,text:""})});this.group.add(Ly);var Py=[(Ty==="horizontal"?_y/2:HOVER_LINK_OUT)+ka[0]/2,0],Ry=this._shapes;Ry.indicator=Ey,Ry.indicatorLabel=Ly,Ry.indicatorLabelPoint=Py,this._firstShowIndicator=!0},ua.prototype._dragHandle=function(Sa,ba,ka,_y){if(this._useHandle){if(this._dragging=!ba,!ba){var Ty=this._applyTransform([ka,_y],this._shapes.mainGroup,!0);this._updateInterval(Sa,Ty[1]),this._hideIndicator(),this._updateView()}ba===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),ba?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[Sa],!1)}},ua.prototype._resetInterval=function(){var Sa=this.visualMapModel,ba=this._dataInterval=Sa.getSelected(),ka=Sa.getExtent(),_y=[0,Sa.itemSize[1]];this._handleEnds=[linearMap(ba[0],ka,_y,!0),linearMap(ba[1],ka,_y,!0)]},ua.prototype._updateInterval=function(Sa,ba){ba=ba||0;var ka=this.visualMapModel,_y=this._handleEnds,Ty=[0,ka.itemSize[1]];sliderMove(ba,_y,Ty,Sa,0);var Ay=ka.getExtent();this._dataInterval=[linearMap(_y[0],Ty,Ay,!0),linearMap(_y[1],Ty,Ay,!0)]},ua.prototype._updateView=function(Sa){var ba=this.visualMapModel,ka=ba.getExtent(),_y=this._shapes,Ty=[0,ba.itemSize[1]],Ay=Sa?Ty:this._handleEnds,Ey=this._createBarVisual(this._dataInterval,ka,Ay,"inRange"),My=this._createBarVisual(ka,ka,Ty,"outOfRange");_y.inRange.setStyle({fill:Ey.barColor}).setShape("points",Ey.barPoints),_y.outOfRange.setStyle({fill:My.barColor}).setShape("points",My.barPoints),this._updateHandle(Ay,Ey)},ua.prototype._createBarVisual=function(Sa,ba,ka,_y){var Ty={forceState:_y,convertOpacityToAlpha:!0},Ay=this._makeColorGradient(Sa,Ty),Ey=[this.getControllerVisual(Sa[0],"symbolSize",Ty),this.getControllerVisual(Sa[1],"symbolSize",Ty)],My=this._createBarPoints(ka,Ey);return{barColor:new LinearGradient(0,0,0,1,Ay),barPoints:My,handlesColor:[Ay[0].color,Ay[Ay.length-1].color]}},ua.prototype._makeColorGradient=function(Sa,ba){var ka=100,_y=[],Ty=(Sa[1]-Sa[0])/ka;_y.push({color:this.getControllerVisual(Sa[0],"color",ba),offset:0});for(var Ay=1;Ay<ka;Ay++){var Ey=Sa[0]+Ty*Ay;if(Ey>Sa[1])break;_y.push({color:this.getControllerVisual(Ey,"color",ba),offset:Ay/ka})}return _y.push({color:this.getControllerVisual(Sa[1],"color",ba),offset:1}),_y},ua.prototype._createBarPoints=function(Sa,ba){var ka=this.visualMapModel.itemSize;return[[ka[0]-ba[0],Sa[0]],[ka[0],Sa[0]],[ka[0],Sa[1]],[ka[0]-ba[1],Sa[1]]]},ua.prototype._createBarGroup=function(Sa){var ba=this._orient,ka=this.visualMapModel.get("inverse");return new Group$3(ba==="horizontal"&&!ka?{scaleX:Sa==="bottom"?1:-1,rotation:Math.PI/2}:ba==="horizontal"&&ka?{scaleX:Sa==="bottom"?-1:1,rotation:-Math.PI/2}:ba==="vertical"&&!ka?{scaleX:Sa==="left"?1:-1,scaleY:-1}:{scaleX:Sa==="left"?1:-1})},ua.prototype._updateHandle=function(Sa,ba){if(this._useHandle){var ka=this._shapes,_y=this.visualMapModel,Ty=ka.handleThumbs,Ay=ka.handleLabels,Ey=_y.itemSize,My=_y.getExtent(),Dy=this._applyTransform("left",ka.mainGroup);each$1([0,1],function(Iy){var Ly=Ty[Iy];Ly.setStyle("fill",ba.handlesColor[Iy]),Ly.y=Sa[Iy];var Py=linearMap(Sa[Iy],[0,Ey[1]],My,!0),Ry=this.getControllerVisual(Py,"symbolSize");Ly.scaleX=Ly.scaleY=Ry/Ey[0],Ly.x=Ey[0]-Ry/2;var Vy=applyTransform(ka.handleLabelPoints[Iy],getTransform$1(Ly,this.group));if(this._orient==="horizontal"){var Ny=Dy==="left"||Dy==="top"?(Ey[0]-Ry)/2:(Ey[0]-Ry)/-2;Vy[1]+=Ny}Ay[Iy].setStyle({x:Vy[0],y:Vy[1],text:_y.formatValueText(this._dataInterval[Iy]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",ka.mainGroup):"center"})},this)}},ua.prototype._showIndicator=function(Sa,ba,ka,_y){var Ty=this.visualMapModel,Ay=Ty.getExtent(),Ey=Ty.itemSize,My=[0,Ey[1]],Dy=this._shapes,Iy=Dy.indicator;if(Iy){Iy.attr("invisible",!1);var Ly={convertOpacityToAlpha:!0},Py=this.getControllerVisual(Sa,"color",Ly),Ry=this.getControllerVisual(Sa,"symbolSize"),Vy=linearMap(Sa,Ay,My,!0),Ny=Ey[0]-Ry/2,By={x:Iy.x,y:Iy.y};Iy.y=Vy,Iy.x=Ny;var Oy=applyTransform(Dy.indicatorLabelPoint,getTransform$1(Iy,this.group)),Fy=Dy.indicatorLabel;Fy.attr("invisible",!1);var zy=this._applyTransform("left",Dy.mainGroup),Hy=this._orient,Gy=Hy==="horizontal";Fy.setStyle({text:(ka||"")+Ty.formatValueText(ba),verticalAlign:Gy?zy:"middle",align:Gy?"center":zy});var Wy={x:Ny,y:Vy,style:{fill:Py}},Uy={style:{x:Oy[0],y:Oy[1]}};if(Ty.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var Yy={duration:100,easing:"cubicInOut",additive:!0};Iy.x=By.x,Iy.y=By.y,Iy.animateTo(Wy,Yy),Fy.animateTo(Uy,Yy)}else Iy.attr(Wy),Fy.attr(Uy);this._firstShowIndicator=!1;var jy=this._shapes.handleLabels;if(jy)for(var Ky=0;Ky<jy.length;Ky++)this.api.enterBlur(jy[Ky])}},ua.prototype._enableHoverLinkToSeries=function(){var Sa=this;this._shapes.mainGroup.on("mousemove",function(ba){if(Sa._hovering=!0,!Sa._dragging){var ka=Sa.visualMapModel.itemSize,_y=Sa._applyTransform([ba.offsetX,ba.offsetY],Sa._shapes.mainGroup,!0,!0);_y[1]=mathMin(mathMax(0,_y[1]),ka[1]),Sa._doHoverLinkToSeries(_y[1],0<=_y[0]&&_y[0]<=ka[0])}}).on("mouseout",function(){Sa._hovering=!1,!Sa._dragging&&Sa._clearHoverLinkToSeries()})},ua.prototype._enableHoverLinkFromSeries=function(){var Sa=this.api.getZr();this.visualMapModel.option.hoverLink?(Sa.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),Sa.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},ua.prototype._doHoverLinkToSeries=function(Sa,ba){var ka=this.visualMapModel,_y=ka.itemSize;if(ka.option.hoverLink){var Ty=[0,_y[1]],Ay=ka.getExtent();Sa=mathMin(mathMax(Ty[0],Sa),Ty[1]);var Ey=getHalfHoverLinkSize(ka,Ay,Ty),My=[Sa-Ey,Sa+Ey],Dy=linearMap(Sa,Ty,Ay,!0),Iy=[linearMap(My[0],Ty,Ay,!0),linearMap(My[1],Ty,Ay,!0)];My[0]<Ty[0]&&(Iy[0]=-1/0),My[1]>Ty[1]&&(Iy[1]=1/0),ba&&(Iy[0]===-1/0?this._showIndicator(Dy,Iy[1],"< ",Ey):Iy[1]===1/0?this._showIndicator(Dy,Iy[0],"> ",Ey):this._showIndicator(Dy,Dy,"≈ ",Ey));var Ly=this._hoverLinkDataIndices,Py=[];(ba||useHoverLinkOnHandle(ka))&&(Py=this._hoverLinkDataIndices=ka.findTargetDataIndices(Iy));var Ry=compressBatches(Ly,Py);this._dispatchHighDown("downplay",makeHighDownBatch(Ry[0],ka)),this._dispatchHighDown("highlight",makeHighDownBatch(Ry[1],ka))}},ua.prototype._hoverLinkFromSeriesMouseOver=function(Sa){var ba;if(findEventDispatcher(Sa.target,function(Ey){var My=getECData(Ey);if(My.dataIndex!=null)return ba=My,!0},!0),!!ba){var ka=this.ecModel.getSeriesByIndex(ba.seriesIndex),_y=this.visualMapModel;if(_y.isTargetSeries(ka)){var Ty=ka.getData(ba.dataType),Ay=Ty.getStore().get(_y.getDataDimensionIndex(Ty),ba.dataIndex);isNaN(Ay)||this._showIndicator(Ay,Ay)}}},ua.prototype._hideIndicator=function(){var Sa=this._shapes;Sa.indicator&&Sa.indicator.attr("invisible",!0),Sa.indicatorLabel&&Sa.indicatorLabel.attr("invisible",!0);var ba=this._shapes.handleLabels;if(ba)for(var ka=0;ka<ba.length;ka++)this.api.leaveBlur(ba[ka])},ua.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var Sa=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(Sa,this.visualMapModel)),Sa.length=0},ua.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var Sa=this.api.getZr();Sa.off("mouseover",this._hoverLinkFromSeriesMouseOver),Sa.off("mouseout",this._hideIndicator)},ua.prototype._applyTransform=function(Sa,ba,ka,_y){var Ty=getTransform$1(ba,_y?null:this.group);return isArray$1(Sa)?applyTransform(Sa,Ty,ka):transformDirection(Sa,Ty,ka)},ua.prototype._dispatchHighDown=function(Sa,ba){ba&&ba.length&&this.api.dispatchAction({type:Sa,batch:ba})},ua.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},ua.type="visualMap.continuous",ua}(VisualMapView);function createPolygon(ha,ua,Sa,ba){return new Polygon({shape:{points:ha},draggable:!!Sa,cursor:ua,drift:Sa,onmousemove:function(ka){stop(ka.event)},ondragend:ba})}function getHalfHoverLinkSize(ha,ua,Sa){var ba=HOVER_LINK_SIZE/2,ka=ha.get("hoverLinkDataSize");return ka&&(ba=linearMap(ka,ua,Sa,!0)/2),ba}function useHoverLinkOnHandle(ha){var ua=ha.get("hoverLinkOnHandle");return!!(ua??ha.get("realtime"))}function getCursor(ha){return ha==="vertical"?"ns-resize":"ew-resize"}var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(ha,ua){ua.eachComponent({mainType:"visualMap",query:ha},function(Sa){Sa.setSelected(ha.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(ha,ua){var Sa=[];return ua.eachComponent("visualMap",function(ba){var ka=ha.pipelineContext;!ba.isTargetSeries(ha)||ka&&ka.large||Sa.push(incrementalApplyVisual(ba.stateList,ba.targetVisuals,bind$1(ba.getValueState,ba),ba.getDataDimensionIndex(ha.getData())))}),Sa}},{createOnAllSeries:!0,reset:function(ha,ua){var Sa=ha.getData(),ba=[];ua.eachComponent("visualMap",function(ka){if(ka.isTargetSeries(ha)){var _y=ka.getVisualMeta(bind$1(getColorVisual,null,ha,ka))||{stops:[],outerColors:[]},Ty=ka.getDataDimensionIndex(Sa);Ty>=0&&(_y.dimension=Ty,ba.push(_y))}}),ha.getData().setVisual("visualMeta",ba)}}];function getColorVisual(ha,ua,Sa,ba){for(var ka=ua.targetVisuals[ba],_y=VisualMapping.prepareVisualTypes(ka),Ty={color:getVisualFromData(ha.getData(),"color")},Ay=0,Ey=_y.length;Ay<Ey;Ay++){var My=_y[Ay],Dy=ka[My==="opacity"?"__alphaForOpacity":My];Dy&&Dy.applyVisual(Sa,Iy,Ly)}return Ty.color;function Iy(Py){return Ty[Py]}function Ly(Py,Ry){Ty[Py]=Ry}}var each=each$f;function visualMapPreprocessor(ha){var ua=ha&&ha.visualMap;isArray$1(ua)||(ua=ua?[ua]:[]),each(ua,function(Sa){if(Sa){has(Sa,"splitList")&&!has(Sa,"pieces")&&(Sa.pieces=Sa.splitList,delete Sa.splitList);var ba=Sa.pieces;ba&&isArray$1(ba)&&each(ba,function(ka){isObject$3(ka)&&(has(ka,"start")&&!has(ka,"min")&&(ka.min=ka.start),has(ka,"end")&&!has(ka,"max")&&(ka.max=ka.end))})}})}function has(ha,ua){return ha&&ha.hasOwnProperty&&ha.hasOwnProperty(ua)}var installed=!1;function installCommon(ha){installed||(installed=!0,ha.registerSubTypeDefaulter("visualMap",function(ua){return!ua.categories&&(!(ua.pieces?ua.pieces.length>0:ua.splitNumber>0)||ua.calculable)?"continuous":"piecewise"}),ha.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(ua){ha.registerVisual(ha.PRIORITY.VISUAL.COMPONENT,ua)}),ha.registerPreprocessor(visualMapPreprocessor))}function install$5(ha){ha.registerComponentModel(ContinuousModel),ha.registerComponentView(ContinuousView),installCommon(ha)}var PiecewiseModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa._pieceList=[],Sa}return ua.prototype.optionUpdated=function(Sa,ba){ha.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var ka=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(Sa,ba);var _y=this.option.categories;this.resetVisual(function(Ty,Ay){ka==="categories"?(Ty.mappingMethod="category",Ty.categories=clone$4(_y)):(Ty.dataExtent=this.getExtent(),Ty.mappingMethod="piecewise",Ty.pieceList=map$1(this._pieceList,function(Ey){return Ey=clone$4(Ey),Ay!=="inRange"&&(Ey.visual=null),Ey}))})},ua.prototype.completeVisualOption=function(){var Sa=this.option,ba={},ka=VisualMapping.listVisualTypes(),_y=this.isCategory();each$f(Sa.pieces,function(Ay){each$f(ka,function(Ey){Ay.hasOwnProperty(Ey)&&(ba[Ey]=1)})}),each$f(ba,function(Ay,Ey){var My=!1;each$f(this.stateList,function(Dy){My=My||Ty(Sa,Dy,Ey)||Ty(Sa.target,Dy,Ey)},this),!My&&each$f(this.stateList,function(Dy){(Sa[Dy]||(Sa[Dy]={}))[Ey]=visualDefault.get(Ey,Dy==="inRange"?"active":"inactive",_y)})},this);function Ty(Ay,Ey,My){return Ay&&Ay[Ey]&&Ay[Ey].hasOwnProperty(My)}ha.prototype.completeVisualOption.apply(this,arguments)},ua.prototype._resetSelected=function(Sa,ba){var ka=this.option,_y=this._pieceList,Ty=(ba?ka:Sa).selected||{};if(ka.selected=Ty,each$f(_y,function(Ey,My){var Dy=this.getSelectedMapKey(Ey);Ty.hasOwnProperty(Dy)||(Ty[Dy]=!0)},this),ka.selectedMode==="single"){var Ay=!1;each$f(_y,function(Ey,My){var Dy=this.getSelectedMapKey(Ey);Ty[Dy]&&(Ay?Ty[Dy]=!1:Ay=!0)},this)}},ua.prototype.getItemSymbol=function(){return this.get("itemSymbol")},ua.prototype.getSelectedMapKey=function(Sa){return this._mode==="categories"?Sa.value+"":Sa.index+""},ua.prototype.getPieceList=function(){return this._pieceList},ua.prototype._determineMode=function(){var Sa=this.option;return Sa.pieces&&Sa.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},ua.prototype.setSelected=function(Sa){this.option.selected=clone$4(Sa)},ua.prototype.getValueState=function(Sa){var ba=VisualMapping.findPieceIndex(Sa,this._pieceList);return ba!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[ba])]?"inRange":"outOfRange"},ua.prototype.findTargetDataIndices=function(Sa){var ba=[],ka=this._pieceList;return this.eachTargetSeries(function(_y){var Ty=[],Ay=_y.getData();Ay.each(this.getDataDimensionIndex(Ay),function(Ey,My){var Dy=VisualMapping.findPieceIndex(Ey,ka);Dy===Sa&&Ty.push(My)},this),ba.push({seriesId:_y.id,dataIndex:Ty})},this),ba},ua.prototype.getRepresentValue=function(Sa){var ba;if(this.isCategory())ba=Sa.value;else if(Sa.value!=null)ba=Sa.value;else{var ka=Sa.interval||[];ba=ka[0]===-1/0&&ka[1]===1/0?0:(ka[0]+ka[1])/2}return ba},ua.prototype.getVisualMeta=function(Sa){if(this.isCategory())return;var ba=[],ka=["",""],_y=this;function Ty(Dy,Iy){var Ly=_y.getRepresentValue({interval:Dy});Iy||(Iy=_y.getValueState(Ly));var Py=Sa(Ly,Iy);Dy[0]===-1/0?ka[0]=Py:Dy[1]===1/0?ka[1]=Py:ba.push({value:Dy[0],color:Py},{value:Dy[1],color:Py})}var Ay=this._pieceList.slice();if(!Ay.length)Ay.push({interval:[-1/0,1/0]});else{var Ey=Ay[0].interval[0];Ey!==-1/0&&Ay.unshift({interval:[-1/0,Ey]}),Ey=Ay[Ay.length-1].interval[1],Ey!==1/0&&Ay.push({interval:[Ey,1/0]})}var My=-1/0;return each$f(Ay,function(Dy){var Iy=Dy.interval;Iy&&(Iy[0]>My&&Ty([My,Iy[0]],"outOfRange"),Ty(Iy.slice()),My=Iy[1])},this),{stops:ba,outerColors:ka}},ua.type="visualMap.piecewise",ua.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),ua}(VisualMapModel),resetMethods={splitNumber:function(ha){var ua=this.option,Sa=Math.min(ua.precision,20),ba=this.getExtent(),ka=ua.splitNumber;ka=Math.max(parseInt(ka,10),1),ua.splitNumber=ka;for(var _y=(ba[1]-ba[0])/ka;+_y.toFixed(Sa)!==_y&&Sa<5;)Sa++;ua.precision=Sa,_y=+_y.toFixed(Sa),ua.minOpen&&ha.push({interval:[-1/0,ba[0]],close:[0,0]});for(var Ty=0,Ay=ba[0];Ty<ka;Ay+=_y,Ty++){var Ey=Ty===ka-1?ba[1]:Ay+_y;ha.push({interval:[Ay,Ey],close:[1,1]})}ua.maxOpen&&ha.push({interval:[ba[1],1/0],close:[0,0]}),reformIntervals(ha),each$f(ha,function(My,Dy){My.index=Dy,My.text=this.formatValueText(My.interval)},this)},categories:function(ha){var ua=this.option;each$f(ua.categories,function(Sa){ha.push({text:this.formatValueText(Sa,!0),value:Sa})},this),normalizeReverse(ua,ha)},pieces:function(ha){var ua=this.option;each$f(ua.pieces,function(Sa,ba){isObject$3(Sa)||(Sa={value:Sa});var ka={text:"",index:ba};if(Sa.label!=null&&(ka.text=Sa.label),Sa.hasOwnProperty("value")){var _y=ka.value=Sa.value;ka.interval=[_y,_y],ka.close=[1,1]}else{for(var Ty=ka.interval=[],Ay=ka.close=[0,0],Ey=[1,0,1],My=[-1/0,1/0],Dy=[],Iy=0;Iy<2;Iy++){for(var Ly=[["gte","gt","min"],["lte","lt","max"]][Iy],Py=0;Py<3&&Ty[Iy]==null;Py++)Ty[Iy]=Sa[Ly[Py]],Ay[Iy]=Ey[Py],Dy[Iy]=Py===2;Ty[Iy]==null&&(Ty[Iy]=My[Iy])}Dy[0]&&Ty[1]===1/0&&(Ay[0]=0),Dy[1]&&Ty[0]===-1/0&&(Ay[1]=0),Ty[0]===Ty[1]&&Ay[0]&&Ay[1]&&(ka.value=Ty[0])}ka.visual=VisualMapping.retrieveVisuals(Sa),ha.push(ka)},this),normalizeReverse(ua,ha),reformIntervals(ha),each$f(ha,function(Sa){var ba=Sa.close,ka=[["<","≤"][ba[1]],[">","≥"][ba[0]]];Sa.text=Sa.text||this.formatValueText(Sa.value!=null?Sa.value:Sa.interval,!1,ka)},this)}};function normalizeReverse(ha,ua){var Sa=ha.inverse;(ha.orient==="vertical"?!Sa:Sa)&&ua.reverse()}var PiecewiseVisualMapView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type=ua.type,Sa}return ua.prototype.doRender=function(){var Sa=this.group;Sa.removeAll();var ba=this.visualMapModel,ka=ba.get("textGap"),_y=ba.textStyleModel,Ty=_y.getFont(),Ay=_y.getTextColor(),Ey=this._getItemAlign(),My=ba.itemSize,Dy=this._getViewData(),Iy=Dy.endsText,Ly=retrieve(ba.get("showLabel",!0),!Iy),Py=!ba.get("selectedMode");Iy&&this._renderEndsText(Sa,Iy[0],My,Ly,Ey),each$f(Dy.viewPieceList,function(Ry){var Vy=Ry.piece,Ny=new Group$3;Ny.onclick=bind$1(this._onItemClick,this,Vy),this._enableHoverLink(Ny,Ry.indexInModelPieceList);var By=ba.getRepresentValue(Vy);if(this._createItemSymbol(Ny,By,[0,0,My[0],My[1]],Py),Ly){var Oy=this.visualMapModel.getValueState(By);Ny.add(new ZRText({style:{x:Ey==="right"?-ka:My[0]+ka,y:My[1]/2,text:Vy.text,verticalAlign:"middle",align:Ey,font:Ty,fill:Ay,opacity:Oy==="outOfRange"?.5:1},silent:Py}))}Sa.add(Ny)},this),Iy&&this._renderEndsText(Sa,Iy[1],My,Ly,Ey),box(ba.get("orient"),Sa,ba.get("itemGap")),this.renderBackground(Sa),this.positionGroup(Sa)},ua.prototype._enableHoverLink=function(Sa,ba){var ka=this;Sa.on("mouseover",function(){return _y("highlight")}).on("mouseout",function(){return _y("downplay")});var _y=function(Ty){var Ay=ka.visualMapModel;Ay.option.hoverLink&&ka.api.dispatchAction({type:Ty,batch:makeHighDownBatch(Ay.findTargetDataIndices(ba),Ay)})}},ua.prototype._getItemAlign=function(){var Sa=this.visualMapModel,ba=Sa.option;if(ba.orient==="vertical")return getItemAlign(Sa,this.api,Sa.itemSize);var ka=ba.align;return(!ka||ka==="auto")&&(ka="left"),ka},ua.prototype._renderEndsText=function(Sa,ba,ka,_y,Ty){if(ba){var Ay=new Group$3,Ey=this.visualMapModel.textStyleModel;Ay.add(new ZRText({style:createTextStyle(Ey,{x:_y?Ty==="right"?ka[0]:0:ka[0]/2,y:ka[1]/2,verticalAlign:"middle",align:_y?Ty:"center",text:ba})})),Sa.add(Ay)}},ua.prototype._getViewData=function(){var Sa=this.visualMapModel,ba=map$1(Sa.getPieceList(),function(Ay,Ey){return{piece:Ay,indexInModelPieceList:Ey}}),ka=Sa.get("text"),_y=Sa.get("orient"),Ty=Sa.get("inverse");return(_y==="horizontal"?Ty:!Ty)?ba.reverse():ka&&(ka=ka.slice().reverse()),{viewPieceList:ba,endsText:ka}},ua.prototype._createItemSymbol=function(Sa,ba,ka,_y){var Ty=createSymbol$1(this.getControllerVisual(ba,"symbol"),ka[0],ka[1],ka[2],ka[3],this.getControllerVisual(ba,"color"));Ty.silent=_y,Sa.add(Ty)},ua.prototype._onItemClick=function(Sa){var ba=this.visualMapModel,ka=ba.option,_y=ka.selectedMode;if(_y){var Ty=clone$4(ka.selected),Ay=ba.getSelectedMapKey(Sa);_y==="single"||_y===!0?(Ty[Ay]=!0,each$f(Ty,function(Ey,My){Ty[My]=My===Ay})):Ty[Ay]=!Ty[Ay],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:Ty})}},ua.type="visualMap.piecewise",ua}(VisualMapView);function install$4(ha){ha.registerComponentModel(PiecewiseModel),ha.registerComponentView(PiecewiseVisualMapView),installCommon(ha)}function install$3(ha){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(ha,ua){var Sa=ha.getModel("aria");if(!Sa.get("enabled"))return;var ba=clone$4(DEFAULT_OPTION);merge(ba.label,ha.getLocaleModel().get("aria"),!1),merge(Sa.option,ba,!1),ka(),_y();function ka(){var My=Sa.getModel("decal"),Dy=My.get("show");if(Dy){var Iy=createHashMap();ha.eachSeries(function(Ly){if(!Ly.isColorBySeries()){var Py=Iy.get(Ly.type);Py||(Py={},Iy.set(Ly.type,Py)),inner(Ly).scope=Py}}),ha.eachRawSeries(function(Ly){if(ha.isSeriesFiltered(Ly))return;if(isFunction(Ly.enableAriaDecal)){Ly.enableAriaDecal();return}var Py=Ly.getData();if(Ly.isColorBySeries()){var Oy=getDecalFromPalette(Ly.ecModel,Ly.name,decalPaletteScope,ha.getSeriesCount()),Fy=Py.getVisual("decal");Py.setVisual("decal",zy(Fy,Oy))}else{var Ry=Ly.getRawData(),Vy={},Ny=inner(Ly).scope;Py.each(function(Hy){var Gy=Py.getRawIndex(Hy);Vy[Gy]=Hy});var By=Ry.count();Ry.each(function(Hy){var Gy=Vy[Hy],Wy=Ry.getName(Hy)||Hy+"",Uy=getDecalFromPalette(Ly.ecModel,Wy,Ny,By),Yy=Py.getItemVisual(Gy,"decal");Py.setItemVisual(Gy,"decal",zy(Yy,Uy))})}function zy(Hy,Gy){var Wy=Hy?extend(extend({},Gy),Hy):Gy;return Wy.dirty=!0,Wy}})}}function _y(){var My=ua.getZr().dom;if(My){var Dy=ha.getLocaleModel().get("aria"),Iy=Sa.getModel("label");if(Iy.option=defaults(Iy.option,Dy),!!Iy.get("enabled")){if(My.setAttribute("role","img"),Iy.get("description")){My.setAttribute("aria-label",Iy.get("description"));return}var Ly=ha.getSeriesCount(),Py=Iy.get(["data","maxCount"])||10,Ry=Iy.get(["series","maxCount"])||10,Vy=Math.min(Ly,Ry),Ny;if(!(Ly<1)){var By=Ay();if(By){var Oy=Iy.get(["general","withTitle"]);Ny=Ty(Oy,{title:By})}else Ny=Iy.get(["general","withoutTitle"]);var Fy=[],zy=Ly>1?Iy.get(["series","multiple","prefix"]):Iy.get(["series","single","prefix"]);Ny+=Ty(zy,{seriesCount:Ly}),ha.eachSeries(function(Uy,Yy){if(Yy<Vy){var jy=void 0,Ky=Uy.get("name"),Xy=Ky?"withName":"withoutName";jy=Ly>1?Iy.get(["series","multiple",Xy]):Iy.get(["series","single",Xy]),jy=Ty(jy,{seriesId:Uy.seriesIndex,seriesName:Uy.get("name"),seriesType:Ey(Uy.subType)});var Zy=Uy.getData();if(Zy.count()>Py){var Jy=Iy.get(["data","partialData"]);jy+=Ty(Jy,{displayCnt:Py})}else jy+=Iy.get(["data","allData"]);for(var t_=Iy.get(["data","separator","middle"]),Qy=Iy.get(["data","separator","end"]),r_=Iy.get(["data","excludeDimensionId"]),i_=[],l_=0;l_<Zy.count();l_++)if(l_<Py){var c_=Zy.getName(l_),d_=r_?filter(Zy.getValues(l_),function(m_,b_){return indexOf(r_,b_)===-1}):Zy.getValues(l_),f_=Iy.get(["data",c_?"withName":"withoutName"]);i_.push(Ty(f_,{name:c_,value:d_.join(t_)}))}jy+=i_.join(t_)+Qy,Fy.push(jy)}});var Hy=Iy.getModel(["series","multiple","separator"]),Gy=Hy.get("middle"),Wy=Hy.get("end");Ny+=Fy.join(Gy)+Wy,My.setAttribute("aria-label",Ny)}}}}function Ty(My,Dy){if(!isString(My))return My;var Iy=My;return each$f(Dy,function(Ly,Py){Iy=Iy.replace(new RegExp("\\{\\s*"+Py+"\\s*\\}","g"),Ly)}),Iy}function Ay(){var My=ha.get("title");return My&&My.length&&(My=My[0]),My&&My.text}function Ey(My){var Dy=ha.getLocaleModel().get(["series","typeNames"]);return Dy[My]||Dy.chart}}function ariaPreprocessor(ha){if(!(!ha||!ha.aria)){var ua=ha.aria;ua.show!=null&&(ua.enabled=ua.show),ua.label=ua.label||{},each$f(["description","general","series","data"],function(Sa){ua[Sa]!=null&&(ua.label[Sa]=ua[Sa])})}}function install$2(ha){ha.registerPreprocessor(ariaPreprocessor),ha.registerVisual(ha.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function ha(ua){var Sa=this._condVal=isString(ua)?new RegExp(ua):isRegExp(ua)?ua:null;if(Sa==null){var ba="";throwError(ba)}}return ha.prototype.evaluate=function(ua){var Sa=typeof ua;return isString(Sa)?this._condVal.test(ua):isNumber(Sa)?this._condVal.test(ua+""):!1},ha}(),ConstConditionInternal=function(){function ha(){}return ha.prototype.evaluate=function(){return this.value},ha}(),AndConditionInternal=function(){function ha(){}return ha.prototype.evaluate=function(){for(var ua=this.children,Sa=0;Sa<ua.length;Sa++)if(!ua[Sa].evaluate())return!1;return!0},ha}(),OrConditionInternal=function(){function ha(){}return ha.prototype.evaluate=function(){for(var ua=this.children,Sa=0;Sa<ua.length;Sa++)if(ua[Sa].evaluate())return!0;return!1},ha}(),NotConditionInternal=function(){function ha(){}return ha.prototype.evaluate=function(){return!this.child.evaluate()},ha}(),RelationalConditionInternal=function(){function ha(){}return ha.prototype.evaluate=function(){for(var ua=!!this.valueParser,Sa=this.getValue,ba=Sa(this.valueGetterParam),ka=ua?this.valueParser(ba):null,_y=0;_y<this.subCondList.length;_y++)if(!this.subCondList[_y].evaluate(ua?ka:ba))return!1;return!0},ha}();function parseOption(ha,ua){if(ha===!0||ha===!1){var Sa=new ConstConditionInternal;return Sa.value=ha,Sa}var ba="";return isObjectNotArray(ha)||throwError(ba),ha.and?parseAndOrOption("and",ha,ua):ha.or?parseAndOrOption("or",ha,ua):ha.not?parseNotOption(ha,ua):parseRelationalOption(ha,ua)}function parseAndOrOption(ha,ua,Sa){var ba=ua[ha],ka="";isArray$1(ba)||throwError(ka),ba.length||throwError(ka);var _y=ha==="and"?new AndConditionInternal:new OrConditionInternal;return _y.children=map$1(ba,function(Ty){return parseOption(Ty,Sa)}),_y.children.length||throwError(ka),_y}function parseNotOption(ha,ua){var Sa=ha.not,ba="";isObjectNotArray(Sa)||throwError(ba);var ka=new NotConditionInternal;return ka.child=parseOption(Sa,ua),ka.child||throwError(ba),ka}function parseRelationalOption(ha,ua){for(var Sa="",ba=ua.prepareGetValue(ha),ka=[],_y=keys(ha),Ty=ha.parser,Ay=Ty?getRawValueParser(Ty):null,Ey=0;Ey<_y.length;Ey++){var My=_y[Ey];if(!(My==="parser"||ua.valueGetterAttrMap.get(My))){var Dy=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,My)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[My]:My,Iy=ha[My],Ly=Ay?Ay(Iy):Iy,Py=createFilterComparator(Dy,Ly)||Dy==="reg"&&new RegExpEvaluator(Ly);Py||throwError(Sa),ka.push(Py)}}ka.length||throwError(Sa);var Ry=new RelationalConditionInternal;return Ry.valueGetterParam=ba,Ry.valueParser=Ay,Ry.getValue=ua.getValue,Ry.subCondList=ka,Ry}function isObjectNotArray(ha){return isObject$3(ha)&&!isArrayLike(ha)}var ConditionalExpressionParsed=function(){function ha(ua,Sa){this._cond=parseOption(ua,Sa)}return ha.prototype.evaluate=function(){return this._cond.evaluate()},ha}();function parseConditionalExpression(ha,ua){return new ConditionalExpressionParsed(ha,ua)}var filterTransform={type:"echarts:filter",transform:function(ha){for(var ua=ha.upstream,Sa,ba=parseConditionalExpression(ha.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(Ay){var Ey="",My=Ay.dimension;hasOwn(Ay,"dimension")||throwError(Ey);var Dy=ua.getDimensionInfo(My);return Dy||throwError(Ey),{dimIdx:Dy.index}},getValue:function(Ay){return ua.retrieveValueFromItem(Sa,Ay.dimIdx)}}),ka=[],_y=0,Ty=ua.count();_y<Ty;_y++)Sa=ua.getRawDataItem(_y),ba.evaluate()&&ka.push(Sa);return{data:ka}}},sortTransform={type:"echarts:sort",transform:function(ha){var ua=ha.upstream,Sa=ha.config,ba="",ka=normalizeToArray(Sa);ka.length||throwError(ba);var _y=[];each$f(ka,function(Dy){var Iy=Dy.dimension,Ly=Dy.order,Py=Dy.parser,Ry=Dy.incomparable;if(Iy==null&&throwError(ba),Ly!=="asc"&&Ly!=="desc"&&throwError(ba),Ry&&Ry!=="min"&&Ry!=="max"){var Vy="";throwError(Vy)}if(Ly!=="asc"&&Ly!=="desc"){var Ny="";throwError(Ny)}var By=ua.getDimensionInfo(Iy);By||throwError(ba);var Oy=Py?getRawValueParser(Py):null;Py&&!Oy&&throwError(ba),_y.push({dimIdx:By.index,parser:Oy,comparator:new SortOrderComparator(Ly,Ry)})});var Ty=ua.sourceFormat;Ty!==SOURCE_FORMAT_ARRAY_ROWS&&Ty!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(ba);for(var Ay=[],Ey=0,My=ua.count();Ey<My;Ey++)Ay.push(ua.getRawDataItem(Ey));return Ay.sort(function(Dy,Iy){for(var Ly=0;Ly<_y.length;Ly++){var Py=_y[Ly],Ry=ua.retrieveValueFromItem(Dy,Py.dimIdx),Vy=ua.retrieveValueFromItem(Iy,Py.dimIdx);Py.parser&&(Ry=Py.parser(Ry),Vy=Py.parser(Vy));var Ny=Py.comparator.evaluate(Ry,Vy);if(Ny!==0)return Ny}return 0}),{data:Ay}}};function install$1(ha){ha.registerTransform(filterTransform),ha.registerTransform(sortTransform)}var DatasetModel=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type="dataset",Sa}return ua.prototype.init=function(Sa,ba,ka){ha.prototype.init.call(this,Sa,ba,ka),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},ua.prototype.mergeOption=function(Sa,ba){ha.prototype.mergeOption.call(this,Sa,ba),disableTransformOptionMerge(this)},ua.prototype.optionUpdated=function(){this._sourceManager.dirty()},ua.prototype.getSourceManager=function(){return this._sourceManager},ua.type="dataset",ua.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},ua}(ComponentModel),DatasetView=function(ha){__extends(ua,ha);function ua(){var Sa=ha!==null&&ha.apply(this,arguments)||this;return Sa.type="dataset",Sa}return ua.type="dataset",ua}(ComponentView);function install(ha){ha.registerComponentModel(DatasetModel),ha.registerComponentView(DatasetView)}var CMD=PathProxy.CMD;function aroundEqual(ha,ua){return Math.abs(ha-ua)<1e-5}function pathToBezierCurves(ha){var ua=ha.data,Sa=ha.len(),ba=[],ka,_y=0,Ty=0,Ay=0,Ey=0;function My(Zy,Jy){ka&&ka.length>2&&ba.push(ka),ka=[Zy,Jy]}function Dy(Zy,Jy,t_,Qy){aroundEqual(Zy,t_)&&aroundEqual(Jy,Qy)||ka.push(Zy,Jy,t_,Qy,t_,Qy)}function Iy(Zy,Jy,t_,Qy,r_,i_){var l_=Math.abs(Jy-Zy),c_=Math.tan(l_/4)*4/3,d_=Jy<Zy?-1:1,f_=Math.cos(Zy),m_=Math.sin(Zy),b_=Math.cos(Jy),$_=Math.sin(Jy),A_=f_*r_+t_,v_=m_*i_+Qy,g_=b_*r_+t_,p_=$_*i_+Qy,o_=r_*c_*d_,n_=i_*c_*d_;ka.push(A_-o_*m_,v_+n_*f_,g_+o_*$_,p_-n_*b_,g_,p_)}for(var Ly,Py,Ry,Vy,Ny=0;Ny<Sa;){var By=ua[Ny++],Oy=Ny===1;switch(Oy&&(_y=ua[Ny],Ty=ua[Ny+1],Ay=_y,Ey=Ty,(By===CMD.L||By===CMD.C||By===CMD.Q)&&(ka=[Ay,Ey])),By){case CMD.M:_y=Ay=ua[Ny++],Ty=Ey=ua[Ny++],My(Ay,Ey);break;case CMD.L:Ly=ua[Ny++],Py=ua[Ny++],Dy(_y,Ty,Ly,Py),_y=Ly,Ty=Py;break;case CMD.C:ka.push(ua[Ny++],ua[Ny++],ua[Ny++],ua[Ny++],_y=ua[Ny++],Ty=ua[Ny++]);break;case CMD.Q:Ly=ua[Ny++],Py=ua[Ny++],Ry=ua[Ny++],Vy=ua[Ny++],ka.push(_y+2/3*(Ly-_y),Ty+2/3*(Py-Ty),Ry+2/3*(Ly-Ry),Vy+2/3*(Py-Vy),Ry,Vy),_y=Ry,Ty=Vy;break;case CMD.A:var Fy=ua[Ny++],zy=ua[Ny++],Hy=ua[Ny++],Gy=ua[Ny++],Wy=ua[Ny++],Uy=ua[Ny++]+Wy;Ny+=1;var Yy=!ua[Ny++];Ly=Math.cos(Wy)*Hy+Fy,Py=Math.sin(Wy)*Gy+zy,Oy?(Ay=Ly,Ey=Py,My(Ay,Ey)):Dy(_y,Ty,Ly,Py),_y=Math.cos(Uy)*Hy+Fy,Ty=Math.sin(Uy)*Gy+zy;for(var jy=(Yy?-1:1)*Math.PI/2,Ky=Wy;Yy?Ky>Uy:Ky<Uy;Ky+=jy){var Xy=Yy?Math.max(Ky+jy,Uy):Math.min(Ky+jy,Uy);Iy(Ky,Xy,Fy,zy,Hy,Gy)}break;case CMD.R:Ay=_y=ua[Ny++],Ey=Ty=ua[Ny++],Ly=Ay+ua[Ny++],Py=Ey+ua[Ny++],My(Ly,Ey),Dy(Ly,Ey,Ly,Py),Dy(Ly,Py,Ay,Py),Dy(Ay,Py,Ay,Ey),Dy(Ay,Ey,Ly,Ey);break;case CMD.Z:ka&&Dy(_y,Ty,Ay,Ey),_y=Ay,Ty=Ey;break}}return ka&&ka.length>2&&ba.push(ka),ba}function adpativeBezier(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey,My){if(aroundEqual(ha,Sa)&&aroundEqual(ua,ba)&&aroundEqual(ka,Ty)&&aroundEqual(_y,Ay)){Ey.push(Ty,Ay);return}var Dy=2/My,Iy=Dy*Dy,Ly=Ty-ha,Py=Ay-ua,Ry=Math.sqrt(Ly*Ly+Py*Py);Ly/=Ry,Py/=Ry;var Vy=Sa-ha,Ny=ba-ua,By=ka-Ty,Oy=_y-Ay,Fy=Vy*Vy+Ny*Ny,zy=By*By+Oy*Oy;if(Fy<Iy&&zy<Iy){Ey.push(Ty,Ay);return}var Hy=Ly*Vy+Py*Ny,Gy=-Ly*By-Py*Oy,Wy=Fy-Hy*Hy,Uy=zy-Gy*Gy;if(Wy<Iy&&Hy>=0&&Uy<Iy&&Gy>=0){Ey.push(Ty,Ay);return}var Yy=[],jy=[];cubicSubdivide(ha,Sa,ka,Ty,.5,Yy),cubicSubdivide(ua,ba,_y,Ay,.5,jy),adpativeBezier(Yy[0],jy[0],Yy[1],jy[1],Yy[2],jy[2],Yy[3],jy[3],Ey,My),adpativeBezier(Yy[4],jy[4],Yy[5],jy[5],Yy[6],jy[6],Yy[7],jy[7],Ey,My)}function pathToPolygons(ha,ua){var Sa=pathToBezierCurves(ha),ba=[];ua=ua||1;for(var ka=0;ka<Sa.length;ka++){var _y=Sa[ka],Ty=[],Ay=_y[0],Ey=_y[1];Ty.push(Ay,Ey);for(var My=2;My<_y.length;){var Dy=_y[My++],Iy=_y[My++],Ly=_y[My++],Py=_y[My++],Ry=_y[My++],Vy=_y[My++];adpativeBezier(Ay,Ey,Dy,Iy,Ly,Py,Ry,Vy,Ty,ua),Ay=Ry,Ey=Vy}ba.push(Ty)}return ba}function getDividingGrids(ha,ua,Sa){var ba=ha[ua],ka=ha[1-ua],_y=Math.abs(ba/ka),Ty=Math.ceil(Math.sqrt(_y*Sa)),Ay=Math.floor(Sa/Ty);Ay===0&&(Ay=1,Ty=Sa);for(var Ey=[],My=0;My<Ty;My++)Ey.push(Ay);var Dy=Ty*Ay,Iy=Sa-Dy;if(Iy>0)for(var My=0;My<Iy;My++)Ey[My%Ty]+=1;return Ey}function divideSector(ha,ua,Sa){for(var ba=ha.r0,ka=ha.r,_y=ha.startAngle,Ty=ha.endAngle,Ay=Math.abs(Ty-_y),Ey=Ay*ka,My=ka-ba,Dy=Ey>Math.abs(My),Iy=getDividingGrids([Ey,My],Dy?0:1,ua),Ly=(Dy?Ay:My)/Iy.length,Py=0;Py<Iy.length;Py++)for(var Ry=(Dy?My:Ay)/Iy[Py],Vy=0;Vy<Iy[Py];Vy++){var Ny={};Dy?(Ny.startAngle=_y+Ly*Py,Ny.endAngle=_y+Ly*(Py+1),Ny.r0=ba+Ry*Vy,Ny.r=ba+Ry*(Vy+1)):(Ny.startAngle=_y+Ry*Vy,Ny.endAngle=_y+Ry*(Vy+1),Ny.r0=ba+Ly*Py,Ny.r=ba+Ly*(Py+1)),Ny.clockwise=ha.clockwise,Ny.cx=ha.cx,Ny.cy=ha.cy,Sa.push(Ny)}}function divideRect(ha,ua,Sa){for(var ba=ha.width,ka=ha.height,_y=ba>ka,Ty=getDividingGrids([ba,ka],_y?0:1,ua),Ay=_y?"width":"height",Ey=_y?"height":"width",My=_y?"x":"y",Dy=_y?"y":"x",Iy=ha[Ay]/Ty.length,Ly=0;Ly<Ty.length;Ly++)for(var Py=ha[Ey]/Ty[Ly],Ry=0;Ry<Ty[Ly];Ry++){var Vy={};Vy[My]=Ly*Iy,Vy[Dy]=Ry*Py,Vy[Ay]=Iy,Vy[Ey]=Py,Vy.x+=ha.x,Vy.y+=ha.y,Sa.push(Vy)}}function crossProduct2d(ha,ua,Sa,ba){return ha*ba-Sa*ua}function lineLineIntersect(ha,ua,Sa,ba,ka,_y,Ty,Ay){var Ey=Sa-ha,My=ba-ua,Dy=Ty-ka,Iy=Ay-_y,Ly=crossProduct2d(Dy,Iy,Ey,My);if(Math.abs(Ly)<1e-6)return null;var Py=ha-ka,Ry=ua-_y,Vy=crossProduct2d(Py,Ry,Dy,Iy)/Ly;return Vy<0||Vy>1?null:new Point(Vy*Ey+ha,Vy*My+ua)}function projPtOnLine(ha,ua,Sa){var ba=new Point;Point.sub(ba,Sa,ua),ba.normalize();var ka=new Point;Point.sub(ka,ha,ua);var _y=ka.dot(ba);return _y}function addToPoly(ha,ua){var Sa=ha[ha.length-1];Sa&&Sa[0]===ua[0]&&Sa[1]===ua[1]||ha.push(ua)}function splitPolygonByLine(ha,ua,Sa){for(var ba=ha.length,ka=[],_y=0;_y<ba;_y++){var Ty=ha[_y],Ay=ha[(_y+1)%ba],Ey=lineLineIntersect(Ty[0],Ty[1],Ay[0],Ay[1],ua.x,ua.y,Sa.x,Sa.y);Ey&&ka.push({projPt:projPtOnLine(Ey,ua,Sa),pt:Ey,idx:_y})}if(ka.length<2)return[{points:ha},{points:ha}];ka.sort(function(Ny,By){return Ny.projPt-By.projPt});var My=ka[0],Dy=ka[ka.length-1];if(Dy.idx<My.idx){var Iy=My;My=Dy,Dy=Iy}for(var Ly=[My.pt.x,My.pt.y],Py=[Dy.pt.x,Dy.pt.y],Ry=[Ly],Vy=[Py],_y=My.idx+1;_y<=Dy.idx;_y++)addToPoly(Ry,ha[_y].slice());addToPoly(Ry,Py),addToPoly(Ry,Ly);for(var _y=Dy.idx+1;_y<=My.idx+ba;_y++)addToPoly(Vy,ha[_y%ba].slice());return addToPoly(Vy,Ly),addToPoly(Vy,Py),[{points:Ry},{points:Vy}]}function binaryDividePolygon(ha){var ua=ha.points,Sa=[],ba=[];fromPoints(ua,Sa,ba);var ka=new BoundingRect(Sa[0],Sa[1],ba[0]-Sa[0],ba[1]-Sa[1]),_y=ka.width,Ty=ka.height,Ay=ka.x,Ey=ka.y,My=new Point,Dy=new Point;return _y>Ty?(My.x=Dy.x=Ay+_y/2,My.y=Ey,Dy.y=Ey+Ty):(My.y=Dy.y=Ey+Ty/2,My.x=Ay,Dy.x=Ay+_y),splitPolygonByLine(ua,My,Dy)}function binaryDivideRecursive(ha,ua,Sa,ba){if(Sa===1)ba.push(ua);else{var ka=Math.floor(Sa/2),_y=ha(ua);binaryDivideRecursive(ha,_y[0],ka,ba),binaryDivideRecursive(ha,_y[1],Sa-ka,ba)}return ba}function clone(ha,ua){for(var Sa=[],ba=0;ba<ua;ba++)Sa.push(clonePath(ha));return Sa}function copyPathProps(ha,ua){ua.setStyle(ha.style),ua.z=ha.z,ua.z2=ha.z2,ua.zlevel=ha.zlevel}function polygonConvert(ha){for(var ua=[],Sa=0;Sa<ha.length;)ua.push([ha[Sa++],ha[Sa++]]);return ua}function split(ha,ua){var Sa=[],ba=ha.shape,ka;switch(ha.type){case"rect":divideRect(ba,ua,Sa),ka=Rect$2;break;case"sector":divideSector(ba,ua,Sa),ka=Sector;break;case"circle":divideSector({r0:0,r:ba.r,startAngle:0,endAngle:Math.PI*2,cx:ba.cx,cy:ba.cy},ua,Sa),ka=Sector;break;default:var _y=ha.getComputedTransform(),Ty=_y?Math.sqrt(Math.max(_y[0]*_y[0]+_y[1]*_y[1],_y[2]*_y[2]+_y[3]*_y[3])):1,Ay=map$1(pathToPolygons(ha.getUpdatedPathProxy(),Ty),function(By){return polygonConvert(By)}),Ey=Ay.length;if(Ey===0)binaryDivideRecursive(binaryDividePolygon,{points:Ay[0]},ua,Sa);else if(Ey===ua)for(var My=0;My<Ey;My++)Sa.push({points:Ay[My]});else{var Dy=0,Iy=map$1(Ay,function(By){var Oy=[],Fy=[];fromPoints(By,Oy,Fy);var zy=(Fy[1]-Oy[1])*(Fy[0]-Oy[0]);return Dy+=zy,{poly:By,area:zy}});Iy.sort(function(By,Oy){return Oy.area-By.area});for(var Ly=ua,My=0;My<Ey;My++){var Py=Iy[My];if(Ly<=0)break;var Ry=My===Ey-1?Ly:Math.ceil(Py.area/Dy*ua);Ry<0||(binaryDivideRecursive(binaryDividePolygon,{points:Py.poly},Ry,Sa),Ly-=Ry)}}ka=Polygon;break}if(!ka)return clone(ha,ua);for(var Vy=[],My=0;My<Sa.length;My++){var Ny=new ka;Ny.setShape(Sa[My]),copyPathProps(ha,Ny),Vy.push(Ny)}return Vy}function alignSubpath(ha,ua){var Sa=ha.length,ba=ua.length;if(Sa===ba)return[ha,ua];for(var ka=[],_y=[],Ty=Sa<ba?ha:ua,Ay=Math.min(Sa,ba),Ey=Math.abs(ba-Sa)/6,My=(Ay-2)/6,Dy=Math.ceil(Ey/My)+1,Iy=[Ty[0],Ty[1]],Ly=Ey,Py=2;Py<Ay;){var Ry=Ty[Py-2],Vy=Ty[Py-1],Ny=Ty[Py++],By=Ty[Py++],Oy=Ty[Py++],Fy=Ty[Py++],zy=Ty[Py++],Hy=Ty[Py++];if(Ly<=0){Iy.push(Ny,By,Oy,Fy,zy,Hy);continue}for(var Gy=Math.min(Ly,Dy-1)+1,Wy=1;Wy<=Gy;Wy++){var Uy=Wy/Gy;cubicSubdivide(Ry,Ny,Oy,zy,Uy,ka),cubicSubdivide(Vy,By,Fy,Hy,Uy,_y),Ry=ka[3],Vy=_y[3],Iy.push(ka[1],_y[1],ka[2],_y[2],Ry,Vy),Ny=ka[5],By=_y[5],Oy=ka[6],Fy=_y[6]}Ly-=Gy-1}return Ty===ha?[Iy,ua]:[ha,Iy]}function createSubpath(ha,ua){for(var Sa=ha.length,ba=ha[Sa-2],ka=ha[Sa-1],_y=[],Ty=0;Ty<ua.length;)_y[Ty++]=ba,_y[Ty++]=ka;return _y}function alignBezierCurves(ha,ua){for(var Sa,ba,ka,_y=[],Ty=[],Ay=0;Ay<Math.max(ha.length,ua.length);Ay++){var Ey=ha[Ay],My=ua[Ay],Dy=void 0,Iy=void 0;Ey?My?(Sa=alignSubpath(Ey,My),Dy=Sa[0],Iy=Sa[1],ba=Dy,ka=Iy):(Iy=createSubpath(ka||Ey,Ey),Dy=Ey):(Dy=createSubpath(ba||My,My),Iy=My),_y.push(Dy),Ty.push(Iy)}return[_y,Ty]}function centroid(ha){for(var ua=0,Sa=0,ba=0,ka=ha.length,_y=0,Ty=ka-2;_y<ka;Ty=_y,_y+=2){var Ay=ha[Ty],Ey=ha[Ty+1],My=ha[_y],Dy=ha[_y+1],Iy=Ay*Dy-My*Ey;ua+=Iy,Sa+=(Ay+My)*Iy,ba+=(Ey+Dy)*Iy}return ua===0?[ha[0]||0,ha[1]||0]:[Sa/ua/3,ba/ua/3,ua]}function findBestRingOffset(ha,ua,Sa,ba){for(var ka=(ha.length-2)/6,_y=1/0,Ty=0,Ay=ha.length,Ey=Ay-2,My=0;My<ka;My++){for(var Dy=My*6,Iy=0,Ly=0;Ly<Ay;Ly+=2){var Py=Ly===0?Dy:(Dy+Ly-2)%Ey+2,Ry=ha[Py]-Sa[0],Vy=ha[Py+1]-Sa[1],Ny=ua[Ly]-ba[0],By=ua[Ly+1]-ba[1],Oy=Ny-Ry,Fy=By-Vy;Iy+=Oy*Oy+Fy*Fy}Iy<_y&&(_y=Iy,Ty=My)}return Ty}function reverse(ha){for(var ua=[],Sa=ha.length,ba=0;ba<Sa;ba+=2)ua[ba]=ha[Sa-ba-2],ua[ba+1]=ha[Sa-ba-1];return ua}function findBestMorphingRotation(ha,ua,Sa,ba){for(var ka=[],_y,Ty=0;Ty<ha.length;Ty++){var Ay=ha[Ty],Ey=ua[Ty],My=centroid(Ay),Dy=centroid(Ey);_y==null&&(_y=My[2]<0!=Dy[2]<0);var Iy=[],Ly=[],Py=0,Ry=1/0,Vy=[],Ny=Ay.length;_y&&(Ay=reverse(Ay));for(var By=findBestRingOffset(Ay,Ey,My,Dy)*6,Oy=Ny-2,Fy=0;Fy<Oy;Fy+=2){var zy=(By+Fy)%Oy+2;Iy[Fy+2]=Ay[zy]-My[0],Iy[Fy+3]=Ay[zy+1]-My[1]}Iy[0]=Ay[By]-My[0],Iy[1]=Ay[By+1]-My[1];for(var Hy=ba/Sa,Gy=-ba/2;Gy<=ba/2;Gy+=Hy){for(var Wy=Math.sin(Gy),Uy=Math.cos(Gy),Yy=0,Fy=0;Fy<Ay.length;Fy+=2){var jy=Iy[Fy],Ky=Iy[Fy+1],Xy=Ey[Fy]-Dy[0],Zy=Ey[Fy+1]-Dy[1],Jy=Xy*Uy-Zy*Wy,t_=Xy*Wy+Zy*Uy;Vy[Fy]=Jy,Vy[Fy+1]=t_;var Qy=Jy-jy,r_=t_-Ky;Yy+=Qy*Qy+r_*r_}if(Yy<Ry){Ry=Yy,Py=Gy;for(var i_=0;i_<Vy.length;i_++)Ly[i_]=Vy[i_]}}ka.push({from:Iy,to:Ly,fromCp:My,toCp:Dy,rotation:-Py})}return ka}function isCombineMorphing(ha){return ha.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(ha,ua,Sa){var ba=SAVED_METHOD_PREFIX+ua,ka=ha[ba]||ha[ua];ha[ba]||(ha[ba]=ha[ua]);var _y=Sa.replace,Ty=Sa.after,Ay=Sa.before;ha[ua]=function(){var Ey=arguments,My;return Ay&&Ay.apply(this,Ey),_y?My=_y.apply(this,Ey):My=ka.apply(this,Ey),Ty&&Ty.apply(this,Ey),My}}function restoreMethod(ha,ua){var Sa=SAVED_METHOD_PREFIX+ua;ha[Sa]&&(ha[ua]=ha[Sa],ha[Sa]=null)}function applyTransformOnBeziers(ha,ua){for(var Sa=0;Sa<ha.length;Sa++)for(var ba=ha[Sa],ka=0;ka<ba.length;){var _y=ba[ka],Ty=ba[ka+1];ba[ka++]=ua[0]*_y+ua[2]*Ty+ua[4],ba[ka++]=ua[1]*_y+ua[3]*Ty+ua[5]}}function prepareMorphPath(ha,ua){var Sa=ha.getUpdatedPathProxy(),ba=ua.getUpdatedPathProxy(),ka=alignBezierCurves(pathToBezierCurves(Sa),pathToBezierCurves(ba)),_y=ka[0],Ty=ka[1],Ay=ha.getComputedTransform(),Ey=ua.getComputedTransform();function My(){this.transform=null}Ay&&applyTransformOnBeziers(_y,Ay),Ey&&applyTransformOnBeziers(Ty,Ey),saveAndModifyMethod(ua,"updateTransform",{replace:My}),ua.transform=null;var Dy=findBestMorphingRotation(_y,Ty,10,Math.PI),Iy=[];saveAndModifyMethod(ua,"buildPath",{replace:function(Ly){for(var Py=ua.__morphT,Ry=1-Py,Vy=[],Ny=0;Ny<Dy.length;Ny++){var By=Dy[Ny],Oy=By.from,Fy=By.to,zy=By.rotation*Py,Hy=By.fromCp,Gy=By.toCp,Wy=Math.sin(zy),Uy=Math.cos(zy);lerp$1(Vy,Hy,Gy,Py);for(var Yy=0;Yy<Oy.length;Yy+=2){var jy=Oy[Yy],Ky=Oy[Yy+1],Xy=Fy[Yy],Zy=Fy[Yy+1],Jy=jy*Ry+Xy*Py,t_=Ky*Ry+Zy*Py;Iy[Yy]=Jy*Uy-t_*Wy+Vy[0],Iy[Yy+1]=Jy*Wy+t_*Uy+Vy[1]}var Qy=Iy[0],r_=Iy[1];Ly.moveTo(Qy,r_);for(var Yy=2;Yy<Oy.length;){var Xy=Iy[Yy++],Zy=Iy[Yy++],i_=Iy[Yy++],l_=Iy[Yy++],c_=Iy[Yy++],d_=Iy[Yy++];Qy===Xy&&r_===Zy&&i_===c_&&l_===d_?Ly.lineTo(c_,d_):Ly.bezierCurveTo(Xy,Zy,i_,l_,c_,d_),Qy=c_,r_=d_}}}})}function morphPath(ha,ua,Sa){if(!ha||!ua)return ua;var ba=Sa.done,ka=Sa.during;prepareMorphPath(ha,ua),ua.__morphT=0;function _y(){restoreMethod(ua,"buildPath"),restoreMethod(ua,"updateTransform"),ua.__morphT=-1,ua.createPathProxy(),ua.dirtyShape()}return ua.animateTo({__morphT:1},defaults({during:function(Ty){ua.dirtyShape(),ka&&ka(Ty)},done:function(){_y(),ba&&ba()}},Sa)),ua}function hilbert(ha,ua,Sa,ba,ka,_y){var Ty=16;ha=ka===Sa?0:Math.round(32767*(ha-Sa)/(ka-Sa)),ua=_y===ba?0:Math.round(32767*(ua-ba)/(_y-ba));for(var Ay=0,Ey,My=(1<<Ty)/2;My>0;My/=2){var Dy=0,Iy=0;(ha&My)>0&&(Dy=1),(ua&My)>0&&(Iy=1),Ay+=My*My*(3*Dy^Iy),Iy===0&&(Dy===1&&(ha=My-1-ha,ua=My-1-ua),Ey=ha,ha=ua,ua=Ey)}return Ay}function sortPaths(ha){var ua=1/0,Sa=1/0,ba=-1/0,ka=-1/0,_y=map$1(ha,function(Ay){var Ey=Ay.getBoundingRect(),My=Ay.getComputedTransform(),Dy=Ey.x+Ey.width/2+(My?My[4]:0),Iy=Ey.y+Ey.height/2+(My?My[5]:0);return ua=Math.min(Dy,ua),Sa=Math.min(Iy,Sa),ba=Math.max(Dy,ba),ka=Math.max(Iy,ka),[Dy,Iy]}),Ty=map$1(_y,function(Ay,Ey){return{cp:Ay,z:hilbert(Ay[0],Ay[1],ua,Sa,ba,ka),path:ha[Ey]}});return Ty.sort(function(Ay,Ey){return Ay.z-Ey.z}).map(function(Ay){return Ay.path})}function defaultDividePath(ha){return split(ha.path,ha.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(ha,ua,Sa){var ba=[];function ka(Hy){for(var Gy=0;Gy<Hy.length;Gy++){var Wy=Hy[Gy];isCombineMorphing(Wy)?ka(Wy.childrenRef()):Wy instanceof Path&&ba.push(Wy)}}ka(ha);var _y=ba.length;if(!_y)return createEmptyReturn();var Ty=Sa.dividePath||defaultDividePath,Ay=Ty({path:ua,count:_y});if(Ay.length!==_y)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();ba=sortPaths(ba),Ay=sortPaths(Ay);for(var Ey=Sa.done,My=Sa.during,Dy=Sa.individualDelay,Iy=new Transformable,Ly=0;Ly<_y;Ly++){var Py=ba[Ly],Ry=Ay[Ly];Ry.parent=ua,Ry.copyTransform(Iy),Dy||prepareMorphPath(Py,Ry)}ua.__isCombineMorphing=!0,ua.childrenRef=function(){return Ay};function Vy(Hy){for(var Gy=0;Gy<Ay.length;Gy++)Ay[Gy].addSelfToZr(Hy)}saveAndModifyMethod(ua,"addSelfToZr",{after:function(Hy){Vy(Hy)}}),saveAndModifyMethod(ua,"removeSelfFromZr",{after:function(Hy){for(var Gy=0;Gy<Ay.length;Gy++)Ay[Gy].removeSelfFromZr(Hy)}});function Ny(){ua.__isCombineMorphing=!1,ua.__morphT=-1,ua.childrenRef=null,restoreMethod(ua,"addSelfToZr"),restoreMethod(ua,"removeSelfFromZr")}var By=Ay.length;if(Dy)for(var Oy=By,Fy=function(){Oy--,Oy===0&&(Ny(),Ey&&Ey())},Ly=0;Ly<By;Ly++){var zy=Dy?defaults({delay:(Sa.delay||0)+Dy(Ly,By,ba[Ly],Ay[Ly]),done:Fy},Sa):Sa;morphPath(ba[Ly],Ay[Ly],zy)}else ua.__morphT=0,ua.animateTo({__morphT:1},defaults({during:function(Hy){for(var Gy=0;Gy<By;Gy++){var Wy=Ay[Gy];Wy.__morphT=ua.__morphT,Wy.dirtyShape()}My&&My(Hy)},done:function(){Ny();for(var Hy=0;Hy<ha.length;Hy++)restoreMethod(ha[Hy],"updateTransform");Ey&&Ey()}},Sa));return ua.__zr&&Vy(ua.__zr),{fromIndividuals:ba,toIndividuals:Ay,count:By}}function separateMorph(ha,ua,Sa){var ba=ua.length,ka=[],_y=Sa.dividePath||defaultDividePath;function Ty(Py){for(var Ry=0;Ry<Py.length;Ry++){var Vy=Py[Ry];isCombineMorphing(Vy)?Ty(Vy.childrenRef()):Vy instanceof Path&&ka.push(Vy)}}if(isCombineMorphing(ha)){Ty(ha.childrenRef());var Ay=ka.length;if(Ay<ba)for(var Ey=0,My=Ay;My<ba;My++)ka.push(clonePath(ka[Ey++%Ay]));ka.length=ba}else{ka=_y({path:ha,count:ba});for(var Dy=ha.getComputedTransform(),My=0;My<ka.length;My++)ka[My].setLocalTransform(Dy);if(ka.length!==ba)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}ka=sortPaths(ka),ua=sortPaths(ua);for(var Iy=Sa.individualDelay,My=0;My<ba;My++){var Ly=Iy?defaults({delay:(Sa.delay||0)+Iy(My,ba,ka[My],ua[My])},Sa):Sa;morphPath(ka[My],ua[My],Ly)}return{fromIndividuals:ka,toIndividuals:ua,count:ua.length}}function isMultiple(ha){return isArray$1(ha[0])}function prepareMorphBatches(ha,ua){for(var Sa=[],ba=ha.length,ka=0;ka<ba;ka++)Sa.push({one:ha[ka],many:[]});for(var ka=0;ka<ua.length;ka++){var _y=ua[ka].length,Ty=void 0;for(Ty=0;Ty<_y;Ty++)Sa[Ty%ba].many.push(ua[ka][Ty])}for(var Ay=0,ka=ba-1;ka>=0;ka--)if(!Sa[ka].many.length){var Ey=Sa[Ay].many;if(Ey.length<=1)if(Ay)Ay=0;else return Sa;var _y=Ey.length,My=Math.ceil(_y/2);Sa[ka].many=Ey.slice(My,_y),Sa[Ay].many=Ey.slice(0,My),Ay++}return Sa}var pathDividers={clone:function(ha){for(var ua=[],Sa=1-Math.pow(1-ha.path.style.opacity,1/ha.count),ba=0;ba<ha.count;ba++){var ka=clonePath(ha.path);ka.setStyle("opacity",Sa),ua.push(ka)}return ua},split:null};function applyMorphAnimation(ha,ua,Sa,ba,ka,_y){if(!ha.length||!ua.length)return;var Ty=getAnimationConfig("update",ba,ka);if(!(Ty&&Ty.duration>0))return;var Ay=ba.getModel("universalTransition").get("delay"),Ey=Object.assign({setToFinal:!0},Ty),My,Dy;isMultiple(ha)&&(My=ha,Dy=ua),isMultiple(ua)&&(My=ua,Dy=ha);function Iy(By,Oy,Fy,zy,Hy){var Gy=By.many,Wy=By.one;if(Gy.length===1&&!Hy){var Uy=Oy?Gy[0]:Wy,Yy=Oy?Wy:Gy[0];if(isCombineMorphing(Uy))Iy({many:[Uy],one:Yy},!0,Fy,zy,!0);else{var jy=Ay?defaults({delay:Ay(Fy,zy)},Ey):Ey;morphPath(Uy,Yy,jy),_y(Uy,Yy,Uy,Yy,jy)}}else for(var Ky=defaults({dividePath:pathDividers[Sa],individualDelay:Ay&&function(r_,i_,l_,c_){return Ay(r_+Fy,zy)}},Ey),Xy=Oy?combineMorph(Gy,Wy,Ky):separateMorph(Wy,Gy,Ky),Zy=Xy.fromIndividuals,Jy=Xy.toIndividuals,t_=Zy.length,Qy=0;Qy<t_;Qy++){var jy=Ay?defaults({delay:Ay(Qy,t_)},Ey):Ey;_y(Zy[Qy],Jy[Qy],Oy?Gy[Qy]:By.one,Oy?By.one:Gy[Qy],jy)}}for(var Ly=My?My===ha:ha.length>ua.length,Py=My?prepareMorphBatches(Dy,My):prepareMorphBatches(Ly?ua:ha,[Ly?ha:ua]),Ry=0,Vy=0;Vy<Py.length;Vy++)Ry+=Py[Vy].many.length;for(var Ny=0,Vy=0;Vy<Py.length;Vy++)Iy(Py[Vy],Ly,Ny,Ry),Ny+=Py[Vy].many.length}function getPathList(ha){if(!ha)return[];if(isArray$1(ha)){for(var ua=[],Sa=0;Sa<ha.length;Sa++)ua.push(getPathList(ha[Sa]));return ua}var ba=[];return ha.traverse(function(ka){ka instanceof Path&&!ka.disableMorphing&&!ka.invisible&&!ka.ignore&&ba.push(ka)}),ba}var DATA_COUNT_THRESHOLD=1e4,TRANSITION_NONE=0,TRANSITION_P2C=1,TRANSITION_C2P=2,getUniversalTransitionGlobalStore=makeInner();function getDimension(ha,ua){for(var Sa=ha.dimensions,ba=0;ba<Sa.length;ba++){var ka=ha.getDimensionInfo(Sa[ba]);if(ka&&ka.otherDims[ua]===0)return Sa[ba]}}function getValueByDimension(ha,ua,Sa){var ba=ha.getDimensionInfo(Sa),ka=ba&&ba.ordinalMeta;if(ba){var _y=ha.get(ba.name,ua);return ka&&ka.categories[_y]||_y+""}}function getGroupId(ha,ua,Sa,ba){var ka=ba?"itemChildGroupId":"itemGroupId",_y=getDimension(ha,ka);if(_y){var Ty=getValueByDimension(ha,ua,_y);return Ty}var Ay=ha.getRawDataItem(ua),Ey=ba?"childGroupId":"groupId";if(Ay&&Ay[Ey])return Ay[Ey]+"";if(!ba)return Sa||ha.getId(ua)}function flattenDataDiffItems(ha){var ua=[];return each$f(ha,function(Sa){var ba=Sa.data,ka=Sa.dataGroupId;if(!(ba.count()>DATA_COUNT_THRESHOLD))for(var _y=ba.getIndices(),Ty=0;Ty<_y.length;Ty++)ua.push({data:ba,groupId:getGroupId(ba,Ty,ka,!1),childGroupId:getGroupId(ba,Ty,ka,!0),divide:Sa.divide,dataIndex:Ty})}),ua}function fadeInElement(ha,ua,Sa){ha.traverse(function(ba){ba instanceof Path&&initProps(ba,{style:{opacity:0}},ua,{dataIndex:Sa,isFrom:!0})})}function removeEl(ha){if(ha.parent){var ua=ha.getComputedTransform();ha.setLocalTransform(ua),ha.parent.remove(ha)}}function stopAnimation(ha){ha.stopAnimation(),ha.isGroup&&ha.traverse(function(ua){ua.stopAnimation()})}function animateElementStyles(ha,ua,Sa){var ba=getAnimationConfig("update",Sa,ua);ba&&ha.traverse(function(ka){if(ka instanceof Displayable){var _y=getOldStyle(ka);_y&&ka.animateFrom({style:_y},ba)}})}function isAllIdSame(ha,ua){var Sa=ha.length;if(Sa!==ua.length)return!1;for(var ba=0;ba<Sa;ba++){var ka=ha[ba],_y=ua[ba];if(ka.data.getId(ka.dataIndex)!==_y.data.getId(_y.dataIndex))return!1}return!0}function transitionBetween(ha,ua,Sa){var ba=flattenDataDiffItems(ha),ka=flattenDataDiffItems(ua);function _y(Fy,zy,Hy,Gy,Wy){(Hy||Fy)&&zy.animateFrom({style:Hy&&Hy!==Fy?extend(extend({},Hy.style),Fy.style):Fy.style},Wy)}var Ty=!1,Ay=TRANSITION_NONE,Ey=createHashMap(),My=createHashMap();ba.forEach(function(Fy){Fy.groupId&&Ey.set(Fy.groupId,!0),Fy.childGroupId&&My.set(Fy.childGroupId,!0)});for(var Dy=0;Dy<ka.length;Dy++){var Iy=ka[Dy].groupId;if(My.get(Iy)){Ay=TRANSITION_P2C;break}var Ly=ka[Dy].childGroupId;if(Ly&&Ey.get(Ly)){Ay=TRANSITION_C2P;break}}function Py(Fy,zy){return function(Hy){var Gy=Hy.data,Wy=Hy.dataIndex;return zy?Gy.getId(Wy):Fy?Ay===TRANSITION_P2C?Hy.childGroupId:Hy.groupId:Ay===TRANSITION_C2P?Hy.childGroupId:Hy.groupId}}var Ry=isAllIdSame(ba,ka),Vy={};if(!Ry)for(var Dy=0;Dy<ka.length;Dy++){var Ny=ka[Dy],By=Ny.data.getItemGraphicEl(Ny.dataIndex);By&&(Vy[By.id]=!0)}function Oy(Fy,zy){var Hy=ba[zy],Gy=ka[Fy],Wy=Gy.data.hostModel,Uy=Hy.data.getItemGraphicEl(Hy.dataIndex),Yy=Gy.data.getItemGraphicEl(Gy.dataIndex);if(Uy===Yy){Yy&&animateElementStyles(Yy,Gy.dataIndex,Wy);return}Uy&&Vy[Uy.id]||Yy&&(stopAnimation(Yy),Uy?(stopAnimation(Uy),removeEl(Uy),Ty=!0,applyMorphAnimation(getPathList(Uy),getPathList(Yy),Gy.divide,Wy,Fy,_y)):fadeInElement(Yy,Wy,Fy))}new DataDiffer(ba,ka,Py(!0,Ry),Py(!1,Ry),null,"multiple").update(Oy).updateManyToOne(function(Fy,zy){var Hy=ka[Fy],Gy=Hy.data,Wy=Gy.hostModel,Uy=Gy.getItemGraphicEl(Hy.dataIndex),Yy=filter(map$1(zy,function(jy){return ba[jy].data.getItemGraphicEl(ba[jy].dataIndex)}),function(jy){return jy&&jy!==Uy&&!Vy[jy.id]});Uy&&(stopAnimation(Uy),Yy.length?(each$f(Yy,function(jy){stopAnimation(jy),removeEl(jy)}),Ty=!0,applyMorphAnimation(getPathList(Yy),getPathList(Uy),Hy.divide,Wy,Fy,_y)):fadeInElement(Uy,Wy,Hy.dataIndex))}).updateOneToMany(function(Fy,zy){var Hy=ba[zy],Gy=Hy.data.getItemGraphicEl(Hy.dataIndex);if(!(Gy&&Vy[Gy.id])){var Wy=filter(map$1(Fy,function(Yy){return ka[Yy].data.getItemGraphicEl(ka[Yy].dataIndex)}),function(Yy){return Yy&&Yy!==Gy}),Uy=ka[Fy[0]].data.hostModel;Wy.length&&(each$f(Wy,function(Yy){return stopAnimation(Yy)}),Gy?(stopAnimation(Gy),removeEl(Gy),Ty=!0,applyMorphAnimation(getPathList(Gy),getPathList(Wy),Hy.divide,Uy,Fy[0],_y)):each$f(Wy,function(Yy){return fadeInElement(Yy,Uy,Fy[0])}))}}).updateManyToMany(function(Fy,zy){new DataDiffer(zy,Fy,function(Hy){return ba[Hy].data.getId(ba[Hy].dataIndex)},function(Hy){return ka[Hy].data.getId(ka[Hy].dataIndex)}).update(function(Hy,Gy){Oy(Fy[Hy],zy[Gy])}).execute()}).execute(),Ty&&each$f(ua,function(Fy){var zy=Fy.data,Hy=zy.hostModel,Gy=Hy&&Sa.getViewOfSeriesModel(Hy),Wy=getAnimationConfig("update",Hy,0);Gy&&Hy.isAnimationEnabled()&&Wy&&Wy.duration>0&&Gy.group.traverse(function(Uy){Uy instanceof Path&&!Uy.animators.length&&Uy.animateFrom({style:{opacity:0}},Wy)})})}function getSeriesTransitionKey(ha){var ua=ha.getModel("universalTransition").get("seriesKey");return ua||ha.id}function convertArraySeriesKeyToString(ha){return isArray$1(ha)?ha.sort().join(","):ha}function getDivideShapeFromData(ha){if(ha.hostModel)return ha.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(ha,ua){var Sa=createHashMap(),ba=createHashMap(),ka=createHashMap();return each$f(ha.oldSeries,function(_y,Ty){var Ay=ha.oldDataGroupIds[Ty],Ey=ha.oldData[Ty],My=getSeriesTransitionKey(_y),Dy=convertArraySeriesKeyToString(My);ba.set(Dy,{dataGroupId:Ay,data:Ey}),isArray$1(My)&&each$f(My,function(Iy){ka.set(Iy,{key:Dy,dataGroupId:Ay,data:Ey})})}),each$f(ua.updatedSeries,function(_y){if(_y.isUniversalTransitionEnabled()&&_y.isAnimationEnabled()){var Ty=_y.get("dataGroupId"),Ay=_y.getData(),Ey=getSeriesTransitionKey(_y),My=convertArraySeriesKeyToString(Ey),Dy=ba.get(My);if(Dy)Sa.set(My,{oldSeries:[{dataGroupId:Dy.dataGroupId,divide:getDivideShapeFromData(Dy.data),data:Dy.data}],newSeries:[{dataGroupId:Ty,divide:getDivideShapeFromData(Ay),data:Ay}]});else if(isArray$1(Ey)){var Iy=[];each$f(Ey,function(Ry){var Vy=ba.get(Ry);Vy.data&&Iy.push({dataGroupId:Vy.dataGroupId,divide:getDivideShapeFromData(Vy.data),data:Vy.data})}),Iy.length&&Sa.set(My,{oldSeries:Iy,newSeries:[{dataGroupId:Ty,data:Ay,divide:getDivideShapeFromData(Ay)}]})}else{var Ly=ka.get(Ey);if(Ly){var Py=Sa.get(Ly.key);Py||(Py={oldSeries:[{dataGroupId:Ly.dataGroupId,data:Ly.data,divide:getDivideShapeFromData(Ly.data)}],newSeries:[]},Sa.set(Ly.key,Py)),Py.newSeries.push({dataGroupId:Ty,data:Ay,divide:getDivideShapeFromData(Ay)})}}}}),Sa}function querySeries(ha,ua){for(var Sa=0;Sa<ha.length;Sa++){var ba=ua.seriesIndex!=null&&ua.seriesIndex===ha[Sa].seriesIndex||ua.seriesId!=null&&ua.seriesId===ha[Sa].id;if(ba)return Sa}}function transitionSeriesFromOpt(ha,ua,Sa,ba){var ka=[],_y=[];each$f(normalizeToArray(ha.from),function(Ty){var Ay=querySeries(ua.oldSeries,Ty);Ay>=0&&ka.push({dataGroupId:ua.oldDataGroupIds[Ay],data:ua.oldData[Ay],divide:getDivideShapeFromData(ua.oldData[Ay]),groupIdDim:Ty.dimension})}),each$f(normalizeToArray(ha.to),function(Ty){var Ay=querySeries(Sa.updatedSeries,Ty);if(Ay>=0){var Ey=Sa.updatedSeries[Ay].getData();_y.push({dataGroupId:ua.oldDataGroupIds[Ay],data:Ey,divide:getDivideShapeFromData(Ey),groupIdDim:Ty.dimension})}}),ka.length>0&&_y.length>0&&transitionBetween(ka,_y,ba)}function installUniversalTransition(ha){ha.registerUpdateLifecycle("series:beforeupdate",function(ua,Sa,ba){each$f(normalizeToArray(ba.seriesTransition),function(ka){each$f(normalizeToArray(ka.to),function(_y){for(var Ty=ba.updatedSeries,Ay=0;Ay<Ty.length;Ay++)(_y.seriesIndex!=null&&_y.seriesIndex===Ty[Ay].seriesIndex||_y.seriesId!=null&&_y.seriesId===Ty[Ay].id)&&(Ty[Ay][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),ha.registerUpdateLifecycle("series:transition",function(ua,Sa,ba){var ka=getUniversalTransitionGlobalStore(Sa);if(ka.oldSeries&&ba.updatedSeries&&ba.optionChanged){var _y=ba.seriesTransition;if(_y)each$f(normalizeToArray(_y),function(Py){transitionSeriesFromOpt(Py,ka,ba,Sa)});else{var Ty=findTransitionSeriesBatches(ka,ba);each$f(Ty.keys(),function(Py){var Ry=Ty.get(Py);transitionBetween(Ry.oldSeries,Ry.newSeries,Sa)})}each$f(ba.updatedSeries,function(Py){Py[SERIES_UNIVERSAL_TRANSITION_PROP]&&(Py[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var Ay=ua.getSeries(),Ey=ka.oldSeries=[],My=ka.oldDataGroupIds=[],Dy=ka.oldData=[],Iy=0;Iy<Ay.length;Iy++){var Ly=Ay[Iy].getData();Ly.count()<DATA_COUNT_THRESHOLD&&(Ey.push(Ay[Iy]),My.push(Ay[Iy].get("dataGroupId")),Dy.push(Ly))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);const _hoisted_1$a={class:"side"},_hoisted_2$9={class:"stats"},_hoisted_3$9={class:"stat"},_hoisted_4$9={class:"dot total"},_hoisted_5$9={class:"stat"},_hoisted_6$6={class:"dot people"},_hoisted_7$5={class:"stat"},_hoisted_8$5={class:"dot vehicle"},_hoisted_9$5={class:"stat"},_hoisted_10$5={class:"dot object"},_hoisted_11$5={class:"stat"},_hoisted_12$5={class:"dot enter"},_hoisted_13$5={class:"stat"},_hoisted_14$4={class:"dot exit"},_hoisted_15$4={class:"confidence-display"},_hoisted_16$4={class:"confidence-value"},_hoisted_17$3={class:"detection-list"},_hoisted_18$3={class:"detection-time"},_hoisted_19$3={class:"detection-info"},_hoisted_20$3={class:"detection-confidence"},_sfc_main$c=defineComponent({__name:"VideoRecognitionLeft",props:{detections:{},stats:{}},setup(ha){const ua=ha,Sa=ref();let ba=null;const ka=ref([]),_y=computed(()=>{const My={人员:0,车辆:0,设备:0,异常物体:0};return ua.detections.forEach(Dy=>{My.hasOwnProperty(Dy.label)&&My[Dy.label]++}),[{name:"人员",value:My.人员,itemStyle:{color:"#4C8BF5"}},{name:"车辆",value:My.车辆,itemStyle:{color:"#E91E63"}},{name:"设备",value:My.设备,itemStyle:{color:"#FFC107"}},{name:"异常物体",value:My.异常物体,itemStyle:{color:"#FF5722"}}].filter(Dy=>Dy.value>0)});watch(()=>ua.detections,My=>{const Dy=My.map(Iy=>({...Iy,timestamp:Date.now()}));ka.value=[...Dy,...ka.value].slice(0,20),Ay()},{deep:!0});const Ty=()=>{if(!Sa.value)return;ba=init$1(Sa.value);const My={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"检测类型",type:"pie",radius:["40%","70%"],center:["50%","50%"],data:_y.value,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{show:!1},labelLine:{show:!1}}]};ba.setOption(My)},Ay=()=>{ba&&ba.setOption({series:[{data:_y.value}]})},Ey=My=>new Date(My).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return onMounted(()=>{Ty()}),onUnmounted(()=>{ba&&ba.dispose()}),(My,Dy)=>(openBlock(),createElementBlock("aside",_hoisted_1$a,[createVNode$1(FluentCard,{title:"实时识别统计",strong:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$9,[createBaseVNode("div",_hoisted_4$9,toDisplayString(My.stats.totalDetections),1),Dy[0]||(Dy[0]=createBaseVNode("div",{class:"lab"},"总检测数",-1))]),createBaseVNode("div",_hoisted_5$9,[createBaseVNode("div",_hoisted_6$6,toDisplayString(My.stats.peopleCount),1),Dy[1]||(Dy[1]=createBaseVNode("div",{class:"lab"},"人员",-1))]),createBaseVNode("div",_hoisted_7$5,[createBaseVNode("div",_hoisted_8$5,toDisplayString(My.stats.vehicleCount),1),Dy[2]||(Dy[2]=createBaseVNode("div",{class:"lab"},"车辆",-1))]),createBaseVNode("div",_hoisted_9$5,[createBaseVNode("div",_hoisted_10$5,toDisplayString(My.stats.objectCount),1),Dy[3]||(Dy[3]=createBaseVNode("div",{class:"lab"},"物体",-1))]),createBaseVNode("div",_hoisted_11$5,[createBaseVNode("div",_hoisted_12$5,toDisplayString(My.stats.entered??0),1),Dy[4]||(Dy[4]=createBaseVNode("div",{class:"lab"},"进入",-1))]),createBaseVNode("div",_hoisted_13$5,[createBaseVNode("div",_hoisted_14$4,toDisplayString(My.stats.exited??0),1),Dy[5]||(Dy[5]=createBaseVNode("div",{class:"lab"},"离开",-1))])]),createBaseVNode("div",_hoisted_15$4,[Dy[6]||(Dy[6]=createBaseVNode("div",{class:"confidence-label"},"平均置信度",-1)),createBaseVNode("div",_hoisted_16$4,toDisplayString(My.stats.averageConfidence)+"%",1)])]),_:1}),createVNode$1(FluentCard,{title:"检测类型分布",strong:""},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"pieChartRef",ref:Sa,class:"chart-container"},null,512)]),_:1}),createVNode$1(FluentCard,{title:"检测历史",strong:"",scrollable:!0},{default:withCtx(()=>[createBaseVNode("div",_hoisted_17$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.value,Iy=>(openBlock(),createElementBlock("div",{key:Iy.id,class:"detection-item"},[createBaseVNode("div",_hoisted_18$3,toDisplayString(Ey(Iy.timestamp)),1),createBaseVNode("div",_hoisted_19$3,[createBaseVNode("span",{class:normalizeClass(["detection-type",Iy.label])},toDisplayString(Iy.label),3),createBaseVNode("span",_hoisted_20$3,toDisplayString(Iy.confidence)+"%",1)])]))),128))])]),_:1})]))}}),VideoRecognitionLeft=_export_sfc(_sfc_main$c,[["__scopeId","data-v-64d6b2e8"]]),_hoisted_1$9={class:"side"},_hoisted_2$8={class:"detection-details"},_hoisted_3$8={class:"detail-header"},_hoisted_4$8={class:"detail-id"},_hoisted_5$8={class:"detail-info"},_hoisted_6$5={class:"info-row"},_hoisted_7$4={class:"info-value confidence"},_hoisted_8$4={class:"info-row"},_hoisted_9$4={class:"info-value"},_hoisted_10$4={class:"info-row"},_hoisted_11$4={class:"info-value"},_hoisted_12$4={class:"confidence-bar"},_hoisted_13$4={key:0,class:"no-detections"},_sfc_main$b=defineComponent({__name:"VideoRecognitionRight",props:{detections:{},confidenceData:{}},setup(ha){const ua=ha,Sa=ref(),ba=ref();let ka=null,_y=null;const Ty=computed(()=>{const Iy=[];return ua.detections.forEach(Ly=>{const Py=Ly.x+Ly.width/2,Ry=Ly.y+Ly.height/2,Vy=Ly.confidence/100;Iy.push([Math.round(Py),Math.round(Ry),Vy])}),Iy}),Ay=()=>{if(!Sa.value)return;ka=init$1(Sa.value);const Iy={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",data:ua.confidenceData.map(Ly=>Ly.time),axisLabel:{color:"#fff",fontSize:10},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}}},yAxis:{type:"value",min:0,max:100,axisLabel:{color:"#fff",fontSize:10,formatter:"{value}%"},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}}},series:[{name:"置信度",type:"line",data:ua.confidenceData.map(Ly=>Ly.confidence),smooth:!0,symbol:"circle",symbolSize:6,lineStyle:{color:"#4C8BF5",width:3},itemStyle:{color:"#4C8BF5"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(76, 139, 245, 0.4)"},{offset:1,color:"rgba(76, 139, 245, 0.1)"}]}}}],grid:{left:"10%",right:"10%",top:"15%",bottom:"15%"}};ka.setOption(Iy)},Ey=()=>{if(!ba.value)return;_y=init$1(ba.value);const Iy={tooltip:{position:"top",formatter:function(Ly){return`位置: (${Ly.data[0]}, ${Ly.data[1]})<br/>权重: ${(Ly.data[2]*100).toFixed(1)}%`}},xAxis:{type:"value",min:0,max:100,show:!1},yAxis:{type:"value",min:0,max:100,show:!1},visualMap:{min:0,max:1,show:!1,inRange:{color:["rgba(76, 139, 245, 0.1)","rgba(76, 139, 245, 0.8)"]}},series:[{name:"检测热力",type:"scatter",data:Ty.value,symbolSize:function(Ly){return Math.max(Ly[2]*30,5)},itemStyle:{opacity:.8}}],grid:{left:0,right:0,top:0,bottom:0}};_y.setOption(Iy)},My=()=>{ka&&ka.setOption({xAxis:{data:ua.confidenceData.map(Iy=>Iy.time)},series:[{data:ua.confidenceData.map(Iy=>Iy.confidence)}]}),_y&&_y.setOption({series:[{data:Ty.value}]})},Dy=Iy=>Iy>=90?"high":Iy>=70?"medium":"low";return watch(()=>[ua.detections,ua.confidenceData],()=>{My()},{deep:!0}),onMounted(()=>{setTimeout(()=>{Ay(),Ey()},100)}),onUnmounted(()=>{ka&&ka.dispose(),_y&&_y.dispose()}),(Iy,Ly)=>(openBlock(),createElementBlock("aside",_hoisted_1$9,[createVNode$1(FluentCard,{title:"置信度趋势",strong:""},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"confidenceChartRef",ref:Sa,class:"chart-container"},null,512)]),_:1}),createVNode$1(FluentCard,{title:"检测区域分布",strong:""},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"heatmapChartRef",ref:ba,class:"chart-container"},null,512)]),_:1}),createVNode$1(FluentCard,{title:"当前检测详情",strong:"",scrollable:!0},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Iy.detections,Py=>(openBlock(),createElementBlock("div",{key:Py.id,class:"detail-item"},[createBaseVNode("div",_hoisted_3$8,[createBaseVNode("span",{class:normalizeClass(["detail-type",Py.label])},toDisplayString(Py.label),3),createBaseVNode("span",_hoisted_4$8,"#"+toDisplayString(Py.id),1)]),createBaseVNode("div",_hoisted_5$8,[createBaseVNode("div",_hoisted_6$5,[Ly[0]||(Ly[0]=createBaseVNode("span",{class:"info-label"},"置信度:",-1)),createBaseVNode("span",_hoisted_7$4,toDisplayString(Py.confidence)+"%",1)]),createBaseVNode("div",_hoisted_8$4,[Ly[1]||(Ly[1]=createBaseVNode("span",{class:"info-label"},"位置:",-1)),createBaseVNode("span",_hoisted_9$4," ("+toDisplayString(Math.round(Py.x))+", "+toDisplayString(Math.round(Py.y))+") ",1)]),createBaseVNode("div",_hoisted_10$4,[Ly[2]||(Ly[2]=createBaseVNode("span",{class:"info-label"},"尺寸:",-1)),createBaseVNode("span",_hoisted_11$4,toDisplayString(Math.round(Py.width))+"×"+toDisplayString(Math.round(Py.height)),1)])]),createBaseVNode("div",_hoisted_12$4,[createBaseVNode("div",{class:normalizeClass(["confidence-fill",Dy(Py.confidence)]),style:normalizeStyle$1({width:Py.confidence+"%"})},null,6)])]))),128)),Iy.detections.length===0?(openBlock(),createElementBlock("div",_hoisted_13$4,Ly[3]||(Ly[3]=[createBaseVNode("div",{class:"no-detections-icon"},"🔍",-1),createBaseVNode("div",{class:"no-detections-text"},"暂无检测目标",-1)]))):createCommentVNode("",!0)])]),_:1})]))}}),VideoRecognitionRight=_export_sfc(_sfc_main$b,[["__scopeId","data-v-8844f86d"]]);var t=typeof self<"u"?self:{};function e(){throw Error("Invalid UTF8")}function n(ha,ua){return ua=String.fromCharCode.apply(null,ua),ha==null?ua:ha+ua}let r,i;const s=typeof TextDecoder<"u";let o;const a=typeof TextEncoder<"u";function c(ha){if(a)ha=(o||(o=new TextEncoder)).encode(ha);else{let Sa=0;const ba=new Uint8Array(3*ha.length);for(let ka=0;ka<ha.length;ka++){var ua=ha.charCodeAt(ka);if(ua<128)ba[Sa++]=ua;else{if(ua<2048)ba[Sa++]=ua>>6|192;else{if(ua>=55296&&ua<=57343){if(ua<=56319&&ka<ha.length){const _y=ha.charCodeAt(++ka);if(_y>=56320&&_y<=57343){ua=1024*(ua-55296)+_y-56320+65536,ba[Sa++]=ua>>18|240,ba[Sa++]=ua>>12&63|128,ba[Sa++]=ua>>6&63|128,ba[Sa++]=63&ua|128;continue}ka--}ua=65533}ba[Sa++]=ua>>12|224,ba[Sa++]=ua>>6&63|128}ba[Sa++]=63&ua|128}}ha=Sa===ba.length?ba:ba.subarray(0,Sa)}return ha}var h,u;e:{for(var l=["CLOSURE_FLAGS"],d=t,f=0;f<l.length;f++)if((d=d[l[f]])==null){u=null;break e}u=d}var p,g=u&&u[610401301];h=g!=null&&g;const m=t.navigator;function y(ha){return!!h&&!!p&&p.brands.some(({brand:ua})=>ua&&ua.indexOf(ha)!=-1)}function _(ha){var ua;return(ua=t.navigator)&&(ua=ua.userAgent)||(ua=""),ua.indexOf(ha)!=-1}function v(){return!!h&&!!p&&p.brands.length>0}function E(){return v()?y("Chromium"):(_("Chrome")||_("CriOS"))&&!(!v()&&_("Edge"))||_("Silk")}function w(ha){return w[" "](ha),ha}p=m&&m.userAgentData||null,w[" "]=function(){};var T=!v()&&(_("Trident")||_("MSIE"));!_("Android")||E(),E(),_("Safari")&&(E()||!v()&&_("Coast")||!v()&&_("Opera")||!v()&&_("Edge")||(v()?y("Microsoft Edge"):_("Edg/"))||v()&&y("Opera"));var A={},b=null;function k(ha){const ua=ha.length;let Sa=3*ua/4;Sa%3?Sa=Math.floor(Sa):"=.".indexOf(ha[ua-1])!=-1&&(Sa="=.".indexOf(ha[ua-2])!=-1?Sa-2:Sa-1);const ba=new Uint8Array(Sa);let ka=0;return function(_y,Ty){function Ay(My){for(;Ey<_y.length;){const Dy=_y.charAt(Ey++),Iy=b[Dy];if(Iy!=null)return Iy;if(!/^[\s\xa0]*$/.test(Dy))throw Error("Unknown base64 encoding at char: "+Dy)}return My}S();let Ey=0;for(;;){const My=Ay(-1),Dy=Ay(0),Iy=Ay(64),Ly=Ay(64);if(Ly===64&&My===-1)break;Ty(My<<2|Dy>>4),Iy!=64&&(Ty(Dy<<4&240|Iy>>2),Ly!=64&&Ty(Iy<<6&192|Ly))}}(ha,function(_y){ba[ka++]=_y}),ka!==Sa?ba.subarray(0,ka):ba}function S(){if(!b){b={};var ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ua=["+/=","+/","-_=","-_.","-_"];for(let Sa=0;Sa<5;Sa++){const ba=ha.concat(ua[Sa].split(""));A[Sa]=ba;for(let ka=0;ka<ba.length;ka++){const _y=ba[ka];b[_y]===void 0&&(b[_y]=ka)}}}}var x=typeof Uint8Array<"u",L=!T&&typeof btoa=="function";function R(ha){if(!L){var ua;ua===void 0&&(ua=0),S(),ua=A[ua];var Sa=Array(Math.floor(ha.length/3)),ba=ua[64]||"";let Ey=0,My=0;for(;Ey<ha.length-2;Ey+=3){var ka=ha[Ey],_y=ha[Ey+1],Ty=ha[Ey+2],Ay=ua[ka>>2];ka=ua[(3&ka)<<4|_y>>4],_y=ua[(15&_y)<<2|Ty>>6],Ty=ua[63&Ty],Sa[My++]=Ay+ka+_y+Ty}switch(Ay=0,Ty=ba,ha.length-Ey){case 2:Ty=ua[(15&(Ay=ha[Ey+1]))<<2]||ba;case 1:ha=ha[Ey],Sa[My]=ua[ha>>2]+ua[(3&ha)<<4|Ay>>4]+Ty+ba}return Sa.join("")}for(ua="",Sa=0,ba=ha.length-10240;Sa<ba;)ua+=String.fromCharCode.apply(null,ha.subarray(Sa,Sa+=10240));return ua+=String.fromCharCode.apply(null,Sa?ha.subarray(Sa):ha),btoa(ua)}const F=/[-_.]/g,I={"-":"+",_:"/",".":"="};function M(ha){return I[ha]||""}function P(ha){if(!L)return k(ha);F.test(ha)&&(ha=ha.replace(F,M)),ha=atob(ha);const ua=new Uint8Array(ha.length);for(let Sa=0;Sa<ha.length;Sa++)ua[Sa]=ha.charCodeAt(Sa);return ua}function C(ha){return x&&ha!=null&&ha instanceof Uint8Array}var O={};function U(){return B||(B=new N(null,O))}function D(ha){j(O);var ua=ha.g;return(ua=ua==null||C(ua)?ua:typeof ua=="string"?P(ua):null)==null?ua:ha.g=ua}var N=class{h(){return new Uint8Array(D(this)||0)}constructor(ha,ua){if(j(ua),this.g=ha,ha!=null&&ha.length===0)throw Error("ByteString should be constructed with non-empty values")}};let B,G;function j(ha){if(ha!==O)throw Error("illegal external caller")}function V(ha,ua){ha.__closure__error__context__984382||(ha.__closure__error__context__984382={}),ha.__closure__error__context__984382.severity=ua}function X$1(ha){return V(ha=Error(ha),"warning"),ha}function H(ha){if(ha!=null){var ua=G??(G={}),Sa=ua[ha]||0;Sa>=5||(ua[ha]=Sa+1,V(ha=Error(),"incident"),function(ba){t.setTimeout(()=>{throw ba},0)}(ha))}}var W=typeof Symbol=="function"&&typeof Symbol()=="symbol";function z(ha,ua,Sa=!1){return typeof Symbol=="function"&&typeof Symbol()=="symbol"?Sa&&Symbol.for&&ha?Symbol.for(ha):ha!=null?Symbol(ha):Symbol():ua}var K$1=z("jas",void 0,!0),Y$1=z(void 0,"0di"),$=z(void 0,"1oa"),q=z(void 0,Symbol()),J$1=z(void 0,"0actk"),Z=z(void 0,"8utk");const Q=W?K$1:"Ea",tt$1={Ea:{value:0,configurable:!0,writable:!0,enumerable:!1}},et$1=Object.defineProperties;function nt$1(ha,ua){W||Q in ha||et$1(ha,tt$1),ha[Q]|=ua}function rt$1(ha,ua){W||Q in ha||et$1(ha,tt$1),ha[Q]=ua}function it$1(ha){return nt$1(ha,34),ha}function st$1(ha,ua){rt$1(ua,-15615&(0|ha))}function ot$1(ha,ua){rt$1(ua,-15581&(34|ha))}function at$1(){return typeof BigInt=="function"}function ct$1(ha){return Array.prototype.slice.call(ha)}var ht$1,ut={};function lt(ha){return ha!==null&&typeof ha=="object"&&!Array.isArray(ha)&&ha.constructor===Object}function dt(ha,ua){if(ha!=null){if(typeof ha=="string")ha=ha?new N(ha,O):U();else if(ha.constructor!==N)if(C(ha))ha=ha.length?new N(new Uint8Array(ha),O):U();else{if(!ua)throw Error();ha=void 0}}return ha}const ft$1=[];function pt$1(ha){if(2&ha)throw Error()}rt$1(ft$1,55),ht$1=Object.freeze(ft$1);let gt$1=class{constructor(ua,Sa,ba){this.g=ua,this.h=Sa,this.l=ba}next(){const ua=this.g.next();return ua.done||(ua.value=this.h.call(this.l,ua.value)),ua}[Symbol.iterator](){return this}};function mt$1(ha){return q?ha[q]:void 0}var yt$1=Object.freeze({});function _t$1(ha){return ha.Na=!0,ha}var vt=_t$1(ha=>typeof ha=="number"),Et$1=_t$1(ha=>typeof ha=="string"),wt$1=_t$1(ha=>typeof ha=="boolean"),Tt$1=typeof t.BigInt=="function"&&typeof t.BigInt(0)=="bigint";function At(ha){var ua=ha;if(Et$1(ua)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(ua))throw Error(String(ua))}else if(vt(ua)&&!Number.isSafeInteger(ua))throw Error(String(ua));return Tt$1?BigInt(ha):ha=wt$1(ha)?ha?"1":"0":Et$1(ha)?ha.trim()||"0":String(ha)}var bt$1=_t$1(ha=>Tt$1?ha>=St$1&&ha<=Lt$1:ha[0]==="-"?Rt$1(ha,kt$1):Rt$1(ha,xt$1));const kt$1=Number.MIN_SAFE_INTEGER.toString(),St$1=Tt$1?BigInt(Number.MIN_SAFE_INTEGER):void 0,xt$1=Number.MAX_SAFE_INTEGER.toString(),Lt$1=Tt$1?BigInt(Number.MAX_SAFE_INTEGER):void 0;function Rt$1(ha,ua){if(ha.length>ua.length)return!1;if(ha.length<ua.length||ha===ua)return!0;for(let Sa=0;Sa<ha.length;Sa++){const ba=ha[Sa],ka=ua[Sa];if(ba>ka)return!1;if(ba<ka)return!0}}const Ft$1=typeof Uint8Array.prototype.slice=="function";let It,Mt$1=0,Pt$1=0;function Ct$1(ha){const ua=ha>>>0;Mt$1=ua,Pt$1=(ha-ua)/4294967296>>>0}function Ot(ha){if(ha<0){Ct$1(-ha);const[ua,Sa]=Xt$1(Mt$1,Pt$1);Mt$1=ua>>>0,Pt$1=Sa>>>0}else Ct$1(ha)}function Ut$1(ha){const ua=It||(It=new DataView(new ArrayBuffer(8)));ua.setFloat32(0,+ha,!0),Pt$1=0,Mt$1=ua.getUint32(0,!0)}function Dt(ha,ua){const Sa=4294967296*ua+(ha>>>0);return Number.isSafeInteger(Sa)?Sa:Bt$1(ha,ua)}function Nt$1(ha,ua){const Sa=2147483648&ua;return Sa&&(ua=~ua>>>0,(ha=1+~ha>>>0)==0&&(ua=ua+1>>>0)),typeof(ha=Dt(ha,ua))=="number"?Sa?-ha:ha:Sa?"-"+ha:ha}function Bt$1(ha,ua){if(ha>>>=0,(ua>>>=0)<=2097151)var Sa=""+(4294967296*ua+ha);else at$1()?Sa=""+(BigInt(ua)<<BigInt(32)|BigInt(ha)):(ha=(16777215&ha)+6777216*(Sa=16777215&(ha>>>24|ua<<8))+6710656*(ua=ua>>16&65535),Sa+=8147497*ua,ua*=2,ha>=1e7&&(Sa+=ha/1e7>>>0,ha%=1e7),Sa>=1e7&&(ua+=Sa/1e7>>>0,Sa%=1e7),Sa=ua+Gt(Sa)+Gt(ha));return Sa}function Gt(ha){return ha=String(ha),"0000000".slice(ha.length)+ha}function jt$1(){var ha=Mt$1,ua=Pt$1;if(2147483648&ua)if(at$1())ha=""+(BigInt(0|ua)<<BigInt(32)|BigInt(ha>>>0));else{const[Sa,ba]=Xt$1(ha,ua);ha="-"+Bt$1(Sa,ba)}else ha=Bt$1(ha,ua);return ha}function Vt$1(ha){if(ha.length<16)Ot(Number(ha));else if(at$1())ha=BigInt(ha),Mt$1=Number(ha&BigInt(4294967295))>>>0,Pt$1=Number(ha>>BigInt(32)&BigInt(4294967295));else{const ua=+(ha[0]==="-");Pt$1=Mt$1=0;const Sa=ha.length;for(let ba=ua,ka=(Sa-ua)%6+ua;ka<=Sa;ba=ka,ka+=6){const _y=Number(ha.slice(ba,ka));Pt$1*=1e6,Mt$1=1e6*Mt$1+_y,Mt$1>=4294967296&&(Pt$1+=Math.trunc(Mt$1/4294967296),Pt$1>>>=0,Mt$1>>>=0)}if(ua){const[ba,ka]=Xt$1(Mt$1,Pt$1);Mt$1=ba,Pt$1=ka}}}function Xt$1(ha,ua){return ua=~ua,ha?ha=1+~ha:ua+=1,[ha,ua]}const Ht=typeof BigInt=="function"?BigInt.asIntN:void 0,Wt$1=typeof BigInt=="function"?BigInt.asUintN:void 0,zt=Number.isSafeInteger,Kt$1=Number.isFinite,Yt=Math.trunc,$t$1=At(0);function qt$1(ha){return ha==null||typeof ha=="number"?ha:ha==="NaN"||ha==="Infinity"||ha==="-Infinity"?Number(ha):void 0}function Jt$1(ha){return ha==null||typeof ha=="boolean"?ha:typeof ha=="number"?!!ha:void 0}const Zt$1=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function Qt$1(ha){switch(typeof ha){case"bigint":return!0;case"number":return Kt$1(ha);case"string":return Zt$1.test(ha);default:return!1}}function te(ha){if(ha==null)return ha;if(typeof ha=="string"&&ha)ha=+ha;else if(typeof ha!="number")return;return Kt$1(ha)?0|ha:void 0}function ee(ha){if(ha==null)return ha;if(typeof ha=="string"&&ha)ha=+ha;else if(typeof ha!="number")return;return Kt$1(ha)?ha>>>0:void 0}function ne(ha){if(ha[0]==="-")return!1;const ua=ha.length;return ua<20||ua===20&&Number(ha.substring(0,6))<184467}function re$1(ha){const ua=ha.length;return ha[0]==="-"?ua<20||ua===20&&Number(ha.substring(0,7))>-922337:ua<19||ua===19&&Number(ha.substring(0,6))<922337}function ie(ha){return re$1(ha)?ha:(Vt$1(ha),jt$1())}function se(ha){return ha=Yt(ha),zt(ha)||(Ot(ha),ha=Nt$1(Mt$1,Pt$1)),ha}function oe$1(ha){var ua=Yt(Number(ha));return zt(ua)?String(ua):((ua=ha.indexOf("."))!==-1&&(ha=ha.substring(0,ua)),ie(ha))}function ae$1(ha){var ua=Yt(Number(ha));return zt(ua)?At(ua):((ua=ha.indexOf("."))!==-1&&(ha=ha.substring(0,ua)),at$1()?At(Ht(64,BigInt(ha))):At(ie(ha)))}function ce(ha){if(zt(ha))ha=At(se(ha));else{if(ha=Yt(ha),zt(ha))ha=String(ha);else{const ua=String(ha);re$1(ua)?ha=ua:(Ot(ha),ha=jt$1())}ha=At(ha)}return ha}function he(ha){return ha==null?ha:typeof ha=="bigint"?(bt$1(ha)?ha=Number(ha):(ha=Ht(64,ha),ha=bt$1(ha)?Number(ha):String(ha)),ha):Qt$1(ha)?typeof ha=="number"?se(ha):oe$1(ha):void 0}function ue$1(ha){if(ha==null)return ha;var ua=typeof ha;if(ua==="bigint")return String(Wt$1(64,ha));if(Qt$1(ha)){if(ua==="string")return ua=Yt(Number(ha)),zt(ua)&&ua>=0?ha=String(ua):((ua=ha.indexOf("."))!==-1&&(ha=ha.substring(0,ua)),ne(ha)||(Vt$1(ha),ha=Bt$1(Mt$1,Pt$1))),ha;if(ua==="number")return(ha=Yt(ha))>=0&&zt(ha)?ha:function(Sa){if(Sa<0){Ot(Sa);var ba=Bt$1(Mt$1,Pt$1);return Sa=Number(ba),zt(Sa)?Sa:ba}return ne(ba=String(Sa))?ba:(Ot(Sa),Dt(Mt$1,Pt$1))}(ha)}}function le$1(ha){if(typeof ha!="string")throw Error();return ha}function de(ha){if(ha!=null&&typeof ha!="string")throw Error();return ha}function fe$1(ha){return ha==null||typeof ha=="string"?ha:void 0}function pe(ha,ua,Sa,ba){if(ha!=null&&typeof ha=="object"&&ha.W===ut)return ha;if(!Array.isArray(ha))return Sa?2&ba?((ha=ua[Y$1])||(it$1((ha=new ua).u),ha=ua[Y$1]=ha),ua=ha):ua=new ua:ua=void 0,ua;let ka=Sa=0|ha[Q];return ka===0&&(ka|=32&ba),ka|=2&ba,ka!==Sa&&rt$1(ha,ka),new ua(ha)}function ge(ha,ua,Sa){if(ua)e:{if(!Qt$1(ua=ha))throw X$1("int64");switch(typeof ua){case"string":ua=ae$1(ua);break e;case"bigint":ua=At(Ht(64,ua));break e;default:ua=ce(ua)}}else ha=typeof(ua=ha),ua=ua==null?ua:ha==="bigint"?At(Ht(64,ua)):Qt$1(ua)?ha==="string"?ae$1(ua):ce(ua):void 0;return(ha=ua)==null?Sa?$t$1:void 0:ha}function me(ha){return ha}const ye$1={};let _e$1=function(){try{return w(new class extends Map{constructor(){super()}}),!1}catch{return!0}}(),ve$1=class{constructor(){this.g=new Map}get(ua){return this.g.get(ua)}set(ua,Sa){return this.g.set(ua,Sa),this.size=this.g.size,this}delete(ua){return ua=this.g.delete(ua),this.size=this.g.size,ua}clear(){this.g.clear(),this.size=this.g.size}has(ua){return this.g.has(ua)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(ua,Sa){return this.g.forEach(ua,Sa)}[Symbol.iterator](){return this.entries()}};const Ee$1=_e$1?(Object.setPrototypeOf(ve$1.prototype,Map.prototype),Object.defineProperties(ve$1.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),ve$1):class extends Map{constructor(){super()}};function we$1(ha){return ha}function Te$1(ha){if(2&ha.M)throw Error("Cannot mutate an immutable Map")}var Ae$1=class extends Ee$1{constructor(ua,Sa,ba=we$1,ka=we$1){super();let _y=0|ua[Q];_y|=64,rt$1(ua,_y),this.M=_y,this.I=Sa,this.S=ba,this.X=this.I?be$1:ka;for(let Ty=0;Ty<ua.length;Ty++){const Ay=ua[Ty],Ey=ba(Ay[0],!1,!0);let My=Ay[1];Sa?My===void 0&&(My=null):My=ka(Ay[1],!1,!0,void 0,void 0,_y),super.set(Ey,My)}}La(){var ua=Ce$1;if(this.size!==0)return Array.from(super.entries(),Sa=>(Sa[0]=ua(Sa[0]),Sa[1]=ua(Sa[1]),Sa))}da(ua=ke){const Sa=[],ba=super.entries();for(var ka;!(ka=ba.next()).done;)(ka=ka.value)[0]=ua(ka[0]),ka[1]=ua(ka[1]),Sa.push(ka);return Sa}clear(){Te$1(this),super.clear()}delete(ua){return Te$1(this),super.delete(this.S(ua,!0,!1))}entries(){if(this.I){var ua=super.keys();ua=new gt$1(ua,Se$1,this)}else ua=super.entries();return ua}values(){if(this.I){var ua=super.keys();ua=new gt$1(ua,Ae$1.prototype.get,this)}else ua=super.values();return ua}forEach(ua,Sa){this.I?super.forEach((ba,ka,_y)=>{ua.call(Sa,_y.get(ka),ka,_y)}):super.forEach(ua,Sa)}set(ua,Sa){return Te$1(this),(ua=this.S(ua,!0,!1))==null?this:Sa==null?(super.delete(ua),this):super.set(ua,this.X(Sa,!0,!0,this.I,!1,this.M))}Ja(ua){const Sa=this.S(ua[0],!1,!0);ua=ua[1],ua=this.I?ua===void 0?null:ua:this.X(ua,!1,!0,void 0,!1,this.M),super.set(Sa,ua)}has(ua){return super.has(this.S(ua,!1,!1))}get(ua){ua=this.S(ua,!1,!1);const Sa=super.get(ua);if(Sa!==void 0){var ba=this.I;return ba?((ba=this.X(Sa,!1,!0,ba,this.pa,this.M))!==Sa&&super.set(ua,ba),ba):Sa}}[Symbol.iterator](){return this.entries()}};function be$1(ha,ua,Sa,ba,ka,_y){return ha=pe(ha,ba,Sa,_y),ka&&(ha=je$1(ha)),ha}function ke(ha){return ha}function Se$1(ha){return[ha,this.get(ha)]}let xe$1,Le,Re$1,Fe$1;function Ie$1(){return xe$1||(xe$1=new Ae$1(it$1([]),void 0,void 0,void 0,ye$1))}function Me$1(ha,ua,Sa,ba,ka){if(ha!=null){if(Array.isArray(ha)){const _y=0|ha[Q];return ha.length===0&&1&_y?void 0:ka&&2&_y?ha:Pe(ha,ua,Sa,ba!==void 0,ka)}return ua(ha,ba)}}function Pe(ha,ua,Sa,ba,ka){const _y=ba||Sa?0|ha[Q]:0,Ty=ba?!!(32&_y):void 0;let Ay=0;const Ey=(ba=ct$1(ha)).length;for(let Ry=0;Ry<Ey;Ry++){var My=ba[Ry];if(Ry===Ey-1&&lt(My)){var Dy=ua,Iy=Sa,Ly=Ty,Py=ka;let Vy;for(let Ny in My){const By=Me$1(My[Ny],Dy,Iy,Ly,Py);By!=null&&((Vy??(Vy={}))[Ny]=By)}My=Vy}else My=Me$1(ba[Ry],ua,Sa,Ty,ka);ba[Ry]=My,My!=null&&(Ay=Ry+1)}return Ay<Ey&&(ba.length=Ay),Sa&&((ha=mt$1(ha))&&(ba[q]=ct$1(ha)),Sa(_y,ba)),ba}function Ce$1(ha){return Me$1(ha,Oe$1,void 0,void 0,!1)}function Oe$1(ha){switch(typeof ha){case"number":return Number.isFinite(ha)?ha:""+ha;case"bigint":return bt$1(ha)?Number(ha):""+ha;case"boolean":return ha?1:0;case"object":if(C(ha))return C(ha)&&H(Z),R(ha);if(ha.W===ut)return Ue$1(ha);if(ha instanceof N){const ua=ha.g;return ua==null?"":typeof ua=="string"?ua:ha.g=R(ua)}return ha instanceof Ae$1?ha.La():void 0}return ha}function Ue$1(ha){var ua=ha.u;ha=Pe(ua,Oe$1,void 0,void 0,!1);var Sa=0|ua[Q];if((ua=ha.length)&&!(512&Sa)){var ba=ha[ua-1],ka=!1;lt(ba)?(ua--,ka=!0):ba=void 0;var _y=ua-(Sa=512&Sa?0:-1),Ty=(Le??me)(_y,Sa,ha,ba);if(ba&&(ha[ua]=void 0),_y<Ty&&ba){for(var Ay in _y=!0,ba){const Ey=+Ay;Ey<=Ty?(ha[ka=Ey+Sa]=ba[Ay],ua=Math.max(ka+1,ua),ka=!1,delete ba[Ay]):_y=!1}_y&&(ba=void 0)}for(_y=ua-1;ua>0;_y=ua-1)if((Ay=ha[_y])==null)ua--,ka=!0;else{if(!((_y-=Sa)>=Ty))break;(ba??(ba={}))[_y]=Ay,ua--,ka=!0}ka&&(ha.length=ua),ba&&ha.push(ba)}return ha}function De(ha,ua,Sa){return ha=Ne(ha,ua[0],ua[1],Sa?1:2),ua!==Re$1&&Sa&&nt$1(ha,8192),ha}function Ne(ha,ua,Sa,ba){if(ha==null){var ka=96;Sa?(ha=[Sa],ka|=512):ha=[],ua&&(ka=-16760833&ka|(1023&ua)<<14)}else{if(!Array.isArray(ha))throw Error("narr");if(8192&(ka=0|ha[Q])||!(64&ka)||2&ka||H(J$1),1024&ka)throw Error("farr");if(64&ka)return ha;if(ba===1||ba===2||(ka|=64),Sa&&(ka|=512,Sa!==ha[0]))throw Error("mid");e:{var _y=(Sa=ha).length;if(_y){var Ty=_y-1;if(lt(ba=Sa[Ty])){if((Ty-=ua=512&(ka|=256)?0:-1)>=1024)throw Error("pvtlmt");for(var Ay in ba)(_y=+Ay)<Ty&&(Sa[_y+ua]=ba[Ay],delete ba[Ay]);ka=-16760833&ka|(1023&Ty)<<14;break e}}if(ua){if((Ay=Math.max(ua,_y-(512&ka?0:-1)))>1024)throw Error("spvt");ka=-16760833&ka|(1023&Ay)<<14}}}return rt$1(ha,ka),ha}function Be$1(ha,ua,Sa=ot$1){if(ha!=null){if(x&&ha instanceof Uint8Array)return ua?ha:new Uint8Array(ha);if(Array.isArray(ha)){var ba=0|ha[Q];return 2&ba?ha:(ua&&(ua=ba===0||!!(32&ba)&&!(64&ba||!(16&ba))),ua?(rt$1(ha,34|ba),4&ba&&Object.freeze(ha),ha):Pe(ha,Be$1,4&ba?ot$1:Sa,!0,!0))}return ha.W===ut?ha=2&(ba=0|(Sa=ha.u)[Q])?ha:new ha.constructor(Ge$1(Sa,ba,!0)):ha instanceof Ae$1&&!(2&ha.M)&&(Sa=it$1(ha.da(Be$1)),ha=new Ae$1(Sa,ha.I,ha.S,ha.X)),ha}}function Ge$1(ha,ua,Sa){const ba=Sa||2&ua?ot$1:st$1,ka=!!(32&ua);return ha=function(_y,Ty,Ay){const Ey=ct$1(_y);var My=Ey.length;const Dy=256&Ty?Ey[My-1]:void 0;for(My+=Dy?-1:0,Ty=512&Ty?1:0;Ty<My;Ty++)Ey[Ty]=Ay(Ey[Ty]);if(Dy){Ty=Ey[Ty]={};for(const Iy in Dy)Ty[Iy]=Ay(Dy[Iy])}return(_y=mt$1(_y))&&(Ey[q]=ct$1(_y)),Ey}(ha,ua,_y=>Be$1(_y,ka,ba)),nt$1(ha,32|(Sa?2:0)),ha}function je$1(ha){const ua=ha.u,Sa=0|ua[Q];return 2&Sa?new ha.constructor(Ge$1(ua,Sa,!1)):ha}function Ve(ha,ua){return Xe$1(ha=ha.u,0|ha[Q],ua)}function Xe$1(ha,ua,Sa){if(Sa===-1)return null;const ba=Sa+(512&ua?0:-1),ka=ha.length-1;return ba>=ka&&256&ua?ha[ka][Sa]:ba<=ka?ha[ba]:void 0}function He$1(ha,ua,Sa){const ba=ha.u;let ka=0|ba[Q];return pt$1(ka),We(ba,ka,ua,Sa),ha}function We(ha,ua,Sa,ba){const ka=512&ua?0:-1,_y=Sa+ka;var Ty=ha.length-1;return _y>=Ty&&256&ua?(ha[Ty][Sa]=ba,ua):_y<=Ty?(ha[_y]=ba,ua):(ba!==void 0&&(Sa>=(Ty=ua>>14&1023||536870912)?ba!=null&&(ha[Ty+ka]={[Sa]:ba},rt$1(ha,ua|=256)):ha[_y]=ba),ua)}function ze$1(ha,ua){let Sa=0|(ha=ha.u)[Q];const ba=Xe$1(ha,Sa,ua),ka=qt$1(ba);return ka!=null&&ka!==ba&&We(ha,Sa,ua,ka),ka}function Ke$1(ha){let ua=0|(ha=ha.u)[Q];const Sa=Xe$1(ha,ua,1),ba=dt(Sa,!0);return ba!=null&&ba!==Sa&&We(ha,ua,1,ba),ba}function Ye$1(){return yt$1===void 0?2:4}function $e$1(ha,ua,Sa,ba,ka){const _y=ha.u,Ty=2&(ha=0|_y[Q])?1:ba;ka=!!ka;let Ay=0|(ba=qe$1(_y,ha,ua))[Q];if(!(4&Ay)){4&Ay&&(ba=ct$1(ba),Ay=pn(Ay,ha),ha=We(_y,ha,ua,ba));let Ey=0,My=0;for(;Ey<ba.length;Ey++){const Dy=Sa(ba[Ey]);Dy!=null&&(ba[My++]=Dy)}My<Ey&&(ba.length=My),Ay=Je(Ay,ha),Sa=-2049&(20|Ay),Ay=Sa&=-4097,rt$1(ba,Ay),2&Ay&&Object.freeze(ba)}return Ty===1||Ty===4&&32&Ay?Ze$1(Ay)||(ka=Ay,Ay|=2,Ay!==ka&&rt$1(ba,Ay),Object.freeze(ba)):(Ty===2&&Ze$1(Ay)&&(ba=ct$1(ba),Ay=pn(Ay,ha),Ay=gn$1(Ay,ha,ka),rt$1(ba,Ay),ha=We(_y,ha,ua,ba)),Ze$1(Ay)||(ua=Ay,Ay=gn$1(Ay,ha,ka),Ay!==ua&&rt$1(ba,Ay))),ba}function qe$1(ha,ua,Sa){return ha=Xe$1(ha,ua,Sa),Array.isArray(ha)?ha:ht$1}function Je(ha,ua){return ha===0&&(ha=pn(ha,ua)),1|ha}function Ze$1(ha){return!!(2&ha)&&!!(4&ha)||!!(1024&ha)}function Qe(ha){ha=ct$1(ha);for(let ua=0;ua<ha.length;ua++){const Sa=ha[ua]=ct$1(ha[ua]);Array.isArray(Sa[1])&&(Sa[1]=it$1(Sa[1]))}return ha}function tn$1(ha,ua,Sa,ba){let ka=0|(ha=ha.u)[Q];pt$1(ka),We(ha,ka,ua,(ba==="0"?Number(Sa)===0:Sa===ba)?void 0:Sa)}function en$1(ha,ua,Sa,ba){pt$1(ua);let ka=qe$1(ha,ua,Sa);const _y=ka!==ht$1;if(64&ua||!(8192&ua)||!_y){const Ty=_y?0|ka[Q]:0;let Ay=Ty;(!_y||2&Ay||Ze$1(Ay)||4&Ay&&!(32&Ay))&&(ka=ct$1(ka),Ay=pn(Ay,ua),ua=We(ha,ua,Sa,ka)),Ay=-13&Je(Ay,ua),Ay=gn$1(ba?-17&Ay:16|Ay,ua,!0),Ay!==Ty&&rt$1(ka,Ay)}return ka}function nn$1(ha,ua){var Sa=Ts$1;return on$1(rn$1(ha=ha.u),ha,0|ha[Q],Sa)===ua?ua:-1}function rn$1(ha){if(W)return ha[$]??(ha[$]=new Map);if($ in ha)return ha[$];const ua=new Map;return Object.defineProperty(ha,$,{value:ua}),ua}function sn$1(ha,ua,Sa,ba){const ka=rn$1(ha),_y=on$1(ka,ha,ua,Sa);return _y!==ba&&(_y&&(ua=We(ha,ua,_y)),ka.set(Sa,ba)),ua}function on$1(ha,ua,Sa,ba){let ka=ha.get(ba);if(ka!=null)return ka;ka=0;for(let _y=0;_y<ba.length;_y++){const Ty=ba[_y];Xe$1(ua,Sa,Ty)!=null&&(ka!==0&&(Sa=We(ua,Sa,ka)),ka=Ty)}return ha.set(ba,ka),ka}function an$1(ha,ua,Sa){let ba=0|ha[Q];const ka=Xe$1(ha,ba,Sa);let _y;if(ka!=null&&ka.W===ut)return(ua=je$1(ka))!==ka&&We(ha,ba,Sa,ua),ua.u;if(Array.isArray(ka)){const Ty=0|ka[Q];_y=2&Ty?De(Ge$1(ka,Ty,!1),ua,!0):64&Ty?ka:De(_y,ua,!0)}else _y=De(void 0,ua,!0);return _y!==ka&&We(ha,ba,Sa,_y),_y}function cn(ha,ua,Sa){let ba=0|(ha=ha.u)[Q];const ka=Xe$1(ha,ba,Sa);return(ua=pe(ka,ua,!1,ba))!==ka&&ua!=null&&We(ha,ba,Sa,ua),ua}function hn(ha,ua,Sa){if((ua=cn(ha,ua,Sa))==null)return ua;let ba=0|(ha=ha.u)[Q];if(!(2&ba)){const ka=je$1(ua);ka!==ua&&We(ha,ba,Sa,ua=ka)}return ua}function un(ha,ua,Sa,ba,ka,_y,Ty){ha=ha.u;var Ay=!!(2&ua);const Ey=Ay?1:ka;_y=!!_y,Ty&&(Ty=!Ay);var My=0|(ka=qe$1(ha,ua,ba))[Q];if(!(Ay=!!(4&My))){var Dy=ka,Iy=ua;const Ly=!!(2&(My=Je(My,ua)));Ly&&(Iy|=2);let Py=!Ly,Ry=!0,Vy=0,Ny=0;for(;Vy<Dy.length;Vy++){const By=pe(Dy[Vy],Sa,!1,Iy);if(By instanceof Sa){if(!Ly){const Oy=!!(2&(0|By.u[Q]));Py&&(Py=!Oy),Ry&&(Ry=Oy)}Dy[Ny++]=By}}Ny<Vy&&(Dy.length=Ny),My|=4,My=Ry?16|My:-17&My,rt$1(Dy,My=Py?8|My:-9&My),Ly&&Object.freeze(Dy)}if(Ty&&!(8&My||!ka.length&&(Ey===1||Ey===4&&32&My))){for(Ze$1(My)&&(ka=ct$1(ka),My=pn(My,ua),ua=We(ha,ua,ba,ka)),Sa=ka,Ty=My,Dy=0;Dy<Sa.length;Dy++)(My=Sa[Dy])!==(Iy=je$1(My))&&(Sa[Dy]=Iy);Ty|=8,rt$1(Sa,Ty=Sa.length?-17&Ty:16|Ty),My=Ty}return Ey===1||Ey===4&&32&My?Ze$1(My)||(ua=My,(My|=!ka.length||16&My&&(!Ay||32&My)?2:1024)!==ua&&rt$1(ka,My),Object.freeze(ka)):(Ey===2&&Ze$1(My)&&(rt$1(ka=ct$1(ka),My=gn$1(My=pn(My,ua),ua,_y)),ua=We(ha,ua,ba,ka)),Ze$1(My)||(ba=My,(My=gn$1(My,ua,_y))!==ba&&rt$1(ka,My))),ka}function ln$1(ha,ua,Sa){const ba=0|ha.u[Q];return un(ha,ba,ua,Sa,Ye$1(),!1,!(2&ba))}function dn$1(ha,ua,Sa,ba){return ba==null&&(ba=void 0),He$1(ha,Sa,ba)}function fn(ha,ua,Sa,ba){ba==null&&(ba=void 0);e:{let ka=0|(ha=ha.u)[Q];if(pt$1(ka),ba==null){const _y=rn$1(ha);if(on$1(_y,ha,ka,Sa)!==ua)break e;_y.set(Sa,0)}else ka=sn$1(ha,ka,Sa,ua);We(ha,ka,ua,ba)}}function pn(ha,ua){return-1025&(ha=32|(2&ua?2|ha:-3&ha))}function gn$1(ha,ua,Sa){return 32&ua&&Sa||(ha&=-33),ha}function mn(ha,ua,Sa){pt$1(0|ha.u[Q]),$e$1(ha,ua,fe$1,2,!0).push(le$1(Sa))}function yn$1(ha,ua,Sa,ba){const ka=0|ha.u[Q];pt$1(ka),ha=un(ha,ka,Sa,ua,2,!0),ba=ba??new Sa,ha.push(ba),ha[Q]=2&(0|ba.u[Q])?-9&ha[Q]:-17&ha[Q]}function _n$1(ha,ua){return te(Ve(ha,ua))}function vn(ha,ua){return fe$1(Ve(ha,ua))}function En$1(ha,ua){return ze$1(ha,ua)??0}function wn$1(ha,ua,Sa){if(Sa!=null&&typeof Sa!="boolean")throw ha=typeof Sa,Error(`Expected boolean but got ${ha!="object"?ha:Sa?Array.isArray(Sa)?"array":ha:"null"}: ${Sa}`);He$1(ha,ua,Sa)}function Tn$1(ha,ua,Sa){if(Sa!=null){if(typeof Sa!="number"||!Kt$1(Sa))throw X$1("int32");Sa|=0}He$1(ha,ua,Sa)}function An$1(ha,ua,Sa){if(Sa!=null&&typeof Sa!="number")throw Error(`Value of float/double field must be a number, found ${typeof Sa}: ${Sa}`);He$1(ha,ua,Sa)}function bn$1(ha,ua,Sa){{const Ty=ha.u;let Ay=0|Ty[Q];if(pt$1(Ay),Sa==null)We(Ty,Ay,ua);else{var ba=ha=0|Sa[Q],ka=Ze$1(ha),_y=ka||Object.isFrozen(Sa);for(ka||(ha=0),_y||(Sa=ct$1(Sa),ba=0,ha=gn$1(ha=pn(ha,Ay),Ay,!0),_y=!1),ha|=21,ka=0;ka<Sa.length;ka++){const Ey=Sa[ka],My=le$1(Ey);Object.is(Ey,My)||(_y&&(Sa=ct$1(Sa),ba=0,ha=gn$1(ha=pn(ha,Ay),Ay,!0),_y=!1),Sa[ka]=My)}ha!==ba&&(_y&&(Sa=ct$1(Sa),ha=gn$1(ha=pn(ha,Ay),Ay,!0)),rt$1(Sa,ha)),We(Ty,Ay,ua,Sa)}}}function kn$1(ha,ua){return Error(`Invalid wire type: ${ha} (at position ${ua})`)}function Sn$1(){return Error("Failed to read varint, encoding is invalid.")}function xn$1(ha,ua){return Error(`Tried to read past the end of the data ${ua} > ${ha}`)}function Ln$1(ha){if(typeof ha=="string")return{buffer:P(ha),O:!1};if(Array.isArray(ha))return{buffer:new Uint8Array(ha),O:!1};if(ha.constructor===Uint8Array)return{buffer:ha,O:!1};if(ha.constructor===ArrayBuffer)return{buffer:new Uint8Array(ha),O:!1};if(ha.constructor===N)return{buffer:D(ha)||new Uint8Array(0),O:!0};if(ha instanceof Uint8Array)return{buffer:new Uint8Array(ha.buffer,ha.byteOffset,ha.byteLength),O:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Rn$1(ha,ua){let Sa,ba=0,ka=0,_y=0;const Ty=ha.h;let Ay=ha.g;do Sa=Ty[Ay++],ba|=(127&Sa)<<_y,_y+=7;while(_y<32&&128&Sa);for(_y>32&&(ka|=(127&Sa)>>4),_y=3;_y<32&&128&Sa;_y+=7)Sa=Ty[Ay++],ka|=(127&Sa)<<_y;if(Dn$1(ha,Ay),Sa<128)return ua(ba>>>0,ka>>>0);throw Sn$1()}function Fn$1(ha){let ua=0,Sa=ha.g;const ba=Sa+10,ka=ha.h;for(;Sa<ba;){const _y=ka[Sa++];if(ua|=_y,(128&_y)==0)return Dn$1(ha,Sa),!!(127&ua)}throw Sn$1()}function In$1(ha){const ua=ha.h;let Sa=ha.g,ba=ua[Sa++],ka=127&ba;if(128&ba&&(ba=ua[Sa++],ka|=(127&ba)<<7,128&ba&&(ba=ua[Sa++],ka|=(127&ba)<<14,128&ba&&(ba=ua[Sa++],ka|=(127&ba)<<21,128&ba&&(ba=ua[Sa++],ka|=ba<<28,128&ba&&128&ua[Sa++]&&128&ua[Sa++]&&128&ua[Sa++]&&128&ua[Sa++]&&128&ua[Sa++])))))throw Sn$1();return Dn$1(ha,Sa),ka}function Mn$1(ha){return In$1(ha)>>>0}function Pn$1(ha){var ua=ha.h;const Sa=ha.g,ba=ua[Sa],ka=ua[Sa+1],_y=ua[Sa+2];return ua=ua[Sa+3],Dn$1(ha,ha.g+4),(ba<<0|ka<<8|_y<<16|ua<<24)>>>0}function Cn$1(ha){var ua=Pn$1(ha);ha=2*(ua>>31)+1;const Sa=ua>>>23&255;return ua&=8388607,Sa==255?ua?NaN:ha*(1/0):Sa==0?1401298464324817e-60*ha*ua:ha*Math.pow(2,Sa-150)*(ua+8388608)}function On$1(ha){return In$1(ha)}function Un(ha,ua,{aa:Sa=!1}={}){ha.aa=Sa,ua&&(ua=Ln$1(ua),ha.h=ua.buffer,ha.m=ua.O,ha.j=0,ha.l=ha.h.length,ha.g=ha.j)}function Dn$1(ha,ua){if(ha.g=ua,ua>ha.l)throw xn$1(ha.l,ua)}function Nn(ha,ua){if(ua<0)throw Error(`Tried to read a negative byte length: ${ua}`);const Sa=ha.g,ba=Sa+ua;if(ba>ha.l)throw xn$1(ua,ha.l-Sa);return ha.g=ba,Sa}function Bn$1(ha,ua){if(ua==0)return U();var Sa=Nn(ha,ua);return ha.aa&&ha.m?Sa=ha.h.subarray(Sa,Sa+ua):(ha=ha.h,Sa=Sa===(ua=Sa+ua)?new Uint8Array(0):Ft$1?ha.slice(Sa,ua):new Uint8Array(ha.subarray(Sa,ua))),Sa.length==0?U():new N(Sa,O)}Ae$1.prototype.toJSON=void 0;var Gn=[];function jn$1(ha){var ua=ha.g;if(ua.g==ua.l)return!1;ha.l=ha.g.g;var Sa=Mn$1(ha.g);if(ua=Sa>>>3,!((Sa&=7)>=0&&Sa<=5))throw kn$1(Sa,ha.l);if(ua<1)throw Error(`Invalid field number: ${ua} (at position ${ha.l})`);return ha.m=ua,ha.h=Sa,!0}function Vn$1(ha){switch(ha.h){case 0:ha.h!=0?Vn$1(ha):Fn$1(ha.g);break;case 1:Dn$1(ha=ha.g,ha.g+8);break;case 2:if(ha.h!=2)Vn$1(ha);else{var ua=Mn$1(ha.g);Dn$1(ha=ha.g,ha.g+ua)}break;case 5:Dn$1(ha=ha.g,ha.g+4);break;case 3:for(ua=ha.m;;){if(!jn$1(ha))throw Error("Unmatched start-group tag: stream EOF");if(ha.h==4){if(ha.m!=ua)throw Error("Unmatched end-group tag");break}Vn$1(ha)}break;default:throw kn$1(ha.h,ha.l)}}function Xn(ha,ua,Sa){const ba=ha.g.l,ka=Mn$1(ha.g),_y=ha.g.g+ka;let Ty=_y-ba;if(Ty<=0&&(ha.g.l=_y,Sa(ua,ha,void 0,void 0,void 0),Ty=_y-ha.g.g),Ty)throw Error(`Message parsing ended unexpectedly. Expected to read ${ka} bytes, instead read ${ka-Ty} bytes, either the data ended unexpectedly or the message misreported its own length`);return ha.g.g=_y,ha.g.l=ba,ua}function Hn(ha){var ua=Mn$1(ha.g),Sa=Nn(ha=ha.g,ua);if(ha=ha.h,s){var ba,ka=ha;(ba=i)||(ba=i=new TextDecoder("utf-8",{fatal:!0})),ua=Sa+ua,ka=Sa===0&&ua===ka.length?ka:ka.subarray(Sa,ua);try{var _y=ba.decode(ka)}catch(Ay){if(r===void 0){try{ba.decode(new Uint8Array([128]))}catch{}try{ba.decode(new Uint8Array([97])),r=!0}catch{r=!1}}throw!r&&(i=void 0),Ay}}else{ua=(_y=Sa)+ua,Sa=[];let Ay,Ey=null;for(;_y<ua;){var Ty=ha[_y++];Ty<128?Sa.push(Ty):Ty<224?_y>=ua?e():(Ay=ha[_y++],Ty<194||(192&Ay)!=128?(_y--,e()):Sa.push((31&Ty)<<6|63&Ay)):Ty<240?_y>=ua-1?e():(Ay=ha[_y++],(192&Ay)!=128||Ty===224&&Ay<160||Ty===237&&Ay>=160||(192&(ba=ha[_y++]))!=128?(_y--,e()):Sa.push((15&Ty)<<12|(63&Ay)<<6|63&ba)):Ty<=244?_y>=ua-2?e():(Ay=ha[_y++],(192&Ay)!=128||Ay-144+(Ty<<28)>>30||(192&(ba=ha[_y++]))!=128||(192&(ka=ha[_y++]))!=128?(_y--,e()):(Ty=(7&Ty)<<18|(63&Ay)<<12|(63&ba)<<6|63&ka,Ty-=65536,Sa.push(55296+(Ty>>10&1023),56320+(1023&Ty)))):e(),Sa.length>=8192&&(Ey=n(Ey,Sa),Sa.length=0)}_y=n(Ey,Sa)}return _y}function Wn$1(ha){const ua=Mn$1(ha.g);return Bn$1(ha.g,ua)}function zn$1(ha,ua,Sa){var ba=Mn$1(ha.g);for(ba=ha.g.g+ba;ha.g.g<ba;)Sa.push(ua(ha.g))}var Kn=[];function Yn(ha,ua,Sa){ua.g?ua.m(ha,ua.g,ua.h,Sa):ua.m(ha,ua.h,Sa)}var $n$1=class{constructor(ua,Sa){this.u=Ne(ua,Sa)}toJSON(){try{var ua=Ue$1(this)}finally{Le=void 0}return ua}l(){var ua=_o;return ua.g?ua.l(this,ua.g,ua.h):ua.l(this,ua.h,ua.defaultValue)}clone(){const ua=this.u;return new this.constructor(Ge$1(ua,0|ua[Q],!1))}O(){return!!(2&(0|this.u[Q]))}};function qn$1(ha){return ha?/^\d+$/.test(ha)?(Vt$1(ha),new Jn(Mt$1,Pt$1)):null:Zn||(Zn=new Jn(0,0))}$n$1.prototype.W=ut,$n$1.prototype.toString=function(){return this.u.toString()};var Jn=class{constructor(ha,ua){this.h=ha>>>0,this.g=ua>>>0}};let Zn;function Qn$1(ha){return ha?/^-?\d+$/.test(ha)?(Vt$1(ha),new tr(Mt$1,Pt$1)):null:er||(er=new tr(0,0))}var tr=class{constructor(ha,ua){this.h=ha>>>0,this.g=ua>>>0}};let er;function nr(ha,ua,Sa){for(;Sa>0||ua>127;)ha.g.push(127&ua|128),ua=(ua>>>7|Sa<<25)>>>0,Sa>>>=7;ha.g.push(ua)}function rr(ha,ua){for(;ua>127;)ha.g.push(127&ua|128),ua>>>=7;ha.g.push(ua)}function ir(ha,ua){if(ua>=0)rr(ha,ua);else{for(let Sa=0;Sa<9;Sa++)ha.g.push(127&ua|128),ua>>=7;ha.g.push(1)}}function sr(ha,ua){ha.g.push(ua>>>0&255),ha.g.push(ua>>>8&255),ha.g.push(ua>>>16&255),ha.g.push(ua>>>24&255)}function or(ha,ua){ua.length!==0&&(ha.l.push(ua),ha.h+=ua.length)}function ar(ha,ua,Sa){rr(ha.g,8*ua+Sa)}function cr$1(ha,ua){return ar(ha,ua,2),ua=ha.g.end(),or(ha,ua),ua.push(ha.h),ua}function hr$1(ha,ua){var Sa=ua.pop();for(Sa=ha.h+ha.g.length()-Sa;Sa>127;)ua.push(127&Sa|128),Sa>>>=7,ha.h++;ua.push(Sa),ha.h++}function ur$1(ha,ua,Sa){ar(ha,ua,2),rr(ha.g,Sa.length),or(ha,ha.g.end()),or(ha,Sa)}function lr$1(ha,ua,Sa,ba){Sa!=null&&(ua=cr$1(ha,ua),ba(Sa,ha),hr$1(ha,ua))}function dr$1(){const ha=class{constructor(){throw Error()}};return Object.setPrototypeOf(ha,ha.prototype),ha}var fr$1=dr$1(),pr$1=dr$1(),gr$1=dr$1(),mr$1=dr$1(),yr$1=dr$1(),_r$1=dr$1(),vr$1=dr$1(),Er$1=dr$1(),wr$1=dr$1(),Tr$1=class{constructor(ua,Sa,ba){this.g=ua,this.h=Sa,ua=fr$1,this.l=!!ua&&ba===ua||!1}};function Ar$1(ha,ua){return new Tr$1(ha,ua,fr$1)}function br$1(ha,ua,Sa,ba,ka){lr$1(ha,Sa,Or$1(ua,ba),ka)}const kr$1=Ar$1(function(ha,ua,Sa,ba,ka){return ha.h===2&&(Xn(ha,an$1(ua,ba,Sa),ka),!0)},br$1),Sr$1=Ar$1(function(ha,ua,Sa,ba,ka){return ha.h===2&&(Xn(ha,an$1(ua,ba,Sa),ka),!0)},br$1);var xr$1=Symbol(),Lr$1=Symbol(),Rr$1=Symbol(),Fr$1=Symbol();let Ir$1,Mr$1;function Pr$1(ha,ua,Sa,ba){var ka=ba[ha];if(ka)return ka;(ka={}).Ma=ba,ka.T=function(Iy){switch(typeof Iy){case"boolean":return Re$1||(Re$1=[0,void 0,!0]);case"number":return Iy>0?void 0:Iy===0?Fe$1||(Fe$1=[0,void 0]):[-Iy,void 0];case"string":return[0,Iy];case"object":return Iy}}(ba[0]);var _y=ba[1];let Ty=1;_y&&_y.constructor===Object&&(ka.ga=_y,typeof(_y=ba[++Ty])=="function"&&(ka.la=!0,Ir$1??(Ir$1=_y),Mr$1??(Mr$1=ba[Ty+1]),_y=ba[Ty+=2]));const Ay={};for(;_y&&Array.isArray(_y)&&_y.length&&typeof _y[0]=="number"&&_y[0]>0;){for(var Ey=0;Ey<_y.length;Ey++)Ay[_y[Ey]]=_y;_y=ba[++Ty]}for(Ey=1;_y!==void 0;){let Iy;typeof _y=="number"&&(Ey+=_y,_y=ba[++Ty]);var My=void 0;if(_y instanceof Tr$1?Iy=_y:(Iy=kr$1,Ty--),Iy==null?void 0:Iy.l){_y=ba[++Ty],My=ba;var Dy=Ty;typeof _y=="function"&&(_y=_y(),My[Dy]=_y),My=_y}for(Dy=Ey+1,typeof(_y=ba[++Ty])=="number"&&_y<0&&(Dy-=_y,_y=ba[++Ty]);Ey<Dy;Ey++){const Ly=Ay[Ey];My?Sa(ka,Ey,Iy,My,Ly):ua(ka,Ey,Iy,Ly)}}return ba[ha]=ka}function Cr$1(ha){return Array.isArray(ha)?ha[0]instanceof Tr$1?ha:[Sr$1,ha]:[ha,void 0]}function Or$1(ha,ua){return ha instanceof $n$1?ha.u:Array.isArray(ha)?De(ha,ua,!1):void 0}function Ur$1(ha,ua,Sa,ba){const ka=Sa.g;ha[ua]=ba?(_y,Ty,Ay)=>ka(_y,Ty,Ay,ba):ka}function Dr$1(ha,ua,Sa,ba,ka){const _y=Sa.g;let Ty,Ay;ha[ua]=(Ey,My,Dy)=>_y(Ey,My,Dy,Ay||(Ay=Pr$1(Lr$1,Ur$1,Dr$1,ba).T),Ty||(Ty=Nr$1(ba)),ka)}function Nr$1(ha){let ua=ha[Rr$1];if(ua!=null)return ua;const Sa=Pr$1(Lr$1,Ur$1,Dr$1,ha);return ua=Sa.la?(ba,ka)=>Ir$1(ba,ka,Sa):(ba,ka)=>{const _y=0|ba[Q];for(;jn$1(ka)&&ka.h!=4;){var Ty=ka.m,Ay=Sa[Ty];if(Ay==null){var Ey=Sa.ga;Ey&&(Ey=Ey[Ty])&&(Ey=Br$1(Ey))!=null&&(Ay=Sa[Ty]=Ey)}Ay!=null&&Ay(ka,ba,Ty)||(Ty=(Ay=ka).l,Vn$1(Ay),Ay.fa?Ay=void 0:(Ey=Ay.g.g-Ty,Ay.g.g=Ty,Ay=Bn$1(Ay.g,Ey)),Ty=ba,Ay&&((Ey=Ty[q])?Ey.push(Ay):Ty[q]=[Ay]))}return 8192&_y&&it$1(ba),!0},ha[Rr$1]=ua}function Br$1(ha){const ua=(ha=Cr$1(ha))[0].g;if(ha=ha[1]){const Sa=Nr$1(ha),ba=Pr$1(Lr$1,Ur$1,Dr$1,ha).T;return(ka,_y,Ty)=>ua(ka,_y,Ty,ba,Sa)}return ua}function Gr$1(ha,ua,Sa){ha[ua]=Sa.h}function jr$1(ha,ua,Sa,ba){let ka,_y;const Ty=Sa.h;ha[ua]=(Ay,Ey,My)=>Ty(Ay,Ey,My,_y||(_y=Pr$1(xr$1,Gr$1,jr$1,ba).T),ka||(ka=Vr$1(ba)))}function Vr$1(ha){let ua=ha[Fr$1];if(!ua){const Sa=Pr$1(xr$1,Gr$1,jr$1,ha);ua=(ba,ka)=>Xr$1(ba,ka,Sa),ha[Fr$1]=ua}return ua}function Xr$1(ha,ua,Sa){(function(ba,ka,_y){const Ty=512&ka?0:-1,Ay=ba.length,Ey=Ay+((ka=64&ka?256&ka:!!Ay&&lt(ba[Ay-1]))?-1:0);for(let My=0;My<Ey;My++)_y(My-Ty,ba[My]);if(ka){ba=ba[Ay-1];for(const My in ba)!isNaN(My)&&_y(+My,ba[My])}})(ha,0|ha[Q]|(Sa.T[1]?512:0),(ba,ka)=>{if(ka!=null){var _y=function(Ty,Ay){var Ey=Ty[Ay];if(Ey)return Ey;if((Ey=Ty.ga)&&(Ey=Ey[Ay])){var My=(Ey=Cr$1(Ey))[0].h;if(Ey=Ey[1]){const Dy=Vr$1(Ey),Iy=Pr$1(xr$1,Gr$1,jr$1,Ey).T;Ey=Ty.la?Mr$1(Iy,Dy):(Ly,Py,Ry)=>My(Ly,Py,Ry,Iy,Dy)}else Ey=My;return Ty[Ay]=Ey}}(Sa,ba);_y&&_y(ua,ka,ba)}}),(ha=mt$1(ha))&&function(ba,ka){or(ba,ba.g.end());for(let _y=0;_y<ka.length;_y++)or(ba,D(ka[_y])||new Uint8Array(0))}(ua,ha)}function Hr$1(ha,ua){if(Array.isArray(ua)){var Sa=0|ua[Q];if(4&Sa)return ua;for(var ba=0,ka=0;ba<ua.length;ba++){const _y=ha(ua[ba]);_y!=null&&(ua[ka++]=_y)}return ka<ba&&(ua.length=ka),rt$1(ua,-6145&(5|Sa)),2&Sa&&Object.freeze(ua),ua}}function Wr$1(ha,ua,Sa){return new Tr$1(ha,ua,Sa)}function zr$1(ha,ua,Sa){return new Tr$1(ha,ua,Sa)}function Kr$1(ha,ua,Sa){We(ha,0|ha[Q],ua,Sa)}var Yr$1=Ar$1(function(ha,ua,Sa,ba,ka){return ha.h===2&&(ha=Xn(ha,De([void 0,void 0],ba,!0),ka),pt$1(ba=0|ua[Q]),(ka=Xe$1(ua,ba,Sa))instanceof Ae$1?2&ka.M?((ka=ka.da()).push(ha),We(ua,ba,Sa,ka)):ka.Ja(ha):Array.isArray(ka)?(2&(0|ka[Q])&&We(ua,ba,Sa,ka=Qe(ka)),ka.push(ha)):We(ua,ba,Sa,[ha]),!0)},function(ha,ua,Sa,ba,ka){if(ua instanceof Ae$1)ua.forEach((_y,Ty)=>{lr$1(ha,Sa,De([Ty,_y],ba,!1),ka)});else if(Array.isArray(ua))for(let _y=0;_y<ua.length;_y++){const Ty=ua[_y];Array.isArray(Ty)&&lr$1(ha,Sa,De(Ty,ba,!1),ka)}});function $r$1(ha,ua,Sa){if(ua=function(ba){if(ba==null)return ba;const ka=typeof ba;if(ka==="bigint")return String(Ht(64,ba));if(Qt$1(ba)){if(ka==="string")return oe$1(ba);if(ka==="number")return se(ba)}}(ua),ua!=null&&(typeof ua=="string"&&Qn$1(ua),ua!=null))switch(ar(ha,Sa,0),typeof ua){case"number":ha=ha.g,Ot(ua),nr(ha,Mt$1,Pt$1);break;case"bigint":Sa=BigInt.asUintN(64,ua),Sa=new tr(Number(Sa&BigInt(4294967295)),Number(Sa>>BigInt(32))),nr(ha.g,Sa.h,Sa.g);break;default:Sa=Qn$1(ua),nr(ha.g,Sa.h,Sa.g)}}function qr$1(ha,ua,Sa){(ua=te(ua))!=null&&ua!=null&&(ar(ha,Sa,0),ir(ha.g,ua))}function Jr$1(ha,ua,Sa){(ua=Jt$1(ua))!=null&&(ar(ha,Sa,0),ha.g.g.push(ua?1:0))}function Zr$1(ha,ua,Sa){(ua=fe$1(ua))!=null&&ur$1(ha,Sa,c(ua))}function Qr$1(ha,ua,Sa,ba,ka){lr$1(ha,Sa,Or$1(ua,ba),ka)}function ti$1(ha,ua,Sa){ua==null||typeof ua=="string"||ua instanceof N||(C(ua)?C(ua)&&H(Z):ua=void 0),ua!=null&&ur$1(ha,Sa,Ln$1(ua).buffer)}function ei$1(ha,ua,Sa){return(ha.h===5||ha.h===2)&&(ua=en$1(ua,0|ua[Q],Sa,!1),ha.h==2?zn$1(ha,Cn$1,ua):ua.push(Cn$1(ha.g)),!0)}var ni$1=Wr$1(function(ha,ua,Sa){if(ha.h!==1)return!1;var ba=ha.g;ha=Pn$1(ba);const ka=Pn$1(ba);ba=2*(ka>>31)+1;const _y=ka>>>20&2047;return ha=4294967296*(1048575&ka)+ha,Kr$1(ua,Sa,_y==2047?ha?NaN:ba*(1/0):_y==0?5e-324*ba*ha:ba*Math.pow(2,_y-1075)*(ha+4503599627370496)),!0},function(ha,ua,Sa){(ua=qt$1(ua))!=null&&(ar(ha,Sa,1),ha=ha.g,(Sa=It||(It=new DataView(new ArrayBuffer(8)))).setFloat64(0,+ua,!0),Mt$1=Sa.getUint32(0,!0),Pt$1=Sa.getUint32(4,!0),sr(ha,Mt$1),sr(ha,Pt$1))},dr$1()),ri$1=Wr$1(function(ha,ua,Sa){return ha.h===5&&(Kr$1(ua,Sa,Cn$1(ha.g)),!0)},function(ha,ua,Sa){(ua=qt$1(ua))!=null&&(ar(ha,Sa,5),ha=ha.g,Ut$1(ua),sr(ha,Mt$1))},vr$1),ii$1=zr$1(ei$1,function(ha,ua,Sa){if((ua=Hr$1(qt$1,ua))!=null)for(let Ty=0;Ty<ua.length;Ty++){var ba=ha,ka=Sa,_y=ua[Ty];_y!=null&&(ar(ba,ka,5),ba=ba.g,Ut$1(_y),sr(ba,Mt$1))}},vr$1),si$1=zr$1(ei$1,function(ha,ua,Sa){if((ua=Hr$1(qt$1,ua))!=null&&ua.length){ar(ha,Sa,2),rr(ha.g,4*ua.length);for(let ba=0;ba<ua.length;ba++)Sa=ha.g,Ut$1(ua[ba]),sr(Sa,Mt$1)}},vr$1),oi$1=Wr$1(function(ha,ua,Sa){return ha.h===0&&(Kr$1(ua,Sa,Rn$1(ha.g,Nt$1)),!0)},$r$1,_r$1),ai$1=Wr$1(function(ha,ua,Sa){return ha.h===0&&(Kr$1(ua,Sa,(ha=Rn$1(ha.g,Nt$1))===0?void 0:ha),!0)},$r$1,_r$1),ci$1=Wr$1(function(ha,ua,Sa){return ha.h===0&&(Kr$1(ua,Sa,Rn$1(ha.g,Dt)),!0)},function(ha,ua,Sa){if((ua=ue$1(ua))!=null&&(typeof ua=="string"&&qn$1(ua),ua!=null))switch(ar(ha,Sa,0),typeof ua){case"number":ha=ha.g,Ot(ua),nr(ha,Mt$1,Pt$1);break;case"bigint":Sa=BigInt.asUintN(64,ua),Sa=new Jn(Number(Sa&BigInt(4294967295)),Number(Sa>>BigInt(32))),nr(ha.g,Sa.h,Sa.g);break;default:Sa=qn$1(ua),nr(ha.g,Sa.h,Sa.g)}},dr$1()),hi$1=Wr$1(function(ha,ua,Sa){return ha.h===0&&(Kr$1(ua,Sa,In$1(ha.g)),!0)},qr$1,mr$1),ui$1=zr$1(function(ha,ua,Sa){return(ha.h===0||ha.h===2)&&(ua=en$1(ua,0|ua[Q],Sa,!1),ha.h==2?zn$1(ha,In$1,ua):ua.push(In$1(ha.g)),!0)},function(ha,ua,Sa){if((ua=Hr$1(te,ua))!=null&&ua.length){Sa=cr$1(ha,Sa);for(let ba=0;ba<ua.length;ba++)ir(ha.g,ua[ba]);hr$1(ha,Sa)}},mr$1),li$1=Wr$1(function(ha,ua,Sa){return ha.h===0&&(Kr$1(ua,Sa,(ha=In$1(ha.g))===0?void 0:ha),!0)},qr$1,mr$1),di$1=Wr$1(function(ha,ua,Sa){return ha.h===0&&(Kr$1(ua,Sa,Fn$1(ha.g)),!0)},Jr$1,pr$1),fi$1=Wr$1(function(ha,ua,Sa){return ha.h===0&&(Kr$1(ua,Sa,(ha=Fn$1(ha.g))===!1?void 0:ha),!0)},Jr$1,pr$1),pi$1=zr$1(function(ha,ua,Sa){return ha.h===2&&(ha=Hn(ha),en$1(ua,0|ua[Q],Sa,!1).push(ha),!0)},function(ha,ua,Sa){if((ua=Hr$1(fe$1,ua))!=null)for(let Ty=0;Ty<ua.length;Ty++){var ba=ha,ka=Sa,_y=ua[Ty];_y!=null&&ur$1(ba,ka,c(_y))}},gr$1),gi$1=Wr$1(function(ha,ua,Sa){return ha.h===2&&(Kr$1(ua,Sa,(ha=Hn(ha))===""?void 0:ha),!0)},Zr$1,gr$1),mi$1=Wr$1(function(ha,ua,Sa){return ha.h===2&&(Kr$1(ua,Sa,Hn(ha)),!0)},Zr$1,gr$1),yi$1=function(ha,ua,Sa=fr$1){return new Tr$1(ha,ua,Sa)}(function(ha,ua,Sa,ba,ka){return ha.h===2&&(ba=De(void 0,ba,!0),en$1(ua,0|ua[Q],Sa,!0).push(ba),Xn(ha,ba,ka),!0)},function(ha,ua,Sa,ba,ka){if(Array.isArray(ua))for(let _y=0;_y<ua.length;_y++)Qr$1(ha,ua[_y],Sa,ba,ka)}),_i$1=Ar$1(function(ha,ua,Sa,ba,ka,_y){return ha.h===2&&(sn$1(ua,0|ua[Q],_y,Sa),Xn(ha,ua=an$1(ua,ba,Sa),ka),!0)},Qr$1),vi$1=Wr$1(function(ha,ua,Sa){return ha.h===2&&(Kr$1(ua,Sa,Wn$1(ha)),!0)},ti$1,Er$1),Ei=zr$1(function(ha,ua,Sa){return(ha.h===0||ha.h===2)&&(ua=en$1(ua,0|ua[Q],Sa,!1),ha.h==2?zn$1(ha,Mn$1,ua):ua.push(Mn$1(ha.g)),!0)},function(ha,ua,Sa){if((ua=Hr$1(ee,ua))!=null)for(let Ty=0;Ty<ua.length;Ty++){var ba=ha,ka=Sa,_y=ua[Ty];_y!=null&&(ar(ba,ka,0),rr(ba.g,_y))}},yr$1),wi$1=Wr$1(function(ha,ua,Sa){return ha.h===0&&(Kr$1(ua,Sa,(ha=Mn$1(ha.g))===0?void 0:ha),!0)},function(ha,ua,Sa){(ua=ee(ua))!=null&&ua!=null&&(ar(ha,Sa,0),rr(ha.g,ua))},yr$1),Ti=Wr$1(function(ha,ua,Sa){return ha.h===0&&(Kr$1(ua,Sa,In$1(ha.g)),!0)},function(ha,ua,Sa){(ua=te(ua))!=null&&(ua=parseInt(ua,10),ar(ha,Sa,0),ir(ha.g,ua))},wr$1);class Ai{constructor(ua,Sa){this.h=ua,this.g=Sa,this.l=hn,this.m=dn$1,this.defaultValue=void 0}register(){w(this)}}function bi$1(ha,ua){return new Ai(ha,ua)}function ki$1(ha,ua){return(Sa,ba)=>{if(Kn.length){const _y=Kn.pop();_y.o(ba),Un(_y.g,Sa,ba),Sa=_y}else Sa=new class{constructor(_y,Ty){if(Gn.length){const Ay=Gn.pop();Un(Ay,_y,Ty),_y=Ay}else _y=new class{constructor(Ay,Ey){this.h=null,this.m=!1,this.g=this.l=this.j=0,Un(this,Ay,Ey)}clear(){this.h=null,this.m=!1,this.g=this.l=this.j=0,this.aa=!1}}(_y,Ty);this.g=_y,this.l=this.g.g,this.h=this.m=-1,this.o(Ty)}o({fa:_y=!1}={}){this.fa=_y}}(Sa,ba);try{const _y=new ha,Ty=_y.u;Nr$1(ua)(Ty,Sa);var ka=_y}finally{Sa.g.clear(),Sa.m=-1,Sa.h=-1,Kn.length<100&&Kn.push(Sa)}return ka}}function Si$1(ha){return function(){const ua=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){const Ty=this.g;return this.g=[],Ty}}}};Xr$1(this.u,ua,Pr$1(xr$1,Gr$1,jr$1,ha)),or(ua,ua.g.end());const Sa=new Uint8Array(ua.h),ba=ua.l,ka=ba.length;let _y=0;for(let Ty=0;Ty<ka;Ty++){const Ay=ba[Ty];Sa.set(Ay,_y),_y+=Ay.length}return ua.l=[Sa],Sa}}var xi=class extends $n$1{constructor(ha){super(ha)}},Li$1=[0,gi$1,Wr$1(function(ha,ua,Sa){return ha.h===2&&(Kr$1(ua,Sa,(ha=Wn$1(ha))===U()?void 0:ha),!0)},function(ha,ua,Sa){if(ua!=null){if(ua instanceof $n$1){const ba=ua.Oa;return void(ba&&(ua=ba(ua),ua!=null&&ur$1(ha,Sa,Ln$1(ua).buffer)))}if(Array.isArray(ua))return}ti$1(ha,ua,Sa)},Er$1)];let Ri,Fi$1=globalThis.trustedTypes;function Ii$1(ha){Ri===void 0&&(Ri=function(){let Sa=null;if(!Fi$1)return Sa;try{const ba=ka=>ka;Sa=Fi$1.createPolicy("goog#html",{createHTML:ba,createScript:ba,createScriptURL:ba})}catch{}return Sa}());var ua=Ri;return new class{constructor(Sa){this.g=Sa}toString(){return this.g+""}}(ua?ua.createScriptURL(ha):ha)}function Mi(ha,...ua){if(ua.length===0)return Ii$1(ha[0]);let Sa=ha[0];for(let ba=0;ba<ua.length;ba++)Sa+=encodeURIComponent(ua[ba])+ha[ba+1];return Ii$1(Sa)}var Pi$1=[0,hi$1,Ti,di$1,-1,ui$1,Ti,-1],Ci$1=class extends $n$1{constructor(ua){super(ua)}},Oi$1=[0,di$1,mi$1,di$1,Ti,-1,zr$1(function(ha,ua,Sa){return(ha.h===0||ha.h===2)&&(ua=en$1(ua,0|ua[Q],Sa,!1),ha.h==2?zn$1(ha,On$1,ua):ua.push(In$1(ha.g)),!0)},function(ha,ua,Sa){if((ua=Hr$1(te,ua))!=null&&ua.length){Sa=cr$1(ha,Sa);for(let ba=0;ba<ua.length;ba++)ir(ha.g,ua[ba]);hr$1(ha,Sa)}},wr$1),mi$1,-1,[0,di$1,-1],Ti,di$1,-1],Ui$1=[0,mi$1,-2],Di$1=class extends $n$1{constructor(ua){super(ua)}},Ni$1=[0],Bi=[0,hi$1,di$1,1,di$1,-3],Gi$1=class extends $n$1{constructor(ua){super(ua,2)}},ji$1={};ji$1[336783863]=[0,mi$1,di$1,-1,hi$1,[0,[1,2,3,4,5,6,7,8,9],_i$1,Ni$1,_i$1,Oi$1,_i$1,Ui$1,_i$1,Bi,_i$1,Pi$1,_i$1,[0,mi$1,-2],_i$1,[0,mi$1,Ti],_i$1,[0,Ti,mi$1,-1],_i$1,[0,Ti,-1]],[0,mi$1],di$1,[0,[1,3],[2,4],_i$1,[0,ui$1],-1,_i$1,[0,pi$1],-1,yi$1,[0,mi$1,-1]],mi$1];var Vi=[0,ai$1,-1,fi$1,-3,ai$1,ui$1,gi$1,li$1,ai$1,-1,fi$1,li$1,fi$1,-2,gi$1];function Xi(ha,ua){tn$1(ha,2,de(ua),"")}function Hi$1(ha,ua){mn(ha,3,ua)}function Wi(ha,ua){mn(ha,4,ua)}var zi$1=class extends $n$1{constructor(ua){super(ua,500)}o(ua){return dn$1(this,0,7,ua)}},Ki=[-1,{}],Yi$1=[0,mi$1,1,Ki],$i$1=[0,mi$1,pi$1,Ki];function qi$1(ha,ua){yn$1(ha,1,zi$1,ua)}function Ji(ha,ua){mn(ha,10,ua)}function Zi(ha,ua){mn(ha,15,ua)}var Qi=class extends $n$1{constructor(ha){super(ha,500)}o(ha){return dn$1(this,0,1001,ha)}},ts$1=[-500,yi$1,[-500,gi$1,-1,pi$1,-3,[-2,ji$1,di$1],yi$1,Li$1,li$1,-1,Yi$1,$i$1,yi$1,[0,gi$1,fi$1],gi$1,Vi,li$1,pi$1,987,pi$1],4,yi$1,[-500,mi$1,-1,[-1,{}],998,mi$1],yi$1,[-500,mi$1,pi$1,-1,[-2,{},di$1],997,pi$1,-1],li$1,yi$1,[-500,mi$1,pi$1,Ki,998,pi$1],pi$1,li$1,Yi$1,$i$1,yi$1,[0,gi$1,-1,Ki],pi$1,-2,Vi,gi$1,-1,fi$1,[0,fi$1,wi$1],978,Ki,yi$1,Li$1];Qi.prototype.g=Si$1(ts$1);var es=ki$1(Qi,ts$1),ns$1=class extends $n$1{constructor(ua){super(ua)}},rs=class extends $n$1{constructor(ha){super(ha)}g(){return ln$1(this,ns$1,1)}},is$1=[0,yi$1,[0,hi$1,ri$1,mi$1,-1]],ss$1=ki$1(rs,is$1),os=class extends $n$1{constructor(ha){super(ha)}},as=class extends $n$1{constructor(ha){super(ha)}},cs$1=class extends $n$1{constructor(ua){super(ua)}h(){return hn(this,os,2)}g(){return ln$1(this,as,5)}},hs$1=ki$1(class extends $n$1{constructor(ha){super(ha)}},[0,pi$1,ui$1,si$1,[0,Ti,[0,hi$1,-3],[0,ri$1,-3],[0,hi$1,-1,[0,yi$1,[0,hi$1,-2]]],yi$1,[0,ri$1,-1,mi$1,ri$1]],mi$1,-1,oi$1,yi$1,[0,hi$1,ri$1],pi$1,oi$1]),us$1=class extends $n$1{constructor(ua){super(ua)}},ls=ki$1(class extends $n$1{constructor(ha){super(ha)}},[0,yi$1,[0,ri$1,-4]]),ds=class extends $n$1{constructor(ha){super(ha)}},fs$1=ki$1(class extends $n$1{constructor(ha){super(ha)}},[0,yi$1,[0,ri$1,-4]]),ps$1=class extends $n$1{constructor(ua){super(ua)}},gs$1=[0,hi$1,-1,si$1,Ti],ms$1=class extends $n$1{constructor(ua){super(ua)}};ms$1.prototype.g=Si$1([0,ri$1,-4,oi$1]);var ys$1=class extends $n$1{constructor(ua){super(ua)}},_s$1=ki$1(class extends $n$1{constructor(ha){super(ha)}},[0,yi$1,[0,1,hi$1,mi$1,is$1],oi$1]),vs$1=class extends $n$1{constructor(ua){super(ua)}},Es=class extends $n$1{constructor(ha){super(ha)}ma(){const ha=Ke$1(this);return ha??U()}},ws$1=class extends $n$1{constructor(ua){super(ua)}},Ts$1=[1,2],As$1=ki$1(class extends $n$1{constructor(ha){super(ha)}},[0,yi$1,[0,Ts$1,_i$1,[0,si$1],_i$1,[0,vi$1],hi$1,mi$1],oi$1]),bs$1=class extends $n$1{constructor(ua){super(ua)}},ks$1=[0,mi$1,hi$1,ri$1,pi$1,-1],Ss$1=class extends $n$1{constructor(ua){super(ua)}},xs$1=[0,di$1,-1],Ls$1=class extends $n$1{constructor(ua){super(ua)}},Rs$1=[1,2,3,4,5],Fs$1=class extends $n$1{constructor(ua){super(ua)}g(){return Ke$1(this)!=null}h(){return vn(this,2)!=null}},Is=class extends $n$1{constructor(ha){super(ha)}g(){return Jt$1(Ve(this,2))??!1}},Ms$1=[0,vi$1,mi$1,[0,hi$1,oi$1,-1],[0,ci$1,oi$1]],Ps$1=[0,Ms$1,di$1,[0,Rs$1,_i$1,Bi,_i$1,Oi$1,_i$1,Pi$1,_i$1,Ni$1,_i$1,Ui$1],Ti],Cs$1=class extends $n$1{constructor(ua){super(ua)}},Os$1=[0,Ps$1,ri$1,-1,hi$1],Us$1=bi$1(502141897,Cs$1);ji$1[502141897]=Os$1;var Ds$1=ki$1(class extends $n$1{constructor(ha){super(ha)}},[0,[0,Ti,-1,ii$1,Ei],gs$1]),Ns$1=class extends $n$1{constructor(ua){super(ua)}},Bs$1=class extends $n$1{constructor(ua){super(ua)}},Gs$1=[0,Ps$1,ri$1,[0,Ps$1],di$1],js$1=[0,Ps$1,Os$1,Gs$1,ri$1,[0,[0,Ms$1]]],Vs$1=bi$1(508968150,Bs$1);ji$1[508968150]=js$1,ji$1[508968149]=Gs$1;var Xs=class extends $n$1{constructor(ha){super(ha)}},Hs$1=bi$1(513916220,Xs);ji$1[513916220]=[0,Ps$1,js$1,hi$1];var Ws$1=class extends $n$1{constructor(ua){super(ua)}h(){return hn(this,bs$1,2)}g(){He$1(this,2)}},zs$1=[0,Ps$1,ks$1];ji$1[478825465]=zs$1;var Ks=class extends $n$1{constructor(ha){super(ha)}},Ys$1=class extends $n$1{constructor(ua){super(ua)}},$s$1=class extends $n$1{constructor(ua){super(ua)}},qs=class extends $n$1{constructor(ha){super(ha)}},Js=class extends $n$1{constructor(ha){super(ha)}},Zs$1=[0,Ps$1,[0,Ps$1],zs$1,-1],Qs=[0,Ps$1,ri$1,hi$1],to$1=[0,Ps$1,ri$1],eo$1=[0,Ps$1,Qs,to$1,ri$1],no$1=bi$1(479097054,Js);ji$1[479097054]=[0,Ps$1,eo$1,Zs$1],ji$1[463370452]=Zs$1,ji$1[464864288]=Qs;var ro$1=bi$1(462713202,qs);ji$1[462713202]=eo$1,ji$1[474472470]=to$1;var io$1=class extends $n$1{constructor(ua){super(ua)}},so$1=class extends $n$1{constructor(ua){super(ua)}},oo$1=class extends $n$1{constructor(ua){super(ua)}},ao$1=class extends $n$1{constructor(ua){super(ua)}},co$1=[0,Ps$1,ri$1,-1,hi$1],ho$1=[0,Ps$1,ri$1,di$1];ao$1.prototype.g=Si$1([0,Ps$1,to$1,[0,Ps$1],Os$1,Gs$1,co$1,ho$1]);var uo$1=class extends $n$1{constructor(ua){super(ua)}},lo$1=bi$1(456383383,uo$1);ji$1[456383383]=[0,Ps$1,ks$1];var fo$1=class extends $n$1{constructor(ua){super(ua)}},po$1=bi$1(476348187,fo$1);ji$1[476348187]=[0,Ps$1,xs$1];var go$1=class extends $n$1{constructor(ua){super(ua)}},mo$1=class extends $n$1{constructor(ua){super(ua)}},yo$1=[0,Ti,-1],_o=bi$1(458105876,class extends $n$1{constructor(ha){super(ha)}g(){var ha=this.u;const ua=0|ha[Q],Sa=2&ua;return ha=function(ba,ka,_y){var Ty=mo$1;const Ay=2&ka;let Ey=!1;if(_y==null){if(Ay)return Ie$1();_y=[]}else if(_y.constructor===Ae$1){if(!(2&_y.M)||Ay)return _y;_y=_y.da()}else Array.isArray(_y)?Ey=!!(2&(0|_y[Q])):_y=[];if(Ay){if(!_y.length)return Ie$1();Ey||(Ey=!0,it$1(_y))}else Ey&&(Ey=!1,_y=Qe(_y));return Ey||(64&(0|_y[Q])?_y[Q]&=-33:32&ka&&nt$1(_y,32)),We(ba,ka,2,Ty=new Ae$1(_y,Ty,ge,void 0)),Ty}(ha,ua,Xe$1(ha,ua,2)),!Sa&&mo$1&&(ha.pa=!0),ha}});ji$1[458105876]=[0,yo$1,Yr$1,[!0,oi$1,[0,mi$1,-1,pi$1]]];var vo$1=class extends $n$1{constructor(ua){super(ua)}},Eo$1=bi$1(458105758,vo$1);ji$1[458105758]=[0,Ps$1,mi$1,yo$1];var wo$1=class extends $n$1{constructor(ua){super(ua)}},To$1=bi$1(443442058,wo$1);ji$1[443442058]=[0,Ps$1,mi$1,hi$1,ri$1,pi$1,-1,di$1,ri$1],ji$1[514774813]=co$1;var Ao=class extends $n$1{constructor(ha){super(ha)}},bo$1=bi$1(516587230,Ao);function ko$1(ha,ua){return ua=ua?ua.clone():new bs$1,ha.displayNamesLocale!==void 0?He$1(ua,1,de(ha.displayNamesLocale)):ha.displayNamesLocale===void 0&&He$1(ua,1),ha.maxResults!==void 0?Tn$1(ua,2,ha.maxResults):"maxResults"in ha&&He$1(ua,2),ha.scoreThreshold!==void 0?An$1(ua,3,ha.scoreThreshold):"scoreThreshold"in ha&&He$1(ua,3),ha.categoryAllowlist!==void 0?bn$1(ua,4,ha.categoryAllowlist):"categoryAllowlist"in ha&&He$1(ua,4),ha.categoryDenylist!==void 0?bn$1(ua,5,ha.categoryDenylist):"categoryDenylist"in ha&&He$1(ua,5),ua}function So$1(ha,ua=-1,Sa=""){return{categories:ha.map(ba=>({index:_n$1(ba,1)??0??-1,score:En$1(ba,2)??0,categoryName:vn(ba,3)??""??"",displayName:vn(ba,4)??""??""})),headIndex:ua,headName:Sa}}function xo$1(ha){var Ty,Ay;var ua=$e$1(ha,3,qt$1,Ye$1()),Sa=$e$1(ha,2,te,Ye$1()),ba=$e$1(ha,1,fe$1,Ye$1()),ka=$e$1(ha,9,fe$1,Ye$1());const _y={categories:[],keypoints:[]};for(let Ey=0;Ey<ua.length;Ey++)_y.categories.push({score:ua[Ey],index:Sa[Ey]??-1,categoryName:ba[Ey]??"",displayName:ka[Ey]??""});if((ua=(Ty=hn(ha,cs$1,4))==null?void 0:Ty.h())&&(_y.boundingBox={originX:_n$1(ua,1)??0,originY:_n$1(ua,2)??0,width:_n$1(ua,3)??0,height:_n$1(ua,4)??0,angle:0}),(Ay=hn(ha,cs$1,4))==null?void 0:Ay.g().length)for(const Ey of hn(ha,cs$1,4).g())_y.keypoints.push({x:ze$1(Ey,1)??0,y:ze$1(Ey,2)??0,score:ze$1(Ey,4)??0,label:vn(Ey,3)??""});return _y}function Lo$1(ha){const ua=[];for(const Sa of ln$1(ha,ds,1))ua.push({x:En$1(Sa,1)??0,y:En$1(Sa,2)??0,z:En$1(Sa,3)??0,visibility:En$1(Sa,4)??0});return ua}function Ro$1(ha){const ua=[];for(const Sa of ln$1(ha,us$1,1))ua.push({x:En$1(Sa,1)??0,y:En$1(Sa,2)??0,z:En$1(Sa,3)??0,visibility:En$1(Sa,4)??0});return ua}function Fo$1(ha){return Array.from(ha,ua=>ua>127?ua-256:ua)}function Io$1(ha,ua){if(ha.length!==ua.length)throw Error(`Cannot compute cosine similarity between embeddings of different sizes (${ha.length} vs. ${ua.length}).`);let Sa=0,ba=0,ka=0;for(let _y=0;_y<ha.length;_y++)Sa+=ha[_y]*ua[_y],ba+=ha[_y]*ha[_y],ka+=ua[_y]*ua[_y];if(ba<=0||ka<=0)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return Sa/Math.sqrt(ba*ka)}let Mo$1;ji$1[516587230]=[0,Ps$1,co$1,ho$1,ri$1],ji$1[518928384]=ho$1;const Po$1=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function Co$1(){if(Mo$1===void 0)try{await WebAssembly.instantiate(Po$1),Mo$1=!0}catch{Mo$1=!1}return Mo$1}async function Oo(ha,ua=Mi``){const Sa=await Co$1()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${ua}/${ha}_${Sa}.js`,wasmBinaryPath:`${ua}/${ha}_${Sa}.wasm`}}var Uo=class{};function Do$1(){var ha=navigator;return typeof OffscreenCanvas<"u"&&(!function(ua=navigator){return(ua=ua.userAgent).includes("Safari")&&!ua.includes("Chrome")}(ha)||!!((ha=ha.userAgent.match(/Version\/([\d]+).*Safari/))&&ha.length>=1&&Number(ha[1])>=17))}async function No$1(ha){if(typeof importScripts!="function"){const ua=document.createElement("script");return ua.src=ha.toString(),ua.crossOrigin="anonymous",new Promise((Sa,ba)=>{ua.addEventListener("load",()=>{Sa()},!1),ua.addEventListener("error",ka=>{ba(ka)},!1),document.body.appendChild(ua)})}importScripts(ha.toString())}function Bo$1(ha){return ha.videoWidth!==void 0?[ha.videoWidth,ha.videoHeight]:ha.naturalWidth!==void 0?[ha.naturalWidth,ha.naturalHeight]:ha.displayWidth!==void 0?[ha.displayWidth,ha.displayHeight]:[ha.width,ha.height]}function Go(ha,ua,Sa){ha.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),Sa(ua=ha.i.stringToNewUTF8(ua)),ha.i._free(ua)}function jo(ha,ua,Sa){if(!ha.i.canvas)throw Error("No OpenGL canvas configured.");if(Sa?ha.i._bindTextureToStream(Sa):ha.i._bindTextureToCanvas(),!(Sa=ha.i.canvas.getContext("webgl2")||ha.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");ha.i.gpuOriginForWebTexturesIsBottomLeft&&Sa.pixelStorei(Sa.UNPACK_FLIP_Y_WEBGL,!0),Sa.texImage2D(Sa.TEXTURE_2D,0,Sa.RGBA,Sa.RGBA,Sa.UNSIGNED_BYTE,ua),ha.i.gpuOriginForWebTexturesIsBottomLeft&&Sa.pixelStorei(Sa.UNPACK_FLIP_Y_WEBGL,!1);const[ba,ka]=Bo$1(ua);return!ha.l||ba===ha.i.canvas.width&&ka===ha.i.canvas.height||(ha.i.canvas.width=ba,ha.i.canvas.height=ka),[ba,ka]}function Vo$1(ha,ua,Sa){ha.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const ba=new Uint32Array(ua.length);for(let ka=0;ka<ua.length;ka++)ba[ka]=ha.i.stringToNewUTF8(ua[ka]);ua=ha.i._malloc(4*ba.length),ha.i.HEAPU32.set(ba,ua>>2),Sa(ua);for(const ka of ba)ha.i._free(ka);ha.i._free(ua)}function Xo(ha,ua,Sa){ha.i.simpleListeners=ha.i.simpleListeners||{},ha.i.simpleListeners[ua]=Sa}function Ho$1(ha,ua,Sa){let ba=[];ha.i.simpleListeners=ha.i.simpleListeners||{},ha.i.simpleListeners[ua]=(ka,_y,Ty)=>{_y?(Sa(ba,Ty),ba=[]):ba.push(ka)}}Uo.forVisionTasks=function(ha){return Oo("vision",ha)},Uo.forTextTasks=function(ha){return Oo("text",ha)},Uo.forGenAiExperimentalTasks=function(ha){return Oo("genai_experimental",ha)},Uo.forGenAiTasks=function(ha){return Oo("genai",ha)},Uo.forAudioTasks=function(ha){return Oo("audio",ha)},Uo.isSimdSupported=function(){return Co$1()};async function Wo(ha,ua,Sa,ba){return ha=await(async(ka,_y,Ty,Ay,Ey)=>{if(_y&&await No$1(_y),!self.ModuleFactory||Ty&&(await No$1(Ty),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&Ey&&((_y=self.Module).locateFile=Ey.locateFile,Ey.mainScriptUrlOrBlob&&(_y.mainScriptUrlOrBlob=Ey.mainScriptUrlOrBlob)),Ey=await self.ModuleFactory(self.Module||Ey),self.ModuleFactory=self.Module=void 0,new ka(Ey,Ay)})(ha,Sa.wasmLoaderPath,Sa.assetLoaderPath,ua,{locateFile:ka=>ka.endsWith(".wasm")?Sa.wasmBinaryPath.toString():Sa.assetBinaryPath&&ka.endsWith(".data")?Sa.assetBinaryPath.toString():ka}),await ha.o(ba),ha}function zo(ha,ua){const Sa=hn(ha.baseOptions,Fs$1,1)||new Fs$1;typeof ua=="string"?(He$1(Sa,2,de(ua)),He$1(Sa,1)):ua instanceof Uint8Array&&(He$1(Sa,1,dt(ua,!1)),He$1(Sa,2)),dn$1(ha.baseOptions,0,1,Sa)}function Ko(ha){try{const ua=ha.G.length;if(ua===1)throw Error(ha.G[0].message);if(ua>1)throw Error("Encountered multiple errors: "+ha.G.map(Sa=>Sa.message).join(", "))}finally{ha.G=[]}}function Yo(ha,ua){ha.B=Math.max(ha.B,ua)}function $o$1(ha,ua){ha.A=new zi$1,Xi(ha.A,"PassThroughCalculator"),Hi$1(ha.A,"free_memory"),Wi(ha.A,"free_memory_unused_out"),Ji(ua,"free_memory"),qi$1(ua,ha.A)}function qo(ha,ua){Hi$1(ha.A,ua),Wi(ha.A,ua+"_unused_out")}function Jo(ha){ha.g.addBoolToStream(!0,"free_memory",ha.B)}var Zo$1=class{constructor(ua){this.g=ua,this.G=[],this.B=0,this.g.setAutoRenderToScreen(!1)}l(ua,Sa=!0){var ba,ka,_y,Ty,Ay,Ey;if(Sa){const My=ua.baseOptions||{};if((ba=ua.baseOptions)!=null&&ba.modelAssetBuffer&&((ka=ua.baseOptions)!=null&&ka.modelAssetPath))throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!((_y=hn(this.baseOptions,Fs$1,1))!=null&&_y.g()||(Ty=hn(this.baseOptions,Fs$1,1))!=null&&Ty.h()||(Ay=ua.baseOptions)!=null&&Ay.modelAssetBuffer||(Ey=ua.baseOptions)!=null&&Ey.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if(function(Dy,Iy){let Ly=hn(Dy.baseOptions,Ls$1,3);if(!Ly){var Py=Ly=new Ls$1,Ry=new Di$1;fn(Py,4,Rs$1,Ry)}"delegate"in Iy&&(Iy.delegate==="GPU"?(Iy=Ly,Py=new Ci$1,fn(Iy,2,Rs$1,Py)):(Iy=Ly,Py=new Di$1,fn(Iy,4,Rs$1,Py))),dn$1(Dy.baseOptions,0,3,Ly)}(this,My),My.modelAssetPath)return fetch(My.modelAssetPath.toString()).then(Dy=>{if(Dy.ok)return Dy.arrayBuffer();throw Error(`Failed to fetch model: ${My.modelAssetPath} (${Dy.status})`)}).then(Dy=>{try{this.g.i.FS_unlink("/model.dat")}catch{}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(Dy),!0,!1,!1),zo(this,"/model.dat"),this.m(),this.J()});if(My.modelAssetBuffer instanceof Uint8Array)zo(this,My.modelAssetBuffer);else if(My.modelAssetBuffer)return async function(Dy){const Iy=[];for(var Ly=0;;){const{done:Py,value:Ry}=await Dy.read();if(Py)break;Iy.push(Ry),Ly+=Ry.length}if(Iy.length===0)return new Uint8Array(0);if(Iy.length===1)return Iy[0];Dy=new Uint8Array(Ly),Ly=0;for(const Py of Iy)Dy.set(Py,Ly),Ly+=Py.length;return Dy}(My.modelAssetBuffer).then(Dy=>{zo(this,Dy),this.m(),this.J()})}return this.m(),this.J(),Promise.resolve()}J(){}ca(){let ua;if(this.g.ca(Sa=>{ua=es(Sa)}),!ua)throw Error("Failed to retrieve CalculatorGraphConfig");return ua}setGraph(ua,Sa){this.g.attachErrorListener((ba,ka)=>{this.G.push(Error(ka))}),this.g.Ha(),this.g.setGraph(ua,Sa),this.A=void 0,Ko(this)}finishProcessing(){this.g.finishProcessing(),Ko(this)}close(){this.A=void 0,this.g.closeGraph()}};function Qo(ha,ua){if(!ha)throw Error(`Unable to obtain required WebGL resource: ${ua}`);return ha}Zo$1.prototype.close=Zo$1.prototype.close;let ta$1=class{constructor(ua,Sa,ba,ka){this.g=ua,this.h=Sa,this.m=ba,this.l=ka}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}};function ea$1(ha,ua,Sa){const ba=ha.g;if(Sa=Qo(ba.createShader(Sa),"Failed to create WebGL shader"),ba.shaderSource(Sa,ua),ba.compileShader(Sa),!ba.getShaderParameter(Sa,ba.COMPILE_STATUS))throw Error(`Could not compile WebGL shader: ${ba.getShaderInfoLog(Sa)}`);return ba.attachShader(ha.h,Sa),Sa}function na(ha,ua){const Sa=ha.g,ba=Qo(Sa.createVertexArray(),"Failed to create vertex array");Sa.bindVertexArray(ba);const ka=Qo(Sa.createBuffer(),"Failed to create buffer");Sa.bindBuffer(Sa.ARRAY_BUFFER,ka),Sa.enableVertexAttribArray(ha.P),Sa.vertexAttribPointer(ha.P,2,Sa.FLOAT,!1,0,0),Sa.bufferData(Sa.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Sa.STATIC_DRAW);const _y=Qo(Sa.createBuffer(),"Failed to create buffer");return Sa.bindBuffer(Sa.ARRAY_BUFFER,_y),Sa.enableVertexAttribArray(ha.J),Sa.vertexAttribPointer(ha.J,2,Sa.FLOAT,!1,0,0),Sa.bufferData(Sa.ARRAY_BUFFER,new Float32Array(ua?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),Sa.STATIC_DRAW),Sa.bindBuffer(Sa.ARRAY_BUFFER,null),Sa.bindVertexArray(null),new ta$1(Sa,ba,ka,_y)}function ra(ha,ua){if(ha.g){if(ua!==ha.g)throw Error("Cannot change GL context once initialized")}else ha.g=ua}function ia(ha,ua,Sa,ba){return ra(ha,ua),ha.h||(ha.m(),ha.C()),Sa?(ha.s||(ha.s=na(ha,!0)),Sa=ha.s):(ha.v||(ha.v=na(ha,!1)),Sa=ha.v),ua.useProgram(ha.h),Sa.bind(),ha.l(),ha=ba(),Sa.g.bindVertexArray(null),ha}function sa(ha,ua,Sa){return ra(ha,ua),ha=Qo(ua.createTexture(),"Failed to create texture"),ua.bindTexture(ua.TEXTURE_2D,ha),ua.texParameteri(ua.TEXTURE_2D,ua.TEXTURE_WRAP_S,ua.CLAMP_TO_EDGE),ua.texParameteri(ua.TEXTURE_2D,ua.TEXTURE_WRAP_T,ua.CLAMP_TO_EDGE),ua.texParameteri(ua.TEXTURE_2D,ua.TEXTURE_MIN_FILTER,Sa??ua.LINEAR),ua.texParameteri(ua.TEXTURE_2D,ua.TEXTURE_MAG_FILTER,Sa??ua.LINEAR),ua.bindTexture(ua.TEXTURE_2D,null),ha}function oa(ha,ua,Sa){ra(ha,ua),ha.A||(ha.A=Qo(ua.createFramebuffer(),"Failed to create framebuffe.")),ua.bindFramebuffer(ua.FRAMEBUFFER,ha.A),ua.framebufferTexture2D(ua.FRAMEBUFFER,ua.COLOR_ATTACHMENT0,ua.TEXTURE_2D,Sa,0)}function aa(ha){var ua;(ua=ha.g)==null||ua.bindFramebuffer(ha.g.FRAMEBUFFER,null)}var ca=class{G(){return`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D inputTexture;
  void main() {
    gl_FragColor = texture2D(inputTexture, vTex);
  }
 `}m(){const ha=this.g;if(this.h=Qo(ha.createProgram(),"Failed to create WebGL program"),this.Z=ea$1(this,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,ha.VERTEX_SHADER),this.Y=ea$1(this,this.G(),ha.FRAGMENT_SHADER),ha.linkProgram(this.h),!ha.getProgramParameter(this.h,ha.LINK_STATUS))throw Error(`Error during program linking: ${ha.getProgramInfoLog(this.h)}`);this.P=ha.getAttribLocation(this.h,"aVertex"),this.J=ha.getAttribLocation(this.h,"aTex")}C(){}l(){}close(){if(this.h){const ha=this.g;ha.deleteProgram(this.h),ha.deleteShader(this.Z),ha.deleteShader(this.Y)}this.A&&this.g.deleteFramebuffer(this.A),this.v&&this.v.close(),this.s&&this.s.close()}};function la(ha,ua){switch(ua){case 0:return ha.g.find(Sa=>Sa instanceof Uint8Array);case 1:return ha.g.find(Sa=>Sa instanceof Float32Array);case 2:return ha.g.find(Sa=>typeof WebGLTexture<"u"&&Sa instanceof WebGLTexture);default:throw Error(`Type is not supported: ${ua}`)}}function da(ha){var ua=la(ha,1);if(!ua){if(ua=la(ha,0))ua=new Float32Array(ua).map(ba=>ba/255);else{ua=new Float32Array(ha.width*ha.height);const ba=pa(ha);var Sa=ma(ha);if(oa(Sa,ba,fa(ha)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"document"in self&&"ontouchend"in self.document){Sa=new Float32Array(ha.width*ha.height*4),ba.readPixels(0,0,ha.width,ha.height,ba.RGBA,ba.FLOAT,Sa);for(let ka=0,_y=0;ka<ua.length;++ka,_y+=4)ua[ka]=Sa[_y]}else ba.readPixels(0,0,ha.width,ha.height,ba.RED,ba.FLOAT,ua)}ha.g.push(ua)}return ua}function fa(ha){let ua=la(ha,2);if(!ua){const Sa=pa(ha);ua=ya(ha);const ba=da(ha),ka=ga(ha);Sa.texImage2D(Sa.TEXTURE_2D,0,ka,ha.width,ha.height,0,Sa.RED,Sa.FLOAT,ba),_a$1(ha)}return ua}function pa(ha){if(!ha.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return ha.h||(ha.h=Qo(ha.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),ha.h}function ga(ha){if(ha=pa(ha),!va)if(ha.getExtension("EXT_color_buffer_float")&&ha.getExtension("OES_texture_float_linear")&&ha.getExtension("EXT_float_blend"))va=ha.R32F;else{if(!ha.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");va=ha.R16F}return va}function ma(ha){return ha.l||(ha.l=new ca),ha.l}function ya(ha){const ua=pa(ha);ua.viewport(0,0,ha.width,ha.height),ua.activeTexture(ua.TEXTURE0);let Sa=la(ha,2);return Sa||(Sa=sa(ma(ha),ua,ha.m?ua.LINEAR:ua.NEAREST),ha.g.push(Sa),ha.j=!0),ua.bindTexture(ua.TEXTURE_2D,Sa),Sa}function _a$1(ha){ha.h.bindTexture(ha.h.TEXTURE_2D,null)}var va,Ea$1=class{constructor(ua,Sa,ba,ka,_y,Ty,Ay){this.g=ua,this.m=Sa,this.j=ba,this.canvas=ka,this.l=_y,this.width=Ty,this.height=Ay,this.j&&--wa===0&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Da(){return!!la(this,0)}ja(){return!!la(this,1)}R(){return!!la(this,2)}ia(){return(Sa=la(ua=this,0))||(Sa=da(ua),Sa=new Uint8Array(Sa.map(ba=>255*ba)),ua.g.push(Sa)),Sa;var ua,Sa}ha(){return da(this)}N(){return fa(this)}clone(){const ua=[];for(const Sa of this.g){let ba;if(Sa instanceof Uint8Array)ba=new Uint8Array(Sa);else if(Sa instanceof Float32Array)ba=new Float32Array(Sa);else{if(!(Sa instanceof WebGLTexture))throw Error(`Type is not supported: ${Sa}`);{const ka=pa(this),_y=ma(this);ka.activeTexture(ka.TEXTURE1),ba=sa(_y,ka,this.m?ka.LINEAR:ka.NEAREST),ka.bindTexture(ka.TEXTURE_2D,ba);const Ty=ga(this);ka.texImage2D(ka.TEXTURE_2D,0,Ty,this.width,this.height,0,ka.RED,ka.FLOAT,null),ka.bindTexture(ka.TEXTURE_2D,null),oa(_y,ka,ba),ia(_y,ka,!1,()=>{ya(this),ka.clearColor(0,0,0,0),ka.clear(ka.COLOR_BUFFER_BIT),ka.drawArrays(ka.TRIANGLE_FAN,0,4),_a$1(this)}),aa(_y),_a$1(this)}}ua.push(ba)}return new Ea$1(ua,this.m,this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&pa(this).deleteTexture(la(this,2)),wa=-1}};Ea$1.prototype.close=Ea$1.prototype.close,Ea$1.prototype.clone=Ea$1.prototype.clone,Ea$1.prototype.getAsWebGLTexture=Ea$1.prototype.N,Ea$1.prototype.getAsFloat32Array=Ea$1.prototype.ha,Ea$1.prototype.getAsUint8Array=Ea$1.prototype.ia,Ea$1.prototype.hasWebGLTexture=Ea$1.prototype.R,Ea$1.prototype.hasFloat32Array=Ea$1.prototype.ja,Ea$1.prototype.hasUint8Array=Ea$1.prototype.Da;var wa=250;function Ma$1(ha,ua){switch(ua){case 0:return ha.g.find(Sa=>Sa instanceof ImageData);case 1:return ha.g.find(Sa=>typeof ImageBitmap<"u"&&Sa instanceof ImageBitmap);case 2:return ha.g.find(Sa=>typeof WebGLTexture<"u"&&Sa instanceof WebGLTexture);default:throw Error(`Type is not supported: ${ua}`)}}function Pa$1(ha){var ua=Ma$1(ha,0);if(!ua){ua=Oa$1(ha);const Sa=Ua$1(ha),ba=new Uint8Array(ha.width*ha.height*4);oa(Sa,ua,Ca(ha)),ua.readPixels(0,0,ha.width,ha.height,ua.RGBA,ua.UNSIGNED_BYTE,ba),aa(Sa),ua=new ImageData(new Uint8ClampedArray(ba.buffer),ha.width,ha.height),ha.g.push(ua)}return ua}function Ca(ha){let ua=Ma$1(ha,2);if(!ua){const Sa=Oa$1(ha);ua=Da$1(ha);const ba=Ma$1(ha,1)||Pa$1(ha);Sa.texImage2D(Sa.TEXTURE_2D,0,Sa.RGBA,Sa.RGBA,Sa.UNSIGNED_BYTE,ba),Na$1(ha)}return ua}function Oa$1(ha){if(!ha.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return ha.h||(ha.h=Qo(ha.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),ha.h}function Ua$1(ha){return ha.l||(ha.l=new ca),ha.l}function Da$1(ha){const ua=Oa$1(ha);ua.viewport(0,0,ha.width,ha.height),ua.activeTexture(ua.TEXTURE0);let Sa=Ma$1(ha,2);return Sa||(Sa=sa(Ua$1(ha),ua),ha.g.push(Sa),ha.m=!0),ua.bindTexture(ua.TEXTURE_2D,Sa),Sa}function Na$1(ha){ha.h.bindTexture(ha.h.TEXTURE_2D,null)}function Ba$1(ha){const ua=Oa$1(ha);return ia(Ua$1(ha),ua,!0,()=>function(Sa,ba){const ka=Sa.canvas;if(ka.width===Sa.width&&ka.height===Sa.height)return ba();const _y=ka.width,Ty=ka.height;return ka.width=Sa.width,ka.height=Sa.height,Sa=ba(),ka.width=_y,ka.height=Ty,Sa}(ha,()=>{if(ua.bindFramebuffer(ua.FRAMEBUFFER,null),ua.clearColor(0,0,0,0),ua.clear(ua.COLOR_BUFFER_BIT),ua.drawArrays(ua.TRIANGLE_FAN,0,4),!(ha.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return ha.canvas.transferToImageBitmap()}))}var Ga$1=class{constructor(ua,Sa,ba,ka,_y,Ty,Ay){this.g=ua,this.j=Sa,this.m=ba,this.canvas=ka,this.l=_y,this.width=Ty,this.height=Ay,(this.j||this.m)&&--ja$1===0&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources.")}Ca(){return!!Ma$1(this,0)}ka(){return!!Ma$1(this,1)}R(){return!!Ma$1(this,2)}Aa(){return Pa$1(this)}za(){var ua=Ma$1(this,1);return ua||(Ca(this),Da$1(this),ua=Ba$1(this),Na$1(this),this.g.push(ua),this.j=!0),ua}N(){return Ca(this)}clone(){const ua=[];for(const Sa of this.g){let ba;if(Sa instanceof ImageData)ba=new ImageData(Sa.data,this.width,this.height);else if(Sa instanceof WebGLTexture){const ka=Oa$1(this),_y=Ua$1(this);ka.activeTexture(ka.TEXTURE1),ba=sa(_y,ka),ka.bindTexture(ka.TEXTURE_2D,ba),ka.texImage2D(ka.TEXTURE_2D,0,ka.RGBA,this.width,this.height,0,ka.RGBA,ka.UNSIGNED_BYTE,null),ka.bindTexture(ka.TEXTURE_2D,null),oa(_y,ka,ba),ia(_y,ka,!1,()=>{Da$1(this),ka.clearColor(0,0,0,0),ka.clear(ka.COLOR_BUFFER_BIT),ka.drawArrays(ka.TRIANGLE_FAN,0,4),Na$1(this)}),aa(_y),Na$1(this)}else{if(!(Sa instanceof ImageBitmap))throw Error(`Type is not supported: ${Sa}`);Ca(this),Da$1(this),ba=Ba$1(this),Na$1(this)}ua.push(ba)}return new Ga$1(ua,this.ka(),this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&Ma$1(this,1).close(),this.m&&Oa$1(this).deleteTexture(Ma$1(this,2)),ja$1=-1}};Ga$1.prototype.close=Ga$1.prototype.close,Ga$1.prototype.clone=Ga$1.prototype.clone,Ga$1.prototype.getAsWebGLTexture=Ga$1.prototype.N,Ga$1.prototype.getAsImageBitmap=Ga$1.prototype.za,Ga$1.prototype.getAsImageData=Ga$1.prototype.Aa,Ga$1.prototype.hasWebGLTexture=Ga$1.prototype.R,Ga$1.prototype.hasImageBitmap=Ga$1.prototype.ka,Ga$1.prototype.hasImageData=Ga$1.prototype.Ca;var ja$1=250;function Va(...ha){return ha.map(([ua,Sa])=>({start:ua,end:Sa}))}const Xa$1=function(ha){return class extends ha{Ha(){this.i._registerModelResourcesGraphService()}}}((Ha$1=class{constructor(ha,ua){this.l=!0,this.i=ha,this.g=null,this.h=0,this.m=typeof this.i._addIntToInputStream=="function",ua!==void 0?this.i.canvas=ua:Do$1()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}async initializeGraph(ha){const ua=await(await fetch(ha)).arrayBuffer();ha=!(ha.endsWith(".pbtxt")||ha.endsWith(".textproto")),this.setGraph(new Uint8Array(ua),ha)}setGraphFromString(ha){this.setGraph(new TextEncoder().encode(ha),!1)}setGraph(ha,ua){const Sa=ha.length,ba=this.i._malloc(Sa);this.i.HEAPU8.set(ha,ba),ua?this.i._changeBinaryGraph(Sa,ba):this.i._changeTextGraph(Sa,ba),this.i._free(ba)}configureAudio(ha,ua,Sa,ba,ka){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),Go(this,ba||"input_audio",_y=>{Go(this,ka=ka||"audio_header",Ty=>{this.i._configureAudio(_y,Ty,ha,ua??0,Sa)})})}setAutoResizeCanvas(ha){this.l=ha}setAutoRenderToScreen(ha){this.i._setAutoRenderToScreen(ha)}setGpuBufferVerticalFlip(ha){this.i.gpuOriginForWebTexturesIsBottomLeft=ha}ca(ha){Xo(this,"__graph_config__",ua=>{ha(ua)}),Go(this,"__graph_config__",ua=>{this.i._getGraphConfig(ua,void 0)}),delete this.i.simpleListeners.__graph_config__}attachErrorListener(ha){this.i.errorListener=ha}attachEmptyPacketListener(ha,ua){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[ha]=ua}addAudioToStream(ha,ua,Sa){this.addAudioToStreamWithShape(ha,0,0,ua,Sa)}addAudioToStreamWithShape(ha,ua,Sa,ba,ka){const _y=4*ha.length;this.h!==_y&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(_y),this.h=_y),this.i.HEAPF32.set(ha,this.g/4),Go(this,ba,Ty=>{this.i._addAudioToInputStream(this.g,ua,Sa,Ty,ka)})}addGpuBufferToStream(ha,ua,Sa){Go(this,ua,ba=>{const[ka,_y]=jo(this,ha,ba);this.i._addBoundTextureToStream(ba,ka,_y,Sa)})}addBoolToStream(ha,ua,Sa){Go(this,ua,ba=>{this.i._addBoolToInputStream(ha,ba,Sa)})}addDoubleToStream(ha,ua,Sa){Go(this,ua,ba=>{this.i._addDoubleToInputStream(ha,ba,Sa)})}addFloatToStream(ha,ua,Sa){Go(this,ua,ba=>{this.i._addFloatToInputStream(ha,ba,Sa)})}addIntToStream(ha,ua,Sa){Go(this,ua,ba=>{this.i._addIntToInputStream(ha,ba,Sa)})}addUintToStream(ha,ua,Sa){Go(this,ua,ba=>{this.i._addUintToInputStream(ha,ba,Sa)})}addStringToStream(ha,ua,Sa){Go(this,ua,ba=>{Go(this,ha,ka=>{this.i._addStringToInputStream(ka,ba,Sa)})})}addStringRecordToStream(ha,ua,Sa){Go(this,ua,ba=>{Vo$1(this,Object.keys(ha),ka=>{Vo$1(this,Object.values(ha),_y=>{this.i._addFlatHashMapToInputStream(ka,_y,Object.keys(ha).length,ba,Sa)})})})}addProtoToStream(ha,ua,Sa,ba){Go(this,Sa,ka=>{Go(this,ua,_y=>{const Ty=this.i._malloc(ha.length);this.i.HEAPU8.set(ha,Ty),this.i._addProtoToInputStream(Ty,ha.length,_y,ka,ba),this.i._free(Ty)})})}addEmptyPacketToStream(ha,ua){Go(this,ha,Sa=>{this.i._addEmptyPacketToInputStream(Sa,ua)})}addBoolVectorToStream(ha,ua,Sa){Go(this,ua,ba=>{const ka=this.i._allocateBoolVector(ha.length);if(!ka)throw Error("Unable to allocate new bool vector on heap.");for(const _y of ha)this.i._addBoolVectorEntry(ka,_y);this.i._addBoolVectorToInputStream(ka,ba,Sa)})}addDoubleVectorToStream(ha,ua,Sa){Go(this,ua,ba=>{const ka=this.i._allocateDoubleVector(ha.length);if(!ka)throw Error("Unable to allocate new double vector on heap.");for(const _y of ha)this.i._addDoubleVectorEntry(ka,_y);this.i._addDoubleVectorToInputStream(ka,ba,Sa)})}addFloatVectorToStream(ha,ua,Sa){Go(this,ua,ba=>{const ka=this.i._allocateFloatVector(ha.length);if(!ka)throw Error("Unable to allocate new float vector on heap.");for(const _y of ha)this.i._addFloatVectorEntry(ka,_y);this.i._addFloatVectorToInputStream(ka,ba,Sa)})}addIntVectorToStream(ha,ua,Sa){Go(this,ua,ba=>{const ka=this.i._allocateIntVector(ha.length);if(!ka)throw Error("Unable to allocate new int vector on heap.");for(const _y of ha)this.i._addIntVectorEntry(ka,_y);this.i._addIntVectorToInputStream(ka,ba,Sa)})}addUintVectorToStream(ha,ua,Sa){Go(this,ua,ba=>{const ka=this.i._allocateUintVector(ha.length);if(!ka)throw Error("Unable to allocate new unsigned int vector on heap.");for(const _y of ha)this.i._addUintVectorEntry(ka,_y);this.i._addUintVectorToInputStream(ka,ba,Sa)})}addStringVectorToStream(ha,ua,Sa){Go(this,ua,ba=>{const ka=this.i._allocateStringVector(ha.length);if(!ka)throw Error("Unable to allocate new string vector on heap.");for(const _y of ha)Go(this,_y,Ty=>{this.i._addStringVectorEntry(ka,Ty)});this.i._addStringVectorToInputStream(ka,ba,Sa)})}addBoolToInputSidePacket(ha,ua){Go(this,ua,Sa=>{this.i._addBoolToInputSidePacket(ha,Sa)})}addDoubleToInputSidePacket(ha,ua){Go(this,ua,Sa=>{this.i._addDoubleToInputSidePacket(ha,Sa)})}addFloatToInputSidePacket(ha,ua){Go(this,ua,Sa=>{this.i._addFloatToInputSidePacket(ha,Sa)})}addIntToInputSidePacket(ha,ua){Go(this,ua,Sa=>{this.i._addIntToInputSidePacket(ha,Sa)})}addUintToInputSidePacket(ha,ua){Go(this,ua,Sa=>{this.i._addUintToInputSidePacket(ha,Sa)})}addStringToInputSidePacket(ha,ua){Go(this,ua,Sa=>{Go(this,ha,ba=>{this.i._addStringToInputSidePacket(ba,Sa)})})}addProtoToInputSidePacket(ha,ua,Sa){Go(this,Sa,ba=>{Go(this,ua,ka=>{const _y=this.i._malloc(ha.length);this.i.HEAPU8.set(ha,_y),this.i._addProtoToInputSidePacket(_y,ha.length,ka,ba),this.i._free(_y)})})}addBoolVectorToInputSidePacket(ha,ua){Go(this,ua,Sa=>{const ba=this.i._allocateBoolVector(ha.length);if(!ba)throw Error("Unable to allocate new bool vector on heap.");for(const ka of ha)this.i._addBoolVectorEntry(ba,ka);this.i._addBoolVectorToInputSidePacket(ba,Sa)})}addDoubleVectorToInputSidePacket(ha,ua){Go(this,ua,Sa=>{const ba=this.i._allocateDoubleVector(ha.length);if(!ba)throw Error("Unable to allocate new double vector on heap.");for(const ka of ha)this.i._addDoubleVectorEntry(ba,ka);this.i._addDoubleVectorToInputSidePacket(ba,Sa)})}addFloatVectorToInputSidePacket(ha,ua){Go(this,ua,Sa=>{const ba=this.i._allocateFloatVector(ha.length);if(!ba)throw Error("Unable to allocate new float vector on heap.");for(const ka of ha)this.i._addFloatVectorEntry(ba,ka);this.i._addFloatVectorToInputSidePacket(ba,Sa)})}addIntVectorToInputSidePacket(ha,ua){Go(this,ua,Sa=>{const ba=this.i._allocateIntVector(ha.length);if(!ba)throw Error("Unable to allocate new int vector on heap.");for(const ka of ha)this.i._addIntVectorEntry(ba,ka);this.i._addIntVectorToInputSidePacket(ba,Sa)})}addUintVectorToInputSidePacket(ha,ua){Go(this,ua,Sa=>{const ba=this.i._allocateUintVector(ha.length);if(!ba)throw Error("Unable to allocate new unsigned int vector on heap.");for(const ka of ha)this.i._addUintVectorEntry(ba,ka);this.i._addUintVectorToInputSidePacket(ba,Sa)})}addStringVectorToInputSidePacket(ha,ua){Go(this,ua,Sa=>{const ba=this.i._allocateStringVector(ha.length);if(!ba)throw Error("Unable to allocate new string vector on heap.");for(const ka of ha)Go(this,ka,_y=>{this.i._addStringVectorEntry(ba,_y)});this.i._addStringVectorToInputSidePacket(ba,Sa)})}attachBoolListener(ha,ua){Xo(this,ha,ua),Go(this,ha,Sa=>{this.i._attachBoolListener(Sa)})}attachBoolVectorListener(ha,ua){Ho$1(this,ha,ua),Go(this,ha,Sa=>{this.i._attachBoolVectorListener(Sa)})}attachIntListener(ha,ua){Xo(this,ha,ua),Go(this,ha,Sa=>{this.i._attachIntListener(Sa)})}attachIntVectorListener(ha,ua){Ho$1(this,ha,ua),Go(this,ha,Sa=>{this.i._attachIntVectorListener(Sa)})}attachUintListener(ha,ua){Xo(this,ha,ua),Go(this,ha,Sa=>{this.i._attachUintListener(Sa)})}attachUintVectorListener(ha,ua){Ho$1(this,ha,ua),Go(this,ha,Sa=>{this.i._attachUintVectorListener(Sa)})}attachDoubleListener(ha,ua){Xo(this,ha,ua),Go(this,ha,Sa=>{this.i._attachDoubleListener(Sa)})}attachDoubleVectorListener(ha,ua){Ho$1(this,ha,ua),Go(this,ha,Sa=>{this.i._attachDoubleVectorListener(Sa)})}attachFloatListener(ha,ua){Xo(this,ha,ua),Go(this,ha,Sa=>{this.i._attachFloatListener(Sa)})}attachFloatVectorListener(ha,ua){Ho$1(this,ha,ua),Go(this,ha,Sa=>{this.i._attachFloatVectorListener(Sa)})}attachStringListener(ha,ua){Xo(this,ha,ua),Go(this,ha,Sa=>{this.i._attachStringListener(Sa)})}attachStringVectorListener(ha,ua){Ho$1(this,ha,ua),Go(this,ha,Sa=>{this.i._attachStringVectorListener(Sa)})}attachProtoListener(ha,ua,Sa){Xo(this,ha,ua),Go(this,ha,ba=>{this.i._attachProtoListener(ba,Sa||!1)})}attachProtoVectorListener(ha,ua,Sa){Ho$1(this,ha,ua),Go(this,ha,ba=>{this.i._attachProtoVectorListener(ba,Sa||!1)})}attachAudioListener(ha,ua,Sa){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),Xo(this,ha,(ba,ka)=>{ba=new Float32Array(ba.buffer,ba.byteOffset,ba.length/4),ua(ba,ka)}),Go(this,ha,ba=>{this.i._attachAudioListener(ba,Sa||!1)})}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},class extends Ha$1{get ea(){return this.i}oa(ha,ua,Sa){Go(this,ua,ba=>{const[ka,_y]=jo(this,ha,ba);this.ea._addBoundTextureAsImageToStream(ba,ka,_y,Sa)})}V(ha,ua){Xo(this,ha,ua),Go(this,ha,Sa=>{this.ea._attachImageListener(Sa)})}ba(ha,ua){Ho$1(this,ha,ua),Go(this,ha,Sa=>{this.ea._attachImageVectorListener(Sa)})}}));var Ha$1,Wa$1=class extends Xa$1{};async function za$1(ha,ua,Sa){return async function(ba,ka,_y,Ty){return Wo(ba,ka,_y,Ty)}(ha,Sa.canvas??(Do$1()?void 0:document.createElement("canvas")),ua,Sa)}function Ka$1(ha,ua,Sa,ba){if(ha.U){const _y=new ms$1;if(Sa!=null&&Sa.regionOfInterest){if(!ha.na)throw Error("This task doesn't support region-of-interest.");var ka=Sa.regionOfInterest;if(ka.left>=ka.right||ka.top>=ka.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(ka.left<0||ka.top<0||ka.right>1||ka.bottom>1)throw Error("Expected RectF values to be in [0,1].");An$1(_y,1,(ka.left+ka.right)/2),An$1(_y,2,(ka.top+ka.bottom)/2),An$1(_y,4,ka.right-ka.left),An$1(_y,3,ka.bottom-ka.top)}else An$1(_y,1,.5),An$1(_y,2,.5),An$1(_y,4,1),An$1(_y,3,1);if(Sa!=null&&Sa.rotationDegrees){if((Sa==null?void 0:Sa.rotationDegrees)%90!=0)throw Error("Expected rotation to be a multiple of 90°.");if(An$1(_y,5,-Math.PI*Sa.rotationDegrees/180),(Sa==null?void 0:Sa.rotationDegrees)%180!=0){const[Ty,Ay]=Bo$1(ua);Sa=En$1(_y,3)*Ay/Ty,ka=En$1(_y,4)*Ty/Ay,An$1(_y,4,Sa),An$1(_y,3,ka)}}ha.g.addProtoToStream(_y.g(),"mediapipe.NormalizedRect",ha.U,ba)}ha.g.oa(ua,ha.Z,ba??performance.now()),ha.finishProcessing()}function Ya$1(ha,ua,Sa){var ba;if((ba=ha.baseOptions)!=null&&ba.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");Ka$1(ha,ua,Sa,ha.B+1)}function $a(ha,ua,Sa,ba){var ka;if(!((ka=ha.baseOptions)!=null&&ka.g()))throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");Ka$1(ha,ua,Sa,ba)}function qa$1(ha,ua,Sa,ba){var ka=ua.data;const _y=ua.width,Ty=_y*(ua=ua.height);if((ka instanceof Uint8Array||ka instanceof Float32Array)&&ka.length!==Ty)throw Error("Unsupported channel count: "+ka.length/Ty);return ha=new Ea$1([ka],Sa,!1,ha.g.i.canvas,ha.P,_y,ua),ba?ha.clone():ha}var Ja$1=class extends Zo$1{constructor(ua,Sa,ba,ka){super(ua),this.g=ua,this.Z=Sa,this.U=ba,this.na=ka,this.P=new ca}l(ua,Sa=!0){if("runningMode"in ua&&wn$1(this.baseOptions,2,!!ua.runningMode&&ua.runningMode!=="IMAGE"),ua.canvas!==void 0&&this.g.i.canvas!==ua.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(ua,Sa)}close(){this.P.close(),super.close()}};Ja$1.prototype.close=Ja$1.prototype.close;var Za$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"image_in","norm_rect_in",!1),this.j={detections:[]},dn$1(ua=this.h=new Cs$1,0,1,Sa=new Is),An$1(this.h,2,.5),An$1(this.h,3,.3)}get baseOptions(){return hn(this.h,Is,1)}set baseOptions(ua){dn$1(this.h,0,1,ua)}o(ua){return"minDetectionConfidence"in ua&&An$1(this.h,2,ua.minDetectionConfidence??.5),"minSuppressionThreshold"in ua&&An$1(this.h,3,ua.minSuppressionThreshold??.3),this.l(ua)}D(ua,Sa){return this.j={detections:[]},Ya$1(this,ua,Sa),this.j}F(ua,Sa,ba){return this.j={detections:[]},$a(this,ua,ba,Sa),this.j}m(){var ua=new Qi;Ji(ua,"image_in"),Ji(ua,"norm_rect_in"),Zi(ua,"detections");const Sa=new Gi$1;Yn(Sa,Us$1,this.h);const ba=new zi$1;Xi(ba,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),Hi$1(ba,"IMAGE:image_in"),Hi$1(ba,"NORM_RECT:norm_rect_in"),Wi(ba,"DETECTIONS:detections"),ba.o(Sa),qi$1(ua,ba),this.g.attachProtoVectorListener("detections",(ka,_y)=>{for(const Ty of ka)ka=hs$1(Ty),this.j.detections.push(xo$1(ka));Yo(this,_y)}),this.g.attachEmptyPacketListener("detections",ka=>{Yo(this,ka)}),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};Za$1.prototype.detectForVideo=Za$1.prototype.F,Za$1.prototype.detect=Za$1.prototype.D,Za$1.prototype.setOptions=Za$1.prototype.o,Za$1.createFromModelPath=async function(ha,ua){return za$1(Za$1,ha,{baseOptions:{modelAssetPath:ua}})},Za$1.createFromModelBuffer=function(ha,ua){return za$1(Za$1,ha,{baseOptions:{modelAssetBuffer:ua}})},Za$1.createFromOptions=function(ha,ua){return za$1(Za$1,ha,ua)};var Qa$1=Va([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),tc$1=Va([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),ec$1=Va([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),nc$1=Va([474,475],[475,476],[476,477],[477,474]),rc$1=Va([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),ic$1=Va([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),sc$1=Va([469,470],[470,471],[471,472],[472,469]),oc$1=Va([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),ac$1=[...Qa$1,...tc$1,...ec$1,...rc$1,...ic$1,...oc$1],cc$1=Va([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function hc$1(ha){ha.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var uc$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"image_in","norm_rect",!1),this.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,dn$1(ua=this.h=new Bs$1,0,1,Sa=new Is),this.v=new Ns$1,dn$1(this.h,0,3,this.v),this.s=new Cs$1,dn$1(this.h,0,2,this.s),Tn$1(this.s,4,1),An$1(this.s,2,.5),An$1(this.v,2,.5),An$1(this.h,4,.5)}get baseOptions(){return hn(this.h,Is,1)}set baseOptions(ua){dn$1(this.h,0,1,ua)}o(ua){return"numFaces"in ua&&Tn$1(this.s,4,ua.numFaces??1),"minFaceDetectionConfidence"in ua&&An$1(this.s,2,ua.minFaceDetectionConfidence??.5),"minTrackingConfidence"in ua&&An$1(this.h,4,ua.minTrackingConfidence??.5),"minFacePresenceConfidence"in ua&&An$1(this.v,2,ua.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in ua&&(this.outputFaceBlendshapes=!!ua.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in ua&&(this.outputFacialTransformationMatrixes=!!ua.outputFacialTransformationMatrixes),this.l(ua)}D(ua,Sa){return hc$1(this),Ya$1(this,ua,Sa),this.j}F(ua,Sa,ba){return hc$1(this),$a(this,ua,ba,Sa),this.j}m(){var ua=new Qi;Ji(ua,"image_in"),Ji(ua,"norm_rect"),Zi(ua,"face_landmarks");const Sa=new Gi$1;Yn(Sa,Vs$1,this.h);const ba=new zi$1;Xi(ba,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),Hi$1(ba,"IMAGE:image_in"),Hi$1(ba,"NORM_RECT:norm_rect"),Wi(ba,"NORM_LANDMARKS:face_landmarks"),ba.o(Sa),qi$1(ua,ba),this.g.attachProtoVectorListener("face_landmarks",(ka,_y)=>{for(const Ty of ka)ka=fs$1(Ty),this.j.faceLandmarks.push(Lo$1(ka));Yo(this,_y)}),this.g.attachEmptyPacketListener("face_landmarks",ka=>{Yo(this,ka)}),this.outputFaceBlendshapes&&(Zi(ua,"blendshapes"),Wi(ba,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",(ka,_y)=>{if(this.outputFaceBlendshapes)for(const Ty of ka)ka=ss$1(Ty),this.j.faceBlendshapes.push(So$1(ka.g()??[]));Yo(this,_y)}),this.g.attachEmptyPacketListener("blendshapes",ka=>{Yo(this,ka)})),this.outputFacialTransformationMatrixes&&(Zi(ua,"face_geometry"),Wi(ba,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",(ka,_y)=>{if(this.outputFacialTransformationMatrixes)for(const Ty of ka)(ka=hn(Ds$1(Ty),ps$1,2))&&this.j.facialTransformationMatrixes.push({rows:_n$1(ka,1)??0??0,columns:_n$1(ka,2)??0??0,data:$e$1(ka,3,qt$1,Ye$1()).slice()??[]});Yo(this,_y)}),this.g.attachEmptyPacketListener("face_geometry",ka=>{Yo(this,ka)})),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};uc$1.prototype.detectForVideo=uc$1.prototype.F,uc$1.prototype.detect=uc$1.prototype.D,uc$1.prototype.setOptions=uc$1.prototype.o,uc$1.createFromModelPath=function(ha,ua){return za$1(uc$1,ha,{baseOptions:{modelAssetPath:ua}})},uc$1.createFromModelBuffer=function(ha,ua){return za$1(uc$1,ha,{baseOptions:{modelAssetBuffer:ua}})},uc$1.createFromOptions=function(ha,ua){return za$1(uc$1,ha,ua)},uc$1.FACE_LANDMARKS_LIPS=Qa$1,uc$1.FACE_LANDMARKS_LEFT_EYE=tc$1,uc$1.FACE_LANDMARKS_LEFT_EYEBROW=ec$1,uc$1.FACE_LANDMARKS_LEFT_IRIS=nc$1,uc$1.FACE_LANDMARKS_RIGHT_EYE=rc$1,uc$1.FACE_LANDMARKS_RIGHT_EYEBROW=ic$1,uc$1.FACE_LANDMARKS_RIGHT_IRIS=sc$1,uc$1.FACE_LANDMARKS_FACE_OVAL=oc$1,uc$1.FACE_LANDMARKS_CONTOURS=ac$1,uc$1.FACE_LANDMARKS_TESSELATION=cc$1;var lc$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"image_in","norm_rect",!0),dn$1(ua=this.j=new Xs,0,1,Sa=new Is)}get baseOptions(){return hn(this.j,Is,1)}set baseOptions(ua){dn$1(this.j,0,1,ua)}o(ua){return super.l(ua)}Ka(ua,Sa,ba){const ka=typeof Sa!="function"?Sa:{};if(this.h=typeof Sa=="function"?Sa:ba,Ya$1(this,ua,ka??{}),!this.h)return this.s}m(){var ua=new Qi;Ji(ua,"image_in"),Ji(ua,"norm_rect"),Zi(ua,"stylized_image");const Sa=new Gi$1;Yn(Sa,Hs$1,this.j);const ba=new zi$1;Xi(ba,"mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),Hi$1(ba,"IMAGE:image_in"),Hi$1(ba,"NORM_RECT:norm_rect"),Wi(ba,"STYLIZED_IMAGE:stylized_image"),ba.o(Sa),qi$1(ua,ba),this.g.V("stylized_image",(ka,_y)=>{var Ty=!this.h,Ay=ka.data,Ey=ka.width;const My=Ey*(ka=ka.height);if(Ay instanceof Uint8Array)if(Ay.length===3*My){const Dy=new Uint8ClampedArray(4*My);for(let Iy=0;Iy<My;++Iy)Dy[4*Iy]=Ay[3*Iy],Dy[4*Iy+1]=Ay[3*Iy+1],Dy[4*Iy+2]=Ay[3*Iy+2],Dy[4*Iy+3]=255;Ay=new ImageData(Dy,Ey,ka)}else{if(Ay.length!==4*My)throw Error("Unsupported channel count: "+Ay.length/My);Ay=new ImageData(new Uint8ClampedArray(Ay.buffer,Ay.byteOffset,Ay.length),Ey,ka)}else if(!(Ay instanceof WebGLTexture))throw Error(`Unsupported format: ${Ay.constructor.name}`);Ey=new Ga$1([Ay],!1,!1,this.g.i.canvas,this.P,Ey,ka),this.s=Ty=Ty?Ey.clone():Ey,this.h&&this.h(Ty),Yo(this,_y)}),this.g.attachEmptyPacketListener("stylized_image",ka=>{this.s=null,this.h&&this.h(null),Yo(this,ka)}),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};lc$1.prototype.stylize=lc$1.prototype.Ka,lc$1.prototype.setOptions=lc$1.prototype.o,lc$1.createFromModelPath=function(ha,ua){return za$1(lc$1,ha,{baseOptions:{modelAssetPath:ua}})},lc$1.createFromModelBuffer=function(ha,ua){return za$1(lc$1,ha,{baseOptions:{modelAssetBuffer:ua}})},lc$1.createFromOptions=function(ha,ua){return za$1(lc$1,ha,ua)};var dc$1=Va([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function fc$1(ha){ha.gestures=[],ha.landmarks=[],ha.worldLandmarks=[],ha.handedness=[]}function pc$1(ha){return ha.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:ha.gestures,landmarks:ha.landmarks,worldLandmarks:ha.worldLandmarks,handedness:ha.handedness,handednesses:ha.handedness}}function gc$1(ha,ua=!0){const Sa=[];for(const ka of ha){var ba=ss$1(ka);ha=[];for(const _y of ba.g())ba=ua&&_n$1(_y,1)!=null?_n$1(_y,1)??0:-1,ha.push({score:En$1(_y,2)??0,index:ba,categoryName:vn(_y,3)??""??"",displayName:vn(_y,4)??""??""});Sa.push(ha)}return Sa}var mc$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],dn$1(ua=this.j=new Js,0,1,Sa=new Is),this.s=new qs,dn$1(this.j,0,2,this.s),this.C=new $s$1,dn$1(this.s,0,3,this.C),this.v=new Ys$1,dn$1(this.s,0,2,this.v),this.h=new Ks,dn$1(this.j,0,3,this.h),An$1(this.v,2,.5),An$1(this.s,4,.5),An$1(this.C,2,.5)}get baseOptions(){return hn(this.j,Is,1)}set baseOptions(ua){dn$1(this.j,0,1,ua)}o(ua){var _y,Ty,Ay,Ey;if(Tn$1(this.v,3,ua.numHands??1),"minHandDetectionConfidence"in ua&&An$1(this.v,2,ua.minHandDetectionConfidence??.5),"minTrackingConfidence"in ua&&An$1(this.s,4,ua.minTrackingConfidence??.5),"minHandPresenceConfidence"in ua&&An$1(this.C,2,ua.minHandPresenceConfidence??.5),ua.cannedGesturesClassifierOptions){var Sa=new Ws$1,ba=Sa,ka=ko$1(ua.cannedGesturesClassifierOptions,(_y=hn(this.h,Ws$1,3))==null?void 0:_y.h());dn$1(ba,0,2,ka),dn$1(this.h,0,3,Sa)}else ua.cannedGesturesClassifierOptions===void 0&&((Ty=hn(this.h,Ws$1,3))==null||Ty.g());return ua.customGesturesClassifierOptions?(dn$1(ba=Sa=new Ws$1,0,2,ka=ko$1(ua.customGesturesClassifierOptions,(Ay=hn(this.h,Ws$1,4))==null?void 0:Ay.h())),dn$1(this.h,0,4,Sa)):ua.customGesturesClassifierOptions===void 0&&((Ey=hn(this.h,Ws$1,4))==null||Ey.g()),this.l(ua)}Fa(ua,Sa){return fc$1(this),Ya$1(this,ua,Sa),pc$1(this)}Ga(ua,Sa,ba){return fc$1(this),$a(this,ua,ba,Sa),pc$1(this)}m(){var ua=new Qi;Ji(ua,"image_in"),Ji(ua,"norm_rect"),Zi(ua,"hand_gestures"),Zi(ua,"hand_landmarks"),Zi(ua,"world_hand_landmarks"),Zi(ua,"handedness");const Sa=new Gi$1;Yn(Sa,no$1,this.j);const ba=new zi$1;Xi(ba,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),Hi$1(ba,"IMAGE:image_in"),Hi$1(ba,"NORM_RECT:norm_rect"),Wi(ba,"HAND_GESTURES:hand_gestures"),Wi(ba,"LANDMARKS:hand_landmarks"),Wi(ba,"WORLD_LANDMARKS:world_hand_landmarks"),Wi(ba,"HANDEDNESS:handedness"),ba.o(Sa),qi$1(ua,ba),this.g.attachProtoVectorListener("hand_landmarks",(ka,_y)=>{for(const Ty of ka){ka=fs$1(Ty);const Ay=[];for(const Ey of ln$1(ka,ds,1))Ay.push({x:En$1(Ey,1)??0,y:En$1(Ey,2)??0,z:En$1(Ey,3)??0,visibility:En$1(Ey,4)??0});this.landmarks.push(Ay)}Yo(this,_y)}),this.g.attachEmptyPacketListener("hand_landmarks",ka=>{Yo(this,ka)}),this.g.attachProtoVectorListener("world_hand_landmarks",(ka,_y)=>{for(const Ty of ka){ka=ls(Ty);const Ay=[];for(const Ey of ln$1(ka,us$1,1))Ay.push({x:En$1(Ey,1)??0,y:En$1(Ey,2)??0,z:En$1(Ey,3)??0,visibility:En$1(Ey,4)??0});this.worldLandmarks.push(Ay)}Yo(this,_y)}),this.g.attachEmptyPacketListener("world_hand_landmarks",ka=>{Yo(this,ka)}),this.g.attachProtoVectorListener("hand_gestures",(ka,_y)=>{this.gestures.push(...gc$1(ka,!1)),Yo(this,_y)}),this.g.attachEmptyPacketListener("hand_gestures",ka=>{Yo(this,ka)}),this.g.attachProtoVectorListener("handedness",(ka,_y)=>{this.handedness.push(...gc$1(ka)),Yo(this,_y)}),this.g.attachEmptyPacketListener("handedness",ka=>{Yo(this,ka)}),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};function yc$1(ha){return{landmarks:ha.landmarks,worldLandmarks:ha.worldLandmarks,handednesses:ha.handedness,handedness:ha.handedness}}mc$1.prototype.recognizeForVideo=mc$1.prototype.Ga,mc$1.prototype.recognize=mc$1.prototype.Fa,mc$1.prototype.setOptions=mc$1.prototype.o,mc$1.createFromModelPath=function(ha,ua){return za$1(mc$1,ha,{baseOptions:{modelAssetPath:ua}})},mc$1.createFromModelBuffer=function(ha,ua){return za$1(mc$1,ha,{baseOptions:{modelAssetBuffer:ua}})},mc$1.createFromOptions=function(ha,ua){return za$1(mc$1,ha,ua)},mc$1.HAND_CONNECTIONS=dc$1;var _c$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],dn$1(ua=this.h=new qs,0,1,Sa=new Is),this.s=new $s$1,dn$1(this.h,0,3,this.s),this.j=new Ys$1,dn$1(this.h,0,2,this.j),Tn$1(this.j,3,1),An$1(this.j,2,.5),An$1(this.s,2,.5),An$1(this.h,4,.5)}get baseOptions(){return hn(this.h,Is,1)}set baseOptions(ua){dn$1(this.h,0,1,ua)}o(ua){return"numHands"in ua&&Tn$1(this.j,3,ua.numHands??1),"minHandDetectionConfidence"in ua&&An$1(this.j,2,ua.minHandDetectionConfidence??.5),"minTrackingConfidence"in ua&&An$1(this.h,4,ua.minTrackingConfidence??.5),"minHandPresenceConfidence"in ua&&An$1(this.s,2,ua.minHandPresenceConfidence??.5),this.l(ua)}D(ua,Sa){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],Ya$1(this,ua,Sa),yc$1(this)}F(ua,Sa,ba){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],$a(this,ua,ba,Sa),yc$1(this)}m(){var ua=new Qi;Ji(ua,"image_in"),Ji(ua,"norm_rect"),Zi(ua,"hand_landmarks"),Zi(ua,"world_hand_landmarks"),Zi(ua,"handedness");const Sa=new Gi$1;Yn(Sa,ro$1,this.h);const ba=new zi$1;Xi(ba,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),Hi$1(ba,"IMAGE:image_in"),Hi$1(ba,"NORM_RECT:norm_rect"),Wi(ba,"LANDMARKS:hand_landmarks"),Wi(ba,"WORLD_LANDMARKS:world_hand_landmarks"),Wi(ba,"HANDEDNESS:handedness"),ba.o(Sa),qi$1(ua,ba),this.g.attachProtoVectorListener("hand_landmarks",(ka,_y)=>{for(const Ty of ka)ka=fs$1(Ty),this.landmarks.push(Lo$1(ka));Yo(this,_y)}),this.g.attachEmptyPacketListener("hand_landmarks",ka=>{Yo(this,ka)}),this.g.attachProtoVectorListener("world_hand_landmarks",(ka,_y)=>{for(const Ty of ka)ka=ls(Ty),this.worldLandmarks.push(Ro$1(ka));Yo(this,_y)}),this.g.attachEmptyPacketListener("world_hand_landmarks",ka=>{Yo(this,ka)}),this.g.attachProtoVectorListener("handedness",(ka,_y)=>{var Ty=this.handedness,Ay=Ty.push;const Ey=[];for(const My of ka){ka=ss$1(My);const Dy=[];for(const Iy of ka.g())Dy.push({score:En$1(Iy,2)??0,index:_n$1(Iy,1)??0??-1,categoryName:vn(Iy,3)??""??"",displayName:vn(Iy,4)??""??""});Ey.push(Dy)}Ay.call(Ty,...Ey),Yo(this,_y)}),this.g.attachEmptyPacketListener("handedness",ka=>{Yo(this,ka)}),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};_c$1.prototype.detectForVideo=_c$1.prototype.F,_c$1.prototype.detect=_c$1.prototype.D,_c$1.prototype.setOptions=_c$1.prototype.o,_c$1.createFromModelPath=function(ha,ua){return za$1(_c$1,ha,{baseOptions:{modelAssetPath:ua}})},_c$1.createFromModelBuffer=function(ha,ua){return za$1(_c$1,ha,{baseOptions:{modelAssetBuffer:ua}})},_c$1.createFromOptions=function(ha,ua){return za$1(_c$1,ha,ua)},_c$1.HAND_CONNECTIONS=dc$1;var vc$1=Va([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function Ec$1(ha){ha.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function wc$1(ha){try{if(!ha.C)return ha.h;ha.C(ha.h)}finally{Jo(ha)}}function Tc$1(ha,ua){ha=fs$1(ha),ua.push(Lo$1(ha))}var Ac$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,dn$1(ua=this.j=new ao$1,0,1,Sa=new Is),this.K=new $s$1,dn$1(this.j,0,2,this.K),this.Y=new io$1,dn$1(this.j,0,3,this.Y),this.s=new Cs$1,dn$1(this.j,0,4,this.s),this.H=new Ns$1,dn$1(this.j,0,5,this.H),this.v=new so$1,dn$1(this.j,0,6,this.v),this.L=new oo$1,dn$1(this.j,0,7,this.L),An$1(this.s,2,.5),An$1(this.s,3,.3),An$1(this.H,2,.5),An$1(this.v,2,.5),An$1(this.v,3,.3),An$1(this.L,2,.5),An$1(this.K,2,.5)}get baseOptions(){return hn(this.j,Is,1)}set baseOptions(ua){dn$1(this.j,0,1,ua)}o(ua){return"minFaceDetectionConfidence"in ua&&An$1(this.s,2,ua.minFaceDetectionConfidence??.5),"minFaceSuppressionThreshold"in ua&&An$1(this.s,3,ua.minFaceSuppressionThreshold??.3),"minFacePresenceConfidence"in ua&&An$1(this.H,2,ua.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in ua&&(this.outputFaceBlendshapes=!!ua.outputFaceBlendshapes),"minPoseDetectionConfidence"in ua&&An$1(this.v,2,ua.minPoseDetectionConfidence??.5),"minPoseSuppressionThreshold"in ua&&An$1(this.v,3,ua.minPoseSuppressionThreshold??.3),"minPosePresenceConfidence"in ua&&An$1(this.L,2,ua.minPosePresenceConfidence??.5),"outputPoseSegmentationMasks"in ua&&(this.outputPoseSegmentationMasks=!!ua.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in ua&&An$1(this.K,2,ua.minHandLandmarksConfidence??.5),this.l(ua)}D(ua,Sa,ba){const ka=typeof Sa!="function"?Sa:{};return this.C=typeof Sa=="function"?Sa:ba,Ec$1(this),Ya$1(this,ua,ka),wc$1(this)}F(ua,Sa,ba,ka){const _y=typeof ba!="function"?ba:{};return this.C=typeof ba=="function"?ba:ka,Ec$1(this),$a(this,ua,_y,Sa),wc$1(this)}m(){var ua=new Qi;Ji(ua,"input_frames_image"),Zi(ua,"pose_landmarks"),Zi(ua,"pose_world_landmarks"),Zi(ua,"face_landmarks"),Zi(ua,"left_hand_landmarks"),Zi(ua,"left_hand_world_landmarks"),Zi(ua,"right_hand_landmarks"),Zi(ua,"right_hand_world_landmarks");const Sa=new Gi$1,ba=new xi;tn$1(ba,1,de("type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),""),function(_y,Ty){if(Ty!=null)if(Array.isArray(Ty))He$1(_y,2,Pe(Ty,Oe$1,void 0,void 0,!1));else{if(!(typeof Ty=="string"||Ty instanceof N||C(Ty)))throw Error("invalid value in Any.value field: "+Ty+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");tn$1(_y,2,dt(Ty,!1),U())}}(ba,this.j.g());const ka=new zi$1;Xi(ka,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),yn$1(ka,8,xi,ba),Hi$1(ka,"IMAGE:input_frames_image"),Wi(ka,"POSE_LANDMARKS:pose_landmarks"),Wi(ka,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),Wi(ka,"FACE_LANDMARKS:face_landmarks"),Wi(ka,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),Wi(ka,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),Wi(ka,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),Wi(ka,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),ka.o(Sa),qi$1(ua,ka),$o$1(this,ua),this.g.attachProtoListener("pose_landmarks",(_y,Ty)=>{Tc$1(_y,this.h.poseLandmarks),Yo(this,Ty)}),this.g.attachEmptyPacketListener("pose_landmarks",_y=>{Yo(this,_y)}),this.g.attachProtoListener("pose_world_landmarks",(_y,Ty)=>{var Ay=this.h.poseWorldLandmarks;_y=ls(_y),Ay.push(Ro$1(_y)),Yo(this,Ty)}),this.g.attachEmptyPacketListener("pose_world_landmarks",_y=>{Yo(this,_y)}),this.outputPoseSegmentationMasks&&(Wi(ka,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),qo(this,"pose_segmentation_mask"),this.g.V("pose_segmentation_mask",(_y,Ty)=>{this.h.poseSegmentationMasks=[qa$1(this,_y,!0,!this.C)],Yo(this,Ty)}),this.g.attachEmptyPacketListener("pose_segmentation_mask",_y=>{this.h.poseSegmentationMasks=[],Yo(this,_y)})),this.g.attachProtoListener("face_landmarks",(_y,Ty)=>{Tc$1(_y,this.h.faceLandmarks),Yo(this,Ty)}),this.g.attachEmptyPacketListener("face_landmarks",_y=>{Yo(this,_y)}),this.outputFaceBlendshapes&&(Zi(ua,"extra_blendshapes"),Wi(ka,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",(_y,Ty)=>{var Ay=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(_y=ss$1(_y),Ay.push(So$1(_y.g()??[]))),Yo(this,Ty)}),this.g.attachEmptyPacketListener("extra_blendshapes",_y=>{Yo(this,_y)})),this.g.attachProtoListener("left_hand_landmarks",(_y,Ty)=>{Tc$1(_y,this.h.leftHandLandmarks),Yo(this,Ty)}),this.g.attachEmptyPacketListener("left_hand_landmarks",_y=>{Yo(this,_y)}),this.g.attachProtoListener("left_hand_world_landmarks",(_y,Ty)=>{var Ay=this.h.leftHandWorldLandmarks;_y=ls(_y),Ay.push(Ro$1(_y)),Yo(this,Ty)}),this.g.attachEmptyPacketListener("left_hand_world_landmarks",_y=>{Yo(this,_y)}),this.g.attachProtoListener("right_hand_landmarks",(_y,Ty)=>{Tc$1(_y,this.h.rightHandLandmarks),Yo(this,Ty)}),this.g.attachEmptyPacketListener("right_hand_landmarks",_y=>{Yo(this,_y)}),this.g.attachProtoListener("right_hand_world_landmarks",(_y,Ty)=>{var Ay=this.h.rightHandWorldLandmarks;_y=ls(_y),Ay.push(Ro$1(_y)),Yo(this,Ty)}),this.g.attachEmptyPacketListener("right_hand_world_landmarks",_y=>{Yo(this,_y)}),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};Ac$1.prototype.detectForVideo=Ac$1.prototype.F,Ac$1.prototype.detect=Ac$1.prototype.D,Ac$1.prototype.setOptions=Ac$1.prototype.o,Ac$1.createFromModelPath=function(ha,ua){return za$1(Ac$1,ha,{baseOptions:{modelAssetPath:ua}})},Ac$1.createFromModelBuffer=function(ha,ua){return za$1(Ac$1,ha,{baseOptions:{modelAssetBuffer:ua}})},Ac$1.createFromOptions=function(ha,ua){return za$1(Ac$1,ha,ua)},Ac$1.HAND_CONNECTIONS=dc$1,Ac$1.POSE_CONNECTIONS=vc$1,Ac$1.FACE_LANDMARKS_LIPS=Qa$1,Ac$1.FACE_LANDMARKS_LEFT_EYE=tc$1,Ac$1.FACE_LANDMARKS_LEFT_EYEBROW=ec$1,Ac$1.FACE_LANDMARKS_LEFT_IRIS=nc$1,Ac$1.FACE_LANDMARKS_RIGHT_EYE=rc$1,Ac$1.FACE_LANDMARKS_RIGHT_EYEBROW=ic$1,Ac$1.FACE_LANDMARKS_RIGHT_IRIS=sc$1,Ac$1.FACE_LANDMARKS_FACE_OVAL=oc$1,Ac$1.FACE_LANDMARKS_CONTOURS=ac$1,Ac$1.FACE_LANDMARKS_TESSELATION=cc$1;var bc$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"input_image","norm_rect",!0),this.j={classifications:[]},dn$1(ua=this.h=new uo$1,0,1,Sa=new Is)}get baseOptions(){return hn(this.h,Is,1)}set baseOptions(ua){dn$1(this.h,0,1,ua)}o(ua){return dn$1(this.h,0,2,ko$1(ua,hn(this.h,bs$1,2))),this.l(ua)}qa(ua,Sa){return this.j={classifications:[]},Ya$1(this,ua,Sa),this.j}ra(ua,Sa,ba){return this.j={classifications:[]},$a(this,ua,ba,Sa),this.j}m(){var ua=new Qi;Ji(ua,"input_image"),Ji(ua,"norm_rect"),Zi(ua,"classifications");const Sa=new Gi$1;Yn(Sa,lo$1,this.h);const ba=new zi$1;Xi(ba,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),Hi$1(ba,"IMAGE:input_image"),Hi$1(ba,"NORM_RECT:norm_rect"),Wi(ba,"CLASSIFICATIONS:classifications"),ba.o(Sa),qi$1(ua,ba),this.g.attachProtoListener("classifications",(ka,_y)=>{this.j=function(Ty){const Ay={classifications:ln$1(Ty,ys$1,1).map(Ey=>{var My;return So$1(((My=hn(Ey,rs,4))==null?void 0:My.g())??[],_n$1(Ey,2)??0,vn(Ey,3)??"")})};return he(Ve(Ty,2))!=null&&(Ay.timestampMs=he(Ve(Ty,2))??0),Ay}(_s$1(ka)),Yo(this,_y)}),this.g.attachEmptyPacketListener("classifications",ka=>{Yo(this,ka)}),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};bc$1.prototype.classifyForVideo=bc$1.prototype.ra,bc$1.prototype.classify=bc$1.prototype.qa,bc$1.prototype.setOptions=bc$1.prototype.o,bc$1.createFromModelPath=function(ha,ua){return za$1(bc$1,ha,{baseOptions:{modelAssetPath:ua}})},bc$1.createFromModelBuffer=function(ha,ua){return za$1(bc$1,ha,{baseOptions:{modelAssetBuffer:ua}})},bc$1.createFromOptions=function(ha,ua){return za$1(bc$1,ha,ua)};var kc$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"image_in","norm_rect",!0),this.h=new fo$1,this.embeddings={embeddings:[]},dn$1(ua=this.h,0,1,Sa=new Is)}get baseOptions(){return hn(this.h,Is,1)}set baseOptions(ua){dn$1(this.h,0,1,ua)}o(ua){var Sa=this.h,ba=hn(this.h,Ss$1,2);return ba=ba?ba.clone():new Ss$1,ua.l2Normalize!==void 0?wn$1(ba,1,ua.l2Normalize):"l2Normalize"in ua&&He$1(ba,1),ua.quantize!==void 0?wn$1(ba,2,ua.quantize):"quantize"in ua&&He$1(ba,2),dn$1(Sa,0,2,ba),this.l(ua)}xa(ua,Sa){return Ya$1(this,ua,Sa),this.embeddings}ya(ua,Sa,ba){return $a(this,ua,ba,Sa),this.embeddings}m(){var ua=new Qi;Ji(ua,"image_in"),Ji(ua,"norm_rect"),Zi(ua,"embeddings_out");const Sa=new Gi$1;Yn(Sa,po$1,this.h);const ba=new zi$1;Xi(ba,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),Hi$1(ba,"IMAGE:image_in"),Hi$1(ba,"NORM_RECT:norm_rect"),Wi(ba,"EMBEDDINGS:embeddings_out"),ba.o(Sa),qi$1(ua,ba),this.g.attachProtoListener("embeddings_out",(ka,_y)=>{ka=As$1(ka),this.embeddings=function(Ty){return{embeddings:ln$1(Ty,ws$1,1).map(Ay=>{var My,Dy;const Ey={headIndex:_n$1(Ay,3)??0??-1,headName:vn(Ay,4)??""??""};if(cn(Ay,vs$1,nn$1(Ay,1))!==void 0)Ay=$e$1(Ay=hn(Ay,vs$1,nn$1(Ay,1)),1,qt$1,Ye$1()),Ey.floatEmbedding=Ay.slice();else{const Iy=new Uint8Array(0);Ey.quantizedEmbedding=((Dy=(My=hn(Ay,Es,nn$1(Ay,2)))==null?void 0:My.ma())==null?void 0:Dy.h())??Iy}return Ey}),timestampMs:he(Ve(Ty,2))??0}}(ka),Yo(this,_y)}),this.g.attachEmptyPacketListener("embeddings_out",ka=>{Yo(this,ka)}),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};kc$1.cosineSimilarity=function(ha,ua){if(ha.floatEmbedding&&ua.floatEmbedding)ha=Io$1(ha.floatEmbedding,ua.floatEmbedding);else{if(!ha.quantizedEmbedding||!ua.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");ha=Io$1(Fo$1(ha.quantizedEmbedding),Fo$1(ua.quantizedEmbedding))}return ha},kc$1.prototype.embedForVideo=kc$1.prototype.ya,kc$1.prototype.embed=kc$1.prototype.xa,kc$1.prototype.setOptions=kc$1.prototype.o,kc$1.createFromModelPath=function(ha,ua){return za$1(kc$1,ha,{baseOptions:{modelAssetPath:ua}})},kc$1.createFromModelBuffer=function(ha,ua){return za$1(kc$1,ha,{baseOptions:{modelAssetBuffer:ua}})},kc$1.createFromOptions=function(ha,ua){return za$1(kc$1,ha,ua)};var Sc$1=class{constructor(ua,Sa,ba){this.confidenceMasks=ua,this.categoryMask=Sa,this.qualityScores=ba}close(){var ua,Sa;(ua=this.confidenceMasks)==null||ua.forEach(ba=>{ba.close()}),(Sa=this.categoryMask)==null||Sa.close()}};function xc$1(ha){ha.categoryMask=void 0,ha.confidenceMasks=void 0,ha.qualityScores=void 0}function Lc$1(ha){try{const ua=new Sc$1(ha.confidenceMasks,ha.categoryMask,ha.qualityScores);if(!ha.j)return ua;ha.j(ua)}finally{Jo(ha)}}Sc$1.prototype.close=Sc$1.prototype.close;var Rc$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"image_in","norm_rect",!1),this.s=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new vo$1,this.v=new go$1,dn$1(this.h,0,3,this.v),dn$1(ua=this.h,0,1,Sa=new Is)}get baseOptions(){return hn(this.h,Is,1)}set baseOptions(ua){dn$1(this.h,0,1,ua)}o(ua){return ua.displayNamesLocale!==void 0?He$1(this.h,2,de(ua.displayNamesLocale)):"displayNamesLocale"in ua&&He$1(this.h,2),"outputCategoryMask"in ua&&(this.outputCategoryMask=ua.outputCategoryMask??!1),"outputConfidenceMasks"in ua&&(this.outputConfidenceMasks=ua.outputConfidenceMasks??!0),super.l(ua)}J(){(function(ua){var ba,ka;const Sa=ln$1(ua.ca(),zi$1,1).filter(_y=>(vn(_y,1)??"").includes("mediapipe.tasks.TensorsToSegmentationCalculator"));if(ua.s=[],Sa.length>1)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");Sa.length===1&&(((ka=(ba=hn(Sa[0],Gi$1,7))==null?void 0:ba.l())==null?void 0:ka.g())??new Map).forEach((_y,Ty)=>{ua.s[Number(Ty)]=vn(_y,1)??""})})(this)}segment(ua,Sa,ba){const ka=typeof Sa!="function"?Sa:{};return this.j=typeof Sa=="function"?Sa:ba,xc$1(this),Ya$1(this,ua,ka),Lc$1(this)}Ia(ua,Sa,ba,ka){const _y=typeof ba!="function"?ba:{};return this.j=typeof ba=="function"?ba:ka,xc$1(this),$a(this,ua,_y,Sa),Lc$1(this)}Ba(){return this.s}m(){var ua=new Qi;Ji(ua,"image_in"),Ji(ua,"norm_rect");const Sa=new Gi$1;Yn(Sa,Eo$1,this.h);const ba=new zi$1;Xi(ba,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),Hi$1(ba,"IMAGE:image_in"),Hi$1(ba,"NORM_RECT:norm_rect"),ba.o(Sa),qi$1(ua,ba),$o$1(this,ua),this.outputConfidenceMasks&&(Zi(ua,"confidence_masks"),Wi(ba,"CONFIDENCE_MASKS:confidence_masks"),qo(this,"confidence_masks"),this.g.ba("confidence_masks",(ka,_y)=>{this.confidenceMasks=ka.map(Ty=>qa$1(this,Ty,!0,!this.j)),Yo(this,_y)}),this.g.attachEmptyPacketListener("confidence_masks",ka=>{this.confidenceMasks=[],Yo(this,ka)})),this.outputCategoryMask&&(Zi(ua,"category_mask"),Wi(ba,"CATEGORY_MASK:category_mask"),qo(this,"category_mask"),this.g.V("category_mask",(ka,_y)=>{this.categoryMask=qa$1(this,ka,!1,!this.j),Yo(this,_y)}),this.g.attachEmptyPacketListener("category_mask",ka=>{this.categoryMask=void 0,Yo(this,ka)})),Zi(ua,"quality_scores"),Wi(ba,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(ka,_y)=>{this.qualityScores=ka,Yo(this,_y)}),this.g.attachEmptyPacketListener("quality_scores",ka=>{this.categoryMask=void 0,Yo(this,ka)}),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};Rc$1.prototype.getLabels=Rc$1.prototype.Ba,Rc$1.prototype.segmentForVideo=Rc$1.prototype.Ia,Rc$1.prototype.segment=Rc$1.prototype.segment,Rc$1.prototype.setOptions=Rc$1.prototype.o,Rc$1.createFromModelPath=function(ha,ua){return za$1(Rc$1,ha,{baseOptions:{modelAssetPath:ua}})},Rc$1.createFromModelBuffer=function(ha,ua){return za$1(Rc$1,ha,{baseOptions:{modelAssetBuffer:ua}})},Rc$1.createFromOptions=function(ha,ua){return za$1(Rc$1,ha,ua)};var Fc$1=class{constructor(ua,Sa,ba){this.confidenceMasks=ua,this.categoryMask=Sa,this.qualityScores=ba}close(){var ua,Sa;(ua=this.confidenceMasks)==null||ua.forEach(ba=>{ba.close()}),(Sa=this.categoryMask)==null||Sa.close()}};Fc$1.prototype.close=Fc$1.prototype.close;var Ic$1=class extends $n$1{constructor(ua){super(ua)}},Mc$1=[0,hi$1,-2],Pc$1=[0,ni$1,-3,di$1,ni$1,-1],Cc$1=[0,Pc$1],Oc$1=[0,Pc$1,hi$1,-1],Uc$1=class extends $n$1{constructor(ua){super(ua)}},Dc$1=[0,ni$1,-1,di$1],Nc$1=class extends $n$1{constructor(ua){super(ua)}},Bc$1=class extends $n$1{constructor(ua){super(ua)}},Gc$1=[1,2,3,4,5,6,7,8,9,10,14,15],jc$1=class extends $n$1{constructor(ua){super(ua)}};jc$1.prototype.g=Si$1([0,yi$1,[0,Gc$1,_i$1,Pc$1,_i$1,[0,Pc$1,Mc$1],_i$1,Cc$1,_i$1,[0,Cc$1,Mc$1],_i$1,Dc$1,_i$1,[0,ni$1,-3,di$1,Ti],_i$1,[0,ni$1,-3,di$1],_i$1,[0,mi$1,ni$1,-2,di$1,hi$1,di$1,-1,2,ni$1,Mc$1],_i$1,Oc$1,_i$1,[0,Oc$1,Mc$1],ni$1,Mc$1,mi$1,_i$1,[0,ni$1,-3,di$1,Mc$1,-1],_i$1,[0,yi$1,Dc$1]],mi$1,[0,mi$1,hi$1,-1,di$1]]);var Vc$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new vo$1,this.s=new go$1,dn$1(this.h,0,3,this.s),dn$1(ua=this.h,0,1,Sa=new Is)}get baseOptions(){return hn(this.h,Is,1)}set baseOptions(ua){dn$1(this.h,0,1,ua)}o(ua){return"outputCategoryMask"in ua&&(this.outputCategoryMask=ua.outputCategoryMask??!1),"outputConfidenceMasks"in ua&&(this.outputConfidenceMasks=ua.outputConfidenceMasks??!0),super.l(ua)}segment(ua,Sa,ba,ka){const _y=typeof ba!="function"?ba:{};this.j=typeof ba=="function"?ba:ka,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,ba=this.B+1,ka=new jc$1;const Ty=new Bc$1;var Ay=new Ic$1;if(Tn$1(Ay,1,255),dn$1(Ty,0,12,Ay),Sa.keypoint&&Sa.scribble)throw Error("Cannot provide both keypoint and scribble.");if(Sa.keypoint){var Ey=new Uc$1;wn$1(Ey,3,!0),An$1(Ey,1,Sa.keypoint.x),An$1(Ey,2,Sa.keypoint.y),fn(Ty,5,Gc$1,Ey)}else{if(!Sa.scribble)throw Error("Must provide either a keypoint or a scribble.");for(Ey of(Ay=new Nc$1,Sa.scribble))wn$1(Sa=new Uc$1,3,!0),An$1(Sa,1,Ey.x),An$1(Sa,2,Ey.y),yn$1(Ay,1,Uc$1,Sa);fn(Ty,15,Gc$1,Ay)}yn$1(ka,1,Bc$1,Ty),this.g.addProtoToStream(ka.g(),"drishti.RenderData","roi_in",ba),Ya$1(this,ua,_y);e:{try{const Dy=new Fc$1(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var My=Dy;break e}this.j(Dy)}finally{Jo(this)}My=void 0}return My}m(){var ua=new Qi;Ji(ua,"image_in"),Ji(ua,"roi_in"),Ji(ua,"norm_rect_in");const Sa=new Gi$1;Yn(Sa,Eo$1,this.h);const ba=new zi$1;Xi(ba,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),Hi$1(ba,"IMAGE:image_in"),Hi$1(ba,"ROI:roi_in"),Hi$1(ba,"NORM_RECT:norm_rect_in"),ba.o(Sa),qi$1(ua,ba),$o$1(this,ua),this.outputConfidenceMasks&&(Zi(ua,"confidence_masks"),Wi(ba,"CONFIDENCE_MASKS:confidence_masks"),qo(this,"confidence_masks"),this.g.ba("confidence_masks",(ka,_y)=>{this.confidenceMasks=ka.map(Ty=>qa$1(this,Ty,!0,!this.j)),Yo(this,_y)}),this.g.attachEmptyPacketListener("confidence_masks",ka=>{this.confidenceMasks=[],Yo(this,ka)})),this.outputCategoryMask&&(Zi(ua,"category_mask"),Wi(ba,"CATEGORY_MASK:category_mask"),qo(this,"category_mask"),this.g.V("category_mask",(ka,_y)=>{this.categoryMask=qa$1(this,ka,!1,!this.j),Yo(this,_y)}),this.g.attachEmptyPacketListener("category_mask",ka=>{this.categoryMask=void 0,Yo(this,ka)})),Zi(ua,"quality_scores"),Wi(ba,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(ka,_y)=>{this.qualityScores=ka,Yo(this,_y)}),this.g.attachEmptyPacketListener("quality_scores",ka=>{this.categoryMask=void 0,Yo(this,ka)}),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};Vc$1.prototype.segment=Vc$1.prototype.segment,Vc$1.prototype.setOptions=Vc$1.prototype.o,Vc$1.createFromModelPath=function(ha,ua){return za$1(Vc$1,ha,{baseOptions:{modelAssetPath:ua}})},Vc$1.createFromModelBuffer=function(ha,ua){return za$1(Vc$1,ha,{baseOptions:{modelAssetBuffer:ua}})},Vc$1.createFromOptions=function(ha,ua){return za$1(Vc$1,ha,ua)};var Xc$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},dn$1(ua=this.h=new wo$1,0,1,Sa=new Is)}get baseOptions(){return hn(this.h,Is,1)}set baseOptions(ua){dn$1(this.h,0,1,ua)}o(ua){return ua.displayNamesLocale!==void 0?He$1(this.h,2,de(ua.displayNamesLocale)):"displayNamesLocale"in ua&&He$1(this.h,2),ua.maxResults!==void 0?Tn$1(this.h,3,ua.maxResults):"maxResults"in ua&&He$1(this.h,3),ua.scoreThreshold!==void 0?An$1(this.h,4,ua.scoreThreshold):"scoreThreshold"in ua&&He$1(this.h,4),ua.categoryAllowlist!==void 0?bn$1(this.h,5,ua.categoryAllowlist):"categoryAllowlist"in ua&&He$1(this.h,5),ua.categoryDenylist!==void 0?bn$1(this.h,6,ua.categoryDenylist):"categoryDenylist"in ua&&He$1(this.h,6),this.l(ua)}D(ua,Sa){return this.j={detections:[]},Ya$1(this,ua,Sa),this.j}F(ua,Sa,ba){return this.j={detections:[]},$a(this,ua,ba,Sa),this.j}m(){var ua=new Qi;Ji(ua,"input_frame_gpu"),Ji(ua,"norm_rect"),Zi(ua,"detections");const Sa=new Gi$1;Yn(Sa,To$1,this.h);const ba=new zi$1;Xi(ba,"mediapipe.tasks.vision.ObjectDetectorGraph"),Hi$1(ba,"IMAGE:input_frame_gpu"),Hi$1(ba,"NORM_RECT:norm_rect"),Wi(ba,"DETECTIONS:detections"),ba.o(Sa),qi$1(ua,ba),this.g.attachProtoVectorListener("detections",(ka,_y)=>{for(const Ty of ka)ka=hs$1(Ty),this.j.detections.push(xo$1(ka));Yo(this,_y)}),this.g.attachEmptyPacketListener("detections",ka=>{Yo(this,ka)}),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};Xc$1.prototype.detectForVideo=Xc$1.prototype.F,Xc$1.prototype.detect=Xc$1.prototype.D,Xc$1.prototype.setOptions=Xc$1.prototype.o,Xc$1.createFromModelPath=async function(ha,ua){return za$1(Xc$1,ha,{baseOptions:{modelAssetPath:ua}})},Xc$1.createFromModelBuffer=function(ha,ua){return za$1(Xc$1,ha,{baseOptions:{modelAssetBuffer:ua}})},Xc$1.createFromOptions=function(ha,ua){return za$1(Xc$1,ha,ua)};var Hc$1=class{constructor(ua,Sa,ba){this.landmarks=ua,this.worldLandmarks=Sa,this.segmentationMasks=ba}close(){var ua;(ua=this.segmentationMasks)==null||ua.forEach(Sa=>{Sa.close()})}};function Wc$1(ha){ha.landmarks=[],ha.worldLandmarks=[],ha.segmentationMasks=void 0}function zc$1(ha){try{const ua=new Hc$1(ha.landmarks,ha.worldLandmarks,ha.segmentationMasks);if(!ha.s)return ua;ha.s(ua)}finally{Jo(ha)}}Hc$1.prototype.close=Hc$1.prototype.close;var Kc$1=class extends Ja$1{constructor(ua,Sa){super(new Wa$1(ua,Sa),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,dn$1(ua=this.h=new Ao,0,1,Sa=new Is),this.v=new oo$1,dn$1(this.h,0,3,this.v),this.j=new so$1,dn$1(this.h,0,2,this.j),Tn$1(this.j,4,1),An$1(this.j,2,.5),An$1(this.v,2,.5),An$1(this.h,4,.5)}get baseOptions(){return hn(this.h,Is,1)}set baseOptions(ua){dn$1(this.h,0,1,ua)}o(ua){return"numPoses"in ua&&Tn$1(this.j,4,ua.numPoses??1),"minPoseDetectionConfidence"in ua&&An$1(this.j,2,ua.minPoseDetectionConfidence??.5),"minTrackingConfidence"in ua&&An$1(this.h,4,ua.minTrackingConfidence??.5),"minPosePresenceConfidence"in ua&&An$1(this.v,2,ua.minPosePresenceConfidence??.5),"outputSegmentationMasks"in ua&&(this.outputSegmentationMasks=ua.outputSegmentationMasks??!1),this.l(ua)}D(ua,Sa,ba){const ka=typeof Sa!="function"?Sa:{};return this.s=typeof Sa=="function"?Sa:ba,Wc$1(this),Ya$1(this,ua,ka),zc$1(this)}F(ua,Sa,ba,ka){const _y=typeof ba!="function"?ba:{};return this.s=typeof ba=="function"?ba:ka,Wc$1(this),$a(this,ua,_y,Sa),zc$1(this)}m(){var ua=new Qi;Ji(ua,"image_in"),Ji(ua,"norm_rect"),Zi(ua,"normalized_landmarks"),Zi(ua,"world_landmarks"),Zi(ua,"segmentation_masks");const Sa=new Gi$1;Yn(Sa,bo$1,this.h);const ba=new zi$1;Xi(ba,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),Hi$1(ba,"IMAGE:image_in"),Hi$1(ba,"NORM_RECT:norm_rect"),Wi(ba,"NORM_LANDMARKS:normalized_landmarks"),Wi(ba,"WORLD_LANDMARKS:world_landmarks"),ba.o(Sa),qi$1(ua,ba),$o$1(this,ua),this.g.attachProtoVectorListener("normalized_landmarks",(ka,_y)=>{this.landmarks=[];for(const Ty of ka)ka=fs$1(Ty),this.landmarks.push(Lo$1(ka));Yo(this,_y)}),this.g.attachEmptyPacketListener("normalized_landmarks",ka=>{this.landmarks=[],Yo(this,ka)}),this.g.attachProtoVectorListener("world_landmarks",(ka,_y)=>{this.worldLandmarks=[];for(const Ty of ka)ka=ls(Ty),this.worldLandmarks.push(Ro$1(ka));Yo(this,_y)}),this.g.attachEmptyPacketListener("world_landmarks",ka=>{this.worldLandmarks=[],Yo(this,ka)}),this.outputSegmentationMasks&&(Wi(ba,"SEGMENTATION_MASK:segmentation_masks"),qo(this,"segmentation_masks"),this.g.ba("segmentation_masks",(ka,_y)=>{this.segmentationMasks=ka.map(Ty=>qa$1(this,Ty,!0,!this.s)),Yo(this,_y)}),this.g.attachEmptyPacketListener("segmentation_masks",ka=>{this.segmentationMasks=[],Yo(this,ka)})),ua=ua.g(),this.setGraph(new Uint8Array(ua),!0)}};Kc$1.prototype.detectForVideo=Kc$1.prototype.F,Kc$1.prototype.detect=Kc$1.prototype.D,Kc$1.prototype.setOptions=Kc$1.prototype.o,Kc$1.createFromModelPath=function(ha,ua){return za$1(Kc$1,ha,{baseOptions:{modelAssetPath:ua}})},Kc$1.createFromModelBuffer=function(ha,ua){return za$1(Kc$1,ha,{baseOptions:{modelAssetBuffer:ua}})},Kc$1.createFromOptions=function(ha,ua){return za$1(Kc$1,ha,ua)},Kc$1.POSE_CONNECTIONS=vc$1;var RecognitionState=(ha=>(ha.UNINITIALIZED="uninitialized",ha.INITIALIZING="initializing",ha.READY="ready",ha.WARMING_UP="warming_up",ha.RUNNING="running",ha.ERROR="error",ha))(RecognitionState||{});const DEFAULT_MODEL_URL="https://storage.googleapis.com/mediapipe-models/object_detector/efficientdet_lite0/float32/1/efficientdet_lite0.tflite",DEFAULT_WASM_ROOT="https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.22-rc.20250304/wasm";class MediapipeRecognitionService{constructor(ua={}){I_(this,"state","uninitialized");I_(this,"options");I_(this,"lastInferenceTime",0);I_(this,"detector",null);I_(this,"delegate");I_(this,"cpuFallbackDone",!1);I_(this,"_tsBaseOffsetMs",0);I_(this,"_lastRawVideoMs",null);I_(this,"_lastMonotonicTsMs",null);I_(this,"callbacks",{onStateChange:[],onResult:[],onError:[],onTrackEvent:[]});I_(this,"tracker");this.options={modelUrl:ua.modelUrl??DEFAULT_MODEL_URL,confidenceThreshold:ua.confidenceThreshold??.25,maxFPS:ua.maxFPS??12,wasmRoot:ua.wasmRoot??DEFAULT_WASM_ROOT,iouThreshold:ua.iouThreshold??.5,smoothingAlpha:ua.smoothingAlpha??.6,maxTrackMisses:ua.maxTrackMisses??5,delegate:ua.delegate??"GPU"},this.delegate=this.options.delegate,this.tracker=new SimpleTracker({iouThreshold:this.options.iouThreshold,smoothingAlpha:this.options.smoothingAlpha,maxMisses:this.options.maxTrackMisses})}async initialize(){if(this.state!=="uninitialized")throw new Error(`无法初始化，当前状态: ${this.state}`);this.setState("initializing");try{const ua=await Uo.forVisionTasks(this.options.wasmRoot);this.detector=await this.createDetector(ua,this.delegate),this.setState("ready"),console.log("MediaPipe 对象检测初始化完成")}catch(ua){throw this.handleError(`初始化失败: ${ua.message||ua}`),ua}}async createDetector(ua,Sa){return await Xc$1.createFromOptions(ua,{baseOptions:{modelAssetPath:this.options.modelUrl,delegate:Sa},scoreThreshold:this.options.confidenceThreshold,runningMode:"VIDEO"})}async warmup(){if(this.state!=="ready")throw new Error(`无法预热，当前状态: ${this.state}`);this.setState("warming_up"),await new Promise(ua=>setTimeout(ua,200)),this.setState("ready")}async inferFrame(ua){var ka,_y;if(this.state!=="ready"&&this.state!=="running"||!this.detector||!ua.videoWidth||!ua.videoHeight)return;const Sa=performance.now(),ba=1e3/(this.options.maxFPS||12);if(!(Sa-this.lastInferenceTime<ba)){this.lastInferenceTime=Sa;try{this.setState("running");const Ty=performance.now(),{tsMs:Ay,rawVideoMs:Ey}=this.computeMonotonicTimestamp(ua),My=this.detector.detectForVideo(ua,Ay),Dy=performance.now();let Iy=mapDetections(My,ua.videoWidth,ua.videoHeight);const Ly=Math.round((this.options.confidenceThreshold??.25)*100);Iy=Iy.filter(By=>By.confidence>=Ly);const{outputs:Py,events:Ry}=this.tracker.update(Iy),Vy=Dy-Ty,Ny={timeMs:Math.round(Vy),fps:Math.max(1,Math.round(1e3/Math.max(1,Vy))),totalDetections:Py.length};this.setState("ready"),this.callbacks.onResult.forEach(By=>By(Py,Ny)),(Ry.entered||Ry.exited)&&this.callbacks.onTrackEvent.forEach(By=>By(Ry))}catch(Ty){const Ay=(Ty==null?void 0:Ty.message)||String(Ty);if(/Packet timestamp mismatch|timestamp is not monotonically increasing/i.test(Ay)){try{const{rawVideoMs:Ey}=this.computeMonotonicTimestamp(ua),My=this._lastMonotonicTsMs??0;if(typeof Ey=="number"){const Iy=My+33-Ey;Iy>0&&(this._tsBaseOffsetMs+=Iy)}else this._tsBaseOffsetMs+=33}catch{}this.setState("ready"),console.warn("检测到时间戳不单调，已自动调整并跳过本帧。");return}if(!this.cpuFallbackDone&&this.delegate==="GPU"&&/texImage2D|cross-origin/i.test(Ay)){console.warn("检测到 WebGL 纹理错误，自动回退到 CPU 后端并重试一次...");try{const Ey=await Uo.forVisionTasks(this.options.wasmRoot);(_y=(ka=this.detector)==null?void 0:ka.close)==null||_y.call(ka),this.delegate="CPU",this.options.delegate="CPU",this.detector=await this.createDetector(Ey,"CPU"),this.cpuFallbackDone=!0,await this.inferFrame(ua);return}catch(Ey){console.error("CPU 回退失败:",Ey)}}this.handleError(`推理失败: ${Ay}`)}}}stop(){this.setState("ready")}destroy(){var ua;try{(ua=this.detector)==null||ua.close()}catch{}this.detector=null,this.setState("uninitialized"),this.clearCallbacks()}computeMonotonicTimestamp(ua){const Sa=this._rvfcTs;let ba;typeof Sa=="number"&&isFinite(Sa)?ba=Sa:typeof ua.currentTime=="number"&&isFinite(ua.currentTime)?ba=ua.currentTime:ba=performance.now()/1e3;let ka=ba*1e3;if(this._lastRawVideoMs!==null&&ka<this._lastRawVideoMs-1){const Ey=(this._lastMonotonicTsMs??0)+33-ka;Ey>0&&(this._tsBaseOffsetMs+=Ey)}this._lastRawVideoMs=ka;let _y=ka+this._tsBaseOffsetMs;return this._lastMonotonicTsMs!==null&&_y<=this._lastMonotonicTsMs&&(_y=this._lastMonotonicTsMs+1),this._lastMonotonicTsMs=_y,{tsMs:_y,rawVideoMs:ka}}onStateChange(ua){return this.callbacks.onStateChange.push(ua),()=>{const Sa=this.callbacks.onStateChange.indexOf(ua);Sa>-1&&this.callbacks.onStateChange.splice(Sa,1)}}onResult(ua){return this.callbacks.onResult.push(ua),()=>{const Sa=this.callbacks.onResult.indexOf(ua);Sa>-1&&this.callbacks.onResult.splice(Sa,1)}}onError(ua){return this.callbacks.onError.push(ua),()=>{const Sa=this.callbacks.onError.indexOf(ua);Sa>-1&&this.callbacks.onError.splice(Sa,1)}}onTrackEvent(ua){return this.callbacks.onTrackEvent.push(ua),()=>{const Sa=this.callbacks.onTrackEvent.indexOf(ua);Sa>-1&&this.callbacks.onTrackEvent.splice(Sa,1)}}getState(){return this.state}getOptions(){return{...this.options,mockMode:!1}}updateOptions(ua){const Sa=this.options;this.options={...Sa,...ua},ua.delegate&&ua.delegate!==this.delegate&&(async()=>{var ba,ka;try{const _y=await Uo.forVisionTasks(this.options.wasmRoot);(ka=(ba=this.detector)==null?void 0:ba.close)==null||ka.call(ba),this.delegate=ua.delegate,this.detector=await this.createDetector(_y,this.delegate),this.cpuFallbackDone=this.delegate==="CPU"}catch(_y){this.handleError(`切换后端失败: ${_y.message||_y}`)}})(),this.tracker.setParams({iouThreshold:this.options.iouThreshold,smoothingAlpha:this.options.smoothingAlpha,maxMisses:this.options.maxTrackMisses})}setState(ua){this.state!==ua&&(this.state=ua,this.callbacks.onStateChange.forEach(Sa=>Sa(ua)))}handleError(ua){console.error("MediaPipe 识别服务错误:",ua),this.setState("error"),this.callbacks.onError.forEach(Sa=>Sa(ua))}clearCallbacks(){this.callbacks.onStateChange=[],this.callbacks.onResult=[],this.callbacks.onError=[]}}function mapDetections(ha,ua,Sa){var _y;const ba=[],ka=ha.detections??[];for(let Ty=0;Ty<ka.length;Ty++){const Ay=ka[Ty],Ey=(_y=Ay.categories)==null?void 0:_y[0],My=Ay.boundingBox;if(!Ey||!My)continue;const Dy=My.originX/ua*100,Iy=My.originY/Sa*100,Ly=My.width/ua*100,Py=My.height/Sa*100;ba.push({id:`${Date.now()}_${Ty}`,label:translateLabel(Ey.categoryName||"object"),classId:typeof Ey.index=="number"?Ey.index:-1,confidence:Math.round((Ey.score??0)*100),x:clampPct(Dy),y:clampPct(Iy),width:clampPct(Ly),height:clampPct(Py)})}return ba}function clampPct(ha){return Math.max(0,Math.min(100,ha))}let singleton=null;function getMediapipeRecognitionService(ha){return singleton||(singleton=new MediapipeRecognitionService(ha)),singleton}const LABEL_MAP={person:"人员",car:"汽车",bus:"公交车",truck:"卡车",motorcycle:"摩托车",motorbike:"摩托车",bicycle:"自行车"};function translateLabel(ha){const ua=ha.toLowerCase();return LABEL_MAP[ua]||ha}function iou(ha,ua){const Sa=ha.x,ba=ha.y,ka=ha.x+ha.width,_y=ha.y+ha.height,Ty=ua.x,Ay=ua.y,Ey=ua.x+ua.width,My=ua.y+ua.height,Dy=Math.max(Sa,Ty),Iy=Math.max(ba,Ay),Ly=Math.min(ka,Ey),Py=Math.min(_y,My),Ry=Math.max(0,Ly-Dy),Vy=Math.max(0,Py-Iy),Ny=Ry*Vy,By=ha.width*ha.height,Oy=ua.width*ua.height,Fy=By+Oy-Ny;return Fy>0?Ny/Fy:0}class SimpleTracker{constructor(ua){I_(this,"tracks",[]);I_(this,"nextId",1);I_(this,"iouTh");I_(this,"alpha");I_(this,"maxMisses");this.iouTh=ua.iouThreshold??.5,this.alpha=ua.smoothingAlpha??.6,this.maxMisses=ua.maxMisses??5}update(ua){const Sa={entered:0,exited:0},ba=[];this.tracks.forEach(_y=>_y.misses+=1);const ka=new Set([...this.tracks.map(_y=>_y.label),...ua.map(_y=>_y.label)]);for(const _y of ka){const Ty=this.tracks.map((Ey,My)=>({t:Ey,i:My})).filter(Ey=>Ey.t.label===_y),Ay=ua.map((Ey,My)=>({d:Ey,j:My})).filter(Ey=>Ey.d.label===_y);if(!(Ty.length===0&&Ay.length===0))if(Ty.length>0&&Ay.length>0){const Ey=Array.from({length:Ty.length},()=>Array(Ay.length).fill(1));for(let Ly=0;Ly<Ty.length;Ly++)for(let Py=0;Py<Ay.length;Py++){const Ry=iou(Ty[Ly].t.box,{x:Ay[Py].d.x,y:Ay[Py].d.y,width:Ay[Py].d.width,height:Ay[Py].d.height});Ey[Ly][Py]=Ry>=this.iouTh?1-Ry:10}const My=hungarian(Ey),Dy=new Set,Iy=new Set;for(const[Ly,Py]of My){if(Ly<0||Py<0)continue;const Ry=Ty[Ly],Vy=Ay[Py];if(!Ry||!Vy||Ey[Ly][Py]>=1)continue;const Ny=this.tracks[Ry.i],By=Vy.d;Ny.box=this.smoothBox(Ny.box,{x:By.x,y:By.y,width:By.width,height:By.height}),Ny.confidence=Math.max(Ny.confidence*.7,By.confidence),Ny.hits+=1,Ny.misses=0,Dy.add(Ry.i),Iy.add(Vy.j),ba.push({...By,id:`t${Ny.id}`,x:Ny.box.x,y:Ny.box.y,width:Ny.box.width,height:Ny.box.height,confidence:Ny.confidence})}for(const Ly of Ay){if(Iy.has(Ly.j))continue;const Py=Ly.d,Ry=this.nextId++,Vy={x:Py.x,y:Py.y,width:Py.width,height:Py.height},Ny={id:Ry,label:Py.label,box:Vy,confidence:Py.confidence,hits:1,misses:0};this.tracks.push(Ny),ba.push({...Py,id:`t${Ry}`}),Sa.entered+=1}this.tracks.length,this.tracks=this.tracks.filter((Ly,Py)=>{const Ry=Dy.has(Py)||Ly.misses<=this.maxMisses;return Ry||(Sa.exited+=1),Ry})}else if(Ty.length===0&&Ay.length>0)for(const Ey of Ay){const My=Ey.d,Dy=this.nextId++,Iy={id:Dy,label:My.label,box:{x:My.x,y:My.y,width:My.width,height:My.height},confidence:My.confidence,hits:1,misses:0};this.tracks.push(Iy),ba.push({...My,id:`t${Dy}`}),Sa.entered+=1}else Ty.length>0&&Ay.length===0&&(this.tracks=this.tracks.filter(Ey=>{Ey.misses+=0;const My=Ey.misses<=this.maxMisses;return My||(Sa.exited+=1),My}))}return{outputs:ba,events:Sa}}smoothBox(ua,Sa){const ba=this.alpha;return{x:ba*Sa.x+(1-ba)*ua.x,y:ba*Sa.y+(1-ba)*ua.y,width:ba*Sa.width+(1-ba)*ua.width,height:ba*Sa.height+(1-ba)*ua.height}}setParams(ua){typeof ua.iouThreshold=="number"&&(this.iouTh=ua.iouThreshold),typeof ua.smoothingAlpha=="number"&&(this.alpha=ua.smoothingAlpha),typeof ua.maxMisses=="number"&&(this.maxMisses=ua.maxMisses)}}function hungarian(ha){var Ty;const ua=Math.max(ha.length,((Ty=ha[0])==null?void 0:Ty.length)??0),Sa=Array.from({length:ua},(Ay,Ey)=>Array.from({length:ua},(My,Dy)=>ha[Ey]&&ha[Ey][Dy]!==void 0?ha[Ey][Dy]:10));for(let Ay=0;Ay<ua;Ay++){const Ey=Math.min(...Sa[Ay]);for(let My=0;My<ua;My++)Sa[Ay][My]-=Ey}for(let Ay=0;Ay<ua;Ay++){let Ey=1/0;for(let My=0;My<ua;My++)Ey=Math.min(Ey,Sa[My][Ay]);for(let My=0;My<ua;My++)Sa[My][Ay]-=Ey}const ba=new Set,ka=new Set,_y=[];for(let Ay=0;Ay<ua;Ay++)for(let Ey=0;Ey<ua;Ey++)if(Sa[Ay][Ey]===0&&!ba.has(Ay)&&!ka.has(Ey)){ba.add(Ay),ka.add(Ey),_y.push([Ay,Ey]);break}return _y}function generateMockResults(){const ha=["人员","汽车","卡车","自行车"],ua=[0,2,7,1],Sa=Math.floor(Math.random()*4)+1;return Array.from({length:Sa},(ba,ka)=>{const _y=Math.floor(Math.random()*ha.length);return{id:`mock_${Date.now()}_${ka}`,label:ha[_y],classId:ua[_y],confidence:Math.floor(Math.random()*30)+70,x:Math.random()*70,y:Math.random()*60,width:Math.random()*20+10,height:Math.random()*25+15}})}class SimpleRecognitionService{constructor(ua={}){I_(this,"state","uninitialized");I_(this,"options");I_(this,"lastInferenceTime",0);I_(this,"callbacks",{onStateChange:[],onResult:[],onError:[]});this.options={modelUrl:"/models/yolov8n.onnx",confidenceThreshold:.25,iouThreshold:.45,maxFPS:8,mockMode:!0,...ua}}async initialize(){if(this.state!=="uninitialized")throw new Error(`无法初始化，当前状态: ${this.state}`);this.setState("initializing"),await new Promise(ua=>setTimeout(ua,1e3)),this.setState("ready"),console.log("识别服务初始化完成（演示模式）")}async warmup(){if(this.state!=="ready")throw new Error(`无法预热，当前状态: ${this.state}`);this.setState("warming_up"),await new Promise(ua=>setTimeout(ua,500)),this.setState("ready"),console.log("模型预热完成（演示模式）")}async inferFrame(ua){if(this.state!=="ready"&&this.state!=="running"){console.warn(`推理跳过，当前状态: ${this.state}`);return}const Sa=performance.now(),ba=1e3/(this.options.maxFPS||8);if(!(Sa-this.lastInferenceTime<ba)&&(this.lastInferenceTime=Sa,!(!ua.videoWidth||!ua.videoHeight)))try{this.setState("running");const ka=generateMockResults(),_y=50+Math.random()*100;setTimeout(()=>{this.setState("ready");const Ty={timeMs:Math.round(_y),fps:Math.round(1e3/_y),totalDetections:ka.length};this.callbacks.onResult.forEach(Ay=>Ay(ka,Ty))},_y)}catch(ka){this.handleError(`推理失败: ${ka}`)}}stop(){this.setState("ready")}destroy(){this.setState("uninitialized"),this.clearCallbacks()}onStateChange(ua){return this.callbacks.onStateChange.push(ua),()=>{const Sa=this.callbacks.onStateChange.indexOf(ua);Sa>-1&&this.callbacks.onStateChange.splice(Sa,1)}}onResult(ua){return this.callbacks.onResult.push(ua),()=>{const Sa=this.callbacks.onResult.indexOf(ua);Sa>-1&&this.callbacks.onResult.splice(Sa,1)}}onError(ua){return this.callbacks.onError.push(ua),()=>{const Sa=this.callbacks.onError.indexOf(ua);Sa>-1&&this.callbacks.onError.splice(Sa,1)}}getState(){return this.state}getOptions(){return{...this.options}}updateOptions(ua){this.options={...this.options,...ua}}setState(ua){this.state!==ua&&(this.state=ua,this.callbacks.onStateChange.forEach(Sa=>Sa(ua)))}handleError(ua){console.error("识别服务错误:",ua),this.setState("error"),this.callbacks.onError.forEach(Sa=>Sa(ua))}clearCallbacks(){this.callbacks.onStateChange=[],this.callbacks.onResult=[],this.callbacks.onError=[]}}let recognitionService=null;function getSimpleRecognitionService(ha){return recognitionService||(recognitionService=new SimpleRecognitionService(ha)),recognitionService}let useDemoFallback=!1;function getRecognitionService(ha){if(!useDemoFallback)try{return getMediapipeRecognitionService(ha)}catch(ua){console.warn("MediaPipe 服务创建失败，回退到演示模式:",ua),useDemoFallback=!0}return getSimpleRecognitionService({...ha,mockMode:!0})}const _hoisted_1$8={class:"settings"},_hoisted_2$7={class:"row"},_hoisted_3$7={class:"row"},_hoisted_4$7={class:"row"},_hoisted_5$7={class:"row"},_sfc_main$a=defineComponent({__name:"TrackingSettings",setup(ha){const ua=getRecognitionService(),Sa=ua.getOptions(),ba=ref(Sa.smoothingAlpha??.6),ka=ref(Sa.iouThreshold??.5),_y=ref(Sa.confidenceThreshold??.25),Ty=ref(Sa.maxTrackMisses??5);function Ay(){ua.updateOptions({smoothingAlpha:ba.value,iouThreshold:ka.value,confidenceThreshold:_y.value,maxTrackMisses:Ty.value})}function Ey(){ba.value=.6,ka.value=.5,_y.value=.25,Ty.value=5,Ay()}return watchEffect(()=>{const My=ua.getOptions();ba.value=My.smoothingAlpha??ba.value,ka.value=My.iouThreshold??ka.value,_y.value=My.confidenceThreshold??_y.value,Ty.value=My.maxTrackMisses??Ty.value}),(My,Dy)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("header",{class:"header"},[Dy[4]||(Dy[4]=createBaseVNode("h3",null,"跟踪设置",-1)),createBaseVNode("button",{class:"reset",onClick:Ey},"重置")]),createBaseVNode("div",_hoisted_2$7,[Dy[5]||(Dy[5]=createBaseVNode("label",null,"平滑系数 α",-1)),withDirectives(createBaseVNode("input",{type:"range",min:"0.2",max:"0.9",step:"0.05","onUpdate:modelValue":Dy[0]||(Dy[0]=Iy=>ba.value=Iy),onInput:Ay},null,544),[[vModelText,ba.value,void 0,{number:!0}]]),createBaseVNode("span",null,toDisplayString(ba.value.toFixed(2)),1)]),createBaseVNode("div",_hoisted_3$7,[Dy[6]||(Dy[6]=createBaseVNode("label",null,"IoU 匹配阈值",-1)),withDirectives(createBaseVNode("input",{type:"range",min:"0.2",max:"0.8",step:"0.05","onUpdate:modelValue":Dy[1]||(Dy[1]=Iy=>ka.value=Iy),onInput:Ay},null,544),[[vModelText,ka.value,void 0,{number:!0}]]),createBaseVNode("span",null,toDisplayString(ka.value.toFixed(2)),1)]),createBaseVNode("div",_hoisted_4$7,[Dy[7]||(Dy[7]=createBaseVNode("label",null,"置信度阈值",-1)),withDirectives(createBaseVNode("input",{type:"range",min:"0.1",max:"0.9",step:"0.05","onUpdate:modelValue":Dy[2]||(Dy[2]=Iy=>_y.value=Iy),onInput:Ay},null,544),[[vModelText,_y.value,void 0,{number:!0}]]),createBaseVNode("span",null,toDisplayString(_y.value.toFixed(2)),1)]),createBaseVNode("div",_hoisted_5$7,[Dy[8]||(Dy[8]=createBaseVNode("label",null,"允许丢失帧",-1)),withDirectives(createBaseVNode("input",{type:"range",min:"1",max:"15",step:"1","onUpdate:modelValue":Dy[3]||(Dy[3]=Iy=>Ty.value=Iy),onInput:Ay},null,544),[[vModelText,Ty.value,void 0,{number:!0}]]),createBaseVNode("span",null,toDisplayString(Ty.value),1)])]))}}),TrackingSettings=_export_sfc(_sfc_main$a,[["__scopeId","data-v-d28e5e02"]]);class TestVideoManager{static getTestVideos(){return[...this.testVideos]}static async loadTestVideo(ua,Sa){const ba=this.testVideos.find(ka=>ka.id===Sa);if(!ba)throw new Error(`找不到测试视频: ${Sa}`);if(ba.url==="webcam")try{const ka=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480},audio:!1});ua.srcObject=ka,console.log("摄像头已连接")}catch(ka){throw console.error("摄像头访问失败:",ka),new Error("无法访问摄像头，请检查权限设置")}else ua.crossOrigin="anonymous",ua.src=ba.url,console.log(`已加载测试视频: ${ba.name}`);return new Promise((ka,_y)=>{const Ty=()=>{ua.removeEventListener("loadedmetadata",Ty),ua.removeEventListener("error",Ay);try{ua.load()}catch{}ka()},Ay=Ey=>{ua.removeEventListener("loadedmetadata",Ty),ua.removeEventListener("error",Ay),_y(new Error("视频加载失败"))};ua.addEventListener("loadedmetadata",Ty),ua.addEventListener("error",Ay)})}static stopVideo(ua){ua.srcObject instanceof MediaStream?(ua.srcObject.getTracks().forEach(ba=>ba.stop()),ua.srcObject=null):(ua.pause(),ua.src="")}}I_(TestVideoManager,"testVideos",[{id:"sample1",name:"测试视频 1",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",description:"大兔子本尼测试视频"},{id:"sample2",name:"测试视频 2",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",description:"大象之梦测试视频"},{id:"webcam",name:"摄像头测试",url:"webcam",description:"使用摄像头进行实时测试"}]);const _hoisted_1$7={class:"screen"},_hoisted_2$6={class:"video-container"},_hoisted_3$6={class:"recognition-overlay"},_hoisted_4$6={class:"detection-label"},_hoisted_5$6={class:"video-controls"},_hoisted_6$4=["value"],_hoisted_7$3=["disabled"],_hoisted_8$3={key:0},_hoisted_9$3={key:1},_hoisted_10$3={key:2},_hoisted_11$3=["disabled"],_hoisted_12$3={class:"status-indicator"},_hoisted_13$3={class:"status-item"},_hoisted_14$3={class:"status-item"},_hoisted_15$3={key:0,class:"status-item"},_hoisted_16$3={class:"status-value"},_hoisted_17$2={key:1,class:"status-item"},_hoisted_18$2={class:"status-value"},_hoisted_19$2={key:0,class:"error-message"},_hoisted_20$2={class:"drawer-inner fluent-acrylic-strong"},_hoisted_21$2={class:"drawer-header"},_hoisted_22$2={class:"drawer-inner fluent-acrylic-strong"},_hoisted_23$2={class:"drawer-header"},_hoisted_24$2={class:"panel"},_hoisted_25$2={class:"fluent-card",style:{padding:"10px",border:"1px solid rgba(255,255,255,.15)","border-radius":"10px","margin-bottom":"8px"}},maxConfidencePoints=30,_sfc_main$9=defineComponent({__name:"VideoRecognition",setup(ha){const ua=useUIStore(),Sa=useRoute(),ba=ref(),ka=ref(),_y=ref(!1),Ty=getRecognitionService(),Ay=ref(RecognitionState.UNINITIALIZED),Ey=ref(""),My=ref(TestVideoManager.getTestVideos()),Dy=ref(""),Iy=ref([]),Ly=reactive({totalDetections:0,peopleCount:0,vehicleCount:0,objectCount:0,averageConfidence:0,inferenceTime:0,fps:0,entered:0,exited:0}),Py=ref([]);let Ry=null,Vy=null;const Ny=async()=>{if(!(!Dy.value||!ba.value))try{TestVideoManager.stopVideo(ba.value),await TestVideoManager.loadTestVideo(ba.value,Dy.value),console.log(`已加载测试视频: ${Dy.value}`)}catch(t_){console.error("加载测试视频失败:",t_),Ey.value=t_ instanceof Error?t_.message:"加载视频失败"}},By=()=>{const t_=document.createElement("input");t_.type="file",t_.accept="video/*",t_.onchange=Qy=>{var i_;const r_=(i_=Qy.target.files)==null?void 0:i_[0];if(r_&&ba.value){TestVideoManager.stopVideo(ba.value);const l_=URL.createObjectURL(r_);ba.value.src=l_,ba.value.load()}},t_.click()},Oy=async()=>{Ay.value===RecognitionState.UNINITIALIZED&&await Fy(),_y.value?Hy():zy()},Fy=async()=>{try{Ey.value="",await Ty.initialize(),await Ty.warmup()}catch(t_){Ey.value=`初始化失败: ${t_}`,console.error("Recognition initialization failed:",t_)}},zy=()=>{var Qy;if(Ay.value!==RecognitionState.READY){Ey.value="推理服务未就绪";return}if(!ba.value){Ey.value="请先选择视频文件";return}if(_y.value=!0,"requestVideoFrameCallback"in HTMLVideoElement.prototype&&((Qy=ba.value)!=null&&Qy.requestVideoFrameCallback)){const r_=(i_,l_)=>{!_y.value||!ba.value||(Ty._rvfcTs=l_&&typeof l_.mediaTime=="number"?l_.mediaTime*1e3:void 0,Ty.inferFrame(ba.value),ba.value.requestVideoFrameCallback(r_))};ba.value.requestVideoFrameCallback(r_),Vy=()=>{Vy=null}}else{const r_=()=>{!_y.value||!ba.value||(Ty.inferFrame(ba.value),Ry=requestAnimationFrame(r_))};r_()}},Hy=()=>{_y.value=!1,Ty.stop(),Ry&&(cancelAnimationFrame(Ry),Ry=null),Vy&&(Vy(),Vy=null)},Gy=t_=>{if(Ly.totalDetections=Iy.value.length,Ly.peopleCount=Iy.value.filter(Qy=>Qy.label==="人员").length,Ly.vehicleCount=Iy.value.filter(Qy=>Qy.label==="汽车"||Qy.label==="卡车"||Qy.label==="公交车"||Qy.label==="摩托车").length,Ly.objectCount=Iy.value.length-Ly.peopleCount-Ly.vehicleCount,Iy.value.length>0?Ly.averageConfidence=Math.round(Iy.value.reduce((Qy,r_)=>Qy+r_.confidence,0)/Iy.value.length):Ly.averageConfidence=0,t_){Ly.inferenceTime=t_.timeMs,Ly.fps=t_.fps;const r_=new Date().toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit"});Py.value.push({time:r_,confidence:Ly.averageConfidence}),Py.value.length>maxConfidencePoints&&Py.value.shift()}},Wy=()=>{if(ba.value){const t_=document.createElement("canvas"),Qy=t_.getContext("2d");t_.width=ba.value.videoWidth,t_.height=ba.value.videoHeight,Qy==null||Qy.drawImage(ba.value,0,0);const r_=document.createElement("a");r_.download=`capture_${Date.now()}.png`,r_.href=t_.toDataURL(),r_.click()}};function Uy(){const t_=ba.value,Qy=ka.value;if(!t_||!Qy||!t_.videoWidth||!t_.videoHeight)return{x:0,y:0,w:(Qy==null?void 0:Qy.clientWidth)??0,h:(Qy==null?void 0:Qy.clientHeight)??0};const r_=t_.videoWidth,i_=t_.videoHeight,l_=Qy.clientWidth,c_=Qy.clientHeight,d_=r_/i_;if(l_/c_>d_){const m_=c_,b_=Math.round(m_*d_);return{x:Math.round((l_-b_)/2),y:0,w:b_,h:m_}}else{const m_=l_,b_=Math.round(m_/d_),$_=0,A_=Math.round((c_-b_)/2);return{x:$_,y:A_,w:m_,h:b_}}}function Yy(t_){const Qy=Uy(),r_=Qy.x+t_.x/100*Qy.w,i_=Qy.y+t_.y/100*Qy.h,l_=t_.width/100*Qy.w,c_=t_.height/100*Qy.h;return{left:`${r_}px`,top:`${i_}px`,width:`${l_}px`,height:`${c_}px`}}const jy=()=>{switch(Ay.value){case RecognitionState.INITIALIZING:return"初始化中...";case RecognitionState.WARMING_UP:return"预热中...";case RecognitionState.RUNNING:return"停止识别";case RecognitionState.READY:return _y.value?"停止识别":"开始识别";case RecognitionState.ERROR:return"重新初始化";default:return"初始化识别"}},Ky=()=>{switch(Ay.value){case RecognitionState.UNINITIALIZED:return"未初始化";case RecognitionState.INITIALIZING:return"初始化中";case RecognitionState.WARMING_UP:return"预热中";case RecognitionState.READY:return _y.value?"运行中":"就绪";case RecognitionState.RUNNING:return"推理中";case RecognitionState.ERROR:return"错误";default:return"未知状态"}},Xy=()=>Ty.getOptions().mockMode?"演示模式":"AI模式",Zy=()=>Ty.getOptions().mockMode?"mode-demo":"mode-ai",Jy=()=>{Ty.onStateChange(t_=>{Ay.value=t_}),Ty.onResult((t_,Qy)=>{Iy.value=t_,Gy(Qy)}),typeof Ty.onTrackEvent=="function"&&Ty.onTrackEvent(t_=>{Ly.entered+=t_.entered,Ly.exited+=t_.exited}),Ty.onError(t_=>{Ey.value=t_,_y.value=!1})};return onMounted(()=>{var Qy;Jy(),Gy();const t_=(Qy=Sa.query.source)==null?void 0:Qy.toString();t_&&(Dy.value=t_,(async()=>{try{await Ny(),Ay.value===RecognitionState.UNINITIALIZED&&await Fy(),zy()}catch(r_){console.error("自动摄像头/视频启动失败:",r_),Ey.value=r_ instanceof Error?r_.message:"自动启动失败"}})())}),onUnmounted(()=>{Hy()}),(t_,Qy)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[createVNode$1(TopBar),createBaseVNode("div",{class:normalizeClass(["body",{full:unref(ua).fullscreen}]),style:normalizeStyle$1({"--left-w":unref(ua).drawer.leftWidth+"px","--right-w":unref(ua).drawer.rightWidth+"px"})},[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",{class:"video-wrapper",ref_key:"videoWrapperRef",ref:ka},[createBaseVNode("video",{ref_key:"videoRef",ref:ba,class:"video-player",controls:"",autoplay:"",muted:"",crossorigin:"anonymous",playsinline:""},Qy[12]||(Qy[12]=[createBaseVNode("source",{src:"",type:"video/mp4"},null,-1),createTextVNode(" 您的浏览器不支持视频播放。 ",-1)]),512),createBaseVNode("div",_hoisted_3$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Iy.value,r_=>(openBlock(),createElementBlock("div",{key:r_.id,class:"detection-box",style:normalizeStyle$1(Yy(r_))},[createBaseVNode("div",_hoisted_4$6,toDisplayString(r_.label)+" ("+toDisplayString(r_.confidence)+"%) ",1)],4))),128))])],512),createBaseVNode("div",_hoisted_5$6,[withDirectives(createBaseVNode("select",{onChange:Ny,"onUpdate:modelValue":Qy[0]||(Qy[0]=r_=>Dy.value=r_),class:"video-selector"},[Qy[13]||(Qy[13]=createBaseVNode("option",{value:""},"🎬 选择测试视频...",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(My.value,r_=>(openBlock(),createElementBlock("option",{key:r_.id,value:r_.id},toDisplayString(r_.name)+" - "+toDisplayString(r_.description),9,_hoisted_6$4))),128))],544),[[vModelSelect,Dy.value]]),createBaseVNode("button",{onClick:By,class:"control-btn"},Qy[14]||(Qy[14]=[createBaseVNode("span",null,"📁",-1),createTextVNode(" 选择本地视频 ",-1)])),createBaseVNode("button",{onClick:Oy,class:normalizeClass(["control-btn",{active:_y.value,loading:Ay.value==="initializing"||Ay.value==="warming_up"}]),disabled:Ay.value==="initializing"||Ay.value==="warming_up"},[Ay.value==="initializing"?(openBlock(),createElementBlock("span",_hoisted_8$3,"⏳")):Ay.value==="warming_up"?(openBlock(),createElementBlock("span",_hoisted_9$3,"🔥")):(openBlock(),createElementBlock("span",_hoisted_10$3,toDisplayString(_y.value?"⏸️":"▶️"),1)),createTextVNode(" "+toDisplayString(jy()),1)],10,_hoisted_7$3),createBaseVNode("button",{onClick:Wy,class:"control-btn",disabled:!ba.value},Qy[15]||(Qy[15]=[createBaseVNode("span",null,"📷",-1),createTextVNode(" 截取帧 ",-1)]),8,_hoisted_11$3),createBaseVNode("div",_hoisted_12$3,[createBaseVNode("div",_hoisted_13$3,[Qy[16]||(Qy[16]=createBaseVNode("span",{class:"status-label"},"状态:",-1)),createBaseVNode("span",{class:normalizeClass(["status-value",`status-${Ay.value}`])},toDisplayString(Ky()),3)]),createBaseVNode("div",_hoisted_14$3,[Qy[17]||(Qy[17]=createBaseVNode("span",{class:"status-label"},"模式:",-1)),createBaseVNode("span",{class:normalizeClass(["status-value",Zy()])},toDisplayString(Xy()),3)]),Ly.fps>0?(openBlock(),createElementBlock("div",_hoisted_15$3,[Qy[18]||(Qy[18]=createBaseVNode("span",{class:"status-label"},"FPS:",-1)),createBaseVNode("span",_hoisted_16$3,toDisplayString(Ly.fps),1)])):createCommentVNode("",!0),Ly.inferenceTime>0?(openBlock(),createElementBlock("div",_hoisted_17$2,[Qy[19]||(Qy[19]=createBaseVNode("span",{class:"status-label"},"延迟:",-1)),createBaseVNode("span",_hoisted_18$2,toDisplayString(Ly.inferenceTime)+"ms",1)])):createCommentVNode("",!0)]),Ey.value?(openBlock(),createElementBlock("div",_hoisted_19$2,[Qy[20]||(Qy[20]=createBaseVNode("span",null,"⚠️",-1)),createTextVNode(" "+toDisplayString(Ey.value)+" ",1),createBaseVNode("button",{onClick:Qy[1]||(Qy[1]=r_=>Ey.value=""),class:"close-error"},"×")])):createCommentVNode("",!0)])]),createBaseVNode("div",{class:normalizeClass(["drawer left",{open:unref(ua).drawer.leftOpen||unref(ua).drawer.leftPinned,pinned:unref(ua).drawer.leftPinned}]),onMouseenter:Qy[5]||(Qy[5]=r_=>unref(ua).hover("left",!0)),onMouseleave:Qy[6]||(Qy[6]=r_=>unref(ua).hover("left",!1))},[createBaseVNode("div",_hoisted_20$2,[createBaseVNode("header",_hoisted_21$2,[Qy[21]||(Qy[21]=createBaseVNode("h3",null,"识别统计",-1)),createBaseVNode("button",{class:"pin",onClick:Qy[2]||(Qy[2]=r_=>unref(ua).togglePin("left"))},toDisplayString(unref(ua).drawer.leftPinned?"取消固定":"固定"),1)]),createVNode$1(VideoRecognitionLeft,{class:"panel",detections:Iy.value,stats:Ly},null,8,["detections","stats"])]),createBaseVNode("button",{class:"handle",onClick:Qy[3]||(Qy[3]=r_=>unref(ua).toggleOpen("left")),onDblclick:Qy[4]||(Qy[4]=r_=>unref(ua).togglePin("left")),"aria-label":"toggle left drawer"},null,32)],34),createBaseVNode("div",{class:normalizeClass(["drawer right",{open:unref(ua).drawer.rightOpen||unref(ua).drawer.rightPinned,pinned:unref(ua).drawer.rightPinned}]),onMouseenter:Qy[10]||(Qy[10]=r_=>unref(ua).hover("right",!0)),onMouseleave:Qy[11]||(Qy[11]=r_=>unref(ua).hover("right",!1))},[createBaseVNode("div",_hoisted_22$2,[createBaseVNode("header",_hoisted_23$2,[Qy[22]||(Qy[22]=createBaseVNode("h3",null,"实时分析",-1)),createBaseVNode("button",{class:"pin",onClick:Qy[7]||(Qy[7]=r_=>unref(ua).togglePin("right"))},toDisplayString(unref(ua).drawer.rightPinned?"取消固定":"固定"),1)]),createBaseVNode("div",_hoisted_24$2,[createBaseVNode("div",_hoisted_25$2,[Qy[23]||(Qy[23]=createBaseVNode("h4",{style:{margin:"6px 0 10px 0"}},"跟踪设置",-1)),createVNode$1(TrackingSettings)])]),createVNode$1(VideoRecognitionRight,{class:"panel",detections:Iy.value,confidenceData:Py.value},null,8,["detections","confidenceData"])]),createBaseVNode("button",{class:"handle",onClick:Qy[8]||(Qy[8]=r_=>unref(ua).toggleOpen("right")),onDblclick:Qy[9]||(Qy[9]=r_=>unref(ua).togglePin("right")),"aria-label":"toggle right drawer"},null,32)],34)],6)]))}}),VideoRecognition=_export_sfc(_sfc_main$9,[["__scopeId","data-v-df3e82bd"]]),_sfc_main$8=defineComponent({__name:"RadarChart",props:{indicators:{},values:{},color:{},height:{},fill:{type:Boolean}},setup(ha){const ua=ha,Sa=ref(null);let ba=null,ka=null;const _y=()=>ba==null?void 0:ba.resize();function Ty(){ba&&ba.setOption({tooltip:{},radar:{indicator:ua.indicators,splitLine:{lineStyle:{opacity:.3}}},series:[{type:"radar",areaStyle:{opacity:.2},data:[{value:ua.values,name:"指标"}]}],color:[ua.color??"#4C8BF5"]})}return onMounted(()=>{ba=init$1(Sa.value),Ty(),window.addEventListener("resize",_y),ka=new ResizeObserver(_y),ka.observe(Sa.value.parentElement||Sa.value)}),onBeforeUnmount(()=>{window.removeEventListener("resize",_y),ka==null||ka.disconnect(),ba==null||ba.dispose()}),watch(()=>[ua.values,ua.indicators],Ty,{deep:!0}),(Ay,Ey)=>(openBlock(),createElementBlock("div",{ref_key:"el",ref:Sa,class:normalizeClass(["echart",{fill:Ay.fill}]),style:normalizeStyle$1(Ay.fill?{}:{width:"100%",height:(Ay.height??220)+"px"})},null,6))}}),RadarChart=_export_sfc(_sfc_main$8,[["__scopeId","data-v-a66efb3d"]]),_hoisted_1$6={class:"side"},_hoisted_2$5={class:"stats"},_hoisted_3$5={class:"lab"},_hoisted_4$5={class:"table-wrap"},_hoisted_5$5={class:"duty"},_sfc_main$7=defineComponent({__name:"LeftSidebar",setup(ha){const ua=[{label:"场外车辆",value:5,color:"#4C8BF5"},{label:"设备故障",value:5,color:"#E91E63"},{label:"应急救援",value:12,color:"#FFC107"},{label:"危险物品",value:2,color:"#00BFA5"}],Sa=[{name:"机泵",max:100},{name:"轨道设备",max:100},{name:"气体监测",max:100},{name:"仓库设施",max:100},{name:"均压管网",max:100}],ba=[95,88,90,85,92],ka=[{name:"晨风",time:"08:00-20:00",post:"北门岗",phone:"184****1234"},{name:"吴凡",time:"08:00-20:00",post:"南门岗",phone:"133****7123"},{name:"李军",time:"08:00-20:00",post:"三门岗",phone:"147****8234"}];return(_y,Ty)=>(openBlock(),createElementBlock("aside",_hoisted_1$6,[createVNode$1(FluentCard,{title:"今日巡场统计",strong:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$5,[(openBlock(),createElementBlock(Fragment,null,renderList(ua,Ay=>createBaseVNode("div",{class:"stat",key:Ay.label},[createBaseVNode("div",{class:"dot",style:normalizeStyle$1({background:Ay.color})},toDisplayString(Ay.value),5),createBaseVNode("div",_hoisted_3$5,toDisplayString(Ay.label),1)])),64))])]),_:1}),createVNode$1(FluentCard,{title:"重要设备巡查覆盖率",strong:""},{default:withCtx(()=>[createVNode$1(RadarChart,{indicators:Sa,values:ba,fill:!0})]),_:1}),createVNode$1(FluentCard,{title:"今日值班信息",strong:"",scrollable:!0},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("table",_hoisted_5$5,[Ty[0]||(Ty[0]=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",null,"姓名"),createBaseVNode("th",null,"时间"),createBaseVNode("th",null,"岗位"),createBaseVNode("th",null,"电话")])],-1)),createBaseVNode("tbody",null,[(openBlock(),createElementBlock(Fragment,null,renderList(ka,Ay=>createBaseVNode("tr",{key:Ay.name},[createBaseVNode("td",null,toDisplayString(Ay.name),1),createBaseVNode("td",null,toDisplayString(Ay.time),1),createBaseVNode("td",null,toDisplayString(Ay.post),1),createBaseVNode("td",null,toDisplayString(Ay.phone),1)])),64))])])])]),_:1})]))}}),LeftSidebar=_export_sfc(_sfc_main$7,[["__scopeId","data-v-834f69d6"]]),_sfc_main$6=defineComponent({__name:"DonutChart",props:{data:{},colors:{},height:{},fill:{type:Boolean}},setup(ha){const ua=ha,Sa=ref(null);let ba=null,ka=null;const _y=()=>ba==null?void 0:ba.resize();function Ty(){ba&&ba.setOption({tooltip:{trigger:"item"},legend:{bottom:0,textStyle:{color:"#fff"}},series:[{type:"pie",radius:["50%","70%"],label:{show:!1},labelLine:{show:!1},data:ua.data}],color:ua.colors??["#4C8BF5","#00BFA5","#FFC107","#E91E63"]})}return onMounted(()=>{ba=init$1(Sa.value),Ty(),window.addEventListener("resize",_y),ka=new ResizeObserver(_y),ka.observe(Sa.value.parentElement||Sa.value)}),onBeforeUnmount(()=>{window.removeEventListener("resize",_y),ka==null||ka.disconnect(),ba==null||ba.dispose()}),watch(()=>ua.data,Ty,{deep:!0}),(Ay,Ey)=>(openBlock(),createElementBlock("div",{ref_key:"el",ref:Sa,class:normalizeClass(["echart",{fill:Ay.fill}]),style:normalizeStyle$1(Ay.fill?{}:{width:"100%",height:(Ay.height??220)+"px"})},null,6))}}),DonutChart=_export_sfc(_sfc_main$6,[["__scopeId","data-v-69db6d6e"]]),_hoisted_1$5={class:"side"},_sfc_main$5=defineComponent({__name:"RightSidebar",setup(ha){const ua=[{name:"内部员工",value:100},{name:"临时工",value:40},{name:"访客人员",value:20}],Sa=[{name:"内部车辆",value:50},{name:"集团车辆",value:30},{name:"访客车辆",value:20}],ba=ua.reduce((Ay,Ey)=>Ay+Ey.value,0),ka=Sa.reduce((Ay,Ey)=>Ay+Ey.value,0),_y=[{name:"设备完好率",max:100},{name:"环境监测完善度",max:100},{name:"安保处理效率",max:100},{name:"应急演练完成度",max:100},{name:"风险评估完善",max:100}],Ty=[75,71,65,53,70];return(Ay,Ey)=>(openBlock(),createElementBlock("aside",_hoisted_1$5,[createVNode$1(FluentCard,{title:"人员实时检测",strong:""},{footer:withCtx(()=>[createTextVNode("总人数："+toDisplayString(unref(ba)),1)]),default:withCtx(()=>[createVNode$1(DonutChart,{data:ua,fill:!0})]),_:1}),createVNode$1(FluentCard,{title:"车辆实时检测",strong:""},{footer:withCtx(()=>[createTextVNode("总车辆："+toDisplayString(unref(ka)),1)]),default:withCtx(()=>[createVNode$1(DonutChart,{data:Sa,fill:!0,colors:["#FF4E50","#FEBB2E","#37A2DA"]})]),_:1}),createVNode$1(FluentCard,{title:"运营情况分析",strong:""},{default:withCtx(()=>[createVNode$1(RadarChart,{indicators:_y,values:Ty,fill:!0})]),_:1})]))}}),RightSidebar=_export_sfc(_sfc_main$5,[["__scopeId","data-v-ec72b975"]]),_hoisted_1$4={key:0,class:"loading-indicator"},_hoisted_2$4={key:1,class:"error-message"},_hoisted_3$4={class:"modal-footer"},_hoisted_4$4={class:"controls"},_hoisted_5$4={class:"info"},_hoisted_6$3={key:0},_sfc_main$4={__name:"PanoramaViewer",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(__props,{expose:__expose,emit:__emit}){const emit=__emit,panoContainer=ref(null),loading=ref(!1),error=ref(""),fullscreen=ref(!1),currentPanoInfo=ref(null);let viewer=null;function closeModal(){emit("close"),viewer&&(viewer.destroy(),viewer=null)}async function loadPanorama(ha,ua=null){if(panoContainer.value){loading.value=!0,error.value="",currentPanoInfo.value=ua;try{viewer&&(viewer.destroy(),viewer=null),await nextTick(),ha.startsWith("http")?createExternalLinkView(ha):await createMarzipanoViewer(ha)}catch(Sa){console.error("加载全景失败:",Sa),error.value="加载全景图像失败，请检查资源是否存在"}finally{loading.value=!1}}}function createExternalLinkView(ha){const ua=panoContainer.value;ua.innerHTML=`
    <div class="external-panorama">
      <div class="external-info">
        <h4>外部全景链接</h4>
        <p>点击下方按钮在新窗口中查看全景</p>
        <button class="external-btn" onclick="window.open('${ha}', '_blank')">
          🌐 打开全景查看器
        </button>
        <div class="preview-frame">
          <iframe src="${ha}" frameborder="0" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  `}async function createMarzipanoViewer(ha){try{await loadMarzipanoScript();const ua=panoContainer.value;ua.innerHTML="",viewer=new window.Marzipano.Viewer(ua),ha.includes("project-title")?await loadLocalPanorama():await loadImagePanorama(ha)}catch(ua){throw console.error("Marzipano 初始化失败:",ua),new Error("全景查看器初始化失败")}}function loadMarzipanoScript(){return new Promise((ha,ua)=>{if(window.Marzipano){ha();return}const Sa=document.createElement("script");Sa.src="/Assets/data/project-title/app-files/vendor/marzipano.js",Sa.onload=ha,Sa.onerror=ua,document.head.appendChild(Sa)})}async function loadLocalPanorama(){try{const response=await fetch("/Assets/data/project-title/app-files/data.js"),dataScript=await response.text();if(eval(dataScript),window.APP_DATA&&window.APP_DATA.scenes&&window.APP_DATA.scenes.length>0){const ha=window.APP_DATA.scenes[0],ua=new window.Marzipano.CubeGeometry(ha.levels),Sa=window.Marzipano.ImageUrlSource.fromString(`/Assets/data/project-title/app-files/tiles/${ha.id}/{z}/{f}/{y}/{x}.jpg`),ba=new window.Marzipano.Texture(Sa),ka=viewer.createScene({source:Sa,geometry:ua,view:window.Marzipano.RectilinearView.limit.traditional(ha.faceSize,100*Math.PI/180),pinFirstLevel:!0});ka.view().setParameters(ha.initialViewParameters),ka.switchTo(),console.log("本地全景加载成功")}else throw new Error("全景数据格式错误")}catch(ha){throw console.error("加载本地全景失败:",ha),ha}}async function loadImagePanorama(ha){try{const ua=window.Marzipano.ImageUrlSource.fromString(ha),Sa=new window.Marzipano.EquirectGeometry([{width:4096}]);viewer.createScene({source:ua,geometry:Sa,view:window.Marzipano.RectilinearView.limit.traditional(1024,120*Math.PI/180),pinFirstLevel:!0}).switchTo(),console.log("全景图片加载成功")}catch(ua){throw console.error("加载全景图片失败:",ua),ua}}function retryLoad(){currentPanoInfo.value&&currentPanoInfo.value.url&&loadPanorama(currentPanoInfo.value.url,currentPanoInfo.value)}function resetView(){viewer&&viewer.scene&&(viewer.scene.view().setYaw(0),viewer.scene.view().setPitch(0),viewer.scene.view().setFov(Math.PI/4))}function toggleFullscreen(){var ha;document.fullscreenElement?(document.exitFullscreen(),fullscreen.value=!1):((ha=panoContainer.value)==null||ha.requestFullscreen(),fullscreen.value=!0)}function handleFullscreenChange(){fullscreen.value=!!document.fullscreenElement}return onMounted(()=>{document.addEventListener("fullscreenchange",handleFullscreenChange)}),onUnmounted(()=>{document.removeEventListener("fullscreenchange",handleFullscreenChange),viewer&&(viewer.destroy(),viewer=null)}),__expose({loadPanorama}),(ha,ua)=>__props.visible?(openBlock(),createElementBlock("div",{key:0,class:"panorama-modal",onClick:closeModal},[createBaseVNode("div",{class:"modal-content",onClick:ua[0]||(ua[0]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:"modal-header"},[ua[1]||(ua[1]=createBaseVNode("h3",null,"全景查看器",-1)),createBaseVNode("button",{class:"close-btn",onClick:closeModal},"×")]),createBaseVNode("div",{class:"panorama-container",ref_key:"panoContainer",ref:panoContainer},[loading.value?(openBlock(),createElementBlock("div",_hoisted_1$4,ua[2]||(ua[2]=[createBaseVNode("div",{class:"spinner"},null,-1),createBaseVNode("p",null,"正在加载全景图像...",-1)]))):createCommentVNode("",!0),error.value?(openBlock(),createElementBlock("div",_hoisted_2$4,[createBaseVNode("p",null,toDisplayString(error.value),1),createBaseVNode("button",{onClick:retryLoad},"重试")])):createCommentVNode("",!0)],512),createBaseVNode("div",_hoisted_3$4,[createBaseVNode("div",_hoisted_4$4,[createBaseVNode("button",{onClick:resetView,title:"重置视角"},"重置视角"),createBaseVNode("button",{onClick:toggleFullscreen,title:"全屏"},toDisplayString(fullscreen.value?"退出全屏":"全屏"),1)]),createBaseVNode("div",_hoisted_5$4,[currentPanoInfo.value?(openBlock(),createElementBlock("p",_hoisted_6$3,toDisplayString(currentPanoInfo.value.name||"全景点位"),1)):createCommentVNode("",!0)])])])])):createCommentVNode("",!0)}},PanoramaViewer=_export_sfc(_sfc_main$4,[["__scopeId","data-v-408e8d39"]]);class DataSourceManager{constructor(ua){this.viewer=ua,this.dataSources=new Map,this.tilesets=new Map,this.loading=new Set}async load3DTileset(ua,Sa,ba={}){if(this.loading.has(ua))return console.warn(`数据源 ${ua} 正在加载中`),null;if(this.tilesets.has(ua))return console.warn(`数据源 ${ua} 已存在`),this.tilesets.get(ua);try{this.loading.add(ua),console.log(`开始加载 3D Tileset: ${ua}`);const ka=await Cesium.Cesium3DTileset.fromUrl(Sa,ba);return ba.modelMatrix&&(ka.modelMatrix=ba.modelMatrix),ba.maximumScreenSpaceError&&(ka.maximumScreenSpaceError=ba.maximumScreenSpaceError),ba.style&&(ka.style=ba.style),ba.show!==void 0&&(ka.show=ba.show),this.viewer.scene.primitives.add(ka),this.tilesets.set(ua,ka),console.log(`3D Tileset ${ua} 加载完成`),ka}catch(ka){throw console.error(`加载 3D Tileset ${ua} 失败:`,ka),ka}finally{this.loading.delete(ua)}}async loadGeoJSON(ua,Sa,ba={}){if(this.loading.has(ua))return console.warn(`数据源 ${ua} 正在加载中`),null;if(this.dataSources.has(ua))return console.warn(`数据源 ${ua} 已存在`),this.dataSources.get(ua);try{this.loading.add(ua),console.log(`开始加载 GeoJSON: ${ua}`);const ka=await Cesium.GeoJsonDataSource.load(Sa,{clampToGround:ba.clampToGround!==!1,...ba});return ba.styleFunction&&ka.entities.values.forEach(ba.styleFunction),await this.viewer.dataSources.add(ka),this.dataSources.set(ua,ka),console.log(`GeoJSON ${ua} 加载完成`),ka}catch(ka){throw console.error(`加载 GeoJSON ${ua} 失败:`,ka),ka}finally{this.loading.delete(ua)}}async loadPipelineData(ua,Sa,ba={}){if(this.loading.has(ua))return console.warn(`管线数据源 ${ua} 正在加载中`),null;if(this.dataSources.has(ua))return console.warn(`管线数据源 ${ua} 已存在`),this.dataSources.get(ua);try{this.loading.add(ua),console.log(`开始加载管线数据: ${ua}`);const ka=await fetch(Sa);if(!ka.ok)throw new Error(`HTTP ${ka.status}: ${ka.statusText}`);const _y=await ka.arrayBuffer(),Ty=new TextDecoder("utf-8").decode(_y),Ay=JSON.parse(Ty),Ey=new Cesium.CustomDataSource(ba.name||ua),My=[];return Ay.features&&Ay.features.forEach(Dy=>{if(Dy.geometry&&Dy.geometry.type==="LineString"){const Iy=Dy.geometry.coordinates;if(Iy.length>=2){const Ly=Iy.map(zy=>Cesium.Cartesian3.fromDegrees(zy[0],zy[1],-ba.depth||0)),Py={},Ry=Dy.properties||{};Object.keys(Ry).forEach(zy=>{const Hy=Ry[zy];Py[zy]=Hy!=null?String(Hy):"(无数据)"});const Vy=parseDiameterMeters(Py,Ry,ba.diameter),Ny=parseDepthMeters(Py,["起点埋","起点埋深","startDepth","StartDepth"],ba.depth),By=parseDepthMeters(Py,["终点埋","终点埋深","endDepth","EndDepth"],ba.depth),Oy=computeUndergroundPositions(Ly,Ny,By),Fy=Ey.entities.add({name:Py.设施名||ba.name||ua,polylineVolume:{positions:Oy,shape:this.createPipeShape(Vy),material:Cesium.Color.fromCssColorString(ba.color||"#00ffff").withAlpha(.8),outline:!0,outlineColor:Cesium.Color.fromCssColorString(ba.color||"#00ffff")},properties:Py,description:createPropertyDescription(Py)});My.push(Fy)}}}),await this.viewer.dataSources.add(Ey),this.dataSources.set(ua,{dataSource:Ey,entities:My,config:ba}),console.log(`管线数据 ${ua} 加载完成，共 ${My.length} 个实体`),{dataSource:Ey,entities:My,config:ba}}catch(ka){throw console.error(`加载管线数据 ${ua} 失败:`,ka),ka}finally{this.loading.delete(ua)}}createPipeShape(ua){const Sa=ua/2,ba=[],ka=12;for(let _y=0;_y<ka;_y++){const Ty=_y/ka*2*Math.PI;ba.push(new Cesium.Cartesian2(Sa*Math.cos(Ty),Sa*Math.sin(Ty)))}return ba}async loadPredefinedDataSources(){const ua=[{type:"3dtileset",id:"osgb",url:"/Assets/data/osgb/tileset.json",options:{maximumScreenSpaceError:12}},{type:"3dtileset",id:"ck",url:"/Assets/data/ck/tileset.json",options:{classificationType:Cesium.ClassificationType.CESIUM_3D_TILE,modelMatrix:Cesium.Matrix4.fromTranslation(new Cesium.Cartesian3(0,0,135)),maximumScreenSpaceError:12}},{type:"geojson",id:"warehouse",url:"/Assets/data/geojson/仓库.json",options:{styleFunction:ka=>{ka.polygon&&(ka.polygon.classificationType=Cesium.ClassificationType.CESIUM_3D_TILE,ka.polygon.material=Cesium.Color.fromCssColorString("rgba(0,255,255,0.01)"),ka.polygon.outline=!1)}}},{type:"pipeline",id:"water-pipe",url:"/Assets/data/json/JPLN_Project_FeaturesToJSON.json",config:{name:"配水管线",color:"#00ffff",depth:5,diameter:20}},{type:"pipeline",id:"tv-cable",url:"/Assets/data/json/DSLN_Project_FeaturesToJSON.json",config:{name:"电视管线",color:"#00ff00",depth:10,diameter:10}},{type:"pipeline",id:"communication",url:"/Assets/data/json/TXLN_Project4_FeaturesToJSON.json",config:{name:"通信管线",color:"#00ff00",depth:7,diameter:8}},{type:"pipeline",id:"gas",url:"/Assets/data/json/TRLN_Project_FeaturesToJSON.json",config:{name:"天然气管线",color:"#ff00ff",depth:25,diameter:15}},{type:"pipeline",id:"sewage",url:"/Assets/data/json/WSLN_Project_FeaturesToJSON.json",config:{name:"污水管线",color:"#4c3926",depth:8,diameter:18}},{type:"pipeline",id:"rainwater",url:"/Assets/data/json/YSLN_Project1_FeaturesToJSON.json",config:{name:"雨水管线",color:"#4c3926",depth:6,diameter:16}},{type:"pipeline",id:"heating",url:"/Assets/data/json/RSLN_Project1_FeaturesToJSON1.json",config:{name:"热水管线",color:"#ff8000",depth:12,diameter:14}},{type:"pipeline",id:"power",url:"/Assets/data/json/GDLN_Project1_FeaturesToJSON.json",config:{name:"供电管线",color:"#ff0000",depth:15,diameter:12}},{type:"pipeline",id:"street-light",url:"/Assets/data/json/LDLN_Project_FeaturesToJSON.json",config:{name:"路灯管线",color:"#ff0000",depth:18,diameter:10}}],Sa=new Map,ba=ua.map(async ka=>{try{let _y=null;switch(ka.type){case"3dtileset":_y=await this.load3DTileset(ka.id,ka.url,ka.options);break;case"geojson":_y=await this.loadGeoJSON(ka.id,ka.url,ka.options);break;case"pipeline":_y=await this.loadPipelineData(ka.id,ka.url,ka.config);break}_y&&Sa.set(ka.id,{type:ka.type,data:_y,config:ka})}catch(_y){console.warn(`加载数据源 ${ka.id} 失败:`,_y.message)}});return await Promise.all(ba),console.log(`数据源加载完成，成功加载 ${Sa.size}/${ua.length} 个数据源`),Sa}getDataSource(ua){return this.dataSources.get(ua)||this.tilesets.get(ua)}getPipelineDataSources(){const ua=new Map;return this.dataSources.forEach((Sa,ba)=>{Sa.config&&Sa.config.name&&ua.set(ba,Sa)}),ua}toggleDataSource(ua,Sa){const ba=this.getDataSource(ua);ba&&(ba.show!==void 0?ba.show=Sa:ba.dataSource&&(ba.dataSource.show=Sa))}removeDataSource(ua){const Sa=this.tilesets.get(ua);if(Sa)return this.viewer.scene.primitives.remove(Sa),this.tilesets.delete(ua),!0;const ba=this.dataSources.get(ua);if(ba){const ka=ba.dataSource||ba;return this.viewer.dataSources.remove(ka),this.dataSources.delete(ua),!0}return!1}destroy(){this.tilesets.forEach(ua=>{this.viewer.scene.primitives.remove(ua)}),this.tilesets.clear(),this.dataSources.forEach(ua=>{const Sa=ua.dataSource||ua;this.viewer.dataSources.remove(Sa)}),this.dataSources.clear(),this.loading.clear(),console.log("数据源管理器已清理")}}function parseNumberLike(ha){if(ha==null)return NaN;if(typeof ha=="number")return ha;if(typeof ha=="string"){const Sa=ha.trim().replace(/毫米|mm/gi,"").replace(/厘米|cm/gi,"").replace(/米|m/gi,"").replace(/长度|管径|直径|起点埋|终点埋|口径|DN/gi,"").replace(/[：:]/g,"").replace(/[^0-9+\-.]/g,"").trim(),ba=Number(Sa);return Number.isFinite(ba)?ba:NaN}return NaN}function getNumericProperty(ha,ua,Sa,ba){for(let ka=0;ka<ua.length;ka++){const _y=ua[ka];if(Object.prototype.hasOwnProperty.call(ha,_y)){const Ty=ha[_y];let Ay=parseNumberLike(Ty);if(!Number.isFinite(Ay))continue;return Ay}}return Sa}function parseDiameterMeters(ha,ua,Sa){const ba=["管径","直径","口径","diameter","Diameter","DIAMETER"],ka=getNumericProperty(ha,ba,void 0);let _y=.2;Number.isFinite(Sa)&&(Sa>50?_y=Sa/1e3:Sa>5?_y=Sa/100:_y=Sa);let Ty,Ay="";for(const Dy of ba){const Iy=ua&&ua[Dy];if(typeof Iy=="string"){Ay+=Iy;const Ly=Iy.match(/\d+(?:\.\d+)?/g);if(Ly&&Ly.length>0){Ty=Number(Ly[0]);break}}else if(typeof Iy=="number"&&Number.isFinite(Iy)){Ty=Iy;break}}const Ey=Number.isFinite(Ty)?Ty:ka;if(!Number.isFinite(Ey))return _y;let My=Ey;for(const Dy of ba){const Iy=ua&&ua[Dy];if(typeof Iy=="string"&&/DN\s*\d+/i.test(Iy)){My=Ey/1e3;break}}return/mm/i.test(Ay)||My>50?My/=1e3:(/cm/i.test(Ay)||My>5)&&(My/=100),My=Math.min(Math.max(My,.02),2),My}function parseDepthMeters(ha,ua,Sa=1){const ba=getNumericProperty(ha,ua,void 0);return ba==null||!Number.isFinite(ba)?Sa:ba>50?ba/1e3:ba>5?ba/100:ba}function computeUndergroundPositions(ha,ua,Sa){if(!Array.isArray(ha)||ha.length===0)return ha;const ba=ha.map(Ey=>Cesium.Cartographic.fromCartesian(Ey));let ka=0;const _y=[];for(let Ey=1;Ey<ba.length;Ey++){const Dy=new Cesium.EllipsoidGeodesic(ba[Ey-1],ba[Ey]).surfaceDistance||0;_y.push(Dy),ka+=Dy}if(ka===0)return ba.map(Ey=>Cesium.Cartesian3.fromRadians(Ey.longitude,Ey.latitude,(Ey.height||0)-ua));let Ty=0;const Ay=[function(){const My=ba[0],Dy=ua;return Cesium.Cartesian3.fromRadians(My.longitude,My.latitude,(My.height||0)-Dy)}()];for(let Ey=1;Ey<ba.length;Ey++){Ty+=_y[Ey-1];const My=Ty/ka,Dy=ua+(Sa-ua)*My,Iy=ba[Ey];Ay.push(Cesium.Cartesian3.fromRadians(Iy.longitude,Iy.latitude,(Iy.height||0)-Dy))}return Ay}function createPropertyDescription(ha){let ua=`
    <div style="
      color: #000000;
      font-size: 14px;
      max-height: 400px;
      overflow-y: auto;
      padding: 10px;
      background: #ffffff;
      border-radius: 5px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    ">
      <h3 style="
        margin: 0 0 15px 0;
        color: #2c3e50;
        border-bottom: 2px solid #3498db;
        padding-bottom: 8px;
        font-size: 16px;
      ">
        管线属性信息
      </h3>
      <table style="
        width: 100%;
        border-collapse: collapse;
        font-family: Arial, sans-serif;
        color: #000000;
      ">
  `;return Object.entries(ha).forEach(([Sa,ba])=>{ua+=`
      <tr>
        <th style="
          text-align: left;
          padding: 8px;
          background: #f8f9fa;
          border: 1px solid #dee2e6;
          width: 30%;
          color: #000000;
          word-break: break-word;
          white-space: normal;
          overflow-wrap: anywhere;
        ">${Sa}</th>
        <td style="
          padding: 8px;
          border: 1px solid #dee2e6;
          word-break: break-word;
          white-space: normal;
          overflow-wrap: anywhere;
          color: #000000;
        ">${ba}</td>
      </tr>`}),ua+="</table></div>",ua}const _hoisted_1$3={id:"cesiumContainer",ref:"cesiumContainer"},_hoisted_2$3={class:"layer-panel"},_hoisted_3$3={class:"row"},_hoisted_4$3={class:"row"},_hoisted_5$3={class:"row"},_hoisted_6$2={class:"row"},_hoisted_7$2={class:"row"},_hoisted_8$2={class:"row small"},_hoisted_9$2={class:"row"},_hoisted_10$2={class:"row small"},_hoisted_11$2={class:"row"},_hoisted_12$2={class:"row small"},_hoisted_13$2={class:"row small"},_hoisted_14$2={class:"row small"},_hoisted_15$2={class:"row small"},_hoisted_16$2={class:"row small"},_hoisted_17$1={class:"row small"},_hoisted_18$1={key:0,class:"analysis-panel"},_hoisted_19$1={class:"control-group"},_hoisted_20$1={key:0,class:"info-panel"},_hoisted_21$1={class:"panel-header"},_hoisted_22$1={class:"info-content"},_hoisted_23$1={key:0,class:"no-data"},_hoisted_24$1={key:1,class:"pipeline-list"},_hoisted_25$1={class:"properties"},_hoisted_26$1={class:"label"},_hoisted_27$1={class:"value"},_hoisted_28$1={key:0,class:"property"},_hoisted_29$1={class:"value"},_hoisted_30$1={key:1,class:"legend-panel"},_hoisted_31$1={class:"legend-content"},_hoisted_32$1=["checked","onChange"],_hoisted_33={class:"name"},_hoisted_34={class:"count"},_sfc_main$3={__name:"MapView",setup(ha){window.CESIUM_BASE_URL="/";const ua=reactive({osgb:!0,ck:!0,geo:!0,pano:!0,pipelines:!0,terrainAlpha:.35,cluster:!0,clusterRange:45,sse:12,weather:!0,temperature:!0,precipitation:!1,wind:!1,warnings:!0,weatherOpacity:70}),Sa=ref(!1),ba=ref(!1),ka=reactive({show:!1,title:"",pipelines:[]}),_y=ref(new Map),Ty=reactive({show:!1}),Ay=ref(null);let Ey=[],My=[],Dy=[],Iy=[],Ly=null;return onMounted(async()=>{Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyZTFmMDI1YS05MTRkLTRhMzYtYTNiZi0wYmM2YTdlYjU5ODMiLCJpZCI6MjIwNDYzLCJpYXQiOjE3MTc2NTIwMDF9.U1PZjG0GiZdXjIvHRyAGsHRMveUVQdINghXIfF6xJDE";const Py=new Cesium.Viewer("cesiumContainer",{terrainProvider:await Cesium.createWorldTerrainAsync({requestWaterMask:!0,requestVertexNormals:!0}),animation:!1,timeline:!1,infoBox:!1,selectionIndicator:!1,baseLayerPicker:!1,geocoder:!1,homeButton:!1,navigationHelpButton:!1,sceneModePicker:!1,requestRenderMode:!0,maximumRenderTimeChange:Number.POSITIVE_INFINITY,useBrowserRecommendedResolution:!0});Py.scene.postProcessStages.fxaa.enabled=!1,Py.shadows=!1,Py.targetFrameRate=30,Py.clock.shouldAnimate=!1,Py.clock.multiplier=0,Py.scene.globe.enableLighting=!1,Py.scene.sun.show=!1,Py.scene.moon.show=!1,Py.resolutionScale=.75;const Ry=()=>Py.scene.requestRender();Py.camera.changed.addEventListener(Ry),window.addEventListener("resize",Ry),Ly=new DataSourceManager(Py),Py.scene.screenSpaceCameraController.enableCollisionDetection=!1,Py.scene.globe.translucency.enabled=!0,Py.scene.globe.translucency.frontFaceAlpha=ua.terrainAlpha,Py.scene.globe.translucency.backFaceAlpha=.05,Py.scene.pickTranslucentDepth=!0,console.log("开始加载数据源...");const Vy=await Ly.loadPredefinedDataSources(),Ny=Ly.getDataSource("osgb");Ny&&Py.zoomTo(Ny);const By=Ly.getPipelineDataSources(),Oy=new Map;By.forEach((o_,n_)=>{Oy.set(o_.config.name,{entities:o_.entities,color:o_.config.color,visible:!0,dataSource:o_.dataSource})}),_y.value=Oy,console.log(`数据源加载完成: ${Vy.size} 个数据源`),Ry();let Fy=null;function zy(o_){!o_||!o_.polygon||(o_.polygon.material=Cesium.Color.fromCssColorString("rgba(0,255,255,0.01)"),o_.polygon.outline=!1)}function Hy(o_){!o_||!o_.polygon||(o_.polygon.material=Cesium.Color.RED.withAlpha(.5),o_.polygon.outline=!0,o_.polygon.outlineColor=Cesium.Color.RED)}new Cesium.ScreenSpaceEventHandler(Py.scene.canvas).setInputAction(o_=>{var qy,e_;const n_=Py.scene.pick(o_.position);if(n_&&n_.id){const a_=n_.id,s_=a_.url||a_.properties&&a_.properties.url&&a_.properties.url.getValue&&a_.properties.url.getValue(),u_=a_.type||a_.properties&&a_.properties.type&&a_.properties.type.getValue&&a_.properties.type.getValue();if(s_){u_==="marzipano"?v_(s_,{name:"360° 全景点位",url:s_,type:u_,coordinates:{lon:a_.lon,lat:a_.lat}}):v_(s_,{name:`全景点位 ${(qy=a_.lon)==null?void 0:qy.toFixed(6)}, ${(e_=a_.lat)==null?void 0:e_.toFixed(6)}`,url:s_,type:u_||"external",coordinates:{lon:a_.lon,lat:a_.lat}}),Ry();return}}Fy&&(!n_||n_.id!==Fy)&&(zy(Fy),Fy=null),n_&&n_.id&&n_.id.polygon&&Fy!==n_.id&&(zy(Fy),Hy(n_.id),Fy=n_.id),Ry()},Cesium.ScreenSpaceEventType.LEFT_CLICK);function Wy(){const o_=document.createElement("canvas");o_.width=16,o_.height=16;const n_=o_.getContext("2d");return n_.beginPath(),n_.arc(8,8,6,0,2*Math.PI),n_.fillStyle="red",n_.fill(),n_.strokeStyle="white",n_.lineWidth=.3,n_.stroke(),o_}Wy();const Uy=[{lon:118.2284000003207,lat:35.10694586947898,url:"/Assets/data/project-title/",type:"marzipano"},{lon:118.22810000032071,lat:35.10656486947898,url:"http://172.20.10.2:3002",type:"external"},{lon:118.227706,lat:35.10656486947898,url:"http://172.20.10.2:3096",type:"external"},{lon:118.227311,lat:35.10656486947898,url:"http://192.168.2.9:3003 "},{lon:118.226933,lat:35.10656486947898,url:"http://192.168.2.9:3097 "},{lon:118.226555,lat:35.10656486947898,url:"http://192.168.2.9:3004"},{lon:118.226555,lat:35.10632486947898,url:"http://192.168.2.9:3005 "},{lon:118.226555,lat:35.10604486947898,url:"http://192.168.2.9:3006"},{lon:118.226933,lat:35.10604486947898,url:"http://192.168.2.9:3098 "},{lon:118.227311,lat:35.10604486947898,url:"http://192.168.2.9:3007 "},{lon:118.227706,lat:35.10604486947898,url:"http://192.168.2.9:3099 "},{lon:118.22810000032071,lat:35.10604486947898,url:"http://192.168.2.9:3008"},{lon:118.22810000032071,lat:35.10632486947898,url:"http://192.168.2.9:3009 "},{lon:118.22810000032071,lat:35.1057,url:"http://192.168.2.9:3010"},{lon:118.227706,lat:35.1057,url:"http://192.168.2.9:3011 "},{lon:118.227311,lat:35.1057,url:"http://192.168.2.9:3011 "},{lon:118.226933,lat:35.1057,url:"http://192.168.2.9:3012 "},{lon:118.226555,lat:35.1057,url:"http://192.168.2.9:3012"},{lon:118.226555,lat:35.10544526147898,url:"http://192.168.2.9:3013 "},{lon:118.226555,lat:35.10516526147898,url:"http://192.168.2.9:3014"},{lon:118.226933,lat:35.10516526147898,url:"http://192.168.2.9:3015 "},{lon:118.227311,lat:35.10516526147898,url:"http://192.168.2.9:3015 "},{lon:118.227706,lat:35.10516526147898,url:"http://192.168.2.9:3016 "},{lon:118.22810000032071,lat:35.10516526147898,url:"http://192.168.2.9:3016"},{lon:118.22810000032071,lat:35.10544526147898,url:"http://192.168.2.9:3017 "},{lon:118.22810000032071,lat:35.10483526147898,url:"http://192.168.2.9:3018"},{lon:118.227706,lat:35.10483526147898,url:"http://192.168.2.9:3019 "},{lon:118.227311,lat:35.10483526147898,url:"http://192.168.2.9:3019 "},{lon:118.226933,lat:35.10483526147898,url:"http://192.168.2.9:3020 "},{lon:118.226555,lat:35.10483526147898,url:"http://192.168.2.9:3020"},{lon:118.226555,lat:35.10455526147898,url:"http://192.168.2.9:3021 "},{lon:118.226555,lat:35.10427526147898,url:"http://192.168.2.9:3022"},{lon:118.226933,lat:35.10427526147898,url:"http://192.168.2.9:3023 "},{lon:118.227311,lat:35.10427526147898,url:"http://192.168.2.9:3023 "},{lon:118.227706,lat:35.10427526147898,url:"http://192.168.2.9:3024 "},{lon:118.22810000032071,lat:35.10427526147898,url:"http://192.168.2.9:3024"},{lon:118.22810000032071,lat:35.10455526147898,url:"http://192.168.2.9:3025 "},{lon:118.22810000032071,lat:35.10394526147898,url:"http://192.168.2.9:3026"},{lon:118.227706,lat:35.10394526147898,url:"http://192.168.2.9:3027 "},{lon:118.227311,lat:35.10394526147898,url:"http://192.168.2.9:3027 "},{lon:118.226933,lat:35.10394526147898,url:"http://192.168.2.9:3028 "},{lon:118.226555,lat:35.10394526147898,url:"http://192.168.2.9:3028"},{lon:118.226555,lat:35.10366526147898,url:"http://192.168.2.9:3029 "},{lon:118.226555,lat:35.10338526147898,url:"http://192.168.2.9:3030"},{lon:118.226933,lat:35.10338526147898,url:"http://192.168.2.9:3031 "},{lon:118.227311,lat:35.10338526147898,url:"http://192.168.2.9:3031 "},{lon:118.227706,lat:35.10338526147898,url:"http://192.168.2.9:3032 "},{lon:118.22810000032071,lat:35.10338526147898,url:"http://192.168.2.9:3032"},{lon:118.22810000032071,lat:35.10366526147898,url:"http://192.168.2.9:3033 "},{lon:118.2306000003207,lat:35.10656476947898,url:"http://192.168.2.9:3034"},{lon:118.230125,lat:35.10656476947898,url:"http://192.168.2.9:3035 "},{lon:118.2296500003207,lat:35.10656476947898,url:"http://192.168.2.9:3035 "},{lon:118.22915,lat:35.10656476947898,url:"http://192.168.2.9:3036 "},{lon:118.22865000032071,lat:35.10656476947898,url:"http://192.168.2.9:3036"},{lon:118.22865000032071,lat:35.10632486947898,url:"http://192.168.2.9:3037 "},{lon:118.22865000032071,lat:35.10604486947898,url:"http://192.168.2.9:3038"},{lon:118.22915,lat:35.10604486947898,url:"http://192.168.2.9:3039 "},{lon:118.2296500003207,lat:35.10604486947898,url:"http://192.168.2.9:3039 "},{lon:118.230125,lat:35.10604486947898,url:"http://192.168.2.9:3040 "},{lon:118.2306000003207,lat:35.10604486947898,url:"http://192.168.2.9:3040"},{lon:118.2306000003207,lat:35.10632486947898,url:"http://192.168.2.9:3041 "},{lon:118.2306000003207,lat:35.1057,url:"http://192.168.2.9:3042"},{lon:118.230125,lat:35.1057,url:"http://192.168.2.9:3043 "},{lon:118.2296500003207,lat:35.1057,url:"http://192.168.2.9:3043 "},{lon:118.22915,lat:35.1057,url:"http://192.168.2.9:3044 "},{lon:118.22865000032071,lat:35.1057,url:"http://192.168.2.9:3044"},{lon:118.22865000032071,lat:35.10544526147898,url:"http://192.168.2.9:3045 "},{lon:118.22865000032071,lat:35.10516526147898,url:"http://192.168.2.9:3046"},{lon:118.22915,lat:35.10516526147898,url:"http://192.168.2.9:3047 "},{lon:118.2296500003207,lat:35.10516526147898,url:"http://192.168.2.9:3047 "},{lon:118.230125,lat:35.10516526147898,url:"http://192.168.2.9:3048 "},{lon:118.2306000003207,lat:35.10516526147898,url:"http://192.168.2.9:3048"},{lon:118.2306000003207,lat:35.10544526147898,url:"http://192.168.2.9:3049 "},{lon:118.2306000003207,lat:35.10483526147898,url:"http://192.168.2.9:3050"},{lon:118.230125,lat:35.10483526147898,url:"http://192.168.2.9:3051 "},{lon:118.2296500003207,lat:35.10483526147898,url:"http://192.168.2.9:3051 "},{lon:118.22915,lat:35.10483526147898,url:"http://192.168.2.9:3052 "},{lon:118.22865000032071,lat:35.10483526147898,url:"http://192.168.2.9:3052"},{lon:118.22865000032071,lat:35.10455526147898,url:"http://192.168.2.9:3053 "},{lon:118.22865000032071,lat:35.10427526147898,url:"http://192.168.2.9:3054"},{lon:118.22915,lat:35.10427526147898,url:"http://192.168.2.9:3055 "},{lon:118.2296500003207,lat:35.10427526147898,url:"http://192.168.2.9:3055 "},{lon:118.230125,lat:35.10427526147898,url:"http://192.168.2.9:3055 "},{lon:118.2306000003207,lat:35.10427526147898,url:"http://192.168.2.9:3056"},{lon:118.2306000003207,lat:35.10455526147898,url:"http://192.168.2.9:3057 "},{lon:118.2301000003207,lat:35.10394526147898,url:"http://192.168.2.9:3058"},{lon:118.229725,lat:35.10394526147898,url:"http://192.168.2.9:3059"},{lon:118.22935000032071,lat:35.10394526147898,url:"http://192.168.2.9:3059 "},{lon:118.229,lat:35.10394526147898,url:"http://192.168.2.9:3060"},{lon:118.22865000032071,lat:35.10394526147898,url:"http://192.168.2.9:3060"},{lon:118.22865000032071,lat:35.10366526147898,url:"http://192.168.2.9:3061 "},{lon:118.22865000032071,lat:35.10338526147898,url:"http://192.168.2.9:3062"},{lon:118.229,lat:35.10338526147898,url:"http://192.168.2.9:3063"},{lon:118.22935000032071,lat:35.10338526147898,url:"http://192.168.2.9:3063 "},{lon:118.229725,lat:35.10338526147898,url:"http://192.168.2.9:3064"},{lon:118.2301000003207,lat:35.10338526147898,url:"http://192.168.2.9:3064"},{lon:118.2301000003207,lat:35.10366526147898,url:"http://192.168.2.9:3065 "},{lon:118.2277,lat:35.10308526147898,url:"http://192.168.2.9:3066"},{lon:118.22648,lat:35.10308526147898,url:"http://192.168.2.9:3067 "},{lon:118.22648,lat:35.10277526147898,url:"http://192.168.2.9:3068"},{lon:118.22648,lat:35.10249526147898,url:"http://192.168.2.9:3069 "},{lon:118.2277,lat:35.10249526147898,url:"http://192.168.2.9:3070"},{lon:118.2277,lat:35.10277526147898,url:"http://192.168.2.9:3071 "},{lon:118.2277,lat:35.10217526147898,url:"http://192.168.2.9:3072"},{lon:118.22648,lat:35.10217526147898,url:"http://192.168.2.9:3073 "},{lon:118.22648,lat:35.10189526147898,url:"http://192.168.2.9:3074"},{lon:118.22648,lat:35.10161526147898,url:"http://192.168.2.9:3075 "},{lon:118.22648,lat:35.10133526147898,url:"http://192.168.2.9:3076"},{lon:118.2277,lat:35.10133526147898,url:"http://192.168.2.9:3077 "},{lon:118.2277,lat:35.10161526147898,url:"http://192.168.2.9:3078"},{lon:118.2277,lat:35.10189526147898,url:"http://192.168.2.9:3079 "},{lon:118.229,lat:35.10217526147898,url:"http://192.168.2.9:3080"},{lon:118.22810000032071,lat:35.10217526147898,url:"http://192.168.2.9:3081 "},{lon:118.22810000032071,lat:35.10189526147898,url:"http://192.168.2.9:3082"},{lon:118.22810000032071,lat:35.10161526147898,url:"http://192.168.2.9:3083 "},{lon:118.22810000032071,lat:35.10133526147898,url:"http://192.168.2.9:3084"},{lon:118.229,lat:35.10133526147898,url:"http://192.168.2.9:3085 "},{lon:118.229,lat:35.10161526147898,url:"http://192.168.2.9:3086 "},{lon:118.229,lat:35.10189526147898,url:"http://192.168.2.9:3087 "},{lon:118.22935000032071,lat:35.10308526147898,url:"http://192.168.2.9:3088 "},{lon:118.22865000032071,lat:35.10308526147898,url:"http://192.168.2.9:3089 "},{lon:118.22810000032071,lat:35.10308526147898,url:"http://192.168.2.9:3090 "},{lon:118.22810000032071,lat:35.10277526147898,url:"http://192.168.2.9:3091 "},{lon:118.22810000032071,lat:35.10249526147898,url:"http://192.168.2.9:3092 "},{lon:118.22865000032071,lat:35.10249526147898,url:"http://192.168.2.9:3093 "},{lon:118.22935000032071,lat:35.10249526147898,url:"http://192.168.2.9:3094 "},{lon:118.22935000032071,lat:35.10277526147898,url:"http://192.168.2.9:3095 "}];function Yy(o_="external"){const n_=document.createElement("canvas");n_.width=20,n_.height=20;const qy=n_.getContext("2d");return qy.beginPath(),qy.arc(10,10,8,0,2*Math.PI),o_==="marzipano"?(qy.fillStyle="#007acc",qy.fill(),qy.strokeStyle="white",qy.lineWidth=2,qy.stroke(),qy.fillStyle="white",qy.font="8px Arial",qy.textAlign="center",qy.fillText("360",10,13)):(qy.fillStyle="red",qy.fill(),qy.strokeStyle="white",qy.lineWidth=2,qy.stroke()),n_}const jy=new Cesium.CustomDataSource("pano-dots");Uy.forEach(o_=>{jy.entities.add({position:Cesium.Cartesian3.fromDegrees(o_.lon,o_.lat,0),billboard:{image:Yy(o_.type),width:28,height:28,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,scaleByDistance:new Cesium.NearFarScalar(500,1,6e3,.3),distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,6500),heightReference:Cesium.HeightReference.NONE,disableDepthTestDistance:1e6},properties:{url:o_.url,type:o_.type||"external"},lon:o_.lon,lat:o_.lat})}),await Py.dataSources.add(jy),jy.clustering.enabled=ua.cluster,jy.clustering.pixelRange=ua.clusterRange,jy.clustering.minimumClusterSize=6,jy.clustering.clusterEvent.addEventListener(Ry),Ry();const Ky=new Cesium.CustomDataSource("weather-layer"),Xy=new Cesium.CustomDataSource("temperature-layer"),Zy=new Cesium.CustomDataSource("precipitation-layer"),Jy=new Cesium.CustomDataSource("wind-layer"),t_=new Cesium.CustomDataSource("warnings-layer");await Promise.all([Py.dataSources.add(Ky),Py.dataSources.add(Xy),Py.dataSources.add(Zy),Py.dataSources.add(Jy),Py.dataSources.add(t_)]);async function Qy(){try{ua.temperature&&ua.weather&&await r_(),ua.warnings&&ua.weather&&await i_(),Ry()}catch(o_){console.warn("天气图层更新失败:",o_)}}async function r_(){try{Xy.entities.removeAll();const o_=await weatherService.getProvinceWeather(),n_={北京:{lat:39.9042,lng:116.4074},上海:{lat:31.2304,lng:121.4737},天津:{lat:39.3434,lng:117.3616},重庆:{lat:29.4316,lng:106.9123},广东:{lat:23.1291,lng:113.2644},江苏:{lat:32.0603,lng:118.7969},山东:{lat:36.6512,lng:117.1201},浙江:{lat:30.2741,lng:120.1551},河南:{lat:34.7466,lng:113.6254},四川:{lat:30.6171,lng:104.0668},湖北:{lat:30.5928,lng:114.3055},湖南:{lat:28.2282,lng:112.9388},河北:{lat:38.0428,lng:114.5149},福建:{lat:26.0745,lng:119.3062}};Object.entries(o_).forEach(([qy,e_])=>{const a_=n_[qy];a_&&Xy.entities.add({position:Cesium.Cartesian3.fromDegrees(a_.lng,a_.lat,5e4),billboard:{show:!0,image:l_(e_.temp,e_.color),width:48,height:48,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,scaleByDistance:new Cesium.NearFarScalar(1e5,1,2e6,.3)},label:{text:`${qy}
${e_.temp}°C
${e_.weather}`,font:"12px sans-serif",fillColor:Cesium.Color.WHITE,outlineColor:Cesium.Color.BLACK,outlineWidth:2,style:Cesium.LabelStyle.FILL_AND_OUTLINE,pixelOffset:new Cesium.Cartesian2(0,-60),scaleByDistance:new Cesium.NearFarScalar(1e5,1,2e6,.3)},properties:{type:"temperature",province:qy,temperature:e_.temp,weather:e_.weather}})})}catch(o_){console.warn("温度图层加载失败:",o_)}}async function i_(){try{t_.entities.removeAll();const o_=[{name:"北京",lat:39.9042,lng:116.4074},{name:"上海",lat:31.2304,lng:121.4737},{name:"广州",lat:23.1291,lng:113.2644},{name:"深圳",lat:22.5431,lng:114.0579}];for(const n_ of o_)(await weatherService.getDisasterWarning(n_)).forEach(e_=>{t_.entities.add({position:Cesium.Cartesian3.fromDegrees(n_.lng,n_.lat,1e4),billboard:{image:c_(e_.level),width:32,height:32,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,scaleByDistance:new Cesium.NearFarScalar(1e4,1,5e5,.2)},label:{text:`⚠️ ${e_.title}`,font:"11px sans-serif",fillColor:Cesium.Color.YELLOW,outlineColor:Cesium.Color.RED,outlineWidth:2,style:Cesium.LabelStyle.FILL_AND_OUTLINE,pixelOffset:new Cesium.Cartesian2(0,-40)},properties:{type:"warning",warningData:e_}})})}catch(o_){console.warn("预警图层加载失败:",o_)}}function l_(o_,n_){const qy=document.createElement("canvas");qy.width=48,qy.height=48;const e_=qy.getContext("2d");return e_.beginPath(),e_.arc(24,24,20,0,2*Math.PI),e_.fillStyle=n_,e_.fill(),e_.strokeStyle="#fff",e_.lineWidth=2,e_.stroke(),e_.fillStyle="#fff",e_.font="bold 12px sans-serif",e_.textAlign="center",e_.textBaseline="middle",e_.fillText(`${o_}°`,24,24),qy.toDataURL()}function c_(o_){const n_={蓝色:"#0066FF",黄色:"#FFCC00",橙色:"#FF6600",红色:"#FF0000"},qy=document.createElement("canvas");qy.width=32,qy.height=32;const e_=qy.getContext("2d");return e_.beginPath(),e_.moveTo(16,4),e_.lineTo(28,24),e_.lineTo(4,24),e_.closePath(),e_.fillStyle=n_[o_]||"#FFCC00",e_.fill(),e_.strokeStyle="#000",e_.lineWidth=2,e_.stroke(),e_.fillStyle="#000",e_.font="bold 14px sans-serif",e_.textAlign="center",e_.textBaseline="middle",e_.fillText("!",16,16),qy.toDataURL()}await Qy();function d_(){Sa.value=!1,Ey=[],Py.canvas.style.cursor="default",Dy.forEach(o_=>Py.entities.remove(o_)),Dy=[]}function f_(){ba.value=!1,My=[],Py.canvas.style.cursor="default",Iy.forEach(o_=>Py.entities.remove(o_)),Iy=[]}function m_(o_,n_){const qy=[],e_=Cesium.Cartesian3.fromRadians(o_.longitude,o_.latitude,o_.height),a_=Cesium.Cartesian3.fromRadians(n_.longitude,n_.latitude,n_.height);return Ly&&Ly.getPipelineDataSources().forEach(u_=>{u_.entities.forEach(h_=>{if(h_.polylineVolume&&h_.polylineVolume.positions){const __=h_.polylineVolume.positions.getValue(Cesium.JulianDate.now());if(__&&__.length>=2)for(let y_=0;y_<__.length-1;y_++){const w_=__[y_],S_=__[y_+1],C_=b_(e_,a_,w_,S_);if(C_<50){const x_={};h_.properties&&(h_.properties.propertyNames||[]).forEach(k_=>{let E_=h_.properties[k_];E_&&typeof E_.getValue=="function"&&(E_=E_.getValue(Cesium.JulianDate.now())),E_!=null&&(x_[k_]=E_)}),qy.push({entity:h_,name:h_.name||"未知管线",properties:x_,distance:C_});break}}}})}),qy}function b_(o_,n_,qy,e_){const a_=Cesium.Cartesian3.distance(o_,qy),s_=Cesium.Cartesian3.distance(o_,e_),u_=Cesium.Cartesian3.distance(n_,qy),h_=Cesium.Cartesian3.distance(n_,e_);return Math.min(a_,s_,u_,h_)}function $_(o_,n_){ka.title=n_,ka.pipelines=o_,ka.show=!0}const A_=new Cesium.ScreenSpaceEventHandler(Py.scene.canvas);A_.setInputAction(o_=>{const n_=Py.camera.getPickRay(o_.endPosition),qy=Py.scene.globe.pick(n_,Py.scene);qy&&Cesium.Cartographic.fromCartesian(qy)},Cesium.ScreenSpaceEventType.MOUSE_MOVE),A_.setInputAction(o_=>{if(Sa.value){const n_=Py.camera.getPickRay(o_.position),qy=Py.scene.globe.pick(n_,Py.scene);if(qy){const e_=Cesium.Cartographic.fromCartesian(qy);if(Ey.push(e_),Ey.length===1){const a_=Py.entities.add({position:Cesium.Cartesian3.fromRadians(e_.longitude,e_.latitude,e_.height),point:{pixelSize:10,color:Cesium.Color.YELLOW,outlineColor:Cesium.Color.BLACK,outlineWidth:2}});Dy.push(a_)}else if(Ey.length===2){const a_=m_(Ey[0],Ey[1]);$_(a_,"剖面分析结果"),d_()}}}else if(ba.value){const n_=Py.camera.getPickRay(o_.position),qy=Py.scene.globe.pick(n_,Py.scene);if(qy){const e_=Cesium.Cartographic.fromCartesian(qy);My.push(e_);const a_=Py.entities.add({position:Cesium.Cartesian3.fromRadians(e_.longitude,e_.latitude,e_.height),point:{pixelSize:8,color:Cesium.Color.CYAN,outlineColor:Cesium.Color.BLACK,outlineWidth:1}});Iy.push(a_),My.length>=3&&f_()}}Ry()},Cesium.ScreenSpaceEventType.LEFT_CLICK);function v_(o_,n_=null){Ty.show=!0,nextTick(()=>{Ay.value&&Ay.value.loadPanorama(o_,n_)})}const g_=()=>{Ly&&(Ly.toggleDataSource("osgb",ua.osgb),Ly.toggleDataSource("ck",ua.ck),Ly.toggleDataSource("warehouse",ua.geo),Ly.getPipelineDataSources().forEach((qy,e_)=>{Ly.toggleDataSource(e_,ua.pipelines)})),jy.show=ua.pano,Ky.show=ua.weather,Xy.show=ua.weather&&ua.temperature,Zy.show=ua.weather&&ua.precipitation,Jy.show=ua.weather&&ua.wind,t_.show=ua.weather&&ua.warnings;const o_=ua.weatherOpacity/100;Xy.entities&&Xy.entities.values.forEach(n_=>{n_.billboard&&(n_.billboard.color=Cesium.Color.WHITE.withAlpha(o_)),n_.label&&(n_.label.fillColor=Cesium.Color.WHITE.withAlpha(o_))}),Ry()};g_(),watch(()=>[ua.osgb,ua.ck,ua.geo,ua.pano,ua.pipelines],g_),watch(()=>ua.terrainAlpha,o_=>{if(Py.scene.globe.translucency.frontFaceAlpha=o_,Ly){const n_=Ly.getDataSource("osgb");n_&&(n_.style=new Cesium.Cesium3DTileStyle({color:`rgba(255,255,255, ${o_})`}));const qy=Ly.getDataSource("ck");qy&&(qy.style=new Cesium.Cesium3DTileStyle({color:`rgba(255,255,255, ${o_})`}))}Ry()}),watch(()=>ua.cluster,o_=>{jy.clustering.enabled=o_,Ry()}),watch(()=>ua.clusterRange,o_=>{jy.clustering.pixelRange=o_,Ry()}),watch(()=>ua.sse,o_=>{if(Ly){const n_=Ly.getDataSource("osgb");n_&&(n_.maximumScreenSpaceError=o_);const qy=Ly.getDataSource("ck");qy&&(qy.maximumScreenSpaceError=o_)}Ry()}),watch(()=>[ua.weather,ua.temperature,ua.precipitation,ua.wind,ua.warnings],g_),watch(()=>ua.weatherOpacity,g_),watch(()=>[ua.temperature,ua.warnings],async()=>{ua.weather&&await Qy()});const p_=setInterval(async()=>{ua.weather&&await Qy()},30*60*1e3);onUnmounted(()=>{p_&&clearInterval(p_),A_&&A_.destroy(),Ly&&Ly.destroy()})}),(Py,Ry)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$3,null,512),createBaseVNode("div",_hoisted_2$3,[Ry[30]||(Ry[30]=createBaseVNode("div",{class:"row title"},"图层",-1)),createBaseVNode("label",_hoisted_3$3,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Ry[0]||(Ry[0]=Vy=>ua.osgb=Vy)},null,512),[[vModelCheckbox,ua.osgb]]),Ry[19]||(Ry[19]=createTextVNode(" OSGB 建筑",-1))]),createBaseVNode("label",_hoisted_4$3,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Ry[1]||(Ry[1]=Vy=>ua.ck=Vy)},null,512),[[vModelCheckbox,ua.ck]]),Ry[20]||(Ry[20]=createTextVNode(" 分类 CK",-1))]),createBaseVNode("label",_hoisted_5$3,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Ry[2]||(Ry[2]=Vy=>ua.geo=Vy)},null,512),[[vModelCheckbox,ua.geo]]),Ry[21]||(Ry[21]=createTextVNode(" 仓库面 (GeoJSON)",-1))]),createBaseVNode("label",_hoisted_6$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Ry[3]||(Ry[3]=Vy=>ua.pano=Vy)},null,512),[[vModelCheckbox,ua.pano]]),Ry[22]||(Ry[22]=createTextVNode(" 全景红点",-1))]),Ry[31]||(Ry[31]=createBaseVNode("div",{class:"row sep"},null,-1)),createBaseVNode("label",_hoisted_7$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Ry[4]||(Ry[4]=Vy=>ua.pipelines=Vy)},null,512),[[vModelCheckbox,ua.pipelines]]),Ry[23]||(Ry[23]=createTextVNode(" 地下管线 ",-1))]),ua.pipelines?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_8$2,"地形透明度："+toDisplayString(ua.terrainAlpha),1),withDirectives(createBaseVNode("input",{class:"slider",type:"range",min:"0",max:"1",step:"0.05","onUpdate:modelValue":Ry[5]||(Ry[5]=Vy=>ua.terrainAlpha=Vy)},null,512),[[vModelText,ua.terrainAlpha,void 0,{number:!0}]])],64)):createCommentVNode("",!0),Ry[32]||(Ry[32]=createBaseVNode("div",{class:"row sep"},null,-1)),createBaseVNode("label",_hoisted_9$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Ry[6]||(Ry[6]=Vy=>ua.cluster=Vy)},null,512),[[vModelCheckbox,ua.cluster]]),Ry[24]||(Ry[24]=createTextVNode(" 红点聚合 ",-1))]),createBaseVNode("div",_hoisted_10$2,"聚合强度："+toDisplayString(ua.clusterRange),1),withDirectives(createBaseVNode("input",{class:"slider",type:"range",min:"20",max:"90",step:"1","onUpdate:modelValue":Ry[7]||(Ry[7]=Vy=>ua.clusterRange=Vy)},null,512),[[vModelText,ua.clusterRange,void 0,{number:!0}]]),Ry[33]||(Ry[33]=createBaseVNode("div",{class:"row sep"},null,-1)),createBaseVNode("label",_hoisted_11$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Ry[8]||(Ry[8]=Vy=>ua.weather=Vy)},null,512),[[vModelCheckbox,ua.weather]]),Ry[25]||(Ry[25]=createTextVNode(" 天气图层 ",-1))]),ua.weather?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("label",_hoisted_12$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Ry[9]||(Ry[9]=Vy=>ua.temperature=Vy)},null,512),[[vModelCheckbox,ua.temperature]]),Ry[26]||(Ry[26]=createTextVNode(" 温度分布",-1))]),createBaseVNode("label",_hoisted_13$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Ry[10]||(Ry[10]=Vy=>ua.precipitation=Vy)},null,512),[[vModelCheckbox,ua.precipitation]]),Ry[27]||(Ry[27]=createTextVNode(" 降水预报",-1))]),createBaseVNode("label",_hoisted_14$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Ry[11]||(Ry[11]=Vy=>ua.wind=Vy)},null,512),[[vModelCheckbox,ua.wind]]),Ry[28]||(Ry[28]=createTextVNode(" 风力风向",-1))]),createBaseVNode("label",_hoisted_15$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Ry[12]||(Ry[12]=Vy=>ua.warnings=Vy)},null,512),[[vModelCheckbox,ua.warnings]]),Ry[29]||(Ry[29]=createTextVNode(" 预警信息",-1))]),createBaseVNode("div",_hoisted_16$2,"透明度："+toDisplayString(ua.weatherOpacity)+"%",1),withDirectives(createBaseVNode("input",{class:"slider",type:"range",min:"10",max:"100",step:"10","onUpdate:modelValue":Ry[13]||(Ry[13]=Vy=>ua.weatherOpacity=Vy)},null,512),[[vModelText,ua.weatherOpacity,void 0,{number:!0}]])],64)):createCommentVNode("",!0),Ry[34]||(Ry[34]=createBaseVNode("div",{class:"row sep"},null,-1)),createBaseVNode("div",_hoisted_17$1,"Tiles 细节（SSE）："+toDisplayString(ua.sse),1),withDirectives(createBaseVNode("input",{class:"slider",type:"range",min:"8",max:"24",step:"1","onUpdate:modelValue":Ry[14]||(Ry[14]=Vy=>ua.sse=Vy)},null,512),[[vModelText,ua.sse,void 0,{number:!0}]])]),ua.pipelines?(openBlock(),createElementBlock("div",_hoisted_18$1,[Ry[36]||(Ry[36]=createBaseVNode("div",{class:"panel-header"},[createBaseVNode("h3",null,"地下管线分析")],-1)),createBaseVNode("div",_hoisted_19$1,[createBaseVNode("button",{onClick:Ry[15]||(Ry[15]=(...Vy)=>Py.startSectionAnalysis&&Py.startSectionAnalysis(...Vy)),class:normalizeClass({active:Sa.value})},toDisplayString(Sa.value?"取消剖面":"剖面分析"),3),createBaseVNode("button",{onClick:Ry[16]||(Ry[16]=(...Vy)=>Py.startExcavationAnalysis&&Py.startExcavationAnalysis(...Vy)),class:normalizeClass({active:ba.value})},toDisplayString(ba.value?"取消挖方":"挖方分析"),3),createBaseVNode("button",{onClick:Ry[17]||(Ry[17]=(...Vy)=>Py.clearAllAnalysis&&Py.clearAllAnalysis(...Vy))},"清除分析")]),ka.show?(openBlock(),createElementBlock("div",_hoisted_20$1,[createBaseVNode("div",_hoisted_21$1,[createBaseVNode("h3",null,toDisplayString(ka.title),1),createBaseVNode("button",{onClick:Ry[18]||(Ry[18]=Vy=>ka.show=!1),class:"close-btn"},"×")]),createBaseVNode("div",_hoisted_22$1,[ka.pipelines.length===0?(openBlock(),createElementBlock("div",_hoisted_23$1," 未发现管线 ")):(openBlock(),createElementBlock("div",_hoisted_24$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.pipelines,(Vy,Ny)=>(openBlock(),createElementBlock("div",{key:Ny,class:"pipeline-item"},[createBaseVNode("h4",null,"管线 "+toDisplayString(Ny+1)+": "+toDisplayString(Vy.name),1),createBaseVNode("div",_hoisted_25$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Vy.properties,(By,Oy)=>(openBlock(),createElementBlock("div",{key:Oy,class:"property"},[createBaseVNode("span",_hoisted_26$1,toDisplayString(Oy)+":",1),createBaseVNode("span",_hoisted_27$1,toDisplayString(By),1)]))),128)),Vy.distance!==void 0?(openBlock(),createElementBlock("div",_hoisted_28$1,[Ry[35]||(Ry[35]=createBaseVNode("span",{class:"label"},"距离:",-1)),createBaseVNode("span",_hoisted_29$1,toDisplayString(Vy.distance.toFixed(1))+"m",1)])):createCommentVNode("",!0)])]))),128))]))])])):createCommentVNode("",!0)])):createCommentVNode("",!0),ua.pipelines?(openBlock(),createElementBlock("div",_hoisted_30$1,[Ry[37]||(Ry[37]=createBaseVNode("div",{class:"panel-header"},[createBaseVNode("h3",null,"管线图例")],-1)),createBaseVNode("div",_hoisted_31$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_y.value,(Vy,Ny)=>(openBlock(),createElementBlock("div",{key:Ny,class:"legend-item"},[createBaseVNode("label",null,[createBaseVNode("input",{type:"checkbox",checked:Vy.visible!==!1,onChange:By=>Py.togglePipelineGroup(Ny,By.target.checked)},null,40,_hoisted_32$1),createBaseVNode("span",{class:"swatch",style:normalizeStyle$1({backgroundColor:Vy.color})},null,4),createBaseVNode("span",_hoisted_33,toDisplayString(Ny),1),createBaseVNode("span",_hoisted_34,"("+toDisplayString(Vy.entities.length)+")",1)])]))),128))])])):createCommentVNode("",!0),createVNode$1(PanoramaViewer,{ref_key:"panoramaViewer",ref:Ay,visible:Ty.show,onClose:Py.closePanorama},null,8,["visible","onClose"])],64))}},_hoisted_1$2={class:"screen"},_hoisted_2$2={class:"drawer-inner fluent-acrylic-strong"},_hoisted_3$2={class:"drawer-header"},_hoisted_4$2={class:"drawer-inner fluent-acrylic-strong"},_hoisted_5$2={class:"drawer-header"},_sfc_main$2=defineComponent({__name:"Dashboard",setup(ha){const ua=useUIStore();return(Sa,ba)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode$1(TopBar),createBaseVNode("div",{class:normalizeClass(["body",{full:unref(ua).fullscreen}]),style:normalizeStyle$1({"--left-w":unref(ua).drawer.leftWidth+"px","--right-w":unref(ua).drawer.rightWidth+"px"})},[createVNode$1(_sfc_main$3,{class:"map"}),createBaseVNode("div",{class:normalizeClass(["drawer left",{open:unref(ua).drawer.leftOpen||unref(ua).drawer.leftPinned,pinned:unref(ua).drawer.leftPinned}]),onMouseenter:ba[3]||(ba[3]=ka=>unref(ua).hover("left",!0)),onMouseleave:ba[4]||(ba[4]=ka=>unref(ua).hover("left",!1))},[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("header",_hoisted_3$2,[ba[10]||(ba[10]=createBaseVNode("h3",null,"左侧信息",-1)),createBaseVNode("button",{class:"pin",onClick:ba[0]||(ba[0]=ka=>unref(ua).togglePin("left"))},toDisplayString(unref(ua).drawer.leftPinned?"取消固定":"固定"),1)]),createVNode$1(LeftSidebar,{class:"panel"})]),createBaseVNode("button",{class:"handle",onClick:ba[1]||(ba[1]=ka=>unref(ua).toggleOpen("left")),onDblclick:ba[2]||(ba[2]=ka=>unref(ua).togglePin("left")),"aria-label":"toggle left drawer"},null,32)],34),createBaseVNode("div",{class:normalizeClass(["drawer right",{open:unref(ua).drawer.rightOpen||unref(ua).drawer.rightPinned,pinned:unref(ua).drawer.rightPinned}]),onMouseenter:ba[8]||(ba[8]=ka=>unref(ua).hover("right",!0)),onMouseleave:ba[9]||(ba[9]=ka=>unref(ua).hover("right",!1))},[createBaseVNode("div",_hoisted_4$2,[createBaseVNode("header",_hoisted_5$2,[ba[11]||(ba[11]=createBaseVNode("h3",null,"右侧信息",-1)),createBaseVNode("button",{class:"pin",onClick:ba[5]||(ba[5]=ka=>unref(ua).togglePin("right"))},toDisplayString(unref(ua).drawer.rightPinned?"取消固定":"固定"),1)]),createVNode$1(RightSidebar,{class:"panel"})]),createBaseVNode("button",{class:"handle",onClick:ba[6]||(ba[6]=ka=>unref(ua).toggleOpen("right")),onDblclick:ba[7]||(ba[7]=ka=>unref(ua).togglePin("right")),"aria-label":"toggle right drawer"},null,32)],34)],6)]))}}),Dashboard=_export_sfc(_sfc_main$2,[["__scopeId","data-v-90c58150"]]),surfaceLayers=[{id:"green",name:"绿化",type:"geojson",domain:"surface",url:"/data/geojson/green.geojson",visible:!0,legendColor:"#7ac77a",filters:{typeField:"type",timeField:"year",statusField:"status"},idField:"gid"}],undergroundLayers=[{id:"water",name:"给水",type:"geojson",domain:"underground",url:"/data/geojson/pipe_water.geojson",visible:!0,legendColor:"#3db7ff",filters:{typeField:"pipeType",timeField:"install",statusField:"state"},idField:"pid"},{id:"power",name:"电力",type:"geojson",domain:"underground",url:"/data/geojson/pipe_power.geojson",visible:!1,legendColor:"#ffb400",filters:{typeField:"voltage",timeField:"install",statusField:"state"},idField:"pid"},{id:"gas",name:"燃气",type:"geojson",domain:"underground",url:"/data/geojson/pipe_gas.geojson",visible:!1,legendColor:"#ff7a7a",filters:{typeField:"grade",timeField:"install",statusField:"state"},idField:"pid"},{id:"comm",name:"通信",type:"geojson",domain:"underground",url:"/data/geojson/pipe_comm.geojson",visible:!1,legendColor:"#b07aff",filters:{typeField:"carrier",timeField:"install",statusField:"state"},idField:"pid"}],geologyLayers=[{id:"strata",name:"地质层",type:"geojson",domain:"geology",url:"/data/geojson/geology_strata.geojson",visible:!1,legendColor:"#d9b382",filters:{typeField:"layer",timeField:"year",statusField:"status"},idField:"layer"}],ALL_LAYERS=[...surfaceLayers,...undergroundLayers,...geologyLayers];function layersByMode(ha){return ha==="surface"?surfaceLayers:ha==="underground"?undergroundLayers:ALL_LAYERS}const _hoisted_1$1={class:"gu-scene"},_hoisted_2$1={class:"gu-toolbar fluent-acrylic-strong"},_hoisted_3$1={class:"mode-tabs"},_hoisted_4$1={class:"drawer-inner fluent-acrylic-strong"},_hoisted_5$1={class:"drawer-header"},_hoisted_6$1={class:"title"},_hoisted_7$1={class:"actions"},_hoisted_8$1={class:"drawer-body card-stack"},_hoisted_9$1={class:"pane-scroll"},_hoisted_10$1={class:"layer-row"},_hoisted_11$1=["checked","onChange"],_hoisted_12$1={class:"name"},_hoisted_13$1={class:"pane-scroll"},_hoisted_14$1={class:"legend-grid"},_hoisted_15$1={class:"legend-name"},_hoisted_16$1={class:"drawer-inner fluent-acrylic-strong"},_hoisted_17={class:"drawer-header"},_hoisted_18={class:"actions"},_hoisted_19={class:"drawer-body card-stack"},_hoisted_20={class:"form-row"},_hoisted_21=["value"],_hoisted_22={class:"form-row"},_hoisted_23=["value"],_hoisted_24={class:"form-row"},_hoisted_25=["value"],_hoisted_26={class:"actions-row"},_hoisted_27={key:0,class:"gu-card"},_hoisted_28={class:"attr-header"},_hoisted_29={class:"attr-body"},_hoisted_30={class:"k"},_hoisted_31={class:"v"},_hoisted_32={key:1,class:"text-muted"},_sfc_main$1=defineComponent({__name:"GuScene",setup(ha){const ua=useUIStore(),Sa=ref(null),ba=ref(null),ka=ref("surface"),_y=computed(()=>ka.value==="surface"?"地上":ka.value==="underground"?"地下":"同时"),Ty=reactive({}),Ay=reactive({}),Ey=reactive({type:"",status:"",time:""}),My=ref([]),Dy=ref([]),Iy=ref([]),Ly=computed(()=>layersByMode(ka.value)),Py=computed(()=>Ly.value.filter(Xy=>Ay[Xy.id]??Xy.visible));let Ry=null,Vy=null;const Ny=ref(null);onMounted(async()=>{if(!Sa.value)return;ba.value=new Cesium.Viewer(Sa.value,{animation:!1,timeline:!1,baseLayerPicker:!1,geocoder:!1,homeButton:!0,fullscreenButton:!0,sceneModePicker:!0,navigationHelpButton:!1,selectionIndicator:!1,infoBox:!1,terrainProvider:new Cesium.EllipsoidTerrainProvider});try{const Zy=new Cesium.UrlTemplateImageryProvider({url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png"});ba.value.imageryLayers.removeAll(),ba.value.imageryLayers.addImageryProvider(Zy)}catch{}ba.value.scene.globe.showGroundAtmosphere=!1,ba.value.scene.fog.enabled=!1,ua.drawer.leftPinned=ua.drawer.rightPinned=!0,ua.drawer.leftOpen=ua.drawer.rightOpen=!0,await Oy();const Xy=new Cesium.ScreenSpaceEventHandler(ba.value.scene.canvas);Ry=Xy,Xy.setInputAction(Ky,Cesium.ScreenSpaceEventType.LEFT_CLICK),ba.value.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(116.39,39.9,1200),duration:.8})}),onBeforeUnmount(()=>{Ry&&(Ry.destroy(),Ry=null),ba.value&&(ba.value.destroy(),ba.value=null)});async function By(Xy){if(ka.value=Xy,!!ba.value){try{const Zy=ba.value.scene;Zy.globe.depthTestAgainstTerrain=!0,Zy.screenSpaceCameraController.enableCollisionDetection=Xy!=="underground";const Jy=Zy.globe.translucency;Jy&&(Jy.enabled=Xy!=="surface",Jy.frontFaceAlpha=Xy==="surface"?1:.35)}catch(Zy){console.warn("setMode translucent config failed:",Zy)}await Oy(),ua.drawer.leftPinned=ua.drawer.rightPinned=!0,ua.drawer.leftOpen=ua.drawer.rightOpen=!0}}async function Oy(){Fy();for(const Xy of Ly.value)await zy(Xy);Wy()}function Fy(){Object.keys(Ty).forEach(Xy=>{const Zy=Ty[Xy];Zy&&ba.value&&ba.value.dataSources.remove(Zy,!0),delete Ty[Xy]})}async function zy(Xy){Xy.type==="geojson"&&await Hy(Xy)}async function Hy(Xy){const Zy=Xy,Jy=await Cesium.GeoJsonDataSource.load(Zy.url,{clampToGround:ka.value!=="underground"});await ba.value.dataSources.add(Jy),Jy.show=Ay[Xy.id]??Xy.visible,Jy.entities.values.forEach(t_=>{t_.polyline&&(t_.polyline.width=2,t_.polyline.material=Cesium.Color.fromCssColorString(Zy.legendColor||"#00aaff")),t_.polygon&&(t_.polygon.material=Cesium.Color.fromCssColorString(Zy.legendColor||"#00aaff").withAlpha(.5),t_.polygon.outline=!0,t_.polygon.outlineColor=Cesium.Color.fromCssColorString("#777")),t_.point&&(t_.point.pixelSize=8,t_.point.color=Cesium.Color.fromCssColorString(Zy.legendColor||"#00aaff"),t_.point.outlineWidth=1,t_.point.outlineColor=Cesium.Color.fromCssColorString("#333"))}),Ty[Xy.id]=Jy}function Gy(Xy){const Zy=Ty[Xy.id],t_=!(Ay[Xy.id]??Xy.visible);Ay[Xy.id]=t_,Zy&&(Zy.show=t_)}function Wy(){const Xy=new Set,Zy=new Set,Jy=new Set;Object.values(Ty).forEach(t_=>{var Qy,r_;(r_=(Qy=t_==null?void 0:t_.entities)==null?void 0:Qy.values)==null||r_.forEach(i_=>{const l_=i_==null?void 0:i_.properties;if(!l_)return;const c_=d_=>{var f_,m_;return((m_=(f_=l_==null?void 0:l_[d_])==null?void 0:f_.getValue)==null?void 0:m_.call(f_,new Date))??(l_==null?void 0:l_[d_])};Ly.value.forEach(d_=>{var f_,m_,b_;if((f_=d_.filters)!=null&&f_.typeField){const $_=c_(d_.filters.typeField);$_!=null&&Xy.add(String($_))}if((m_=d_.filters)!=null&&m_.statusField){const $_=c_(d_.filters.statusField);$_!=null&&Zy.add(String($_))}if((b_=d_.filters)!=null&&b_.timeField){const $_=c_(d_.filters.timeField);$_!=null&&Jy.add(String($_))}})})}),My.value=Array.from(Xy),Dy.value=Array.from(Zy),Iy.value=Array.from(Jy)}function Uy(){Object.entries(Ty).forEach(([Xy,Zy])=>{const Jy=Ly.value.find(t_=>t_.id===Xy);!Jy||!Zy||Zy.entities.values.forEach(t_=>{var l_,c_,d_;const Qy=t_==null?void 0:t_.properties,r_=f_=>{var m_,b_;return f_?((b_=(m_=Qy==null?void 0:Qy[f_])==null?void 0:m_.getValue)==null?void 0:b_.call(m_,new Date))??(Qy==null?void 0:Qy[f_]):void 0};let i_=!0;Ey.type&&((l_=Jy.filters)!=null&&l_.typeField)&&i_&&(i_=r_(Jy.filters.typeField)==Ey.type),Ey.status&&((c_=Jy.filters)!=null&&c_.statusField)&&i_&&(i_=r_(Jy.filters.statusField)==Ey.status),Ey.time&&((d_=Jy.filters)!=null&&d_.timeField)&&i_&&(i_=String(r_(Jy.filters.timeField))==Ey.time),t_.show=i_})})}function Yy(){Ey.type="",Ey.status="",Ey.time="",Uy()}function jy(){if(!Vy)return;const Xy=Vy.target;Xy!=null&&Xy.polygon&&(Xy.polygon.material=Cesium.Color.YELLOW.withAlpha(.6)),Xy!=null&&Xy.polyline&&(Xy.polyline.material=Cesium.Color.YELLOW),Xy!=null&&Xy.point&&(Xy.point.color=Cesium.Color.YELLOW),Vy=null}function Ky(Xy){if(!ba.value)return;jy(),Ny.value=null;const Zy=ba.value.scene.pick(Xy.position),Jy=Zy==null?void 0:Zy.id;if(!Jy)return;const t_=ba.value.clock.currentTime,Qy=Jy.properties,r_=["name","名称","type","类型","status","状态","gid","id","area","area_m2","length","year","time","date"],i_=(Qy==null?void 0:Qy.propertyNames)??Object.keys(Qy??{}),l_={};for(const d_ of i_){const f_=Qy==null?void 0:Qy[d_];let m_=f_!=null&&f_.getValue?f_.getValue(t_):f_;if(m_&&typeof m_=="object")if("x"in m_&&"y"in m_&&"z"in m_){const b_=m_;m_=`(${b_.x.toFixed(2)}, ${b_.y.toFixed(2)}, ${b_.z.toFixed(2)})`}else if("red"in m_&&"green"in m_&&"blue"in m_)m_="颜色";else continue;l_[d_]=m_}const c_={};r_.forEach(d_=>{d_ in l_&&(c_[d_]=l_[d_])});for(const d_ of i_)if(!(d_ in c_)){if(Object.keys(c_).length>=10)break;d_ in l_&&(c_[d_]=l_[d_])}Ny.value={source:"GeoJSON",props:c_},Jy.polygon&&(Jy.polygon.material=Cesium.Color.CYAN.withAlpha(.6)),Jy.polyline&&(Jy.polyline.material=Cesium.Color.CYAN),Jy.point&&(Jy.point.color=Cesium.Color.CYAN),Vy={kind:"entity",target:Jy}}return(Xy,Zy)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode$1(TopBar),createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("button",{class:normalizeClass(["tab",{active:ka.value==="surface"}]),onClick:Zy[0]||(Zy[0]=Jy=>By("surface"))},"地上",2),createBaseVNode("button",{class:normalizeClass(["tab",{active:ka.value==="underground"}]),onClick:Zy[1]||(Zy[1]=Jy=>By("underground"))},"地下",2),createBaseVNode("button",{class:normalizeClass(["tab",{active:ka.value==="both"}]),onClick:Zy[2]||(Zy[2]=Jy=>By("both"))},"同时",2)])]),createBaseVNode("div",{ref_key:"cesiumRef",ref:Sa,class:"scene-canvas"},null,512),createBaseVNode("div",{class:normalizeClass(["drawer left",{open:unref(ua).drawer.leftOpen||unref(ua).drawer.leftPinned,pinned:unref(ua).drawer.leftPinned}]),onMouseenter:Zy[5]||(Zy[5]=Jy=>unref(ua).hover("left",!0)),onMouseleave:Zy[6]||(Zy[6]=Jy=>unref(ua).hover("left",!1))},[createBaseVNode("div",_hoisted_4$1,[createBaseVNode("header",_hoisted_5$1,[createBaseVNode("div",_hoisted_6$1,"图层与图例（"+toDisplayString(_y.value)+"）",1),createBaseVNode("div",_hoisted_7$1,[createBaseVNode("button",{class:"pin",onClick:Zy[3]||(Zy[3]=Jy=>unref(ua).togglePin("left"))},toDisplayString(unref(ua).drawer.leftPinned?"取消固定":"固定"),1)])]),createBaseVNode("div",_hoisted_8$1,[createVNode$1(FluentCard,{strong:"",title:"图层",scrollable:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ly.value,Jy=>(openBlock(),createElementBlock("div",{key:Jy.id,class:"layer-item"},[createBaseVNode("label",_hoisted_10$1,[createBaseVNode("input",{type:"checkbox",checked:Ay[Jy.id]??Jy.visible,onChange:t_=>Gy(Jy)},null,40,_hoisted_11$1),createBaseVNode("span",_hoisted_12$1,toDisplayString(Jy.name),1),createBaseVNode("span",{class:"badge",style:normalizeStyle$1({background:Jy.legendColor||"#aaa"})},null,4)])]))),128))])]),_:1}),createVNode$1(FluentCard,{strong:"",title:"图例",scrollable:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_13$1,[createBaseVNode("div",_hoisted_14$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Py.value,Jy=>(openBlock(),createElementBlock("div",{key:Jy.id,class:"legend-item"},[createBaseVNode("span",{class:"swatch",style:normalizeStyle$1({background:Jy.legendColor||"#aaa"})},null,4),createBaseVNode("span",_hoisted_15$1,toDisplayString(Jy.name),1)]))),128))])])]),_:1})])]),createBaseVNode("button",{class:"handle",onClick:Zy[4]||(Zy[4]=Jy=>unref(ua).toggleOpen("left"))},Zy[16]||(Zy[16]=[createBaseVNode("span",null,"≡",-1)]))],34),createBaseVNode("div",{class:normalizeClass(["drawer right",{open:unref(ua).drawer.rightOpen||unref(ua).drawer.rightPinned,pinned:unref(ua).drawer.rightPinned}]),onMouseenter:Zy[14]||(Zy[14]=Jy=>unref(ua).hover("right",!0)),onMouseleave:Zy[15]||(Zy[15]=Jy=>unref(ua).hover("right",!1))},[createBaseVNode("div",_hoisted_16$1,[createBaseVNode("header",_hoisted_17,[Zy[17]||(Zy[17]=createBaseVNode("div",{class:"title"},"筛选与属性",-1)),createBaseVNode("div",_hoisted_18,[createBaseVNode("button",{class:"pin",onClick:Zy[7]||(Zy[7]=Jy=>unref(ua).togglePin("right"))},toDisplayString(unref(ua).drawer.rightPinned?"取消固定":"固定"),1)])]),createBaseVNode("div",_hoisted_19,[createVNode$1(FluentCard,{strong:"",title:"筛选"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_20,[Zy[19]||(Zy[19]=createBaseVNode("label",null,"类型",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Zy[8]||(Zy[8]=Jy=>Ey.type=Jy)},[Zy[18]||(Zy[18]=createBaseVNode("option",{value:""},"全部",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(My.value,Jy=>(openBlock(),createElementBlock("option",{key:"t-"+Jy,value:Jy},toDisplayString(Jy),9,_hoisted_21))),128))],512),[[vModelSelect,Ey.type]])]),createBaseVNode("div",_hoisted_22,[Zy[21]||(Zy[21]=createBaseVNode("label",null,"状态",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Zy[9]||(Zy[9]=Jy=>Ey.status=Jy)},[Zy[20]||(Zy[20]=createBaseVNode("option",{value:""},"全部",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(Dy.value,Jy=>(openBlock(),createElementBlock("option",{key:"s-"+Jy,value:Jy},toDisplayString(Jy),9,_hoisted_23))),128))],512),[[vModelSelect,Ey.status]])]),createBaseVNode("div",_hoisted_24,[Zy[23]||(Zy[23]=createBaseVNode("label",null,"时间",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Zy[10]||(Zy[10]=Jy=>Ey.time=Jy)},[Zy[22]||(Zy[22]=createBaseVNode("option",{value:""},"全部",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(Iy.value,Jy=>(openBlock(),createElementBlock("option",{key:"tm-"+Jy,value:Jy},toDisplayString(Jy),9,_hoisted_25))),128))],512),[[vModelSelect,Ey.time]])]),createBaseVNode("div",_hoisted_26,[createBaseVNode("button",{class:"btn primary",onClick:Zy[11]||(Zy[11]=Jy=>Uy())},"应用"),createBaseVNode("button",{class:"btn",onClick:Zy[12]||(Zy[12]=Jy=>Yy())},"重置")])]),_:1}),createVNode$1(FluentCard,{strong:"",title:"属性",scrollable:""},{default:withCtx(()=>[Ny.value?(openBlock(),createElementBlock("div",_hoisted_27,[createBaseVNode("div",_hoisted_28,"来源："+toDisplayString(Ny.value.source),1),createBaseVNode("div",_hoisted_29,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ny.value.props,(Jy,t_)=>(openBlock(),createElementBlock("div",{key:t_,class:"kv"},[createBaseVNode("span",_hoisted_30,toDisplayString(t_),1),createBaseVNode("span",_hoisted_31,toDisplayString(Jy),1)]))),128))])])):(openBlock(),createElementBlock("div",_hoisted_32,"点击地图要素查看属性。"))]),_:1})])]),createBaseVNode("button",{class:"handle",onClick:Zy[13]||(Zy[13]=Jy=>unref(ua).toggleOpen("right"))},Zy[24]||(Zy[24]=[createBaseVNode("span",null,"≡",-1)]))],34)]))}}),GuScene=_export_sfc(_sfc_main$1,[["__scopeId","data-v-82f16c77"]]),router=createRouter({history:createWebHistory(),routes:[{path:"/route",name:"route",component:RoutePlan},{path:"/recommend",name:"recommend",component:Recommend},{path:"/weather",name:"weather",component:WeatherAnalysis},{path:"/weather-test",name:"weather-test",component:WeatherTest},{path:"/video-recognition",name:"video-recognition",component:VideoRecognition},{path:"/",name:"dashboard",component:Dashboard},{path:"/scene/gu",name:"gu-scene",component:GuScene}]});var No=Object.defineProperty,Ho=(ha,ua,Sa)=>ua in ha?No(ha,ua,{enumerable:!0,configurable:!0,writable:!0,value:Sa}):ha[ua]=Sa,Vt=(ha,ua,Sa)=>(Ho(ha,typeof ua!="symbol"?ua+"":ua,Sa),Sa);const J=ha=>(ha.install=ua=>{ua.component(ha.name,ha)},ha),jn=(ha,ua)=>(ha.install=Sa=>{if(Sa.component(ha.name,ha),Array.isArray(ua))for(const ba of ua)Sa.use(ba)},ha),K={theme:{type:String,default:"global"},disabled:{type:Boolean,default:!1},lang:{type:String,default:"global"}};function Ii(ha){return typeof ha=="number"}function Ut(ha){return typeof ha=="string"}function ci(ha){return typeof ha=="function"}function qn(ha){return typeof ha=="boolean"}function gn(ha){return Array.isArray(ha)}function Se(ha){return ha!==void 0}function Zo(ha){return ha!==null}class ea{constructor(){Vt(this,"_constructorFunctions"),this._constructorFunctions=[]}add(ua,Sa){return this._constructorFunctions.push({name:ua,value:Sa}),this}computed(){return{cls:computed(()=>{const ua={};for(let Sa of this._constructorFunctions){let ba;Ut(Sa.name)?ba=Sa.name:ci(Sa.name)&&(ba=Sa.name());let ka;qn(Sa.value)?ka=Sa.value:ci(Sa.value)?ka=Sa.value():Sa.value==null&&(ka=!0),ba!==void 0&&ka!==void 0&&(ua[ba]=ka)}return ua})}}}class ta{constructor(){Vt(this,"_constructorFunctions"),this._constructorFunctions=[]}add(ua,Sa,ba){return this._constructorFunctions.push({name:ua,value:Sa,condition:ba}),this}computed(){return{style:computed(()=>{const ua={};for(let Sa of this._constructorFunctions){if(Sa.condition!==void 0&&(qn(Sa.condition)&&Sa.condition===!1||ci(Sa.condition)&&Sa.condition()===!1))continue;let ba;Ut(Sa.name)?ba=Sa.name:ci(Sa.name)&&(ba=Sa.name());let ka;Ut(Sa.value)?ka=Sa.value:ci(Sa.value)&&(ka=Sa.value()),Ut(ba)&&Ut(ka)&&(ua[ba]=ka)}return ua})}}}/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ai;const vi=ha=>ai=ha,Qn=Symbol();function Mt(ha){return ha&&typeof ha=="object"&&Object.prototype.toString.call(ha)==="[object Object]"&&typeof ha.toJSON!="function"}var rt;(function(ha){ha.direct="direct",ha.patchObject="patch object",ha.patchFunction="patch function"})(rt||(rt={}));const fi=!1;function Ta(){const ha=effectScope(!0),ua=ha.run(()=>ref({}));let Sa=[],ba=[];const ka=markRaw({install(_y){vi(ka),ka._a=_y,_y.provide(Qn,ka),_y.config.globalProperties.$pinia=ka,ba.forEach(Ty=>Sa.push(Ty)),ba=[]},use(_y){return this._a?Sa.push(_y):ba.push(_y),this},_p:Sa,_a:null,_e:ha,_s:new Map,state:ua});return ka}const lr=()=>{};function bn(ha,ua,Sa,ba=lr){ha.push(ua);const ka=()=>{const _y=ha.indexOf(ua);_y>-1&&(ha.splice(_y,1),ba())};return!Sa&&getCurrentScope()&&onScopeDispose(ka),ka}function Wt(ha,...ua){ha.slice().forEach(Sa=>{Sa(...ua)})}const xa=ha=>ha();function Ds(ha,ua){ha instanceof Map&&ua instanceof Map&&ua.forEach((Sa,ba)=>ha.set(ba,Sa)),ha instanceof Set&&ua instanceof Set&&ua.forEach(ha.add,ha);for(const Sa in ua){if(!ua.hasOwnProperty(Sa))continue;const ba=ua[Sa],ka=ha[Sa];Mt(ka)&&Mt(ba)&&ha.hasOwnProperty(Sa)&&!isRef(ba)&&!isReactive(ba)?ha[Sa]=Ds(ka,ba):ha[Sa]=ba}return ha}const Ia=Symbol();function Ea(ha){return!Mt(ha)||!ha.hasOwnProperty(Ia)}const{assign:He}=Object;function wn(ha){return!!(isRef(ha)&&ha.effect)}function yn(ha,ua,Sa,ba){const{state:ka,actions:_y,getters:Ty}=ua,Ay=Sa.state.value[ha];let Ey;function My(){!Ay&&(Sa.state.value[ha]=ka?ka():{});const Dy=toRefs(Sa.state.value[ha]);return He(Dy,_y,Object.keys(Ty||{}).reduce((Iy,Ly)=>(Iy[Ly]=markRaw(computed(()=>{vi(Sa);const Py=Sa._s.get(ha);return Ty[Ly].call(Py,Py)})),Iy),{}))}return Ey=Ls(ha,My,ua,Sa,ba,!0),Ey}function Ls(ha,ua,Sa={},ba,ka,_y){let Ty;const Ay=He({actions:{}},Sa),Ey={deep:!0};let My,Dy,Iy=[],Ly=[],Py;const Ry=ba.state.value[ha];!_y&&!Ry&&(ba.state.value[ha]={}),ref({});let Vy;function Ny(Wy){let Uy;My=Dy=!1,typeof Wy=="function"?(Wy(ba.state.value[ha]),Uy={type:rt.patchFunction,storeId:ha,events:Py}):(Ds(ba.state.value[ha],Wy),Uy={type:rt.patchObject,payload:Wy,storeId:ha,events:Py});const Yy=Vy=Symbol();nextTick().then(()=>{Vy===Yy&&(My=!0)}),Dy=!0,Wt(Iy,Uy,ba.state.value[ha])}const By=_y?function(){const{state:Wy}=Sa,Uy=Wy?Wy():{};this.$patch(Yy=>{He(Yy,Uy)})}:lr;function Oy(){Ty.stop(),Iy=[],Ly=[],ba._s.delete(ha)}function Fy(Wy,Uy){return function(){vi(ba);const Yy=Array.from(arguments),jy=[],Ky=[];function Xy(t_){jy.push(t_)}function Zy(t_){Ky.push(t_)}Wt(Ly,{args:Yy,name:Wy,store:Hy,after:Xy,onError:Zy});let Jy;try{Jy=Uy.apply(this&&this.$id===ha?this:Hy,Yy)}catch(t_){throw Wt(Ky,t_),t_}return Jy instanceof Promise?Jy.then(t_=>(Wt(jy,t_),t_)).catch(t_=>(Wt(Ky,t_),Promise.reject(t_))):(Wt(jy,Jy),Jy)}}const zy={_p:ba,$id:ha,$onAction:bn.bind(null,Ly),$patch:Ny,$reset:By,$subscribe(Wy,Uy={}){const Yy=bn(Iy,Wy,Uy.detached,()=>jy()),jy=Ty.run(()=>watch(()=>ba.state.value[ha],Ky=>{(Uy.flush==="sync"?Dy:My)&&Wy({storeId:ha,type:rt.direct,events:Py},Ky)},He({},Ey,Uy)));return Yy},$dispose:Oy},Hy=reactive(zy);ba._s.set(ha,Hy);const Gy=(ba._a&&ba._a.runWithContext||xa)(()=>ba._e.run(()=>(Ty=effectScope()).run(ua)));for(const Wy in Gy){const Uy=Gy[Wy];if(isRef(Uy)&&!wn(Uy)||isReactive(Uy))_y||(Ry&&Ea(Uy)&&(isRef(Uy)?Uy.value=Ry[Wy]:Ds(Uy,Ry[Wy])),ba.state.value[ha][Wy]=Uy);else if(typeof Uy=="function"){const Yy=Fy(Wy,Uy);Gy[Wy]=Yy,Ay.actions[Wy]=Uy}}return He(Hy,Gy),He(toRaw(Hy),Gy),Object.defineProperty(Hy,"$state",{get:()=>ba.state.value[ha],set:Wy=>{Ny(Uy=>{He(Uy,Wy)})}}),ba._p.forEach(Wy=>{He(Hy,Ty.run(()=>Wy({store:Hy,app:ba._a,pinia:ba,options:Ay})))}),Ry&&_y&&Sa.hydrate&&Sa.hydrate(Hy.$state,Ry),My=!0,Dy=!0,Hy}function Zs(ha,ua,Sa){let ba,ka;const _y=typeof ua=="function";typeof ha=="string"?(ba=ha,ka=_y?Sa:ua):(ka=ha,ba=ha.id);function Ty(Ay,Ey){const My=hasInjectionContext();return Ay=Ay||(My?inject(Qn,null):null),Ay&&vi(Ay),Ay=ai,Ay._s.has(ba)||(_y?Ls(ba,ua,ka,Ay):yn(ba,ka,Ay)),Ay._s.get(ba)}return Ty.$id=ba,Ty}const dr=Zs("FvConfig",{state:()=>({theme:"light",variables:{}}),actions:{changeTheme(ha){ha?this.theme=ha:this.theme=this.theme==="light"?"dark":"light"}}});function Y(ha){const ua=dr();return{theme:computed(()=>ha.theme==="global"&&ha.theme!==void 0?ua.theme:ha.theme===void 0?"global":ha.theme)}}function Da(ha,ua){if(ua==null||ha===void 0||ha===null)return!0;if(ha===ua||gn(ua)&&ua.findIndex(Sa=>Sa==ha)!==-1)return!1;for(;ha!==null&&ha!==document.body;)if(ha=ha.parentElement,ha===ua||gn(ua)&&ua.findIndex(Sa=>Sa==ha)!==-1)return!1;return!0}function us(ha){const{display:ua,visibility:Sa,transition:ba,animation:ka}=ha.style;return ha.style.display="initial",ha.style.visibility="hidden",ha.style.transition="none",ha.style.animation="none",{display:ua,visibility:Sa,transition:ba,animation:ka}}function hs(ha,{display:ua,visibility:Sa,transition:ba,animation:ka}){ha.style.display=ua,ha.style.visibility=Sa,ha.style.transition=ba,ha.style.animation=ka}function Re(ha){if(ha===void 0)return new DOMRect(0,0,0,0);let{display:ua}=getComputedStyle(ha);if(ua!=="none"){let ka=ha.getBoundingClientRect();if(ka.height===0&&ka.width===0){const _y=[];let Ty=ha.parentElement;for(;Ty!==null&&Ty!==document.body;){if(ua=getComputedStyle(Ty).display,ua==="none"){const Ay=us(Ty);_y.push({el:Ty,style:Ay})}Ty=Ty.parentElement}ka=ha.getBoundingClientRect();for(const Ay of _y)hs(Ay.el,Ay.style)}return ka}const Sa=us(ha);let ba=ha.getBoundingClientRect();if(ba.height===0&&ba.width===0){const ka=[];let _y=ha.parentElement;for(;_y!==null&&_y!==document.body;){if(ua=getComputedStyle(_y).display,ua==="none"){const Ty=us(_y);ka.push({el:_y,style:Ty})}_y=_y.parentElement}ba=ha.getBoundingClientRect();for(const Ty of ka)hs(Ty.el,Ty.style)}return hs(ha,Sa),ba}function Me(ha,ua,Sa){return Math.max(ua,Math.min(ha,Sa))}const kn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};class Xt{constructor(ua){Vt(this,"channels",{rgb:[0,0,0],hsv:[0,0,0]}),Vt(this,"valpha",1),Ut(ua)&&this.parse(ua)}static new(ua){return new Xt(ua)}clone(){const ua=new Xt;for(let Sa in this.channels)ua.channels[Sa]=[...this.channels[Sa]];return ua.valpha=this.valpha,ua}parse(ua){ua=ua.trim();let Sa=!0;if(/^#[0-9a-fA-F]{6}$/.test(ua)){let[ba,ka,_y]=[parseInt(ua.substring(1,3),16),parseInt(ua.substring(3,5),16),parseInt(ua.substring(5,7),16)];this.channels.rgb=[ba,ka,_y],this.valpha=1}else if(/^#[0-9a-fA-F]{8}$/.test(ua)){let[ba,ka,_y]=[parseInt(ua.substring(1,3),16),parseInt(ua.substring(3,5),16),parseInt(ua.substring(5,7),16)];this.channels.rgb=[ba,ka,_y],this.valpha=parseInt(ua.substring(7,9),16)/255}else if(ua.startsWith("rgb(")){ua=ua.substring(4,ua.length-1);const ba=ua.split(",");ba.length===3?this.channels.rgb=ba.map(ka=>parseInt(ka)):Sa=!1}else if(ua.startsWith("rgba(")){ua=ua.substring(5,ua.length-1);const ba=ua.split(",");if(ba.length===4){let[ka,_y,Ty,Ay]=ba.map(Ey=>parseFloat(Ey));this.channels.rgb=[ka,_y,Ty],this.valpha=Ay}else Sa=!1}else if(ua.toLowerCase()in kn)return ua=kn[ua.toLowerCase()],this.parse(ua);return Sa===!1&&console.error(`color ${ua} parse error`),this.updateRGB2HSV(),this}updateRGB2HSV(){let[ua,Sa,ba]=this.channels.rgb;ua/=255,Sa/=255,ba/=255;let ka=Math.max(ua,Sa,ba),_y=Math.min(ua,Sa,ba),[Ty,Ay,Ey]=this.channels.hsv;return ka===_y?Ty=0:_y===ba?Ty=60*(Sa-ua)/(ka-_y)+60:_y===ua?Ty=60*(ba-Sa)/(ka-_y)+180:Ty=60*(ua-ba)/(ka-_y)+300,ka==0?Ay=0:Ay=(ka-_y)/ka*100,Ey=ka*100,Ty=Me(Ty,0,359),Ay=Me(Ay,0,100),Ey=Me(Ey,0,100),this.channels.hsv=[Ty,Ay,Ey],this}updateHSV2RGB(){let[ua,Sa,ba]=this.channels.hsv;Sa/=100,ba/=100;let ka=Sa,_y=ua/60,Ty=ka*(1-Math.abs(_y%2-1)),[Ay,Ey,My]=[ba-ka,ba-ka,ba-ka],Dy=[[ka,Ty,0],[Ty,ka,0],[0,ka,Ty],[0,Ty,ka],[Ty,0,ka],[ka,0,Ty]],[Iy,Ly,Py]=Dy[Math.floor(_y)];return Ay+=Iy,Ey+=Ly,My+=Py,Ay=Me(Ay,0,1),Ey=Me(Ey,0,1),My=Me(My,0,1),Ay*=255,Ey*=255,My*=255,Ay=Math.round(Ay),My=Math.round(My),Ey=Math.round(Ey),this.channels.rgb=[Ay,Ey,My],this}red(ua){return ua!==void 0?(this.channels.rgb[0]=Math.round(Me(ua,0,255)),this.updateRGB2HSV()):this.channels.rgb[0]}green(ua){return ua!==void 0?(this.channels.rgb[1]=Math.round(Me(ua,0,255)),this.updateRGB2HSV()):this.channels.rgb[1]}blue(ua){return ua!==void 0?(this.channels.rgb[2]=Math.round(Me(ua,0,255)),this.updateRGB2HSV()):this.channels.rgb[2]}hue(ua){return ua!==void 0?(this.channels.hsv[0]=Me(ua,0,359),this.updateHSV2RGB()):this.channels.hsv[0]}saturation(ua){return ua!==void 0?(this.channels.hsv[1]=Me(ua,0,100),this.updateHSV2RGB()):this.channels.hsv[1]}value(ua){return ua!==void 0?(this.channels.hsv[2]=Me(ua,0,100),this.updateHSV2RGB()):this.channels.hsv[2]}alpha(ua){return ua!==void 0?(this.valpha=Me(ua,0,1),this):this.valpha}hex(){let[ua,Sa,ba]=this.channels.rgb;return`#${ua.toString(16).padStart(2,"0")}${Sa.toString(16).padStart(2,"0")}${ba.toString(16).padStart(2,"0")}`.toUpperCase()}hexa(){return`${this.hex()}${Math.round(this.valpha*255).toString(16).padStart(2,"0")}`.toUpperCase()}cssrgb(){let[ua,Sa,ba]=this.channels.rgb;return`rgb(${ua}, ${Sa}, ${ba})`}cssrgba(){let[ua,Sa,ba]=this.channels.rgb;return`rgba(${ua}, ${Sa}, ${ba}, ${this.alpha()})`}isDark(){const[ua,Sa,ba]=this.channels.rgb;return .2126*ua+.7152*Sa+.0722*ba<128}isLight(){const[ua,Sa,ba]=this.channels.rgb;return .2126*ua+.7152*Sa+.0722*ba>=128}}function cs(ha,ua){let Sa=!1;return function ba(...ka){Sa||(Sa=!0,window!==void 0&&ua===void 0?window.requestAnimationFrame(()=>{ha.apply(ba,ka),Sa=!1}):setTimeout(()=>{ha.apply(ba,ka),Sa=!1},1/60))}}function pt(){let ha=!1;return function(ua){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(ua.substr(0,4)))&&(ha=!0)}(navigator.userAgent||navigator.vendor||window.opera),ha}class fs{constructor(ua){Vt(this,"eventFunc"),this.eventFunc=Sa=>{Sa==null||Sa.preventDefault(),ua(Sa)}}listen(){if(window!==void 0){const ua=this.destory();return pt()?(window.addEventListener("touchmove",this.eventFunc,{passive:!1}),window.addEventListener("touchend",ua)):(window.addEventListener("mousemove",this.eventFunc),window.addEventListener("mouseup",ua),window.addEventListener("mouseleave",ua)),{destory:ua}}return{destory:()=>{}}}destory(){const ua=this.eventFunc;return function Sa(){window!==void 0&&(pt()?(window.removeEventListener("touchmove",ua),window.removeEventListener("touchend",Sa)):(window.removeEventListener("mousemove",ua),window.removeEventListener("mouseup",Sa),window.removeEventListener("mouseleave",Sa)))}}}function La(ha){return defineComponent({setup(ua,Sa){const ba=ref(null);if(ha.default&&ha.default().length>0){const[ka]=ha.default();return Sa.expose({slotRef:ba}),()=>h$1(ka,{ref:ba})}else return()=>h$1("div",{ref:ba})}})}const Pa={name:"FvAffix",data(){return{parent:{left:0,top:0,right:0,bottom:0,width:0,height:0},current:{left:0,top:0,right:0,bottom:0,width:0,height:0},wrapper:{left:0,top:0,right:0,bottom:0,width:0,height:0},timer:null}},watch:{isFixed(){this.$emit("change",this.isFixed)}},computed:{leftValue(){return isNaN(parseFloat(this.left))?0:this.left.toString().indexOf("%")>-1?this.parent.width*parseFloat(this.left)/100:parseFloat(this.left)},topValue(){return isNaN(parseFloat(this.top))?0:this.top.toString().indexOf("%")>-1?this.parent.height*parseFloat(this.top)/100:parseFloat(this.top)},rightValue(){return isNaN(parseFloat(this.right))?0:this.right.toString().indexOf("%")>-1?this.parent.width*parseFloat(this.right)/100:parseFloat(this.right)},bottomValue(){return isNaN(parseFloat(this.bottom))?0:this.bottom.toString().indexOf("%")>-1?this.parent.height*parseFloat(this.bottom)/100:parseFloat(this.bottom)},computedLeft(){return isNaN(parseFloat(this.left))?"":this.parent.left+this.leftValue+"px"},computedTop(){return isNaN(parseFloat(this.top))?"":this.parent.top+this.topValue+"px"},computedRight(){return isNaN(parseFloat(this.right))?"":window.innerWidth-this.parent.right+this.rightValue+"px"},computedBottom(){return isNaN(parseFloat(this.bottom))?"":window.innerHeight-this.parent.bottom+this.bottomValue+"px"},computedWidth(){return this.current.width.toString().indexOf("%")>-1?this.parent.width*parseFloat(this.current.width)/100+"px":parseFloat(this.current.width)+"px"},computedHeight(){return this.current.height.toString().indexOf("%")>-1?this.parent.height*parseFloat(this.current.height)/100+"px":parseFloat(this.current.height)+"px"},isFixed(){return this.mode==="fixed"?!0:this.mode==="relative"?!1:!!(this.affixPos.includes("top")&&this.wrapper.top<this.parent.top+this.topValue||this.affixPos.includes("bottom")&&this.wrapper.bottom>this.parent.bottom+this.bottomValue||this.affixPos.includes("left")&&this.wrapper.left<this.parent.left+this.leftValue||this.affixPos.includes("right")&&this.wrapper.right>this.parent.right+this.rightValue)},$theme(){return Y(this.$props).theme.value}},mounted(){this.wrapperPosInit()},methods:{getParentPos(){if(!this.valueTrigger(this.target))return;const{left:ha,top:ua,right:Sa,bottom:ba,width:ka,height:_y}=this.valueTrigger(this.target).getBoundingClientRect();this.parent.left=ha,this.parent.top=ua,this.parent.right=Sa,this.parent.bottom=ba,this.parent.width=ka,this.parent.height=_y},getCurrentPos(){if(!this.$refs.container)return;const{left:ha,top:ua,right:Sa,bottom:ba,width:ka,height:_y}=this.$refs.container.getBoundingClientRect();this.current.left=ha,this.current.top=ua,this.current.right=Sa,this.current.bottom=ba,this.current.width=ka,this.current.height=_y},getWrapperPos(){if(!this.$el)return;const{left:ha,top:ua,right:Sa,bottom:ba}=this.$el.getBoundingClientRect(),ka=Sa-ha,_y=ba-ua;this.wrapper.left=ha,this.wrapper.top=ua,this.wrapper.right=Sa,this.wrapper.bottom=ba,this.wrapper.width=ka,this.wrapper.height=_y},wrapperPosInit(){this.timer=setInterval(()=>{window.requestAnimationFrame(()=>{this.getParentPos(),this.getCurrentPos(),this.getWrapperPos()})},10)},valueTrigger(ha){return typeof ha=="function"?ha():ha}},beforeUnmount(){clearInterval(this.timer)}},Fa=Object.assign(Pa,{props:{...K,left:{default:""},top:{default:""},right:{default:""},bottom:{default:""},target:{default:null},mode:{default:"fixed"},affixPos:{default:()=>["top"]},zIndex:{default:""}},emits:["change"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Affix",Sa.$theme]),style:normalizeStyle$1({position:ha.mode==="fixed"?"absolute":"",width:Sa.isFixed?Sa.computedWidth:"auto",height:Sa.isFixed?Sa.computedHeight:"auto"})},[createBaseVNode("div",{class:"fv-affix-container",ref:"container",style:normalizeStyle$1({position:Sa.isFixed?"fixed":"relative",left:Sa.isFixed?Sa.computedLeft:"",top:Sa.isFixed?Sa.computedTop:"",right:Sa.isFixed?Sa.computedRight:"",bottom:Sa.isFixed?Sa.computedBottom:"","z-index":ha.zIndex})},[renderSlot(Sa.$slots,"default",{},()=>[createTextVNode(" Affix TEMPLATE ")])],4)],6))}}),Ma=J(Fa),Ra={class:"fv-animated-content-block"},Ba={name:"FvAnimatedIcon",data(){return{thisValue:this.modelValue,animations:{scaleDown:{down:{transform:"scale(0.8)",transition:"transform 0.2s"},up:[{transform:"scale(1.1)",transition:"transform 0.2s"},{transform:"scale(1)",transition:"transform 0.05s ease-out"}],leave:[{transform:"scale(1)",transition:"transform 0.05s ease-out"}]},scaleXDown:{down:{transform:"scaleX(0.6)",transition:"transform 0.2s"},up:[{transform:"scaleX(1.1)",transition:"transform 0.2s"},{transform:"scaleX(1)",transition:"transform 0.05s ease-out"}],leave:[{transform:"scaleX(1)",transition:"transform 0.05s ease-out"}]},scaleYDown:{down:{transform:"scaleY(0.6)",transition:"transform 0.2s"},up:[{transform:"scaleY(1.1)",transition:"transform 0.2s"},{transform:"scaleY(1)",transition:"transform 0.05s ease-out"}],leave:[{transform:"scaleY(1)",transition:"transform 0.05s ease-out"}]},backScale:{down:{transform:"scale(0.8)","transform-origin":"100% 50%",transition:"transform 0.2s"},up:[{transform:"scale(1.1)","transform-origin":"100% 50%",transition:"transform 0.2s"},{transform:"scale(1)","transform-origin":"100% 50%",transition:"transform 0.05s ease-out"}],leave:[{transform:"scale(1)","transform-origin":"100% 50%",transition:"transform 0.05s ease-out"}]},bounceRotate:{down:{transform:"rotate(-15deg)",transition:"transform 0.1s"},up:[{transform:"rotate(360deg)",transition:"transform 0.3s"},{transform:"rotate(0deg)"}],leave:[{transform:"rotate(360deg)",transition:"transform 0.3s"},{transform:"rotate(0deg)"}]}},animatedStyle:{},animationsQueue:[]}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.animationInit()},methods:{animationInit(){this.$el.addEventListener("transitionend",ha=>{this.popAnimation()})},enter(){let ha=this.getAnimation("enter");if(!ha)return!1;ha.length||(ha=[ha]),this.animationsQueue=[],this.animationsQueue=this.animationsQueue.concat(ha),this.popAnimation()},move(){let ha=this.getAnimation("move");if(!ha)return!1;ha.length||(ha=[ha]),this.animationsQueue=[],this.animationsQueue=this.animationsQueue.concat(ha),this.popAnimation()},down(ha){ha.preventDefault();let ua=this.getAnimation("down");if(!ua)return!1;ua.length||(ua=[ua]),this.animationsQueue=[],this.animationsQueue=this.animationsQueue.concat(ua),this.popAnimation()},up(ha){ha.preventDefault(),this.onClick(ha);let ua=this.getAnimation("up");if(!ua)return!1;ua.length||(ua=[ua]),this.animationsQueue=[],this.animationsQueue=this.animationsQueue.concat(ua),this.popAnimation()},leave(){let ha=this.getAnimation("leave");if(!ha)return!1;ha.length||(ha=[ha]),this.animationsQueue=[],this.animationsQueue=this.animationsQueue.concat(ha),this.popAnimation()},getAnimation(ha){if(this.customizeAnimation)return this.customizeAnimation[ha]?this.customizeAnimation[ha]:!1;if(!this.animations[this.thisValue])return!1;let ua=this.animations[this.thisValue];return ua[ha]?ua[ha]:!1},popAnimation(){if(this.animationsQueue.length==0)return 0;let ha=this.animationsQueue[0];this.animatedStyle=ha,this.animationsQueue.splice(0,1)},onClick(ha){this.$emit("click",ha)}}},_a=Object.assign(Ba,{props:{...K,modelValue:{default:"scaleDown"},icon:{default:"Search"},customizeAnimation:{default:!1},background:{default:""},fontSize:{default:16},hideContent:{default:!1}},emits:["update:modelValue","click"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-AnimatedIcon",[Sa.$theme]]),style:normalizeStyle$1([{width:`${ha.fontSize*1+3}px`,background:ha.background,fontSize:`${ha.fontSize}px`}]),onMousedown:ba[0]||(ba[0]=(...ka)=>Sa.down&&Sa.down(...ka)),onMouseup:ba[1]||(ba[1]=(...ka)=>Sa.up&&Sa.up(...ka)),onTouchstart:ba[2]||(ba[2]=(...ka)=>Sa.down&&Sa.down(...ka)),onTouchend:ba[3]||(ba[3]=(...ka)=>Sa.up&&Sa.up(...ka)),onMouseenter:ba[4]||(ba[4]=(...ka)=>Sa.enter&&Sa.enter(...ka)),onMousemove:ba[5]||(ba[5]=(...ka)=>Sa.move&&Sa.move(...ka)),onTouchmove:ba[6]||(ba[6]=(...ka)=>Sa.move&&Sa.move(...ka)),onMouseleave:ba[7]||(ba[7]=(...ka)=>Sa.leave&&Sa.leave(...ka))},[createBaseVNode("div",{draggable:"false",class:normalizeClass(["fv-animated-icon-container",[{hideContent:ha.hideContent}]]),style:normalizeStyle$1([Sa.animatedStyle])},[renderSlot(Sa.$slots,"default",{},()=>[createBaseVNode("i",{ref:"a",class:normalizeClass(["ms-Icon",[`ms-Icon--${ha.icon}`]])},null,2)])],6),withDirectives(createBaseVNode("div",Ra,[renderSlot(Sa.$slots,"content")],512),[[vShow,!ha.hideContent]])],38))}}),Oa=J(_a),za=createBaseVNode("p",null,"Badge",-1),Aa={class:"badge-content"},Wa={name:"FvBadge",data(){return{thisValue:this.modelValue,colorList:{default:"#f56c6c",primary:"#409eff",success:"rgba(0, 204, 153, 1)",warning:"#e6a23c",danger:"#f56c6c",info:"#909399"}}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)}},computed:{finalValue(){return this.thisValue*1>this.max*1?`${this.max}+`:this.thisValue},finalColor(){return this.colorList[this.type]?this.colorList[this.type]:this.type},$theme(){return Y(this.$props).theme.value}}},Na=Object.assign(Wa,{props:{...K,modelValue:{default:""},max:{default:1/0},isDot:{default:!1},hidden:{default:!1},type:{default:"default"}},emits:["update:modelValue"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Badge",[Sa.$theme]])},[renderSlot(Sa.$slots,"default",{},()=>[za]),withDirectives(createBaseVNode("sup",{class:normalizeClass(["fv-badge-container",{dot:ha.isDot}]),style:normalizeStyle$1({background:Sa.finalColor})},[createBaseVNode("p",Aa,toDisplayString(Sa.finalValue),1)],6),[[vShow,!ha.hidden]])],2))}}),Ha=J(Na),Ga=["onClick"],Ua={class:"fv-bc-separator-content"},Ya={name:"FvBreadcrumb",data(){return{mode:"default",thisValue:this.modelValue,tempValue:""}},watch:{modelValue(ha){this.thisValue=ha},mode(ha){if(ha=="editor"){let ua=this.thisValue;ua[0]==this.separatorChar&&(ua=ua.slice(1,ua.length)),this.tempValue=ua}else{let ua=this.tempValue;ua[0]==this.separatorChar&&(ua=ua.slice(1,ua.length)),this.thisValue[0]==this.separatorChar?this.thisValue=`${this.separatorChar}${ua}`:this.thisValue=ua}},thisValue(ha){this.$emit("update:modelValue",ha)}},computed:{separatorIcon(){return this.separator.length>1},routeList(){let ha=this.thisValue;return ha[0]==this.separatorChar&&(ha=ha.slice(1,ha.length)),ha==""?[]:ha.split(this.separatorChar)},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},$theme(){return Y(this.$props).theme.value}},mounted(){this.outSideClickInit()},methods:{outSideClickInit(){window.addEventListener("click",this.outSideClickEvent)},outSideClickEvent(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||(this.mode="default")},editorMode(ha){if(this.isDisabled||this.readOnly||ha.target!==this.$refs.main)return 0;ha.preventDefault(),ha.stopPropagation(),this.mode="editor",setTimeout(()=>{this.$refs.editor.focus(),this.$refs.editor.select()},300)},handleEnter(ha){ha.keyCode===13&&(this.mode="default")},routeClick(){if(this.isDisabled)return 0;this.$emit("root-click",{path:this.thisValue,pathList:this.routeList})},routeItemClick(ha,ua){if(this.isDisabled)return 0;let Sa="",ba=[];for(let ka=0;ka<=ua;ka++)ba.push(this.routeList[ka]);ba.forEach(ka=>{Sa==""?Sa=ka:Sa+=`${this.separatorChar}${ka}`}),this.$emit("item-click",{path:Sa,fullPath:`${this.separatorChar}${Sa}`,pathList:ba,current:ha})}},beforeUnmount(){window.removeEventListener("click",this.outSideClickEvent)}},ja=Object.assign(Ya,{props:{...K,modelValue:{default:""},separator:{type:String,default:"/"},separatorChar:{type:String,default:"/"},showRoot:{default:!0},rootIcon:{default:"FolderHorizontal"},readOnly:{default:!0},borderColor:{default:""},disabled:{default:!1},borderRadius:{default:"2"}},emits:["update:modelValue","root-click","item-click"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Breadcrumb",[Sa.$theme,{readOnly:ha.readOnly,"editor-mode":Sa.mode==="editor",disabled:Sa.isDisabled}]]),style:normalizeStyle$1({"border-radius":`${ha.borderRadius}px`,"border-color":Sa.mode==="editor"?ha.borderColor:"","outline-color":Sa.mode==="editor"?ha.borderColor:""})},[createBaseVNode("div",{class:"fv-bc-route-list",ref:"main",onClick:ba[3]||(ba[3]=(...ka)=>Sa.editorMode&&Sa.editorMode(...ka))},[withDirectives(createBaseVNode("div",{class:"fv-bc-route-item",onClick:ba[0]||(ba[0]=(...ka)=>Sa.routeClick&&Sa.routeClick(...ka))},[renderSlot(Sa.$slots,"root",{rootIcon:ha.rootIcon,separator:ha.separator,separatorIcon:Sa.separatorIcon},()=>[createBaseVNode("i",{class:normalizeClass(["fv-bc-separator-content ms-Icon",[`ms-Icon--${ha.rootIcon}`]])},null,2),createBaseVNode("i",{class:normalizeClass(["fv-bc-separator-icon ms-Icon",[Sa.separatorIcon?`ms-Icon--${ha.separator}`:""]])},toDisplayString(Sa.separatorIcon?"":ha.separator),3)])],512),[[vShow,ha.showRoot]]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.routeList,(ka,_y)=>withDirectives((openBlock(),createElementBlock("div",{key:_y,class:"fv-bc-route-item",onClick:Ty=>Sa.routeItemClick(ka,_y)},[renderSlot(Sa.$slots,"route-item",{item:ka,index:_y},()=>[createBaseVNode("p",Ua,toDisplayString(ka),1),createBaseVNode("i",{class:normalizeClass(["fv-bc-separator-icon ms-Icon",[Sa.separatorIcon?`ms-Icon--${ha.separator}`:""]])},toDisplayString(Sa.separatorIcon?"":ha.separator),3)])],8,Ga)),[[vShow,Sa.mode=="default"]])),128)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":ba[1]||(ba[1]=ka=>Sa.tempValue=ka),class:"fv-bc-route-text-box",type:"text",ref:"editor",onKeyup:ba[2]||(ba[2]=(...ka)=>Sa.handleEnter&&Sa.handleEnter(...ka))},null,544),[[vShow,Sa.mode=="editor"],[vModelText,Sa.tempValue]])],512)],6))}}),qa=J(ja),Xa=["disabled"],Ka={name:"FvButton",data(){return{}},watch:{},computed:{$theme(){return Y(this.$props).theme.value},borderLightColor(){if(this.revealBorderColor)return this.revealBorderColor;if(this.$theme=="light")return"rgba(121, 119, 117, 0.6)";if(this.$theme=="dark"||this.$theme=="custom")return"rgba(255, 255, 255, 0.6)"},backgroundLightColor(){if(this.revealBackgroundColor)return this.revealBackgroundColor;if(this.$theme=="light")return"rgba(121, 119, 117, 0.1)";if(this.$theme=="dark"||this.$theme=="custom")return"rgba(255, 255, 255, 0.1)"},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""}},mounted(){},methods:{onClick(ha){if(ha.preventDefault(),this.isDisabled)return 0;this.$emit("click",ha)}},beforeUnmount(){}},Ja=Object.assign(Ka,{props:{...K,icon:{default:"",type:String},foreground:{default:"",type:String},background:{default:"",type:String},borderRadius:{default:3},borderColor:{default:""},fontSize:{default:13.3},fontWeight:{default:"normal",type:String},revealBorderColor:{default:!1},revealBackgroundColor:{default:!1},isBoxShadow:{default:!1},disabled:{default:!1},borderWidth:{default:1}},emits:["click"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-reveal-container");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Button",[Sa.$theme]]),onClick:ba[0]||(ba[0]=(..._y)=>Sa.onClick&&Sa.onClick(..._y))},[createBaseVNode("div",{class:normalizeClass(["fv-button-main-container",[{disabled:Sa.isDisabled},{shadow:ha.isBoxShadow}]]),style:normalizeStyle$1({borderRadius:`${ha.borderRadius}px`})},[createVNode$1(ka,{parent:()=>Sa.$el,class:"fv-button-reveal-container",backgroundColor:Sa.backgroundLightColor,borderColor:Sa.borderLightColor,borderGradientSize:80,borderWidth:ha.borderWidth,borderRadius:ha.borderRadius,disabled:Sa.isDisabled},null,8,["parent","backgroundColor","borderColor","borderWidth","borderRadius","disabled"]),createBaseVNode("div",{disabled:ha.disabled,class:"fv-button-container",style:normalizeStyle$1({background:ha.background,"background-repeat":"no-repeat","background-clip":"content-box",borderColor:ha.borderColor,borderWidth:`${ha.borderWidth}px`,borderRadius:`${ha.borderRadius}px`})},[createBaseVNode("span",{class:"fv-btn-content-block",style:normalizeStyle$1({color:ha.foreground,"font-size":`${ha.fontSize}px`,"font-weight":ha.fontWeight})},[createBaseVNode("i",{class:normalizeClass(["ms-Icon",`ms-Icon--${ha.icon}`]),style:normalizeStyle$1({"margin-right":ha.icon!=""?"5px":""})},null,6),renderSlot(Sa.$slots,"default",{},()=>[createTextVNode("Button")])],4)],12,Xa)],6)],2)}}}),Qa=J(Ja),ae=(ha,ua)=>{const Sa=ha.__vccOpts||ha;for(const[ba,ka]of ua)Sa[ba]=ka;return Sa},Za={emits:["update:modelValue"],props:{modelValue:{default:()=>[]},borderWidth:{default:2},placeholder:{default:"Pick a day"},borderRadius:{default:"3"},inputForeground:{default:""},inputBackground:{default:""},dropDownIcon:{default:"CalendarDay"},dropDownIconForeground:{default:""},disabled:{default:!1},theme:{default:"global"}},data(){return{choosenValue:this.modelValue}},watch:{modelValue(ha){this.choosenValue=ha},choosenValue(ha){this.$emit("update:modelValue",ha)}},computed:{$theme(){return Y(this.$props).theme.value},inputValue(){let ha="";for(let ua=0;ua<this.choosenValue.length;ua++)ua>0&&(ha+=","),ha+=`${this.choosenValue[ua].year}-${this.choosenValue[ua].month+1}-${this.choosenValue[ua].no}`;return ha},borderLightColor(){return this.$theme=="light"?"rgba(121, 119, 117, 0.6)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.6)":"rgba(121, 119, 117, 0.6)"},backgroundLightColor(){return this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"}},mounted(){},methods:{}},el=["title"],tl=["placeholder","value"];function il(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-reveal-container");return openBlock(),createElementBlock("div",{class:"calendar-picker-drop-down",style:normalizeStyle$1({borderRadius:`${Sa.borderRadius}px`}),title:_y.inputValue},[createVNode$1(Ty,{parent:()=>ha.$el,class:"fv-calendar-date-picker-reveal-container",backgroundColor:_y.backgroundLightColor,borderColor:_y.borderLightColor,backgroundGradientSize:120,borderGradientSize:80,borderWidth:Sa.borderWidth,borderRadius:Sa.borderRadius,disabled:Sa.disabled},null,8,["parent","backgroundColor","borderColor","borderWidth","borderRadius","disabled"]),createBaseVNode("div",{class:"calendar-picker-drop-down-container",style:normalizeStyle$1({borderRadius:`${Sa.borderRadius}px`})},[renderSlot(ha.$slots,"input",{placeholder:Sa.placeholder,value:_y.inputValue},()=>[createBaseVNode("input",{class:"input",placeholder:Sa.placeholder,readonly:"",value:_y.inputValue,style:normalizeStyle$1({color:Sa.inputForeground,background:Sa.inputBackground,borderRadius:`${Sa.borderRadius}px`})},null,12,tl),createBaseVNode("i",{class:normalizeClass(["right-icon ms-Icon",[`ms-Icon--${Sa.dropDownIcon}`]]),"aria-hidden":"true",style:normalizeStyle$1({color:Sa.dropDownIconForeground})},null,6)])],4)],12,el)}const ur=ae(Za,[["render",il]]),sl={key:0,class:"calendar-container"},nl={name:"FvCalendarDatePicker",components:{pickerInput:ur},data(){return{thisValue:this.$SDate.Parse(this.$SDate.DateToString(this.modelValue)),dates:[],show:{calendar:!1}}},watch:{value(ha,ua){this.$SDate.IsSameDate(ha,ua)||(this.thisValue=this.$SDate.Parse(this.$SDate.DateToString(ha)),this.multiple=="single"&&(this.dates=[{year:ha.getFullYear(),month:ha.getMonth(),no:ha.getDate()}]))},thisValue(ha,ua){this.$emit("update:modelValue",this.$SDate.Parse(this.$SDate.DateToString(this.thisValue)))}},computed:{isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},$theme(){return Y(this.$props).theme.value}},mounted(){this.outSideClickInit()},methods:{outSideClickInit(){window.addEventListener("click",this.outSideClickEvent),window.addEventListener("touchend",this.outSideClickEvent)},outSideClickEvent(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||(this.show.calendar=!1)},chooseDates(ha){this.dates=ha,this.$emit("choosen-dates",ha),this.multiple=="single"&&(this.show.calendar=!1)}},beforeUnmount(){window.removeEventListener("click",this.outSideClickEvent),window.removeEventListener("touchend",this.outSideClickEvent)}},rl=Object.assign(nl,{props:{...K,modelValue:{default:()=>new Date},start:{default:1900},end:{default:3e3},lan:{default:"en"},borderWidth:{default:2},placeholder:{default:"Pick a day"},borderRadius:{default:"3"},inputForeground:{default:""},inputBackground:{default:""},dropDownIcon:{default:"CalendarDay"},dropDownIconForeground:{default:""},multiple:{default:"single"},choosenDates:{default:()=>[]},foreground:{default:""},disabled:{default:!1}},emits:["update:modelValue","choosen-dates","choosen-dates-obj"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-calendar-view");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-CalendarDatePicker",[Sa.$theme,{disabled:Sa.isDisabled}]])},[createVNode$1(ur,{modelValue:Sa.dates,"onUpdate:modelValue":ba[0]||(ba[0]=_y=>Sa.dates=_y),placeholder:ha.placeholder,theme:Sa.$theme,disabled:Sa.isDisabled,borderWidth:ha.borderWidth,borderRadius:ha.borderRadius,inputForeground:ha.inputForeground,inputBackground:ha.inputBackground,dropDownIcon:ha.dropDownIcon,dropDownIconForeground:ha.dropDownIconForeground,onClick:ba[1]||(ba[1]=_y=>Sa.show.calendar=Sa.isDisabled?!1:!Sa.show.calendar)},null,8,["modelValue","placeholder","theme","disabled","borderWidth","borderRadius","inputForeground","inputBackground","dropDownIcon","dropDownIconForeground"]),createVNode$1(Transition,{name:"fv-calendar-container"},{default:withCtx(()=>[Sa.show.calendar?(openBlock(),createElementBlock("div",sl,[createVNode$1(ka,{modelValue:Sa.thisValue,"onUpdate:modelValue":ba[2]||(ba[2]=_y=>Sa.thisValue=_y),multiple:ha.multiple,start:ha.start,end:ha.end,lan:ha.lan,"choosen-dates":Sa.dates,foreground:ha.foreground,theme:Sa.theme,onChoosenDates:Sa.chooseDates,onChoosenDatesObj:ba[3]||(ba[3]=_y=>Sa.$emit("choosen-dates-obj",_y))},{statement:withCtx(_y=>[renderSlot(Sa.$slots,"statement",{value:_y.value,dayRange:_y.dayRange},()=>[createTextVNode(toDisplayString(_y.value),1)])]),weekday_content:withCtx(_y=>[renderSlot(Sa.$slots,"weekday_content",{value:_y.value},()=>[createTextVNode(toDisplayString(_y.value),1)])]),_:3},8,["modelValue","multiple","start","end","lan","choosen-dates","foreground","theme","onChoosenDates"])])):createCommentVNode("",!0)]),_:3})],2)}}}),ol=J(rl);var Ps=[],Fs=function(ha){return typeof ha>"u"},ms=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,Di=/\s*(\.\d+|100|\d?\d(?:\.\d+)?)%\s*/,al=/\s*(\.\d+|\d+(?:\.\d+)?)\s*/,ll=new RegExp("^(rgb|hsl|hsv)a?\\("+ms.source+","+ms.source+","+ms.source+"(?:,"+al.source+")?\\)$","i");function oe(ha){if(Array.isArray(ha)){if(typeof ha[0]=="string"&&typeof oe[ha[0]]=="function")return new oe[ha[0]](ha.slice(1,ha.length));if(ha.length===4)return new oe.RGB(ha[0]/255,ha[1]/255,ha[2]/255,ha[3]/255)}else if(typeof ha=="string"){var ua=ha.toLowerCase();oe.namedColors[ua]&&(ha="#"+oe.namedColors[ua]),ua==="transparent"&&(ha="rgba(0,0,0,0)");var Sa=ha.match(ll);if(Sa){var ba=Sa[1].toUpperCase(),ka=Fs(Sa[8])?Sa[8]:parseFloat(Sa[8]),_y=ba[0]==="H",Ty=Sa[3]?100:_y?360:255,Ay=Sa[5]||_y?100:255,Ey=Sa[7]||_y?100:255;if(Fs(oe[ba]))throw new Error("color."+ba+" is not installed.");return new oe[ba](parseFloat(Sa[2])/Ty,parseFloat(Sa[4])/Ay,parseFloat(Sa[6])/Ey,ka)}ha.length<6&&(ha=ha.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var My=ha.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(My)return new oe.RGB(parseInt(My[1],16)/255,parseInt(My[2],16)/255,parseInt(My[3],16)/255);if(oe.CMYK){var Dy=ha.match(new RegExp("^cmyk\\("+Di.source+","+Di.source+","+Di.source+","+Di.source+"\\)$","i"));if(Dy)return new oe.CMYK(parseFloat(Dy[1])/100,parseFloat(Dy[2])/100,parseFloat(Dy[3])/100,parseFloat(Dy[4])/100)}}else if(typeof ha=="object"&&ha.isColor)return ha;return!1}oe.namedColors={};oe.installColorSpace=function(ha,ua,Sa){oe[ha]=function(Ay){var Ey=Array.isArray(Ay)?Ay:arguments;ua.forEach(function(My,Dy){var Iy=Ey[Dy];if(My==="alpha")this._alpha=isNaN(Iy)||Iy>1?1:Iy<0?0:Iy;else{if(isNaN(Iy))throw new Error("["+ha+"]: Invalid color: ("+ua.join(",")+")");My==="hue"?this._hue=Iy<0?Iy-Math.floor(Iy):Iy%1:this["_"+My]=Iy<0?0:Iy>1?1:Iy}},this)},oe[ha].propertyNames=ua;var ba=oe[ha].prototype;["valueOf","hex","hexa","css","cssa"].forEach(function(Ay){ba[Ay]=ba[Ay]||(ha==="RGB"?ba.hex:function(){return this.rgb()[Ay]()})}),ba.isColor=!0,ba.equals=function(Ay,Ey){Fs(Ey)&&(Ey=1e-10),Ay=Ay[ha.toLowerCase()]();for(var My=0;My<ua.length;My=My+1)if(Math.abs(this["_"+ua[My]]-Ay["_"+ua[My]])>Ey)return!1;return!0},ba.toJSON=function(){return[ha].concat(ua.map(function(Ay){return this["_"+Ay]},this))};for(var ka in Sa)if(Sa.hasOwnProperty(ka)){var _y=ka.match(/^from(.*)$/);_y?oe[_y[1].toUpperCase()].prototype[ha.toLowerCase()]=Sa[ka]:ba[ka]=Sa[ka]}ba[ha.toLowerCase()]=function(){return this},ba.toString=function(){return"["+ha+" "+ua.map(function(Ay){return this["_"+Ay]},this).join(", ")+"]"},ua.forEach(function(Ay){var Ey=Ay==="black"?"k":Ay.charAt(0);ba[Ay]=ba[Ey]=function(My,Dy){return typeof My>"u"?this["_"+Ay]:Dy?new this.constructor(ua.map(function(Iy){return this["_"+Iy]+(Ay===Iy?My:0)},this)):new this.constructor(ua.map(function(Iy){return Ay===Iy?My:this["_"+Iy]},this))}});function Ty(Ay,Ey){var My={};My[Ey.toLowerCase()]=function(){return this.rgb()[Ey.toLowerCase()]()},oe[Ey].propertyNames.forEach(function(Iy){var Ly=Iy==="black"?"k":Iy.charAt(0);My[Iy]=My[Ly]=function(Py,Ry){return this[Ey.toLowerCase()]()[Iy](Py,Ry)}});for(var Dy in My)My.hasOwnProperty(Dy)&&oe[Ay].prototype[Dy]===void 0&&(oe[Ay].prototype[Dy]=My[Dy])}return Ps.forEach(function(Ay){Ty(ha,Ay),Ty(Ay,ha)}),Ps.push(ha),oe};oe.pluginList=[];oe.use=function(ha){return oe.pluginList.indexOf(ha)===-1&&(this.pluginList.push(ha),ha(oe)),oe};oe.installMethod=function(ha,ua){return Ps.forEach(function(Sa){oe[Sa].prototype[ha]=ua}),this};oe.installColorSpace("RGB",["red","green","blue","alpha"],{hex:function(){var ha=(Math.round(255*this._red)*65536+Math.round(255*this._green)*256+Math.round(255*this._blue)).toString(16);return"#"+"00000".substr(0,6-ha.length)+ha},hexa:function(){var ha=Math.round(this._alpha*255).toString(16);return"#"+"00".substr(0,2-ha.length)+ha+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+")"},cssa:function(){return"rgba("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+","+this._alpha+")"}});var dl=oe,hr=function(ha){ha.installColorSpace("XYZ",["x","y","z","alpha"],{fromRgb:function(){var ua=function(_y){return _y>.04045?Math.pow((_y+.055)/1.055,2.4):_y/12.92},Sa=ua(this._red),ba=ua(this._green),ka=ua(this._blue);return new ha.XYZ(Sa*.4124564+ba*.3575761+ka*.1804375,Sa*.2126729+ba*.7151522+ka*.072175,Sa*.0193339+ba*.119192+ka*.9503041,this._alpha)},rgb:function(){var ua=this._x,Sa=this._y,ba=this._z,ka=function(_y){return _y>.0031308?1.055*Math.pow(_y,1/2.4)-.055:12.92*_y};return new ha.RGB(ka(ua*3.2404542+Sa*-1.5371385+ba*-.4985314),ka(ua*-.969266+Sa*1.8760108+ba*.041556),ka(ua*.0556434+Sa*-.2040259+ba*1.0572252),this._alpha)},lab:function(){var ua=function(_y){return _y>.008856?Math.pow(_y,.3333333333333333):7.787037*_y+.13793103448275862},Sa=ua(this._x/95.047),ba=ua(this._y/100),ka=ua(this._z/108.883);return new ha.LAB(116*ba-16,500*(Sa-ba),200*(ba-ka),this._alpha)}})},ul=function(ha){ha.use(hr),ha.installColorSpace("LAB",["l","a","b","alpha"],{fromRgb:function(){return this.xyz().lab()},rgb:function(){return this.xyz().rgb()},xyz:function(){var ua=function(_y){var Ty=Math.pow(_y,3);return Ty>.008856?Ty:(_y-.13793103448275862)/7.87},Sa=(this._l+16)/116,ba=this._a/500+Sa,ka=Sa-this._b/200;return new ha.XYZ(ua(ba)*95.047,ua(Sa)*100,ua(ka)*108.883,this._alpha)}})},cr=function(ha){ha.installColorSpace("HSV",["hue","saturation","value","alpha"],{rgb:function(){var ua=this._hue,Sa=this._saturation,ba=this._value,ka=Math.min(5,Math.floor(ua*6)),_y=ua*6-ka,Ty=ba*(1-Sa),Ay=ba*(1-_y*Sa),Ey=ba*(1-(1-_y)*Sa),My,Dy,Iy;switch(ka){case 0:My=ba,Dy=Ey,Iy=Ty;break;case 1:My=Ay,Dy=ba,Iy=Ty;break;case 2:My=Ty,Dy=ba,Iy=Ey;break;case 3:My=Ty,Dy=Ay,Iy=ba;break;case 4:My=Ey,Dy=Ty,Iy=ba;break;case 5:My=ba,Dy=Ty,Iy=Ay;break}return new ha.RGB(My,Dy,Iy,this._alpha)},hsl:function(){var ua=(2-this._saturation)*this._value,Sa=this._saturation*this._value,ba=ua<=1?ua:2-ua,ka;return ba<1e-9?ka=0:ka=Sa/ba,new ha.HSL(this._hue,ka,ua/2,this._alpha)},fromRgb:function(){var ua=this._red,Sa=this._green,ba=this._blue,ka=Math.max(ua,Sa,ba),_y=Math.min(ua,Sa,ba),Ty=ka-_y,Ay,Ey=ka===0?0:Ty/ka,My=ka;if(Ty===0)Ay=0;else switch(ka){case ua:Ay=(Sa-ba)/Ty/6+(Sa<ba?1:0);break;case Sa:Ay=(ba-ua)/Ty/6+1/3;break;case ba:Ay=(ua-Sa)/Ty/6+2/3;break}return new ha.HSV(Ay,Ey,My,this._alpha)}})},si=function(ha){ha.use(cr),ha.installColorSpace("HSL",["hue","saturation","lightness","alpha"],{hsv:function(){var ua=this._lightness*2,Sa=this._saturation*(ua<=1?ua:2-ua),ba;return ua+Sa<1e-9?ba=0:ba=2*Sa/(ua+Sa),new ha.HSV(this._hue,ba,(ua+Sa)/2,this._alpha)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}})},hl=function(ha){ha.installColorSpace("CMYK",["cyan","magenta","yellow","black","alpha"],{rgb:function(){return new ha.RGB(1-this._cyan*(1-this._black)-this._black,1-this._magenta*(1-this._black)-this._black,1-this._yellow*(1-this._black)-this._black,this._alpha)},fromRgb:function(){var ua=this._red,Sa=this._green,ba=this._blue,ka=1-ua,_y=1-Sa,Ty=1-ba,Ay=1;return ua||Sa||ba?(Ay=Math.min(ka,Math.min(_y,Ty)),ka=(ka-Ay)/(1-Ay),_y=(_y-Ay)/(1-Ay),Ty=(Ty-Ay)/(1-Ay)):Ay=1,new ha.CMYK(ka,_y,Ty,Ay,this._alpha)}})},cl=function(ha){ha.namedColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"}},fl=function(ha){ha.installMethod("clearer",function(ua){return this.alpha(isNaN(ua)?-.1:-ua,!0)})},fr=function(ha){function ua(Sa){return Sa<=.03928?Sa/12.92:Math.pow((Sa+.055)/1.055,2.4)}ha.installMethod("luminance",function(){var Sa=this.rgb();return .2126*ua(Sa._red)+.7152*ua(Sa._green)+.0722*ua(Sa._blue)})},ml=function(ha){ha.use(fr),ha.installMethod("contrast",function(ua){var Sa=this.luminance(),ba=ua.luminance();return Sa>ba?(Sa+.05)/(ba+.05):(ba+.05)/(Sa+.05)})},gl=function(ha){ha.use(si),ha.installMethod("darken",function(ua){return this.lightness(isNaN(ua)?-.1:-ua,!0)})},pl=function(ha){ha.use(si),ha.installMethod("desaturate",function(ua){return this.saturation(isNaN(ua)?-.1:-ua,!0)})},vl=function(ha){function ua(){var Sa=this.rgb(),ba=Sa._red*.3+Sa._green*.59+Sa._blue*.11;return new ha.RGB(ba,ba,ba,Sa._alpha)}ha.installMethod("greyscale",ua).installMethod("grayscale",ua)},mr=function(ha){ha.installMethod("isDark",function(){var ua=this.rgb(),Sa=(ua._red*255*299+ua._green*255*587+ua._blue*255*114)/1e3;return Sa<128})},bl=function(ha){ha.use(mr),ha.installMethod("isLight",function(){return!this.isDark()})},wl=function(ha){ha.use(si),ha.installMethod("lighten",function(ua){return this.lightness(isNaN(ua)?.1:ua,!0)})},yl=function(ha){ha.installMethod("mix",function(ua,Sa){ua=ha(ua).rgb(),Sa=1-(isNaN(Sa)?.5:Sa);var ba=Sa*2-1,ka=this._alpha-ua._alpha,_y=((ba*ka===-1?ba:(ba+ka)/(1+ba*ka))+1)/2,Ty=1-_y,Ay=this.rgb();return new ha.RGB(Ay._red*_y+ua._red*Ty,Ay._green*_y+ua._green*Ty,Ay._blue*_y+ua._blue*Ty,Ay._alpha*Sa+ua._alpha*(1-Sa))})},kl=function(ha){ha.installMethod("negate",function(){var ua=this.rgb();return new ha.RGB(1-ua._red,1-ua._green,1-ua._blue,this._alpha)})},Cl=function(ha){ha.installMethod("opaquer",function(ua){return this.alpha(isNaN(ua)?.1:ua,!0)})},$l=function(ha){ha.use(si),ha.installMethod("rotate",function(ua){return this.hue((ua||0)/360,!0)})},Sl=function(ha){ha.use(si),ha.installMethod("saturate",function(ua){return this.saturation(isNaN(ua)?.1:ua,!0)})},Vl=function(ha){ha.installMethod("toAlpha",function(ua){var Sa=this.rgb(),ba=ua(ua).rgb(),ka=1e-10,_y=new ua.RGB(0,0,0,Sa._alpha),Ty=["_red","_green","_blue"];return Ty.forEach(function(Ay){Sa[Ay]<ka?_y[Ay]=Sa[Ay]:Sa[Ay]>ba[Ay]?_y[Ay]=(Sa[Ay]-ba[Ay])/(1-ba[Ay]):Sa[Ay]>ba[Ay]?_y[Ay]=(ba[Ay]-Sa[Ay])/ba[Ay]:_y[Ay]=0}),_y._red>_y._green?_y._red>_y._blue?Sa._alpha=_y._red:Sa._alpha=_y._blue:_y._green>_y._blue?Sa._alpha=_y._green:Sa._alpha=_y._blue,Sa._alpha<ka||(Ty.forEach(function(Ay){Sa[Ay]=(Sa[Ay]-ba[Ay])/Sa._alpha+ba[Ay]}),Sa._alpha*=_y._alpha),Sa})},ot=dl.use(hr).use(ul).use(cr).use(si).use(hl).use(cl).use(fl).use(ml).use(gl).use(pl).use(vl).use(mr).use(bl).use(wl).use(fr).use(yl).use(kl).use(Cl).use($l).use(Sl).use(Vl);function ri(ha){if(ha===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ha}function gr(ha,ua){ha.prototype=Object.create(ua.prototype),ha.prototype.constructor=ha,ha.__proto__=ua}/*!
 * GSAP 3.1.1
 * https://greensock.com
 *
 * @license Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Xe={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ei={duration:.5,overwrite:!1,delay:0},Ye=1e8,we=1/Ye,Ms=Math.PI*2,Tl=Ms/4,xl=0,pr=Math.sqrt,Il=Math.cos,El=Math.sin,Ee=function(ha){return typeof ha=="string"},Ce=function(ha){return typeof ha=="function"},it=function(ha){return typeof ha=="number"},en=function(ha){return typeof ha>"u"},ft=function(ha){return typeof ha=="object"},Ie=function(ha){return ha!==!1},vr=function(){return typeof window<"u"},Cn=function(ha){return Ce(ha)||Ee(ha)},je=Array.isArray,Rs=/(?:-?\.?\d|\.)+/gi,br=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/g,gs=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,Dl=/\(([^()]+)\)/i,wr=/[\+-]=-?[\.\d]+/,yr=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,be,tt,Bs,kr,Ze={},Ni={},Cr,$r=function(ha){return(Ni=Rt(ha,Ze))&&at},Sr=function(ha,ua){return console.warn("Invalid property",ha,"set to",ua,"Missing plugin? gsap.registerPlugin()")},Vr=function(ha,ua){return!ua&&console.warn(ha)},Tr=function(ha,ua){return ha&&(Ze[ha]=ua)&&Ni&&(Ni[ha]=ua)||Ze},Ci=function(){return 0},bi={},Ft=[],_s={},xr,Be={},ps={},$n=30,_i=[],Ir="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",tn=function(ha){var ua=ha[0],Sa,ba;if(!ft(ua)&&!Ce(ua)&&(ha=[ha]),!(Sa=(ua._gsap||{}).harness)){for(ba=_i.length;ba--&&!_i[ba].targetTest(ua););Sa=_i[ba]}for(ba=ha.length;ba--;)ha[ba]&&(ha[ba]._gsap||(ha[ba]._gsap=new Gr(ha[ba],Sa)))||ha.splice(ba,1);return ha},Kt=function(ha){return ha._gsap||tn(st(ha))[0]._gsap},Er=function(ha,ua){var Sa=ha[ua];return Ce(Sa)?ha[ua]():en(Sa)&&ha.getAttribute(ua)||Sa},qe=function(ha,ua){return(ha=ha.split(",")).forEach(ua)||ha},le=function(ha){return Math.round(ha*1e4)/1e4},Ll=function(ha,ua){for(var Sa=ua.length,ba=0;ha.indexOf(ua[ba])<0&&++ba<Sa;);return ba<Sa},mi=function(ha,ua,Sa){var ba=it(ha[1]),ka=(ba?2:1)+(ua<2?0:1),_y=ha[ka],Ty;if(ba&&(_y.duration=ha[1]),_y.parent=Sa,ua){for(Ty=_y;Sa&&!("immediateRender"in Ty);)Ty=Sa.vars.defaults||{},Sa=Ie(Sa.vars.inherit)&&Sa.parent;_y.immediateRender=Ie(Ty.immediateRender),ua<2?_y.runBackwards=1:_y.startAt=ha[ka-1]}return _y},Hi=function(){var ha=Ft.length,ua=Ft.slice(0),Sa,ba;for(_s={},Ft.length=0,Sa=0;Sa<ha;Sa++)ba=ua[Sa],ba&&ba._lazy&&(ba.render(ba._lazy[0],ba._lazy[1],!0)._lazy=0)},Dr=function(ha,ua,Sa,ba){Ft.length&&Hi(),ha.render(ua,Sa,ba),Ft.length&&Hi()},Lr=function(ha){var ua=parseFloat(ha);return(ua||ua===0)&&(ha+"").match(yr).length<2?ua:ha},Os=function(ha){return ha},et=function(ha,ua){for(var Sa in ua)Sa in ha||(ha[Sa]=ua[Sa]);return ha},Pl=function(ha,ua){for(var Sa in ua)!(Sa in ha)&&Sa!=="duration"&&Sa!=="ease"&&(ha[Sa]=ua[Sa])},Rt=function(ha,ua){for(var Sa in ua)ha[Sa]=ua[Sa];return ha},Sn=function ha(ua,Sa){for(var ba in Sa)ua[ba]=ft(Sa[ba])?ha(ua[ba]||(ua[ba]={}),Sa[ba]):Sa[ba];return ua},Gi=function(ha,ua){var Sa={},ba;for(ba in ha)ba in ua||(Sa[ba]=ha[ba]);return Sa},Fl=function(ha){var ua=ha.parent||be,Sa=ha.keyframes?Pl:et;if(Ie(ha.inherit))for(;ua;)Sa(ha,ua.vars.defaults),ua=ua.parent;return ha},Ml=function(ha,ua){for(var Sa=ha.length,ba=Sa===ua.length;ba&&Sa--&&ha[Sa]===ua[Sa];);return Sa<0},Rl=function(ha,ua,Sa,ba,ka){var _y=ha[ba],Ty;if(ka)for(Ty=ua[ka];_y&&_y[ka]>Ty;)_y=_y._prev;return _y?(ua._next=_y._next,_y._next=ua):(ua._next=ha[Sa],ha[Sa]=ua),ua._next?ua._next._prev=ua:ha[ba]=ua,ua._prev=_y,ua.parent=ha,ua},sn=function(ha,ua,Sa,ba){Sa===void 0&&(Sa="_first"),ba===void 0&&(ba="_last");var ka=ua._prev,_y=ua._next;ka?ka._next=_y:ha[Sa]===ua&&(ha[Sa]=_y),_y?_y._prev=ka:ha[ba]===ua&&(ha[ba]=ka),ua._dp=ha,ua._next=ua._prev=ua.parent=null},kt=function(ha,ua){ha.parent&&(!ua||ha.parent.autoRemoveChildren)&&ha.parent.remove(ha),ha._act=0},ht=function(ha){for(var ua=ha;ua;)ua._dirty=1,ua=ua.parent;return ha},Bl=function(ha){for(var ua=ha.parent;ua&&ua.parent;)ua._dirty=1,ua.totalDuration(),ua=ua.parent;return ha},_l=function ha(ua){return!ua||ua._ts&&ha(ua.parent)},Vn=function(ha){return ha._repeat?ti(ha._tTime,ha=ha.duration()+ha._rDelay)*ha:0},ti=function(ha,ua){return(ha/=ua)&&~~ha===ha?~~ha-1:~~ha},zs=function(ha,ua){return(ha-ua._start)*ua._ts+(ua._ts>=0?0:ua._dirty?ua.totalDuration():ua._tDur)},ct=function(ha,ua,Sa){if(ua.parent&&kt(ua),ua._start=Sa+ua._delay,ua._end=ua._start+(ua.totalDuration()/Math.abs(ua.timeScale())||0),Rl(ha,ua,"_first","_last",ha._sort?"_start":0),ha._recent=ua,ua._time||!ua._dur&&ua._initted){var ba=(ha.rawTime()-ua._start)*ua._ts;(!ua._dur||ts(0,ua.totalDuration(),ba)-ua._tTime>we)&&ua.render(ba,!0)}if(ht(ha),ha._dp&&ha._time>=ha._dur&&ha._ts&&ha._dur<ha.duration())for(var ka=ha;ka._dp;)ka.totalTime(ka._tTime,!0),ka=ka._dp;return ha},Pr=function(ha,ua,Sa,ba){if(sd(ha,ua),!ha._initted)return 1;if(!Sa&&ha._pt&&(ha._dur&&ha.vars.lazy!==!1||!ha._dur&&ha.vars.lazy)&&xr!==Ue.frame)return Ft.push(ha),ha._lazy=[ua,ba],1},Ol=function(ha,ua,Sa,ba){var ka=ha._zTime<0?0:1,_y=ua<0?0:1,Ty=ha._rDelay,Ay=0,Ey,My,Dy;if(Ty&&ha._repeat&&(Ay=ts(0,ha._tDur,ua),My=ti(Ay,Ty),Dy=ti(ha._tTime,Ty),My!==Dy&&(ka=1-_y,ha.vars.repeatRefresh&&ha._initted&&ha.invalidate())),!(!ha._initted&&Pr(ha,ua,ba,Sa))&&(_y!==ka||ba||ha._zTime===we||!ua&&ha._zTime)){for(ha._zTime=ua||(Sa?we:0),ha.ratio=_y,ha._from&&(_y=1-_y),ha._time=0,ha._tTime=Ay,Sa||ze(ha,"onStart"),Ey=ha._pt;Ey;)Ey.r(_y,Ey.d),Ey=Ey._next;!_y&&ha._startAt&&!ha._onUpdate&&ha._start&&ha._startAt.render(ua,!0,ba),ha._onUpdate&&!Sa&&ze(ha,"onUpdate"),Ay&&ha._repeat&&!Sa&&ha.parent&&ze(ha,"onRepeat"),(ua>=ha._tDur||ua<0)&&ha.ratio===_y&&(ha.ratio&&kt(ha,1),Sa||(ze(ha,ha.ratio?"onComplete":"onReverseComplete",!0),ha._prom&&ha._prom()))}},zl=function(ha,ua,Sa){var ba;if(Sa>ua)for(ba=ha._first;ba&&ba._start<=Sa;){if(!ba._dur&&ba.data==="isPause"&&ba._start>ua)return ba;ba=ba._next}else for(ba=ha._last;ba&&ba._start>=Sa;){if(!ba._dur&&ba.data==="isPause"&&ba._start<ua)return ba;ba=ba._prev}},vs=function(ha){if(ha instanceof Oe)return ht(ha);var ua=ha._repeat;return ha._tDur=ua?ua<0?1e12:le(ha._dur*(ua+1)+ha._rDelay*ua):ha._dur,ht(ha.parent),ha},Al={_start:0,endTime:Ci},xe=function ha(ua,Sa,ba){var ka=ua.labels,_y=ua._recent||Al,Ty=ua.duration()>=Ye?_y.endTime(!1):ua._dur,Ay,Ey;return Ee(Sa)&&(isNaN(Sa)||Sa in ka)?(Ay=Sa.charAt(0),Ay==="<"||Ay===">"?(Ay==="<"?_y._start:_y.endTime(_y._repeat>=0))+(parseFloat(Sa.substr(1))||0):(Ay=Sa.indexOf("="),Ay<0?(Sa in ka||(ka[Sa]=Ty),ka[Sa]):(Ey=+(Sa.charAt(Ay-1)+Sa.substr(Ay+1)),Ay>1?ha(ua,Sa.substr(0,Ay-1))+Ey:Ty+Ey))):Sa==null?Ty:+Sa},St=function(ha,ua){return ha||ha===0?ua(ha):ua},ts=function(ha,ua,Sa){return Sa<ha?ha:Sa>ua?ua:Sa},mt=function(ha){return(ha+"").substr((parseFloat(ha)+"").length)},Wl=function(ha,ua,Sa){return St(Sa,function(ba){return ts(ha,ua,ba)})},As=[].slice,Fr=function(ha,ua){return ha&&ft(ha)&&"length"in ha&&(!ua&&!ha.length||ha.length-1 in ha&&ft(ha[0]))&&!ha.nodeType&&ha!==tt},Nl=function(ha,ua,Sa){return Sa===void 0&&(Sa=[]),ha.forEach(function(ba){var ka;return Ee(ba)&&!ua||Fr(ba,1)?(ka=Sa).push.apply(ka,st(ba)):Sa.push(ba)})||Sa},st=function(ha,ua){return Ee(ha)&&!ua&&(Bs||!$i())?As.call(kr.querySelectorAll(ha),0):je(ha)?Nl(ha,ua):Fr(ha)?As.call(ha,0):ha?[ha]:[]},Mr=function(ha){return ha.sort(function(){return .5-Math.random()})},Rr=function(ha){if(Ce(ha))return ha;var ua=ft(ha)?ha:{each:ha},Sa=Jt(ua.ease),ba=ua.from||0,ka=parseFloat(ua.base)||0,_y={},Ty=ba>0&&ba<1,Ay=isNaN(ba)||Ty,Ey=ua.axis,My=ba,Dy=ba;return Ee(ba)?My=Dy={center:.5,edges:.5,end:1}[ba]||0:!Ty&&Ay&&(My=ba[0],Dy=ba[1]),function(Iy,Ly,Py){var Ry=(Py||ua).length,Vy=_y[Ry],Ny,By,Oy,Fy,zy,Hy,Gy,Wy,Uy;if(!Vy){if(Uy=ua.grid==="auto"?0:(ua.grid||[1,Ye])[1],!Uy){for(Gy=-Ye;Gy<(Gy=Py[Uy++].getBoundingClientRect().left)&&Uy<Ry;);Uy--}for(Vy=_y[Ry]=[],Ny=Ay?Math.min(Uy,Ry)*My-.5:ba%Uy,By=Ay?Ry*Dy/Uy-.5:ba/Uy|0,Gy=0,Wy=Ye,Hy=0;Hy<Ry;Hy++)Oy=Hy%Uy-Ny,Fy=By-(Hy/Uy|0),Vy[Hy]=zy=Ey?Math.abs(Ey==="y"?Fy:Oy):pr(Oy*Oy+Fy*Fy),zy>Gy&&(Gy=zy),zy<Wy&&(Wy=zy);ba==="random"&&Mr(Vy),Vy.max=Gy-Wy,Vy.min=Wy,Vy.v=Ry=(parseFloat(ua.amount)||parseFloat(ua.each)*(Uy>Ry?Ry-1:Ey?Ey==="y"?Ry/Uy:Uy:Math.max(Uy,Ry/Uy))||0)*(ba==="edges"?-1:1),Vy.b=Ry<0?ka-Ry:ka,Vy.u=mt(ua.amount||ua.each)||0,Sa=Sa&&Ry<0?Nr(Sa):Sa}return Ry=(Vy[Iy]-Vy.min)/Vy.max||0,le(Vy.b+(Sa?Sa(Ry):Ry)*Vy.v)+Vy.u}},Ws=function(ha){var ua=ha<1?Math.pow(10,(ha+"").length-2):1;return function(Sa){return~~(Math.round(parseFloat(Sa)/ha)*ha*ua)/ua+(it(Sa)?0:mt(Sa))}},Br=function(ha,ua){var Sa=je(ha),ba,ka;return!Sa&&ft(ha)&&(ba=Sa=ha.radius||Ye,ha.values?(ha=st(ha.values),(ka=!it(ha[0]))&&(ba*=ba)):ha=Ws(ha.increment)),St(ua,Sa?Ce(ha)?function(_y){return ka=ha(_y),Math.abs(ka-_y)<=ba?ka:_y}:function(_y){for(var Ty=parseFloat(ka?_y.x:_y),Ay=parseFloat(ka?_y.y:0),Ey=Ye,My=0,Dy=ha.length,Iy,Ly;Dy--;)ka?(Iy=ha[Dy].x-Ty,Ly=ha[Dy].y-Ay,Iy=Iy*Iy+Ly*Ly):Iy=Math.abs(ha[Dy]-Ty),Iy<Ey&&(Ey=Iy,My=Dy);return My=!ba||Ey<=ba?ha[My]:_y,ka||My===_y||it(_y)?My:My+mt(_y)}:Ws(ha))},_r=function(ha,ua,Sa,ba){return St(je(ha)?!ua:Sa===!0?!!(Sa=0):!ba,function(){return je(ha)?ha[~~(Math.random()*ha.length)]:(Sa=Sa||1e-5)&&(ba=Sa<1?Math.pow(10,(Sa+"").length-2):1)&&~~(Math.round((ha+Math.random()*(ua-ha))/Sa)*Sa*ba)/ba})},Hl=function(){for(var ha=arguments.length,ua=new Array(ha),Sa=0;Sa<ha;Sa++)ua[Sa]=arguments[Sa];return function(ba){return ua.reduce(function(ka,_y){return _y(ka)},ba)}},Gl=function(ha,ua){return function(Sa){return ha(parseFloat(Sa))+(ua||mt(Sa))}},Ul=function(ha,ua,Sa){return zr(ha,ua,0,1,Sa)},Or=function(ha,ua,Sa){return St(Sa,function(ba){return ha[~~ua(ba)]})},Yl=function ha(ua,Sa,ba){var ka=Sa-ua;return je(ua)?Or(ua,ha(0,ua.length),Sa):St(ba,function(_y){return(ka+(_y-ua)%ka)%ka+ua})},jl=function ha(ua,Sa,ba){var ka=Sa-ua,_y=ka*2;return je(ua)?Or(ua,ha(0,ua.length-1),Sa):St(ba,function(Ty){return Ty=(_y+(Ty-ua)%_y)%_y,ua+(Ty>ka?_y-Ty:Ty)})},is=function(ha){for(var ua=0,Sa="",ba,ka,_y,Ty;~(ba=ha.indexOf("random(",ua));)_y=ha.indexOf(")",ba),Ty=ha.charAt(ba+7)==="[",ka=ha.substr(ba+7,_y-ba-7).match(Ty?yr:Rs),Sa+=ha.substr(ua,ba-ua)+_r(Ty?ka:+ka[0],+ka[1],+ka[2]||1e-5),ua=_y+1;return Sa+ha.substr(ua,ha.length-ua)},zr=function(ha,ua,Sa,ba,ka){var _y=ua-ha,Ty=ba-Sa;return St(ka,function(Ay){return Sa+(Ay-ha)/_y*Ty})},ql=function ha(ua,Sa,ba,ka){var _y=isNaN(ua+Sa)?0:function(Py){return(1-Py)*ua+Py*Sa};if(!_y){var Ty=Ee(ua),Ay={},Ey,My,Dy,Iy,Ly;if(ba===!0&&(ka=1)&&(ba=null),Ty)ua={p:ua},Sa={p:Sa};else if(je(ua)&&!je(Sa)){for(Dy=[],Iy=ua.length,Ly=Iy-2,My=1;My<Iy;My++)Dy.push(ha(ua[My-1],ua[My]));Iy--,_y=function(Py){Py*=Iy;var Ry=Math.min(Ly,~~Py);return Dy[Ry](Py-Ry)},ba=Sa}else ka||(ua=Rt(je(ua)?[]:{},ua));if(!Dy){for(Ey in Sa)nn.call(Ay,ua,Ey,"get",Sa[Ey]);_y=function(Py){return an(Py,Ay)||(Ty?ua.p:ua)}}}return St(ba,_y)},Tn=function(ha,ua,Sa){var ba=ha.labels,ka=Ye,_y,Ty,Ay;for(_y in ba)Ty=ba[_y]-ua,Ty<0==!!Sa&&Ty&&ka>(Ty=Math.abs(Ty))&&(Ay=_y,ka=Ty);return Ay},ze=function(ha,ua,Sa){var ba=ha.vars,ka=ba[ua],_y,Ty;if(ka)return _y=ba[ua+"Params"],Ty=ba.callbackScope||ha,Sa&&Ft.length&&Hi(),_y?ka.apply(Ty,_y):ka.call(Ty)},Oi=function(ha){return kt(ha),ha.progress()<1&&ze(ha,"onInterrupt"),ha},jt,Xl=function(ha){ha=!ha.name&&ha.default||ha;var ua=ha.name,Sa=Ce(ha),ba=ua&&!Sa&&ha.init?function(){this._props=[]}:ha,ka={init:Ci,render:an,add:nn,kill:ud,modifier:dd,rawVars:0},_y={targetTest:0,get:0,getSetter:on,aliases:{},register:0};if($i(),ha!==ba){if(Be[ua])return;et(ba,et(Gi(ha,ka),_y)),Rt(ba.prototype,Rt(ka,Gi(ha,_y))),Be[ba.prop=ua]=ba,ha.targetTest&&(_i.push(ba),bi[ua]=1),ua=(ua==="css"?"CSS":ua.charAt(0).toUpperCase()+ua.substr(1))+"Plugin"}Tr(ua,ba),ha.register&&ha.register(at,ba,Fe)},ue=255,li={aqua:[0,ue,ue],lime:[0,ue,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ue],navy:[0,0,128],white:[ue,ue,ue],olive:[128,128,0],yellow:[ue,ue,0],orange:[ue,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ue,0,0],pink:[ue,192,203],cyan:[0,ue,ue],transparent:[ue,ue,ue,0]},bs=function(ha,ua,Sa){return ha=ha<0?ha+1:ha>1?ha-1:ha,(ha*6<1?ua+(Sa-ua)*ha*6:ha<.5?Sa:ha*3<2?ua+(Sa-ua)*(2/3-ha)*6:ua)*ue+.5|0},Ar=function(ha,ua){var Sa=ha?it(ha)?[ha>>16,ha>>8&ue,ha&ue]:0:li.black,ba,ka,_y,Ty,Ay,Ey,My,Dy,Iy,Ly;if(!Sa){if(ha.substr(-1)===","&&(ha=ha.substr(0,ha.length-1)),li[ha])Sa=li[ha];else if(ha.charAt(0)==="#")ha.length===4&&(ba=ha.charAt(1),ka=ha.charAt(2),_y=ha.charAt(3),ha="#"+ba+ba+ka+ka+_y+_y),ha=parseInt(ha.substr(1),16),Sa=[ha>>16,ha>>8&ue,ha&ue];else if(ha.substr(0,3)==="hsl"){if(Sa=Ly=ha.match(Rs),!ua)Ty=+Sa[0]%360/360,Ay=+Sa[1]/100,Ey=+Sa[2]/100,ka=Ey<=.5?Ey*(Ay+1):Ey+Ay-Ey*Ay,ba=Ey*2-ka,Sa.length>3&&(Sa[3]*=1),Sa[0]=bs(Ty+1/3,ba,ka),Sa[1]=bs(Ty,ba,ka),Sa[2]=bs(Ty-1/3,ba,ka);else if(~ha.indexOf("="))return ha.match(br)}else Sa=ha.match(Rs)||li.transparent;Sa=Sa.map(Number)}return ua&&!Ly&&(ba=Sa[0]/ue,ka=Sa[1]/ue,_y=Sa[2]/ue,My=Math.max(ba,ka,_y),Dy=Math.min(ba,ka,_y),Ey=(My+Dy)/2,My===Dy?Ty=Ay=0:(Iy=My-Dy,Ay=Ey>.5?Iy/(2-My-Dy):Iy/(My+Dy),Ty=My===ba?(ka-_y)/Iy+(ka<_y?6:0):My===ka?(_y-ba)/Iy+2:(ba-ka)/Iy+4,Ty*=60),Sa[0]=Ty+.5|0,Sa[1]=Ay*100+.5|0,Sa[2]=Ey*100+.5|0),Sa},xn=function(ha,ua){var Sa=(ha+"").match(Ns),ba=0,ka="",_y,Ty,Ay;if(!Sa)return ha;for(_y=0;_y<Sa.length;_y++)Ty=Sa[_y],Ay=ha.substr(ba,ha.indexOf(Ty,ba)-ba),ba+=Ay.length+Ty.length,Ty=Ar(Ty,ua),Ty.length===3&&Ty.push(1),ka+=Ay+(ua?"hsla("+Ty[0]+","+Ty[1]+"%,"+Ty[2]+"%,"+Ty[3]:"rgba("+Ty.join(","))+")";return ka+ha.substr(ba)},Ns=function(){var ha="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b",ua;for(ua in li)ha+="|"+ua+"\\b";return new RegExp(ha+")","gi")}(),Kl=/hsl[a]?\(/,Wr=function(ha){var ua=ha.join(" "),Sa;Ns.lastIndex=0,Ns.test(ua)&&(Sa=Kl.test(ua),ha[0]=xn(ha[0],Sa),ha[1]=xn(ha[1],Sa))},Ui,Ue=function(){var ha=Date.now,ua=500,Sa=33,ba=ha(),ka=ba,_y=1/60,Ty=_y,Ay=[],Ey,My,Dy,Iy,Ly=function Py(Ry){var Vy=ha()-ka,Ny=Ry===!0,By,Oy;Vy>ua&&(ba+=Vy-Sa),ka+=Vy,Iy.time=(ka-ba)/1e3,By=Iy.time-Ty,(By>0||Ny)&&(Iy.frame++,Ty+=By+(By>=_y?.004:_y-By),Oy=1),Ny||(Ey=My(Py)),Oy&&Ay.forEach(function(Fy){return Fy(Iy.time,Vy,Iy.frame,Ry)})};return Iy={time:0,frame:0,tick:function(){Ly(!0)},wake:function(){Cr&&(!Bs&&vr()&&(tt=Bs=window,kr=tt.document||{},Ze.gsap=at,(tt.gsapVersions||(tt.gsapVersions=[])).push(at.version),$r(Ni||tt.GreenSockGlobals||!tt.gsap&&tt||{}),Dy=tt.requestAnimationFrame),Ey&&Iy.sleep(),My=Dy||function(Py){return setTimeout(Py,(Ty-Iy.time)*1e3+1|0)},Ui=1,Ly(2))},sleep:function(){(Dy?tt.cancelAnimationFrame:clearTimeout)(Ey),Ui=0,My=Ci},lagSmoothing:function(Py,Ry){ua=Py||1/we,Sa=Math.min(Ry,ua,0)},fps:function(Py){_y=1/(Py||60),Ty=Iy.time+_y},add:function(Py){Ay.indexOf(Py)<0&&Ay.push(Py),$i()},remove:function(Py){var Ry;~(Ry=Ay.indexOf(Py))&&Ay.splice(Ry,1)},_listeners:Ay},Iy}(),$i=function(){return!Ui&&Ue.wake()},re={},Jl=/^[\d.\-M][\d.\-,\s]/,Ql=/["']/g,Zl=function(ha){for(var ua={},Sa=ha.substr(1,ha.length-3).split(":"),ba=Sa[0],ka=1,_y=Sa.length,Ty,Ay,Ey;ka<_y;ka++)Ay=Sa[ka],Ty=ka!==_y-1?Ay.lastIndexOf(","):Ay.length,Ey=Ay.substr(0,Ty),ua[ba]=isNaN(Ey)?Ey.replace(Ql,"").trim():+Ey,ba=Ay.substr(Ty+1).trim();return ua},ed=function(ha){var ua=(ha+"").split("("),Sa=re[ua[0]];return Sa&&ua.length>1&&Sa.config?Sa.config.apply(null,~ha.indexOf("{")?[Zl(ua[1])]:Dl.exec(ha)[1].split(",").map(Lr)):re._CE&&Jl.test(ha)?re._CE("",ha):Sa},Nr=function(ha){return function(ua){return 1-ha(1-ua)}},Jt=function(ha,ua){return ha&&(Ce(ha)?ha:re[ha]||ed(ha))||ua},_t=function(ha,ua,Sa,ba){Sa===void 0&&(Sa=function(Ty){return 1-ua(1-Ty)}),ba===void 0&&(ba=function(Ty){return Ty<.5?ua(Ty*2)/2:1-ua((1-Ty)*2)/2});var ka={easeIn:ua,easeOut:Sa,easeInOut:ba},_y;return qe(ha,function(Ty){re[Ty]=Ze[Ty]=ka,re[_y=Ty.toLowerCase()]=Sa;for(var Ay in ka)re[_y+(Ay==="easeIn"?".in":Ay==="easeOut"?".out":".inOut")]=re[Ty+"."+Ay]=ka[Ay]}),ka},Hr=function(ha){return function(ua){return ua<.5?(1-ha(1-ua*2))/2:.5+ha((ua-.5)*2)/2}},ws=function ha(ua,Sa,ba){var ka=Sa>=1?Sa:1,_y=(ba||(ua?.3:.45))/(Sa<1?Sa:1),Ty=_y/Ms*(Math.asin(1/ka)||0),Ay=function(My){return My===1?1:ka*Math.pow(2,-10*My)*El((My-Ty)*_y)+1},Ey=ua==="out"?Ay:ua==="in"?function(My){return 1-Ay(1-My)}:Hr(Ay);return _y=Ms/_y,Ey.config=function(My,Dy){return ha(ua,My,Dy)},Ey},ys=function ha(ua,Sa){Sa===void 0&&(Sa=1.70158);var ba=function(_y){return--_y*_y*((Sa+1)*_y+Sa)+1},ka=ua==="out"?ba:ua==="in"?function(_y){return 1-ba(1-_y)}:Hr(ba);return ka.config=function(_y){return ha(ua,_y)},ka};qe("Linear,Quad,Cubic,Quart,Quint,Strong",function(ha,ua){var Sa=ua<5?ua+1:ua;_t(ha+",Power"+(Sa-1),ua?function(ba){return Math.pow(ba,Sa)}:function(ba){return ba},function(ba){return 1-Math.pow(1-ba,Sa)},function(ba){return ba<.5?Math.pow(ba*2,Sa)/2:1-Math.pow((1-ba)*2,Sa)/2})});re.Linear.easeNone=re.none=re.Linear.easeIn;_t("Elastic",ws("in"),ws("out"),ws());(function(ha,ua){var Sa=1/ua,ba=2*Sa,ka=2.5*Sa,_y=function(Ty){return Ty<Sa?ha*Ty*Ty:Ty<ba?ha*Math.pow(Ty-1.5/ua,2)+.75:Ty<ka?ha*(Ty-=2.25/ua)*Ty+.9375:ha*Math.pow(Ty-2.625/ua,2)+.984375};_t("Bounce",function(Ty){return 1-_y(1-Ty)},_y)})(7.5625,2.75);_t("Expo",function(ha){return ha?Math.pow(2,10*(ha-1)):0});_t("Circ",function(ha){return-(pr(1-ha*ha)-1)});_t("Sine",function(ha){return-Il(ha*Tl)+1});_t("Back",ys("in"),ys("out"),ys());re.SteppedEase=re.steps=Ze.SteppedEase={config:function(ha,ua){ha===void 0&&(ha=1);var Sa=1/ha,ba=ha+(ua?0:1),ka=ua?1:0,_y=1-we;return function(Ty){return((ba*ts(0,_y,Ty)|0)+ka)*Sa}}};ei.ease=re["quad.out"];var Gr=function(ha,ua){this.id=xl++,ha._gsap=this,this.target=ha,this.harness=ua,this.get=ua?ua.get:Er,this.set=ua?ua.getSetter:on},wi=function(){function ha(Sa,ba){var ka=Sa.parent||be;this.vars=Sa,this._dur=this._tDur=+Sa.duration||0,this._delay=+Sa.delay||0,(this._repeat=Sa.repeat||0)&&(this._rDelay=Sa.repeatDelay||0,this._yoyo=!!Sa.yoyo||!!Sa.yoyoEase,vs(this)),this._ts=1,this.data=Sa.data,Ui||Ue.wake(),ka&&ct(ka,this,ba||ba===0?ba:ka._time),Sa.reversed&&this.reversed(!0),Sa.paused&&this.paused(!0)}var ua=ha.prototype;return ua.delay=function(Sa){return Sa||Sa===0?(this._delay=Sa,this):this._delay},ua.duration=function(Sa){var ba=arguments.length,ka=this._repeat,_y=ka>0?ka*((ba?Sa:this._dur)+this._rDelay):0;return ba?this.totalDuration(ka<0?Sa:Sa+_y):this.totalDuration()&&this._dur},ua.totalDuration=function(Sa){if(!arguments.length)return this._tDur;var ba=this._repeat,ka=(Sa||this._rDelay)&&ba<0;return this._tDur=ka?1e12:Sa,this._dur=ka?Sa:(Sa-ba*this._rDelay)/(ba+1),this._dirty=0,ht(this.parent),this},ua.totalTime=function(Sa,ba){if($i(),!arguments.length)return this._tTime;var ka=this.parent||this._dp,_y;if(ka&&ka.smoothChildTiming&&this._ts){for(_y=this._start,this._start=ka._time-(this._ts>0?Sa/this._ts:((this._dirty?this.totalDuration():this._tDur)-Sa)/-this._ts),this._end+=this._start-_y,ka._dirty||ht(ka);ka.parent;)ka.parent._time!==ka._start+(ka._ts>0?ka._tTime/ka._ts:(ka.totalDuration()-ka._tTime)/-ka._ts)&&ka.totalTime(ka._tTime,!0),ka=ka.parent;!this.parent&&ka.autoRemoveChildren&&ct(ka,this,this._start-this._delay)}return(this._tTime!==Sa||!this._dur&&!ba)&&(this._ts||(this._pTime=Sa),Dr(this,Sa,ba)),this},ua.time=function(Sa,ba){return arguments.length?this.totalTime(Math.min(this.totalDuration(),Sa+Vn(this))%this._dur||(Sa?this._dur:0),ba):this._time},ua.totalProgress=function(Sa,ba){return arguments.length?this.totalTime(this.totalDuration()*Sa,ba):this._tTime/this.totalDuration()},ua.progress=function(Sa,ba){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-Sa:Sa)+Vn(this),ba):this.duration()?this._time/this._dur:this.ratio},ua.iteration=function(Sa,ba){var ka=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(Sa-1)*ka,ba):this._repeat?ti(this._tTime,ka)+1:1},ua.timeScale=function(Sa){if(!arguments.length)return this._ts||this._pauseTS||0;if(this._pauseTS!==null)return this._pauseTS=Sa,this;var ba=this.parent&&this._ts?zs(this.parent._time,this):this._tTime;return this._ts=Sa,Bl(this.totalTime(ba,!0))},ua.paused=function(Sa){var ba=!this._ts;return arguments.length?(ba!==Sa&&(Sa?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS||1,this._pauseTS=null,Sa=this._tTime||this._pTime,this.progress()===1&&(this._tTime-=we),this.totalTime(Sa,!0))),this):ba},ua.startTime=function(Sa){return arguments.length?(this.parent&&this.parent._sort&&ct(this.parent,this,Sa-this._delay),this):this._start},ua.endTime=function(Sa){return this._start+(Ie(Sa)?this.totalDuration():this.duration())/Math.abs(this._ts)},ua.rawTime=function(Sa){var ba=this.parent||this._dp;return ba?Sa&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?zs(ba.rawTime(Sa),this):this._tTime:this._tTime},ua.repeat=function(Sa){return arguments.length?(this._repeat=Sa,vs(this)):this._repeat},ua.repeatDelay=function(Sa){return arguments.length?(this._rDelay=Sa,vs(this)):this._rDelay},ua.yoyo=function(Sa){return arguments.length?(this._yoyo=Sa,this):this._yoyo},ua.seek=function(Sa,ba){return this.totalTime(xe(this,Sa),Ie(ba))},ua.restart=function(Sa,ba){return this.play().totalTime(Sa?-this._delay:0,Ie(ba))},ua.play=function(Sa,ba){return Sa!=null&&this.seek(Sa,ba),this.reversed(!1).paused(!1)},ua.reverse=function(Sa,ba){return Sa!=null&&this.seek(Sa||this.totalDuration(),ba),this.reversed(!0).paused(!1)},ua.pause=function(Sa,ba){return Sa!=null&&this.seek(Sa,ba),this.paused(!0)},ua.resume=function(){return this.paused(!1)},ua.reversed=function(Sa){var ba=this._ts||this._pauseTS||0;return arguments.length?(Sa!==this.reversed()&&(this[this._pauseTS===null?"_ts":"_pauseTS"]=Math.abs(ba)*(Sa?-1:1),this.totalTime(this._tTime,!0)),this):ba<0},ua.invalidate=function(){return this._initted=0,this},ua.isActive=function(Sa){var ba=this.parent||this._dp,ka=this._start,_y;return!!(!ba||this._ts&&(this._initted||!Sa)&&ba.isActive(Sa)&&(_y=ba.rawTime(!0))>=ka&&_y<this.endTime(!0)-we)},ua.eventCallback=function(Sa,ba,ka){var _y=this.vars;return arguments.length>1?(ba?(_y[Sa]=ba,ka&&(_y[Sa+"Params"]=ka),Sa==="onUpdate"&&(this._onUpdate=ba)):delete _y[Sa],this):_y[Sa]},ua.then=function(Sa){var ba=this;return new Promise(function(ka){var _y=Ce(Sa)?Sa:Os,Ty=function(){var Ay=ba.then;ba.then=null,_y=_y(ba),_y&&(_y.then||_y===ba?ba.then=Ay:Ce(_y)||(_y=Os)),ka(_y),ba.then=Ay};ba._initted&&ba.totalProgress()===1&&ba._ts>=0||!ba._tTime&&ba._ts<0?Ty():ba._prom=Ty})},ua.kill=function(){Oi(this)},ha}();et(wi.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-we,_prom:0,_pauseTS:null});var Oe=function(ha){gr(ua,ha);function ua(ba,ka){var _y;return ba===void 0&&(ba={}),_y=ha.call(this,ba,ka)||this,_y.labels={},_y.smoothChildTiming=Ie(ba.smoothChildTiming),_y.autoRemoveChildren=!!ba.autoRemoveChildren,_y._sort=Ie(ba.sortChildren),_y}var Sa=ua.prototype;return Sa.to=function(ba,ka,_y){return new ve(ba,mi(arguments,0,this),xe(this,it(ka)?arguments[3]:_y)),this},Sa.from=function(ba,ka,_y){return new ve(ba,mi(arguments,1,this),xe(this,it(ka)?arguments[3]:_y)),this},Sa.fromTo=function(ba,ka,_y,Ty){return new ve(ba,mi(arguments,2,this),xe(this,it(ka)?arguments[4]:Ty)),this},Sa.set=function(ba,ka,_y){return ka.duration=0,ka.parent=this,ka.repeatDelay||(ka.repeat=0),ka.immediateRender=!!ka.immediateRender,new ve(ba,ka,xe(this,_y)),this},Sa.call=function(ba,ka,_y){return ct(this,ve.delayedCall(0,ba,ka),xe(this,_y))},Sa.staggerTo=function(ba,ka,_y,Ty,Ay,Ey,My){return _y.duration=ka,_y.stagger=_y.stagger||Ty,_y.onComplete=Ey,_y.onCompleteParams=My,_y.parent=this,new ve(ba,_y,xe(this,Ay)),this},Sa.staggerFrom=function(ba,ka,_y,Ty,Ay,Ey,My){return _y.runBackwards=1,_y.immediateRender=Ie(_y.immediateRender),this.staggerTo(ba,ka,_y,Ty,Ay,Ey,My)},Sa.staggerFromTo=function(ba,ka,_y,Ty,Ay,Ey,My,Dy){return Ty.startAt=_y,Ty.immediateRender=Ie(Ty.immediateRender),this.staggerTo(ba,ka,Ty,Ay,Ey,My,Dy)},Sa.render=function(ba,ka,_y){var Ty=this._time,Ay=this._dirty?this.totalDuration():this._tDur,Ey=this._dur,My=ba>Ay-we&&ba>=0&&this!==be?Ay:ba<we?0:ba,Dy=this._zTime<0!=ba<0&&(this._initted||!Ey),Iy,Ly,Py,Ry,Vy,Ny,By,Oy,Fy,zy,Hy,Gy;if(My!==this._tTime||_y||Dy){if(Dy&&(Ey||(Ty=this._zTime),(ba||!ka)&&(this._zTime=ba)),Iy=My,Fy=this._start,Oy=this._ts,Ny=Oy===0,Ty!==this._time&&Ey&&(Iy+=this._time-Ty),this._repeat&&(Hy=this._yoyo,Vy=Ey+this._rDelay,Iy=le(My%Vy),(Iy>Ey||Ay===My)&&(Iy=Ey),Ry=~~(My/Vy),Ry&&Ry===My/Vy&&(Iy=Ey,Ry--),zy=ti(this._tTime,Vy),Hy&&Ry&1&&(Iy=Ey-Iy,Gy=1),Ry!==zy&&!this._lock)){var Wy=Hy&&zy&1,Uy=Wy===(Hy&&Ry&1);if(Ry<zy&&(Wy=!Wy),Ty=Wy?0:Ey,this._lock=1,this.render(Ty,ka,!Ey)._lock=0,!ka&&this.parent&&ze(this,"onRepeat"),this.vars.repeatRefresh&&!Gy&&this.getChildren().forEach(function(jy){return jy.invalidate()}),Ty!==this._time||Ny!==!this._ts)return this;if(Uy&&(this._lock=2,Ty=Wy?Ey+1e-4:-1e-4,this.render(Ty,!0)),this._lock=0,!this._ts&&!Ny)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(By=zl(this,le(Ty),le(Iy)),By&&(My-=Iy-(Iy=By._start))),this._tTime=My,this._time=Iy,this._act=!Oy,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),!Ty&&Iy&&!ka&&ze(this,"onStart"),Iy>=Ty&&ba>=0)for(Ly=this._first;Ly;){if(Py=Ly._next,(Ly._act||Iy>=Ly._start)&&Ly._ts&&By!==Ly){if(Ly.parent!==this)return this.render(ba,ka,_y);if(Ly.render(Ly._ts>0?(Iy-Ly._start)*Ly._ts:(Ly._dirty?Ly.totalDuration():Ly._tDur)+(Iy-Ly._start)*Ly._ts,ka,_y),Iy!==this._time||!this._ts&&!Ny){By=0;break}}Ly=Py}else{Ly=this._last;for(var Yy=ba<0?ba:Iy;Ly;){if(Py=Ly._prev,(Ly._act||Yy<=Ly._end)&&Ly._ts&&By!==Ly){if(Ly.parent!==this)return this.render(ba,ka,_y);if(Ly.render(Ly._ts>0?(Yy-Ly._start)*Ly._ts:(Ly._dirty?Ly.totalDuration():Ly._tDur)+(Yy-Ly._start)*Ly._ts,ka,_y),Iy!==this._time||!this._ts&&!Ny){By=0;break}}Ly=Py}}if(By&&!ka&&(this.pause(),By.render(Iy>=Ty?0:-we)._zTime=Iy>=Ty?1:-1,this._ts))return this._start=Fy,this.render(ba,ka,_y);this._onUpdate&&!ka&&ze(this,"onUpdate",!0),(My===Ay&&Ay>=this.totalDuration()||!My&&this._ts<0)&&(Fy===this._start||Math.abs(Oy)!==Math.abs(this._ts))&&((ba||!Ey)&&(ba&&this._ts>0||!My&&this._ts<0)&&kt(this,1),!ka&&!(ba<0&&!Ty)&&(ze(this,My===Ay?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}return this},Sa.add=function(ba,ka){var _y=this;if(it(ka)||(ka=xe(this,ka)),!(ba instanceof wi)){if(je(ba))return ba.forEach(function(Ty){return _y.add(Ty,ka)}),ht(this);if(Ee(ba))return this.addLabel(ba,ka);if(Ce(ba))ba=ve.delayedCall(0,ba);else return this}return this!==ba?ct(this,ba,ka):this},Sa.getChildren=function(ba,ka,_y,Ty){ba===void 0&&(ba=!0),ka===void 0&&(ka=!0),_y===void 0&&(_y=!0),Ty===void 0&&(Ty=-Ye);for(var Ay=[],Ey=this._first;Ey;)Ey._start>=Ty&&(Ey instanceof ve?ka&&Ay.push(Ey):(_y&&Ay.push(Ey),ba&&Ay.push.apply(Ay,Ey.getChildren(!0,ka,_y)))),Ey=Ey._next;return Ay},Sa.getById=function(ba){for(var ka=this.getChildren(1,1,1),_y=ka.length;_y--;)if(ka[_y].vars.id===ba)return ka[_y]},Sa.remove=function(ba){return Ee(ba)?this.removeLabel(ba):Ce(ba)?this.killTweensOf(ba):(sn(this,ba),ba===this._recent&&(this._recent=this._last),ht(this))},Sa.totalTime=function(ba,ka){return arguments.length?(this._forcing=1,!this.parent&&!this._dp&&this._ts&&(this._start=Ue.time-(this._ts>0?ba/this._ts:(this.totalDuration()-ba)/-this._ts)),ha.prototype.totalTime.call(this,ba,ka),this._forcing=0,this):this._tTime},Sa.addLabel=function(ba,ka){return this.labels[ba]=xe(this,ka),this},Sa.removeLabel=function(ba){return delete this.labels[ba],this},Sa.addPause=function(ba,ka,_y){var Ty=ve.delayedCall(0,ka||Ci,_y);return Ty.data="isPause",this._hasPause=1,ct(this,Ty,xe(this,ba))},Sa.removePause=function(ba){var ka=this._first;for(ba=xe(this,ba);ka;)ka._start===ba&&ka.data==="isPause"&&kt(ka),ka=ka._next},Sa.killTweensOf=function(ba,ka,_y){for(var Ty=this.getTweensOf(ba,_y),Ay=Ty.length;Ay--;)Lt!==Ty[Ay]&&Ty[Ay].kill(ba,ka);return this},Sa.getTweensOf=function(ba,ka){for(var _y=[],Ty=st(ba),Ay=this._first,Ey;Ay;)Ay instanceof ve?Ll(Ay._targets,Ty)&&(!ka||Ay.isActive(ka==="started"))&&_y.push(Ay):(Ey=Ay.getTweensOf(Ty,ka)).length&&_y.push.apply(_y,Ey),Ay=Ay._next;return _y},Sa.tweenTo=function(ba,ka){var _y=this,Ty=xe(_y,ba),Ay=ka&&ka.startAt,Ey=ve.to(_y,et({ease:"none",lazy:!1,time:Ty,duration:Math.abs(Ty-(Ay&&"time"in Ay?Ay.time:_y._time))/_y.timeScale()||we,onStart:function(){_y.pause();var My=Math.abs(Ty-_y._time)/_y.timeScale();Ey._dur!==My&&(Ey._dur=My,Ey.render(Ey._time,!0,!0)),ka&&ka.onStart&&ka.onStart.apply(Ey,ka.onStartParams||[])}},ka));return Ey},Sa.tweenFromTo=function(ba,ka,_y){return this.tweenTo(ka,et({startAt:{time:xe(this,ba)}},_y))},Sa.recent=function(){return this._recent},Sa.nextLabel=function(ba){return ba===void 0&&(ba=this._time),Tn(this,xe(this,ba))},Sa.previousLabel=function(ba){return ba===void 0&&(ba=this._time),Tn(this,xe(this,ba),1)},Sa.currentLabel=function(ba){return arguments.length?this.seek(ba,!0):this.previousLabel(this._time+we)},Sa.shiftChildren=function(ba,ka,_y){_y===void 0&&(_y=0);for(var Ty=this._first,Ay=this.labels,Ey;Ty;)Ty._start>=_y&&(Ty._start+=ba),Ty=Ty._next;if(ka)for(Ey in Ay)Ay[Ey]>=_y&&(Ay[Ey]+=ba);return ht(this)},Sa.invalidate=function(){var ba=this._first;for(this._lock=0;ba;)ba.invalidate(),ba=ba._next;return ha.prototype.invalidate.call(this)},Sa.clear=function(ba){ba===void 0&&(ba=!0);for(var ka=this._first,_y;ka;)_y=ka._next,this.remove(ka),ka=_y;return this._time=this._tTime=0,ba&&(this.labels={}),ht(this)},Sa.totalDuration=function(ba){var ka=0,_y=this,Ty=_y._last,Ay=Ye,Ey=_y._repeat,My=Ey*_y._rDelay||0,Dy=Ey<0,Iy,Ly;if(!arguments.length){if(_y._dirty){for(;Ty;)Iy=Ty._prev,Ty._dirty&&Ty.totalDuration(),Ty._start>Ay&&_y._sort&&Ty._ts&&!_y._lock?(_y._lock=1,ct(_y,Ty,Ty._start-Ty._delay),_y._lock=0):Ay=Ty._start,Ty._start<0&&Ty._ts&&(ka-=Ty._start,(!_y.parent&&!_y._dp||_y.parent&&_y.parent.smoothChildTiming)&&(_y._start+=Ty._start/_y._ts,_y._time-=Ty._start,_y._tTime-=Ty._start),_y.shiftChildren(-Ty._start,!1,-1e20),Ay=0),Ly=Ty._end=Ty._start+Ty._tDur/Math.abs(Ty._ts||Ty._pauseTS||we),Ly>ka&&Ty._ts&&(ka=le(Ly)),Ty=Iy;_y._dur=_y===be&&_y._time>ka?_y._time:Math.min(Ye,ka),_y._tDur=Dy&&(_y._dur||My)?1e12:Math.min(Ye,ka*(Ey+1)+My),_y._end=_y._start+(_y._tDur/Math.abs(_y._ts||_y._pauseTS||we)||0),_y._dirty=0}return _y._tDur}return Dy?_y:_y.timeScale(_y.totalDuration()/ba)},ua.updateRoot=function(ba){if(be._ts&&(Dr(be,zs(ba,be)),xr=Ue.frame),Ue.frame>=$n){$n+=Xe.autoSleep||120;var ka=be._first;if((!ka||!ka._ts)&&Xe.autoSleep&&Ue._listeners.length<2){for(;ka&&!ka._ts;)ka=ka._next;ka||Ue.sleep()}}},ua}(wi);et(Oe.prototype,{_lock:0,_hasPause:0,_forcing:0});var td=function(ha,ua,Sa,ba,ka,_y,Ty){var Ay=new Fe(this._pt,ha,ua,0,1,Xr,null,ka),Ey=0,My=0,Dy,Iy,Ly,Py,Ry,Vy,Ny,By;for(Ay.b=Sa,Ay.e=ba,Sa+="",ba+="",(Ny=~ba.indexOf("random("))&&(ba=is(ba)),_y&&(By=[Sa,ba],_y(By,ha,ua),Sa=By[0],ba=By[1]),Iy=Sa.match(gs)||[];Dy=gs.exec(ba);)Py=Dy[0],Ry=ba.substring(Ey,Dy.index),Ly?Ly=(Ly+1)%5:Ry.substr(-5)==="rgba("&&(Ly=1),Py!==Iy[My++]&&(Vy=parseFloat(Iy[My-1])||0,Ay._pt={_next:Ay._pt,p:Ry||My===1?Ry:",",s:Vy,c:Py.charAt(1)==="="?parseFloat(Py.substr(2))*(Py.charAt(0)==="-"?-1:1):parseFloat(Py)-Vy,m:Ly&&Ly<4?Math.round:0},Ey=gs.lastIndex);return Ay.c=Ey<ba.length?ba.substring(Ey,ba.length):"",Ay.fp=Ty,(wr.test(ba)||Ny)&&(Ay.e=0),this._pt=Ay,Ay},nn=function(ha,ua,Sa,ba,ka,_y,Ty,Ay,Ey){Ce(ba)&&(ba=ba(ka||0,ha,_y));var My=ha[ua],Dy=Sa!=="get"?Sa:Ce(My)?Ey?ha[ua.indexOf("set")||!Ce(ha["get"+ua.substr(3)])?ua:"get"+ua.substr(3)](Ey):ha[ua]():My,Iy=Ce(My)?Ey?od:jr:rn,Ly;if(Ee(ba)&&(~ba.indexOf("random(")&&(ba=is(ba)),ba.charAt(1)==="="&&(ba=parseFloat(Dy)+parseFloat(ba.substr(2))*(ba.charAt(0)==="-"?-1:1)+(mt(Dy)||0))),Dy!==ba)return isNaN(Dy+ba)?(!My&&!(ua in ha)&&Sr(ua,ba),td.call(this,ha,ua,Dy,ba,Iy,Ay||Xe.stringFilter,Ey)):(Ly=new Fe(this._pt,ha,ua,+Dy||0,ba-(Dy||0),typeof My=="boolean"?ld:qr,0,Iy),Ey&&(Ly.fp=Ey),Ty&&Ly.modifier(Ty,this,ha),this._pt=Ly)},id=function(ha,ua,Sa,ba,ka){if(Ce(ha)&&(ha=gi(ha,ka,ua,Sa,ba)),!ft(ha)||ha.style&&ha.nodeType||je(ha))return Ee(ha)?gi(ha,ka,ua,Sa,ba):ha;var _y={},Ty;for(Ty in ha)_y[Ty]=gi(ha[Ty],ka,ua,Sa,ba);return _y},Ur=function(ha,ua,Sa,ba,ka,_y){var Ty,Ay,Ey,My;if(Be[ha]&&(Ty=new Be[ha]).init(ka,Ty.rawVars?ua[ha]:id(ua[ha],ba,ka,_y,Sa),Sa,ba,_y)!==!1&&(Sa._pt=Ay=new Fe(Sa._pt,ka,ha,0,1,Ty.render,Ty,0,Ty.priority),Sa!==jt))for(Ey=Sa._ptLookup[Sa._targets.indexOf(ka)],My=Ty._props.length;My--;)Ey[Ty._props[My]]=Ay;return Ty},Lt,sd=function ha(ua,Sa){var ba=ua.vars,ka=ba.ease,_y=ba.startAt,Ty=ba.immediateRender,Ay=ba.lazy,Ey=ba.onUpdate,My=ba.onUpdateParams,Dy=ba.callbackScope,Iy=ba.runBackwards,Ly=ba.yoyoEase,Py=ba.keyframes,Ry=ba.autoRevert,Vy=ua._dur,Ny=ua._startAt,By=ua._targets,Oy=ua.parent,Fy=Oy&&Oy.data==="nested"?Oy.parent._targets:By,zy=ua._overwrite==="auto",Hy=ua.timeline,Gy,Wy,Uy,Yy,jy,Ky,Xy,Zy,Jy,t_,Qy,r_;if(Hy&&(!Py||!ka)&&(ka="none"),ua._ease=Jt(ka,ei.ease),ua._yEase=Ly?Nr(Jt(Ly===!0?ka:Ly,ei.ease)):0,Ly&&ua._yoyo&&!ua._repeat&&(Ly=ua._yEase,ua._yEase=ua._ease,ua._ease=Ly),!Hy){if(Ny&&Ny.render(-1,!0).kill(),_y){if(kt(ua._startAt=ve.set(By,et({data:"isStart",overwrite:!1,parent:Oy,immediateRender:!0,lazy:Ie(Ay),startAt:null,delay:0,onUpdate:Ey,onUpdateParams:My,callbackScope:Dy,stagger:0},_y))),Ty){if(Sa>0)!Ry&&(ua._startAt=0);else if(Vy)return}}else if(Iy&&Vy){if(Ny)!Ry&&(ua._startAt=0);else if(Sa&&(Ty=!1),kt(ua._startAt=ve.set(By,Rt(Gi(ba,bi),{overwrite:!1,data:"isFromStart",lazy:Ty&&Ie(Ay),immediateRender:Ty,stagger:0,parent:Oy}))),!Ty)ha(ua._startAt,we);else if(!Sa)return}for(Gy=Gi(ba,bi),ua._pt=0,Zy=By[0]?Kt(By[0]).harness:0,r_=Zy&&ba[Zy.prop],Ay=Vy&&Ie(Ay)||Ay&&!Vy,Wy=0;Wy<By.length;Wy++){if(jy=By[Wy],Xy=jy._gsap||tn(By)[Wy]._gsap,ua._ptLookup[Wy]=t_={},_s[Xy.id]&&Hi(),Qy=Fy===By?Wy:Fy.indexOf(jy),Zy&&(Jy=new Zy).init(jy,r_||Gy,ua,Qy,Fy)!==!1&&(ua._pt=Yy=new Fe(ua._pt,jy,Jy.name,0,1,Jy.render,Jy,0,Jy.priority),Jy._props.forEach(function(i_){t_[i_]=Yy}),Jy.priority&&(Ky=1)),!Zy||r_)for(Uy in Gy)Be[Uy]&&(Jy=Ur(Uy,Gy,ua,Qy,jy,Fy))?Jy.priority&&(Ky=1):t_[Uy]=Yy=nn.call(ua,jy,Uy,"get",Gy[Uy],Qy,Fy,0,ba.stringFilter);ua._op&&ua._op[Wy]&&ua.kill(jy,ua._op[Wy]),zy&&ua._pt&&(Lt=ua,be.killTweensOf(jy,t_,"started"),Lt=0),ua._pt&&Ay&&(_s[Xy.id]=1)}Ky&&Kr(ua),ua._onInit&&ua._onInit(ua)}ua._from=!Hy&&!!ba.runBackwards,ua._onUpdate=Ey,ua._initted=1},nd=function(ha,ua){var Sa=ha[0]?Kt(ha[0]).harness:0,ba=Sa&&Sa.aliases,ka,_y,Ty,Ay;if(!ba)return ua;ka=Rt({},ua);for(_y in ba)if(_y in ka)for(Ay=ba[_y].split(","),Ty=Ay.length;Ty--;)ka[Ay[Ty]]=ka[_y];return ka},gi=function(ha,ua,Sa,ba,ka){return Ce(ha)?ha.call(ua,Sa,ba,ka):Ee(ha)&&~ha.indexOf("random(")?is(ha):ha},Yr=Ir+",repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",rd=(Yr+",id,stagger,delay,duration,paused").split(","),ve=function(ha){gr(ua,ha);function ua(ba,ka,_y){var Ty;typeof ka=="number"&&(_y.duration=ka,ka=_y,_y=null),Ty=ha.call(this,Fl(ka),_y)||this;var Ay=Ty.vars,Ey=Ay.duration,My=Ay.delay,Dy=Ay.immediateRender,Iy=Ay.stagger,Ly=Ay.overwrite,Py=Ay.keyframes,Ry=Ay.defaults,Vy=je(ba)&&it(ba[0])?[ba]:st(ba),Ny,By,Oy,Fy,zy,Hy,Gy,Wy;if(Ty._targets=Vy.length?tn(Vy):Vr("GSAP target "+ba+" not found. https://greensock.com",!Xe.nullTargetWarn)||[],Ty._ptLookup=[],Ty._overwrite=Ly,Py||Iy||Cn(Ey)||Cn(My)){if(ka=Ty.vars,Ny=Ty.timeline=new Oe({data:"nested",defaults:Ry||{}}),Ny.kill(),Ny.parent=ri(Ty),Py)et(Ny.vars.defaults,{ease:"none"}),Py.forEach(function(Uy){return Ny.to(Vy,Uy,">")});else{if(Fy=Vy.length,Gy=Iy?Rr(Iy):Ci,ft(Iy))for(zy in Iy)~Yr.indexOf(zy)&&(Wy||(Wy={}),Wy[zy]=Iy[zy]);for(By=0;By<Fy;By++){Oy={};for(zy in ka)rd.indexOf(zy)<0&&(Oy[zy]=ka[zy]);Oy.stagger=0,Wy&&Rt(Oy,Wy),ka.yoyoEase&&!ka.repeat&&(Oy.yoyoEase=ka.yoyoEase),Hy=Vy[By],Oy.duration=+gi(Ey,ri(Ty),By,Hy,Vy),Oy.delay=(+gi(My,ri(Ty),By,Hy,Vy)||0)-Ty._delay,!Iy&&Fy===1&&Oy.delay&&(Ty._delay=My=Oy.delay,Ty._start+=My,Oy.delay=0),Ny.to(Hy,Oy,Gy(By,Hy,Vy))}Ey=My=0}Ey||Ty.duration(Ey=Ny.duration())}else Ty.timeline=0;return Ly===!0&&(Lt=ri(Ty),be.killTweensOf(Vy),Lt=0),(Dy||!Ey&&!Py&&Ty._start===Ty.parent._time&&Ie(Dy)&&_l(ri(Ty))&&Ty.parent.data!=="nested")&&(Ty._tTime=-we,Ty.render(Math.max(0,-My))),Ty}var Sa=ua.prototype;return Sa.render=function(ba,ka,_y){var Ty=this._time,Ay=this._tDur,Ey=this._dur,My=ba>Ay-we&&ba>=0?Ay:ba<we?0:ba,Dy,Iy,Ly,Py,Ry,Vy,Ny,By,Oy;if(!Ey)Ol(this,ba,ka,_y);else if(My!==this._tTime||!ba||_y||this._startAt&&this._zTime<0!=ba<0){if(Dy=My,By=this.timeline,this._repeat){if(Py=Ey+this._rDelay,Dy=le(My%Py),Dy>Ey&&(Dy=Ey),Ly=~~(My/Py),Ly&&Ly===My/Py&&(Dy=Ey,Ly--),Vy=this._yoyo&&Ly&1,Vy&&(Oy=this._yEase,Dy=Ey-Dy),Ry=ti(this._tTime,Py),Dy===Ty&&!_y&&this._initted)return this;Ly!==Ry&&this.vars.repeatRefresh&&!Vy&&!this._lock&&(this._lock=_y=1,this.render(Py*Ly,!0).invalidate()._lock=0)}if(!this._initted&&Pr(this,Dy,_y,ka))return this._tTime=0,this;for(this._tTime=My,this._time=Dy,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=Ny=(Oy||this._ease)(Dy/Ey),this._from&&(this.ratio=Ny=1-Ny),!Ty&&Dy&&!ka&&ze(this,"onStart"),Iy=this._pt;Iy;)Iy.r(Ny,Iy.d),Iy=Iy._next;By&&By.render(ba<0?ba:!Dy&&Vy?-we:By._dur*Ny,ka,_y)||this._startAt&&(this._zTime=ba),this._onUpdate&&!ka&&(ba<0&&this._startAt&&this._startAt.render(ba,!0,_y),ze(this,"onUpdate")),this._repeat&&Ly!==Ry&&this.vars.onRepeat&&!ka&&this.parent&&ze(this,"onRepeat"),(My===this._tDur||!My)&&this._tTime===My&&(ba<0&&this._startAt&&!this._onUpdate&&this._startAt.render(ba,!0,_y),(ba||!Ey)&&(ba&&this._ts>0||!My&&this._ts<0)&&kt(this,1),!ka&&!(ba<0&&!Ty)&&(ze(this,My===Ay?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}return this},Sa.targets=function(){return this._targets},Sa.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),ha.prototype.invalidate.call(this)},Sa.kill=function(ba,ka){if(ka===void 0&&(ka="all"),!ba&&(!ka||ka==="all")&&(this._lazy=0,this.parent))return Oi(this);if(this.timeline)return this.timeline.killTweensOf(ba,ka,Lt&&Lt.vars.overwrite!==!0),this;var _y=this._targets,Ty=ba?st(ba):_y,Ay=this._ptLookup,Ey=this._pt,My,Dy,Iy,Ly,Py,Ry,Vy;if((!ka||ka==="all")&&Ml(_y,Ty))return Oi(this);for(My=this._op=this._op||[],ka!=="all"&&(Ee(ka)&&(Py={},qe(ka,function(Ny){return Py[Ny]=1}),ka=Py),ka=nd(_y,ka)),Vy=_y.length;Vy--;)if(~Ty.indexOf(_y[Vy])){Dy=Ay[Vy],ka==="all"?(My[Vy]=ka,Ly=Dy,Iy={}):(Iy=My[Vy]=My[Vy]||{},Ly=ka);for(Py in Ly)Ry=Dy&&Dy[Py],Ry&&((!("kill"in Ry.d)||Ry.d.kill(Py)===!0)&&sn(this,Ry,"_pt"),delete Dy[Py]),Iy!=="all"&&(Iy[Py]=1)}return this._initted&&!this._pt&&Ey&&Oi(this),this},ua.to=function(ba,ka){return new ua(ba,ka,arguments[2])},ua.from=function(ba,ka){return new ua(ba,mi(arguments,1))},ua.delayedCall=function(ba,ka,_y,Ty){return new ua(ka,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:ba,onComplete:ka,onReverseComplete:ka,onCompleteParams:_y,onReverseCompleteParams:_y,callbackScope:Ty})},ua.fromTo=function(ba,ka,_y){return new ua(ba,mi(arguments,2))},ua.set=function(ba,ka){return ka.duration=0,ka.repeatDelay||(ka.repeat=0),new ua(ba,ka)},ua.killTweensOf=function(ba,ka,_y){return be.killTweensOf(ba,ka,_y)},ua}(wi);et(ve.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});qe("staggerTo,staggerFrom,staggerFromTo",function(ha){ve[ha]=function(){var ua=new Oe,Sa=As.call(arguments,0);return Sa.splice(ha==="staggerFromTo"?5:4,0,0),ua[ha].apply(ua,Sa)}});var rn=function(ha,ua,Sa){return ha[ua]=Sa},jr=function(ha,ua,Sa){return ha[ua](Sa)},od=function(ha,ua,Sa,ba){return ha[ua](ba.fp,Sa)},ad=function(ha,ua,Sa){return ha.setAttribute(ua,Sa)},on=function(ha,ua){return Ce(ha[ua])?jr:en(ha[ua])&&ha.setAttribute?ad:rn},qr=function(ha,ua){return ua.set(ua.t,ua.p,Math.round((ua.s+ua.c*ha)*1e4)/1e4,ua)},ld=function(ha,ua){return ua.set(ua.t,ua.p,!!(ua.s+ua.c*ha),ua)},Xr=function(ha,ua){var Sa=ua._pt,ba="";if(!ha&&ua.b)ba=ua.b;else if(ha===1&&ua.e)ba=ua.e;else{for(;Sa;)ba=Sa.p+(Sa.m?Sa.m(Sa.s+Sa.c*ha):Math.round((Sa.s+Sa.c*ha)*1e4)/1e4)+ba,Sa=Sa._next;ba+=ua.c}ua.set(ua.t,ua.p,ba,ua)},an=function(ha,ua){for(var Sa=ua._pt;Sa;)Sa.r(ha,Sa.d),Sa=Sa._next},dd=function(ha,ua,Sa,ba){for(var ka=this._pt,_y;ka;)_y=ka._next,ka.p===ba&&ka.modifier(ha,ua,Sa),ka=_y},ud=function(ha){for(var ua=this._pt,Sa,ba;ua;)ba=ua._next,ua.p===ha&&!ua.op||ua.op===ha?sn(this,ua,"_pt"):ua.dep||(Sa=1),ua=ba;return!Sa},hd=function(ha,ua,Sa,ba){ba.mSet(ha,ua,ba.m.call(ba.tween,Sa,ba.mt),ba)},Kr=function(ha){for(var ua=ha._pt,Sa,ba,ka,_y;ua;){for(Sa=ua._next,ba=ka;ba&&ba.pr>ua.pr;)ba=ba._next;(ua._prev=ba?ba._prev:_y)?ua._prev._next=ua:ka=ua,(ua._next=ba)?ba._prev=ua:_y=ua,ua=Sa}ha._pt=ka},Fe=function(){function ha(Sa,ba,ka,_y,Ty,Ay,Ey,My,Dy){this.t=ba,this.s=_y,this.c=Ty,this.p=ka,this.r=Ay||qr,this.d=Ey||this,this.set=My||rn,this.pr=Dy||0,this._next=Sa,Sa&&(Sa._prev=this)}var ua=ha.prototype;return ua.modifier=function(Sa,ba,ka){this.mSet=this.mSet||this.set,this.set=hd,this.m=Sa,this.mt=ka,this.tween=ba},ha}();qe(Ir+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",function(ha){bi[ha]=1,ha.substr(0,2)==="on"&&(bi[ha+"Params"]=1)});Ze.TweenMax=Ze.TweenLite=ve;Ze.TimelineLite=Ze.TimelineMax=Oe;be=new Oe({sortChildren:!1,defaults:ei,autoRemoveChildren:!0,id:"root"});Xe.stringFilter=Wr;var Yi={registerPlugin:function(){for(var ha=arguments.length,ua=new Array(ha),Sa=0;Sa<ha;Sa++)ua[Sa]=arguments[Sa];ua.forEach(function(ba){return Xl(ba)})},timeline:function(ha){return new Oe(ha)},getTweensOf:function(ha,ua){return be.getTweensOf(ha,ua)},getProperty:function(ha,ua,Sa,ba){Ee(ha)&&(ha=st(ha)[0]);var ka=Kt(ha||{}).get,_y=Sa?Os:Lr;return Sa==="native"&&(Sa=""),ha&&(ua?_y((Be[ua]&&Be[ua].get||ka)(ha,ua,Sa,ba)):function(Ty,Ay,Ey){return _y((Be[Ty]&&Be[Ty].get||ka)(ha,Ty,Ay,Ey))})},quickSetter:function(ha,ua,Sa){if(ha=st(ha),ha.length>1){var ba=ha.map(function(Ey){return at.quickSetter(Ey,ua,Sa)}),ka=ba.length;return function(Ey){for(var My=ka;My--;)ba[My](Ey)}}ha=ha[0]||{};var _y=Be[ua],Ty=Kt(ha),Ay=_y?function(Ey){var My=new _y;jt._pt=0,My.init(ha,Sa?Ey+Sa:Ey,jt,0,[ha]),My.render(1,My),jt._pt&&an(1,jt)}:Ty.set(ha,ua);return _y?Ay:function(Ey){return Ay(ha,ua,Sa?Ey+Sa:Ey,Ty,1)}},isTweening:function(ha){return be.getTweensOf(ha,!0).length>0},defaults:function(ha){return ha&&ha.ease&&(ha.ease=Jt(ha.ease,ei.ease)),Sn(ei,ha||{})},config:function(ha){return Sn(Xe,ha||{})},registerEffect:function(ha){var ua=ha.name,Sa=ha.effect,ba=ha.plugins,ka=ha.defaults,_y=ha.extendTimeline;(ba||"").split(",").forEach(function(Ty){return Ty&&!Be[Ty]&&!Ze[Ty]&&Vr(ua+" effect requires "+Ty+" plugin.")}),ps[ua]=function(Ty,Ay){return Sa(st(Ty),et(Ay||{},ka))},_y&&(Oe.prototype[ua]=function(Ty,Ay,Ey){return this.add(ps[ua](Ty,ft(Ay)?Ay:(Ey=Ay)&&{}),Ey)})},registerEase:function(ha,ua){re[ha]=Jt(ua)},parseEase:function(ha,ua){return arguments.length?Jt(ha,ua):re},getById:function(ha){return be.getById(ha)},exportRoot:function(ha,ua){ha===void 0&&(ha={});var Sa=new Oe(ha),ba,ka;for(Sa.smoothChildTiming=Ie(ha.smoothChildTiming),be.remove(Sa),Sa._dp=0,Sa._time=Sa._tTime=be._time,ba=be._first;ba;)ka=ba._next,(ua||!(!ba._dur&&ba instanceof ve&&ba.vars.onComplete===ba._targets[0]))&&ct(Sa,ba,ba._start-ba._delay),ba=ka;return ct(be,Sa,0),Sa},utils:{wrap:Yl,wrapYoyo:jl,distribute:Rr,random:_r,snap:Br,normalize:Ul,getUnit:mt,clamp:Wl,splitColor:Ar,toArray:st,mapRange:zr,pipe:Hl,unitize:Gl,interpolate:ql,shuffle:Mr},install:$r,effects:ps,ticker:Ue,updateRoot:Oe.updateRoot,plugins:Be,globalTimeline:be,core:{PropTween:Fe,globals:Tr,Tween:ve,Timeline:Oe,Animation:wi,getCache:Kt}};qe("to,from,fromTo,delayedCall,set,killTweensOf",function(ha){return Yi[ha]=ve[ha]});Ue.add(Oe.updateRoot);jt=Yi.to({},{duration:0});var cd=function(ha,ua){for(var Sa=ha._pt;Sa&&Sa.p!==ua&&Sa.op!==ua&&Sa.fp!==ua;)Sa=Sa._next;return Sa},fd=function(ha,ua){var Sa=ha._targets,ba,ka,_y;for(ba in ua)for(ka=Sa.length;ka--;)_y=ha._ptLookup[ka][ba],_y&&(_y=_y.d)&&(_y._pt&&(_y=cd(_y,ba)),_y&&_y.modifier&&_y.modifier(ua[ba],ha,Sa[ka],ba))},ks=function(ha,ua){return{name:ha,rawVars:1,init:function(Sa,ba,ka){ka._onInit=function(_y){var Ty,Ay;if(Ee(ba)&&(Ty={},qe(ba,function(Ey){return Ty[Ey]=1}),ba=Ty),ua){Ty={};for(Ay in ba)Ty[Ay]=ua(ba[Ay]);ba=Ty}fd(_y,ba)}}}},at=Yi.registerPlugin({name:"attr",init:function(ha,ua,Sa,ba,ka){for(var _y in ua)this.add(ha,"setAttribute",(ha.getAttribute(_y)||0)+"",ua[_y],ba,ka,0,0,_y),this._props.push(_y)}},{name:"endArray",init:function(ha,ua){for(var Sa=ua.length;Sa--;)this.add(ha,Sa,ha[Sa]||0,ua[Sa])}},ks("roundProps",Ws),ks("modifiers"),ks("snap",Br))||Yi;ve.version=Oe.version=at.version="3.1.1";Cr=1;vr()&&$i();re.Power0;re.Power1;re.Power2;re.Power3;re.Power4;re.Linear;re.Quad;re.Cubic;re.Quart;re.Quint;re.Strong;re.Elastic;re.Back;re.SteppedEase;re.Bounce;re.Sine;re.Expo;re.Circ;/*!
 * CSSPlugin 3.1.1
 * https://greensock.com
 *
 * Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var In,nt,Qt,ln,Pt,di,En,md=function(){return typeof window<"u"},Ct={},Et=180/Math.PI,pi=Math.PI/180,Nt=Math.atan2,Dn=1e8,Jr=/([A-Z])/g,Li=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,gd=/(?:left|right|width|margin|padding|x)/i,pd=/[\s,\(]\S/,bt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Qr=function(ha,ua){return ua.set(ua.t,ua.p,~~((ua.s+ua.c*ha)*1e3)/1e3+ua.u,ua)},vd=function(ha,ua){return ua.set(ua.t,ua.p,ha===1?ua.e:~~((ua.s+ua.c*ha)*1e3)/1e3+ua.u,ua)},bd=function(ha,ua){return ua.set(ua.t,ua.p,ha?~~((ua.s+ua.c*ha)*1e3)/1e3+ua.u:ua.b,ua)},wd=function(ha,ua){var Sa=ua.s+ua.c*ha;ua.set(ua.t,ua.p,~~(Sa+(Sa<0?-.5:.5))+ua.u,ua)},Zr=function(ha,ua){return ua.set(ua.t,ua.p,ha?ua.e:ua.b,ua)},eo=function(ha,ua){return ua.set(ua.t,ua.p,ha!==1?ua.b:ua.e,ua)},yd=function(ha,ua,Sa){return ha.style[ua]=Sa},kd=function(ha,ua,Sa){return ha.style.setProperty(ua,Sa)},Cd=function(ha,ua,Sa){return ha._gsap[ua]=Sa},$d=function(ha,ua,Sa){return ha._gsap.scaleX=ha._gsap.scaleY=Sa},Sd=function(ha,ua,Sa,ba,ka){var _y=ha._gsap;_y.scaleX=_y.scaleY=Sa,_y.renderTransform(ka,_y)},Vd=function(ha,ua,Sa,ba,ka){var _y=ha._gsap;_y[ua]=Sa,_y.renderTransform(ka,_y)},Ke="transform",$t=Ke+"Origin",to,Hs=function(ha,ua){var Sa=nt.createElementNS?nt.createElementNS((ua||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),ha):nt.createElement(ha);return Sa.style?Sa:nt.createElement(ha)},ii=function ha(ua,Sa,ba){var ka=getComputedStyle(ua);return ka[Sa]||ka.getPropertyValue(Sa.replace(Jr,"-$1").toLowerCase())||ka.getPropertyValue(Sa)||!ba&&ha(ua,Zt(Sa)||Sa,1)||""},Ln="O,Moz,ms,Ms,Webkit".split(","),Zt=function(ha,ua){var Sa=ua||Pt,ba=Sa.style,ka=5;if(ha in ba)return ha;for(ha=ha.charAt(0).toUpperCase()+ha.substr(1);ka--&&!(Ln[ka]+ha in ba););return ka<0?null:(ka===3?"ms":ka>=0?Ln[ka]:"")+ha},Gs=function(){md()&&(In=window,nt=In.document,Qt=nt.documentElement,Pt=Hs("div")||{style:{}},di=Hs("div"),Ke=Zt(Ke),$t=Zt($t),Pt.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",to=!!Zt("perspective"),ln=1)},Td=function ha(ua){var Sa=Hs("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),ba=this.parentNode,ka=this.nextSibling,_y=this.style.cssText,Ty;if(Qt.appendChild(Sa),Sa.appendChild(this),this.style.display="block",ua)try{Ty=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=ha}catch{}else this._gsapBBox&&(Ty=this._gsapBBox());return ka?ba.insertBefore(this,ka):ba.appendChild(this),Qt.removeChild(Sa),this.style.cssText=_y,Ty},Pn=function(ha,ua){for(var Sa=ua.length;Sa--;)if(ha.hasAttribute(ua[Sa]))return ha.getAttribute(ua[Sa])},io=function(ha){var ua;try{ua=ha.getBBox()}catch{ua=Td.call(ha,!0)}return ua&&!ua.width&&!ua.x&&!ua.y?{x:+Pn(ha,["x","cx","x1"])||0,y:+Pn(ha,["y","cy","y1"])||0,width:0,height:0}:ua},so=function(ha){return!!(ha.getCTM&&(!ha.parentNode||ha.ownerSVGElement)&&io(ha))},Us=function(ha,ua){if(ua){var Sa=ha.style;ua in Ct&&(ua=Ke),Sa.removeProperty?((ua.substr(0,2)==="ms"||ua.substr(0,6)==="webkit")&&(ua="-"+ua),Sa.removeProperty(ua.replace(Jr,"-$1").toLowerCase())):Sa.removeAttribute(ua)}},wt=function(ha,ua,Sa,ba,ka,_y){var Ty=new Fe(ha._pt,ua,Sa,0,1,_y?eo:Zr);return ha._pt=Ty,Ty.b=ba,Ty.e=ka,ha._props.push(Sa),Ty},Fn={deg:1,rad:1,turn:1},Bt=function(ha,ua,Sa,ba){var ka=parseFloat(Sa)||0,_y=(Sa+"").trim().substr((ka+"").length)||"px",Ty=Pt.style,Ay=gd.test(ua),Ey=ha.tagName.toLowerCase()==="svg",My=(Ey?"client":"offset")+(Ay?"Width":"Height"),Dy=100,Iy=ba==="px",Ly,Py,Ry,Vy;return ba===_y||!ka||Fn[ba]||Fn[_y]?ka:(Vy=ha.getCTM&&so(ha),ba==="%"&&(Ct[ua]||~ua.indexOf("adius"))?le(ka/(Vy?ha.getBBox()[Ay?"width":"height"]:ha[My])*Dy):(Ty[Ay?"width":"height"]=Dy+(Iy?_y:ba),Py=~ua.indexOf("adius")||ba==="em"&&ha.appendChild&&!Ey?ha:ha.parentNode,Vy&&(Py=(ha.ownerSVGElement||{}).parentNode),(!Py||Py===nt||!Py.appendChild)&&(Py=nt.body),Ry=Py._gsap,Ry&&ba==="%"&&Ry.width&&Ay&&Ry.time===Ue.time?le(ka/Ry.width*Dy):(Py===ha&&(Ty.position="static"),Py.appendChild(Pt),Ly=Pt[My],Py.removeChild(Pt),Ty.position="absolute",Ay&&ba==="%"&&(Ry=Kt(Py),Ry.time=Ue.time,Ry.width=Py[My]),le(Iy?Ly*ka/Dy:Dy/Ly*ka))))},ui=function(ha,ua,Sa,ba){var ka;return ln||Gs(),ua in bt&&ua!=="transform"&&(ua=bt[ua],~ua.indexOf(",")&&(ua=ua.split(",")[0])),Ct[ua]&&ua!=="transform"?(ka=ss(ha,ba),ka=ua!=="transformOrigin"?ka[ua]:qi(ii(ha,$t))+ka.zOrigin+"px"):(ka=ha.style[ua],(!ka||ka==="auto"||ba||~(ka+"").indexOf("calc("))&&(ka=ji[ua]&&ji[ua](ha,ua,Sa)||ii(ha,ua)||Er(ha,ua)||(ua==="opacity"?1:0))),Sa&&!~(ka+"").indexOf(" ")?Bt(ha,ua,ka,Sa)+Sa:ka},xd=function(ha,ua,Sa,ba){var ka=new Fe(this._pt,ha.style,ua,0,1,Xr),_y=0,Ty=0,Ay,Ey,My,Dy,Iy,Ly,Py,Ry,Vy,Ny,By,Oy,Fy;if(ka.b=Sa,ka.e=ba,Sa+="",ba+="",ba==="auto"&&(ha.style[ua]=ba,ba=ii(ha,ua)||ba,ha.style[ua]=Sa),Ay=[Sa,ba],Wr(Ay),Sa=Ay[0],ba=Ay[1],Ly=Sa.indexOf("rgba("),Py=ba.indexOf("rgba("),!!Ly!=!!Py&&(Ly?Sa=Sa.substr(Ly)+" "+Sa.substr(0,Ly-1):ba=ba.substr(Py)+" "+ba.substr(0,Py-1)),My=Sa.match(Li)||[],Fy=ba.match(Li)||[],Fy.length){for(;Ey=Li.exec(ba);)Py=Ey[0],Vy=ba.substring(_y,Ey.index),Iy?Iy=(Iy+1)%5:(Vy.substr(-5)==="rgba("||Vy.substr(-5)==="hsla(")&&(Iy=1),Py!==(Ly=My[Ty++]||"")&&(Dy=parseFloat(Ly)||0,By=Ly.substr((Dy+"").length),Oy=Py.charAt(1)==="="?+(Py.charAt(0)+"1"):0,Oy&&(Py=Py.substr(2)),Ry=parseFloat(Py),Ny=Py.substr((Ry+"").length),_y=Li.lastIndex-Ny.length,Ny||(Ny=Ny||Xe.units[ua]||By,_y===ba.length&&(ba+=Ny,ka.e+=Ny)),By!==Ny&&(Dy=Bt(ha,ua,Ly,Ny)||0),ka._pt={_next:ka._pt,p:Vy||Ty===1?Vy:",",s:Dy,c:Oy?Oy*Ry:Ry-Dy,m:Iy&&Iy<4?Math.round:0});ka.c=_y<ba.length?ba.substring(_y,ba.length):""}else ka.r=ua==="display"&&ba==="none"?eo:Zr;return wr.test(ba)&&(ka.e=0),this._pt=ka,ka},Mn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Id=function(ha){var ua=ha.split(" "),Sa=ua[0],ba=ua[1]||"50%";return(Sa==="top"||Sa==="bottom"||ba==="left"||ba==="right")&&(ha=Sa,Sa=ba,ba=ha),ua[0]=Mn[Sa]||Sa,ua[1]=Mn[ba]||ba,ua.join(" ")},Ed=function(ha,ua){if(ua.tween&&ua.tween._time===ua.tween._dur){var Sa=ua.t,ba=Sa.style,ka=ua.u,_y,Ty,Ay;if(ka==="all"||ka===!0)ba.cssText="",Ty=1;else for(ka=ka.split(","),Ay=ka.length;--Ay>-1;)_y=ka[Ay],Ct[_y]&&(Ty=1,_y=_y==="transformOrigin"?$t:Ke),Us(Sa,_y);Ty&&(Us(Sa,Ke),Ty=Sa._gsap,Ty&&(Ty.svg&&Sa.removeAttribute("transform"),ss(Sa,1)))}},ji={clearProps:function(ha,ua,Sa,ba,ka){if(ka.data!=="isFromStart"){var _y=ha._pt=new Fe(ha._pt,ua,Sa,0,0,Ed);return _y.u=ba,_y.pr=-10,_y.tween=ka,ha._props.push(Sa),1}}},yi=[1,0,0,1,0,0],no={},ro=function(ha){return ha==="matrix(1, 0, 0, 1, 0, 0)"||ha==="none"||!ha},Rn=function(ha){var ua=ii(ha,Ke);return ro(ua)?yi:ua.substr(7).match(br).map(le)},oo=function(ha,ua){var Sa=ha._gsap,ba=ha.style,ka=Rn(ha),_y,Ty,Ay,Ey;return Sa.svg&&ha.getAttribute("transform")?(Ay=ha.transform.baseVal.consolidate().matrix,ka=[Ay.a,Ay.b,Ay.c,Ay.d,Ay.e,Ay.f],ka.join(",")==="1,0,0,1,0,0"?yi:ka):(ka===yi&&!ha.offsetParent&&ha!==Qt&&!Sa.svg&&(Ay=ba.display,ba.display="block",_y=ha.parentNode,(!_y||!ha.offsetParent)&&(Ey=1,Ty=ha.nextSibling,Qt.appendChild(ha)),ka=Rn(ha),Ay?ba.display=Ay:Us(ha,"display"),Ey&&(Ty?_y.insertBefore(ha,Ty):_y?_y.appendChild(ha):Qt.removeChild(ha))),ua&&ka.length>6?[ka[0],ka[1],ka[4],ka[5],ka[12],ka[13]]:ka)},Ys=function(ha,ua,Sa,ba,ka,_y){var Ty=ha._gsap,Ay=ka||oo(ha,!0),Ey=Ty.xOrigin||0,My=Ty.yOrigin||0,Dy=Ty.xOffset||0,Iy=Ty.yOffset||0,Ly=Ay[0],Py=Ay[1],Ry=Ay[2],Vy=Ay[3],Ny=Ay[4],By=Ay[5],Oy=ua.split(" "),Fy=parseFloat(Oy[0])||0,zy=parseFloat(Oy[1])||0,Hy,Gy,Wy,Uy;Sa?Ay!==yi&&(Gy=Ly*Vy-Py*Ry)&&(Wy=Fy*(Vy/Gy)+zy*(-Ry/Gy)+(Ry*By-Vy*Ny)/Gy,Uy=Fy*(-Py/Gy)+zy*(Ly/Gy)-(Ly*By-Py*Ny)/Gy,Fy=Wy,zy=Uy):(Hy=io(ha),Fy=Hy.x+(~Oy[0].indexOf("%")?Fy/100*Hy.width:Fy),zy=Hy.y+(~(Oy[1]||Oy[0]).indexOf("%")?zy/100*Hy.height:zy)),ba||ba!==!1&&Ty.smooth?(Ny=Fy-Ey,By=zy-My,Ty.xOffset=Dy+(Ny*Ly+By*Ry)-Ny,Ty.yOffset=Iy+(Ny*Py+By*Vy)-By):Ty.xOffset=Ty.yOffset=0,Ty.xOrigin=Fy,Ty.yOrigin=zy,Ty.smooth=!!ba,Ty.origin=ua,Ty.originIsAbsolute=!!Sa,ha.style[$t]="0px 0px",_y&&(wt(_y,Ty,"xOrigin",Ey,Fy),wt(_y,Ty,"yOrigin",My,zy),wt(_y,Ty,"xOffset",Dy,Ty.xOffset),wt(_y,Ty,"yOffset",Iy,Ty.yOffset))},ss=function(ha,ua){var Sa=ha._gsap||new Gr(ha);if("x"in Sa&&!ua&&!Sa.uncache)return Sa;var ba=ha.style,ka=Sa.scaleX<0,_y=Sa.xOrigin||0,Ty=Sa.yOrigin||0,Ay="px",Ey="deg",My=ii(ha,$t)||"0",Dy,Iy,Ly,Py,Ry,Vy,Ny,By,Oy,Fy,zy,Hy,Gy,Wy,Uy,Yy,jy,Ky,Xy,Zy,Jy,t_,Qy,r_,i_,l_,c_,d_,f_,m_;return Dy=Iy=Ly=Vy=Ny=By=Oy=Fy=zy=0,Py=Ry=1,Sa.svg=!!(ha.getCTM&&so(ha)),Hy=oo(ha,Sa.svg),Sa.svg&&Ys(ha,My,Sa.originIsAbsolute,Sa.smooth!==!1,Hy),Hy!==yi&&(Yy=Hy[0],jy=Hy[1],Ky=Hy[2],Xy=Hy[3],Dy=Zy=Hy[4],Iy=Jy=Hy[5],Hy.length===6?(Py=Math.sqrt(Yy*Yy+jy*jy),Ry=Math.sqrt(Xy*Xy+Ky*Ky),Vy=Yy||jy?Nt(jy,Yy)*Et:0,Oy=Ky||Xy?Nt(Ky,Xy)*Et+Vy:0,Sa.svg&&(Dy-=_y-(_y*Yy+Ty*Ky),Iy-=Ty-(_y*jy+Ty*Xy))):(m_=Hy[6],d_=Hy[7],i_=Hy[8],l_=Hy[9],c_=Hy[10],f_=Hy[11],Dy=Hy[12],Iy=Hy[13],Ly=Hy[14],Gy=Nt(m_,c_),Ny=Gy*Et,Gy&&(Wy=Math.cos(-Gy),Uy=Math.sin(-Gy),t_=Zy*Wy+i_*Uy,Qy=Jy*Wy+l_*Uy,r_=m_*Wy+c_*Uy,i_=Zy*-Uy+i_*Wy,l_=Jy*-Uy+l_*Wy,c_=m_*-Uy+c_*Wy,f_=d_*-Uy+f_*Wy,Zy=t_,Jy=Qy,m_=r_),Gy=Nt(-Ky,c_),By=Gy*Et,Gy&&(Wy=Math.cos(-Gy),Uy=Math.sin(-Gy),t_=Yy*Wy-i_*Uy,Qy=jy*Wy-l_*Uy,r_=Ky*Wy-c_*Uy,f_=Xy*Uy+f_*Wy,Yy=t_,jy=Qy,Ky=r_),Gy=Nt(jy,Yy),Vy=Gy*Et,Gy&&(Wy=Math.cos(Gy),Uy=Math.sin(Gy),t_=Yy*Wy+jy*Uy,Qy=Zy*Wy+Jy*Uy,jy=jy*Wy-Yy*Uy,Jy=Jy*Wy-Zy*Uy,Yy=t_,Zy=Qy),Ny&&Math.abs(Ny)+Math.abs(Vy)>359.9&&(Ny=Vy=0,By=180-By),Py=le(Math.sqrt(Yy*Yy+jy*jy+Ky*Ky)),Ry=le(Math.sqrt(Jy*Jy+m_*m_)),Gy=Nt(Zy,Jy),Oy=Math.abs(Gy)>2e-4?Gy*Et:0,zy=f_?1/(f_<0?-f_:f_):0),Sa.svg&&(Hy=ha.getAttribute("transform"),Sa.forceCSS=ha.setAttribute("transform","")||!ro(ii(ha,Ke)),Hy&&ha.setAttribute("transform",Hy))),Math.abs(Oy)>90&&Math.abs(Oy)<270&&(ka?(Py*=-1,Oy+=Vy<=0?180:-180,Vy+=Vy<=0?180:-180):(Ry*=-1,Oy+=Oy<=0?180:-180)),Sa.x=((Sa.xPercent=Dy&&Math.round(ha.offsetWidth/2)===Math.round(-Dy)?-50:0)?0:Dy)+Ay,Sa.y=((Sa.yPercent=Iy&&Math.round(ha.offsetHeight/2)===Math.round(-Iy)?-50:0)?0:Iy)+Ay,Sa.z=Ly+Ay,Sa.scaleX=le(Py),Sa.scaleY=le(Ry),Sa.rotation=le(Vy)+Ey,Sa.rotationX=le(Ny)+Ey,Sa.rotationY=le(By)+Ey,Sa.skewX=Oy+Ey,Sa.skewY=Fy+Ey,Sa.transformPerspective=zy+Ay,(Sa.zOrigin=parseFloat(My.split(" ")[2])||0)&&(ba[$t]=qi(My)),Sa.xOffset=Sa.yOffset=0,Sa.force3D=Xe.force3D,Sa.renderTransform=Sa.svg?Ld:to?ao:Dd,Sa.uncache=0,Sa},qi=function(ha){return(ha=ha.split(" "))[0]+" "+ha[1]},Cs=function(ha,ua,Sa){var ba=mt(ua);return le(parseFloat(ua)+parseFloat(Bt(ha,"x",Sa+"px",ba)))+ba},Dd=function(ha,ua){ua.z="0px",ua.rotationY=ua.rotationX="0deg",ua.force3D=0,ao(ha,ua)},Tt="0deg",oi="0px",xt=") ",ao=function(ha,ua){var Sa=ua||this,ba=Sa.xPercent,ka=Sa.yPercent,_y=Sa.x,Ty=Sa.y,Ay=Sa.z,Ey=Sa.rotation,My=Sa.rotationY,Dy=Sa.rotationX,Iy=Sa.skewX,Ly=Sa.skewY,Py=Sa.scaleX,Ry=Sa.scaleY,Vy=Sa.transformPerspective,Ny=Sa.force3D,By=Sa.target,Oy=Sa.zOrigin,Fy="",zy=Ny==="auto"&&ha&&ha!==1||Ny===!0;if(Oy&&(Dy!==Tt||My!==Tt)){var Hy=parseFloat(My)*pi,Gy=Math.sin(Hy),Wy=Math.cos(Hy),Uy;Hy=parseFloat(Dy)*pi,Uy=Math.cos(Hy),_y=Cs(By,_y,Gy*Uy*-Oy),Ty=Cs(By,Ty,-Math.sin(Hy)*-Oy),Ay=Cs(By,Ay,Wy*Uy*-Oy+Oy)}Vy!==oi&&(Fy+="perspective("+Vy+xt),(ba||ka)&&(Fy+="translate("+ba+"%, "+ka+"%) "),(zy||_y!==oi||Ty!==oi||Ay!==oi)&&(Fy+=Ay!==oi||zy?"translate3d("+_y+", "+Ty+", "+Ay+") ":"translate("+_y+", "+Ty+xt),Ey!==Tt&&(Fy+="rotate("+Ey+xt),My!==Tt&&(Fy+="rotateY("+My+xt),Dy!==Tt&&(Fy+="rotateX("+Dy+xt),(Iy!==Tt||Ly!==Tt)&&(Fy+="skew("+Iy+", "+Ly+xt),(Py!==1||Ry!==1)&&(Fy+="scale("+Py+", "+Ry+xt),By.style[Ke]=Fy||"translate(0, 0)"},Ld=function(ha,ua){var Sa=ua||this,ba=Sa.xPercent,ka=Sa.yPercent,_y=Sa.x,Ty=Sa.y,Ay=Sa.rotation,Ey=Sa.skewX,My=Sa.skewY,Dy=Sa.scaleX,Iy=Sa.scaleY,Ly=Sa.target,Py=Sa.xOrigin,Ry=Sa.yOrigin,Vy=Sa.xOffset,Ny=Sa.yOffset,By=Sa.forceCSS,Oy=parseFloat(_y),Fy=parseFloat(Ty),zy,Hy,Gy,Wy,Uy;Ay=parseFloat(Ay),Ey=parseFloat(Ey),My=parseFloat(My),My&&(My=parseFloat(My),Ey+=My,Ay+=My),Ay||Ey?(Ay*=pi,Ey*=pi,zy=Math.cos(Ay)*Dy,Hy=Math.sin(Ay)*Dy,Gy=Math.sin(Ay-Ey)*-Iy,Wy=Math.cos(Ay-Ey)*Iy,Ey&&(My*=pi,Uy=Math.tan(Ey-My),Uy=Math.sqrt(1+Uy*Uy),Gy*=Uy,Wy*=Uy,My&&(Uy=Math.tan(My),Uy=Math.sqrt(1+Uy*Uy),zy*=Uy,Hy*=Uy)),zy=le(zy),Hy=le(Hy),Gy=le(Gy),Wy=le(Wy)):(zy=Dy,Wy=Iy,Hy=Gy=0),(Oy&&!~(_y+"").indexOf("px")||Fy&&!~(Ty+"").indexOf("px"))&&(Oy=Bt(Ly,"x",_y,"px"),Fy=Bt(Ly,"y",Ty,"px")),(Py||Ry||Vy||Ny)&&(Oy=le(Oy+Py-(Py*zy+Ry*Gy)+Vy),Fy=le(Fy+Ry-(Py*Hy+Ry*Wy)+Ny)),(ba||ka)&&(Uy=Ly.getBBox(),Oy=le(Oy+ba/100*Uy.width),Fy=le(Fy+ka/100*Uy.height)),Uy="matrix("+zy+","+Hy+","+Gy+","+Wy+","+Oy+","+Fy+")",Ly.setAttribute("transform",Uy),By&&(Ly.style[Ke]=Uy)},Pd=function(ha,ua,Sa,ba,ka,_y){var Ty=360,Ay=Ee(ka),Ey=parseFloat(ka)*(Ay&&~ka.indexOf("rad")?Et:1),My=_y?Ey*_y:Ey-ba,Dy=ba+My+"deg",Iy,Ly;return Ay&&(Iy=ka.split("_")[1],Iy==="short"&&(My%=Ty,My!==My%(Ty/2)&&(My+=My<0?Ty:-Ty)),Iy==="cw"&&My<0?My=(My+Ty*Dn)%Ty-~~(My/Ty)*Ty:Iy==="ccw"&&My>0&&(My=(My-Ty*Dn)%Ty-~~(My/Ty)*Ty)),ha._pt=Ly=new Fe(ha._pt,ua,Sa,ba,My,vd),Ly.e=Dy,Ly.u="deg",ha._props.push(Sa),Ly},Fd=function(ha,ua,Sa){var ba=di.style,ka=Sa._gsap,_y="perspective,force3D,transformOrigin,svgOrigin",Ty,Ay,Ey,My,Dy,Iy,Ly,Py;ba.cssText=getComputedStyle(Sa).cssText+";position:absolute;display:block;",ba[Ke]=ua,nt.body.appendChild(di),Ty=ss(di,1);for(Ay in Ct)Ey=ka[Ay],My=Ty[Ay],Ey!==My&&_y.indexOf(Ay)<0&&(Ly=mt(Ey),Py=mt(My),Dy=Ly!==Py?Bt(Sa,Ay,Ey,Py):parseFloat(Ey),Iy=parseFloat(My),ha._pt=new Fe(ha._pt,ka,Ay,Dy,Iy-Dy,Qr),ha._pt.u=Py||0,ha._props.push(Ay));nt.body.removeChild(di)};qe("padding,margin,Width,Radius",function(ha,ua){var Sa="Top",ba="Right",ka="Bottom",_y="Left",Ty=(ua<3?[Sa,ba,ka,_y]:[Sa+_y,Sa+ba,ka+ba,ka+_y]).map(function(Ay){return ua<2?ha+Ay:"border"+Ay+ha});ji[ua>1?"border"+ha:ha]=function(Ay,Ey,My,Dy,Iy){var Ly,Py;if(arguments.length<4)return Ly=Ty.map(function(Ry){return ui(Ay,Ry,My)}),Py=Ly.join(" "),Py.split(Ly[0]).length===5?Ly[0]:Py;Ly=(Dy+"").split(" "),Py={},Ty.forEach(function(Ry,Vy){return Py[Ry]=Ly[Vy]=Ly[Vy]||Ly[(Vy-1)/2|0]}),Ay.init(Ey,Py,Iy)}});var lo={name:"css",register:Gs,targetTest:function(ha){return ha.style&&ha.nodeType},init:function(ha,ua,Sa,ba,ka){var _y=this._props,Ty=ha.style,Ay,Ey,My,Dy,Iy,Ly,Py,Ry,Vy,Ny,By,Oy,Fy,zy,Hy;ln||Gs();for(Py in ua)if(Py!=="autoRound"&&(Ey=ua[Py],!(Be[Py]&&Ur(Py,ua,Sa,ba,ha,ka))))if(Iy=typeof Ey,Ly=ji[Py],Iy==="function"&&(Ey=Ey.call(Sa,ba,ha,ka),Iy=typeof Ey),Iy==="string"&&~Ey.indexOf("random(")&&(Ey=is(Ey)),Ly)Ly(this,ha,Py,Ey,Sa)&&(Hy=1);else if(Py.substr(0,2)==="--")this.add(Ty,"setProperty",getComputedStyle(ha).getPropertyValue(Py)+"",Ey+"",ba,ka,0,0,Py);else{if(Ay=ui(ha,Py),Dy=parseFloat(Ay),Ny=Iy==="string"&&Ey.charAt(1)==="="?+(Ey.charAt(0)+"1"):0,Ny&&(Ey=Ey.substr(2)),My=parseFloat(Ey),Py in bt&&(Py==="autoAlpha"&&(Dy===1&&ui(ha,"visibility")==="hidden"&&My&&(Dy=0),wt(this,Ty,"visibility",Dy?"inherit":"hidden",My?"inherit":"hidden",!My)),Py!=="scale"&&Py!=="transform"&&(Py=bt[Py],~Py.indexOf(",")&&(Py=Py.split(",")[0]))),By=Py in Ct,By){if(Oy||(Fy=ha._gsap,Fy.renderTransform||ss(ha),zy=ua.smoothOrigin!==!1&&Fy.smooth,Oy=this._pt=new Fe(this._pt,Ty,Ke,0,1,Fy.renderTransform,Fy,0,-1),Oy.dep=1),Py==="scale")this._pt=new Fe(this._pt,Fy,"scaleY",Fy.scaleY,Ny?Ny*My:My-Fy.scaleY),_y.push("scaleY",Py),Py+="X";else if(Py==="transformOrigin"){Ey=Id(Ey),Fy.svg?Ys(ha,Ey,0,zy,0,this):(Vy=parseFloat(Ey.split(" ")[2]),Vy!==Fy.zOrigin&&wt(this,Fy,"zOrigin",Fy.zOrigin,Vy),wt(this,Ty,Py,qi(Ay),qi(Ey)));continue}else if(Py==="svgOrigin"){Ys(ha,Ey,1,zy,0,this);continue}else if(Py in no){Pd(this,Fy,Py,Dy,Ey,Ny);continue}else if(Py==="smoothOrigin"){wt(this,Fy,"smooth",Fy.smooth,Ey);continue}else if(Py==="force3D"){Fy[Py]=Ey;continue}else if(Py==="transform"){Fd(this,Ey,ha);continue}}else Py in Ty||(Py=Zt(Py)||Py);if(By||(My||My===0)&&(Dy||Dy===0)&&!pd.test(Ey)&&Py in Ty)Ry=(Ay+"").substr((Dy+"").length),Vy=(Ey+"").substr((My+"").length)||(Py in Xe.units?Xe.units[Py]:Ry),Ry!==Vy&&(Dy=Bt(ha,Py,Ay,Vy)),this._pt=new Fe(this._pt,By?Fy:Ty,Py,Dy,Ny?Ny*My:My-Dy,Vy==="px"&&ua.autoRound!==!1&&!By?wd:Qr),this._pt.u=Vy||0,Ry!==Vy&&(this._pt.b=Ay,this._pt.r=bd);else if(Py in Ty)xd.call(this,ha,Py,Ay,Ey);else if(Py in ha)this.add(ha,Py,ha[Py],Ey,ba,ka);else{Sr(Py,Ey);continue}_y.push(Py)}Hy&&Kr(this)},get:ui,aliases:bt,getSetter:function(ha,ua,Sa){return ua=bt[ua]||ua,ua in Ct&&ua!==$t&&(ha._gsap.x||ui(ha,"x"))?Sa&&En===Sa?ua==="scale"?$d:Cd:(En=Sa||{})&&(ua==="scale"?Sd:Vd):ha.style&&!en(ha.style[ua])?yd:~ua.indexOf("-")?kd:on(ha,ua)}};at.utils.checkPrefix=Zt;(function(ha,ua,Sa,ba){var ka=qe(ha+","+ua+","+Sa,function(_y){Ct[_y]=1});qe(ua,function(_y){Xe.units[_y]="deg",no[_y]=1}),bt[ka[13]]=ha+","+ua,qe(ba,function(_y){var Ty=_y.split(":");bt[Ty[1]]=ka[Ty[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");qe("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(ha){Xe.units[ha]="px"});at.registerPlugin(lo);var Te=at.registerPlugin(lo)||at;Te.core.Tween;class ye{static preProcessElements(ua,Sa){let ba=[];return ua.forEach(ka=>{ka.hashCode||(ka.hashCode=this.GuidWithoutDash());let _y={oriBg:getComputedStyle(ka)["background-image"],oriBorder:getComputedStyle(ka)["border-image"],oriBgRepeat:getComputedStyle(ka)["background-repeat"],isBindingClickEvent:!1,wave:0,clickWave:{},revealPosition:{x:0,y:0},options:{backgroundGradientSize:150,borderGradientSize:80,borderLightColor:"rgba(255, 255, 255, 0.25)",backgroundLightColor:"rgba(255, 255, 255, 0.25)",status:"enabled"},el:ka};_y.options=Object.assign(_y.options,Sa),ba.push(_y)}),ba}static getOffset(ua){return{top:ua.el.getBoundingClientRect().top,left:ua.el.getBoundingClientRect().left}}static drawEffectBasic(ua,Sa=!1,ba="background"){let ka,_y;ka=`radial-gradient(circle ${this.valueTrigger(ua.options.borderGradientSize)}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, ${this.valueTrigger(ua.options.borderLightColor)}, rgba(255,255,255,0)) 5% 5% 5% 5%`,Sa===!1?_y=`radial-gradient(circle ${this.valueTrigger(ua.options.backgroundGradientSize)}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0))`:_y=`radial-gradient(circle ${this.valueTrigger(ua.options.backgroundGradientSize)}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0)), radial-gradient(circle ${ua.wave}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, rgba(255,255,255,0), ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0), rgba(255,255,255,0))`,ba=="background"?Sa==!0?(ua.wave=120,ua.clickWave=setInterval(()=>{try{let Ty=ua.wave,Ay=Ty/60+1;Ty+=Ay,Ty>=1e3?clearInterval(ua.clickWave):(ua.wave=Ty,_y=`radial-gradient(circle ${this.valueTrigger(ua.options.backgroundGradientSize)}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0)), radial-gradient(circle ${ua.wave}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, rgba(255,255,255,0), ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0), rgba(255,255,255,0))`,ua.el.style.backgroundImage=_y,ua.el.style.backgroundRepeat="no-repeat")}catch{}},50)):(clearInterval(ua.clickWave),ua.wave=0,_y=`radial-gradient(circle ${this.valueTrigger(ua.options.backgroundGradientSize)}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0))`,ua.el.style.backgroundImage=_y,ua.el.style.backgroundRepeat="no-repeat"):ba=="border"&&(ua.el.style.borderImage=ka)}static drawEffectBorder(ua,Sa=!1){this.drawEffectBasic(ua,Sa,"border")}static drawEffectBackground(ua,Sa=!1){this.drawEffectBasic(ua,Sa,"background")}static clearBackground(ua){!ua||(clearInterval(ua.clickWave),ua.wave=0,ua.el.style.backgroundImage=ua.oriBg,ua.el.style.backgroundRepeat=ua.oriBgRepeat)}static clearBorder(ua){ua.el.style.borderImage=ua.oriBorder}static isInsideElement(ua,Sa,ba){const ka={left:ua.el.getBoundingClientRect().left,right:ua.el.getBoundingClientRect().right,top:ua.el.getBoundingClientRect().top,bottom:ua.el.getBoundingClientRect().bottom};return Sa>=ka.left&&Sa<=ka.right&&ba>=ka.top&&ba<=ka.bottom}static distanceOfElement(ua,Sa,ba){const ka={left:ua.el.getBoundingClientRect().left,right:ua.el.getBoundingClientRect().right,top:ua.el.getBoundingClientRect().top,bottom:ua.el.getBoundingClientRect().bottom};return{left:ka.left-Sa,right:Sa-ka.right,top:ka.top-ba,bottom:ba-ka.bottom}}static GuidWithoutDash(){function ua(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ua()+ua()+ua()+ua()+ua()+ua()+ua()+ua()}static valueTrigger(ua){return typeof ua=="function"?ua():ua}static getOffset(ua){return{top:ua.el.getBoundingClientRect().top,left:ua.el.getBoundingClientRect().left}}static typeObj(ua){let Sa=Object.prototype.toString.call(ua);return Sa.substring(8,Sa.length-1)}static GuidWithoutDash(){function ua(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ua()+ua()+ua()+ua()+ua()+ua()+ua()+ua()}}class Md{constructor(){this.FvRevealElementList={window:{}},this.windowEventBinded=!1,this.initStatus=!1}init(){this.initStatus||(this.applyCommonEffects(),this.timer=setInterval(()=>{for(let ua in this.FvRevealElementList.window)this.refreshChildren(ua);for(let ua in this.FvRevealElementList)ua!="window"&&this.refreshChildren(ua)},1e3),this.initStatus=!0)}apply(ua,Sa){let ba={key:ye.GuidWithoutDash(),selector:".eff-reveal-border",backgroundGradientSize:150,borderGradientSize:80,borderLightColor:"rgba(255, 255, 255, 0.25)",backgroundLightColor:"rgba(255, 255, 255, 0.25)",eventTriggerMode:"window",status:"enabled"};Sa=Object.assign(ba,Sa);let ka=this.getChildren(ua,Sa);return Sa.eventTriggerMode==="window"?(this.FvRevealElementList.window[Sa.key]={key:Sa.key,el:ua,options:Sa,children:this.getChildrenX(ka,Sa)},this.applyCommonEffects()):(this.FvRevealElementList[Sa.key]={key:Sa.key,el:ua,options:Sa,children:this.getChildrenX(ka,Sa)},this.applyCommonEffects(Sa.key)),Sa.key}refreshChildren(ua){let Sa=this.FvRevealElementList[ua];Sa||(Sa=this.FvRevealElementList.window[ua]);let ba=[].slice.call(this.getChildren(Sa.el,Sa.options),0);Sa.children=[...Sa.children,...this.getChildrenX(ba.filter(ka=>!ka.hashCode),Sa.options)]}getChildren(ua,Sa){return ua==null&&(ua=document),Sa.selector?typeof Sa.selector=="string"?ua.querySelectorAll(Sa.selector):Array.isArray(Sa.selector)?Sa.maskedSelector:ye.typeObj(Sa.selector)==="NodeList"?Sa.selector:[Sa.selector]:[]}getChildrenX(ua,Sa){let ba=ye.preProcessElements(ua,Sa);for(let ka of ba)this.applyClickEffects(ka);return ba}applyCommonEffects(ua="window"){if(typeof global<"u")return;let Sa;if(window!==void 0){if(Sa=window,this.windowEventBinded)return;this.windowEventBinded=!0}if(ua!="window"&&(Sa=this.FvRevealElementList[ua].el),Sa===void 0)return;let ba=ua==="window"?this.FvRevealElementList.window:{key:this.FvRevealElementList[ua]},ka=Ty=>{if(Ty.type.indexOf("mouse")<0&&(Ty=Ty.targetTouches[0]),!!ba)for(let Ay in ba){let Ey=ba[Ay];for(let My of Ey.children){if(ye.valueTrigger(My.options.status)==="disabled")continue;let Dy=Ty.pageX-ye.getOffset(My).left-window.scrollX,Iy=Ty.pageY-ye.getOffset(My).top-window.scrollY;My.revealPosition.x=Dy,My.revealPosition.y=Iy;let Ly=ye.distanceOfElement(My,Ty.clientX,Ty.clientY);Ly.left>300||Ly.top>300||Ly.right>300||Ly.bottom>300||ye.drawEffectBorder(My),ye.isInsideElement(My,Ty.clientX,Ty.clientY)?My.wave==0&&ye.drawEffectBackground(My):ye.clearBackground(My)}}},_y=Ty=>{if(ba)for(let Ay in ba){let Ey=ba[Ay];for(let My of Ey.children)ye.clearBackground(My),ye.clearBorder(My)}};Sa.addEventListener("mousemove",ka),Sa.addEventListener("touchmove",ka),Sa.addEventListener("mouseleave",_y),Sa.addEventListener("touchend",_y)}applyClickEffects(ua){let Sa=_y=>{let Ty=_y.target,Ay=!1;for(;Ty&&Ty.tagName&&Ty.tagName.toLowerCase()!="body";){if(Ty==ua.el){Ay=!0;break}Ty=Ty.parentNode}return Ay},ba=_y=>{if(!Sa(_y)||ye.valueTrigger(ua.options.status)==="disabled")return;_y.type.indexOf("mouse")<0&&(_y=_y.targetTouches[0]);let Ty=_y.pageX-ye.getOffset(ua).left-window.scrollX,Ay=_y.pageY-ye.getOffset(ua).top-window.scrollY;ua.revealPosition.x=Ty,ua.revealPosition.y=Ay,ye.drawEffectBackground(ua,!0)},ka=_y=>{ye.drawEffectBackground(ua)};ua.isBindingClickEvent||(ua.el.addEventListener("mousedown",ba),ua.el.addEventListener("touchstart",ba),ua.el.addEventListener("mouseup",ka),ua.isBindingClickEvent=!0)}destroy(ua){let Sa=[];return this.FvRevealElementList.window[ua]&&Sa.push("window"),this.FvRevealElementList[ua]&&Sa.push("parent"),delete this.FvRevealElementList.window[ua],delete this.FvRevealElementList[ua],{exists:Sa,key:ua}}}class fe{static preProcessElements(ua,Sa,ba="target"){let ka=[];return ua.forEach(_y=>{_y.hashCode||(_y.hashCode=this.GuidWithoutDash());let Ty={oriBg:getComputedStyle(_y)["background-image"],oriBorder:getComputedStyle(_y)["border-image"],oriBgRepeat:getComputedStyle(_y)["background-repeat"],isBindingClickEvent:!1,wave:0,clickWave:{},revealPosition:{x:0,y:0},options:{backgroundGradientSize:150,borderGradientSize:80,borderLightColor:"rgba(255, 255, 255, 0.25)",backgroundLightColor:"rgba(255, 255, 255, 0.25)",elementType:ba,status:"enabled"},el:_y};Ty.options=Object.assign(Ty.options,Sa),ka.push(Ty)}),ka}static getOffset(ua){return{top:ua.el.getBoundingClientRect().top,left:ua.el.getBoundingClientRect().left}}static drawEffectBasic(ua,Sa=!1,ba="background"){let ka,_y;ka=`radial-gradient(circle ${this.valueTrigger(ua.options.borderGradientSize)}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, ${this.valueTrigger(ua.options.borderLightColor)}, rgba(255,255,255,0))`,Sa===!1?_y=`radial-gradient(circle ${this.valueTrigger(ua.options.backgroundGradientSize)}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0))`:_y=`radial-gradient(circle ${this.valueTrigger(ua.options.backgroundGradientSize)}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0)), radial-gradient(circle ${ua.wave}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, rgba(255,255,255,0), ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0), rgba(255,255,255,0))`,ba=="background"?Sa==!0?(ua.wave=120,ua.clickWave=setInterval(()=>{try{let Ty=ua.wave,Ay=Ty/60+1;Ty+=Ay,Ty>=1e3?clearInterval(ua.clickWave):(ua.wave=Ty,_y=`radial-gradient(circle ${this.valueTrigger(ua.options.backgroundGradientSize)}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0)), radial-gradient(circle ${ua.wave}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, rgba(255,255,255,0), ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0), rgba(255,255,255,0))`,ua.el.style.backgroundImage=_y,ua.el.style.backgroundRepeat="no-repeat")}catch{}},50)):(clearInterval(ua.clickWave),ua.wave=0,_y=`radial-gradient(circle ${this.valueTrigger(ua.options.backgroundGradientSize)}px at ${ua.revealPosition.x}px ${ua.revealPosition.y}px, ${this.valueTrigger(ua.options.backgroundLightColor)}, rgba(255,255,255,0))`,ua.el.style.backgroundImage=_y,ua.el.style.backgroundRepeat="no-repeat"):ba=="border"&&(ua.el.style.backgroundImage=ka,ua.el.style.backgroundRepeat="no-repeat")}static drawEffectBorder(ua,Sa=!1){this.drawEffectBasic(ua,Sa,"border")}static drawEffectBackground(ua,Sa=!1){this.drawEffectBasic(ua,Sa,"background")}static clearBackground(ua){!ua||(clearInterval(ua.clickWave),ua.wave=0,ua.el.style.backgroundImage=ua.oriBg,ua.el.style.backgroundRepeat=ua.oriBgRepeat)}static isInsideElement(ua,Sa,ba){const ka={left:ua.el.getBoundingClientRect().left,right:ua.el.getBoundingClientRect().right,top:ua.el.getBoundingClientRect().top,bottom:ua.el.getBoundingClientRect().bottom};return Sa>=ka.left&&Sa<=ka.right&&ba>=ka.top&&ba<=ka.bottom}static distanceOfElement(ua,Sa,ba){const ka={left:ua.el.getBoundingClientRect().left,right:ua.el.getBoundingClientRect().right,top:ua.el.getBoundingClientRect().top,bottom:ua.el.getBoundingClientRect().bottom};return{left:ka.left-Sa,right:Sa-ka.right,top:ka.top-ba,bottom:ba-ka.bottom}}static GuidWithoutDash(){function ua(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ua()+ua()+ua()+ua()+ua()+ua()+ua()+ua()}static valueTrigger(ua){return typeof ua=="function"?ua():ua}static getOffset(ua){return{top:ua.el.getBoundingClientRect().top,left:ua.el.getBoundingClientRect().left}}static typeObj(ua){let Sa=Object.prototype.toString.call(ua);return Sa.substring(8,Sa.length-1)}static GuidWithoutDash(){function ua(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ua()+ua()+ua()+ua()+ua()+ua()+ua()+ua()}}class Rd{constructor(){this.FvRevealElementList={window:{}},this.windowEventBinded=!1,this.initStatus=!1}init(){this.initStatus||(this.applyCommonEffects(),this.timer=setInterval(()=>{for(let ua in this.FvRevealElementList.window)this.refreshChildren(ua);for(let ua in this.FvRevealElementList)ua!="window"&&this.refreshChildren(ua)},1e3),this.initStatus=!0)}apply(ua,Sa){let ba={key:fe.GuidWithoutDash(),selector:".eff-reveal-border",backgroundGradientSize:150,borderGradientSize:80,borderLightColor:"rgba(255, 255, 255, 0.25)",backgroundLightColor:"rgba(255, 255, 255, 0.25)",eventTriggerMode:"window",elementType:"target",status:"enabled"};Sa=Object.assign(ba,Sa);let ka=this.getTargetChildren(ua,Sa),_y=this.getMaskedChildren(ua,Sa);return Sa.eventTriggerMode==="window"?(this.FvRevealElementList.window[Sa.key]={key:Sa.key,el:ua,options:Sa,targetChildren:this.getChildrenX(ka,Sa),maskedChildren:this.getChildrenX(_y,Sa,"masked")},this.applyCommonEffects()):(this.FvRevealElementList[Sa.key]={key:Sa.key,el:ua,options:Sa,targetChildren:this.getChildrenX(ka,Sa),maskedChildren:this.getChildrenX(_y,Sa,"masked")},this.applyCommonEffects(Sa.key)),Sa.key}refreshChildren(ua){let Sa=this.FvRevealElementList[ua];Sa||(Sa=this.FvRevealElementList.window[ua]);let ba=[].slice.call(this.getTargetChildren(parent,Sa.options),0),ka=[].slice.call(this.getMaskedChildren(parent,Sa.options),0);Sa.targetChildren=[...Sa.targetChildren,...this.getChildrenX(ba.filter(_y=>!_y.hashCode),Sa.options)],Sa.maskedChildren=[...Sa.maskedChildren,...this.getChildrenX(ka.filter(_y=>!_y.hashCode),Sa.options,"masked")]}getMaskedChildren(ua,Sa){return ua==null&&(ua=document),Sa.maskedSelector?typeof Sa.maskedSelector=="string"?ua.querySelectorAll(Sa.maskedSelector):Array.isArray(Sa.maskedSelector)||fe.typeObj(Sa.maskedSelector)==="NodeList"?Sa.maskedSelector:[Sa.maskedSelector]:[]}getTargetChildren(ua,Sa){return ua==null&&(ua=document),Sa.selector?typeof Sa.selector=="string"?ua.querySelectorAll(Sa.selector):Array.isArray(Sa.selector)||fe.typeObj(Sa.selector)==="NodeList"?Sa.selector:[Sa.selector]:[]}getChildrenX(ua,Sa,ba="target"){let ka=fe.preProcessElements(ua,Sa,ba);if(ba==="target")for(let _y of ka)this.applyClickEffects(_y);return ka}applyCommonEffects(ua="window"){if(typeof global<"u")return;let Sa;if(window!==void 0){if(Sa=window,this.windowEventBinded)return;this.windowEventBinded=!0}if(ua!="window"&&(Sa=this.FvRevealElementList[ua].el),Sa===void 0)return;let ba=ua==="window"?this.FvRevealElementList.window:{key:this.FvRevealElementList[ua]},ka=Ty=>{if(Ty.type.indexOf("mouse")<0&&(Ty=Ty.targetTouches[0]),!!ba)for(let Ay in ba){let Ey=ba[Ay];for(let My of Ey.targetChildren){if(fe.valueTrigger(My.options.status)==="disabled")continue;let Dy=Ty.pageX-fe.getOffset(My).left-window.scrollX,Iy=Ty.pageY-fe.getOffset(My).top-window.scrollY;My.revealPosition.x=Dy,My.revealPosition.y=Iy,fe.isInsideElement(My,Ty.clientX,Ty.clientY)?My.wave==0&&fe.drawEffectBackground(My):fe.clearBackground(My)}for(let My of Ey.maskedChildren){if(fe.valueTrigger(My.options.status)==="disabled")continue;let Dy=Ty.pageX-fe.getOffset(My).left-window.scrollX,Iy=Ty.pageY-fe.getOffset(My).top-window.scrollY;My.revealPosition.x=Dy,My.revealPosition.y=Iy;let Ly=fe.distanceOfElement(My,Ty.clientX,Ty.clientY);Ly.left>300||Ly.top>300||Ly.right>300||Ly.bottom>300||fe.drawEffectBorder(My)}}},_y=Ty=>{if(ba)for(let Ay in ba){let Ey=ba[Ay];for(let My of Ey.targetChildren)fe.clearBackground(My);for(let My of Ey.maskedChildren)fe.clearBackground(My)}};Sa.addEventListener("mousemove",ka),Sa.addEventListener("touchmove",ka),Sa.addEventListener("mouseleave",_y),Sa.addEventListener("touchend",_y)}applyClickEffects(ua){let Sa=_y=>{let Ty=_y.target,Ay=!1;for(;Ty&&Ty.tagName&&Ty.tagName.toLowerCase()!="body";){if(Ty==ua.el){Ay=!0;break}Ty=Ty.parentNode}return Ay},ba=_y=>{if(!Sa(_y)||fe.valueTrigger(ua.options.status)==="disabled")return;_y.type.indexOf("mouse")<0&&(_y=_y.targetTouches[0]);let Ty=_y.pageX-fe.getOffset(ua).left-window.scrollX,Ay=_y.pageY-fe.getOffset(ua).top-window.scrollY;ua.revealPosition.x=Ty,ua.revealPosition.y=Ay,fe.drawEffectBackground(ua,!0)},ka=_y=>{fe.drawEffectBackground(ua)};ua.isBindingClickEvent||(ua.el.addEventListener("mousedown",ba),ua.el.addEventListener("touchstart",ba),ua.el.addEventListener("mouseup",ka),ua.isBindingClickEvent=!0)}destroy(ua){let Sa=[];return this.FvRevealElementList.window[ua]&&Sa.push("window"),this.FvRevealElementList[ua]&&Sa.push("parent"),delete this.FvRevealElementList.window[ua],delete this.FvRevealElementList[ua],{exists:Sa,key:ua}}}const ni=Zs("RevealCache",{state:()=>({revealHandlerList:new Array,revealDirectJs:new Md,revealMaskedJs:new Rd}),actions:{initRevealInstances(){this.revealDirectJs.init(),this.revealMaskedJs.init()},setRevealHandler(ha){this.revealHandlerList.push(ha)},removeRevealHandler(ha){let ua=this.revealHandlerList.findIndex(Sa=>ha===Sa.id);ua!=-1&&this.revealHandlerList.splice(ua,1)}}}),Bd={props:{value:{default:()=>new Date},start:{default:1900},end:{default:3e3},size:{default:72.5},background:{default:""},theme:{default:"global"}},setup(){const ha=ni();return ha.initRevealInstances(),{uR:ha}},data(){return{thisValue:this.$SDate.Parse(this.$SDate.DateToString(this.value)),years:[],currentRange:0,FR:null,timer:{updateRange:{},scroller:{}},lock:{slide:!0}}},watch:{currentRange(ha){this.$emit("range-change",ha)}},computed:{$theme(){return Y(this.$props).theme.value},year(){return this.thisValue.getFullYear()},month(){return this.thisValue.getMonth()},date(){return this.thisValue.getDate()},nowYear(){return new Date().getFullYear()},nowMonth(){return new Date().getMonth()},nowDate(){return new Date().getDate()},borderLightColor(){return()=>this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"},backgroundLightColor(){return()=>this.$theme=="light"?"rgba(121, 119, 117, 0.1)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.1)":"rgba(121, 119, 117, 0.1)"},computedBackground(){return ha=>ha==this.nowYear?this.background:""}},mounted(){this.FRInit(),this.yearsInit(),this.scrollBottomToLoadInit(80),this.scrollTopToLoadInit(),this.rangeTimerInit()},methods:{FRInit(){this.FR=this.uR.revealMaskedJs.apply(this.$el,{maskedSelector:this.$refs.main,selector:[],borderGradientSize:90,backgroundGradientSize:120,borderLightColor:this.borderLightColor,backgroundLightColor:this.backgroundLightColor})},yearsInit(){let ha=[],ua=this.year-8;for(let Sa=0;Sa<28;Sa++)ha.push(ua),ua++;this.years=ha},scrollBottomToLoadInit(ha=0){let ua=this.$refs.main;ua.addEventListener("scroll",Sa=>{ua.scrollTop+ha>=ua.scrollHeight-ua.clientHeight&&this.loadNext()})},scrollTopToLoadInit(ha=0){let ua=this.$refs.main;ua.addEventListener("scroll",Sa=>{ua.scrollTop<=80&&this.loadPrev()})},rangeTimerInit(){clearInterval(this.timer.updateRange),this.timer.updateRange=setInterval(()=>{try{let ha=this.$refs.main.scrollTop;ha=ha+this.size*2,ha=ha/this.size*4,ha=Math.floor(ha),this.currentRange=Math.floor(this.years[ha]/10)*10}catch{this.currentRange=0}},300)},async loadPrev(){let ha=this.years[0];if(ha==this.start)return 0;for(let ua=0;ua<16;ua++){if(ha<=this.start)return 0;ha--,this.years.splice(0,0,ha)}await this.delay(30),this.$refs.main.scrollTop=this.$refs.main.scrollTop+16/4*this.size},async loadNext(){let ha=this.years[this.years.length-1];if(ha==this.end)return 0;for(let ua=0;ua<16;ua++){if(ha>=this.end)return 0;ha++,this.years.push(ha)}await this.delay(30)},async slide(ha){if(!this.lock.slide)return 0;this.lock.slide=!1,clearInterval(this.timer.scroller),this.years.indexOf(ha)==-1&&(ha<this.currentRange?await this.loadPrev():await this.loadNext()),await new Promise(ua=>{this.$nextTick(()=>{let Sa=this.years.indexOf(ha),ba=Math.floor(Sa/4)*this.size;Te.to(this.$refs.main,{scrollTop:ba,duration:.3,onComplete:()=>{this.lock.slide=!0,ua(0)}})})})},async delay(ha){return await new Promise(ua=>{setTimeout(()=>{ua(ha)},ha)})},choose(ha){this.$emit("choose",ha)}},beforeUnmount(){clearInterval(this.timer.updateRange),this.uR.revealMaskedJs.destroy(this.FR)}},_d={class:"picker-container",ref:"main"},Od=["onClick"];function zd(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",_d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.years,(Ty,Ay)=>(openBlock(),createElementBlock("button",{key:`year: ${Ay}`,class:normalizeClass(["picker-btn",{range:Ty>=ka.currentRange&&Ty-ka.currentRange<10,current:Ty==_y.nowYear}]),style:normalizeStyle$1({background:_y.computedBackground(Ty)}),onClick:Ey=>_y.choose(Ty)},toDisplayString(Ty),15,Od))),128))],512)}const uo=ae(Bd,[["render",zd]]),Ad={props:{value:{default:()=>new Date},start:{default:1900},end:{default:3e3},size:{default:72.5},lan:{default:"en"},background:{default:""},theme:{default:"global"}},setup(){const ha=ni();return ha.initRevealInstances(),{uR:ha}},data(){return{thisValue:this.$SDate.Parse(this.$SDate.DateToString(this.value)),months:[],monthList:[{en:"Jan",zh:"一月"},{en:"Feb",zh:"二月"},{en:"Mar",zh:"三月"},{en:"Apr",zh:"四月"},{en:"May",zh:"五月"},{en:"Jun",zh:"六月"},{en:"Jul",zh:"七月"},{en:"Aug",zh:"八月"},{en:"Set",zh:"九月"},{en:"Oct",zh:"十月"},{en:"Nov",zh:"十一月"},{en:"Dec",zh:"十二月"}],currentRange:0,FR:null,timer:{updateRange:{},scroller:{}},lock:{slide:!0}}},watch:{currentRange(ha){this.$emit("range-change",ha)}},computed:{$theme(){return Y(this.$props).theme.value},year(){return this.thisValue.getFullYear()},month(){return this.thisValue.getMonth()},date(){return this.thisValue.getDate()},nowYear(){return new Date().getFullYear()},nowMonth(){return new Date().getMonth()},nowDate(){return new Date().getDate()},borderLightColor(){return()=>this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"},backgroundLightColor(){return()=>this.$theme=="light"?"rgba(121, 119, 117, 0.1)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.1)":"rgba(121, 119, 117, 0.1)"},computedBackground(){return ha=>ha.year==this.nowYear&&ha.no===this.nowMonth?this.background:""}},mounted(){this.FRInit(),this.monthsInit(),this.scrollBottomToLoadInit(80),this.scrollTopToLoadInit(),this.rangeTimerInit()},methods:{FRInit(){this.FR=this.uR.revealMaskedJs.apply(this.$el,{maskedSelector:this.$refs.main,selector:[],borderGradientSize:90,backgroundGradientSize:120,borderLightColor:this.borderLightColor,backgroundLightColor:this.backgroundLightColor})},monthsInit(){let ha=[],ua=this.year-1;for(let Sa=0;Sa<3;Sa++){for(let ba=0;ba<this.monthList.length;ba++)ha.push({year:ua,no:ba,name:this.monthList[ba][this.lan]});ua++}this.months=ha,setTimeout(()=>{this.$refs.main.scrollTop=this.$refs.main.scrollTop+this.size*3},50)},scrollBottomToLoadInit(ha=0){let ua=this.$refs.main;ua.addEventListener("scroll",Sa=>{ua.scrollTop+ha>=ua.scrollHeight-ua.clientHeight&&this.loadNext()})},scrollTopToLoadInit(ha=0){let ua=this.$refs.main;ua.addEventListener("scroll",Sa=>{ua.scrollTop<=80&&this.loadPrev()})},rangeTimerInit(){clearInterval(this.timer.updateRange),this.timer.updateRange=setInterval(()=>{try{let ha=this.$refs.main.scrollTop;ha=ha+this.size*2,ha=ha/this.size*4,ha=Math.floor(ha),this.currentRange=this.months[ha+3]}catch{this.currentRange={year:0,no:0,name:this.monthList[0][this.lan]}}},300)},async loadPrev(){let ha=this.months[0].year;if(ha==this.start)return 0;ha--;for(let ua=this.monthList.length-1;ua>=0;ua--)this.months.splice(0,0,{year:ha,no:ua,name:this.monthList[ua][this.lan]});await this.delay(30),this.$refs.main.scrollTop=this.$refs.main.scrollTop+12/4*this.size},async loadNext(){let ha=this.months[this.months.length-1].year;if(ha==this.end)return 0;ha++;for(let ua=0;ua<this.monthList.length;ua++)this.months.push({year:ha,no:ua,name:this.monthList[ua][this.lan]});await this.delay(30)},async slide(ha){return this.lock.slide?(this.lock.slide=!1,clearInterval(this.timer.scroller),await new Promise(ua=>{this.timer.scroller=setInterval(()=>{let Sa=this.months.find(Ty=>Ty.year==ha.year&&Ty.no==0);if(Sa==null)return ha<this.currentRange.year?this.loadPrev():this.loadNext(),0;let ba=this.months.indexOf(Sa),ka=Math.floor(ba/4)*this.size,_y=-Math.floor((this.$refs.main.scrollTop-ka)/7);this.$refs.main.scrollTop=this.$refs.main.scrollTop+_y,_y==0&&(this.$refs.main.scrollTop=ka,this.lock.slide=!0,ua(0),clearInterval(this.timer.scroller))},30)})):0},async delay(ha){return await new Promise(ua=>{setTimeout(()=>{ua(ha)},ha)})},choose(ha){this.$emit("choose",ha)}},beforeUnmount(){clearInterval(this.timer.updateRange),this.uR.revealMaskedJs.destroy(this.FR)}},Wd={class:"picker-container",ref:"main"},Nd=["onClick"];function Hd(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",Wd,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.months,(Ty,Ay)=>(openBlock(),createElementBlock("button",{key:`year: ${Ay}`,class:normalizeClass(["picker-btn",{range:Ty.year===ka.currentRange.year,current:Ty.year===_y.nowYear&&Ty.no===_y.nowMonth}]),style:normalizeStyle$1({background:_y.computedBackground(Ty)}),onClick:Ey=>_y.choose(Ty)},toDisplayString(Ty.name),15,Nd))),128))],512)}const ho=ae(Ad,[["render",Hd]]),Gd={props:{value:{default:()=>new Date},start:{default:1900},end:{default:3e3},multiple:{default:"single"},size:{default:41},lan:{default:"en"},background:{default:""},selectedBackground:{default:""},selectedBorderColor:{default:""},choosenDates:{default:()=>[]},theme:{default:"global"}},setup(){const ha=ni();return ha.initRevealInstances(),{uR:ha}},data(){return{FR:null,thisValue:this.$SDate.Parse(this.$SDate.DateToString(this.value)),days:[],weekdays:{en:["Su","Mo","Tu","We","Th","Fr","Sa"],zh:["日","一","二","三","四","五","六"]},dayList:{leap:[31,29,31,30,31,30,31,31,30,31,30,31],default:[31,28,31,30,31,30,31,31,30,31,30,31]},currentRange:0,currentChoose:[],timer:{updateRange:{},scroller:{}},lock:{slide:!0}}},watch:{choosenDates:{handler(ha){this.currentChoose=JSON.parse(JSON.stringify(ha))},immediate:!0},currentRange(ha){this.$emit("range-change",ha)},multiple(ha){ha=="single"&&(this.currentChoose=[this.currentChoose[0]])}},computed:{$theme(){return Y(this.$props).theme.value},year(){return this.thisValue.getFullYear()},month(){return this.thisValue.getMonth()},date(){return this.thisValue.getDate()},nowYear(){return new Date().getFullYear()},nowMonth(){return new Date().getMonth()},nowDate(){return new Date().getDate()},borderLightColor(){return()=>this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"},backgroundLightColor(){return()=>this.$theme=="light"?"rgba(121, 119, 117, 0.1)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.1)":"rgba(121, 119, 117, 0.1)"},computedBackground(){return ha=>ha.year==this.nowYear&&ha.month==this.nowMonth&&ha.no==this.nowDate?this.background:this.isChoose(ha)?this.selectedBackground:""},computedBorderColor(){return ha=>this.isChoosenFirstOrLast(ha)?this.selectedBorderColor:""}},mounted(){this.FRInit(),this.daysInit(),this.scrollBottomToLoadInit(80),this.scrollTopToLoadInit(),this.rangeTimerInit()},methods:{FRInit(){this.FR=this.uR.revealMaskedJs.apply(this.$el,{maskedSelector:this.$refs.main,selector:[],borderGradientSize:90,backgroundGradientSize:120,borderLightColor:this.borderLightColor,backgroundLightColor:this.backgroundLightColor})},async daysInit(){this.thisValue=this.$SDate.Parse(this.$SDate.DateToString(this.value));let ha=[],ua=this.$SDate.Parse(this.$SDate.DateToString(this.thisValue));ua.setDate(1);let Sa=this.$SDate.Parse(this.$SDate.DateToString(ua));Sa.setMonth(Sa.getMonth()-1);let ba=ua.getDay()+14;for(let ka=this.dayList[this.leapYear(Sa.getFullYear())][Sa.getMonth()]-ba;ka<this.dayList[this.leapYear(Sa.getFullYear())][Sa.getMonth()];ka++)ha.push({year:Sa.getFullYear(),month:Sa.getMonth(),no:ka+1});for(let ka=0;ka<2;ka++){for(let _y=0;_y<this.dayList[this.leapYear(ua.getFullYear())][ua.getMonth()];_y++)ha.push({year:ua.getFullYear(),month:ua.getMonth(),no:_y+1});ua.setMonth(ua.getMonth()+1)}this.days=ha,await this.delay(50),this.$refs.main.scrollTop=this.$refs.main.scrollTop+this.size*2,this.loadPrev()},scrollBottomToLoadInit(ha=0){let ua=this.$refs.main;ua.addEventListener("scroll",Sa=>{ua.scrollTop+ha>=ua.scrollHeight-ua.clientHeight&&this.loadNext()})},scrollTopToLoadInit(ha=0){let ua=this.$refs.main;ua.addEventListener("scroll",Sa=>{ua.scrollTop<=80&&this.loadPrev()})},rangeTimerInit(){clearInterval(this.timer.updateRange),this.timer.updateRange=setInterval(()=>{try{let ha=this.$refs.main.scrollTop;ha=ha+this.size*2,ha=ha/this.size*7,ha=Math.floor(ha),this.currentRange=this.days[ha+6]}catch{this.currentRange={year:0,month:0,no:0}}},300)},async loadPrev(){let ha=new Date,ua=0;if(ha.setDate(this.days[0].no),ha.setMonth(this.days[0].month),ha.setFullYear(this.days[0].year),ha.getDate()!=1)for(let ka=ha.getDate()-2;ka>=0;ka--)this.days.splice(0,0,{year:ha.getFullYear(),month:ha.getMonth(),no:ka+1}),ua++;if(ha.getFullYear()==this.start&&ha.getMonth()==0)return 0;ha.setDate(1),ha.setMonth(this.days[0].month-1);for(let ka=this.dayList[this.leapYear(ha.getFullYear())][ha.getMonth()]-1;ka>=0;ka--)this.days.splice(0,0,{year:ha.getFullYear(),month:ha.getMonth(),no:ka+1}),ua++;let Sa=this.$SDate.Parse(this.$SDate.DateToString(ha));Sa.setMonth(Sa.getMonth()-1);let ba=ha.getDay()+14;for(let ka=this.dayList[this.leapYear(Sa.getFullYear())][Sa.getMonth()]-1;ka>=this.dayList[this.leapYear(Sa.getFullYear())][Sa.getMonth()]-ba;ka--)this.days.splice(0,0,{year:Sa.getFullYear(),month:Sa.getMonth(),no:ka+1}),ua++;ua=Math.floor(ua/7),await this.delay(30),this.$refs.main.scrollTop=this.$refs.main.scrollTop+ua*this.size},async loadNext(){let ha=new Date;if(ha.setDate(1),ha.setMonth(this.days[this.days.length-1].month),ha.setFullYear(this.days[this.days.length-1].year),ha.getFullYear()==this.end&&ha.getMonth()==11)return 0;ha.setMonth(this.days[this.days.length-1].month+1);for(let ua=0;ua<this.dayList[this.leapYear(ha.getFullYear())][ha.getMonth()];ua++)this.days.push({year:ha.getFullYear(),month:ha.getMonth(),no:ua+1});await this.delay(30)},async slide(ha){if(!this.lock.slide)return 0;this.lock.slide=!1;let ua=this.$SDate.Parse(`${ha.year}-${ha.month+1}-1 0:0:0`),Sa=this.$SDate.Parse(`${this.currentRange.year}-${this.currentRange.month+1}-${this.currentRange.no} 0:0:0`);return clearInterval(this.timer.scroller),await new Promise(ba=>{this.timer.scroller=setInterval(()=>{let ka=this.days.find(Ey=>Ey.year==ha.year&&Ey.month==ha.month&&Ey.no==1);if(ka==null)return this.$SDate.DisTime(ua,Sa)>0?this.loadPrev():this.loadNext(),0;let _y=this.days.indexOf(ka),Ty=Math.floor(_y/7)*this.size,Ay=-Math.floor((this.$refs.main.scrollTop-Ty)/2);this.$refs.main.scrollTop=this.$refs.main.scrollTop+Ay,Ay==0&&(this.$refs.main.scrollTop=Ty,this.lock.slide=!0,ba(0),clearInterval(this.timer.scroller))},60)})},leapYear(ha){return ha%4==0&&ha%100!=0||ha%400==0?"leap":"default"},getDaysInMonth(ha,ua){return new Date(ua,ha,0).getDate()},choose(ha){if(this.multiple=="single")this.currentChoose=[ha];else if(this.multiple=="multiple")this.currentChoose.push(ha);else if(this.multiple=="range"){this.currentChoose.sort((ba,ka)=>ba.year!=ka.year?ba.year-ka.year:ba.month!=ka.month?ba.month-ka.month:ba.no-ka.no);let Sa=this.currentChoose.length>0?[this.currentChoose[0]]:[ha];if(new Date(Sa[0].year,Sa[0].month,Sa[0].no)>=new Date(ha.year,ha.month,ha.no)||this.currentChoose.length>1?Sa=[ha]:Sa.push(ha),Sa.length===1)this.currentChoose=Sa;else{let ba=[];for(let ka=Sa[0].year;ka<=Sa[1].year;ka++){let _y=0,Ty=11;ka==Sa[0].year&&(_y=Sa[0].month),ka==Sa[1].year&&(Ty=Sa[1].month);for(let Ay=_y;Ay<=Ty;Ay++){let Ey=this.getDaysInMonth(Ay+1,ka);for(let My=1;My<=Ey;My++){let Dy={year:ka,month:Ay,no:My};ka===Sa[0].year&&_y===Sa[0].month&&My<Sa[0].no||ka===Sa[1].year&&Ty===Sa[1].month&&My>Sa[1].no||ba.push(Dy)}}}this.currentChoose=ba}}this.$emit("choosen-dates",this.currentChoose),this.$emit("choose",ha);let ua=this.currentChoose.map(Sa=>new Date(Sa.year,Sa.month,Sa.no));this.$emit("choosen-dates-obj",ua)},async delay(ha){return await new Promise(ua=>{setTimeout(()=>{ua(ha)},ha)})},isEqualItem(ha,ua){return ha.year==ua.year&&ha.month==ua.month&&ha.no==ua.no},isChoose(ha){return this.currentChoose.findIndex(ua=>ua.year==ha.year&&ua.month==ha.month&&ua.no==ha.no)!=-1},isChoosenFirstOrLast(ha){return this.multiple==="range"?this.currentChoose.length==0?!1:!!(this.isEqualItem(this.currentChoose[0],ha)||this.isEqualItem(this.currentChoose[this.currentChoose.length-1],ha)):this.isChoose(ha)}},beforeUnmount(){clearInterval(this.timer.updateRange),clearInterval(this.timer.scroller),this.uR.revealMaskedJs.destroy(this.FR)}},Ud={class:"day-block"},Yd={class:"weekdays-block"},jd={class:"picker-container",ref:"main"},qd=["title","onClick"];function Xd(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",Ud,[createBaseVNode("div",Yd,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.weekdays[Sa.lan],(Ty,Ay)=>(openBlock(),createElementBlock("button",{class:"weekday",key:`weekday: ${Ay}`},[renderSlot(ha.$slots,"weekday_content",{value:Ty},()=>[createTextVNode(toDisplayString(Ty),1)])]))),128))]),createBaseVNode("div",jd,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.days,(Ty,Ay)=>(openBlock(),createElementBlock("button",{key:`day: ${Ay}`,class:normalizeClass(["picker-btn day",{range:Ty.year==ka.currentRange.year&&Ty.month==ka.currentRange.month,current:Ty.year==_y.nowYear&&Ty.month==_y.nowMonth&&Ty.no==_y.nowDate,choose:_y.isChoosenFirstOrLast(Ty)}]),title:`${Ty.year}/${Ty.month+1}/${Ty.no}`,style:normalizeStyle$1({background:_y.computedBackground(Ty),"border-color":_y.computedBorderColor(Ty)}),onClick:Ey=>_y.choose(Ty)},toDisplayString(Ty.no),15,qd))),128))],512)])}const co=ae(Gd,[["render",Xd]]),Kd={class:"fv-calendar-control-block"},Jd={class:"slider-bar"},Qd=createBaseVNode("i",{class:"ms-Icon ms-Icon--CaretSolidUp"},null,-1),Zd=[Qd],eu=createBaseVNode("i",{class:"ms-Icon ms-Icon--CaretSolidDown"},null,-1),tu=[eu],iu={class:"container-block"},su={name:"FvCalendarView",components:{yearBox:uo,monthBox:ho,dateBox:co},data(){return{status:"date",thisValue:this.modelValue,yearRange:new Date().getFullYear(),monthRange:{year:new Date().getFullYear(),no:new Date().getMonth()},dayRange:{year:new Date().getFullYear(),month:new Date().getMonth(),no:1},transitionName:"fv-calendar-scale-down",monthList:{en:["January","February","March","April","May","June","July","August","September","October","November","December"],zh:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}}},watch:{modelValue(ha,ua){this.$SDate.IsSameDate(ha,ua)||(this.thisValue=this.$SDate.Parse(this.$SDate.DateToString(ha)))}},computed:{$theme(){return Y(this.$props).theme.value},statement(){return this.status=="date"?this.lan=="en"?`${this.monthList.en[this.dayRange.month]} ${this.dayRange.year}`:`${this.dayRange.year}年${this.dayRange.month+1}日`:this.status=="month"?this.lan=="en"?`${this.monthRange.year}`:`${this.monthRange.year}年`:`${this.yearRange} - ${this.yearRange+9}`},background(){let ha=this.foreground;this.foreground||(this.theme==="dark"?ha="rgba(118, 185, 237, 1)":ha="rgba(0, 120, 215, 1)");try{let ua=ot(ha);return ua=ua.alpha(1),ua.cssa()}catch{return""}},selectedBackground(){let ha=this.foreground;this.foreground||(this.theme==="dark"?ha="rgba(118, 185, 237, 1)":ha="rgba(0, 120, 215, 1)");try{let ua=ot(ha).hsl(),Sa=Math.round(ua.h()*360),ba=ua.s(),ka=ua.l();return ba=(ba-.3).toFixed(2),this.theme==="dark"?ka=(ka-.5).toFixed(2):ka=(ka+.5).toFixed(2),`hsla(${Sa}, ${ba*100}%, ${ka*100}%, 1)`}catch{return""}},selectedBorderColor(){let ha=this.foreground;this.foreground||(this.theme==="dark"?ha="rgba(118, 185, 237, 1)":ha="rgba(0, 120, 215, 1)");try{let ua=ot(ha).hsl(),Sa=Math.round(ua.h()*360),ba=ua.s(),ka=ua.l();return ba=(ba-.1).toFixed(2),ka=(ka-.01).toFixed(2),`hsla(${Sa}, ${ba*100}%, ${ka*100}%, 1)`}catch{return""}}},methods:{slideUp(){this.status=="year"?this.$refs.year.slide(this.yearRange-10):this.status=="month"?(this.monthRange.year-=1,this.$refs.month.slide(this.monthRange)):this.daySlide(-1)},slideDown(){this.status=="year"?this.$refs.year.slide(this.yearRange+10):this.status=="month"?(this.monthRange.year+=1,this.$refs.month.slide(this.monthRange)):this.daySlide()},daySlide(ha=1){let ua=this.$SDate.Parse(`${this.dayRange.year}-${this.dayRange.month+1}-${this.dayRange.no} 0:0:0`);ua.setDate(1),ua.setMonth(ua.getMonth()+ha),this.$refs.day.slide({year:ua.getFullYear(),month:ua.getMonth(),no:ua.getDate()})},switchView(){this.transitionName="fv-calendar-scale-down",this.status=="date"?this.status="month":this.status=="month"&&(this.status="year")},chooseYear(ha){this.transitionName="fv-calendar-scale-up",this.thisValue.setFullYear(ha),this.status="month",this.$emit("choose-year",ha)},chooseMonth(ha){this.transitionName="fv-calendar-scale-up",this.thisValue.setDate(1),this.thisValue.setMonth(ha.no),this.thisValue.setFullYear(ha.year),this.status="date",this.$emit("choose-month",this.thisValue)},chooseDate(ha){this.thisValue.setDate(ha.no),this.thisValue.setMonth(ha.month),this.thisValue.setFullYear(ha.year),this.$emit("choose-date",this.thisValue),this.$emit("update:modelValue",this.$SDate.Parse(this.$SDate.DateToString(this.thisValue)))}}},nu=Object.assign(su,{props:{...K,modelValue:{default:()=>new Date},start:{default:1900},end:{default:3e3},multiple:{default:"single"},choosenDates:{default:()=>[]},lan:{default:"en"},foreground:{default:""}},emits:["update:modelValue","choosen-dates","choose-year","choose-month","choose-date"],setup(ha,{expose:ua,emit:Sa}){const ba=ref(null);return ua({resetDate:()=>{ba.value.daysInit();let ka=ba.value.thisValue,_y=ka.getFullYear(),Ty=ka.getMonth(),Ay=ka.getDate();ba.value.slide({year:_y,month:Ty,no:Ay})}}),(ka,_y)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-CalendarView",[ka.$theme]])},[createBaseVNode("div",Kd,[createBaseVNode("p",{class:"calendar-switcher",onClick:_y[0]||(_y[0]=(...Ty)=>ka.switchView&&ka.switchView(...Ty))},[renderSlot(ka.$slots,"statement",{value:ka.statement,dayRange:ka.dayRange},()=>[createTextVNode(toDisplayString(ka.statement),1)])]),createBaseVNode("div",Jd,[createBaseVNode("span",{class:"slider-btn",onClick:_y[1]||(_y[1]=(...Ty)=>ka.slideUp&&ka.slideUp(...Ty))},Zd),createBaseVNode("span",{class:"slider-btn",onClick:_y[2]||(_y[2]=(...Ty)=>ka.slideDown&&ka.slideDown(...Ty))},tu)])]),createBaseVNode("div",iu,[createVNode$1(TransitionGroup,{name:ka.transitionName},{default:withCtx(()=>[ka.status=="year"?(openBlock(),createBlock(uo,{modelValue:ka.thisValue,"onUpdate:modelValue":_y[3]||(_y[3]=Ty=>ka.thisValue=Ty),theme:ka.$theme,lan:ha.lan,ref:"year",key:"1",background:ka.background,onRangeChange:_y[4]||(_y[4]=Ty=>ka.yearRange=Ty),onChoose:ka.chooseYear},null,8,["modelValue","theme","lan","background","onChoose"])):createCommentVNode("",!0),ka.status=="month"?(openBlock(),createBlock(ho,{modelValue:ka.thisValue,"onUpdate:modelValue":_y[5]||(_y[5]=Ty=>ka.thisValue=Ty),theme:ka.$theme,lan:ha.lan,ref:"month",key:"2",background:ka.background,onRangeChange:_y[6]||(_y[6]=Ty=>ka.monthRange=Ty),onChoose:ka.chooseMonth},null,8,["modelValue","theme","lan","background","onChoose"])):createCommentVNode("",!0),ka.status=="date"?(openBlock(),createBlock(co,{modelValue:ka.thisValue,"onUpdate:modelValue":_y[7]||(_y[7]=Ty=>ka.thisValue=Ty),theme:ka.$theme,lan:ha.lan,multiple:ha.multiple,choosenDates:ha.choosenDates,ref_key:"day",ref:ba,key:"3",background:ka.background,"selected-background":ka.selectedBackground,selectedBorderColor:ka.selectedBorderColor,onRangeChange:_y[8]||(_y[8]=Ty=>ka.dayRange=Ty),onChoosenDates:_y[9]||(_y[9]=Ty=>ka.$emit("choosen-dates",Ty)),onChoosenDatesObj:_y[10]||(_y[10]=Ty=>ka.$emit("choosen-dates-obj",Ty)),onChoose:ka.chooseDate},{weekday_content:withCtx(Ty=>[renderSlot(ka.$slots,"weekday_content",{value:Ty.value},()=>[createTextVNode(toDisplayString(Ty.value),1)])]),_:3},8,["modelValue","theme","lan","multiple","choosenDates","background","selected-background","selectedBorderColor","onChoose"])):createCommentVNode("",!0)]),_:3},8,["name"])])],2))}}),ru=J(nu),ou=createBaseVNode("div",{class:"fv-callout-bg"},null,-1),au={class:"header"},lu={class:"main"},du={class:"footer"},uu={name:"FvCallout"},hu=defineComponent({...uu,props:mergeModels({...K,space:{type:Number,default:0},beak:{type:Number,default:0},position:{type:String,default:"bottomCenter"},lockScroll:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},delayClose:{type:Number,default:0},effect:{type:String,default:"click"},popperStyle:{type:Object,default:()=>({})},popperClass:{type:Array,default:()=>[]},keepalive:{type:Boolean,default:!1}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:mergeModels([],["update:modelValue"]),setup(ha,{expose:ua,emit:Sa}){const ba=ha,{theme:ka}=Y(ba),_y=useModel(ha,"modelValue"),Ty=useSlots(),Ay=ref(null),Ey=La(Ty),My=ref({}),Dy=ref([]),Iy=ref({}),Ly=ref(),Py=ref(!1),Ry=["topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","leftTop","leftCenter","leftBottom","rightTop","rightCenter","rightBottom"],Vy=ref(),Ny=computed({get(){return ba.disabled===!0?!1:_y.value!==void 0?_y.value:Py.value},set(Ky){Ky===!0&&ba.position!==void 0&&By(ba.position),ba.disabled||(_y.value=Ky),Py.value=Ky}}),By=Ky=>{if(Vy.value===void 0||Ly.value===void 0)return;const Xy=Re(Ly.value),{width:Zy,height:Jy}=Xy;let t_=Ry.indexOf(Ky),Qy=[];for(let r_=0;r_<Ry.length;++r_){let i_=(t_+r_)%Ry.length,l_=Ry[i_];const c_=ba.beak===void 0?ba.space===void 0?0:ba.space:ba.space===void 0?ba.beak:ba.beak+ba.space;let d_=Fy(Vy.value,c_,l_,Jy,Zy),f_=Oy(d_);l_==Ky&&(f_|=1),Qy.push([f_,l_])}Qy=Qy.sort((r_,i_)=>i_[0]-r_[0]),zy(Qy[0][1])},Oy=Ky=>{let Xy=0;return Ky.left>=0&&(Xy|=16),Ky.top>=0&&(Xy|=8),Ky.width+Ky.left<=window.innerWidth&&(Xy|=4),Ky.height+Ky.top<=window.innerHeight&&(Xy|=2),Xy},Fy=(Ky,Xy,Zy,Jy,t_)=>{const Qy=Re(Ky),r_={top:0,left:0,height:Jy,width:t_};switch(Zy){case"bottomLeft":r_.left=Qy.left,r_.top=Qy.bottom+Xy;break;case"bottomCenter":r_.left=Qy.left+(Qy.width-r_.width)/2,r_.top=Qy.bottom+Xy;break;case"bottomRight":r_.left=Qy.right-r_.width,r_.top=Qy.bottom+Xy;break;case"topLeft":r_.left=Qy.left,r_.top=Qy.top-Xy-r_.height;break;case"topCenter":r_.left=Qy.left+(Qy.width-r_.width)/2,r_.top=Qy.top-Xy-r_.height;break;case"topRight":r_.left=Qy.right-r_.width,r_.top=Qy.top-Xy-r_.height;break;case"leftTop":r_.left=Qy.left-Xy-r_.width,r_.top=Qy.top;break;case"leftCenter":r_.left=Qy.left-Xy-r_.width,r_.top=Qy.top+(Qy.height-r_.height)/2;break;case"leftBottom":r_.left=Qy.left-Xy-r_.width,r_.top=Qy.bottom-r_.height;break;case"rightTop":r_.left=Qy.right+Xy,r_.top=Qy.top;break;case"rightCenter":r_.left=Qy.right+Xy,r_.top=Qy.top+(Qy.height-r_.height)/2;break;case"rightBottom":r_.left=Qy.right+Xy,r_.top=Qy.bottom-r_.height;break}return r_},zy=Ky=>{const Xy=Re(Vy.value);Iy.value={},ba.beak===void 0||ba.beak<10?Iy.value.display="none":(Iy.value.display="block",Iy.value.width=`${ba.beak}px`,Iy.value.height=`${ba.beak}px`);const Zy=ba.beak===void 0?ba.space===void 0?0:ba.space:ba.space===void 0?ba.beak:ba.beak+ba.space;switch(delete My.value.right,delete My.value.left,delete My.value.top,delete My.value.bottom,Dy.value=[Ky],Ky){case"bottomLeft":My.value.top=`${Xy.top+Xy.height+Zy}px`,My.value.left=`${Xy.left}px`,Iy.value.top="0",Iy.value.left="0",Iy.value.transform="translate(50%, -50%) rotate(45deg)";break;case"bottomRight":My.value.top=`${Xy.top+Xy.height+Zy}px`,My.value.left=`${Xy.right}px`,Iy.value.top="0",Iy.value.left="100%",Iy.value.transform="translate(-140%, -50%) rotate(45deg)";break;case"bottomCenter":My.value.top=`${Xy.top+Xy.height+Zy}px`,My.value.left=`${Xy.left+Xy.width/2}px`,Iy.value.top="0",Iy.value.transform="translate(-50%, -50%) rotate(45deg)";break;case"topLeft":My.value.top=`${Xy.top-Zy}px`,My.value.left=`${Xy.left}px`,Iy.value.bottom="0",Iy.value.left="0",Iy.value.transform="translate(50%, 50%) rotate(45deg)";break;case"topRight":My.value.top=`${Xy.top-Zy}px`,My.value.left=`${Xy.right}px`,Iy.value.bottom="0",Iy.value.left="100%",Iy.value.transform="translate(-140%, 50%) rotate(45deg)";break;case"topCenter":My.value.top=`${Xy.top-Zy}px`,My.value.left=`${Xy.left+Xy.width/2}px`,Iy.value.bottom="0",Iy.value.transform="translate(-50%, 50%) rotate(45deg)";break;case"leftTop":My.value.left=`${Xy.left-Zy}px`,My.value.top=`${Xy.top}px`,Iy.value.left="100%",Iy.value.top="0",Iy.value.transform="translate(-50%, 50%) rotate(45deg)";break;case"leftBottom":My.value.left=`${Xy.left-Zy}px`,My.value.top=`${Xy.bottom}px`,Iy.value.left="100%",Iy.value.bottom="0",Iy.value.transform="translate(-50%, -80%) rotate(45deg)";break;case"leftCenter":My.value.left=`${Xy.left-Zy}px`,My.value.top=`${Xy.top+Xy.height/2}px`,Iy.value.left="100%",Iy.value.top="50%",Iy.value.transform="translate(-50%, -50%) rotate(45deg)";break;case"rightTop":My.value.left=`${Xy.right+Zy}px`,My.value.top=`${Xy.top}px`,Iy.value.left="0",Iy.value.top="0",Iy.value.transform="translate(-50%, 50%) rotate(45deg)";break;case"rightBottom":My.value.left=`${Xy.right+Zy}px`,My.value.top=`${Xy.bottom}px`,Iy.value.left="0",Iy.value.bottom="0",Iy.value.transform="translate(-50%, -80%) rotate(45deg)";break;case"rightCenter":My.value.left=`${Xy.right+Zy}px`,My.value.top=`${Xy.top+Xy.height/2}px`,Iy.value.left="0",Iy.value.top="50%",Iy.value.transform="translate(-50%, -50%) rotate(45deg)";break}},Hy={resize:()=>{By(ba.position===void 0?"bottomCenter":ba.position)},scroll:()=>{ba.lockScroll?By(ba.position===void 0?"bottomCenter":ba.position):Ny.value=!1},click:Ky=>{if(!Ny.value)return;const Xy=Zy=>{let Jy=Zy;for(;Jy!==null;){if(Jy===Vy.value||Jy===Ly.value)return!1;Jy=Jy.parentElement}return!0};!ba.focusTrap&&Xy(Ky.target)&&(Ny.value=!1)}},Gy={},Wy={},Uy=ref({hoverClose:void 0}),Yy=ref({popper:!1}),jy=Ky=>{ba.disabled||(ba.effect==="click"?Gy.click=()=>{Ny.value=!Ny.value}:ba.effect==="hover"&&(Gy.mouseenter=()=>{Yy.value.popper=!0,clearInterval(Uy.value.hoverClose),Ny.value=!0},Gy.mouseleave=()=>{!Yy.value.popper||(Yy.value.popper=!1,Uy.value.hoverClose=setInterval(()=>{Ny.value=!1,Yy.value.popper=!0,clearInterval(Uy.value.hoverClose)},300))},Wy.mouseenter=()=>{let Xy=Ky.parent;for(;Xy;)if(Xy.type.name==="FvCallout")if(Xy.exposed!==null&&!Xy.exposed.popperShow.value)Xy.exposed.popperShow.value=!0;else break;else Xy=Xy.parent;Yy.value.popper=!0,Ny.value=!0,clearInterval(Uy.value.hoverClose)},Wy.mouseleave=()=>{let Xy=Ky.parent;for(;Xy;)if(Xy.type.name==="FvCallout"&&Xy.props.effect==="hover")if(Xy.exposed!==null&&Xy.exposed.popperShow.value)Xy.exposed.popperShow.value=!1,Xy.exposed.popperEvents.mouseleave();else break;else Xy=Xy.parent;Ny.value=!1}))};return onMounted(()=>{var Ky;const Xy=getCurrentInstance();if(Xy!==null){Ay.value!==null&&(Vy.value=Ay.value.$el,((Ky=Vy.value)==null?void 0:Ky.nodeName)=="#text"&&(Vy.value=Vy.value.nextElementSibling)),jy(Xy);for(const Zy in Hy)window.addEventListener(Zy,Hy[Zy]);if(Vy.value!==void 0)for(const Zy in Gy)Vy.value.addEventListener(Zy,Gy[Zy]);if(Ly.value!==void 0)for(const Zy in Wy)Ly.value.addEventListener(Zy,Wy[Zy])}}),onBeforeUnmount(()=>{for(const Ky in Hy)window.removeEventListener(Ky,Hy[Ky]);if(Vy.value!==void 0)for(const Ky in Gy)Vy.value.removeEventListener(Ky,Gy[Ky]);if(Ly.value!==void 0)for(const Ky in Wy)Ly.value.removeEventListener(Ky,Wy[Ky])}),ua({popperShow:Ny,popperEvents:Wy}),(Ky,Xy)=>(openBlock(),createElementBlock(Fragment,null,[createVNode$1(unref(Ey),{ref_key:"slotRef",ref:Ay},null,512),(openBlock(),createBlock(Teleport,{to:"body"},[createVNode$1(Transition,{name:"fv-callout-fade"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"popper",ref:Ly,style:normalizeStyle$1([My.value,ba.popperStyle]),class:normalizeClass(["fv-Callout",unref(ka),ba.popperClass,Dy.value]),name:"fv-callout"},[ou,createBaseVNode("div",{class:"beak",style:normalizeStyle$1(Iy.value)},null,4),createBaseVNode("div",au,[renderSlot(Ky.$slots,"header")]),createBaseVNode("div",lu,[renderSlot(Ky.$slots,"main")]),createBaseVNode("div",du,[renderSlot(Ky.$slots,"footer")])],6),[[vShow,Ny.value]])]),_:3})]))],64))}}),cu=J(hu),fu={class:"fv-checkbox-content-block"},mu=createBaseVNode("i",{class:"fv-checkbox-content ms-Icon ms-Icon--CheckMark"},null,-1),gu=[mu],pu={class:"fv-checkbox-content-block"},vu=createBaseVNode("i",{class:"fv-checkbox-content ms-Icon ms-Icon--CheckboxIndeterminate"},null,-1),bu=[vu],wu={name:"FvCheckBox",data(){return{thisValue:this.modelValue}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)}},computed:{$theme(){return Y(this.$props).theme.value},Indeterminate(){return!(this.thisValue===!0||this.thisValue===!1)},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""}},mounted(){this.thisValue=this.modelValue},methods:{Checked(ha){if(ha.preventDefault(),this.isDisabled)return 0;this.thisValue=!this.thisValue,this.$emit("click",this.thisValue)}}},yu=Object.assign(wu,{props:{...K,modelValue:{default:""},borderWidth:{default:1.5},borderColor:{type:String,default:""},foreground:{default:""},background:{type:String,default:"rgba(0, 90, 158, 1)"},boxSide:{default:"start"},disabled:{default:!1}},emits:["update:modelValue","click"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-CheckBox",[Sa.$theme,ha.boxSide=="end"?"box-side-end":""]]),onClick:ba[0]||(ba[0]=(...ka)=>Sa.Checked&&Sa.Checked(...ka))},[createBaseVNode("div",{class:normalizeClass(["fv-checkbox-rec",[{disabled:Sa.isDisabled,check:Sa.thisValue||Sa.Indeterminate}]]),style:normalizeStyle$1({background:Sa.thisValue||Sa.Indeterminate?ha.background:""})},[createBaseVNode("p",{class:"fv-checkbox-border",style:normalizeStyle$1({borderColor:Sa.Indeterminate?"transparent":ha.borderColor,borderWidth:`${ha.borderWidth}px`})},null,4),createVNode$1(Transition,{name:"font-clip-in"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",fu,gu,512),[[vShow,Sa.thisValue&&!Sa.Indeterminate]])]),_:1}),createVNode$1(Transition,{name:"font-clip-in"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",pu,bu,512),[[vShow,Sa.Indeterminate]])]),_:1})],6),createBaseVNode("span",{class:"text-content-block",style:normalizeStyle$1({color:ha.foreground})},[renderSlot(Sa.$slots,"default")],4)],2))}}),ku=J(yu),Cu={class:"collapse-icon-box-default"},$u={class:"collapse-description-box"},Su={class:"collapse-text"},Vu={class:"collapse-title"},Tu={class:"collapse-info"},xu={class:"collapse-description-extension-block"},Iu={class:"ms-Icon ms-Icon--ChevronUpMed"},Eu={class:"ms-Icon ms-Icon--ChevronDownMed"},Du={class:"ms-Icon ms-Icon--ChevronRightMed"},Lu={class:"collapse-detail"},Pu={name:"FvCollapse",data(){return{thisValue:this.modelValue,hover:!1}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)}},computed:{hoverBackground(){try{let ha=ot(this.background),ua=ha.hue();return ha.hue(ua-.01).cssa()}catch{return""}},$theme(){return Y(this.$props).theme.value}},methods:{itemClick(){this.disabledCollapse||(this.thisValue^=!0),this.$emit("item-click",this.thisValue)}}},Fu=Object.assign(Pu,{props:{...K,modelValue:{default:!1},icon:{type:String,default:"Mail"},title:{type:String,default:"Title of Collapse."},content:{type:String,default:"Content information of Collapse."},background:{default:""},defaultHeight:{default:70},maxHeight:{default:300},disabledCollapse:{default:!1},visibleOverflow:{default:!0}},emits:["update:modelValue","item-click","left-icon-click","description-click","icon-click"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Collapse",[Sa.$theme,{visibleOverflow:ha.disabledCollapse&&ha.visibleOverflow}]]),style:normalizeStyle$1({height:Sa.thisValue?`${ha.maxHeight}px`:`${ha.defaultHeight}px`,"max-height":`${ha.maxHeight}px`,background:Sa.hover?Sa.hoverBackground:ha.background}),onMouseenter:ba[4]||(ba[4]=ka=>Sa.hover=!0),onTouchstart:ba[5]||(ba[5]=ka=>Sa.hover=!0),onMouseleave:ba[6]||(ba[6]=ka=>Sa.hover=!1),onTouchend:ba[7]||(ba[7]=ka=>Sa.hover=!1)},[createBaseVNode("div",{class:"collapse-description-container",style:normalizeStyle$1({height:`${ha.defaultHeight}px`}),onClick:ba[3]||(ba[3]=(...ka)=>Sa.itemClick&&Sa.itemClick(...ka))},[createBaseVNode("div",{class:"collapse-icon-box",onClick:ba[0]||(ba[0]=ka=>Sa.$emit("left-icon-click"))},[renderSlot(Sa.$slots,"icon",{},()=>[createBaseVNode("div",Cu,[createBaseVNode("i",{class:normalizeClass(["ms-Icon",[`ms-Icon--${ha.icon}`]])},null,2)])])]),createBaseVNode("div",$u,[createBaseVNode("div",{class:"collapse-description",onClick:ba[1]||(ba[1]=ka=>Sa.$emit("description-click"))},[createBaseVNode("div",Su,[renderSlot(Sa.$slots,"container",{title:ha.title,contnet:ha.content},()=>[renderSlot(Sa.$slots,"title",{title:ha.title},()=>[createBaseVNode("div",Vu,toDisplayString(ha.title),1)]),renderSlot(Sa.$slots,"content",{content:ha.content},()=>[createBaseVNode("div",Tu,toDisplayString(ha.content),1)])])])]),createBaseVNode("div",xu,[renderSlot(Sa.$slots,"extension")])]),createBaseVNode("div",{class:"collapse-expand-icon-block",onClick:ba[2]||(ba[2]=ka=>Sa.$emit("icon-click"))},[renderSlot(Sa.$slots,"expand-icon",{value:Sa.thisValue,disabledCollaspe:ha.disabledCollapse},()=>[withDirectives(createBaseVNode("i",Iu,null,512),[[vShow,Sa.thisValue]]),withDirectives(createBaseVNode("i",Eu,null,512),[[vShow,!Sa.thisValue&&!ha.disabledCollapse]]),withDirectives(createBaseVNode("i",Du,null,512),[[vShow,!Sa.thisValue&&ha.disabledCollapse]])])])],4),createVNode$1(Transition,{name:"collapse-expanded"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",Lu,[renderSlot(Sa.$slots,"default")],512),[[vShow,Sa.thisValue]])]),_:3})],38))}}),Mu=J(Fu),Ru={...K,modelValue:{type:[String]},foreground:{type:[String],default:""},type:{type:[String],default:"box"}},Bu={"update:modelValue"(ha){return!0}},_u=(ha,ua)=>{const Sa=["rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(205, 255, 0)","rgb(53, 255, 0)","rgb(0, 255, 102)","rgb(0, 255, 253)","rgb(0, 102, 255)","rgb(50, 0, 255)","rgb(205, 0, 255)","rgb(255, 0, 153)","rgb(255, 0, 0)"],ba=[{key:"HSV",text:"HSV"},{key:"RGB",text:"RGB"}],ka=ref(),_y=ref(),Ty=ref(),Ay=ref({key:"RGB",text:"RGB"}),Ey=ref("#000000FF"),My=ref("0"),Dy=ref("0"),Iy=ref("0"),Ly=ref("0"),Py=ref("0"),Ry=ref("0"),Vy=ref("100%"),Ny=ref(new Xt(Ey.value)),By=ref(0),Oy=ref(0),Fy=ref(0),zy=ref(0),Hy=ref(Sa.map(qy=>new Xt(qy))),Gy=ref(Hy.value.map(qy=>qy.cssrgb()).join(",")),Wy=qy=>{Ey.value=qy.hexa(),ua("update:modelValue",Ey.value)},Uy=qy=>{My.value=qy.red().toString(),Dy.value=qy.green().toString(),Iy.value=qy.blue().toString()},Yy=qy=>{Ly.value=Math.round(qy.hue()).toString(),Py.value=Math.round(qy.saturation()).toString(),Ry.value=Math.round(qy.value()).toString(),Hy.value=Hy.value.map(e_=>e_.clone().value(qy.value())),Gy.value=Hy.value.map(e_=>e_.cssrgb()).join();{const{width:e_,height:a_}=Re(ka.value);if(ha.type==="ring"){let s_=qy.hue()/360*Math.PI*2,u_=e_/2*qy.saturation()/100;By.value=e_/2+Math.cos(s_)*u_,Oy.value=a_/2+Math.sin(s_)*u_}else By.value=qy.hue()/359*e_,Oy.value=(1-qy.saturation()/100)*a_}{const{width:e_}=Re(_y.value);Fy.value=e_*.01*qy.value()}},jy=qy=>{Vy.value=`${Math.round(qy.alpha()*100)}%`;const{width:e_}=Re(Ty.value);zy.value=qy.alpha()*e_},Ky=computed({get(){return ha.modelValue===void 0?Ey.value:ha.modelValue},set(qy){Ey.value=qy,/^#[0-9a-fA-F]{6}([0-9a-fA-F]{2})?$/.test(qy)&&(Ny.value=Ny.value.parse(Ey.value).clone(),Yy(Ny.value),Uy(Ny.value),jy(Ny.value)),ua("update:modelValue",qy)}}),Xy=computed({get(){return My.value},set(qy){My.value=qy;let e_=parseInt(qy);isNaN(e_)||(Ny.value=Ny.value.red(e_).clone(),Wy(Ny.value),Yy(Ny.value))}}),Zy=computed({get(){return Dy.value},set(qy){Dy.value=qy;let e_=parseInt(qy);isNaN(e_)||(Ny.value=Ny.value.green(e_).clone(),Wy(Ny.value),Yy(Ny.value))}}),Jy=computed({get(){return Iy.value},set(qy){Iy.value=qy;let e_=parseInt(qy);isNaN(e_)||(Ny.value=Ny.value.blue(e_).clone(),Wy(Ny.value),Yy(Ny.value))}}),t_=computed({get(){return Ly.value},set(qy){Ly.value=qy;let e_=parseInt(qy);if(!isNaN(e_)){e_=Math.min(359,Math.max(0,e_)),Ny.value=Ny.value.hue(e_).clone(),Wy(Ny.value),Uy(Ny.value);const{width:a_,height:s_}=Re(ka.value);if(ha.type==="ring"){let u_=e_/360*Math.PI*2,h_=a_/2*Ny.value.saturation()/100;By.value=a_/2+Math.cos(u_)*h_,Oy.value=s_/2+Math.sin(u_)*h_}else By.value=e_/359*a_}}}),Qy=computed({get(){return Py.value},set(qy){Py.value=qy;let e_=parseInt(qy);if(!isNaN(e_)){e_=Math.max(Math.min(100,e_),0),Ny.value=Ny.value.saturation(e_).clone(),Wy(Ny.value),Uy(Ny.value);const{width:a_,height:s_}=Re(ka.value);if(ha.type==="ring"){let u_=Ny.value.hue()/360*Math.PI*2,h_=a_/2*e_/100;By.value=a_/2+Math.cos(u_)*h_,Oy.value=s_/2+Math.sin(u_)*h_}else Oy.value=(1-e_/100)*s_}}}),r_=computed({get(){return Ry.value},set(qy){Ry.value=qy;let e_=parseInt(qy);if(!isNaN(e_)){e_=Math.max(Math.min(100,e_),0),Ny.value=Ny.value.value(e_).clone(),Wy(Ny.value),Uy(Ny.value);const{width:a_}=Re(_y.value);Fy.value=a_*.01*e_,Hy.value=Hy.value.map(s_=>s_.clone().value(e_)),Gy.value=Hy.value.map(s_=>s_.cssrgb()).join(",")}}}),i_=computed({get(){return Vy.value},set(qy){Vy.value=qy;let e_=parseInt(qy);if(!isNaN(e_)){e_=Math.max(Math.min(100,e_),0),Ny.value=Ny.value.alpha(e_/100).clone(),Wy(Ny.value);const{width:a_}=Re(Ty.value);zy.value=a_*.01*e_}}}),l_=(qy,e_)=>{t_.value=Math.round(qy*359).toString(),Qy.value=Math.round(e_*100).toString()},c_=cs(qy=>{const{left:e_,top:a_,height:s_,width:u_}=Re(ka.value);let h_=0,__=0,y_=0,w_=0;if(qy instanceof TouchEvent?(y_=qy.touches[0].clientX,w_=qy.touches[0].clientY):(y_=qy.clientX,w_=qy.clientY),h_=Math.max(Math.min(y_-e_,u_),0),__=Math.max(Math.min(w_-a_,s_),0),ha.type==="ring"){const[S_,C_]=[u_/2,s_/2];let x_=Math.sqrt(Math.pow(Math.abs(h_-S_),2)+Math.pow(Math.abs(__-C_),2));if(x_>u_/2){let k_=x_/(u_/2);h_=S_+(h_-S_)/k_,__=C_+(__-C_)/k_,x_=u_/2}let T_=Math.atan2(__-C_,h_-S_);T_<0&&(T_+=Math.PI*2),l_(T_/(Math.PI*2),x_/(u_/2))}else l_(h_/u_,1-__/s_)}),d_=qy=>{c_(qy)},f_=new fs(d_),m_=qy=>{qy instanceof MouseEvent&&pt()||qy instanceof TouchEvent&&!pt()||(f_.listen(),d_(qy))},b_=cs(qy=>{if(qy!==void 0){const{left:e_,width:a_}=Re(_y.value);let s_=0;qy instanceof TouchEvent?s_=qy.touches[0].clientX:s_=qy.clientX;const u_=Math.min(Math.max(0,s_-e_),a_);r_.value=`${Math.round(u_/a_*100)}`}}),$_=qy=>{b_(qy)},A_=new fs($_),v_=qy=>{qy instanceof MouseEvent&&pt()||qy instanceof TouchEvent&&!pt()||(A_.listen(),$_(qy))},g_=cs(qy=>{if(qy!==void 0){const{left:e_,width:a_}=Re(_y.value);let s_=0;qy instanceof TouchEvent?s_=qy.touches[0].clientX:s_=qy.clientX;const u_=Math.min(Math.max(0,s_-e_),a_);i_.value=`${Math.round(u_/a_*100)}%`}}),p_=qy=>{g_(qy)},o_=new fs(p_),n_=qy=>{qy instanceof MouseEvent&&pt()||qy instanceof TouchEvent&&!pt()||(o_.listen(),p_(qy))};return onMounted(()=>{Ny.value=new Xt(Ky.value),Yy(Ny.value),jy(Ny.value)}),watch(()=>ha.type,()=>{Yy(Ny.value)}),{colorArea:ka,colorValue:_y,colorAlpha:Ty,colorLeft:By,colorTop:Oy,colorValueLeft:Fy,colorAlphaLeft:zy,colorObj:Ny,computedR:Xy,computedG:Zy,computedB:Jy,computedH:t_,computedS:Qy,computedV:r_,computedAlpha:i_,computedText:Ky,colorModeOptions:ba,colorMode:Ay,onMousedown:m_,onValueMouseDown:v_,onAlphaMouseDown:n_,colorListStr:Gy}},Ou={class:"color-picker"},zu=createBaseVNode("div",{class:"bg"},null,-1),Au=createBaseVNode("div",{class:"white-mask"},null,-1),Wu=createBaseVNode("button",{class:"pointer"},null,-1),Nu=[zu,Au,Wu],Hu=createBaseVNode("div",{class:"color"},[createBaseVNode("div",{class:"color-bg"})],-1),Gu={class:"control vertical"},Uu=createBaseVNode("div",{class:"color-value-bg"},null,-1),Yu=createBaseVNode("div",{class:"color-value-mask"},null,-1),ju=createBaseVNode("div",{class:"color-value-btn"},null,-1),qu=[Uu,Yu,ju],Xu=createBaseVNode("div",{class:"color-alpha-bg"},null,-1),Ku=createBaseVNode("div",{class:"color-alpha-mask"},null,-1),Ju=createBaseVNode("div",{class:"color-alpha-btn"},null,-1),Qu=[Xu,Ku,Ju],Zu={class:"fields"},eh={class:"row"},th={class:"cell"},ih={class:"cell"},sh={class:"row"},nh={class:"cell"},rh={class:"fv-color-picker-text"},oh={class:"row"},ah={class:"cell"},lh={class:"fv-color-picker-text"},dh={class:"row"},uh={class:"cell"},hh={class:"fv-color-picker-text"},ch={class:"row"},fh={class:"cell"},mh=createBaseVNode("span",{class:"fv-color-picker-text"},"Opacity",-1),gh={name:"FvColorPicker"},ph=defineComponent({...gh,props:Ru,emits:Bu,setup(ha,{emit:ua}){const Sa=ua,ba=ha,{theme:ka}=Y(ba),{colorMode:_y,colorListStr:Ty,colorLeft:Ay,colorTop:Ey,colorObj:My,colorValueLeft:Dy,colorAlphaLeft:Iy,colorModeOptions:Ly,computedText:Py,computedR:Ry,computedB:Vy,computedG:Ny,computedAlpha:By,computedH:Oy,computedS:Fy,computedV:zy,colorArea:Hy,colorValue:Gy,colorAlpha:Wy,onMousedown:Uy,onValueMouseDown:Yy,onAlphaMouseDown:jy}=_u(ba,Sa),{cls:Ky}=new ea().add("fv-color-picker").computed(),{style:Xy}=new ta().add("--fv-color-picker--color-list",()=>Ty.value).add("--fv-color-picker--color",()=>My.value.cssrgba()).add("--fv-color-picker--color-alpha",()=>My.value.clone().cssrgb()).add("--fv-color-picker--color-value",()=>My.value.clone().value(100).cssrgb()).add("--fv-color-picker--pointer-left",()=>`${Ay.value}px`,()=>Ii(Ay.value)).add("--fv-color-picker--pointer-top",()=>`${Ey.value}px`,()=>Ii(Ey.value)).add("--fv-color-picker--color-value-left",()=>`${Dy.value}px`,()=>Ii(Dy.value)).add("--fv-color-picker--color-alpha-left",()=>`${Iy.value}px`,()=>Ii(Iy.value)).add("--fv-color-picker--color-value-empty",()=>My.value.clone().hue(0).saturation(0).cssrgb()).computed();return(Zy,Jy)=>{const t_=resolveComponent("fv-combobox"),Qy=resolveComponent("fv-text-box");return openBlock(),createElementBlock("div",{class:normalizeClass(unref(Ky)),style:normalizeStyle$1(unref(Xy))},[createBaseVNode("div",Ou,[createBaseVNode("div",{ref_key:"colorArea",ref:Hy,draggable:"false",class:normalizeClass(["color-area",{ring:ba.type==="ring",box:ba.type==="box"}]),onMousedown:Jy[0]||(Jy[0]=withModifiers((...r_)=>unref(Uy)&&unref(Uy)(...r_),["stop"])),onTouchstart:Jy[1]||(Jy[1]=withModifiers((...r_)=>unref(Uy)&&unref(Uy)(...r_),["stop"]))},Nu,34),Hu]),createBaseVNode("div",Gu,[createBaseVNode("div",{class:"color-value",ref_key:"colorValue",ref:Gy,draggable:"false",onMousedown:Jy[2]||(Jy[2]=withModifiers((...r_)=>unref(Yy)&&unref(Yy)(...r_),["stop"])),onTouchstart:Jy[3]||(Jy[3]=withModifiers((...r_)=>unref(Yy)&&unref(Yy)(...r_),["stop"]))},qu,544),createBaseVNode("div",{class:"color-alpha",ref_key:"colorAlpha",ref:Wy,draggable:"false",onMousedown:Jy[4]||(Jy[4]=withModifiers((...r_)=>unref(jy)&&unref(jy)(...r_),["stop"])),onTouchstart:Jy[5]||(Jy[5]=withModifiers((...r_)=>unref(jy)&&unref(jy)(...r_),["stop"]))},Qu,544),createBaseVNode("div",Zu,[createBaseVNode("div",eh,[createBaseVNode("div",th,[createVNode$1(t_,{modelValue:unref(_y),"onUpdate:modelValue":Jy[6]||(Jy[6]=r_=>isRef(_y)?_y.value=r_:null),placeholder:"Color Mode",options:unref(Ly),theme:unref(ka),style:{width:"118px"},"min-width":"118px",choosenSliderBackground:ba.foreground},null,8,["modelValue","options","theme","choosenSliderBackground"])]),createBaseVNode("div",ih,[createVNode$1(Qy,{placeholder:"#FFFFFF",modelValue:unref(Py),"onUpdate:modelValue":Jy[7]||(Jy[7]=r_=>isRef(Py)?Py.value=r_:null),maxlength:9,theme:unref(ka),style:{width:"130px"},"min-width":"130px",underline:"","border-width":"2","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":ba.foreground},null,8,["modelValue","theme","focus-border-color"])])]),createBaseVNode("div",sh,[createBaseVNode("div",nh,[createBaseVNode("span",rh,toDisplayString(unref(_y).key==="RGB"?"Red":"Hue"),1),withDirectives(createVNode$1(Qy,{placeholder:"0",maxlength:3,style:{width:"118px"},"min-width":"118px",modelValue:unref(Ry),"onUpdate:modelValue":Jy[8]||(Jy[8]=r_=>isRef(Ry)?Ry.value=r_:null),theme:unref(ka),underline:"","border-width":"2","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":ba.foreground},null,8,["modelValue","theme","focus-border-color"]),[[vShow,unref(_y).key==="RGB"]]),withDirectives(createVNode$1(Qy,{placeholder:"0",maxlength:3,style:{width:"118px"},"min-width":"118px",modelValue:unref(Oy),"onUpdate:modelValue":Jy[9]||(Jy[9]=r_=>isRef(Oy)?Oy.value=r_:null),theme:unref(ka),underline:"","border-width":"2","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":ba.foreground},null,8,["modelValue","theme","focus-border-color"]),[[vShow,unref(_y).key==="HSV"]])])]),createBaseVNode("div",oh,[createBaseVNode("div",ah,[createBaseVNode("span",lh,toDisplayString(unref(_y).key==="RGB"?"Green":"Saturation"),1),withDirectives(createVNode$1(Qy,{placeholder:"0",maxlength:3,style:{width:"118px"},"min-width":"118px",modelValue:unref(Ny),"onUpdate:modelValue":Jy[10]||(Jy[10]=r_=>isRef(Ny)?Ny.value=r_:null),theme:unref(ka),underline:"","border-width":"2","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":ba.foreground},null,8,["modelValue","theme","focus-border-color"]),[[vShow,unref(_y).key==="RGB"]]),withDirectives(createVNode$1(Qy,{placeholder:"0",maxlength:3,style:{width:"118px"},"min-width":"118px",modelValue:unref(Fy),"onUpdate:modelValue":Jy[11]||(Jy[11]=r_=>isRef(Fy)?Fy.value=r_:null),theme:unref(ka),underline:"","border-width":"2","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":ba.foreground},null,8,["modelValue","theme","focus-border-color"]),[[vShow,unref(_y).key==="HSV"]])])]),createBaseVNode("div",dh,[createBaseVNode("div",uh,[createBaseVNode("span",hh,toDisplayString(unref(_y).key==="RGB"?"Blue":"Value"),1),withDirectives(createVNode$1(Qy,{placeholder:"0",maxlength:3,style:{width:"118px"},"min-width":"118px",modelValue:unref(Vy),"onUpdate:modelValue":Jy[12]||(Jy[12]=r_=>isRef(Vy)?Vy.value=r_:null),theme:unref(ka),underline:"","border-width":"2","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":ba.foreground},null,8,["modelValue","theme","focus-border-color"]),[[vShow,unref(_y).key==="RGB"]]),withDirectives(createVNode$1(Qy,{placeholder:"0",maxlength:3,style:{width:"118px"},"min-width":"118px",modelValue:unref(zy),"onUpdate:modelValue":Jy[13]||(Jy[13]=r_=>isRef(zy)?zy.value=r_:null),theme:unref(ka),underline:"","border-width":"2","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":ba.foreground},null,8,["modelValue","theme","focus-border-color"]),[[vShow,unref(_y).key==="HSV"]])])]),createBaseVNode("div",ch,[createBaseVNode("div",fh,[mh,createVNode$1(Qy,{placeholder:"0",maxlength:3,style:{width:"118px"},"min-width":"118px",modelValue:unref(By),"onUpdate:modelValue":Jy[14]||(Jy[14]=r_=>isRef(By)?By.value=r_:null),theme:unref(ka),underline:"","border-width":"2","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":ba.foreground},null,8,["modelValue","theme","focus-border-color"])])])])])],6)}}}),vh=J(ph),bh=["placeholder","value"],wh=["onClick","title"],yh={name:"FvCombobox",data(){return{thisValue:this.modelValue,status:!1}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)}},computed:{isDisabled(){return this.options.length==0||this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},borderLightColor(){return this.revealBorderColor?this.revealBorderColor:this.$theme=="light"?"rgba(121, 119, 117, 0.6)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.6)":"rgba(121, 119, 117, 0.6)"},backgroundLightColor(){return this.revealBackgroundColor?this.revealBackgroundColor:this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"},$theme(){return Y(this.$props).theme.value}},mounted(){this.outSideClickInit()},methods:{outSideClickInit(){window.addEventListener("click",this.outSideClickEvent),window.addEventListener("touchend",this.outSideClickEvent)},outSideClickEvent(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||(this.status=!1)},valueTrigger(ha){return typeof ha=="function"?ha():ha},Choose(ha,ua){if(this.valueTrigger(ua.disabled)||this.valueTrigger(ua.type)=="header"||this.valueTrigger(ua.type)=="divider")return 0;this.thisValue=ua;let Sa=ha.target;for(;!Sa.getAttribute("class")||Sa.getAttribute("class").indexOf("fv-combobox-item")<0;)Sa=Sa.parentNode;this.$refs.co_items.scrollTop=Sa.offsetTop,this.status=!1,this.$emit("choose-item",this.thisValue)}},beforeMount(){window.removeEventListener("click",this.outSideClickEvent),window.removeEventListener("touchend",this.outSideClickEvent)}},kh=Object.assign(yh,{props:{...K,modelValue:{default:()=>({})},options:{default:()=>[]},borderWidth:{default:1},placeholder:{default:"Combobox"},borderRadius:{default:"3"},background:{default:""},choosenBackground:{default:""},choosenSliderBackground:{default:""},inputForeground:{default:""},inputBackground:{default:""},titleForeground:{default:""},itemHeight:{default:40},dropDownIcon:{default:"ChevronDown"},dropDownIconForeground:{default:""},revealBorderColor:{default:!1},revealBackgroundColor:{default:!1},disabled:{default:!1}},setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-reveal-container");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Combobox",[Sa.$theme,{disabled:Sa.isDisabled}]]),style:normalizeStyle$1({background:ha.background,padding:ha.borderWidth,"border-radius":`${ha.borderRadius}px`,"z-index":Sa.status?3:"",overflow:"visible"})},[createBaseVNode("div",{class:"combobox-container",onClick:ba[0]||(ba[0]=_y=>Sa.status=Sa.isDisabled?!1:!Sa.status),style:normalizeStyle$1({background:ha.inputBackground,"border-radius":`${ha.borderRadius}px`})},[createVNode$1(ka,{parent:()=>Sa.$el,class:"fv-combobox-reveal-container",backgroundColor:Sa.backgroundLightColor,borderColor:Sa.borderLightColor,backgroundGradientSize:120,borderGradientSize:80,borderWidth:ha.borderWidth,borderRadius:ha.borderRadius,disabled:Sa.isDisabled},null,8,["parent","backgroundColor","borderColor","borderWidth","borderRadius","disabled"]),createBaseVNode("input",{class:"input",placeholder:ha.placeholder,readonly:"",value:Sa.valueTrigger(Sa.thisValue.text),style:normalizeStyle$1({color:ha.inputForeground,"border-radius":`${ha.borderRadius}px`})},null,12,bh),createBaseVNode("i",{class:normalizeClass(["ms-Icon right-icon",[`ms-Icon--${ha.dropDownIcon}`]]),style:normalizeStyle$1({color:ha.dropDownIconForeground})},null,6)],4),createVNode$1(Transition,{name:"fv-combobox"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"combobox-item-container",style:normalizeStyle$1({background:ha.background,overflow:"auto"}),ref:"co_items"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ha.options,(_y,Ty)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-combobox-item",{hr:Sa.valueTrigger(_y.type)=="divider",normal:(Sa.valueTrigger(_y.type)=="default"||Sa.valueTrigger(_y.type)==null)&&!Sa.valueTrigger(_y.disabled),disabled:Sa.valueTrigger(_y.disabled),choose:_y.key===Sa.thisValue.key,title:Sa.valueTrigger(_y.type)=="header"}]),style:normalizeStyle$1({height:`${ha.itemHeight}px`,background:_y.key===Sa.thisValue.key?ha.choosenBackground:"",color:Sa.valueTrigger(_y.type)==="header"?ha.titleForeground:""}),onClick:Ay=>Sa.Choose(Ay,_y),key:Ty,title:Sa.valueTrigger(_y.text)},[renderSlot(Sa.$slots,"default",{item:_y},()=>[createBaseVNode("i",{class:"before-choosen",style:normalizeStyle$1({background:ha.choosenSliderBackground})},null,4),createTextVNode(" "+toDisplayString(Sa.valueTrigger(_y.type)!=="divider"?Sa.valueTrigger(_y.text):""),1)])],14,wh))),128))],4),[[vShow,Sa.status]])]),_:3})],6)}}}),Ch=J(kh),$h={class:"left-command-bar-container"},Sh=["title","onClick"],Vh={class:"s1-container"},Th={class:"ms-Icon ms-Icon--ChevronDown icon"},xh={class:"s1-container"},Ih=createBaseVNode("i",{class:"ms-Icon ms-Icon--More icon"},null,-1),Eh=[Ih],Dh={class:"right-command-bar-container"},Lh={class:"name",style:{"font-size":"12px"}},Ph={name:"FvCommandBar",data(){return{thisValue:{},thisOptions:[],currentLeft:0}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)},options(ha){this.optionsInit()}},computed:{showDropDown(){return this.thisValue.choosen!==!0||this.thisValue.secondary===void 0?!1:this.thisValue.secondary.length>0},borderLightColor(){return this.revealBorderColor?this.revealBorderColor:this.$theme=="light"?"rgba(121, 119, 117, 0.1)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.1)":"rgba(121, 119, 117, 0.1)"},backgroundLightColor(){return this.revealBackgroundColor?this.revealBackgroundColor:this.$theme=="light"?"rgba(121, 119, 117, 0.05)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.05)":"rgba(121, 119, 117, 0.05)"},$theme(){return Y(this.$props).theme.value}},mounted(){this.optionsInit(),this.outSideClickInit()},methods:{optionsInit(){let ha={name:"",type:"normal",icon:"",show:!0,choosen:!1,secondary:[]},ua=[];for(let Sa of this.options){let ba=JSON.parse(JSON.stringify(ha));ba=Object.assign(ba,Sa),ua.push(ba)}this.thisOptions=ua},valueTrigger(ha){return typeof ha=="function"?ha():ha},outSideClickInit(){window.addEventListener("click",this.outSideClickEvent)},outSideClickEvent(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||this.collapseAll()},collapseAll(){for(let ha=0;ha<this.thisOptions.length;ha++){let ua=this.thisOptions[ha];ua.choosen=!1,this.thisOptions[ha]=ua}},itemClick(ha,ua){if(this.valueTrigger(ua.disabled))return 0;let Sa=!ua.choosen;this.collapseAll(),ua.choosen=Sa,this.thisOptions[this.thisOptions.indexOf(ua)]=ua,this.thisValue=ua,this.$emit("item-click",ua),ua.func!==void 0&&ua.func(),this.leftFormat(ha)},chooseItem(ha){let ua=ha.item;this.thisValue=ua,ua.func!==void 0&&ua.func(),this.$emit("item-click",ua),this.collapseAll()},leftFormat(ha){let ua=ha.target;for(;!ua.getAttribute("class")||ua.getAttribute("class").indexOf("command-bar-item")<0;)ua=ua.parentNode;let Sa=this.$el.getBoundingClientRect().left,ba=this.$el.getBoundingClientRect().right,ka=ua.getBoundingClientRect().left;ua.getBoundingClientRect().right;let _y=200;ka+_y>ba?this.currentLeft=ba-Sa-_y:this.currentLeft=ka-Sa}},beforeUnmount(){window.removeEventListener("click",this.outSideClickEvent)}},Fh=Object.assign(Ph,{props:{...K,modelValue:{default:()=>({})},options:{default:()=>[]},toward:{default:"down"},background:{default:""},compact:{default:!1},revealBorderColor:{default:!1},revealBackgroundColor:{default:!1}},emits:["update:modelValue","item-click"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-reveal-container"),_y=resolveComponent("fv-list-view");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-CommandBar",[Sa.$theme]]),style:normalizeStyle$1({background:ha.background})},[createBaseVNode("div",$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.thisOptions,(Ty,Ay)=>withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(["command-bar-item",[Sa.valueTrigger(Ty.type)=="divider"?"hr":"normal",{not_disabled:!Sa.valueTrigger(Ty.disabled)},{disabled:Sa.valueTrigger(Ty.disabled)}]]),key:Ay,title:Sa.valueTrigger(Ty.name),onClick:Ey=>Sa.itemClick(Ey,Ty)},[withDirectives(createBaseVNode("span",Vh,[Sa.valueTrigger(Ty.type)!="divider"&&!Sa.valueTrigger(Ty.disabled)?(openBlock(),createBlock(ka,{key:0,parent:()=>Sa.$el,class:"fv-command-bar-reveal-container",backgroundColor:Sa.backgroundLightColor,borderColor:Sa.borderLightColor,borderGradientSize:80,borderWidth:1,borderRadius:6},null,8,["parent","backgroundColor","borderColor"])):createCommentVNode("",!0),createBaseVNode("i",{class:normalizeClass(["ms-Icon icon",[`ms-Icon--${Sa.valueTrigger(Ty.icon)}`]]),style:normalizeStyle$1({color:Sa.valueTrigger(Ty.iconColor)})},null,6),withDirectives(createBaseVNode("p",{class:"name"},toDisplayString(Sa.valueTrigger(Ty.name)),513),[[vShow,!ha.compact]]),withDirectives(createBaseVNode("i",Th,null,512),[[vShow,Ty.secondary.length>0]])],512),[[vShow,Sa.valueTrigger(Ty.type)!=="more"]]),withDirectives(createBaseVNode("span",xh,Eh,512),[[vShow,Sa.valueTrigger(Ty.type)==="more"]])],10,Sh)),[[vShow,Sa.valueTrigger(Ty.show)]])),128))]),createBaseVNode("div",Dh,[renderSlot(Sa.$slots,"right-space")]),createVNode$1(Transition,{name:ha.toward=="down"?"zoom-in-top":"zoom-in-bottom"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass(["command-bar-list-view-container",{"toward-up":ha.toward=="up"}]),style:normalizeStyle$1({left:`${Sa.currentLeft}px`,background:ha.background})},[createVNode$1(_y,{modelValue:Sa.thisValue.secondary,"onUpdate:modelValue":ba[0]||(ba[0]=Ty=>Sa.thisValue.secondary=Ty),style:{height:"auto"},onChooseItem:Sa.chooseItem},{listItem:withCtx(Ty=>[withDirectives(createBaseVNode("i",{class:normalizeClass(["ms-Icon icon",[`ms-Icon--${Sa.valueTrigger(Ty.item.icon)}`]]),style:normalizeStyle$1([{color:Sa.valueTrigger(Ty.item.iconColor)},{"font-size":"12px"}])},null,6),[[vShow,Sa.valueTrigger(Ty.item.icon)!==void 0]]),createBaseVNode("p",Lh,toDisplayString(Sa.valueTrigger(Ty.item.name)),1)]),_:1},8,["modelValue","onChooseItem"])],6),[[vShow,Sa.showDropDown]])]),_:1},8,["name"])],6)}}}),Mh=J(Fh),Rh={...K,modelValue:{type:Object,default:()=>new Date(1970,0,1)},disabled:{type:Boolean,default:!1},hideMonth:{type:Boolean,default:!1},hideDay:{type:Boolean,default:!1},hideYear:{type:Boolean,default:!1},showWeek:{type:Boolean,default:!1},months:{type:Array,default:()=>["January","February","March","April","May","June","July","August","September","October","November","December"]},weeks:{type:Array,default:()=>["Sun.","Mon.","Tue.","Wed.","Thu.","Fri.","Sat."]},hoverColor:{type:String,default:void 0},inputBackground:{type:String,default:""},selectedBackground:{type:String,default:""},optionBackground:{type:String,default:""},innerBorderColor:{type:String,default:"#cccccc"}},Bh={"update:modelValue":ha=>!0,change:ha=>!0,focus:()=>!0},_h=(ha,ua)=>{const Sa=ref({show:!1,month:!0}),ba=ref({date:new Date(ha.modelValue)}),ka=ref({month:[],day:[],year:[]}),_y=ref({month:{slideLock:!1},day:{slideLock:!1},year:{slideLock:!1}}),Ty=ref({minDate:new Date(1970,0,1),maxDate:new Date(2099,12,31),buffer:5,clickLock:!1,scrollLock:!1}),Ay=ref({dayCol:{},monthCol:{},yearCol:{}}),Ey=ref(),My={click:Gy=>{!Sa.value.show||Ty.value.clickLock||Da(Gy.target,Ey.value)&&(Sa.value.show=!1)}};watch(()=>Sa.value.show,(Gy,Wy)=>{Gy&&(ba.value.date=new Date(ha.modelValue),ua("focus"))});const Dy=ref(),Iy=ref(),Ly=ref(),Py=(Gy,Wy,Uy=1,Yy=1)=>{let jy=Uy*Wy;return(Gy+jy-Yy-Uy)%Wy+Yy},Ry=(Gy,Wy,Uy=1,Yy=1)=>{let jy=Yy*Wy;return(Gy+jy+Uy-Yy)%Wy+Yy},Vy=Gy=>(Gy=new Date(Gy),Gy.setDate(1),Gy.setMonth(Gy.getMonth()+1),Gy.setDate(0),Gy.getDate()),Ny=async(Gy,Wy,Uy,Yy)=>{if(Se(Wy)&&Se(Wy==null?void 0:Wy.scrollTop)&&Math.abs(Wy.scrollTop-Gy)>=20)return Wy.scrollTop>Gy?Uy():Yy(),await new Promise(jy=>nextTick(()=>{Wy!==void 0&&(Wy.scrollTop=Gy),jy(0)}))},By=(Gy,Wy)=>{let Uy=Vy(Wy);Gy.getDate()>Uy&&Gy.setDate(Uy)},Oy=Gy=>Gy<Ty.value.minDate.getFullYear()||Gy>Ty.value.maxDate.getFullYear()?-Gy:Gy,Fy=()=>{let Gy=Vy(ba.value.date),Wy=ba.value.date.getDate(),Uy=Ry(Wy,Gy,Ty.value.buffer+1);ka.value.day=[];for(let Yy=Py(Wy,Gy,Ty.value.buffer);Yy!=Uy;Yy=Ry(Yy,Gy))ka.value.day.push(Yy);nextTick(()=>{var Yy;if(Se(Dy.value)){let jy=Dy.value.scrollTop=40*(Ty.value.buffer-4);Se(_y.value.day.scroll)&&Dy.value.removeEventListener("scroll",_y.value.day.scroll),_y.value.day.scroll=()=>{_y.value.day.slideLock||Ny(jy,Dy.value,()=>{ka.value.day.shift();let Ky=ba.value.date.getDate();ba.value.date.setDate(Ry(Ky,Gy,1)),ka.value.day.push(Ry(Ky,Gy,Ty.value.buffer+1))},()=>{ka.value.day.pop();let Ky=ba.value.date.getDate();ba.value.date.setDate(Py(Ky,Gy,1)),ka.value.day.unshift(Py(Ky,Gy,Ty.value.buffer+1))})},(Yy=Dy.value)==null||Yy.addEventListener("scroll",_y.value.day.scroll)}})},zy=()=>{let Gy=ba.value.date.getFullYear()-Ty.value.buffer,Wy=Gy+2*Ty.value.buffer+1;ka.value.year=[];for(let Uy=Gy;Uy<Wy;++Uy)ka.value.year.push(Oy(Uy));nextTick(()=>{if(Se(Iy.value)){let Uy=Iy.value.scrollTop=(Ty.value.buffer-4)*40;_y.value.year.scroll&&Iy.value.removeEventListener("scroll",_y.value.year.scroll),_y.value.year.scroll=async()=>{if(!_y.value.year.slideLock&&(_y.value.year.slideLock=!0,Se(Iy.value))){if(Iy.value.scrollTop-Uy>0){if(Oy(ba.value.date.getFullYear()+1)<0){Iy.value.scrollTop=Uy,_y.value.year.slideLock=!1;return}}else if(Oy(ba.value.date.getFullYear()-1)<0){Iy.value.scrollTop=Uy,_y.value.year.slideLock=!1;return}await Ny(Uy,Iy.value,()=>{ka.value.year.shift();let Yy=ba.value.date.getFullYear();By(ba.value.date,new Date(Yy+1,ba.value.date.getMonth())),ba.value.date.setFullYear(Yy+1),ka.value.year.push(Oy(Yy+Ty.value.buffer+1))},()=>{ka.value.year.pop();let Yy=ba.value.date.getFullYear();By(ba.value.date,new Date(Yy-1,ba.value.date.getMonth())),ba.value.date.setFullYear(Yy-1),ka.value.year.unshift(Oy(Yy-Ty.value.buffer-1))}),Fy(),_y.value.year.slideLock=!1}},Iy.value.addEventListener("scroll",_y.value.year.scroll)}})},Hy=()=>{let Gy=ba.value.date.getMonth(),Wy=Ry(Gy,12,Ty.value.buffer+1,0);ka.value.month=[];for(let Uy=Py(Gy,12,Ty.value.buffer,0);Uy!=Wy;Uy=Ry(Uy,12,1,0))ka.value.month.push(Uy);nextTick(()=>{var Uy;if(Se(Ly.value)){let Yy=Ly.value.scrollTop=(Ty.value.buffer-4)*40;_y.value.month.scroll&&Ly.value.removeEventListener("scroll",_y.value.month.scroll),_y.value.month.scroll=()=>{_y.value.month.slideLock||(Ny(Yy,Ly.value,()=>{ka.value.month.shift();let jy=ba.value.date.getMonth();By(ba.value.date,new Date(ba.value.date.getFullYear(),Ry(jy,12,1,0))),ba.value.date.setMonth(Ry(jy,12,1,0)),ka.value.month.push(Ry(jy,12,Ty.value.buffer+1,0))},()=>{ka.value.month.pop();let jy=ba.value.date.getMonth();By(ba.value.date,new Date(ba.value.date.getFullYear(),Py(jy,12,1,0))),ba.value.date.setMonth(Py(jy,12,1,0)),ka.value.month.unshift(Py(jy,12,Ty.value.buffer+1,0))}),Fy())},(Uy=Ly.value)==null||Uy.addEventListener("scroll",_y.value.month.scroll)}})};return{popper:Sa,selected:ba,options:ka,optionsConfig:_y,config:Ty,style:Ay,windowEvent:My,init:()=>{ha.hideMonth||Hy(),ha.hideDay||Fy(),ha.hideYear||zy()},nNext:Ry,nPrev:Py,setMonthOptions:Hy,setDayOptions:Fy,setYearOptions:zy,dayRangeFunc:Vy,slideCol:Ny,adjustDay:By,adjustYear:Oy,focus:()=>{ha.disabled||(Sa.value.show=!0)},confirm:()=>{ua("update:modelValue",new Date(ba.value.date)),ua("change",new Date(ba.value.date)),Sa.value.show=!1},cancel:()=>{Sa.value.show=!1},clickItem:(Gy,Wy)=>{if(!Ty.value.clickLock&&(Ty.value.clickLock=!0,Se(Gy))){Gy.scrollTop=(Ty.value.buffer-4)*40;let Uy=Gy.scrollTop;Gy.scrollTop+=Wy-5;let Yy=Math.abs(Wy-5);if(Yy>0){let jy=setInterval(()=>{if(Gy.scrollTop==Uy&&(--Yy,!Yy)){Ty.value.clickLock=!1,clearInterval(jy);return}Ty.value.scrollLock=!0,Gy.scrollTop+=(Wy-5)*3},20)}else Ty.value.clickLock=!1}},weekIndex:Gy=>{let Wy=new Date(ba.value.date);return Wy.setDate(Gy),Wy.getDay()},hover:(Gy,Wy)=>{const Uy=Wy;ha.hoverColor!==void 0&&(Gy?(Uy.hoverStatus===!1||Uy.hoverStatus===void 0)&&(Wy.style.backgroundColor&&(Uy.backgroundColor=Wy.style.backgroundColor),Wy.style.backgroundColor=ha.hoverColor):Uy.backgroundColor!==void 0?Wy.style.backgroundColor=Uy.backgroundColor:Wy.style.backgroundColor="",Uy.hoverStatus=Gy)},hoverUpAndDown:(Gy,Wy)=>{let Uy=Wy.querySelector(".fv-DatePicker__input-options-col-down"),Yy=Wy.querySelector(".fv-DatePicker__input-options-col-up");Gy?Zo(Uy)&&((Uy.hoverStatus===!1||Uy.hoverStatus===void 0)&&(Uy.style.backgroundColor&&(Uy.backgroundColor=Uy.style.backgroundColor),Se(ha.hoverColor)&&(Uy.style.backgroundColor=ha.hoverColor)),(Yy.hoverStatus===!1||Yy.hoverStatus===void 0)&&(Yy.style.backgroundColor&&(Yy.backgroundColor=Yy.style.backgroundColor),Se(ha.hoverColor)&&(Yy.style.backgroundColor=ha.hoverColor))):(Uy.backgroundColor!==void 0?Uy.style.backgroundColor=Uy.backgroundColor:Uy.style.backgroundColor="",Yy.backgroundColor!==void 0?Yy.style.backgroundColor=Yy.backgroundColor:Yy.style.backgroundColor=""),Uy.hoverStatus=Gy,Yy.hoverStatus=Gy},dayElement:Dy,monthElement:Ly,yearElement:Iy,root:Ey}},gt={mounted(ha,{value:ua}){const Sa=ha;Sa.enterFunction=()=>{ua(!0,ha)},Sa.leaveFunction=()=>{ua(!1,ha)},ha.addEventListener("mouseover",Sa.enterFunction),ha.addEventListener("mouseleave",Sa.leaveFunction)},beforeUnmount(ha){const ua=ha;ha.removeEventListener("mouseover",ua.enterFunction),ha.removeEventListener("mouseleave",ua.leaveFunction)}},Oh={key:0,class:"fv-DatePicker__input-month"},zh={key:0},Ah={class:"fv-DatePicker__input-body"},Wh={class:"fv-DatePicker__input-options-col",key:"col1"},Nh=createBaseVNode("i",{class:"ms-Icon ms-Icon--CaretUpSolid8"},null,-1),Hh=[Nh],Gh=["onClick"],Uh=createBaseVNode("i",{class:"ms-Icon ms-Icon--CaretDownSolid8"},null,-1),Yh=[Uh],jh={class:"fv-DatePicker__input-options-col",key:"col2"},qh=createBaseVNode("i",{class:"ms-Icon ms-Icon--CaretUpSolid8"},null,-1),Xh=[qh],Kh=["onClick"],Jh={key:0},Qh=createBaseVNode("i",{class:"ms-Icon ms-Icon--CaretDownSolid8"},null,-1),Zh=[Qh],ec={class:"fv-DatePicker__input-options-col",key:"col3"},tc=createBaseVNode("i",{class:"ms-Icon ms-Icon--CaretUpSolid8"},null,-1),ic=[tc],sc=["onClick"],nc=createBaseVNode("i",{class:"ms-Icon ms-Icon--CaretDownSolid8"},null,-1),rc=[nc],oc={class:"fv-DatePicker__input-options-bottom-bar"},ac=createBaseVNode("i",{class:"ms-Icon ms-Icon--Accept"},null,-1),lc=[ac],dc=createBaseVNode("i",{class:"ms-Icon ms-Icon--Cancel"},null,-1),uc=[dc],hc={name:"FvDatePicker"},cc=defineComponent({...hc,props:Rh,emits:Bh,setup(ha,{expose:ua,emit:Sa}){const ba=ha,ka=Sa,{theme:_y}=Y(ba),{focus:Ty,popper:Ay,hoverUpAndDown:Ey,clickItem:My,monthElement:Dy,yearElement:Iy,dayElement:Ly,config:Py,style:Ry,options:Vy,hover:Ny,weekIndex:By,confirm:Oy,cancel:Fy,init:zy,windowEvent:Hy,optionsConfig:Gy,root:Wy}=_h(ba,ka);return onMounted(()=>{zy();for(let Uy in Hy)window.addEventListener(Uy,Hy[Uy])}),onBeforeUnmount(()=>{Se(Ly.value)&&Se(Gy.value.day.scroll)&&Ly.value.removeEventListener("scroll",Gy.value.day.scroll),Se(Dy.value)&&Se(Gy.value.month.scroll)&&Dy.value.removeEventListener("scroll",Gy.value.month.scroll),Se(Iy.value)&&Se(Gy.value.year.scroll)&&Iy.value.removeEventListener("scroll",Gy.value.year.scroll);for(let Uy in Hy)window.removeEventListener(Uy,Hy[Uy])}),ua({focus:Ty}),(Uy,Yy)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:Wy,class:normalizeClass(["fv-DatePicker",[unref(_y),{disabled:Uy.disabled}]])},[createBaseVNode("div",{class:"fv-DatePicker__input",style:normalizeStyle$1({background:Uy.inputBackground}),onClick:Yy[0]||(Yy[0]=jy=>unref(Ty)())},[Uy.hideMonth?createCommentVNode("",!0):(openBlock(),createElementBlock("button",Oh,toDisplayString(Uy.months[Uy.modelValue.getMonth()]),1)),Uy.hideDay?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,class:"fv-DatePicker__input-day",style:normalizeStyle$1({borderColor:Uy.innerBorderColor})},[createTextVNode(toDisplayString(Uy.modelValue.getDate())+" ",1),Uy.showWeek?(openBlock(),createElementBlock("span",zh,"("+toDisplayString(Uy.weeks[Uy.modelValue.getDay()])+")",1)):createCommentVNode("",!0)],4)),Uy.hideYear?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:2,style:normalizeStyle$1({borderColor:Uy.innerBorderColor}),class:"fv-DatePicker__input-year"},toDisplayString(Uy.modelValue.getFullYear()),5))],4),createVNode$1(Transition,{name:"fv-DatePicker__options"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"fv-DatePicker__input-options",style:normalizeStyle$1({background:Uy.optionBackground})},[createBaseVNode("div",Ah,[createBaseVNode("div",{class:"fv-DatePicker__input-center-mask",style:normalizeStyle$1({background:Uy.selectedBackground})},null,4),Uy.hideMonth?createCommentVNode("",!0):withDirectives((openBlock(),createElementBlock("div",Wh,[createBaseVNode("div",{class:"fv-DatePicker__input-options-col-up",onClick:Yy[1]||(Yy[1]=jy=>unref(My)(unref(Dy),unref(Py).buffer-1))},Hh),createBaseVNode("div",{ref_key:"monthElement",ref:Dy,style:normalizeStyle$1(unref(Ry).monthCol),class:"fv-DatePicker__input-options-col-items"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Vy).month,(jy,Ky)=>withDirectives((openBlock(),createElementBlock("div",{class:"fv-DatePicker__input-options-col-item",key:`month${jy}${Ky}`,onClick:Xy=>unref(My)(unref(Dy),Ky)},[createTextVNode(toDisplayString(Uy.months[jy]),1)],8,Gh)),[[unref(gt),unref(Ny)]])),128))],4),createBaseVNode("div",{class:"fv-DatePicker__input-options-col-down",onClick:Yy[2]||(Yy[2]=jy=>unref(My)(unref(Dy),unref(Py).buffer+1))},Yh)])),[[unref(gt),unref(Ey)]]),Uy.hideDay?createCommentVNode("",!0):withDirectives((openBlock(),createElementBlock("div",jh,[createBaseVNode("div",{class:"fv-DatePicker__input-options-col-up",onClick:Yy[3]||(Yy[3]=jy=>unref(My)(unref(Ly),unref(Py).buffer-1))},Xh),createBaseVNode("div",{ref_key:"dayElement",ref:Ly,style:normalizeStyle$1(unref(Ry).dayCol),class:"fv-DatePicker__input-options-col-items"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Vy).day,(jy,Ky)=>withDirectives((openBlock(),createElementBlock("div",{class:"fv-DatePicker__input-options-col-item",key:`day${jy}${Ky}`,onClick:Xy=>unref(My)(unref(Ly),Ky)},[createTextVNode(toDisplayString(jy>0?jy:"")+" ",1),Uy.showWeek?(openBlock(),createElementBlock("span",Jh,"("+toDisplayString(Uy.weeks[unref(By)(jy)])+")",1)):createCommentVNode("",!0)],8,Kh)),[[unref(gt),unref(Ny)]])),128))],4),createBaseVNode("div",{class:"fv-DatePicker__input-options-col-down",onClick:Yy[4]||(Yy[4]=jy=>unref(My)(unref(Ly),unref(Py).buffer+1))},Zh)])),[[unref(gt),unref(Ey)]]),Uy.hideYear?createCommentVNode("",!0):withDirectives((openBlock(),createElementBlock("div",ec,[createBaseVNode("div",{class:"fv-DatePicker__input-options-col-up",onClick:Yy[5]||(Yy[5]=jy=>unref(My)(unref(Iy),unref(Py).buffer-1))},ic),createBaseVNode("div",{ref_key:"yearElement",ref:Iy,class:"fv-DatePicker__input-options-col-items"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Vy).year,(jy,Ky)=>withDirectives((openBlock(),createElementBlock("div",{class:"fv-DatePicker__input-options-col-item",key:`year${jy}${Ky}`,onClick:Xy=>unref(My)(unref(Iy),Ky)},[createTextVNode(toDisplayString(jy>0?jy:""),1)],8,sc)),[[unref(gt),unref(Ny)]])),128))],512),createBaseVNode("div",{class:"fv-DatePicker__input-options-col-down",onClick:Yy[6]||(Yy[6]=jy=>unref(My)(unref(Iy),unref(Py).buffer+1))},rc)])),[[unref(gt),unref(Ey)]])]),createBaseVNode("div",oc,[withDirectives((openBlock(),createElementBlock("button",{class:"fv-DatePicker__input-options-accept",onClick:Yy[7]||(Yy[7]=(...jy)=>unref(Oy)&&unref(Oy)(...jy))},lc)),[[unref(gt),unref(Ny)]]),withDirectives((openBlock(),createElementBlock("button",{class:"fv-DatePicker__input-options-cancel",onClick:Yy[8]||(Yy[8]=(...jy)=>unref(Fy)&&unref(Fy)(...jy))},uc)),[[unref(gt),unref(Ny)]])])],4),[[vShow,unref(Ay).show]])]),_:1})],2))}}),fc=J(cc),mc={emits:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove"],props:{theme:{type:String,default:"global"}},data(){return{moveable:!1}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.Init()},methods:{Init(){window.addEventListener("mousemove",ha=>{this.moveable&&this.$emit("mousemove",ha)}),window.addEventListener("mouseup",ha=>{this.moveable&&this.stop()}),window.addEventListener("touchmove",ha=>{this.moveable&&this.$emit("touchmove",ha)}),window.addEventListener("touchend",ha=>{this.moveable&&this.stop()})},forward(ha){ha.preventDefault(),this.moveable=!0,ha.type==="mousedown"?this.$emit("mousedown",ha):this.$emit("touchstart",ha)},stop(ha){this.moveable=!1,ha&&(ha.type==="mouseup"?this.$emit("mouseup",ha):this.$emit("touchend",ha))}}},gc=createBaseVNode("i",null,null,-1),pc=[gc];function vc(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",{class:"fv-details-list-spliter",onMousedown:ua[0]||(ua[0]=(...Ty)=>_y.forward&&_y.forward(...Ty)),onMouseup:ua[1]||(ua[1]=(...Ty)=>_y.stop&&_y.stop(...Ty)),onTouchstart:ua[2]||(ua[2]=(...Ty)=>_y.forward&&_y.forward(...Ty)),onTouchend:ua[3]||(ua[3]=(...Ty)=>_y.stop&&_y.stop(...Ty))},pc,32)}const fo=ae(mc,[["render",vc]]),bc={props:{modelValue:{default:!1},color:{default:""}},data(){return{checked:this.modelValue}},watch:{modelValue(ha){this.checked=ha},checked(ha){}}},wc=createBaseVNode("i",{class:"ms-Icon ms-Icon--StatusCircleCheckmark fv-details-list-icon-accept"},null,-1),yc=[wc];function kc(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-details-list-selector",[{choosen:ka.checked}]])},[createBaseVNode("div",{class:"fv-details-list-icon-ring",style:normalizeStyle$1({background:ka.checked?Sa.color:""})},yc,4)],2)}const hi=ae(bc,[["render",kc]]),Cc=createBaseVNode("i",{class:"ms-Icon ms-Icon--ChevronRight"},null,-1),$c=[Cc],Sc=["onClick"],Vc={class:"default-title"},Tc=["draggable","onDrag","onDrop","onContextmenu"],xc=["onClick"],Ic=["onClick"],Ec=["onClick"],Dc=["onClick"],Lc=createBaseVNode("i",{class:"ms-Icon ms-Icon--ChevronRight"},null,-1),Pc=[Lc],Fc={class:"col",style:{"min-width":"150px"}},Mc=["onContextmenu"],Rc={class:"fv-details-list-icon-block",key:"multi-col"},Bc=["onClick"],_c=["onClick"],Oc={name:"FvDetailsList",components:{spliter:fo,selector:hi},data(){return{thisValue:[],listWidth:0,thisHead:[],thisGroup:[],posX:0,posY:0,rightMenuHeight:0,windowResize:{trigger:!1,width:0},sort:{name:"",desc:!1},dragTransfer:{},FR_Table_Head:null,show:{rightMenu:!1},styles:{listHead:{background:""}},uR:null,timer:{width:{},resize:{}}}},watch:{modelValue(ha){if(this.valueInit(),this.sort.name!=""){let ua=this.thisHead.find(Sa=>Sa.sortName===this.sort.name);ua!=null&&this.sortClick(ua,!1)}this.groupInit()},head:{deep:!0,handler(){this.headInit(),this.widthFormat(0)}},group(ha){this.groupInit()},filter(ha){this.filterValue()},"filter.value"(ha){this.filterValue()},thisGroup(ha){this.getGroupDataInit()},headBackground(ha){this.stylesInit()},multiSelection(ha){for(let ua=0;ua<this.thisValue.length;ua++){let Sa=this.thisValue[ua];Sa.choosen=!1,this.thisValue[ua]=Sa}},listWidth(ha){this.widthFormat(0)}},computed:{$theme(){return Y(this.$props).theme.value},colWidth(){let ha=[];for(let ua of this.thisHead)ha.push(`${ua.width}px`);return ha},currentChoosen(){let ha=[];for(let ua=0;ua<this.thisValue.length;ua++)this.thisValue[ua].choosen&&this.thisValue[ua].show&&ha.push(this.thisValue[ua]);return ha},currentChoosenAll(){for(let ha=0;ha<this.thisValue.length;ha++)if(this.thisValue[ha].choosen!=!0&&this.thisValue[ha].show)return!1;return!0},currentChoosenNum(){let ha=0;for(let ua=0;ua<this.thisValue.length;ua++)this.thisValue[ua].choosen&&this.thisValue[ua].show&&ha++;return ha},currentExpandAll(){for(let ha=0;ha<this.thisGroup.length;ha++)if(this.thisGroup[ha].expand!=!0)return!1;return!0},borderLightColor(){return()=>this.$theme=="light"?"rgba(121, 119, 117, 0.6)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.6)":"rgba(121, 119, 117, 0.6)"},backgroundLightColor(){return()=>this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"}},beforeMount(){this.uR=ni(),this.uR.initRevealInstances()},mounted(){this.headInit(),this.valueInit(),this.groupInit(),this.lazyLoadInit(),this.listWidthRefreshInit(),this.watchWindowResizeInit(),this.filterValue(),this.FRInit(),this.stylesInit()},methods:{FRInit(){this.FR_Table_Head=this.uR.revealMaskedJs.apply(this.$el,{maskedSelector:this.$refs.list_head,borderGradientSize:80,borderLightColor:this.borderLightColor,backgroundLightColor:this.backgroundLightColor,selector:this.$el.querySelectorAll(".list-head .col")})},stylesInit(){this.styles.listHead.background=this.headBackground},headInit(){let ha={content:"",minWidth:60,width:80,disX:0,sortName:!1,customSort:!1,show:!0,visible:!0};this.thisHead=[];for(let ua of this.head){let Sa=JSON.parse(JSON.stringify(ha));if(typeof ua=="string")Sa.content=ua;else for(let ba in ua)Sa[ba]=ua[ba];this.thisHead.push(Sa)}},valueInit(){let ha=JSON.parse(JSON.stringify(this.modelValue));for(let ua=0;ua<ha.length;ua++)ha[ua].choosen=ha[ua].choosen==null?!1:ha[ua].choosen,ha[ua].show=!0;this.thisValue=ha,this.filterValue()},groupInit(){let ha={name:"",key:60,value:80,data:[],expand:!0};this.thisGroup=[];for(let ua of this.group){let Sa=JSON.parse(JSON.stringify(ha));if(typeof ua=="string")Sa.name=ua;else for(let ba in ua)Sa[ba]=ua[ba];this.thisGroup.push(Sa)}},getGroupDataInit(){let ha=this.thisGroup;for(let ua=0;ua<ha.length;ua++){ha[ua].data=[];for(let Sa of this.thisValue)Sa[ha[ua].key]==ha[ua].value&&ha[ua].data.push(Sa)}},listWidthRefreshInit(){this.timer.width=setInterval(()=>{let ha=this.$el.clientWidth;this.multiSelection&&(ha-=50),this.showGroup&&(ha-=36),this.listWidth=ha},30)},watchWindowResizeInit(){window.addEventListener("resize",()=>{this.windowResize.trigger=!0}),this.timer.resize=setInterval(()=>{let ha=document.body.clientWidth;this.windowResize.trigger&&this.windowResize.width==ha&&(this.headInit(),this.widthFormat(0),this.windowResize.trigger=!1),this.windowResize.width=ha},350)},lazyLoadInit(){this.$SUtility.ScrollToLoadInit(this.$refs.l1,()=>{this.$emit("lazyload",this.thisValue)}),this.$SUtility.ScrollToLoadInit(this.$refs.l2,()=>{this.$emit("lazyload",this.thisValue)})},filterValue(){let ha=this.filter;if(typeof this.filter=="string"&&(ha={key:"any",value:this.filter}),ha.key==null||ha.value==null)return console.warn(this.filter,"Invalid filter."),0;if(ha.key=="any")for(let ua=0;ua<this.thisValue.length;ua++){let Sa=!1,ba=this.thisValue[ua];for(let ka in this.thisValue[ua])if(typeof ba[ka]=="string"&&ba[ka].toLowerCase().indexOf(ha.value.toLowerCase())>-1){Sa=!0;break}ba.show=Sa}else for(let ua=0;ua<this.thisValue.length;ua++){let Sa=this.thisValue[ua],ba=this.thisValue[ua][this.filter.key].toLowerCase().indexOf(ha.value.toLowerCase())>-1;Sa.show=ba}this.$emit("change-value",this.thisValue)},resizeDown(ha,ua){let Sa=this.thisHead[ua];Sa.disX=ha.clientX,this.thisHead[ua]=Sa},resizeMove(ha,ua){for(let Ty=this.thisHead.length-1;Ty>=0;Ty--)if(this.thisHead[Ty].visible){if(Ty===ua)return;break}let Sa=this.thisHead[ua],ba=ha.clientX-Sa.disX;Sa.disX=ha.clientX;let ka=Sa.width+ba;ka=ka<Sa.minWidth?Sa.minWidth:ka;let _y=0;for(let Ty=0;Ty<ua;Ty++)_y+=this.thisHead[Ty].width;ka=ka>this.listWidth-_y?this.listWidth-_y:ka,Sa.width=ka,this.thisHead[ua]=Sa,this.widthFormat(ua)},widthFormat(ha){if(ha<this.thisHead.length-1){let ua=0;for(let ka=0;ka<=ha;ka++)!this.thisHead[ka].visible||(ua+=this.thisHead[ka].width);let Sa=this.listWidth-ua,ba=0;for(let ka=ha+1;ka<this.thisHead.length;ka++)!this.thisHead[ka].visible||(ba+=this.thisHead[ka].width);for(let ka=this.thisHead.length-1;ka>ha;ka--){if(!this.thisHead[ka].visible)continue;let _y=ba-this.thisHead[ka].width;if(_y+this.thisHead[ka].minWidth<=Sa){let Ty=this.thisHead[ka];Ty.width=Sa-_y,Ty.show=!0;break}else{let Ty=this.thisHead[ka];Ty.show=!1}ba-=this.thisHead[ka].width}}},itemChooseClick(ha){this.thisValue.indexOf(ha);let ua=ha;ua.choosen=!ua.choosen,this.$emit("change-value",this.thisValue),this.$emit("choose-items",this.currentChoosen)},chooseCurrent(ha){for(let ua=0;ua<this.thisValue.length;ua++){let Sa=this.thisValue[ua];Sa.choosen=!1}ha.choosen=!0,this.$emit("change-value",this.thisValue),this.$emit("choose-items",this.currentChoosen)},chooseAll(){let ha=!this.currentChoosenAll;for(let ua=0;ua<this.thisValue.length;ua++){let Sa=this.thisValue[ua];Sa.choosen=ha}this.$emit("change-value",this.thisValue),this.$emit("choose-items",this.currentChoosen)},isGroupChooseAll(ha){for(let ua=0;ua<ha.data.length;ua++)if(!ha.data[ua].choosen)return!1;return!0},chooseGroup(ha){let ua=!this.isGroupChooseAll(ha);for(let Sa=0;Sa<ha.data.length;Sa++){let ba=ha.data[Sa];ba.choosen=ua}this.$emit("change-value",this.thisValue),this.$emit("choose-items",this.currentChoosen)},expandGroup(ha){let ua=this.thisGroup.indexOf(ha),Sa=ha;Sa.expand=!Sa.expand,this.thisGroup[ua]=Sa},expandAll(){let ha=!this.currentExpandAll;for(let ua=0;ua<this.thisGroup.length;ua++){let Sa=this.thisGroup[ua];Sa.expand=ha}},rightClick(ha,ua){!this.showRightMenu||(ha.preventDefault(),ha.stopPropagation(),this.$refs.rightMenu.rightClick(ha,this.$el),this.$emit("rightclick",ua))},sortClick(ha,ua=!0){let Sa=this.sort.desc;if(ha.sortName==!1)return 0;this.sort.name!=ha.sortName?Sa=!1:Sa=ua?!this.sort.desc:this.sort.desc,this.sort.name=ha.sortName,this.sort.desc=Sa,Sa=Sa?-1:1,ha.customSort!=!1?this.thisValue.sort((ba,ka)=>Sa*ha.customSort(ba,ka)):this.inteliSort(ha.sortName,Sa)},inteliSort(ha=0,ua=!1){let Sa=this.sortName,ba=[/^\d{4}[-/]\d{1,2}[-/]\d{1,2} \d{1,2}:\d{1,2}:\d{1,2}$/,/^\d{1,2}[-/]\d{1,2}[-/]\d{4} \d{1,2}:\d{1,2}:\d{1,2}$/,/^\d{4}[-/]\d{1,2}[-/]\d{1,2}/,/^\d{1,2}[-/]\d{1,2}[-/]\d{4}/],ka=this.thisValue[0][ha];if(!isNaN(ka))Sa=this.sortNum;else for(let _y of ba)ka.toString().match(_y)&&(Sa=this.sortTime);this.thisValue.sort((_y,Ty)=>ua*Sa(_y[ha],Ty[ha]))},sortNum(ha,ua){return parseFloat(ha)<parseFloat(ua)?1:-1},sortName(ha,ua){return ha.localeCompare(ua)},sortTime(ha,ua){return this.$SDate.Compare(this.$SDate.Parse(ha),this.$SDate.Parse(ua))},drag(ha,ua){this.currentChoosenNum==0?this.dragTransfer=ua:ua.choosen?this.dragTransfer=this.currentChoosen:(this.chooseCurrent(ua),this.dragTransfer=ua)},drop(ha){let ua=this.dragTransfer,Sa=ha,ba=this.thisValue.indexOf(Sa);if(this.currentChoosenNum>0&&ua[0].choosen){for(let ka=ua.length-1;ka>=0;ka--)this.thisValue.splice(this.thisValue.indexOf(ua[ka]),1);Sa.choosen?this.thisValue.splice(0,0,...ua):(ba=this.thisValue.indexOf(Sa),this.thisValue.splice(ba,0,...ua))}else{let ka=this.thisValue.indexOf(ua);this.thisValue.splice(ka,1),this.thisValue.splice(ba,0,ua)}this.$emit("drop-items",{transfer:ua,value:this.thisValue})},valueTrigger(ha){return typeof ha=="function"?ha():ha}},beforeUnmount(){for(let ha in this.timer)clearInterval(this.timer[ha]);this.uR.revealMaskedJs.destroy(this.FR_Table_Head)}},zc=Object.assign(Oc,{props:{...K,modelValue:{default:()=>[]},head:{default:()=>[]},group:{default:()=>[]},filter:{default:()=>({key:"any",value:""})},showGroup:{default:!1},autoHeight:{default:!1},foreground:{default:""},headBackground:{default:""},compact:{default:!1},multiSelection:{default:!1},allowDrag:{default:!1},showRightMenu:{default:!0},rowCss:{default:""},rightMenuWidth:{default:200},rightMenuBackground:{default:""},rightMenuFullExpand:{default:!1}},emits:["change-value","choose-items","lazyload","rightclick","drop-items"],setup(ha,{expose:ua,emit:Sa}){const{proxy:ba}=getCurrentInstance();return ua({headInit:(...ka)=>ba.headInit(...ka)}),(ka,_y)=>{const Ty=resolveComponent("fv-right-menu");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-DetailsList",[ka.$theme]])},[createBaseVNode("div",{class:normalizeClass(["fv-details-list-head",{"fv-custom-head":!0}]),ref:"list_head"},[withDirectives(createBaseVNode("span",{class:"fv-details-list-icon-block",style:normalizeStyle$1(ka.styles.listHead),onClick:_y[1]||(_y[1]=(...Ay)=>ka.chooseAll&&ka.chooseAll(...Ay))},[createVNode$1(hi,{modelValue:ka.currentChoosenAll,"onUpdate:modelValue":_y[0]||(_y[0]=Ay=>ka.currentChoosenAll=Ay),color:ha.foreground},null,8,["modelValue","color"])],4),[[vShow,ha.multiSelection]]),withDirectives(createBaseVNode("span",{class:"col",style:normalizeStyle$1([{width:"36px",padding:"0px"},ka.styles.listHead])},[createBaseVNode("span",{class:normalizeClass(["expand",{choose:ka.currentExpandAll}]),onClick:_y[2]||(_y[2]=(...Ay)=>ka.expandAll&&ka.expandAll(...Ay))},$c,2)],4),[[vShow,ha.showGroup]]),(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.thisHead,(Ay,Ey)=>withDirectives((openBlock(),createElementBlock("span",{class:"col",key:`head: ${Ey}`,style:normalizeStyle$1({"min-width":ka.colWidth[Ey],width:ka.colWidth[Ey],background:ka.styles.listHead.background})},[createBaseVNode("span",{class:"col-content",onClick:My=>ka.sortClick(Ay)},[renderSlot(ka.$slots,"head",{item:Ay,index:Ey},()=>[createBaseVNode("p",Vc,toDisplayString(ka.valueTrigger(Ay.content)),1)]),withDirectives(createBaseVNode("i",{class:normalizeClass(["ms-Icon sort",[`ms-Icon--${ka.sort.desc?"Down":"Up"}`]])},null,2),[[vShow,Ay.sortName===ka.sort.name]])],8,Sc),createVNode$1(fo,{style:{height:"100%"},onMousedown:My=>ka.resizeDown(My,Ey),onMousemove:My=>ka.resizeMove(My,Ey),onTouchstart:My=>ka.resizeDown(My.targetTouches[0],Ey),onTouchmove:My=>ka.resizeMove(My.targetTouches[0],Ey)},null,8,["onMousedown","onMousemove","onTouchstart","onTouchmove"])],4)),[[vShow,Ay.show&&ka.valueTrigger(Ay.visible)]])),128))],512),ha.showGroup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["fv-details-list-content",{compact:ha.compact,"auto-height":ha.autoHeight}]),ref:"l1"},[createVNode$1(TransitionGroup,{name:"details-list",tag:"div"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.thisValue,(Ay,Ey)=>withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(["content-row",[{choose:Ay.choosen,"fv-custom-row":!0},ha.rowCss]]),key:`row: ${Ey}`,draggable:ha.allowDrag,onDrag:My=>ka.drag(My,Ay),onDragover:_y[3]||(_y[3]=My=>My.preventDefault()),onDrop:My=>ka.drop(Ay),onContextmenu:My=>ka.rightClick(My,Ay)},[withDirectives(createBaseVNode("span",{class:"fv-details-list-icon-block",key:"multi-col",onClick:My=>ka.itemChooseClick(Ay)},[createVNode$1(hi,{modelValue:Ay.choosen,"onUpdate:modelValue":My=>Ay.choosen=My,color:ha.foreground},null,8,["modelValue","onUpdate:modelValue","color"])],8,xc),[[vShow,ha.multiSelection]]),(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.thisHead,(My,Dy)=>withDirectives((openBlock(),createElementBlock("span",{class:"col",key:`row: ${Ey} col: ${Dy}`,style:normalizeStyle$1({width:ka.colWidth[Dy]}),onClick:Iy=>ka.chooseCurrent(Ay)},[renderSlot(ka.$slots,`column_${Dy}`,{item:Ay,row_index:Ey,col_index:Dy},()=>[createBaseVNode("p",null,toDisplayString(`row: ${Ey} col: ${Dy}`),1)])],12,Ic)),[[vShow,My.show&&ka.valueTrigger(My.visible)]])),128)),renderSlot(ka.$slots,"row_expand",{item:Ay,row_index:Ey})],42,Tc)),[[vShow,Ay.show]])),128))]),_:3})],2)),ha.showGroup?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["fv-details-list-content",{compact:ha.compact,"auto-height":ha.autoHeight}]),ref:"l2"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.thisGroup,(Ay,Ey)=>(openBlock(),createElementBlock("div",{key:`group: ${Ey}`},[createBaseVNode("div",{class:normalizeClass(["content-row",{choose:ka.isGroupChooseAll(Ay),"fv-custom-group-row":!0}])},[renderSlot(ka.$slots,"group",{item:Ay,index:Ey,isMulti:ha.multiSelection,isChoose:ka.isGroupChooseAll(Ay)},()=>[withDirectives(createBaseVNode("span",{class:"fv-details-list-icon-block",key:"multi-col",onClick:My=>ka.chooseGroup(Ay)},[createVNode$1(hi,{value:ka.isGroupChooseAll(Ay),color:ha.foreground},null,8,["value","color"])],8,Ec),[[vShow,ha.multiSelection]]),createBaseVNode("span",{class:normalizeClass(["expand",{choose:Ay.expand}]),onClick:My=>ka.expandGroup(Ay)},Pc,10,Dc),renderSlot(ka.$slots,"group_content",{item:Ay,index:Ey,isMulti:ha.multiSelection,isChoose:ka.isGroupChooseAll(Ay)},()=>[createBaseVNode("span",Fc,[createBaseVNode("p",null,toDisplayString(Ay.name),1)])])])],2),createVNode$1(Transition,{name:"zoom-in-top"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ay.data,(My,Dy)=>withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(["content-row",[{choose:My.choosen,"fv-custom-row":!0},ha.rowCss]]),key:`group: ${Ey} row: ${Dy}`,onContextmenu:Iy=>ka.rightClick(Iy,My)},[withDirectives(createBaseVNode("span",Rc,[createVNode$1(hi,{modelValue:My.choosen,"onUpdate:modelValue":Iy=>My.choosen=Iy,onClick:Iy=>ka.itemChooseClick(My),color:ha.foreground},null,8,["modelValue","onUpdate:modelValue","onClick","color"])],512),[[vShow,ha.multiSelection]]),createBaseVNode("span",{class:"col",style:{width:"36px"},onClick:Iy=>ka.chooseCurrent(My)},null,8,Bc),(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.thisHead,(Iy,Ly)=>withDirectives((openBlock(),createElementBlock("span",{class:"col",key:`group: ${Ey} row: ${Dy} col: ${Ly}`,style:normalizeStyle$1({width:ka.colWidth[Ly]}),onClick:Py=>ka.chooseCurrent(My)},[renderSlot(ka.$slots,`column_${Ly}`,{item:My,row_index:Dy,col_index:Ly},()=>[createBaseVNode("p",null,toDisplayString(`row: ${Dy} col: ${Ly}`),1)])],12,_c)),[[vShow,Iy.show&&ka.valueTrigger(Iy.visible)]])),128)),renderSlot(ka.$slots,"row_expand",{item:My,row_index:Dy})],42,Mc)),[[vShow,My.show]])),128))],512),[[vShow,Ay.expand]])]),_:2},1024)]))),128))],2)):createCommentVNode("",!0),createVNode$1(Ty,{ref:"rightMenu",theme:ka.theme,rightMenuWidth:ha.rightMenuWidth,background:ha.rightMenuBackground,fullExpandAnimation:ha.rightMenuFullExpand},{default:withCtx(()=>[renderSlot(ka.$slots,"menu",{},()=>[createBaseVNode("span",null,[createBaseVNode("p",null,toDisplayString(ka.currentChoosenNum)+" Selected",1)])])]),_:3},8,["theme","rightMenuWidth","background","fullExpandAnimation"])],2)}}}),Ac=J(zc),Wc={name:"FvDrawer",data(){return{lock:!1,style:{drawer:{zIndex:this.zIndex}},show:{drawer:this.modelValue==null?!1:this.modelValue},initShow:this.computeVisible,window:{click:ha=>{if(!this.computeVisible||this.lock||this.focusTrap)return;let ua=ha.target,Sa=!1;for(;ua&&(ua==this.$el&&(Sa=!0),ua.parentNode);)ua=ua.parentNode;Sa||(this.computeVisible=!1)}}}},computed:{$theme(){return Y(this.$props).theme.value},computeVisible:{get(){return this.modelValue==null?this.show.drawer:this.modelValue},set(ha){this.show.drawer=ha,this.$emit("update:modelValue",ha)}}},watch:{computeVisible(){this.lock=!0,this.setStyle(),setTimeout(()=>{this.lock=!1},50)}},mounted(){this.init(),this.setStyle(),this.initShow=!0},beforeUnmount(){for(let ha in this.window)window.removeEventListener(ha,this.window)},methods:{init(){for(let ha in this.window)window.addEventListener(ha,this.window[ha]);this.appendBody&&this.globalAppendInit()},globalAppendInit(){this.$nextTick(()=>{const ha=document.querySelector("body");ha.append?ha.append(this.$el):ha.appendChild(this.$el)})},setStyle(){let ha=this.length;typeof this.length=="number"&&(ha+="px"),this.position=="bottom"?this.style.drawer={left:"0",bottom:"0",height:ha,width:"100%",maxWidth:"100%",maxHeight:"100%",zIndex:this.zIndex,transform:` ${this.computeVisible?"translateY(0%)":"translateY(110%)"}`}:this.position=="top"?this.style.drawer={left:"0",top:"0",height:ha,width:"100%",maxWidth:"100%",maxHeight:"100%",zIndex:this.zIndex,transform:`${this.computeVisible?"translateY(0%)":"translateY(-110%)"}`}:this.position=="left"?this.style.drawer={left:"0",top:"0",width:ha,height:"100%",maxWidth:"100%",maxHeight:"100%",zIndex:this.zIndex,transform:`${this.computeVisible?"translateX(0%)":"translateX(-110%)"}`}:this.style.drawer={right:"0",top:"0",width:ha,height:"100%",maxWidth:"100%",maxHeight:"100%",zIndex:this.zIndex,transform:`${this.computeVisible?"translateX(0%)":"translateX(110%)"}`}},close(){this.computeVisible=!1}},beforeUnmount(){for(let ha in this.window)window.removeEventListener(ha,this.window);try{document.querySelector("body").removeChild(this.$el)}catch{}}},Nc=Object.assign(Wc,{props:{...K,position:{type:String,default:"bottom"},length:{default:300},background:{default:void 0},modelValue:{default:void 0},zIndex:{type:Number,default:10},focusTrap:{type:Boolean,default:!1},appendBody:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(ha,{emit:ua}){return(Sa,ba)=>withDirectives((openBlock(),createElementBlock("div",{ref:"drawer",class:normalizeClass(["fv-Drawer",[Sa.$theme]]),style:normalizeStyle$1([Sa.style.drawer,{background:ha.background}])},[renderSlot(Sa.$slots,"default")],6)),[[vShow,Sa.initShow]])}}),Hc=J(Nc),Gc={emits:["update:modelValue"],props:{modelValue:{default:()=>[]},borderWidth:{default:1},placeholder:{default:"Dropdown"},borderRadius:{default:"3"},inputForeground:{default:""},inputBackground:{default:""},inputBorderColor:{default:""},dropDownIcon:{default:"ChevronDown"},dropDownIconForeground:{default:""},revealBorderColor:{default:!1},revealBackgroundColor:{default:!1},disabled:{default:!1},theme:{default:"global"}},data(){return{choosenValue:this.modelValue}},watch:{modelValue(ha){this.choosenValue=ha},choosenValue(ha){this.$emit("update:modelValue",ha)}},computed:{$theme(){return Y(this.$props).theme.value},inputValue(){let ha="";for(let ua of this.choosenValue)ha==""?ha+=this.valueTrigger(ua.text):ha+=`,${this.valueTrigger(ua.text)}`;return ha},borderLightColor(){return this.revealBorderColor?this.revealBorderColor:this.$theme=="light"?"rgba(121, 119, 117, 0.6)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.6)":"rgba(121, 119, 117, 0.6)"},backgroundLightColor(){return this.revealBackgroundColor?this.revealBackgroundColor:this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"}},mounted(){},methods:{valueTrigger(ha){return typeof ha=="function"?ha():ha}}},Uc=["placeholder","value"];function Yc(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-reveal-container");return openBlock(),createElementBlock("div",{class:"drop-down-box",style:normalizeStyle$1({"border-radius":`${Sa.borderRadius}px`})},[createBaseVNode("div",{class:"drop-down-container",style:normalizeStyle$1({background:Sa.inputBackground,"border-radius":`${Sa.borderRadius}px`})},[createVNode$1(Ty,{parent:()=>ha.$el,class:"fv-dropdown-reveal-container",backgroundColor:_y.backgroundLightColor,borderColor:_y.borderLightColor,backgroundGradientSize:120,borderGradientSize:80,borderWidth:Sa.borderWidth,borderRadius:Sa.borderRadius,disabled:Sa.disabled},null,8,["parent","backgroundColor","borderColor","borderWidth","borderRadius","disabled"]),renderSlot(ha.$slots,"input",{placeholder:Sa.placeholder,value:_y.inputValue},()=>[createBaseVNode("input",{class:"fv-drop-down-input",placeholder:Sa.placeholder,readonly:"",value:_y.inputValue,style:normalizeStyle$1({color:Sa.inputForeground,"border-radius":`${Sa.borderRadius}px`,borderWidth:`${Sa.borderWidth}px`,borderColor:Sa.inputBorderColor})},null,12,Uc),createBaseVNode("i",{class:normalizeClass(["right-icon ms-Icon",[`ms-Icon--${Sa.dropDownIcon}`]]),style:normalizeStyle$1({color:Sa.dropDownIconForeground})},null,6)])],4)],4)}const mo=ae(Gc,[["render",Yc]]),jc={emits:["update:modelValue","chooseItem"],props:{modelValue:{default:()=>[]},options:{default:()=>[]},multiple:{default:!1},maxHeight:{default:""},borderRadius:{default:"3"},checkBoxBackground:{default:""},dropDownListForeground:{default:"rgba(0, 120, 215, 0.9)"},dropDownListBackground:{default:"rgba(0, 90, 158, 1)"},showStatus:{default:()=>({position:"bottom",top:"100%",bottom:"",height:"auto",overflow:"hidden"})},theme:{default:"global"}},data(){return{choosenValue:this.modelValue,styles:{listContainer:{top:"100%",bottom:"",height:"auto",maxHeight:"",background:"",borderRadius:""},title:{color:""}}}},watch:{modelValue(ha){this.choosenValue=ha},choosenValue(ha){this.$emit("update:modelValue",ha)},maxHeight(){this.stylesInit()},borderRadius(){this.stylesInit()},dropDownListForeground(){this.stylesInit()},dropDownListBackground(){this.stylesInit()},"showStatus.top"(){this.stylesInit()},"showStatus.bottom"(){this.stylesInit()},"showStatus.height"(){this.stylesInit()},"showStatus.overflow"(){this.stylesInit()}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.stylesInit()},methods:{stylesInit(){this.styles.listContainer.borderRadius=`${this.borderRadius}px`,this.styles.listContainer.background=this.dropDownListBackground,this.styles.listContainer.top=this.showStatus.top,this.styles.listContainer.bottom=this.showStatus.bottom,this.styles.listContainer.height=this.showStatus.height,this.styles.listContainer.maxHeight=`${this.showStatus.maxHeight}px`,this.styles.listContainer.overflow=this.showStatus.overflow,this.styles.title.color=this.dropDownListForeground},valueTrigger(ha){return typeof ha=="function"?ha():ha},onClick(ha){if(ha.disabled||ha.type==="header"||ha.type=="divider")return 0;if(this.multiple){let ua=this.choosenValue.find(Sa=>Sa.key===ha.key);ua!=null?(ha.choosen=!1,this.choosenValue.splice(this.choosenValue.indexOf(ua),1)):(ha.choosen=!0,this.choosenValue.push(ha))}else{for(let ua of this.choosenValue)ua.choosen=!1;ha.choosen=!0,this.choosenValue=[],this.choosenValue.push(ha)}this.$emit("chooseItem",{option:ha,index:this.options.indexOf(ha)})}}},qc=["onClick"];function Xc(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-check-box");return openBlock(),createElementBlock("div",{class:"list-container",style:normalizeStyle$1(ka.styles.listContainer)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.options,(Ay,Ey)=>(openBlock(),createElementBlock("div",{key:`item: ${Ey}`,onClick:My=>_y.onClick(Ay)},[createBaseVNode("div",{class:normalizeClass(["list-item",{hr:_y.valueTrigger(Ay.type)=="divider",normal:_y.valueTrigger(Ay.type)=="default"||_y.valueTrigger(Ay.type)==null,disabled:_y.valueTrigger(Ay.disabled),choose:Ay.choosen}])},[withDirectives(createBaseVNode("p",{class:"title",style:normalizeStyle$1(ka.styles.title)},toDisplayString(_y.valueTrigger(Ay.text)),5),[[vShow,_y.valueTrigger(Ay.type)=="header"]]),renderSlot(ha.$slots,"options",{option:Ay,index:Ey,valueTrigger:_y.valueTrigger},()=>[withDirectives(createVNode$1(Ty,{modelValue:Ay.choosen,"onUpdate:modelValue":My=>Ay.choosen=My,disabled:_y.valueTrigger(Ay.disabled),foreground:Sa.dropDownListForeground,background:Sa.checkBoxBackground,theme:Sa.theme},{default:withCtx(()=>[createTextVNode(toDisplayString(_y.valueTrigger(Ay.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","foreground","background","theme"]),[[vShow,_y.valueTrigger(Ay.type)=="default"||_y.valueTrigger(Ay.type)==null&&Sa.multiple]]),withDirectives(createBaseVNode("p",null,toDisplayString(_y.valueTrigger(Ay.text)),513),[[vShow,_y.valueTrigger(Ay.type)=="default"||_y.valueTrigger(Ay.type)==null&&!Sa.multiple]])])],2)],8,qc))),128))],4)}const go=ae(jc,[["render",Xc]]),Kc={name:"FvDropDown",components:{dropDownInput:mo,listContainer:go},data(){return{choosenValue:this.modelValue,topRemainHeight:window.innerHeight,bottomRemainHeight:window.innerHeight,timer:{},styles:{dropDown:{zIndex:0,overflow:"visible"}},show:{listContainer:!1}}},watch:{modelValue(ha){this.choosenValue=ha},choosenValue(ha){this.$emit("update:modelValue",ha)},setFocus(ha){this.show.listContainer=ha},"show.listContainer"(ha){ha?this.styles.dropDown.zIndex=1:this.styles.dropDown.zIndex=0,this.$emit("visible-change",ha)}},computed:{$theme(){return Y(this.$props).theme.value},isDisabled(){return this.options.length==0||this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},dropDownListHeight(){return 36*this.options.length},dropDownListShowStatus(){return this.dropDownListHeight<this.bottomRemainHeight?{position:"bottom",top:"100%",bottom:"",height:"auto",overflow:"hidden"}:this.dropDownListHeight<this.topRemainHeight?{position:"top",top:"",bottom:"100%",height:"auto",overflow:"hidden"}:this.topRemainHeight>this.bottomRemainHeight?{position:"top",top:"",bottom:"100%",height:`${this.topRemainHeight}px`,overflow:"auto"}:{position:"bottom",top:"100%",bottom:"",height:`${this.bottomRemainHeight}px`,overflow:"auto"}}},mounted(){this.outSideClickInit(),this.heightSenseInit()},methods:{outSideClickInit(){window.addEventListener("click",this.outSideClickEvent)},outSideClickEvent(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||(this.show.listContainer=!1)},heightSenseInit(){clearInterval(this.timer),this.timer=setInterval(()=>{try{this.topRemainHeight=this.$refs.input.getBoundingClientRect().top}catch{this.topRemainHeight=window.innerHeight}try{this.bottomRemainHeight=window.innerHeight-this.$refs.input.getBoundingClientRect().bottom}catch{this.bottomRemainHeight=window.innerHeight}},300)},onChange(ha){this.show.listContainer=this.multiple,this.$emit("change",ha)}},beforeUnmount(){clearInterval(this.timer),window.removeEventListener("click",this.outSideClickEvent)}},Jc=Object.assign(Kc,{props:{...K,modelValue:{default:()=>[]},options:{default:()=>[]},multiple:{default:!1},borderWidth:{default:1},borderRadius:{default:"6"},placeholder:{default:"Dropdown"},maxHeight:{default:""},inputForeground:{default:""},inputBorderColor:{default:""},checkBoxBackground:{default:""},dropDownListForeground:{default:""},dropDownListBackground:{default:""},inputBackground:{default:""},dropDownIcon:{default:"ChevronDown"},dropDownIconForeground:{default:""},showError:{default:!1},errorMessage:{default:"This dropdown has an error"},disabled:{default:!1},setFocus:{default:!1}},emits:["update:modelValue","change","visible-change"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-DropDown",[Sa.$theme,Sa.isDisabled?"disabled":""]]),style:normalizeStyle$1(Sa.styles.dropDown)},[createBaseVNode("div",{class:"fv-drop-down-input-container",ref:"input",onClick:ba[1]||(ba[1]=ka=>Sa.show.listContainer=Sa.isDisabled?!1:!Sa.show.listContainer)},[renderSlot(Sa.$slots,"drop-carrier",{value:Sa.choosenValue,placeholoder:ha.placeholder,theme:Sa.$theme},()=>[createVNode$1(mo,{modelValue:Sa.choosenValue,"onUpdate:modelValue":ba[0]||(ba[0]=ka=>Sa.choosenValue=ka),placeholder:ha.placeholder,theme:Sa.$theme,disabled:Sa.isDisabled,borderWidth:ha.borderWidth,borderRadius:ha.borderRadius,inputForeground:ha.inputForeground,inputBackground:ha.inputBackground,inputBorderColor:ha.inputBorderColor,dropDownIcon:ha.dropDownIcon,dropDownIconForeground:ha.dropDownIconForeground,class:normalizeClass({error:ha.showError})},{input:withCtx(ka=>[renderSlot(Sa.$slots,"input",{placeholder:ka.placeholder,value:ka.value,valueTrigger:ka.valueTrigger})]),_:3},8,["modelValue","placeholder","theme","disabled","borderWidth","borderRadius","inputForeground","inputBackground","inputBorderColor","dropDownIcon","dropDownIconForeground","class"])])],512),withDirectives(createBaseVNode("p",{class:"err-msg"},toDisplayString(ha.errorMessage),513),[[vShow,ha.showError]]),createVNode$1(Transition,{name:`fv-drop-down-${Sa.dropDownListShowStatus.position}`},{default:withCtx(()=>[withDirectives(createVNode$1(go,{modelValue:Sa.choosenValue,"onUpdate:modelValue":ba[2]||(ba[2]=ka=>Sa.choosenValue=ka),options:ha.options,multiple:ha.multiple,borderRadius:ha.borderRadius,checkBoxBackground:ha.checkBoxBackground,dropDownListForeground:ha.dropDownListForeground,dropDownListBackground:ha.dropDownListBackground,showStatus:Sa.dropDownListShowStatus,theme:Sa.$theme,onChooseItem:Sa.onChange},{options:withCtx(ka=>[renderSlot(Sa.$slots,"options",{option:ka.option,index:ka.index})]),_:3},8,["modelValue","options","multiple","borderRadius","checkBoxBackground","dropDownListForeground","dropDownListBackground","showStatus","theme","onChooseItem"]),[[vShow,Sa.show.listContainer]])]),_:3},8,["name"])],6))}}),Qc=J(Jc),Zc={class:"expander-description-box"},ef={class:"expander-text"},tf={class:"expander-title"},sf={class:"expander-description-extension-block"},nf={class:"ms-Icon ms-Icon--ChevronUpMed"},rf={class:"ms-Icon ms-Icon--ChevronDownMed"},of={class:"ms-Icon ms-Icon--ChevronRightMed"},af={name:"FvExpander",data(){return{thisValue:this.modelValue,hover:!1}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)}},computed:{hoverBackground(){try{let ha=ot(this.titleBackground),ua=ha.hue();return ha.hue(ua-.01).cssa()}catch{return""}},$theme(){return Y(this.$props).theme.value}},methods:{itemClick(){this.disabledExpander||(this.thisValue^=!0),this.$emit("item-click",this.thisValue)}}},lf=Object.assign(af,{props:{...K,modelValue:{default:!1},icon:{type:String,default:"Mail"},title:{type:String,default:"Title of Expander."},content:{type:String,default:"Content information of Expander."},titleBackground:{default:""},expandBackground:{default:""},defaultHeight:{default:50},maxHeight:{default:300},disabledExpander:{default:!1},visibleOverflow:{default:!0}},emits:["update:modelValue","item-click"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Expander",[Sa.$theme,{visibleOverflow:ha.disabledExpander&&ha.visibleOverflow}]]),style:normalizeStyle$1({height:Sa.thisValue?`${ha.maxHeight}px`:`${ha.defaultHeight}px`,"max-height":`${ha.maxHeight}px`}),onMouseenter:ba[3]||(ba[3]=ka=>Sa.hover=!0),onTouchstart:ba[4]||(ba[4]=ka=>Sa.hover=!0),onMouseleave:ba[5]||(ba[5]=ka=>Sa.hover=!1),onTouchend:ba[6]||(ba[6]=ka=>Sa.hover=!1)},[createBaseVNode("div",{class:"expander-description-container",style:normalizeStyle$1({height:`${ha.defaultHeight}px`,background:Sa.hover?Sa.hoverBackground:ha.titleBackground}),onClick:ba[2]||(ba[2]=(...ka)=>Sa.itemClick&&Sa.itemClick(...ka))},[createBaseVNode("div",Zc,[createBaseVNode("div",{class:"expander-description",onClick:ba[0]||(ba[0]=ka=>Sa.$emit("description-click"))},[createBaseVNode("div",ef,[renderSlot(Sa.$slots,"content",{title:ha.title,contnet:ha.content},()=>[createBaseVNode("div",tf,toDisplayString(ha.title),1)])])]),createBaseVNode("div",sf,[renderSlot(Sa.$slots,"extension")])]),createBaseVNode("div",{class:"expander-expand-icon-block",onClick:ba[1]||(ba[1]=ka=>Sa.$emit("icon-click"))},[renderSlot(Sa.$slots,"expand-icon",{value:Sa.thisValue,disabledCollaspe:ha.disabledExpander},()=>[withDirectives(createBaseVNode("i",nf,null,512),[[vShow,Sa.thisValue]]),withDirectives(createBaseVNode("i",rf,null,512),[[vShow,!Sa.thisValue&&!ha.disabledExpander]]),withDirectives(createBaseVNode("i",of,null,512),[[vShow,!Sa.thisValue&&ha.disabledExpander]])])])],4),createVNode$1(Transition,{name:"expander-expanded"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"expander-detail",style:normalizeStyle$1({background:ha.expandBackground})},[renderSlot(Sa.$slots,"default")],4),[[vShow,Sa.thisValue]])]),_:3})],38))}}),df=J(lf),uf=["onClick"],hf=createBaseVNode("i",null,null,-1),cf=[hf],ff={class:"container-panel"},mf={style:{"font-size":"36px"}},gf={name:"FvFlipView",data(){return{thisValue:this.modelValue,currentIndex:0,currentAnimation:"",hoverTrigger:!1,thisAutoPlay:this.autoPlay,animationMap:{move:"move",moveFade:"move-fade",moveDifferent:"move-different",glue:"rotate-glue",push:"rotate-push",fold:"rotate-fold"},styles:{containerItem:{animationDuration:"0.8s",animationTimingFunction:""},controlPanel:{background:""}},timer:{autoPlay:{},dis:{}},lock:{slide:!0,slideIndex:!0}}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)},autoPlay(ha){this.thisAutoPlay=ha},thisAutoPlay(){this.autoPlayInit()},duration(){this.durationInit()},mask(){this.stylesInit()},currentIndex(ha){this.$emit("change",{index:ha,duration:this.autoPlayDuration})}},computed:{$theme(){return Y(this.$props).theme.value},firstBtn(){return this.direction=="horizontal"?"CaretLeftSolid8":"CaretUpSolid8"},secondBtn(){return this.direction=="horizontal"?"CaretRightSolid8":"CaretDownSolid8"},slideLeftAnimation(){return`${this.animationMap[this.animation]}-right-to-left`},slideRightAnimation(){return`${this.animationMap[this.animation]}-left-to-right`},slideTopAnimation(){return`${this.animationMap[this.animation]}-bottom-to-top`},slideBottomAnimation(){return`${this.animationMap[this.animation]}-top-to-bottom`}},mounted(){this.durationInit(),this.autoPlayInit(),this.stylesInit()},methods:{autoPlayInit(){if(clearInterval(this.timer.autoPlay),this.thisAutoPlay.toString()!="true")return 0;this.timer.autoPlay=setInterval(()=>{this.slideNext()},this.autoPlayDuration)},durationInit(){this.styles.containerItem.animationDuration=`${(parseFloat(this.duration.toString())/1e3).toFixed(2)}s`},stylesInit(){this.styles.controlPanel.background=this.mask},slideNext(){if(clearInterval(this.timer.autoPlay),!this.lock.slide)return 0;this.lock.slide=!1,this.currentIndex<this.thisValue.length-1?this.currentIndex++:this.currentIndex=0,this.direction=="horizontal"?this.currentAnimation=this.slideLeftAnimation:this.currentAnimation=this.slideBottomAnimation,this.lock.slide=!0,this.autoPlayInit()},slidePrev(){if(clearInterval(this.timer.autoPlay),!this.lock.slide)return 0;this.lock.slide=!1,this.currentIndex>0?this.currentIndex--:this.currentIndex=this.thisValue.length-1,this.direction=="horizontal"?this.currentAnimation=this.slideRightAnimation:this.currentAnimation=this.slideTopAnimation,this.lock.slide=!0,this.autoPlayInit()},async slideDelay(ha=!0,ua){return ha?this.slideNext():this.slidePrev(),await new Promise(Sa=>{setTimeout(()=>{Sa(ua)},ua)})},async slideIndex(ha){if(!this.lock.slideIndex)return 0;this.lock.slideIndex=!1,clearInterval(this.timer.dis);let ua=ha-this.currentIndex;if(ua==0)return 0;let Sa=ua>0;ua=Math.abs(ua);let ba=this.duration.toString(),ka=(parseFloat(ba)/ua).toFixed(2);this.styles.containerItem.animationDuration=`${(ka/1e3).toFixed(2)}s`,this.styles.containerItem.animationTimingFunction="linear";for(let _y=0;_y<ua;_y++)_y==ua-1&&(this.styles.containerItem.animationTimingFunction=""),await this.slideDelay(Sa,ka);await new Promise(_y=>{setTimeout(()=>{this.durationInit(),_y(50)},50)}),this.lock.slideIndex=!0}}},pf=Object.assign(gf,{props:{...K,modelValue:{default:()=>[]},direction:{default:"horizontal"},animation:{default:"move"},duration:{default:800},autoPlay:{default:!0},autoPlayDuration:{default:5e3},showControlPanel:{default:""},mask:{default:""}},emits:["update:modelValue","change"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-FlipView",[Sa.$theme]]),onMouseenter:ba[3]||(ba[3]=ka=>Sa.hoverTrigger=!0),onMouseleave:ba[4]||(ba[4]=ka=>Sa.hoverTrigger=!1),onTouchstart:ba[5]||(ba[5]=ka=>Sa.hoverTrigger=!0),onTouchend:ba[6]||(ba[6]=ka=>Sa.hoverTrigger=!1)},[createVNode$1(Transition,{name:"fade-in"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"control-panel",style:normalizeStyle$1(Sa.styles.controlPanel)},[createBaseVNode("span",{class:normalizeClass(["slidebtn fst",[ha.direction]]),onClick:ba[0]||(ba[0]=(...ka)=>Sa.slidePrev&&Sa.slidePrev(...ka))},[createBaseVNode("p",{class:normalizeClass(["icon",[`ms-Icon ms-Icon--${Sa.firstBtn}`]])},null,2)],2),createBaseVNode("span",{class:normalizeClass(["slidebtn sec",[ha.direction]]),onClick:ba[1]||(ba[1]=(...ka)=>Sa.slideNext&&Sa.slideNext(...ka))},[createBaseVNode("p",{class:normalizeClass(["icon",[`ms-Icon ms-Icon--${Sa.secondBtn}`]])},null,2)],2),createBaseVNode("span",{class:normalizeClass(["bottom-controller",[ha.direction]])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.thisValue,(ka,_y)=>(openBlock(),createElementBlock("div",{key:`ring: ${_y}`,class:normalizeClass(["flip-view-ring",[{choosen:Sa.currentIndex==_y}]]),onClick:Ty=>Sa.slideIndex(_y)},cf,10,uf))),128)),createBaseVNode("p",{class:normalizeClass(["sec ms-Icon",[Sa.thisAutoPlay.toString()=="true"?"ms-Icon--PauseBold":"ms-Icon--PlaySolid"]]),onClick:ba[2]||(ba[2]=ka=>Sa.thisAutoPlay=!Sa.thisAutoPlay)},null,2)],2)],4),[[vShow,ha.showControlPanel!=="hidden"&&Sa.hoverTrigger]])]),_:1}),createBaseVNode("div",ff,[createVNode$1(TransitionGroup,{name:Sa.currentAnimation,tag:"div",class:"container-panel"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.thisValue,(ka,_y)=>withDirectives((openBlock(),createElementBlock("div",{key:`flipview: ${_y}`,class:"container-item",style:normalizeStyle$1(Sa.styles.containerItem)},[renderSlot(Sa.$slots,"item",{data:ka,index:_y},()=>[createBaseVNode("p",mf,toDisplayString(_y+1),1)])],4)),[[vShow,Sa.currentIndex===_y]])),128))]),_:3},8,["name"])])],34))}}),vf=J(pf),bf={name:"FvIconElement",data(){return{}},computed:{iconList(){let ha=[];return Array.isArray(this.value)?ha=this.value:ha=this.value.split(","),ha.map(ua=>this.computeIconItem(ua))},$theme(){return Y(this.$props).theme.value}},methods:{computeIconItem(ha){let ua={name:"",color:this.$theme=="dark"?"#fff":"#000",position:0};return ha.name?Object.assign(ua,ha):(ua.name=ha,ua)},valueTrigger(ha){return typeof ha=="function"?ha():ha}}},wf=Object.assign(bf,{props:{...K,value:{default:"AppIconDefault"},fontSize:{default:32},paddingWidth:{default:2},iconButton:{type:Boolean,default:!1},borderRadius:{default:6}},emits:["click"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-IconElement",[Sa.$theme,{"icon-element-btn":ha.iconButton}]]),style:normalizeStyle$1({width:`${ha.fontSize+ha.paddingWidth/1}px`,height:`${ha.fontSize+ha.paddingWidth/1}px`,borderRadius:`${ha.borderRadius}px`}),onClick:ba[0]||(ba[0]=ka=>Sa.$emit("click",ka))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.iconList,(ka,_y)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["icon-element-item",[Sa.valueTrigger(ka.position)]]),key:_y},[createBaseVNode("i",{class:normalizeClass(["icon-element ms-Icon",[`ms-Icon--${Sa.valueTrigger(ka.name)}`]]),style:normalizeStyle$1({fontSize:`${ha.fontSize}px`,color:Sa.valueTrigger(ka.color),"background-image":Sa.valueTrigger(ka.color),"background-clip":"text","-webkit-background-image":Sa.valueTrigger(ka.color),"-webkit-background-clip":"text","-webkit-text-fill-color":Sa.valueTrigger(ka.color)})},null,6)],2))),128))],6))}}),yf=J(wf),kf=["src"],Cf={name:"FvImage",data(){return{thisSrc:"",status:!1,lazy:this.onlazy,lazyTimer:{}}},watch:{src(ha,ua){ha!==ua&&(this.status=!1),this.lazy||(this.thisSrc=this.src)},lazy(ha){ha===!1&&(this.thisSrc=this.src)},onlazy(ha){this.lazy=ha}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.watchImgInit(),this.lazy?this.lazyInit():this.thisSrc=this.src},methods:{watchImgInit(){this.$refs.img.onload=ha=>{this.status=!0}},lazyInit(){clearInterval(this.lazyTimer),this.lazyTimer=setInterval(()=>{window.requestAnimationFrame(()=>{this.$el.getBoundingClientRect().top<window.innerHeight&&(this.lazy=!1,clearInterval(this.lazyTimer))})},300)}},beforeUnmount(){clearInterval(this.lazyTimer)}},$f=Object.assign(Cf,{props:{...K,src:{default:""},onlazy:{default:!1}},emits:["click"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Image",[Sa.$theme]])},[createVNode$1(Transition,{name:"fade-in"},{default:withCtx(()=>[withDirectives(createBaseVNode("img",{draggable:"false",alt:"",src:Sa.thisSrc,ref:"img"},null,8,kf),[[vShow,Sa.status]])]),_:1})],2))}}),Sf=J($f),Vf={name:"FvImg",data(){return{status:"imgBox"}},computed:{$theme(){return Y(this.$props).theme.value}}},Tf=Object.assign(Vf,{props:{...K,src:{default:""},onlazy:{default:!1},loadingColor:{default:"rgba(36, 36, 36, 1)"},onbackground:{default:!1}},setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-ImgBox"),_y=resolveComponent("fv-Image");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Img",[Sa.$theme]])},[Sa.status=="imgBox"?(openBlock(),createBlock(ka,{key:0,url:ha.src,onlazy:ha.onlazy,loadingColor:ha.loadingColor,onbackground:ha.onbackground,style:{width:"100%",height:"100%"},onError:ba[0]||(ba[0]=Ty=>Sa.status="image")},null,8,["url","onlazy","loadingColor","onbackground"])):createCommentVNode("",!0),Sa.status=="image"?(openBlock(),createBlock(_y,{key:1,src:ha.src,onlazy:ha.onlazy,style:{width:"100%",height:"100%"}},null,8,["src","onlazy"])):createCommentVNode("",!0)],2)}}}),xf=J(Tf),If=Zs("FvImageCache",{state:()=>({imgUriList:[]}),getters:{imgUri:ha=>ua=>ha.imgUriList.find(ba=>ba.key===ua)||{data:"",key:ua,state:"none"}},actions:{setImgUri(ha){let ua=ha.state;if(ha.key==null)return 0;ua!="none"&&ua!="loading"&&ua!="done"&&(ha.state="none");let Sa=this.imgUriList.find(ba=>ba.key===ha.key);Sa==null?this.imgUriList.push({data:ha.data,key:ha.key,state:ha.state}):this.imgUriList.splice(this.imgUriList.indexOf(Sa),1,{data:ha.data,key:ha.key,state:ha.state})},clearImgUri(ha){let ua=this.imgUriList.find(Sa=>ha===Sa.key);if(ua==null)return 0;this.imgUriList.splice(this.imgUriList.indexOf(ua),1)}}}),Ef={class:"fv-img-box-content"},Df=["src"],Lf={name:"FvImgBox",data(){return{xhr:!1,loadingProgress:0,width:0,height:0,lazy:!1,lazyTimer:null,formatTimer:null,imageCache:null}},watch:{url(){this.xhr!=!1&&this.xhr.abort(),this.url!=""&&!this.lazy&&this.LoadingImg()},onlazy(ha){this.lazy=ha.toString()=="true"},lazy(ha){ha&&this.lazyInit()}},computed:{$theme(){return Y(this.$props).theme.value},imgUri(){return this.imageCache?!this.url||!this.imageCache.imgUri(this.url)?{data:"",key:this.url,state:"none"}:this.imageCache.imgUri(this.url):{data:"",key:this.url,state:"none"}},progressSize(){return this.width<=20||this.height<=20?{r:this.width-2>0?this.width-2:2,borderWidth:2}:this.width<=40||this.height<=40?{r:10,borderWidth:2}:{r:20,borderWidth:5}}},beforeMount(){this.imageCache=If()},mounted(){this.lazy=this.onlazy.toString()=="true",this.url&&!this.lazy&&this.LoadingImg(),this.widthHeightWatcher()},methods:{LoadingImg(){this.imgUri.state=="none"&&(this.imageCache.setImgUri({data:"",key:this.url,state:"loading"}),this.getUrlImg(this.url)),clearInterval(this.formatTimer),this.formatTimer=setInterval(()=>{if(!this.imageCache)return;let ha=this.imageCache.imgUri(this.url);!ha.data&&(ha.state=="none"||ha.state=="done")&&(this.imageCache.setImgUri({data:"",key:this.url,state:"loading"}),this.getUrlImg(this.url))},3e3)},widthHeightWatcher(){let ha=this.$el;new ResizeObserver(ua=>{for(const Sa of ua){const{contentRect:ba,target:ka}=Sa,{width:_y,height:Ty}=ba;this.width=_y,this.height=Ty}}).observe(ha)},getUrlImg(ha){if(ha==null)return console.warn(`imgBox can't find url: ${ha}.`),0;this.loadingProgress=0;let ua=new XMLHttpRequest;ua.open("get",ha,!0),ua.responseType="blob",ua.onreadystatechange=Sa=>{if(ua.readyState==4&&ua.status==200){let ba=ua.response,ka=ba.type.split("/")[0],_y=new FileReader;_y.onload=Ty=>{let Ay=Ty.target.result;this.UpdateStore(Ay)},ka!=="text"?_y.readAsDataURL(ba):_y.readAsText(ba)}else ua.readyState==4},ua.addEventListener("progress",Sa=>{const ba=Sa.loaded/Sa.total*100;this.loadingProgress=ba.toFixed(2)}),ua.send(),ua.onerror=Sa=>{this.$emit("error",Sa),this.imageCache.clearImgUri(this.url),console.warn("Fv-ImgBox doesn't support cross-domain url.")},this.xhr=ua},UpdateStore(ha){this.imageCache.setImgUri({data:ha,key:this.url,state:"done"})},lazyInit(){clearInterval(this.lazyTimer),this.lazyTimer=setInterval(()=>{this.$el.getBoundingClientRect().top<window.innerHeight&&(this.lazy=!1,this.LoadingImg(),clearInterval(this.lazyTimer))},300)}},beforeUnmount(){clearInterval(this.formatTimer),clearInterval(this.lazyTimer)}},Pf=Object.assign(Lf,{props:{...K,url:{default:""},onlazy:{default:!1},loadingColor:{default:"rgba(36, 36, 36, 1)"},onbackground:{default:!1}},setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-progress-ring");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-ImgBox",[Sa.$theme]]),style:normalizeStyle$1({background:ha.onbackground?"url("+Sa.imgUri.data+") no-repeat":""})},[withDirectives(createBaseVNode("div",Ef,[withDirectives(createVNode$1(ka,{value:Sa.loadingProgress,loading:Sa.loadingProgress===0,color:ha.loadingColor,r:Sa.progressSize.r,borderWidth:Sa.progressSize.borderWidth,background:"transparent"},null,8,["value","loading","color","r","borderWidth"]),[[vShow,Sa.imgUri.state=="loading"]])],512),[[vShow,Sa.imgUri.state!="done"]]),createVNode$1(Transition,{name:"fade-in"},{default:withCtx(()=>[Sa.imgUri.state=="done"&&!ha.onbackground?(openBlock(),createElementBlock("img",{key:0,draggable:"false",alt:"",src:Sa.imgUri.data},null,8,Df)):createCommentVNode("",!0)]),_:1})],6)}}}),Ff=J(Pf),Mf={name:"FvInfiniteScrollView",data(){return{thisValue:this.modelValue,dynamicValue:[],lock:!0,looper:!0}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha),this.dataChange()},static(){this.loadMore()}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.init(),this.lazyLoadInit()},methods:{async init(){for(;this.looper;)this.$el.scrollHeight<=this.$el.clientHeight&&this.thisValue.length>this.dynamicValue.length?(this.loadMore(),this.$emit("init-start")):this.$emit("init-end"),await new Promise(ha=>{setTimeout(()=>{ha(1)},100)})},loadMore(){if(this.static){this.dynamicValue=this.thisValue;return}if(!this.lock)return;this.lock=!1;let ha=this.dynamicValue[this.dynamicValue.length-1],ua=this.thisValue.indexOf(ha),Sa=this.thisValue.slice(ua+1,ua+this.batchSize+1);return this.dynamicValue=this.dynamicValue.concat(Sa),this.lock=!0,Sa>0},dataChange(){let ha=this.dynamicValue.length;this.dynamicValue=this.thisValue.slice(0,ha)},lazyLoadInit(){this.$el.addEventListener("scroll",ha=>{this.$el.scrollHeight-this.$el.scrollTop-this.$el.clientHeight<this.offset&&this.$emit("lazyload",this.loadMore())})}},beforeUnmount(){this.looper=!1}},Rf=Object.assign(Mf,{props:{...K,modelValue:{default:()=>[]},batchSize:{default:30},offset:{default:100},static:{default:!1}},emits:["update:modelValue","init-start","init-end","lazyload"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-InfiniteScrollView",[Sa.$theme]])},[renderSlot(Sa.$slots,"default",{thisValue:Sa.thisValue,dynamicValue:Sa.dynamicValue},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.dynamicValue,(ka,_y)=>(openBlock(),createElementBlock("p",{key:_y},toDisplayString(ka),1))),128))])],2))}}),Bf=J(Rf),_f={class:"title-bar"},Of={class:"title-content"},zf={class:"info-box-content-block"},Af=createBaseVNode("p",null,"Info Box Content.",-1),Wf={class:"info-box-control-block"},Nf={name:"FvInfoBox",data(){return{iconList:{default:{icon:"Error",background:"",backgroundColor:"rgba(0, 98, 158, 0.8)"},warning:{icon:"Warning",background:"brown",backgroundColor:"rgba(234, 183, 2, 1)"},correct:{icon:"Completed",background:"green",backgroundColor:"rgba(69, 172, 97, 1)"},blocked:{icon:"Blocked12   ",background:"red",backgroundColor:"rgba(200, 50, 59, 1)"},error:{icon:"ErrorBadge",background:"red",backgroundColor:"rgba(200, 50, 59, 1)"}}}},computed:{$theme(){return Y(this.$props).theme.value}},methods:{confirm(){this.$emit("confirm")},close(){this.$emit("close")}}},po=Object.assign(Nf,{props:{...K,title:{default:"Tip"},status:{default:"default"},mode:{default:"relative"},confirmTitle:{default:"确定"},cancelTitle:{default:"取消"},showTitleBar:{default:!0},acrylic:{default:!1},destroy:{type:[Boolean,Function],default:!1}},emits:["confirm","close"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-button");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-InfoBox",[Sa.$theme,ha.mode,{acrylic:ha.acrylic}]])},[createBaseVNode("div",{class:normalizeClass(["sinfo-box-block",[Sa.iconList[ha.status].background]])},[withDirectives(createBaseVNode("div",_f,[createBaseVNode("i",{class:normalizeClass(["ms-Icon icon-block",[`ms-Icon--${Sa.iconList[ha.status].icon}`]])},null,2),createBaseVNode("span",Of,toDisplayString(ha.title),1)],512),[[vShow,ha.showTitleBar]]),createBaseVNode("span",zf,[renderSlot(Sa.$slots,"msg",{},()=>[withDirectives(createBaseVNode("h3",null,toDisplayString(ha.title),513),[[vShow,!ha.showTitleBar]]),Af])]),createBaseVNode("div",Wf,[renderSlot(Sa.$slots,"control-panel",{theme:Sa.$theme,confirm:Sa.confirm,cancel:Sa.close,iconList:Sa.iconList},()=>[createVNode$1(ka,{theme:"dark",background:Sa.iconList[ha.status].backgroundColor,isBoxShadow:!0,borderRadius:6,style:{width:"50%",height:"35px","margin-right":"2.5px"},onClick:Sa.confirm},{default:withCtx(()=>[createTextVNode(toDisplayString(ha.confirmTitle),1)]),_:1},8,["background","onClick"]),createVNode$1(ka,{theme:Sa.$theme,isBoxShadow:!0,borderRadius:6,style:{width:"50%",height:"35px","margin-left":"2.5px"},onClick:Sa.close},{default:withCtx(()=>[createTextVNode(toDisplayString(ha.cancelTitle),1)]),_:1},8,["theme","onClick"])])])],2)],2)}}});function Hf(ha,ua,Sa){let ba=Ty=>{let Ay={title:"Tip",status:"default",mode:"fixed",confirmTitle:"确定",cancelTitle:"取消",acrylic:!1,control_panel:void 0,confirm:async()=>{},cancel:async()=>{},theme:"global"};Ay=Object.assign(Ay,ua);const Ey=h$1(po,{title:Ay.title,status:Ay.status,mode:Ay.mode,confirmTitle:Ay.confirmTitle,cancelTitle:Ay.cancelTitle,acrylic:Ay.acrylic,onConfirm:async()=>{await Ay.confirm(),render$1(null,Ty),Ty.remove()},onClose:async()=>{await Ay.cancel(),render$1(null,Ty),Ty.remove()},destroy:()=>{render$1(null,Ty),Ty.remove()},theme:Ay.theme},{msg:()=>ha,"control-panel":Ay.control_panel});return Ey.appContext=Sa,Ey};const ka="__fv-global-info-box__";let _y=document.getElementById(ka);_y||(_y=document.createElement("div"),_y.id=ka,document.body.appendChild(_y)),render$1(ba(_y),_y)}const Gf={install(ha){ha.config.globalProperties.$infoBox=(ua,Sa)=>{Hf(ua,Sa,ha._context)}}},Uf=jn(po,[Gf]),Yf={props:{top:{default:0},height:{default:60},background:{default:""},theme:{type:String,default:"global"}},data(){return{thisTop:0,thisHeight:60,styles:{slider:{background:""}}}},watch:{top(){this.moveInit()},height(){this.moveInit()},background(){this.stylesInit()}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.moveInit(),this.stylesInit()},methods:{moveInit(){let ha=this.top-this.thisTop;ha>0?this.heightExpandToBottom(ha):this.heightExpandToTop(ha)},stylesInit(){this.styles.slider.background=this.background},heightExpandToBottom(ha){let ua=Math.abs(ha)+this.height;Te.to(this.$data,{thisHeight:ua,duration:.3,delay:.08,ease:"expo.inOut",onComplete:this.heightFormatToBottom})},heightFormatToBottom(){Te.to(this.$data,{thisTop:this.top,thisHeight:this.height,duration:.2,ease:"power3.out"})},heightExpandToTop(ha){let ua=Math.abs(ha)+this.height;Te.to(this.$data,{thisTop:this.top,thisHeight:ua,duration:.3,delay:.08,ease:"expo.inOut",onComplete:this.heightFormatToTop})},heightFormatToTop(){Te.to(this.$data,{thisHeight:this.height,duration:.2,ease:"power3.out"})}}},jf={class:"fv-listview-slider"};function qf(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",jf,[createBaseVNode("span",{class:"s",style:normalizeStyle$1({"margin-top":`${ka.thisTop}px`,height:`${ka.thisHeight}px`})},[createBaseVNode("p",{style:normalizeStyle$1({background:ka.styles.slider.background})},null,4)],4)])}const vo=ae(Yf,[["render",qf]]),Xf={class:"list-view-header"},Kf={class:"list-view-container",ref:"container"},Jf=["onClick","onTouchend","onDragover","onDragleave","onDrop"],Qf={class:"list-view-footer"},Zf={name:"FvListView",components:{verticalSlider:vo},data(){return{FR:{init:!1,el:()=>this.$el,revealHandlerList:[]},thisValue:[],focus:!1,showSelectedBorder:!1,thisSliderTarget:null,thisSliderIndex:this.sliderIndex,currentTop:0,currentHeight:0,timer:{debounce:null}}},watch:{modelValue(ha){this.valueInit(),this.setChoosen()},choosen(ha){this.setChoosen()},sliderTarget(ha){this.thisSliderTarget=ha},thisSliderTarget(ha){this.$emit("update:sliderTarget",ha)},sliderIndex(ha){this.thisSliderIndex=ha,this.setSliderTarget(ha)},thisSliderIndex(ha){this.$emit("update:sliderIndex",ha)}},computed:{borderLightColor(){return this.revealBorderColor?this.revealBorderColor:this.$theme=="light"?"rgba(121, 119, 117, 0.6)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.6)":"rgba(121, 119, 117, 0.6)"},backgroundLightColor(){return this.revealBackgroundColor?this.revealBackgroundColor:this.$theme=="light"?"rgba(160, 160, 160, 0.2)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.1)":"rgba(160, 160, 160, 0.2)"},currentChoosen(){let ha=[];for(let ua=0;ua<this.thisValue.length;ua++)this.thisValue[ua].choosen&&this.thisValue[ua].show&&ha.push(this.thisValue[ua]);return ha},currentChoosenAll(){for(let ha=0;ha<this.thisValue.length;ha++)if(this.thisValue[ha].choosen!=!0&&this.thisValue[ha].show)return!1;return!0},currentChoosenNum(){let ha=0;for(let ua=0;ua<this.thisValue.length;ua++)this.thisValue[ua].choosen&&this.thisValue[ua].show&&ha++;return ha},_rowHeight(){return isNaN(this.rowHeight)?this.rowHeight:this.rowHeight+"px"},$theme(){return Y(this.$props).theme.value}},mounted(){this.valueInit(),this.setChoosen(),this.outSideClickInit(),this.keyDownEventInit(),this.sliderRefreshInit(),window.addEventListener("click",()=>{this.showSelectedBorder=!1}),setTimeout(()=>{this.setSliderTarget()},300)},methods:{valueInit(){let ha={name:"",show:!0,choosen:!1,selected:!1,disabled:!1},ua=[];for(let Sa of this.modelValue){let ba=JSON.parse(JSON.stringify(ha));ua.push(Object.assign(ba,Sa))}this.thisValue=ua},outSideClickInit(){window.addEventListener("click",this.outSideClickEvent)},outSideClickEvent(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||(this.focus=!1)},keyDownEventInit(){window.addEventListener("keydown",ha=>{!this.focus||(ha.keyCode===40?this.move(ha,1):ha.keyCode===38&&this.move(ha,-1),ha.keyCode===13&&this.enter(ha))})},valueTrigger(ha){return typeof ha=="function"?ha():ha},handlerClick(ha,ua){clearTimeout(this.timer.debounce),this.timer.debounce=setTimeout(()=>{if(this.onChoosen(ha,ua),this.valueTrigger(ua.disabled)||this.valueTrigger(ua.type)==="header"||this.valueTrigger(ua.type)=="divider")return;let Sa=this.thisValue.indexOf(ua);this.$emit("item-click",{item:ua,index:Sa,event:ha})},200)},onChoosen(ha,ua){if(this.valueTrigger(ua.disabled)||this.valueTrigger(ua.type)==="header"||this.valueTrigger(ua.type)=="divider")return 0;if(this.multiple)this.currentChoosen.find(ba=>ba.key===ua.key)!=null?(ua.choosen=!1,this.thisValue[this.thisValue.indexOf(ua)]=ua):(ua.choosen=!0,this.thisValue[this.thisValue.indexOf(ua)]=ua);else{for(let ba of this.currentChoosen)ba.choosen=!1,this.thisValue[this.thisValue.indexOf(ba)]=ba;ua.choosen=!0,this.thisValue[this.thisValue.indexOf(ua)]=ua}this.selectionFormat(ua),this.scrollFormat(ha.target);let Sa=this.thisValue.indexOf(ua);this.$emit("chooseItem",{item:ua,index:Sa,event:ha}),this.setSliderTarget(Sa),this.$emit("choosen-items",this.currentChoosen)},setChoosen(){for(let ha of this.choosen){if(this.valueTrigger(ha.disabled)||this.valueTrigger(ha.type)==="header"||this.valueTrigger(ha.type)=="divider")continue;let ua=this.thisValue.find(Sa=>Sa.key===ha.key);if(ua){if(!this.multiple)for(let ba of this.currentChoosen)ba.choosen=!1,this.thisValue[this.thisValue.indexOf(ba)]=ba;ua.choosen=!0;let Sa=this.thisValue.indexOf(ua);this.thisValue[Sa]=ua,this.setSliderTarget(Sa)}this.selectionFormat(ua)}},move(ha,ua){ha.preventDefault(),this.showSelectedBorder=!0;let Sa=this.thisValue.find(ka=>ka.selected===!0);if(!Sa){if(Sa=this.thisValue.find(_y=>!(this.valueTrigger(_y.disabled)||this.valueTrigger(_y.type)==="header"||this.valueTrigger(_y.type)=="divider")),!Sa)return;let ka=this.thisValue.indexOf(Sa);this.selectionFormat(Sa),this.scrollFormat(this.$refs[`list_item_${ka}`][0]);return}let ba=this.thisValue.indexOf(Sa);if(ua==1){for(let ka=ba+1;ka<this.thisValue.length;ka++)if(!this.valueTrigger(this.thisValue[ka].disabled)&&!(this.valueTrigger(this.thisValue[ka].type)==="header"||this.valueTrigger(this.thisValue[ka].type)=="divider")){Sa=this.thisValue[ka],ba=ka;break}}else if(ua==-1){for(let ka=ba-1;ka>=0;ka--)if(!this.valueTrigger(this.thisValue[ka].disabled)&&!(this.valueTrigger(this.thisValue[ka].type)==="header"||this.valueTrigger(this.thisValue[ka].type)=="divider")){Sa=this.thisValue[ka],ba=ka;break}}this.selectionFormat(Sa),this.scrollFormat(this.$refs[`list_item_${ba}`][0])},enter(ha){let ua=this.thisValue.find(ba=>ba.selected===!0);if(!ua)return;if(this.multiple)this.currentChoosen.find(ba=>ba.key===ua.key)!=null?(ua.choosen=!1,this.thisValue[this.thisValue.indexOf(ua)]=ua):(ua.choosen=!0,this.thisValue[this.thisValue.indexOf(ua)]=ua);else{for(let ba of this.currentChoosen)ba.choosen=!1,this.thisValue[this.thisValue.indexOf(ba)]=ba;ua.choosen=!0,this.thisValue[this.thisValue.indexOf(ua)]=ua}let Sa=this.thisValue.indexOf(ua);this.$emit("chooseItem",{item:ua,index:Sa,event:ha}),this.setSliderTarget(Sa),this.$emit("choosen-items",this.currentChoosen)},scrollFormat(ha){let ua=ha.getBoundingClientRect(),Sa=this.$refs.container.getBoundingClientRect();if(ua.top<Sa.top){let ba=Sa.top-ua.top;this.$refs.container.scrollTop-=ba}if(ua.bottom>Sa.bottom){let ba=Sa.bottom-ua.bottom;this.$refs.container.scrollTop-=ba}},selectionFormat(ha){this.thisValue.forEach((ua,Sa)=>{ua.key===ha.key&&ua.name===ha.name?(ua.selected=!0,this.thisValue[Sa]=ua,this.$emit("selection-change",ua)):(ua.selected=!1,this.thisValue[Sa]=ua)})},setSliderTarget(ha=null){if(!ha){for(let ua=0;ua<this.thisValue.length;ua++)if(this.thisValue[ua].choosen){ha=ua;break}}this.$refs[`list_item_${ha}`]&&(this.thisSliderTarget=this.$refs[`list_item_${ha}`][0],this.thisSliderIndex=ha)},sliderRefreshInit(){this.timer.slider=setInterval(()=>{if(this.thisSliderTarget){let ha=this.thisSliderTarget,ua=this.$el.getBoundingClientRect().top,Sa=ha.getBoundingClientRect().top;this.currentTop=Sa-ua}else this.currentTop=0;if(this.thisSliderTarget){let ha=this.thisSliderTarget;this.currentHeight=ha.clientHeight}else this.currentHeight=0},30)},dragOver(ha,ua){ha.preventDefault(),ha.stopPropagation(),!this.valueTrigger(ua.disabled)&&this.$emit("item-drag-over",{drop:ua,root:this.thisValue})},dragLeave(ha,ua){ha.preventDefault(),ha.stopPropagation(),this.$emit("item-drag-leave",{drop:ua,root:this.thisValue})},dropItem(ha,ua){ha.preventDefault(),ha.stopPropagation(),!this.valueTrigger(ua.disabled)&&this.$emit("item-drop",{drop:ua,root:this.thisValue})},inspectItemAPI(ha){let ua=this.thisValue.find(ka=>this.valueTrigger(ka.name)===this.valueTrigger(ha.name)&&this.valueTrigger(ka.type)===this.valueTrigger(ha.type)&&ka.key===ha.key),Sa=this.thisValue.indexOf(ua);if(Sa<0)return 0;let ba=this.$refs.container.querySelectorAll(".list-view-item");this.onChoosen({target:ba[Sa]},ha)}},beforeUnmount(){clearInterval(this.timer.slider),window.removeEventListener("click",this.outSideClickEvent)}},em=Object.assign(Zf,{props:{...K,modelValue:{default:()=>[]},choosen:{default:()=>[]},multiple:{default:!1},rowHeight:{default:""},headerForeground:{default:""},choosenBackground:{default:""},itemPadding:{default:""},itemBorderRadius:{default:3},revealBorderColor:{default:!1},revealBackgroundColor:{default:!1},showSlider:{default:!1},sliderTarget:{default:()=>{}},sliderIndex:{default:-1}},emits:["update:modelValue","item-click","chooseItem","choosen-items","selection-change","item-drag-over","item-drag-leave","item-drop","update:sliderTarget","update:sliderIndex"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-reveal-container");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-ListView",[Sa.$theme]]),onClick:ba[0]||(ba[0]=_y=>Sa.focus=!0)},[createBaseVNode("div",Xf,[renderSlot(Sa.$slots,"header")]),createBaseVNode("div",Kf,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.thisValue,(_y,Ty)=>withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass([{choose:Sa.valueTrigger(_y.choosen),header:Sa.valueTrigger(_y.type)=="header",hr:Sa.valueTrigger(_y.type)=="divider",normal:Sa.valueTrigger(_y.type)=="default"||Sa.valueTrigger(_y.type)==null,disabled:Sa.valueTrigger(_y.disabled),selected:_y.selected&&Sa.showSelectedBorder},"list-view-item"]),key:Ty,style:normalizeStyle$1({height:Sa._rowHeight,background:Sa.valueTrigger(_y.choosen)?ha.choosenBackground:"",borderRadius:ha.itemBorderRadius+"px"}),ref_for:!0,ref:`list_item_${Ty}`,onClick:Ay=>Sa.handlerClick(Ay,_y),onTouchend:Ay=>Sa.handlerClick(Ay,_y),onDragover:Ay=>Sa.dragOver(Sa.event,_y),onDragleave:Ay=>Sa.dragLeave(Sa.event,_y),onDrop:Ay=>Sa.dropItem(Sa.event,_y)},[(Sa.valueTrigger(_y.type)=="default"||Sa.valueTrigger(_y.type)==null)&&!Sa.valueTrigger(_y.disabled)?(openBlock(),createBlock(ka,{key:0,revealContainer:Sa.FR,parent:()=>Sa.$refs[`list_item_${Ty}`][0],class:"fv-listview-reveal-container",backgroundColor:Sa.backgroundLightColor,borderColor:Sa.borderLightColor,borderGradientSize:35,borderWidth:1,borderRadius:ha.itemBorderRadius},null,8,["revealContainer","parent","backgroundColor","borderColor","borderRadius"])):createCommentVNode("",!0),createBaseVNode("div",{class:"item-content",style:normalizeStyle$1({padding:ha.itemPadding})},[renderSlot(Sa.$slots,"listItem",{item:_y,index:Ty,valueTrigger:Sa.valueTrigger},()=>[createBaseVNode("p",{style:normalizeStyle$1({color:Sa.valueTrigger(_y.type)=="header"?ha.headerForeground:""})},toDisplayString(Sa.valueTrigger(_y.name)),5)])],4)],46,Jf)),[[vShow,Sa.valueTrigger(_y.show)!==!1]])),128))],512),createBaseVNode("div",Qf,[renderSlot(Sa.$slots,"footer")]),ha.showSlider?(openBlock(),createBlock(vo,{key:0,top:Sa.currentTop,height:Sa.currentHeight,background:ha.headerForeground},null,8,["top","height","background"])):createCommentVNode("",!0)],2)}}}),tm=J(em),im={name:"FvMenuFlyoutChildrenContainer",emits:["choose-item"],props:{modelValue:{default:()=>[]},options:{default:()=>[]},background:{default:""},choosenBackground:{default:""},choosenSliderBackground:{default:""},titleForeground:{default:""},pivotPlaceholder:{default:"Please Choose"},theme:{type:String,default:"global"}},data(){return{thisValue:this.modelValue,pivotValue:null}},watch:{modelValue(ha){this.thisValue=ha},pivotItems(ha){ha.length>0&&(this.pivotValue=ha[ha.length-1])}},computed:{pivotItems(){let ha=[];for(let ua of this.thisValue)ha.push({key:ua.key,name:ua.text,ori:ua,width:this.pivotTextWidth(ua.text)});return(ha.length==0||ha[ha.length-1].ori.children)&&ha.push({key:"$fv-menu-flyout-pivot-placeholder",name:this.pivotPlaceholder,ori:{},width:this.pivotTextWidth(this.pivotPlaceholder)}),ha},pivotTextWidth(){return ha=>ha.length<5?60:ha.length>20?200:10*ha.length},computedOptions(){if(!this.pivotValue)return this.options;let ha=this.pivotItems.findIndex(ua=>ua.key==this.pivotValue.key);return ha>0?this.pivotItems[ha-1].ori.children?this.pivotItems[ha-1].ori.children:[]:this.options},isChoosen(){return ha=>this.pivotValue?ha.key===this.pivotValue.key&&ha.text===this.pivotValue.name:!1},$theme(){return Y(this.$props).theme.value}},mounted(){},methods:{valueTrigger(ha){return typeof ha=="function"?ha():ha},Choose(ha,ua){if(this.valueTrigger(ua.disabled)||this.valueTrigger(ua.type)=="header"||this.valueTrigger(ua.type)=="divider")return 0;let Sa=ha.target;for(;Sa.getAttribute("class").indexOf("fv-menu-flyout-item")<0;)Sa=Sa.parentNode;this.$refs.co_items.scrollTop=Sa.offsetTop,this.$emit("choose-item",{item:ua,index:this.thisValue.findIndex(ba=>ba.key==this.pivotValue.key&&ba.text==this.pivotValue.name)})}}},sm={class:"menu-flyout-list-container"},nm=["onClick","title"],rm={class:"ms-Icon ms-Icon--ChevronRight after-expand"};function om(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-pivot");return openBlock(),createBlock(Transition,{name:"fv-menu-flyout"},{default:withCtx(()=>[createBaseVNode("div",sm,[createVNode$1(Ty,{modelValue:ka.pivotValue,"onUpdate:modelValue":ua[0]||(ua[0]=Ay=>ka.pivotValue=Ay),theme:_y.$theme,items:_y.pivotItems,fontSize:12,sliderBackground:Sa.choosenSliderBackground,style:{width:"100%",height:"50px","overflow-x":"auto"}},null,8,["modelValue","theme","items","sliderBackground"]),createVNode$1(TransitionGroup,{name:"fv-menu-flyout-item",tag:"div",class:"menu-flyout-item-container",style:normalizeStyle$1({background:Sa.background,"overflow-y":"auto","overflow-x":"visible"}),ref:"co_items"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(_y.computedOptions,(Ay,Ey)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-menu-flyout-item",{hr:_y.valueTrigger(Ay.type)=="divider",normal:(_y.valueTrigger(Ay.type)=="default"||_y.valueTrigger(Ay.type)==null)&&!_y.valueTrigger(Ay.disabled),disabled:_y.valueTrigger(Ay.disabled),choose:_y.isChoosen(Ay),title:_y.valueTrigger(Ay.type)=="header"}]),style:normalizeStyle$1({background:_y.isChoosen(Ay)?Sa.choosenBackground:"",color:_y.valueTrigger(Ay.type)==="header"?Sa.titleForeground:""}),onClick:My=>_y.Choose(My,Ay),key:`options: ${Ay.key?Ay.key:Ey}`,title:_y.valueTrigger(Ay.text)},[renderSlot(ha.$slots,"default",{item:Ay,choosenSliderBackground:Sa.choosenSliderBackground},()=>[createBaseVNode("i",{class:"before-choosen",style:normalizeStyle$1({background:Sa.choosenSliderBackground})},null,4),createTextVNode(" "+toDisplayString(_y.valueTrigger(Ay.type)!=="divider"?_y.valueTrigger(Ay.text):"")+" ",1),withDirectives(createBaseVNode("i",rm,null,512),[[vShow,Ay.children]])])],14,nm))),128))]),_:3},8,["style"])])]),_:3})}const bo=ae(im,[["render",om]]),am=["placeholder","value"],lm={class:"ms-Icon ms-Icon--ChevronRight after-expand"},dm={name:"FvMenuFlyout",components:{menuFlyoutChildrenContainer:bo},data(){return{thisValue:this.modelValue,status:!1}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)}},computed:{isDisabled(){return this.options.length==0||this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},borderLightColor(){return this.revealBorderColor?this.revealBorderColor:this.$theme=="light"?"rgba(121, 119, 117, 0.6)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.6)":"rgba(121, 119, 117, 0.6)"},backgroundLightColor(){return this.revealBackgroundColor?this.revealBackgroundColor:this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"},computedValue(){let ha=[];for(let ua of this.thisValue)ha.push(ua.text);return ha.join(" / ")},$theme(){return Y(this.$props).theme.value}},mounted(){this.outSideClickInit()},methods:{outSideClickInit(){window.addEventListener("click",this.outSideClickEvent),window.addEventListener("touchend",this.outSideClickEvent)},outSideClickEvent(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||(this.status=!1)},valueTrigger(ha){return typeof ha=="function"?ha():ha},Choose(ha){let{item:ua,index:Sa}=ha;Sa==-1?this.thisValue.push(ua):(this.thisValue.splice(Sa+1),this.thisValue[Sa]=ua),ua.children||(this.status=!1),this.$emit("choose-item",this.thisValue)}},beforeUnmount(){window.removeEventListener("click",this.outSideClickEvent),window.removeEventListener("touchend",this.outSideClickEvent)}},um=Object.assign(dm,{props:{...K,modelValue:{default:()=>[]},options:{default:()=>[]},borderWidth:{default:2},placeholder:{default:"menuFlyout"},borderRadius:{default:"3"},background:{default:""},choosenBackground:{default:""},choosenSliderBackground:{default:""},inputForeground:{default:""},inputBackground:{default:""},titleForeground:{default:""},dropDownIcon:{default:"ChevronDown"},dropDownIconForeground:{default:""},pivotPlaceholder:{default:"Please Choose"},revealBorderColor:{default:!1},revealBackgroundColor:{default:!1},disabled:{default:!1}},emits:["update:modelValue","choose-item"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-reveal-container");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-MenuFlyout",[Sa.$theme,{disabled:Sa.isDisabled}]]),style:normalizeStyle$1({background:ha.background,padding:ha.borderWidth,"border-radius":`${ha.borderRadius}px`,"z-index":Sa.status?3:"",overflow:"visible"})},[createBaseVNode("div",{class:"menu-flyout-container",onClick:ba[0]||(ba[0]=_y=>Sa.status=Sa.isDisabled?!1:!Sa.status),style:normalizeStyle$1({background:ha.inputBackground,"border-radius":`${ha.borderRadius}px`})},[createVNode$1(ka,{parent:()=>Sa.$el,class:"fv-menu-flyout-reveal-container",backgroundColor:Sa.backgroundLightColor,borderColor:Sa.borderLightColor,backgroundGradientSize:120,borderGradientSize:80,borderWidth:ha.borderWidth,borderRadius:ha.borderRadius,disabled:Sa.isDisabled},null,8,["parent","backgroundColor","borderColor","borderWidth","borderRadius","disabled"]),createBaseVNode("input",{class:"input",placeholder:ha.placeholder,readonly:"",value:Sa.computedValue,style:normalizeStyle$1({color:ha.inputForeground,"border-radius":`${ha.borderRadius}px`})},null,12,am),createBaseVNode("i",{class:normalizeClass(["ms-Icon right-icon",[`ms-Icon--${ha.dropDownIcon}`]]),style:normalizeStyle$1({color:ha.dropDownIconForeground})},null,6)],4),withDirectives(createVNode$1(bo,{modelValue:Sa.thisValue,options:ha.options,background:ha.background,choosenBackground:ha.choosenBackground,titleForeground:ha.titleForeground,theme:Sa.$theme,onChooseItem:Sa.Choose},{item:withCtx(_y=>[renderSlot(Sa.$slots,"default",{item:_y.item,choosenSliderBackground:_y.choosenSliderBackground},()=>[createBaseVNode("i",{class:"before-choosen",style:normalizeStyle$1({background:_y.choosenSliderBackground})},null,4),createTextVNode(" "+toDisplayString(Sa.valueTrigger(_y.item.type)!=="divider"?Sa.valueTrigger(_y.item.text):"")+" ",1),withDirectives(createBaseVNode("i",lm,null,512),[[vShow,_y.item.children]])])]),_:3},8,["modelValue","options","background","choosenBackground","titleForeground","theme","onChooseItem"]),[[vShow,Sa.status]])],6)}}}),hm=J(um),cm={class:"msg-bar-block"},fm={class:"msg-content-block"},mm={class:"control-block"},gm={name:"FvMessageBar",data(){return{iconList:{default:{icon:"Info2",iconColor:"normal"},warning:{icon:"Info2",iconColor:"warning"},correct:{icon:"CheckMark",iconColor:"correct"},blocked:{icon:"Remove   ",iconColor:"error"},error:{icon:"ErrorBadge12",iconColor:"error"}},timer:null}},watch:{autoClose(){this.autoDestroyInit()}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.autoDestroyInit(),this.enter()},methods:{enter(){this.$el.style.top="-100%",Te.to(this.$el,{top:0,duration:.3})},autoDestroyInit(){this.mode!=="relative"&&this.autoClose>0&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.destroySelf()},this.autoClose))},destroySelf(){this.mode=="relative"?this.$emit("close"):Te.to(this.$el,{opacity:0,duration:.3,onComplete:()=>{this.$emit("close"),this.destroy()}})}}},wo=Object.assign(gm,{props:{...K,status:{type:[String,void 0],default:"default"},showControl:{type:[Boolean,void 0],default:!1},showClose:{type:[Boolean,void 0],default:!0},mode:{default:"relative"},destroy:{default:()=>{}},autoClose:{default:3e3}},emits:["close"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-button");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-MessageBar",[Sa.$theme,Sa.iconList[ha.status].iconColor,{relative:ha.mode=="relative"}]])},[createBaseVNode("span",cm,[createBaseVNode("i",{class:normalizeClass(["ms-Icon icon-block",[`ms-Icon--${Sa.iconList[ha.status].icon}`,Sa.iconList[ha.status].iconColor]])},null,2),createBaseVNode("span",fm,[renderSlot(Sa.$slots,"msg",{theme:Sa.$theme},()=>[createTextVNode(" Message Bar. ")])]),withDirectives(createBaseVNode("i",{class:"ms-Icon ms-Icon--Cancel close-block",onClick:ba[0]||(ba[0]=(..._y)=>Sa.destroySelf&&Sa.destroySelf(..._y))},null,512),[[vShow,ha.showClose]])]),withDirectives(createBaseVNode("span",mm,[renderSlot(Sa.$slots,"control",{theme:Sa.$theme,cancel:Sa.destroySelf},()=>[createVNode$1(ka,null,{default:withCtx(()=>[createTextVNode("Yes")]),_:1})])],512),[[vShow,ha.showControl]])],2)}}});function pm(ha,ua,Sa){let ba=_y=>{const Ty=h$1(wo,{status:ua.status,showControl:ua.showControl,showClose:ua.showClose,mode:"fixed",autoClose:ua.autoClose,destroy:()=>{render$1(null,_y),ua.once||_y.remove()},theme:ua.theme},{msg:ha,control:ua.control});return Ty.appContext=Sa,Ty},ka=document.createElement("div");if(ua.once){const _y="__fv-global-message-bar__";ka=document.getElementById(_y),ka||(ka=document.createElement("div"),ka.id=_y,document.body.appendChild(ka))}else document.body.appendChild(ka);render$1(ba(ka),ka)}function vm(ha,ua){var Sa;if(ha.fvSwiftWarning)return 0;let ba={color:"rgba(200, 50, 59, 1)",replaceTitle:"SwiftWarning"};ba=Object.assign(ba,ua),ba.oriContent=ha.innerHTML,ba.oriClass=ha.getAttribute("class"),ba.oriStyle=ha.getAttribute("style"),ba.oriClass==null&&(ba.oriClass=""),ba.oriStyle==null&&(ba.oriStyle=""),ha.fvSwiftWarning=!0,ha.innerHTML=(Sa=ba.replaceTitle)!=null?Sa:"SwiftWarning",ha.setAttribute("class",ba.oriClass+" fv-swift-warning"),ha.setAttribute("style",ba.oriStyle+` color: ${ba.color};`),setTimeout(()=>{var ka,_y,Ty;ha.innerHTML=(ka=ba.oriContent)!=null?ka:"",ha.setAttribute("class",(_y=ba.oriClass)!=null?_y:""),ha.setAttribute("style",(Ty=ba.oriStyle)!=null?Ty:""),ha.fvSwiftWarning=!1},3e3)}const bm={install(ha){ha.config.globalProperties.$barWarning=(ua,Sa)=>{pm(ua,{...Sa},ha._context)},ha.config.globalProperties.$swiftWarning=vm}},wm=jn(wo,[bm]),ym=createBaseVNode("i",{class:"ms-Icon ms-Icon--Back icon"},null,-1),km=createBaseVNode("i",{class:"ms-Icon ms-Icon--GlobalNavButton icon"},null,-1),Cm=createBaseVNode("i",{class:"ms-Icon ms-Icon--Back icon"},null,-1),$m={class:"name title"},Sm=createBaseVNode("i",{class:"ms-Icon ms-Icon--GlobalNavButton icon"},null,-1),Vm={class:"search"},Tm={class:"template"},xm=createBaseVNode("i",{class:"ms-Icon ms-Icon--Settings icon"},null,-1),Im={class:"name"},Em={name:"FvNavigationPanel",beforeMount(){this.uR=ni(),this.uR.initRevealInstances()},data(){return{FR:null,uR:null,thisExpand:this.expand,thisExpandBackup:this.expand,screenWidth:window.innerWidth,timer:{widthTimer:{}}}},watch:{expand(ha){this.thisExpand=ha},thisExpand(ha){this.$emit("update:expand",ha),this.$emit("expand-change",ha)},screenWidth(ha){this.expandDisplay<this.screenWidth?this.isFlyout?this.thisExpand=!1:this.thisExpand=this.thisExpandBackup:this.thisExpand=!1}},computed:{panelWidth(){return this.isFlyout?`${this.compactWidth}px`:this.thisExpand?this.screenWidth<=this.fullSizeDisplay?"100%":`${this.expandWidth}px`:`${this.compactWidth}px`},navWidth(){let ha=this.screenWidth<=this.fullSizeDisplay?"100%":`${this.expandWidth}px`;return this.thisExpand?ha:`${this.compactWidth}px`},isFlyout(){return this.expandMode=="flyout"||this.flyoutDisplay>this.screenWidth},isMobile(){return this.mobileDisplay>this.screenWidth},borderLightColor(){return()=>this.$theme=="light"?"rgba(121, 119, 117, 0.6)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.6)":"rgba(121, 119, 117, 0.6)"},backgroundLightColor(){return()=>this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"},$theme(){return Y(this.$props).theme.value}},mounted(){this.screenWidthInit(),this.outSideClickInit()},methods:{FRInit(){this.FR=this.uR.revealDirectJs.apply(this.$el,{selector:`.fv-${this.$theme}-NavigationPanel .panel-container .fv-nav-default-item`,borderGradientSize:60,borderLightColor:this.borderLightColor,backgroundLightColor:this.backgroundLightColor})},screenWidthInit(){this.timer.widthTimer=setInterval(()=>{this.screenWidth=window.innerWidth},30)},outSideClickInit(){window.addEventListener("click",this.outSideClickEvent)},outSideClickEvent(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||(this.isFlyout||this.isMobile)&&(this.thisExpand=!1)},expandClick(){this.thisExpandBackup=!this.thisExpand,this.thisExpand=!this.thisExpand,this.$emit("expand-click",this.thisExpand)}},beforeUnmount(){clearInterval(this.timer.widthTimer),this.uR.revealDirectJs.destroy(this.FR),window.removeEventListener("click",this.outSideClickEvent)}},Dm=Object.assign(Em,{props:{...K,title:{default:"NavigationPanel"},expand:{default:!0},expandMode:{default:"relative"},expandWidth:{default:350},expandDisplay:{default:1024},compactWidth:{default:50},flyoutDisplay:{default:0},fullSizeDisplay:{default:800},mobileDisplay:{default:0},showBack:{default:!0},showNav:{default:!0},showSearch:{default:!0},settingTitle:{default:"Settings"},showSetting:{default:!0},background:{default:""}},emits:["back","setting-click","expand-change","expand-click","update:expand"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-animated-icon"),_y=resolveComponent("fv-search-box");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-NavigationPanel",[Sa.$theme,{compact:!Sa.thisExpand},{flyout:Sa.isFlyout},{mobile:Sa.isMobile}]]),style:normalizeStyle$1({position:Sa.screenWidth<=ha.fullSizeDisplay&&Sa.thisExpand?"static":"",width:Sa.panelWidth})},[createBaseVNode("div",{class:"panel-container-mobile",style:normalizeStyle$1({background:Sa.thisExpand?"":ha.background})},[withDirectives(createVNode$1(ka,{modelValue:"backScale",class:"fv-nav-default-item",hideContent:!0,style:normalizeStyle$1({width:`${ha.compactWidth}px`}),onClick:ba[0]||(ba[0]=Ty=>Sa.$emit("back",Ty))},{default:withCtx(()=>[ym]),_:1},8,["style"]),[[vShow,ha.showBack]]),withDirectives(createVNode$1(ka,{modelValue:"scaleXDown",class:"fv-nav-default-item",hideContent:!0,style:normalizeStyle$1({width:`${ha.compactWidth}px`}),onClick:Sa.expandClick},{default:withCtx(()=>[km]),_:1},8,["style","onClick"]),[[vShow,ha.showNav]])],4),createBaseVNode("div",{class:"panel-container",style:normalizeStyle$1({width:Sa.navWidth,background:ha.background})},[withDirectives(createVNode$1(ka,{modelValue:"backScale",class:"fv-nav-default-item control",hideContent:!Sa.thisExpand,style:{width:"calc(100% - 10px)"},onClick:ba[1]||(ba[1]=Ty=>Sa.$emit("back",Ty))},{content:withCtx(()=>[createBaseVNode("p",$m,toDisplayString(ha.title),1)]),default:withCtx(()=>[Cm]),_:1},8,["hideContent"]),[[vShow,ha.showBack]]),withDirectives(createVNode$1(ka,{modelValue:"scaleXDown",class:"fv-nav-default-item control",hideContent:!Sa.thisExpand,style:{width:"calc(100% - 10px)"},onClick:Sa.expandClick},{content:withCtx(()=>[withDirectives(createBaseVNode("p",{class:"name title"},toDisplayString(ha.title),513),[[vShow,!ha.showBack]])]),default:withCtx(()=>[Sm]),_:1},8,["hideContent","onClick"]),[[vShow,ha.showNav]]),withDirectives(createBaseVNode("span",Vm,[renderSlot(Sa.$slots,"searchBlock",{},()=>[createVNode$1(_y,{icon:"Search",placeholder:"Search",class:"nav-search",theme:Sa.theme,revealBorder:!0,borderWidth:"2",borderRadius:"6",isBoxShadow:!0,style:{width:"95%"}},null,8,["theme"])])],512),[[vShow,ha.showSearch&&Sa.thisExpand]]),createBaseVNode("div",Tm,[renderSlot(Sa.$slots,"panel")]),withDirectives(createVNode$1(ka,{modelValue:"bounceRotate",ref:"setting",class:"fv-nav-default-item",hideContent:!Sa.thisExpand,style:{width:"calc(100% - 10px)"},onClick:ba[2]||(ba[2]=Ty=>Sa.$emit("setting-click",{event:Ty}))},{content:withCtx(()=>[createBaseVNode("p",Im,toDisplayString(ha.settingTitle),1)]),default:withCtx(()=>[xm]),_:1},8,["hideContent"]),[[vShow,ha.showSetting]])],4)],6)}}}),Lm=J(Dm),Pm=createBaseVNode("i",{class:"ms-Icon ms-Icon--Settings icon"},null,-1),Fm={class:"name"},Mm={name:"FvNavigationView",data(){return{thisValue:{},thisExpand:this.expand,currentTarget:{},currentTop:0,currentHeight:0,timer:{slider:{}}}},watch:{modelValue(ha,ua){this.valueInit()},thisValue(ha,ua){ha.name===ua.name&&ha.key===ua.key||(this.$nextTick(()=>{this.onChooseSearch(ha)}),this.$emit("update:modelValue",ha))},expand(ha){this.thisExpand=ha},thisExpand(ha){this.$emit("update:expand",ha)}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.valueInit()},methods:{valueInit(){if(this.modelValue.type==="setting")return this.thisValue=this.modelValue,0;let ha=this.options.find(ua=>ua.name===this.modelValue.name&&ua.key===this.modelValue.key);ha!==void 0?this.thisValue=ha:this.thisValue=this.options.find(ua=>ua.type!=="header"&&ua.type!=="divider")},itemClick(ha){this.thisValue=ha.item},settingClick(ha){this.currentTarget=this.$refs.setting.$el,this.thisValue={key:">setting",name:">setting",type:"setting"},this.$emit("setting-click",ha)},expandChange(ha){this.$emit("expand-change",ha)},onChooseSearch(ha){if(ha.type==="setting")return this.currentTarget=this.$refs.setting.$el,this.thisValue={key:">setting",name:">setting",type:"setting"},0;let ua=this.options.find(ba=>ba.name===ha.name&&ba.key===ha.key),Sa=this.options.indexOf(ua);if(Sa<0)return 0;this.currentTarget=this.$refs.listView.$refs[`list_item_${Sa}`][0],this.thisValue=ua}},beforeUnmount(){clearInterval(this.timer)}},Rm=Object.assign(Mm,{props:{...K,emits:["update:modelValue","expand-change","setting-click","item-click","back","expand-click","update:expand"],modelValue:{default:()=>({})},options:{default:()=>[]},title:{default:"NavigationView"},expand:{default:!0},expandMode:{default:"relative"},expandWidth:{default:350},expandDisplay:{default:1024},compactWidth:{default:46},flyoutDisplay:{default:0},fullSizeDisplay:{default:800},mobileDisplay:{default:0},showBack:{default:!0},showNav:{default:!0},showSearch:{default:!0},settingTitle:{default:"Settings"},showSetting:{default:!0},searchPlaceholder:{default:"Search"},foreground:{default:""},background:{default:""}},emits:["update:modelValue","expand-change","setting-click","item-click","back","expand-click","update:expand"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-search-box"),_y=resolveComponent("fv-animated-icon"),Ty=resolveComponent("fv-list-view"),Ay=resolveComponent("fv-NavigationPanel");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-NavigationView",[Sa.$theme,{compact:!Sa.thisExpand}]])},[createVNode$1(Ay,{title:ha.title,expand:Sa.thisExpand,"onUpdate:expand":ba[3]||(ba[3]=Ey=>Sa.thisExpand=Ey),expandMode:ha.expandMode,expandWidth:ha.expandWidth,expandDisplay:ha.expandDisplay,compactWidth:ha.compactWidth,flyoutDisplay:ha.flyoutDisplay,fullSizeDisplay:ha.fullSizeDisplay,mobileDisplay:ha.mobileDisplay,showBack:ha.showBack,showNav:ha.showNav,showSearch:ha.showSearch,settingTitle:ha.settingTitle,showSetting:!1,background:ha.background,theme:Sa.theme,ref:"panel",onBack:ba[4]||(ba[4]=Ey=>Sa.$emit("back",Ey)),onExpandClick:ba[5]||(ba[5]=Ey=>Sa.$emit("expand-click",Ey)),onExpandChange:Sa.expandChange,onSettingClick:Sa.settingClick},{searchBlock:withCtx(()=>[createVNode$1(ka,{options:ha.options,icon:"Search",placeholder:ha.searchPlaceholder,theme:Sa.theme,class:"nav-search",revealBorder:!0,borderRadius:"3",isBoxShadow:!0,style:{width:"95%"},onChooseResult:Sa.onChooseSearch},null,8,["options","placeholder","theme","onChooseResult"])]),panel:withCtx(()=>[createVNode$1(Ty,{modelValue:ha.options,class:"navigation-list",ref:"listView",theme:Sa.theme,headerForeground:ha.foreground,choosenBackground:"transparent",sliderTarget:Sa.currentTarget,"onUpdate:sliderTarget":ba[1]||(ba[1]=Ey=>Sa.currentTarget=Ey),showSlider:!0,onChooseItem:Sa.itemClick,onItemClick:ba[2]||(ba[2]=Ey=>Sa.$emit("item-click",Ey.item))},{listItem:withCtx(Ey=>[renderSlot(Sa.$slots,"listItem",{item:Ey.item,index:Ey.index,valueTrigger:Ey.valueTrigger},()=>[withDirectives(createBaseVNode("i",{class:normalizeClass(["ms-Icon icon",[`ms-Icon--${Ey.valueTrigger(Ey.item.icon)}`]])},null,2),[[vShow,Ey.valueTrigger(Ey.item.icon)!==void 0]]),createBaseVNode("p",{class:"name",style:normalizeStyle$1({color:Ey.valueTrigger(Ey.item.type)=="header"?ha.foreground:""})},toDisplayString(Ey.valueTrigger(Ey.item.name)),5)])]),footer:withCtx(()=>[withDirectives(createVNode$1(_y,{ref:"setting",modelValue:"bounceRotate",class:"fv-nav-default-item",hideContent:!Sa.thisExpand,style:{width:"calc(100% - 10px)"},onClick:ba[0]||(ba[0]=Ey=>Sa.settingClick({event:Ey}))},{content:withCtx(()=>[createBaseVNode("p",Fm,toDisplayString(ha.settingTitle),1)]),default:withCtx(()=>[Pm]),_:1},8,["hideContent"]),[[vShow,ha.showSetting]])]),_:3},8,["modelValue","theme","headerForeground","sliderTarget","onChooseItem"])]),_:3},8,["title","expand","expandMode","expandWidth","expandDisplay","compactWidth","flyoutDisplay","fullSizeDisplay","mobileDisplay","showBack","showNav","showSearch","settingTitle","background","theme","onExpandChange","onSettingClick"])],2)}}}),Bm=J(Rm),_m={class:"fv-pagination-container"},Om=createBaseVNode("i",{class:"ms-Icon ms-Icon--ChevronLeft"},null,-1),zm=createBaseVNode("i",{class:"ms-Icon ms-Icon--ChevronRight"},null,-1),Am={name:"FvPagination",data(){return{thisValue:this.modelValue,itemList:[]}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha),this.pageItem()},total(ha){ha<=0?this.itemList=[]:this.pageItem()}},computed:{isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},$theme(){return Y(this.$props).theme.value}},mounted(){this.total<=0?this.itemList=[]:this.pageItem()},methods:{pageItem(){let ha=[],ua=(this.thisValue-2)*2+3<=this.maxVisual,Sa=(this.total-this.thisValue-1)*2+3<=this.maxVisual;this.total<=this.maxVisual&&(ua=Sa=!0);let ba=this.thisValue==1||this.thisValue==this.total?this.maxVisual-2:this.maxVisual-3;for(let _y=0;_y<this.total;_y++)ha.push({num:_y+1,index:_y,show:!1});ha[0].show=!0,ha[ha.length-1].show=!0;let ka=ha.find(_y=>_y.num===this.thisValue).index;ha[ka].show=!0;for(let _y=1;ka+_y<ha.length||ka-_y>0;_y++)ka-_y>0&&ba>0&&(ha[ka-_y].show=!0,ba--),ka+_y<ha.length-1&&ba>0&&(ha[ka+_y].show=!0,ba--);ua||ha.splice(1,0,{num:-1,index:-1,show:!0}),Sa||ha.splice(this.total-1,0,{num:-2,index:-2,show:!0}),this.itemList=ha},next(){this.thisValue++,this.$emit("next-click",this.thisValue)},prev(){this.thisValue--,this.$emit("prev-click",this.thisValue)},handleClick(ha){ha.index>=0?this.thisValue=ha.num:ha.index==-1?this.thisValue=this.thisValue-this.maxVisual+2>=1?this.thisValue-this.maxVisual+2:1:ha.index==-2&&(this.thisValue=this.thisValue+this.maxVisual-2<=this.total?this.thisValue+this.maxVisual-2:this.total),this.$emit("page-click",this.thisValue)}}},Wm=Object.assign(Am,{props:{...K,emits:["update:modelValue","next-click","prev-click","page-click"],modelValue:{default:1},foreground:{default:"rgba(0, 90, 158, 1)"},background:{default:"transparent"},total:{default:10},maxVisual:{default:7},small:{default:!1},shadow:{default:!1},disabled:{default:!1}},emits:["update:modelValue","next-click","prev-click","page-click"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-button");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Pagination",[Sa.$theme]])},[createBaseVNode("div",_m,[createVNode$1(ka,{disabled:Sa.thisValue==1||Sa.isDisabled,class:normalizeClass([{small:ha.small},"page-btn"]),theme:Sa.theme,background:ha.background,"is-box-shadow":ha.shadow,borderRadius:"3",onClick:Sa.prev},{default:withCtx(()=>[Om]),_:1},8,["disabled","class","theme","background","is-box-shadow","onClick"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.itemList,(_y,Ty)=>(openBlock(),createElementBlock(Fragment,null,[_y.show?(openBlock(),createBlock(ka,{key:Ty,class:normalizeClass([{small:ha.small},"page-btn"]),theme:Sa.theme,disabled:Sa.isDisabled,background:ha.background,foreground:Sa.thisValue==_y.num?ha.foreground:"","is-box-shadow":ha.shadow,borderRadius:"3",fontWeight:"bold",onClick:Ay=>Sa.handleClick(_y)},{default:withCtx(()=>[createBaseVNode("p",{class:normalizeClass([{"ms-Icon ms-Icon--More":_y.num<0}])},toDisplayString(_y.num>=0?_y.num:""),3)]),_:2},1032,["class","theme","disabled","background","foreground","is-box-shadow","onClick"])):createCommentVNode("",!0)],64))),256)),createVNode$1(ka,{disabled:Sa.thisValue==ha.total||Sa.isDisabled,class:normalizeClass([{small:ha.small,shadow:ha.shadow},"page-btn"]),theme:Sa.theme,background:ha.background,borderRadius:"3",onClick:Sa.next},{default:withCtx(()=>[zm]),_:1},8,["disabled","class","theme","background","onClick"])])],2)}}}),Nm=J(Wm),Hm={name:"FvPanel",data(){return{thisValue:this.modelValue,screenWidth:window.innerWidth,timer:{widthTimer:{}}}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)}},computed:{finalWidth(){return isNaN(this.width)?this.width:this.width>this.screenWidth?`${this.screenWidth}px`:`${this.width}px`},finalHeight(){return isNaN(this.height)?this.height:this.height>this.screenHeight?`${this.screenHeight}px`:`${this.height}px`},sideName(){return this.isCentralSide?"central":this.isNearSide?"near":this.isTopSide?"top":this.isBottomSide?"bottom":"default"},transitionInName(){return this.sideName==="central"?this.thisValue?"fv-panel-scale-up-to-up":"fv-panel-scale-down-to-down":this.sideName==="near"?this.thisValue?"move-left-to-right":"move-right-to-left":this.sideName==="top"?this.thisValue?"move-top-to-bottom":"move-bottom-to-top":this.sideName==="bottom"?this.thisValue?"move-bottom-to-top":"move-top-to-bottom":this.thisValue?"move-right-to-left":"move-left-to-right"},$theme(){return Y(this.$props).theme.value}},mounted(){this.screenWidthInit(),this.teleport&&this.globalAppendInit()},methods:{globalAppendInit(){this.$nextTick(()=>{const ha=document.querySelector("body");ha.append?ha.append(this.$el):ha.appendChild(this.$el)})},screenWidthInit(){this.timer.widthTimer=setInterval(()=>{this.screenWidth=window.innerWidth},30)}},beforeUnmount(){clearInterval(this.timer.widthTimer);try{document.querySelector("body").removeChild(this.$el)}catch{}}},Gm=Object.assign(Hm,{props:{...K,modelValue:{default:!0},title:{default:"Sample Panel"},titleSize:{default:20},titleWeight:{default:600},titleColor:{default:""},width:{default:"340"},height:{default:"100%"},background:{default:""},controlPadding:{default:"15px"},contentPadding:{default:"0px"},isNearSide:{default:!1},isBottomSide:{default:!1},isTopSide:{default:!1},isCentralSide:{default:!1},isLightDismiss:{default:!1},showTitleBar:{default:!0},isFooter:{default:!1},isAcrylic:{default:!1},teleport:{default:!1}},emits:["update:modelValue"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-button");return openBlock(),createBlock(Transition,{name:"fv-panel-show"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass(["fv-Panel",[Sa.$theme]])},[createBaseVNode("div",{class:"fv-panel-back-board",onClick:ba[0]||(ba[0]=_y=>ha.isLightDismiss?Sa.thisValue=!1:0)}),createVNode$1(Transition,{name:Sa.transitionInName},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass(["fv-panel-container",[`${Sa.sideName}-side`,{"acrylic-style":ha.isAcrylic}]]),style:normalizeStyle$1({width:Sa.finalWidth,height:Sa.finalHeight,background:ha.background})},[withDirectives(createBaseVNode("div",{class:"fv-panel-control-block",style:normalizeStyle$1({padding:ha.controlPadding})},[renderSlot(Sa.$slots,"header",{},()=>[createBaseVNode("p",{class:"panel-title",style:normalizeStyle$1({"font-size":`${ha.titleSize}px`,"font-weight":ha.titleWeight,color:ha.titleColor})},toDisplayString(ha.title),5),createBaseVNode("i",{class:"control-btn ms-Icon ms-Icon--Cancel",onClick:ba[1]||(ba[1]=_y=>Sa.thisValue=!Sa.thisValue)})])],4),[[vShow,ha.showTitleBar]]),createBaseVNode("div",{class:"fv-panel-main-container",style:normalizeStyle$1({padding:ha.contentPadding})},[renderSlot(Sa.$slots,"container",{},()=>[createTextVNode(" Content Here ")])],4),withDirectives(createBaseVNode("div",{class:"fv-panel-footer",style:normalizeStyle$1({padding:ha.controlPadding})},[renderSlot(Sa.$slots,"footer",{},()=>[createVNode$1(ka,{theme:"dark",background:"rgba(0, 90, 158, 1)"},{default:withCtx(()=>[createTextVNode("OK")]),_:1}),createVNode$1(ka,null,{default:withCtx(()=>[createTextVNode("Cancel")]),_:1})])],4),[[vShow,ha.isFooter]])],6),[[vShow,Sa.thisValue]])]),_:3},8,["name"])],2),[[vShow,Sa.thisValue]])]),_:3})}}}),Um=J(Gm),Ym={class:"persona-content-block"},jm={name:"FvPersona",data(){return{statusList:{online:{icon:"FullCircleMask",color:"rgba(107, 183, 0, 1)"},offline:{icon:"LocationFill",color:"rgba(50, 49, 48, 1)"},away:{icon:"SkypeCircleClock",color:"rgba(255, 170, 68, 1)"},busy:{icon:"LocationFill",color:"rgba(196, 49, 72, 1)"},ok:{icon:"SkypeCircleCheck",color:"rgba(107, 183, 0, 1)"},dnd:{icon:"SkypeCircleMinus",color:"rgba(197, 15, 31, 1)"},blocked:{icon:"Blocked",color:"rgba(196, 49, 32, 1)"}},colorList:["#d29200","#ffb900","#ffb900","#d83b01","#ea4300","#ff8c00","#a4262c","#d13438","#5c005c","#b4009e","#e3008c","#32145a","#5c2d91","#b4a0ff","#002050","#00188f","#0078d4","#00bcf2","#004b50","#008272","#00B294","#004b1c","#107c10","#bad80a"]}},computed:{nameCard(){return this.name[0]},nameCardBackground(){let ha=0;return this.name!==""&&(ha=this.name[0].charCodeAt()%this.colorList.length),this.colorList[ha]},currentIcon(){return this.icon!==""?this.icon:this.status===""?"":this.statusList[this.status].icon},currentIconColor(){return this.iconColor!=""?this.iconColor:this.status===""?this.statusList.online.color:this.statusList[this.status].color},iconFontSize(){return this.size/4.8+6},titleFontSize(){return this.size/16+12.5},secondaryFontSize(){return this.size/48+11.5},showStatus(){return this.status!==""||this.icon!==""},$theme(){return Y(this.$props).theme.value}}},qm=Object.assign(jm,{props:{...K,src:{default:""},name:{default:""},size:{default:40},status:{default:""},icon:{default:""},iconColor:{default:""},background:{default:""},showInfo:{default:!1}},setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-img");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Persona",[Sa.$theme]])},[createBaseVNode("div",{class:"persona-avatar",style:normalizeStyle$1({width:`${ha.size}px`,height:`${ha.size}px`})},[createBaseVNode("div",{class:"persona-bg",style:normalizeStyle$1({background:ha.background?ha.background:Sa.nameCardBackground,"font-size":`${ha.size/2.3}px`})},toDisplayString(Sa.nameCard),5),ha.src!==""?(openBlock(),createBlock(ka,{key:0,src:ha.src,style:{width:"100%",height:"100%","border-radius":"50%"}},null,8,["src"])):createCommentVNode("",!0),withDirectives(createBaseVNode("i",{class:normalizeClass(["ms-Icon status-icon",[`ms-Icon--${Sa.currentIcon}`]]),style:normalizeStyle$1({"font-size":`${Sa.iconFontSize}px`,color:Sa.currentIconColor})},null,6),[[vShow,Sa.showStatus]])],4),withDirectives(createBaseVNode("div",Ym,[createBaseVNode("span",{class:"persona-title",style:normalizeStyle$1({"font-size":`${Sa.titleFontSize}px`})},[renderSlot(Sa.$slots,"name",{},()=>[createBaseVNode("p",null,toDisplayString(ha.name),1)])],4),createBaseVNode("span",{class:"persona-secondary",style:normalizeStyle$1({"font-size":`${Sa.secondaryFontSize}px`})},[renderSlot(Sa.$slots,"secondary")],4)],512),[[vShow,ha.showInfo]])],2)}}}),Xm=J(qm),Km={emits:["update:modelValue"],props:{els:{default:()=>null},sliderBoxshadow:{default:!1},background:{default:""},theme:{type:String,default:"global"}},data(){return{domLeft:0,domWidth:60,styles:{slider:{background:""}}}},watch:{left(ha){this.moveInit()},width(ha){this.moveInit()}},computed:{left(){let{els:ha,index:ua}=this.els(),Sa=0;for(let ba=0;ba<ua;ba++){let ka=ha[ba];if(!ka.el||!ka.show)Sa+=0;else{let _y=ka.el.clientWidth;Sa+=_y}}return Sa},width(){let{els:ha,index:ua}=this.els(),Sa=ha[ua];return Sa.el?Sa.el.clientWidth:60},$theme(){return Y(this.$props).theme.value}},mounted(){this.moveInit()},methods:{moveInit(){let ha=this.left-this.domLeft;ha>0?this.widthExpandToRight(ha):this.widthExpandToLeft(ha)},widthExpandToRight(ha){let ua=Math.abs(ha)+this.width;Te.to(this.$data,{domWidth:ua,duration:.3,delay:.08,ease:"expo.inOut",onComplete:this.widthFormatToRight})},widthFormatToRight(){Te.to(this.$data,{domLeft:this.left,domWidth:this.width,duration:.2,ease:"power3.out"})},widthExpandToLeft(ha){let ua=Math.abs(ha)+this.width;Te.to(this.$data,{domLeft:this.left,domWidth:ua,duration:.3,delay:.08,ease:"expo.inOut",onComplete:this.widthFormatToLeft})},widthFormatToLeft(){Te.to(this.$data,{domWidth:this.width,duration:.2,ease:"power3.out"})}}},Jm={class:"slider"};function Qm(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",Jm,[createBaseVNode("span",{class:normalizeClass(["fv-pivot-s",[{"is-boxshadow":Sa.sliderBoxshadow}]]),style:normalizeStyle$1({"margin-left":`${ka.domLeft}px`,width:`${ka.domWidth}px`})},[createBaseVNode("p",{style:normalizeStyle$1({background:Sa.background})},null,4)],6)])}const yo=ae(Km,[["render",Qm]]),Zm={class:"pivot-container"},eg=["onClick"],tg={name:"FvPivot",components:{slider:yo},data(){return{thisItems:[],thisValue:null,styles:{slider:{background:""},container:{color:""}}}},watch:{modelValue(ha){this.findCurrentValue()},items(ha){this.itemsInit()},thisValue(ha){this.$emit("update:modelValue",ha),this.$emit("change",ha)},foreground(ha){this.stylesInit()},sliderBackground(ha){this.stylesInit()}},computed:{itemWidth(){return ha=>ha.width?isNaN(ha.width)?this.valueTrigger(ha.width):`${ha.width}px`:0},currentEls(){return()=>{let ha=-1;this.thisValue?this.thisValue.key?ha=this.thisItems.findIndex(Sa=>Sa.key===this.thisValue.key):ha=this.thisItems.findIndex(Sa=>this.valueTrigger(Sa.name)===this.valueTrigger(this.thisValue.name)):ha=0,ha<0&&(ha=0);let ua=[];for(let Sa=0;Sa<this.thisItems.length;Sa++)ua.push({el:this.$refs[`item_${Sa}`]?this.$refs[`item_${Sa}`][0]:null,show:this.valueTrigger(this.thisItems[Sa].show)});return{index:ha,els:ua}}},$theme(){return Y(this.$props).theme.value}},updated(){(!this.thisValue||!this.valueTrigger(this.thisValue.show))&&(this.thisValue=this.thisItems.find(ha=>this.valueTrigger(ha.show)&&!this.valueTrigger(ha.disabled)))},mounted(){this.stylesInit(),this.itemsInit()},methods:{itemsInit(){let ha={name:"Pivot",width:60,show:!0,disabled:!1},ua=[];for(let Sa of this.items){let ba=JSON.parse(JSON.stringify(ha));Object.assign(ba,Sa),ua.push(ba)}this.thisItems=ua,this.findCurrentValue()},findCurrentValue(){if(!this.modelValue){let ha=this.thisItems.find(ua=>this.valueTrigger(ua.show)&&!this.valueTrigger(ua.disabled));ha?this.thisValue=ha:(this.thisValue={},console.warn("No visible item in ItemList."));return}if(this.modelValue.key){let ha=this.thisItems.find(ua=>ua.key===this.modelValue.key);ha&&(this.thisValue=ha);return}else if(this.valueTrigger(this.modelValue.name)){let ha=this.thisItems.find(ua=>this.valueTrigger(ua.name)===this.valueTrigger(this.modelValue.name));ha&&(this.thisValue=ha)}},stylesInit(){this.styles.slider.background=this.sliderBackground,this.styles.container.color=this.foreground},itemClick(ha){if(ha.disabled)return 0;this.thisValue=ha},eqal(ha){return this.thisValue?this.thisValue.key?this.thisValue.key===ha.key:this.valueTrigger(this.thisValue.name)?this.valueTrigger(this.thisValue.name)===this.valueTrigger(ha.name):!1:!1},valueTrigger(ha){return typeof ha=="function"?ha():ha}}},ig=Object.assign(tg,{props:{...K,modelValue:{default:()=>null},items:{default:()=>[{name:"Pivot",width:80}]},tab:{default:!1},fontSize:{default:""},foreground:{default:""},sliderBackground:{default:""},sliderBoxshadow:{default:!1},background:{default:""}},emits:["update:modelValue","change"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Pivot",[Sa.$theme,ha.tab?"tab":""]]),style:normalizeStyle$1({background:ha.background})},[createBaseVNode("div",Zm,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.thisItems,(ka,_y)=>withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(["pivot-item",{choose:Sa.eqal(ka),disabled:Sa.valueTrigger(ka.disabled)}]),key:_y,ref_for:!0,ref:`item_${_y}`,style:normalizeStyle$1({width:Sa.itemWidth(ka)}),onClick:Ty=>Sa.itemClick(ka)},[renderSlot(Sa.$slots,"container",{item:ka,index:_y},()=>[createBaseVNode("p",{style:normalizeStyle$1({fontSize:`${ha.fontSize}px`,color:Sa.styles.container.color})},toDisplayString(Sa.valueTrigger(ka.name)),5)])],14,eg)),[[vShow,Sa.valueTrigger(ka.show)]])),128))]),Sa.thisItems.length>0?(openBlock(),createBlock(yo,{key:0,els:Sa.currentEls,sliderBoxshadow:ha.sliderBoxshadow,background:Sa.styles.slider.background},null,8,["els","sliderBoxshadow","background"])):createCommentVNode("",!0)],6))}}),sg=J(ig),ng={name:"FvProgressBar",data(){return{percent:this.modelValue}},watch:{modelValue(ha){this.percent=ha},percent(ha){this.$emit("update:modelValue",ha),this.$emit("progress-change",ha),ha>=100&&this.$emit("progress-finished",ha)}},computed:{$theme(){return Y(this.$props).theme.value},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""}}},rg=Object.assign(ng,{props:{...K,modelValue:{default:0},foreground:{default:""},background:{default:""},loading:{default:!1},disabled:{default:!1}},emits:["update:modelValue","progress-change","progress-finished"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-ProgressBar",[Sa.$theme,ha.loading.toString()!="true"?"normal":"",Sa.isDisabled?"disabled":""]]),style:normalizeStyle$1({background:ha.background})},[(openBlock(),createElementBlock(Fragment,null,renderList(5,ka=>withDirectives(createBaseVNode("p",{class:"unit",style:normalizeStyle$1({background:ha.foreground}),key:ka},null,4),[[vShow,ha.loading.toString()=="true"]])),64)),withDirectives(createBaseVNode("i",{style:normalizeStyle$1({width:(Sa.percent<=100?Sa.percent:100)+"%",background:ha.foreground})},null,4),[[vShow,ha.loading.toString()!="true"]])],6))}}),og=J(rg),ag={props:{size:{default:"xs"},color:{default:""}},data(){return{styles:{p:{background:""}}}},watch:{color(ha){this.stylesInit()}},computed:{$theme(){return useTheme(this.$props).theme.value}},mounted(){this.stylesInit()},methods:{stylesInit(){this.styles.p.background=this.color}}};function lg(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-progressRing-legacy",Sa.size])},[(openBlock(),createElementBlock(Fragment,null,renderList(5,Ty=>createBaseVNode("p",{style:normalizeStyle$1(ka.styles.p),key:Ty},null,4)),64))],2)}const ko=ae(ag,[["render",lg]]),dg=["width","height"],ug=["r","cy","cx","stroke-width","stroke"],hg=["r","cy","cx","stroke-width","stroke","stroke-dashoffset","stroke-dasharray"],cg={name:"FvProgressRing",components:{legacyRing:ko},data(){return{thisValue:this.modelValue,valueCache:this.modelValue,Loading:{ratio:5,rotate:-90}}},watch:{modelValue(ha){this.thisValue=ha},async thisValue(ha){this.$emit("update:modelValue",ha),await this.syncValue()}},computed:{l(){return(2*Math.PI*(this.r-this.borderWidth)).toFixed(2)},$theme(){return Y(this.$props).theme.value}},mounted(){this.loadingInit()},methods:{loadingInit(){Te.to(this.$data.Loading,{ratio:70,duration:.8,repeat:-1,yoyo:!0,ease:"linear"}),Te.to(this.$data.Loading,{rotate:270,duration:.8,repeat:-1,ease:"linear"})},async syncValue(){await new Promise(ha=>{Te.to(this.$data,{valueCache:this.thisValue,duration:.8,ease:"power3.out",onComplete:()=>{ha(0)}})})}}},fg=Object.assign(cg,{props:{...K,modelValue:{default:0},size:{default:"xs"},r:{default:40},loading:{default:!1},color:{default:"rgba(0, 90, 158, 1)"},background:{default:"rgba(204, 204, 204, 1)"},borderWidth:{default:8},legacy:{default:!1}},emits:["update:modelValue"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-ProgressRing",[Sa.$theme]]),style:normalizeStyle$1({width:`${ha.r*2}px`,height:`${ha.r*2}px`})},[withDirectives((openBlock(),createElementBlock("svg",{width:`${ha.r*2}px`,height:`${ha.r*2}px`,class:"svg"},[createBaseVNode("circle",{r:ha.r-ha.borderWidth,cy:ha.r,cx:ha.r,"stroke-width":ha.borderWidth,stroke:ha.background,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none"},null,8,ug),createBaseVNode("circle",{class:"progress-rotate",r:ha.r-ha.borderWidth,cy:ha.r,cx:ha.r,"stroke-width":ha.borderWidth,stroke:ha.color,"stroke-linejoin":"round","stroke-linecap":"round",fill:"none","stroke-dashoffset":`${ha.loading?Sa.l-Sa.Loading.ratio/100*Sa.l:Sa.l-Sa.valueCache/100*Sa.l}px`,"stroke-dasharray":`${Sa.l}px`,style:normalizeStyle$1({transform:`rotate(${ha.loading?Sa.Loading.rotate:-90}deg)`})},null,12,hg)],8,dg)),[[vShow,!ha.legacy]]),withDirectives(createVNode$1(ko,{size:ha.size,color:ha.color},null,8,["size","color"]),[[vShow,ha.legacy]])],6))}}),mg=J(fg),gg=["src"],pg={name:"FvRadio",computed:{$theme(){return Y(this.$props).theme.value},isActived(){return this.model==this.label},isGroup(){let ha=this.$parent;for(;ha;)if(ha.$options.name!="FvRadioGroup")ha=ha.$parent;else return this.setGroup(ha),!0;return!1},isDisabled(){return this.isGroup?this._group.disabled||this.disabled:this.disabled},model:{get(){return this.isGroup?this._group.value:this.modelValue},set(ha){this.isGroup?this._group.$emit("update:modelValue",ha):this.$emit("update:modelValue",ha)}}},mounted(){},methods:{click(){this.isDisabled||(this.isGroup?(this._group.$emit("update:modelValue",this.label),this._group.change(this.label)):this.$emit("update:modelValue",this.label),this.isActived&&this.$emit("actived"),this.$emit("click"))},setGroup(ha){this._group=ha}}},vg=Object.assign(pg,{props:{...K,modelValue:{type:[String,Number,Boolean],default:""},label:{type:[String,Number],required:!0},color:{type:String,default:""},foreground:{type:String,default:"rgba(0, 90, 158, 0.8)"},icon:{type:String,default:null},iconBlockBorderRadius:{type:Number,default:6},iconBlockBorderWidth:{type:Number,default:2},image:{type:String,default:null},activeImage:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","click","actived"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Radio",[Sa.$theme,{"with-icon":ha.icon||ha.image},{actived:Sa.isActived},{disabled:Sa.isDisabled}]]),onClick:ba[0]||(ba[0]=(...ka)=>Sa.click&&Sa.click(...ka)),style:normalizeStyle$1({"border-color":Sa.isActived?ha.foreground:"","border-radius":`${ha.iconBlockBorderRadius}px`,"border-width":`${ha.iconBlockBorderWidth}px`})},[createBaseVNode("input",{type:"radio",ref:"button",class:normalizeClass(["fv-radio-button",[{actived:Sa.isActived},{disabled:Sa.isDisabled}]]),style:normalizeStyle$1({background:Sa.isActived?ha.foreground:""})},null,6),createBaseVNode("label",{class:"fv-radio-label",style:normalizeStyle$1({color:ha.color})},[ha.image?(openBlock(),createElementBlock("img",{key:0,src:Sa.isActived&&ha.activeImage?ha.activeImage:ha.image},null,8,gg)):ha.icon?(openBlock(),createElementBlock("i",{key:1,class:normalizeClass(["with-icon ms-Icon","ms-Icon--"+ha.icon])},null,2)):createCommentVNode("",!0),createBaseVNode("span",null,[renderSlot(Sa.$slots,"default")])],4)],6))}}),bg=J(vg),wg={...K},yg={name:"FvRadioGroup",emits:["change"],props:{...wg,modelValue:{required:!0},disabled:{type:Boolean,default:!1},label:{type:String,default:""},inline:{type:Boolean,default:!1}},data(){return{}},computed:{$theme(){return Y(this.$props).theme.value}},methods:{change(ha){this.$emit("change",ha)}}},kg={key:0};function Cg(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-RadioGroup",[_y.$theme,{inline:Sa.inline}]])},[Sa.label?(openBlock(),createElementBlock("label",kg,toDisplayString(Sa.label),1)):createCommentVNode("",!0),renderSlot(ha.$slots,"default")],2)}const $g=ae(yg,[["render",Cg]]),Sg=J($g),Vg={class:"fv-rating-container"},Tg=["onMousemove","onTouchmove","onMouseleave","onTouchend","onClick"],xg={name:"FvRatingControl",data(){return{thisValue:this.modelValue,hover:[]}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha),this.$emit("change",ha)},maxRate(ha){this.hover=new Array(ha).fill({status:!1,ratio:100})}},mounted(){this.thisValue=this.modelValue,this.hover=new Array(this.maxRate).fill({status:!1,ratio:100})},computed:{itemShow(){return ha=>this.hoverIndex<0?ha-this.thisValue<0:ha<=this.hoverIndex},itemRatio(){return ha=>this.hoverIndex<0?ha+1<=parseInt(this.thisValue)?100:(this.thisValue-parseInt(this.thisValue))*100:this.hoverIndex===ha?this.hover[ha].ratio:100},hoverIndex(){return this.hover.findIndex(ha=>ha.status)},isReadOnly(){return this.readonly.toString()=="true"||this.readonly=="readonly"||this.readonly===""},$theme(){return Y(this.$props).theme.value}},methods:{handlerHover(ha,ua){if(this.isReadOnly)return;let Sa=ha.target.offsetWidth,{left:ba}=ha.target.getBoundingClientRect(),{clientX:ka}=ha.targetTouches?ha.targetTouches[0]:ha,_y=(ka-ba)/Sa*100>50||!this.halfRate?100:50;this.$emit("hover",{index:ua,ratio:_y}),this.hover[ua]={status:!0,ratio:_y}},handlerLeave(ha){this.isReadOnly||(this.hover[ha]={status:!1,ratio:100},this.$emit("leave",ha))},handlerClick(ha,ua){if(this.isReadOnly)return;if(!this.halfRate){if(this.isClear&&this.thisValue==ua+1){this.thisValue=0,this.clearHover();return}this.thisValue=ua+1;return}let Sa=ha.target.offsetWidth,{left:ba}=ha.target.getBoundingClientRect(),{clientX:ka}=ha.targetTouches?ha.targetTouches[0]:ha,_y=(ka-ba)/Sa*100;if(this.isClear&&this.thisValue==ua+1-(_y>50?0:.5)){this.thisValue=0,this.clearHover();return}this.thisValue=ua+1-(_y>50?0:.5)},clearHover(){for(let ha=0;ha<this.maxRate;ha++)this.hover[ha]={status:!1,ratio:100}}}},Ig=Object.assign(xg,{props:{...K,modelValue:{default:0},maxRate:{default:5},halfRate:{default:!1},defaultIcon:{type:String,default:"FavoriteStar"},selectedIcon:{type:String,default:"FavoriteStarFill"},borderColor:{type:String,default:""},selectedColor:{type:String,default:""},isClear:{default:!1},readonly:{default:!1}},emits:["update:modelValue","change"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-RatingControl",[Sa.$theme]])},[createBaseVNode("div",Vg,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ha.maxRate,(ka,_y)=>(openBlock(),createElementBlock("div",{key:_y,class:"fv-rating-unit",onMousemove:Ty=>Sa.handlerHover(Ty,_y),onTouchmove:Ty=>Sa.handlerHover(Ty,_y),onMouseleave:Ty=>Sa.handlerLeave(_y),onTouchend:Ty=>Sa.handlerLeave(_y),onClick:Ty=>Sa.handlerClick(Ty,_y)},[createBaseVNode("i",{class:normalizeClass(["ms-Icon background",[`ms-Icon--${ha.defaultIcon}`]]),style:normalizeStyle$1({color:ha.borderColor})},null,6),withDirectives(createBaseVNode("div",{class:"fv-rating-mask",style:normalizeStyle$1({width:`${Sa.itemRatio(_y)}%`})},[createBaseVNode("i",{class:normalizeClass(["ms-Icon foreground",[`ms-Icon--${ha.selectedIcon}`]]),style:normalizeStyle$1({color:ha.selectedColor})},null,6)],4),[[vShow,Sa.itemShow(_y)]])],40,Tg))),128))])],2))}}),Eg=J(Ig),Dg={name:"FvResizeWatcher",data(){return{thisTarget:null,resizeObserver:null,posObserver:null,timer:null}},watch:{target(){this.thisTarget=this.valueTrigger(this.target)},thisTarget:{handler(){this.resizeWatcherInit(),this.posWatcherInit()},immediate:!0}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.init(),this.resizeWatcherInit(),this.posWatcherInit()},methods:{init(){this.timer=setInterval(()=>{if(this.thisTarget=this.valueTrigger(this.target),this.thisTarget){const{left:ha,top:ua,right:Sa,bottom:ba}=this.thisTarget.getBoundingClientRect(),ka=Sa-ha,_y=ba-ua;let Ty={type:"init",target:this.thisTarget,left:ha,top:ua,right:Sa,bottom:ba,width:ka,height:_y};this.$emit("watch",Ty),clearInterval(this.timer)}else this.resizeWatcherInit(),this.posWatcherInit()},100)},resizeWatcherInit(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.resizeObserver=new ResizeObserver(ha=>{for(let ua of ha){let Sa=ua.target;const{left:ba,top:ka,right:_y,bottom:Ty}=Sa.getBoundingClientRect(),Ay=_y-ba,Ey=Ty-ka;let My={type:"resize",target:Sa,entry:ua,width:Ay,height:Ey,left:ba,top:ka,right:_y,bottom:Ty};this.$emit("watch",My),this.$emit("watch-resize",My)}}),this.thisTarget&&this.resizeObserver.observe(this.thisTarget)},posWatcherInit(){this.posObserver&&(this.posObserver.disconnect(),this.posObserver=null),this.posObserver=new MutationObserver(ha=>{for(let ua of ha){const{left:Sa,top:ba,right:ka,bottom:_y}=ua.target.getBoundingClientRect(),Ty=ka-Sa,Ay=_y-ba;let Ey={type:"position",target:ua.target,entry:ua,left:Sa,top:ba,right:ka,bottom:_y,width:Ty,height:Ay};this.$emit("watch",Ey),this.$emit("watch-pos",Ey)}}),this.thisTarget&&this.posObserver.observe(this.thisTarget,{attributes:!0})},valueTrigger(ha){return typeof ha=="function"?ha():ha}},beforeUnmount(){clearInterval(this.timer)}},Lg=Object.assign(Dg,{props:{...K,target:{default:null}},emits:["watch","watch-resize","watch-pos"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-ResizeWatcher",[Sa.$theme]])},null,2))}}),Pg=J(Lg),Fg={width:"100%",height:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Mg=["r","id","gradientTransform"],Rg=["stop-color"],Bg={key:1,offset:"1","stop-color":"rgba(255, 255, 255, 0)"},_g=["offset","stop-color"],Og=["r","id","gradientTransform"],zg=["stop-color"],Ag={key:1,offset:"1","stop-color":"rgba(255, 255, 255, 0)"},Wg=["offset","stop-color"],Ng=["r","id","gradientTransform"],Hg=createBaseVNode("stop",{offset:"0","stop-color":"rgba(255, 255, 255, 0)"},null,-1),Gg=["stop-color"],Ug=createBaseVNode("stop",{offset:"0.66","stop-color":"rgba(255, 255, 255, 0)"},null,-1),Yg=createBaseVNode("stop",{offset:"1","stop-color":"rgba(255, 255, 255, 0)"},null,-1),jg=["x","y","rx","ry"],qg=["x","y","rx","ry"],Xg={name:"FvRevealContainer",beforeMount(){this.revealCache=ni()},data(){return{id:this.GuidWithoutDash(),offset:{left:0,top:0,right:0,bottom:0},disEl:{x:0,y:0},inside:!1,wave:0,clickDown:!1,revealCache:null,timer:{wave:null}}},watch:{inside(ha){ha||this.leaveEvent(null)}},computed:{$theme(){return Y(this.$props).theme.value},borderMatrix(){const{left:ha,top:ua,right:Sa,bottom:ba}=this.offset;let ka=Sa-ha,_y=ba-ua;return`matrix(${[1,0,0,1,(this.disEl.x-ka/2).toFixed(3),(this.disEl.y-_y/2).toFixed(3)].join(" ")})`},computedBorderRadius(){let ha=this.offset.right-this.offset.left,ua=this.offset.bottom-this.offset.top,Sa=ha>ua?ua:ha;return Sa==0?this.borderRadius:this.borderRadius>Sa/2?Sa/2:this.borderRadius},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""}},mounted(){this.disEl.y=window.innerHeight,this.disEl.x=window.innerWidth,this.mouseMoveInit(),this.mouseClickInit()},methods:{mouseMoveInit(){if(this.revealContainer===!1){if(this.revealCache.setRevealHandler({id:this.id,moveHandler:this.moveEvent,leaveHandler:this.leaveEvent}),window.$FvRevealContainer)return;window.$FvRevealContainer=!0,window.removeEventListener("mousemove",this.globalMoveEventListener),window.addEventListener("mousemove",this.globalMoveEventListener),window.removeEventListener("touchmove",this.globalMoveEventListener),window.addEventListener("touchmove",this.globalMoveEventListener),window.removeEventListener("mouseleave",this.globalLeaveEventListener),window.addEventListener("mouseleave",this.globalLeaveEventListener)}else{if(this.revealContainer.revealHandlerList.push({id:this.id,moveHandler:this.moveEvent,downHandler:this.downEvent,upHandler:this.upEvent,leaveHandler:this.leaveEvent}),this.revealContainer.init)return;this.revealContainer.init=!0,this.revealContainer.el().removeEventListener("mousemove",this.globalMoveEventListener),this.revealContainer.el().addEventListener("mousemove",this.globalMoveEventListener),this.revealContainer.el().removeEventListener("touchmove",this.globalMoveEventListener),this.revealContainer.el().addEventListener("touchmove",this.globalMoveEventListener),this.revealContainer.el().removeEventListener("mouseleave",this.globalLeaveEventListener),this.revealContainer.el().addEventListener("mouseleave",this.globalLeaveEventListener)}},mouseClickInit(){this.parent?(this.parent().removeEventListener("mousedown",this.downEvent),this.parent().addEventListener("mousedown",this.downEvent),this.parent().removeEventListener("touchstart",this.downEvent),this.parent().addEventListener("touchstart",this.downEvent),this.parent().removeEventListener("mouseup",this.upEvent),this.parent().addEventListener("mouseup",this.upEvent),this.parent().removeEventListener("touchend",this.leaveEvent),this.parent().addEventListener("touchend",this.leaveEvent)):(this.$el.removeEventListener("mousedown",this.downEvent),this.$el.addEventListener("mousedown",this.downEvent),this.$el.removeEventListener("touchstart",this.downEvent),this.$el.addEventListener("touchstart",this.downEvent),this.$el.removeEventListener("mouseup",this.upEvent),this.$el.addEventListener("mouseup",this.upEvent),this.$el.removeEventListener("touchend",this.leaveEvent),this.$el.addEventListener("touchend",this.leaveEvent))},globalMoveEventListener(ha){if(this.revealContainer===!1)for(let ua of this.revealCache.revealHandlerList)ua.moveHandler&&ua.moveHandler(ha);else for(let ua of this.revealContainer.revealHandlerList)ua.moveHandler&&ua.moveHandler(ha)},globalLeaveEventListener(ha){if(this.revealContainer===!1)for(let ua of this.revealCache.revealHandlerList)ua.leaveHandler&&ua.leaveHandler(ha);else for(let ua of this.revealContainer.revealHandlerList)ua.leaveHandler&&ua.leaveHandler(ha)},moveEvent(ha){if(this.isDisabled||!this.inVisual())return;ha.type.indexOf("mouse")<0&&(ha=ha.targetTouches[0]);const{left:ua,top:Sa}=this.getOffset(this.$el);let ba=ha.pageX-ua-window.scrollX,ka=ha.pageY-Sa-window.scrollY,_y=this.distanceOfElement(this.$el,ha.clientX,ha.clientY);_y.left>this.debounceDistance||_y.top>this.debounceDistance||_y.right>this.debounceDistance||_y.bottom>this.debounceDistance||(this.disEl.x=ba,this.disEl.y=ka,this.inside=this.moveInsideElement(this.$el,ha.clientX,ha.clientY))},downEvent(ha){if(this.isDisabled||!this.clickInsideElement(ha))return;ha.type.indexOf("mouse")<0&&(ha=ha.targetTouches[0]);const{left:ua,top:Sa}=this.getOffset(this.$el);let ba=ha.pageX-ua-window.scrollX,ka=ha.pageY-Sa-window.scrollY;this.disEl.x=ba,this.disEl.y=ka,this.wave=120,this.inside=!0,this.clickDown=!0,clearInterval(this.timer.wave),this.timer.wave=setInterval(()=>{try{let _y=this.wave,Ty=_y/60+1;_y+=Ty,_y>=1e3?clearInterval(this.timer.wave):this.wave=_y}catch{}},50)},upEvent(ha){this.wave=0,this.clickDown=!1,clearInterval(this.timer.wave)},leaveEvent(ha){this.wave=0,this.disEl.x=window.innerWidth,this.disEl.y=window.innerHeight,this.inside=!1,clearInterval(this.timer.wave)},getOffset(ha){const{left:ua,top:Sa,right:ba,bottom:ka}=ha.getBoundingClientRect();return this.offset.left=ua,this.offset.top=Sa,this.offset.right=ba,this.offset.bottom=ka,{left:ua,top:Sa,right:ba,bottom:ka}},moveInsideElement(ha,ua,Sa){const{left:ba,top:ka,right:_y,bottom:Ty}=ha.getBoundingClientRect();return ua>=ba&&ua<=_y&&Sa>=ka&&Sa<=Ty},distanceOfElement(ha,ua,Sa){const{left:ba,top:ka,right:_y,bottom:Ty}=ha.getBoundingClientRect();return{left:ba-ua,right:ua-_y,top:ka-Sa,bottom:Sa-Ty}},clickInsideElement(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}if(this.parent&&ua==this.parent()){Sa=!0;break}ua=ua.parentNode}return Sa},inVisual(){const{left:ha,top:ua,right:Sa,bottom:ba}=this.$el.getBoundingClientRect(),ka=Sa-ha,_y=ba-ua,Ty=window.innerWidth,Ay=window.innerHeight;let Ey=!1,My=!1;return ba>=0&&ba<=Ay+_y&&(My=!0),Sa>=0&&Sa<=Ty+ka&&(Ey=!0),Ey&&My},GuidWithoutDash(){function ha(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ha()+ha()+ha()+ha()+ha()+ha()+ha()+ha()},valueTrigger(ha){return typeof ha=="function"?ha():ha}},beforeUnmount(){if(this.revealContainer===!1)this.revealCache.removeRevealHandler(this.id);else{let ha=this.revealContainer.revealHandlerList.findIndex(ua=>ua.id==this.id);ha>-1&&this.revealContainer.revealHandlerList.splice(ha,1)}this.parent&&this.parent()&&(this.parent().removeEventListener("mousedown",this.downEvent),this.parent().removeEventListener("touchstart",this.downEvent),this.parent().removeEventListener("mouseup",this.upEvent))}},Kg=Object.assign(Xg,{props:{...K,revealContainer:{default:!1},parent:{default:null},borderWidth:{default:1},borderRadius:{default:6},backgroundColor:{default:"rgba(121, 119, 117, 0.6)"},backgroundGradientList:{default:()=>[]},backgroundGradientSize:{default:120},borderColor:{default:"rgba(121, 119, 117, 0.6)"},borderGradientList:{default:()=>[]},borderGradientSize:{default:60},debounceDistance:{default:300},disabled:{default:!1}},emits:["click"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-RevealContainer",[Sa.$theme]]),style:normalizeStyle$1({"border-radius":`${Sa.computedBorderRadius}px`}),onClick:ba[0]||(ba[0]=ka=>{ka.preventDefault(),Sa.isDisabled||Sa.$emit("click",ka)})},[withDirectives((openBlock(),createElementBlock("svg",Fg,[createTextVNode(" > "),createBaseVNode("defs",null,[createBaseVNode("radialGradient",{cx:"50%",cy:"50%",r:ha.backgroundGradientSize,gradientUnits:"userSpaceOnUse",spreadMethod:"pad",id:`backgroundG_${Sa.id}`,gradientTransform:Sa.borderMatrix},[ha.backgroundGradientList.length==0?(openBlock(),createElementBlock("stop",{key:0,offset:"0","stop-color":ha.backgroundColor},null,8,Rg)):createCommentVNode("",!0),ha.backgroundGradientList.length==0?(openBlock(),createElementBlock("stop",Bg)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(ha.backgroundGradientList,(ka,_y)=>(openBlock(),createElementBlock("stop",{offset:1/ha.backgroundGradientList.length*_y,"stop-color":ka,key:`bg:${_y}`},null,8,_g))),128))],8,Mg),createBaseVNode("radialGradient",{cx:"50%",cy:"50%",r:ha.borderGradientSize,gradientUnits:"userSpaceOnUse",spreadMethod:"pad",id:`borderG_${Sa.id}`,gradientTransform:Sa.borderMatrix},[ha.borderGradientList.length==0?(openBlock(),createElementBlock("stop",{key:0,offset:"0","stop-color":ha.borderColor},null,8,zg)):createCommentVNode("",!0),ha.borderGradientList.length==0?(openBlock(),createElementBlock("stop",Ag)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(ha.borderGradientList,(ka,_y)=>(openBlock(),createElementBlock("stop",{offset:1/ha.borderGradientList.length*_y,"stop-color":ka,key:`border:${_y}`},null,8,Wg))),128))],8,Og),createBaseVNode("radialGradient",{cx:"50%",cy:"50%",r:Sa.wave,gradientUnits:"userSpaceOnUse",spreadMethod:"pad",id:`clickG_${Sa.id}`,gradientTransform:Sa.borderMatrix},[Hg,createBaseVNode("stop",{offset:"0.33","stop-color":ha.backgroundColor},null,8,Gg),Ug,Yg],8,Ng)]),createBaseVNode("rect",{x:ha.borderWidth/2,y:ha.borderWidth/2,rx:Sa.computedBorderRadius,ry:Sa.computedBorderRadius,style:normalizeStyle$1([{"box-sizing":"border-box"},{width:`${Sa.offset.right-Sa.offset.left-ha.borderWidth}px`,height:`${Sa.offset.bottom-Sa.offset.top-ha.borderWidth}px`,stroke:`url(#borderG_${Sa.id})`,fill:Sa.inside?`url(#backgroundG_${Sa.id})`:"transparent","stroke-width":ha.borderWidth}])},null,12,jg),withDirectives(createBaseVNode("rect",{x:ha.borderWidth/2,y:ha.borderWidth/2,rx:Sa.computedBorderRadius,ry:Sa.computedBorderRadius,style:normalizeStyle$1([{stroke:"transparent","box-sizing":"border-box"},{width:`${Sa.offset.right-Sa.offset.left-ha.borderWidth}px`,height:`${Sa.offset.bottom-Sa.offset.top-ha.borderWidth}px`,fill:Sa.inside?`url(#clickG_${Sa.id})`:"transparent","stroke-width":ha.borderWidth}])},null,12,qg),[[vShow,Sa.clickDown]])],512)),[[vShow,Sa.offset.right-Sa.offset.left>0]])],6))}}),Jg=J(Kg),Qg={class:"right-menu-list"},Zg=createBaseVNode("span",null,[createBaseVNode("p",null,"Selected")],-1),ep={name:"FvRightMenu",data(){return{thisValue:this.modelValue,posX:0,posY:0,rightMenuHeight:0}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.globalAppendInit(),this.rightMenuClearInit(),this.resizeInit()},methods:{globalAppendInit(){this.$nextTick(()=>{const ha=document.querySelector("body");ha.append?ha.append(this.$el):ha.appendChild(this.$el)})},rightMenuClearInit(){window.addEventListener("click",ha=>{let ua=ha.target;ua&&ua!==this.$el&&(this.thisValue=!1)})},resizeInit(){new ResizeObserver(()=>{this.$el&&this.$el.clientHeight>0&&(this.rightMenuHeight=this.$el.clientHeight,this.$emit("update-height",this.rightMenuHeight))}).observe(this.$el)},rightClick(ha,ua){ha.preventDefault(),this.thisValue=!0;let Sa=ua.getBoundingClientRect(),ba={};ba.x=ha.x,ba.y=ha.y,ba.x<Sa.left&&(ba.x=Sa.left),ba.x+this.rightMenuWidth>Sa.right&&(ba.x=Sa.right-this.rightMenuWidth),ba.y<Sa.top&&(ba.y=Sa.top),ba.y+this.rightMenuHeight>Sa.bottom&&(ba.y=Sa.bottom-this.rightMenuHeight),this.posX=ba.x,this.posY=ba.y}}},tp=Object.assign(ep,{props:{...K,modelValue:{default:!1},rightMenuWidth:{default:200},background:{default:""},fullExpandAnimation:{default:!1}},emits:["update:modelValue","update-height"],setup(ha,{expose:ua,emit:Sa}){const{proxy:ba}=getCurrentInstance();return ua({rightClick:(...ka)=>ba.rightClick(...ka)}),(ka,_y)=>(openBlock(),createBlock(Transition,{name:ha.fullExpandAnimation?"fv-rightMenu-full-zoom-in-top":"fv-rightMenu-zoom-in-top"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass(["fv-RightMenu",[ka.$theme]]),style:normalizeStyle$1({left:ka.posX+"px",top:ka.posY+"px",width:ha.rightMenuWidth+"px",background:ha.background})},[createBaseVNode("div",Qg,[renderSlot(ka.$slots,"default",{},()=>[Zg])])],6),[[vShow,ka.thisValue]])]),_:3},8,["name"]))}}),ip=J(tp),sp={key:0},np=createBaseVNode("p",null,"Scroll Story",-1),rp={name:"FvScrollStory",data(){return{show:!1,bounding:1/0,event:()=>{this.refreshBounding()},timer:{}}},watch:{show(ha){this.$emit("show-changed",ha)}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.timerInit()},methods:{timerInit(){clearInterval(this.timer),this.timer=setInterval(()=>{this.refreshBounding()},30)},refreshBounding(){this.bounding=this.$el.getBoundingClientRect(),this.bounding.top<window.innerHeight&&(this.show=!0),this.bounding.top>window.innerHeight&&this.infinite&&(this.show=!1),this.bounding.bottom<100&&this.overCollapse&&(this.show=!1)}},beforeUnmount(){clearInterval(this.timer)}},op=Object.assign(rp,{props:{...K,name:{default:""},overCollapse:{default:!1},infinite:{default:!1},trueRender:{default:!1}},emits:["show-changed"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-ScrollStory",[Sa.$theme]])},[createVNode$1(Transition,{name:ha.name},{default:withCtx(()=>[!ha.trueRender||Sa.show?withDirectives((openBlock(),createElementBlock("div",sp,[renderSlot(Sa.$slots,"default",{},()=>[np])],512)),[[vShow,Sa.show]]):createCommentVNode("",!0)]),_:3},8,["name"])],2))}}),ap=J(op),lp={class:"search-box-placeholder"},dp={class:"search-box-container"},up=["type","placeholder","readonly","disabled","maxlength"],hp={class:"search-result-container",ref:"filterResult"},cp={name:"FvSearchBox",data(){return{thisValue:this.modelValue,isFocus:!1,filterOptions:this.options,show:{searchResult:!1},timer:{debounce:null}}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){clearTimeout(this.timer.debounce),this.timer.debounce=setTimeout(()=>{this.$emit("debounce-input",this.thisValue)},this.debounceDelay),this.$emit("update:modelValue",ha),this.refreshFilter()},isFocus(ha){ha&&this.focusShow&&(this.show.searchResult=!0)}},computed:{thisBorderColor(){return this.isUnderline?this.isFocus?{borderBottomColor:this.focusBorderColor}:{borderBottomColor:this.borderColor}:this.isFocus?{borderColor:this.focusBorderColor}:{borderColor:this.borderColor}},isUnderline(){return this.underline.toString()=="true"||this.underline=="underline"||this.underline===""},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},borderLightColor(){return this.$theme=="light"?"rgba(121, 119, 117, 0.6)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.6)":"rgba(121, 119, 117, 0.6)"},backgroundLightColor(){return this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"},isReadOnly(){return this.readonly.toString()=="true"||this.readonly=="readonly"||this.readonly===""},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},$theme(){return Y(this.$props).theme.value}},mounted(){this.lazyLoadInit(),this.outSideClickInit()},methods:{lazyLoadInit(){this.$SUtility.ScrollToLoadInit(this.$refs.filterResult,()=>{this.$emit("lazyload",this.filterOptions)})},outSideClickInit(){window.addEventListener("click",this.outSideClickEvent)},outSideClickEvent(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||(this.show.searchResult=!1)},refreshFilter(){let ha=[];if(this.customFilter!==!1)ha=this.customFilter(this.options);else for(let ua of this.options)ua.name.toString().toLowerCase().indexOf(this.thisValue.toLowerCase())>-1&&ha.push(ua);this.filterOptions=ha},chooseResult(ha){this.thisValue=ha.item.name,this.$emit("choose-result",ha.item),this.show.searchResult=!1},onBackspace(){if(this.thisValue===""&&this.resultPlaceholder.length>0){let ha=this.resultPlaceholder;ha.splice(ha.length-1,1),this.$emit("update:resultPlaceholder",ha)}},clearValue(){this.thisValue="",this.$emit("update:resultPlaceholder",[]),this.$emit("clear-click")}},mounted(){this.lazyLoadInit(),this.outSideClickInit()},methods:{lazyLoadInit(){this.$SUtility.ScrollToLoadInit(this.$refs.filterResult,()=>{this.$emit("lazyload",this.filterOptions)})},outSideClickInit(){window.addEventListener("click",ha=>{let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||(this.show.searchResult=!1)})},refreshFilter(){let ha=[];if(this.customFilter!==!1)ha=this.customFilter(this.options);else for(let ua of this.options)ua.name.toString().toLowerCase().indexOf(this.thisValue.toLowerCase())>-1&&ha.push(ua);this.filterOptions=ha},chooseResult(ha){this.thisValue=ha.item.name,this.$emit("choose-result",ha.item),this.show.searchResult=!1},onBackspace(){if(this.thisValue===""&&this.resultPlaceholder.length>0){let ha=this.resultPlaceholder;ha.splice(ha.length-1,1),this.$emit("update:resultPlaceholder",ha)}},clearValue(){this.thisValue="",this.$emit("update:resultPlaceholder",[]),this.$emit("clear-click")}},beforeUnmount(){window.removeEventListener("click",this.outSideClickEvent)}},fp=Object.assign(cp,{props:{...K,modelValue:{default:""},options:{default:()=>[]},placeholder:{default:""},type:{default:"text"},readonly:{default:!1},maxlength:{default:""},customFilter:{default:!1},resultPlaceholder:{default:!1},focusShow:{default:!1},leftIcon:{default:""},icon:{default:""},underline:{default:!1},background:{default:""},borderWidth:{default:1},borderColor:{default:""},focusBorderColor:{default:""},foreground:{default:""},fontSize:{default:13.3},fontWeight:{default:"normal"},textAlign:{default:"left"},borderRadius:{default:3},isBoxShadow:{default:!1},revealBorder:{default:!1},status:{default:""},debounceDelay:{default:300},disabled:{default:!1}},emits:["update:modelValue","debounce-input","choose-result","lazyload","clear-click","left-icon-click","icon-click","keydown","keyup","change","paste"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-reveal-container"),_y=resolveComponent("fv-list-view");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-SearchBox",[Sa.$theme,ha.status,Sa.isFocus?"focus":"",Sa.isDisabled?"disabled":"",Sa.isUnderline?"underline":"",{shadow:ha.isBoxShadow}]]),style:normalizeStyle$1([{background:ha.background,borderRadius:`${ha.borderRadius}px`}]),onKeydown:ba[11]||(ba[11]=Ty=>Sa.show.searchResult=!0),onKeyup:ba[12]||(ba[12]=withKeys((...Ty)=>Sa.onBackspace&&Sa.onBackspace(...Ty),["delete"])),onClick:ba[13]||(ba[13]=Ty=>Sa.isFocus=!0)},[createVNode$1(ka,{parent:()=>Sa.$el,class:"fv-search-box-reveal-container",backgroundColor:Sa.backgroundLightColor,borderColor:Sa.borderLightColor,backgroundGradientSize:120,borderGradientSize:60,borderWidth:ha.borderWidth,borderRadius:ha.borderRadius,disabled:Sa.isDisabled||!ha.revealBorder},null,8,["parent","backgroundColor","borderColor","borderWidth","borderRadius","disabled"]),createBaseVNode("div",{class:"search-box-wrapper-container",style:normalizeStyle$1([Sa.thisBorderColor,{background:ha.background,borderRadius:`${ha.borderRadius}px`,borderWidth:`${ha.borderWidth}px`}])},[withDirectives(createBaseVNode("i",{class:normalizeClass(["ms-Icon icon-block",[`ms-Icon--${ha.leftIcon}`]]),onClick:ba[0]||(ba[0]=Ty=>Sa.$emit("left-icon-click",Ty))},null,2),[[vShow,ha.leftIcon!=""]]),createVNode$1(Transition,{name:"move-left-to-right"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",lp,[renderSlot(Sa.$slots,"resultPlaceholder",{resultPlaceholder:ha.resultPlaceholder})],512),[[vShow,ha.resultPlaceholder.length>0]])]),_:3}),createBaseVNode("div",dp,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":ba[1]||(ba[1]=Ty=>Sa.thisValue=Ty),type:ha.type,placeholder:ha.placeholder,class:"input",readonly:Sa.isReadOnly,disabled:Sa.isDisabled,maxlength:ha.maxlength,ref:"input",style:normalizeStyle$1({"font-size":`${ha.fontSize}px`,"font-weight":ha.fontWeight,color:ha.foreground,"text-align":ha.textAlign}),onKeydown:ba[2]||(ba[2]=Ty=>Sa.$emit("keydown",Ty)),onKeyup:ba[3]||(ba[3]=Ty=>Sa.$emit("keyup",Ty)),onChange:ba[4]||(ba[4]=Ty=>Sa.$emit("change",Ty)),onPaste:ba[5]||(ba[5]=Ty=>Sa.$emit("paste",Ty)),onFocus:ba[6]||(ba[6]=Ty=>Sa.isFocus=!0),onBlur:ba[7]||(ba[7]=Ty=>Sa.isFocus=!1)},null,44,up),[[vModelDynamic,Sa.thisValue]])]),withDirectives(createBaseVNode("i",{class:"ms-Icon ms-Icon--Cancel icon-block",onClick:ba[8]||(ba[8]=(...Ty)=>Sa.clearValue&&Sa.clearValue(...Ty))},null,512),[[vShow,Sa.thisValue.length>0||ha.resultPlaceholder.length>0]]),withDirectives(createBaseVNode("i",{class:normalizeClass(["ms-Icon icon-block",[`ms-Icon--${ha.icon}`]]),onClick:ba[9]||(ba[9]=Ty=>Sa.$emit("icon-click",Ty))},null,2),[[vShow,ha.icon!=""]])],4),createVNode$1(Transition,{name:"zoom-in-top"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",hp,[renderSlot(Sa.$slots,"searchResult",{data:Sa.filterOptions,chooseResult:Sa.chooseResult},()=>[createVNode$1(_y,{modelValue:Sa.filterOptions,"onUpdate:modelValue":ba[10]||(ba[10]=Ty=>Sa.filterOptions=Ty),theme:Sa.theme,style:{width:"100%",height:"auto"},onChooseItem:Sa.chooseResult},null,8,["modelValue","theme","onChooseItem"])])],512),[[vShow,Sa.show.searchResult]])]),_:3})],38)}}}),mp=J(fp),gp=createBaseVNode("div",{class:"sample",style:{"background-image":"inherit"}},null,-1),pp={name:"FvShimmer",data(){return{gradientSize:80,x:0,y:0,timer:{}}},computed:{$theme(){return Y(this.$props).theme.value},backgroundLightColor(){return this.$theme=="light"?"rgba(121, 119, 117, 0.1)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.1)":"rgba(121, 119, 117, 0.1)"}},mounted(){this.moveInit(),this.timer=setInterval(()=>{this.childrenInit()},30)},methods:{moveInit(){this.gradientSize=this.$el.clientWidth/1.6,this.x=-this.gradientSize,this.y=this.$el.clientHeight/2,Te.to(this.$data,{x:this.$el.clientWidth+this.gradientSize+100,duration:2,delay:0,repeat:-1,ease:"power3.in"})},childrenInit(){try{this.$refs.shimmer.querySelectorAll("*").forEach(ha=>{ha.getAttribute("style").indexOf("background-image")<0&&ha.setAttribute("style",`${ha.getAttribute("style")} background-image: inherit;`)})}catch{}}},beforeUnmount(){clearInterval(this.timer)}},vp=Object.assign(pp,{props:{...K},setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Shimmer",[Sa.$theme]])},[createBaseVNode("div",{class:"shimmer-container",ref:"shimmer",style:normalizeStyle$1({"background-image":`radial-gradient(circle ${Sa.gradientSize}px at ${Sa.x}px ${Sa.y}px, ${Sa.backgroundLightColor}, rgba(255,255,255,0))`})},[renderSlot(Sa.$slots,"default",{},()=>[gp])],4)],2))}}),bp=J(vp),wp=["title"],yp={class:"fv-slider-unit-container"},kp={name:"FvSlider",data(){return{progress:this.getValue(this.modelValue),moveable:!1,mouseDownPos:{disX:0,disY:0},currentLeft:0,currentTop:0,freezeTransition:!1,btnEl:{width:0,height:0},barEl:{width:0,height:0}}},computed:{$theme(){return Y(this.$props).theme.value},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},isShowLabel(){return this.showLabel.toString()=="true"||this.showLabel===""},finalLeft(){return this.vertical?-7.5:this.currentLeft<0?0:this.currentLeft>this.barEl.width-this.btnEl.width?this.barEl.width-this.btnEl.width:this.currentLeft},finalTop(){return this.vertical?this.currentTop<0?0:this.currentTop>this.barEl.height-this.btnEl.height?this.barEl.height-this.btnEl.height:this.currentTop:-7.5},scaleList(){if(!this.scale)return[];let ha=[],ua=0,Sa=this.maxinum-this.mininum;for(;ua<=Sa;)ha.push({ratio:ua/Sa}),ua+=this.scale;return ha},unitList(){let ha=[],ua=0,Sa=this.maxinum-this.mininum;for(;ua<=Sa;)ha.push({ratio:ua/Sa,value:this.mininum+ua}),ua+=this.unit;return ha}},watch:{modelValue(ha){this.progress=this.getValue(ha),this.moveable||this.setPos()},progress(ha){this.$emit("update:modelValue",ha),this.$emit("change",ha)},finalLeft(){this.moveable&&(this.progress=this.setProgress())},finalTop(){this.moveable&&(this.progress=this.setProgress(!0))}},mounted(){this.Init(),this.resizeInit()},methods:{Init(){window.addEventListener("mousemove",ha=>{this.moveable&&(this.currentLeft=ha.clientX-this.mouseDownPos.disX,this.currentTop=ha.clientY-this.mouseDownPos.disY)}),window.addEventListener("touchmove",ha=>{ha=ha.targetTouches[0],this.moveable&&(this.currentLeft=ha.clientX-this.mouseDownPos.disX,this.currentTop=ha.clientY-this.mouseDownPos.disY)}),window.addEventListener("mouseup",ha=>{this.moveable&&this.stop()}),window.addEventListener("touchup",ha=>{this.moveable&&this.stop()})},resizeInit(){new ResizeObserver(()=>{this.$refs.btn&&(this.btnEl.width=this.$refs.btn.clientWidth,this.btnEl.height=this.$refs.btn.clientHeight,this.setPos())}).observe(this.$refs.btn),new ResizeObserver(()=>{this.$refs.bar&&(this.barEl.width=this.$refs.bar.clientWidth,this.barEl.height=this.$refs.bar.clientHeight,this.setPos())}).observe(this.$refs.bar)},forward(ha){if(this.isDisabled)return;this.moveable=!0,this.freezeTransition=!0,ha.preventDefault();let{clientX:ua,clientY:Sa}=ha.targetTouches?ha.targetTouches[0]:ha;this.mouseDownPos.disX=ua-this.$refs.btn.offsetLeft,this.mouseDownPos.disY=Sa-this.$refs.btn.offsetTop},correctPos(){this.$refs.btn.offsetLeft<-this.$refs.btn.clientWidth/2&&(this.currentLeft=0),this.$refs.btn.offsetTop<-this.$refs.btn.clientHeight/2&&(this.currentTop=0),this.$refs.btn.offsetLeft+this.$refs.btn.clientWidth>this.$refs.bar.clientWidth&&(this.currentLeft=this.$refs.bar.clientWidth-this.$refs.btn.clientWidth),this.$refs.btn.offsetTop+this.$refs.btn.clientHeight>this.$refs.bar.clientHeight&&(this.currentTop=this.$refs.bar.clientHeight-this.$refs.btn.clientHeight);for(let ha=0;ha<this.unitList.length;ha++){let ua=this.currentLeft/(this.barEl.width-this.btnEl.width),Sa=this.unitList[ha].ratio,ba=this.unitList[ha+1]?this.unitList[ha+1].ratio:1;if(ua>=Sa&&ua<=ba){ua-Sa<ba-ua?this.currentLeft=Sa*(this.barEl.width-this.btnEl.width):this.currentLeft=ba*(this.barEl.width-this.btnEl.width),this.vertical||(this.progress=this.setProgress());break}}for(let ha=0;ha<this.unitList.length;ha++){let ua=this.currentTop/(this.barEl.height-this.btnEl.height),Sa=this.unitList[ha].ratio,ba=this.unitList[ha+1]?this.unitList[ha+1].ratio:1;if(ua>=Sa&&ua<=ba){ua-Sa<ba-ua?this.currentTop=Sa*(this.barEl.height-this.btnEl.height):this.currentTop=ba*(this.barEl.height-this.btnEl.height),this.vertical&&(this.progress=this.setProgress(!0));break}}},stop(){this.isDisabled||(this.moveable=!1,this.freezeTransition=!1,this.correctPos(),this.$emit("click",this.progress),setTimeout(()=>{this.freezeTransition=!0},300))},getValue(ha){return ha<this.mininum?ha=this.mininum:ha>this.maxinum&&(ha=this.maxinum),ha=parseFloat(ha).toFixed(0),ha},setPos(){!this.btnEl.width||!this.barEl.width||(this.vertical?this.currentTop=this.progress/(this.maxinum-this.mininum)*(this.barEl.height-this.btnEl.height):this.currentLeft=this.progress/(this.maxinum-this.mininum)*(this.barEl.width-this.btnEl.width))},setProgress(ha=!1){if(!ha){let Sa=this.finalLeft/(this.barEl.width-this.btnEl.width);return Sa=Sa*(this.maxinum-this.mininum)+this.mininum,Sa.toFixed(0)}let ua=this.finalTop/(this.barEl.height-this.btnEl.height);return ua=ua*(this.maxinum-this.mininum)+this.mininum,ua.toFixed(0)}}},Cp=Object.assign(kp,{props:{...K,disabled:{type:Boolean,default:!1},modelValue:{type:[String,Number],default:0},unit:{type:Number,default:1},maxinum:{type:Number,default:100},mininum:{type:Number,default:0},icon:{type:String,default:"CircleFill"},vertical:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!1},scale:{type:[Boolean,Number],default:!1},color:{default:""},background:{default:""},iconWrapperBackground:{default:""}},setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Slider",[Sa.$theme,{vertical:ha.vertical}]]),ref:"slider"},[createBaseVNode("div",{class:"fv-slider-main",ref:"bar",style:normalizeStyle$1({background:Sa.progress>=100?ha.color:ha.background?ha.background:""})},[createBaseVNode("div",{ref:"btn",class:"fv-slider-ring-container",style:normalizeStyle$1({left:Sa.finalLeft+"px",top:Sa.finalTop+"px",background:ha.iconWrapperBackground}),onMousedown:ba[0]||(ba[0]=(...ka)=>Sa.forward&&Sa.forward(...ka)),onMouseup:ba[1]||(ba[1]=(...ka)=>Sa.stop&&Sa.stop(...ka)),onTouchstart:ba[2]||(ba[2]=(...ka)=>Sa.forward&&Sa.forward(...ka)),onTouchend:ba[3]||(ba[3]=(...ka)=>Sa.stop&&Sa.stop(...ka))},[createBaseVNode("i",{class:normalizeClass(["ms-Icon fv-slider-ring-icon",[`ms-Icon--${ha.icon}`]]),style:normalizeStyle$1({color:ha.color})},null,6)],36),createBaseVNode("div",{class:"fv-slider-loaded",style:normalizeStyle$1({width:ha.vertical?"":Sa.finalLeft+Sa.btnEl.width/2+"px",height:ha.vertical?Sa.finalTop+Sa.btnEl.height/2+"px":"",background:ha.color})},null,4),withDirectives(createBaseVNode("div",{class:"fv-slider-label",title:Sa.progress,style:normalizeStyle$1({left:ha.vertical?"":Sa.finalLeft-20+Sa.btnEl.width/2+"px",top:ha.vertical?Sa.finalTop-14+Sa.btnEl.height/2+"px":""})},[renderSlot(Sa.$slots,"default",{modelValue:Sa.progress},()=>[createBaseVNode("p",null,toDisplayString(Sa.progress),1)])],12,wp),[[vShow,Sa.isShowLabel&&Sa.moveable]]),createBaseVNode("div",yp,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.scaleList,(ka,_y)=>(openBlock(),createElementBlock("i",{key:`top: ${_y}`,class:"fv-slider-unit-item first",style:normalizeStyle$1({left:ha.vertical?"":`calc(${ka.ratio*(Sa.barEl.width-Sa.btnEl.width)+Sa.btnEl.width/2}px)`,top:ha.vertical?`calc(${ka.ratio*(Sa.barEl.height-Sa.btnEl.height)+Sa.btnEl.height/2}px)`:""})},null,4))),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.scaleList,(ka,_y)=>(openBlock(),createElementBlock("i",{key:`bottom: ${_y}`,class:"fv-slider-unit-item second",style:normalizeStyle$1({left:ha.vertical?"":`calc(${ka.ratio*(Sa.barEl.width-Sa.btnEl.width)+Sa.btnEl.width/2}px)`,top:ha.vertical?`calc(${ka.ratio*(Sa.barEl.height-Sa.btnEl.height)+Sa.btnEl.height/2}px)`:""})},null,4))),128))])],4)],2))}}),$p=J(Cp);function Bn(ha){return ha!==null&&typeof ha=="object"&&"constructor"in ha&&ha.constructor===Object}function dn(ha={},ua={}){Object.keys(ua).forEach(Sa=>{typeof ha[Sa]>"u"?ha[Sa]=ua[Sa]:Bn(ua[Sa])&&Bn(ha[Sa])&&Object.keys(ua[Sa]).length>0&&dn(ha[Sa],ua[Sa])})}const Co={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ae(){const ha=typeof document<"u"?document:{};return dn(ha,Co),ha}const Sp={document:Co,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(ha){return typeof setTimeout>"u"?(ha(),null):setTimeout(ha,0)},cancelAnimationFrame(ha){typeof setTimeout>"u"||clearTimeout(ha)}};function $e(){const ha=typeof window<"u"?window:{};return dn(ha,Sp),ha}function Vp(ha){const ua=ha.__proto__;Object.defineProperty(ha,"__proto__",{get(){return ua},set(Sa){ua.__proto__=Sa}})}class yt extends Array{constructor(ua){typeof ua=="number"?super(ua):(super(...ua||[]),Vp(this))}}function Si(ha=[]){const ua=[];return ha.forEach(Sa=>{Array.isArray(Sa)?ua.push(...Si(Sa)):ua.push(Sa)}),ua}function $o(ha,ua){return Array.prototype.filter.call(ha,ua)}function Tp(ha){const ua=[];for(let Sa=0;Sa<ha.length;Sa+=1)ua.indexOf(ha[Sa])===-1&&ua.push(ha[Sa]);return ua}function xp(ha,ua){if(typeof ha!="string")return[ha];const Sa=[],ba=ua.querySelectorAll(ha);for(let ka=0;ka<ba.length;ka+=1)Sa.push(ba[ka]);return Sa}function X(ha,ua){const Sa=$e(),ba=Ae();let ka=[];if(!ua&&ha instanceof yt)return ha;if(!ha)return new yt(ka);if(typeof ha=="string"){const _y=ha.trim();if(_y.indexOf("<")>=0&&_y.indexOf(">")>=0){let Ty="div";_y.indexOf("<li")===0&&(Ty="ul"),_y.indexOf("<tr")===0&&(Ty="tbody"),(_y.indexOf("<td")===0||_y.indexOf("<th")===0)&&(Ty="tr"),_y.indexOf("<tbody")===0&&(Ty="table"),_y.indexOf("<option")===0&&(Ty="select");const Ay=ba.createElement(Ty);Ay.innerHTML=_y;for(let Ey=0;Ey<Ay.childNodes.length;Ey+=1)ka.push(Ay.childNodes[Ey])}else ka=xp(ha.trim(),ua||ba)}else if(ha.nodeType||ha===Sa||ha===ba)ka.push(ha);else if(Array.isArray(ha)){if(ha instanceof yt)return ha;ka=ha}return new yt(Tp(ka))}X.fn=yt.prototype;function Ip(...ha){const ua=Si(ha.map(Sa=>Sa.split(" ")));return this.forEach(Sa=>{Sa.classList.add(...ua)}),this}function Ep(...ha){const ua=Si(ha.map(Sa=>Sa.split(" ")));return this.forEach(Sa=>{Sa.classList.remove(...ua)}),this}function Dp(...ha){const ua=Si(ha.map(Sa=>Sa.split(" ")));this.forEach(Sa=>{ua.forEach(ba=>{Sa.classList.toggle(ba)})})}function Lp(...ha){const ua=Si(ha.map(Sa=>Sa.split(" ")));return $o(this,Sa=>ua.filter(ba=>Sa.classList.contains(ba)).length>0).length>0}function Pp(ha,ua){if(arguments.length===1&&typeof ha=="string")return this[0]?this[0].getAttribute(ha):void 0;for(let Sa=0;Sa<this.length;Sa+=1)if(arguments.length===2)this[Sa].setAttribute(ha,ua);else for(const ba in ha)this[Sa][ba]=ha[ba],this[Sa].setAttribute(ba,ha[ba]);return this}function Fp(ha){for(let ua=0;ua<this.length;ua+=1)this[ua].removeAttribute(ha);return this}function Mp(ha){for(let ua=0;ua<this.length;ua+=1)this[ua].style.transform=ha;return this}function Rp(ha){for(let ua=0;ua<this.length;ua+=1)this[ua].style.transitionDuration=typeof ha!="string"?`${ha}ms`:ha;return this}function Bp(...ha){let[ua,Sa,ba,ka]=ha;typeof ha[1]=="function"&&([ua,ba,ka]=ha,Sa=void 0),ka||(ka=!1);function _y(My){const Dy=My.target;if(!Dy)return;const Iy=My.target.dom7EventData||[];if(Iy.indexOf(My)<0&&Iy.unshift(My),X(Dy).is(Sa))ba.apply(Dy,Iy);else{const Ly=X(Dy).parents();for(let Py=0;Py<Ly.length;Py+=1)X(Ly[Py]).is(Sa)&&ba.apply(Ly[Py],Iy)}}function Ty(My){const Dy=My&&My.target?My.target.dom7EventData||[]:[];Dy.indexOf(My)<0&&Dy.unshift(My),ba.apply(this,Dy)}const Ay=ua.split(" ");let Ey;for(let My=0;My<this.length;My+=1){const Dy=this[My];if(Sa)for(Ey=0;Ey<Ay.length;Ey+=1){const Iy=Ay[Ey];Dy.dom7LiveListeners||(Dy.dom7LiveListeners={}),Dy.dom7LiveListeners[Iy]||(Dy.dom7LiveListeners[Iy]=[]),Dy.dom7LiveListeners[Iy].push({listener:ba,proxyListener:_y}),Dy.addEventListener(Iy,_y,ka)}else for(Ey=0;Ey<Ay.length;Ey+=1){const Iy=Ay[Ey];Dy.dom7Listeners||(Dy.dom7Listeners={}),Dy.dom7Listeners[Iy]||(Dy.dom7Listeners[Iy]=[]),Dy.dom7Listeners[Iy].push({listener:ba,proxyListener:Ty}),Dy.addEventListener(Iy,Ty,ka)}}return this}function _p(...ha){let[ua,Sa,ba,ka]=ha;typeof ha[1]=="function"&&([ua,ba,ka]=ha,Sa=void 0),ka||(ka=!1);const _y=ua.split(" ");for(let Ty=0;Ty<_y.length;Ty+=1){const Ay=_y[Ty];for(let Ey=0;Ey<this.length;Ey+=1){const My=this[Ey];let Dy;if(!Sa&&My.dom7Listeners?Dy=My.dom7Listeners[Ay]:Sa&&My.dom7LiveListeners&&(Dy=My.dom7LiveListeners[Ay]),Dy&&Dy.length)for(let Iy=Dy.length-1;Iy>=0;Iy-=1){const Ly=Dy[Iy];ba&&Ly.listener===ba||ba&&Ly.listener&&Ly.listener.dom7proxy&&Ly.listener.dom7proxy===ba?(My.removeEventListener(Ay,Ly.proxyListener,ka),Dy.splice(Iy,1)):ba||(My.removeEventListener(Ay,Ly.proxyListener,ka),Dy.splice(Iy,1))}}}return this}function Op(...ha){const ua=$e(),Sa=ha[0].split(" "),ba=ha[1];for(let ka=0;ka<Sa.length;ka+=1){const _y=Sa[ka];for(let Ty=0;Ty<this.length;Ty+=1){const Ay=this[Ty];if(ua.CustomEvent){const Ey=new ua.CustomEvent(_y,{detail:ba,bubbles:!0,cancelable:!0});Ay.dom7EventData=ha.filter((My,Dy)=>Dy>0),Ay.dispatchEvent(Ey),Ay.dom7EventData=[],delete Ay.dom7EventData}}}return this}function zp(ha){const ua=this;function Sa(ba){ba.target===this&&(ha.call(this,ba),ua.off("transitionend",Sa))}return ha&&ua.on("transitionend",Sa),this}function Ap(ha){if(this.length>0){if(ha){const ua=this.styles();return this[0].offsetWidth+parseFloat(ua.getPropertyValue("margin-right"))+parseFloat(ua.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function Wp(ha){if(this.length>0){if(ha){const ua=this.styles();return this[0].offsetHeight+parseFloat(ua.getPropertyValue("margin-top"))+parseFloat(ua.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function Np(){if(this.length>0){const ha=$e(),ua=Ae(),Sa=this[0],ba=Sa.getBoundingClientRect(),ka=ua.body,_y=Sa.clientTop||ka.clientTop||0,Ty=Sa.clientLeft||ka.clientLeft||0,Ay=Sa===ha?ha.scrollY:Sa.scrollTop,Ey=Sa===ha?ha.scrollX:Sa.scrollLeft;return{top:ba.top+Ay-_y,left:ba.left+Ey-Ty}}return null}function Hp(){const ha=$e();return this[0]?ha.getComputedStyle(this[0],null):{}}function Gp(ha,ua){const Sa=$e();let ba;if(arguments.length===1)if(typeof ha=="string"){if(this[0])return Sa.getComputedStyle(this[0],null).getPropertyValue(ha)}else{for(ba=0;ba<this.length;ba+=1)for(const ka in ha)this[ba].style[ka]=ha[ka];return this}if(arguments.length===2&&typeof ha=="string"){for(ba=0;ba<this.length;ba+=1)this[ba].style[ha]=ua;return this}return this}function Up(ha){return ha?(this.forEach((ua,Sa)=>{ha.apply(ua,[ua,Sa])}),this):this}function Yp(ha){const ua=$o(this,ha);return X(ua)}function jp(ha){if(typeof ha>"u")return this[0]?this[0].innerHTML:null;for(let ua=0;ua<this.length;ua+=1)this[ua].innerHTML=ha;return this}function qp(ha){if(typeof ha>"u")return this[0]?this[0].textContent.trim():null;for(let ua=0;ua<this.length;ua+=1)this[ua].textContent=ha;return this}function Xp(ha){const ua=$e(),Sa=Ae(),ba=this[0];let ka,_y;if(!ba||typeof ha>"u")return!1;if(typeof ha=="string"){if(ba.matches)return ba.matches(ha);if(ba.webkitMatchesSelector)return ba.webkitMatchesSelector(ha);if(ba.msMatchesSelector)return ba.msMatchesSelector(ha);for(ka=X(ha),_y=0;_y<ka.length;_y+=1)if(ka[_y]===ba)return!0;return!1}if(ha===Sa)return ba===Sa;if(ha===ua)return ba===ua;if(ha.nodeType||ha instanceof yt){for(ka=ha.nodeType?[ha]:ha,_y=0;_y<ka.length;_y+=1)if(ka[_y]===ba)return!0;return!1}return!1}function Kp(){let ha=this[0],ua;if(ha){for(ua=0;(ha=ha.previousSibling)!==null;)ha.nodeType===1&&(ua+=1);return ua}}function Jp(ha){if(typeof ha>"u")return this;const ua=this.length;if(ha>ua-1)return X([]);if(ha<0){const Sa=ua+ha;return Sa<0?X([]):X([this[Sa]])}return X([this[ha]])}function Qp(...ha){let ua;const Sa=Ae();for(let ba=0;ba<ha.length;ba+=1){ua=ha[ba];for(let ka=0;ka<this.length;ka+=1)if(typeof ua=="string"){const _y=Sa.createElement("div");for(_y.innerHTML=ua;_y.firstChild;)this[ka].appendChild(_y.firstChild)}else if(ua instanceof yt)for(let _y=0;_y<ua.length;_y+=1)this[ka].appendChild(ua[_y]);else this[ka].appendChild(ua)}return this}function Zp(ha){const ua=Ae();let Sa,ba;for(Sa=0;Sa<this.length;Sa+=1)if(typeof ha=="string"){const ka=ua.createElement("div");for(ka.innerHTML=ha,ba=ka.childNodes.length-1;ba>=0;ba-=1)this[Sa].insertBefore(ka.childNodes[ba],this[Sa].childNodes[0])}else if(ha instanceof yt)for(ba=0;ba<ha.length;ba+=1)this[Sa].insertBefore(ha[ba],this[Sa].childNodes[0]);else this[Sa].insertBefore(ha,this[Sa].childNodes[0]);return this}function ev(ha){return this.length>0?ha?this[0].nextElementSibling&&X(this[0].nextElementSibling).is(ha)?X([this[0].nextElementSibling]):X([]):this[0].nextElementSibling?X([this[0].nextElementSibling]):X([]):X([])}function tv(ha){const ua=[];let Sa=this[0];if(!Sa)return X([]);for(;Sa.nextElementSibling;){const ba=Sa.nextElementSibling;ha?X(ba).is(ha)&&ua.push(ba):ua.push(ba),Sa=ba}return X(ua)}function iv(ha){if(this.length>0){const ua=this[0];return ha?ua.previousElementSibling&&X(ua.previousElementSibling).is(ha)?X([ua.previousElementSibling]):X([]):ua.previousElementSibling?X([ua.previousElementSibling]):X([])}return X([])}function sv(ha){const ua=[];let Sa=this[0];if(!Sa)return X([]);for(;Sa.previousElementSibling;){const ba=Sa.previousElementSibling;ha?X(ba).is(ha)&&ua.push(ba):ua.push(ba),Sa=ba}return X(ua)}function nv(ha){const ua=[];for(let Sa=0;Sa<this.length;Sa+=1)this[Sa].parentNode!==null&&(ha?X(this[Sa].parentNode).is(ha)&&ua.push(this[Sa].parentNode):ua.push(this[Sa].parentNode));return X(ua)}function rv(ha){const ua=[];for(let Sa=0;Sa<this.length;Sa+=1){let ba=this[Sa].parentNode;for(;ba;)ha?X(ba).is(ha)&&ua.push(ba):ua.push(ba),ba=ba.parentNode}return X(ua)}function ov(ha){let ua=this;return typeof ha>"u"?X([]):(ua.is(ha)||(ua=ua.parents(ha).eq(0)),ua)}function av(ha){const ua=[];for(let Sa=0;Sa<this.length;Sa+=1){const ba=this[Sa].querySelectorAll(ha);for(let ka=0;ka<ba.length;ka+=1)ua.push(ba[ka])}return X(ua)}function lv(ha){const ua=[];for(let Sa=0;Sa<this.length;Sa+=1){const ba=this[Sa].children;for(let ka=0;ka<ba.length;ka+=1)(!ha||X(ba[ka]).is(ha))&&ua.push(ba[ka])}return X(ua)}function dv(){for(let ha=0;ha<this.length;ha+=1)this[ha].parentNode&&this[ha].parentNode.removeChild(this[ha]);return this}const _n={addClass:Ip,removeClass:Ep,hasClass:Lp,toggleClass:Dp,attr:Pp,removeAttr:Fp,transform:Mp,transition:Rp,on:Bp,off:_p,trigger:Op,transitionEnd:zp,outerWidth:Ap,outerHeight:Wp,styles:Hp,offset:Np,css:Gp,each:Up,html:jp,text:qp,is:Xp,index:Kp,eq:Jp,append:Qp,prepend:Zp,next:ev,nextAll:tv,prev:iv,prevAll:sv,parent:nv,parents:rv,closest:ov,find:av,children:lv,filter:Yp,remove:dv};Object.keys(_n).forEach(ha=>{Object.defineProperty(X.fn,ha,{value:_n[ha],writable:!0})});function uv(ha){const ua=ha;Object.keys(ua).forEach(Sa=>{try{ua[Sa]=null}catch{}try{delete ua[Sa]}catch{}})}function js(ha,ua){return ua===void 0&&(ua=0),setTimeout(ha,ua)}function ki(){return Date.now()}function hv(ha){const ua=$e();let Sa;return ua.getComputedStyle&&(Sa=ua.getComputedStyle(ha,null)),!Sa&&ha.currentStyle&&(Sa=ha.currentStyle),Sa||(Sa=ha.style),Sa}function cv(ha,ua){ua===void 0&&(ua="x");const Sa=$e();let ba,ka,_y;const Ty=hv(ha);return Sa.WebKitCSSMatrix?(ka=Ty.transform||Ty.webkitTransform,ka.split(",").length>6&&(ka=ka.split(", ").map(Ay=>Ay.replace(",",".")).join(", ")),_y=new Sa.WebKitCSSMatrix(ka==="none"?"":ka)):(_y=Ty.MozTransform||Ty.OTransform||Ty.MsTransform||Ty.msTransform||Ty.transform||Ty.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),ba=_y.toString().split(",")),ua==="x"&&(Sa.WebKitCSSMatrix?ka=_y.m41:ba.length===16?ka=parseFloat(ba[12]):ka=parseFloat(ba[4])),ua==="y"&&(Sa.WebKitCSSMatrix?ka=_y.m42:ba.length===16?ka=parseFloat(ba[13]):ka=parseFloat(ba[5])),ka||0}function Pi(ha){return typeof ha=="object"&&ha!==null&&ha.constructor&&Object.prototype.toString.call(ha).slice(8,-1)==="Object"}function fv(ha){return typeof window<"u"&&typeof window.HTMLElement<"u"?ha instanceof HTMLElement:ha&&(ha.nodeType===1||ha.nodeType===11)}function _e(){const ha=Object(arguments.length<=0?void 0:arguments[0]),ua=["__proto__","constructor","prototype"];for(let Sa=1;Sa<arguments.length;Sa+=1){const ba=Sa<0||arguments.length<=Sa?void 0:arguments[Sa];if(ba!=null&&!fv(ba)){const ka=Object.keys(Object(ba)).filter(_y=>ua.indexOf(_y)<0);for(let _y=0,Ty=ka.length;_y<Ty;_y+=1){const Ay=ka[_y],Ey=Object.getOwnPropertyDescriptor(ba,Ay);Ey!==void 0&&Ey.enumerable&&(Pi(ha[Ay])&&Pi(ba[Ay])?ba[Ay].__swiper__?ha[Ay]=ba[Ay]:_e(ha[Ay],ba[Ay]):!Pi(ha[Ay])&&Pi(ba[Ay])?(ha[Ay]={},ba[Ay].__swiper__?ha[Ay]=ba[Ay]:_e(ha[Ay],ba[Ay])):ha[Ay]=ba[Ay])}}}return ha}function Fi(ha,ua,Sa){ha.style.setProperty(ua,Sa)}function So(ha){let{swiper:ua,targetPosition:Sa,side:ba}=ha;const ka=$e(),_y=-ua.translate;let Ty=null,Ay;const Ey=ua.params.speed;ua.wrapperEl.style.scrollSnapType="none",ka.cancelAnimationFrame(ua.cssModeFrameID);const My=Sa>_y?"next":"prev",Dy=(Ly,Py)=>My==="next"&&Ly>=Py||My==="prev"&&Ly<=Py,Iy=()=>{Ay=new Date().getTime(),Ty===null&&(Ty=Ay);const Ly=Math.max(Math.min((Ay-Ty)/Ey,1),0),Py=.5-Math.cos(Ly*Math.PI)/2;let Ry=_y+Py*(Sa-_y);if(Dy(Ry,Sa)&&(Ry=Sa),ua.wrapperEl.scrollTo({[ba]:Ry}),Dy(Ry,Sa)){ua.wrapperEl.style.overflow="hidden",ua.wrapperEl.style.scrollSnapType="",setTimeout(()=>{ua.wrapperEl.style.overflow="",ua.wrapperEl.scrollTo({[ba]:Ry})}),ka.cancelAnimationFrame(ua.cssModeFrameID);return}ua.cssModeFrameID=ka.requestAnimationFrame(Iy)};Iy()}let $s;function mv(){const ha=$e(),ua=Ae();return{smoothScroll:ua.documentElement&&"scrollBehavior"in ua.documentElement.style,touch:!!("ontouchstart"in ha||ha.DocumentTouch&&ua instanceof ha.DocumentTouch),passiveListener:function(){let Sa=!1;try{const ba=Object.defineProperty({},"passive",{get(){Sa=!0}});ha.addEventListener("testPassiveListener",null,ba)}catch{}return Sa}(),gestures:function(){return"ongesturestart"in ha}()}}function Vo(){return $s||($s=mv()),$s}let Ss;function gv(ha){let{userAgent:ua}=ha===void 0?{}:ha;const Sa=Vo(),ba=$e(),ka=ba.navigator.platform,_y=ua||ba.navigator.userAgent,Ty={ios:!1,android:!1},Ay=ba.screen.width,Ey=ba.screen.height,My=_y.match(/(Android);?[\s\/]+([\d.]+)?/);let Dy=_y.match(/(iPad).*OS\s([\d_]+)/);const Iy=_y.match(/(iPod)(.*OS\s([\d_]+))?/),Ly=!Dy&&_y.match(/(iPhone\sOS|iOS)\s([\d_]+)/),Py=ka==="Win32";let Ry=ka==="MacIntel";const Vy=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!Dy&&Ry&&Sa.touch&&Vy.indexOf(`${Ay}x${Ey}`)>=0&&(Dy=_y.match(/(Version)\/([\d.]+)/),Dy||(Dy=[0,1,"13_0_0"]),Ry=!1),My&&!Py&&(Ty.os="android",Ty.android=!0),(Dy||Ly||Iy)&&(Ty.os="ios",Ty.ios=!0),Ty}function pv(ha){return ha===void 0&&(ha={}),Ss||(Ss=gv(ha)),Ss}let Vs;function vv(){const ha=$e();function ua(){const Sa=ha.navigator.userAgent.toLowerCase();return Sa.indexOf("safari")>=0&&Sa.indexOf("chrome")<0&&Sa.indexOf("android")<0}return{isSafari:ua(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(ha.navigator.userAgent)}}function bv(){return Vs||(Vs=vv()),Vs}function wv(ha){let{swiper:ua,on:Sa,emit:ba}=ha;const ka=$e();let _y=null,Ty=null;const Ay=()=>{!ua||ua.destroyed||!ua.initialized||(ba("beforeResize"),ba("resize"))},Ey=()=>{!ua||ua.destroyed||!ua.initialized||(_y=new ResizeObserver(Iy=>{Ty=ka.requestAnimationFrame(()=>{const{width:Ly,height:Py}=ua;let Ry=Ly,Vy=Py;Iy.forEach(Ny=>{let{contentBoxSize:By,contentRect:Oy,target:Fy}=Ny;Fy&&Fy!==ua.el||(Ry=Oy?Oy.width:(By[0]||By).inlineSize,Vy=Oy?Oy.height:(By[0]||By).blockSize)}),(Ry!==Ly||Vy!==Py)&&Ay()})}),_y.observe(ua.el))},My=()=>{Ty&&ka.cancelAnimationFrame(Ty),_y&&_y.unobserve&&ua.el&&(_y.unobserve(ua.el),_y=null)},Dy=()=>{!ua||ua.destroyed||!ua.initialized||ba("orientationchange")};Sa("init",()=>{if(ua.params.resizeObserver&&typeof ka.ResizeObserver<"u"){Ey();return}ka.addEventListener("resize",Ay),ka.addEventListener("orientationchange",Dy)}),Sa("destroy",()=>{My(),ka.removeEventListener("resize",Ay),ka.removeEventListener("orientationchange",Dy)})}function yv(ha){let{swiper:ua,extendParams:Sa,on:ba,emit:ka}=ha;const _y=[],Ty=$e(),Ay=function(Dy,Iy){Iy===void 0&&(Iy={});const Ly=Ty.MutationObserver||Ty.WebkitMutationObserver,Py=new Ly(Ry=>{if(Ry.length===1){ka("observerUpdate",Ry[0]);return}const Vy=function(){ka("observerUpdate",Ry[0])};Ty.requestAnimationFrame?Ty.requestAnimationFrame(Vy):Ty.setTimeout(Vy,0)});Py.observe(Dy,{attributes:typeof Iy.attributes>"u"?!0:Iy.attributes,childList:typeof Iy.childList>"u"?!0:Iy.childList,characterData:typeof Iy.characterData>"u"?!0:Iy.characterData}),_y.push(Py)},Ey=()=>{if(ua.params.observer){if(ua.params.observeParents){const Dy=ua.$el.parents();for(let Iy=0;Iy<Dy.length;Iy+=1)Ay(Dy[Iy])}Ay(ua.$el[0],{childList:ua.params.observeSlideChildren}),Ay(ua.$wrapperEl[0],{attributes:!1})}},My=()=>{_y.forEach(Dy=>{Dy.disconnect()}),_y.splice(0,_y.length)};Sa({observer:!1,observeParents:!1,observeSlideChildren:!1}),ba("init",Ey),ba("destroy",My)}const kv={on(ha,ua,Sa){const ba=this;if(!ba.eventsListeners||ba.destroyed||typeof ua!="function")return ba;const ka=Sa?"unshift":"push";return ha.split(" ").forEach(_y=>{ba.eventsListeners[_y]||(ba.eventsListeners[_y]=[]),ba.eventsListeners[_y][ka](ua)}),ba},once(ha,ua,Sa){const ba=this;if(!ba.eventsListeners||ba.destroyed||typeof ua!="function")return ba;function ka(){ba.off(ha,ka),ka.__emitterProxy&&delete ka.__emitterProxy;for(var _y=arguments.length,Ty=new Array(_y),Ay=0;Ay<_y;Ay++)Ty[Ay]=arguments[Ay];ua.apply(ba,Ty)}return ka.__emitterProxy=ua,ba.on(ha,ka,Sa)},onAny(ha,ua){const Sa=this;if(!Sa.eventsListeners||Sa.destroyed||typeof ha!="function")return Sa;const ba=ua?"unshift":"push";return Sa.eventsAnyListeners.indexOf(ha)<0&&Sa.eventsAnyListeners[ba](ha),Sa},offAny(ha){const ua=this;if(!ua.eventsListeners||ua.destroyed||!ua.eventsAnyListeners)return ua;const Sa=ua.eventsAnyListeners.indexOf(ha);return Sa>=0&&ua.eventsAnyListeners.splice(Sa,1),ua},off(ha,ua){const Sa=this;return!Sa.eventsListeners||Sa.destroyed||!Sa.eventsListeners||ha.split(" ").forEach(ba=>{typeof ua>"u"?Sa.eventsListeners[ba]=[]:Sa.eventsListeners[ba]&&Sa.eventsListeners[ba].forEach((ka,_y)=>{(ka===ua||ka.__emitterProxy&&ka.__emitterProxy===ua)&&Sa.eventsListeners[ba].splice(_y,1)})}),Sa},emit(){const ha=this;if(!ha.eventsListeners||ha.destroyed||!ha.eventsListeners)return ha;let ua,Sa,ba;for(var ka=arguments.length,_y=new Array(ka),Ty=0;Ty<ka;Ty++)_y[Ty]=arguments[Ty];return typeof _y[0]=="string"||Array.isArray(_y[0])?(ua=_y[0],Sa=_y.slice(1,_y.length),ba=ha):(ua=_y[0].events,Sa=_y[0].data,ba=_y[0].context||ha),Sa.unshift(ba),(Array.isArray(ua)?ua:ua.split(" ")).forEach(Ay=>{ha.eventsAnyListeners&&ha.eventsAnyListeners.length&&ha.eventsAnyListeners.forEach(Ey=>{Ey.apply(ba,[Ay,...Sa])}),ha.eventsListeners&&ha.eventsListeners[Ay]&&ha.eventsListeners[Ay].forEach(Ey=>{Ey.apply(ba,Sa)})}),ha}};function Cv(){const ha=this;let ua,Sa;const ba=ha.$el;typeof ha.params.width<"u"&&ha.params.width!==null?ua=ha.params.width:ua=ba[0].clientWidth,typeof ha.params.height<"u"&&ha.params.height!==null?Sa=ha.params.height:Sa=ba[0].clientHeight,!(ua===0&&ha.isHorizontal()||Sa===0&&ha.isVertical())&&(ua=ua-parseInt(ba.css("padding-left")||0,10)-parseInt(ba.css("padding-right")||0,10),Sa=Sa-parseInt(ba.css("padding-top")||0,10)-parseInt(ba.css("padding-bottom")||0,10),Number.isNaN(ua)&&(ua=0),Number.isNaN(Sa)&&(Sa=0),Object.assign(ha,{width:ua,height:Sa,size:ha.isHorizontal()?ua:Sa}))}function $v(){const ha=this;function ua(jy){return ha.isHorizontal()?jy:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[jy]}function Sa(jy,Ky){return parseFloat(jy.getPropertyValue(ua(Ky))||0)}const ba=ha.params,{$wrapperEl:ka,size:_y,rtlTranslate:Ty,wrongRTL:Ay}=ha,Ey=ha.virtual&&ba.virtual.enabled,My=Ey?ha.virtual.slides.length:ha.slides.length,Dy=ka.children(`.${ha.params.slideClass}`),Iy=Ey?ha.virtual.slides.length:Dy.length;let Ly=[];const Py=[],Ry=[];let Vy=ba.slidesOffsetBefore;typeof Vy=="function"&&(Vy=ba.slidesOffsetBefore.call(ha));let Ny=ba.slidesOffsetAfter;typeof Ny=="function"&&(Ny=ba.slidesOffsetAfter.call(ha));const By=ha.snapGrid.length,Oy=ha.slidesGrid.length;let Fy=ba.spaceBetween,zy=-Vy,Hy=0,Gy=0;if(typeof _y>"u")return;typeof Fy=="string"&&Fy.indexOf("%")>=0&&(Fy=parseFloat(Fy.replace("%",""))/100*_y),ha.virtualSize=-Fy,Ty?Dy.css({marginLeft:"",marginBottom:"",marginTop:""}):Dy.css({marginRight:"",marginBottom:"",marginTop:""}),ba.centeredSlides&&ba.cssMode&&(Fi(ha.wrapperEl,"--swiper-centered-offset-before",""),Fi(ha.wrapperEl,"--swiper-centered-offset-after",""));const Wy=ba.grid&&ba.grid.rows>1&&ha.grid;Wy&&ha.grid.initSlides(Iy);let Uy;const Yy=ba.slidesPerView==="auto"&&ba.breakpoints&&Object.keys(ba.breakpoints).filter(jy=>typeof ba.breakpoints[jy].slidesPerView<"u").length>0;for(let jy=0;jy<Iy;jy+=1){Uy=0;const Ky=Dy.eq(jy);if(Wy&&ha.grid.updateSlide(jy,Ky,Iy,ua),Ky.css("display")!=="none"){if(ba.slidesPerView==="auto"){Yy&&(Dy[jy].style[ua("width")]="");const Xy=getComputedStyle(Ky[0]),Zy=Ky[0].style.transform,Jy=Ky[0].style.webkitTransform;if(Zy&&(Ky[0].style.transform="none"),Jy&&(Ky[0].style.webkitTransform="none"),ba.roundLengths)Uy=ha.isHorizontal()?Ky.outerWidth(!0):Ky.outerHeight(!0);else{const t_=Sa(Xy,"width"),Qy=Sa(Xy,"padding-left"),r_=Sa(Xy,"padding-right"),i_=Sa(Xy,"margin-left"),l_=Sa(Xy,"margin-right"),c_=Xy.getPropertyValue("box-sizing");if(c_&&c_==="border-box")Uy=t_+i_+l_;else{const{clientWidth:d_,offsetWidth:f_}=Ky[0];Uy=t_+Qy+r_+i_+l_+(f_-d_)}}Zy&&(Ky[0].style.transform=Zy),Jy&&(Ky[0].style.webkitTransform=Jy),ba.roundLengths&&(Uy=Math.floor(Uy))}else Uy=(_y-(ba.slidesPerView-1)*Fy)/ba.slidesPerView,ba.roundLengths&&(Uy=Math.floor(Uy)),Dy[jy]&&(Dy[jy].style[ua("width")]=`${Uy}px`);Dy[jy]&&(Dy[jy].swiperSlideSize=Uy),Ry.push(Uy),ba.centeredSlides?(zy=zy+Uy/2+Hy/2+Fy,Hy===0&&jy!==0&&(zy=zy-_y/2-Fy),jy===0&&(zy=zy-_y/2-Fy),Math.abs(zy)<1/1e3&&(zy=0),ba.roundLengths&&(zy=Math.floor(zy)),Gy%ba.slidesPerGroup===0&&Ly.push(zy),Py.push(zy)):(ba.roundLengths&&(zy=Math.floor(zy)),(Gy-Math.min(ha.params.slidesPerGroupSkip,Gy))%ha.params.slidesPerGroup===0&&Ly.push(zy),Py.push(zy),zy=zy+Uy+Fy),ha.virtualSize+=Uy+Fy,Hy=Uy,Gy+=1}}if(ha.virtualSize=Math.max(ha.virtualSize,_y)+Ny,Ty&&Ay&&(ba.effect==="slide"||ba.effect==="coverflow")&&ka.css({width:`${ha.virtualSize+ba.spaceBetween}px`}),ba.setWrapperSize&&ka.css({[ua("width")]:`${ha.virtualSize+ba.spaceBetween}px`}),Wy&&ha.grid.updateWrapperSize(Uy,Ly,ua),!ba.centeredSlides){const jy=[];for(let Ky=0;Ky<Ly.length;Ky+=1){let Xy=Ly[Ky];ba.roundLengths&&(Xy=Math.floor(Xy)),Ly[Ky]<=ha.virtualSize-_y&&jy.push(Xy)}Ly=jy,Math.floor(ha.virtualSize-_y)-Math.floor(Ly[Ly.length-1])>1&&Ly.push(ha.virtualSize-_y)}if(Ly.length===0&&(Ly=[0]),ba.spaceBetween!==0){const jy=ha.isHorizontal()&&Ty?"marginLeft":ua("marginRight");Dy.filter((Ky,Xy)=>ba.cssMode?Xy!==Dy.length-1:!0).css({[jy]:`${Fy}px`})}if(ba.centeredSlides&&ba.centeredSlidesBounds){let jy=0;Ry.forEach(Xy=>{jy+=Xy+(ba.spaceBetween?ba.spaceBetween:0)}),jy-=ba.spaceBetween;const Ky=jy-_y;Ly=Ly.map(Xy=>Xy<0?-Vy:Xy>Ky?Ky+Ny:Xy)}if(ba.centerInsufficientSlides){let jy=0;if(Ry.forEach(Ky=>{jy+=Ky+(ba.spaceBetween?ba.spaceBetween:0)}),jy-=ba.spaceBetween,jy<_y){const Ky=(_y-jy)/2;Ly.forEach((Xy,Zy)=>{Ly[Zy]=Xy-Ky}),Py.forEach((Xy,Zy)=>{Py[Zy]=Xy+Ky})}}if(Object.assign(ha,{slides:Dy,snapGrid:Ly,slidesGrid:Py,slidesSizesGrid:Ry}),ba.centeredSlides&&ba.cssMode&&!ba.centeredSlidesBounds){Fi(ha.wrapperEl,"--swiper-centered-offset-before",`${-Ly[0]}px`),Fi(ha.wrapperEl,"--swiper-centered-offset-after",`${ha.size/2-Ry[Ry.length-1]/2}px`);const jy=-ha.snapGrid[0],Ky=-ha.slidesGrid[0];ha.snapGrid=ha.snapGrid.map(Xy=>Xy+jy),ha.slidesGrid=ha.slidesGrid.map(Xy=>Xy+Ky)}if(Iy!==My&&ha.emit("slidesLengthChange"),Ly.length!==By&&(ha.params.watchOverflow&&ha.checkOverflow(),ha.emit("snapGridLengthChange")),Py.length!==Oy&&ha.emit("slidesGridLengthChange"),ba.watchSlidesProgress&&ha.updateSlidesOffset(),!Ey&&!ba.cssMode&&(ba.effect==="slide"||ba.effect==="fade")){const jy=`${ba.containerModifierClass}backface-hidden`,Ky=ha.$el.hasClass(jy);Iy<=ba.maxBackfaceHiddenSlides?Ky||ha.$el.addClass(jy):Ky&&ha.$el.removeClass(jy)}}function Sv(ha){const ua=this,Sa=[],ba=ua.virtual&&ua.params.virtual.enabled;let ka=0,_y;typeof ha=="number"?ua.setTransition(ha):ha===!0&&ua.setTransition(ua.params.speed);const Ty=Ay=>ba?ua.slides.filter(Ey=>parseInt(Ey.getAttribute("data-swiper-slide-index"),10)===Ay)[0]:ua.slides.eq(Ay)[0];if(ua.params.slidesPerView!=="auto"&&ua.params.slidesPerView>1)if(ua.params.centeredSlides)(ua.visibleSlides||X([])).each(Ay=>{Sa.push(Ay)});else for(_y=0;_y<Math.ceil(ua.params.slidesPerView);_y+=1){const Ay=ua.activeIndex+_y;if(Ay>ua.slides.length&&!ba)break;Sa.push(Ty(Ay))}else Sa.push(Ty(ua.activeIndex));for(_y=0;_y<Sa.length;_y+=1)if(typeof Sa[_y]<"u"){const Ay=Sa[_y].offsetHeight;ka=Ay>ka?Ay:ka}(ka||ka===0)&&ua.$wrapperEl.css("height",`${ka}px`)}function Vv(){const ha=this,ua=ha.slides;for(let Sa=0;Sa<ua.length;Sa+=1)ua[Sa].swiperSlideOffset=ha.isHorizontal()?ua[Sa].offsetLeft:ua[Sa].offsetTop}function Tv(ha){ha===void 0&&(ha=this&&this.translate||0);const ua=this,Sa=ua.params,{slides:ba,rtlTranslate:ka,snapGrid:_y}=ua;if(ba.length===0)return;typeof ba[0].swiperSlideOffset>"u"&&ua.updateSlidesOffset();let Ty=-ha;ka&&(Ty=ha),ba.removeClass(Sa.slideVisibleClass),ua.visibleSlidesIndexes=[],ua.visibleSlides=[];for(let Ay=0;Ay<ba.length;Ay+=1){const Ey=ba[Ay];let My=Ey.swiperSlideOffset;Sa.cssMode&&Sa.centeredSlides&&(My-=ba[0].swiperSlideOffset);const Dy=(Ty+(Sa.centeredSlides?ua.minTranslate():0)-My)/(Ey.swiperSlideSize+Sa.spaceBetween),Iy=(Ty-_y[0]+(Sa.centeredSlides?ua.minTranslate():0)-My)/(Ey.swiperSlideSize+Sa.spaceBetween),Ly=-(Ty-My),Py=Ly+ua.slidesSizesGrid[Ay];(Ly>=0&&Ly<ua.size-1||Py>1&&Py<=ua.size||Ly<=0&&Py>=ua.size)&&(ua.visibleSlides.push(Ey),ua.visibleSlidesIndexes.push(Ay),ba.eq(Ay).addClass(Sa.slideVisibleClass)),Ey.progress=ka?-Dy:Dy,Ey.originalProgress=ka?-Iy:Iy}ua.visibleSlides=X(ua.visibleSlides)}function xv(ha){const ua=this;if(typeof ha>"u"){const My=ua.rtlTranslate?-1:1;ha=ua&&ua.translate&&ua.translate*My||0}const Sa=ua.params,ba=ua.maxTranslate()-ua.minTranslate();let{progress:ka,isBeginning:_y,isEnd:Ty}=ua;const Ay=_y,Ey=Ty;ba===0?(ka=0,_y=!0,Ty=!0):(ka=(ha-ua.minTranslate())/ba,_y=ka<=0,Ty=ka>=1),Object.assign(ua,{progress:ka,isBeginning:_y,isEnd:Ty}),(Sa.watchSlidesProgress||Sa.centeredSlides&&Sa.autoHeight)&&ua.updateSlidesProgress(ha),_y&&!Ay&&ua.emit("reachBeginning toEdge"),Ty&&!Ey&&ua.emit("reachEnd toEdge"),(Ay&&!_y||Ey&&!Ty)&&ua.emit("fromEdge"),ua.emit("progress",ka)}function Iv(){const ha=this,{slides:ua,params:Sa,$wrapperEl:ba,activeIndex:ka,realIndex:_y}=ha,Ty=ha.virtual&&Sa.virtual.enabled;ua.removeClass(`${Sa.slideActiveClass} ${Sa.slideNextClass} ${Sa.slidePrevClass} ${Sa.slideDuplicateActiveClass} ${Sa.slideDuplicateNextClass} ${Sa.slideDuplicatePrevClass}`);let Ay;Ty?Ay=ha.$wrapperEl.find(`.${Sa.slideClass}[data-swiper-slide-index="${ka}"]`):Ay=ua.eq(ka),Ay.addClass(Sa.slideActiveClass),Sa.loop&&(Ay.hasClass(Sa.slideDuplicateClass)?ba.children(`.${Sa.slideClass}:not(.${Sa.slideDuplicateClass})[data-swiper-slide-index="${_y}"]`).addClass(Sa.slideDuplicateActiveClass):ba.children(`.${Sa.slideClass}.${Sa.slideDuplicateClass}[data-swiper-slide-index="${_y}"]`).addClass(Sa.slideDuplicateActiveClass));let Ey=Ay.nextAll(`.${Sa.slideClass}`).eq(0).addClass(Sa.slideNextClass);Sa.loop&&Ey.length===0&&(Ey=ua.eq(0),Ey.addClass(Sa.slideNextClass));let My=Ay.prevAll(`.${Sa.slideClass}`).eq(0).addClass(Sa.slidePrevClass);Sa.loop&&My.length===0&&(My=ua.eq(-1),My.addClass(Sa.slidePrevClass)),Sa.loop&&(Ey.hasClass(Sa.slideDuplicateClass)?ba.children(`.${Sa.slideClass}:not(.${Sa.slideDuplicateClass})[data-swiper-slide-index="${Ey.attr("data-swiper-slide-index")}"]`).addClass(Sa.slideDuplicateNextClass):ba.children(`.${Sa.slideClass}.${Sa.slideDuplicateClass}[data-swiper-slide-index="${Ey.attr("data-swiper-slide-index")}"]`).addClass(Sa.slideDuplicateNextClass),My.hasClass(Sa.slideDuplicateClass)?ba.children(`.${Sa.slideClass}:not(.${Sa.slideDuplicateClass})[data-swiper-slide-index="${My.attr("data-swiper-slide-index")}"]`).addClass(Sa.slideDuplicatePrevClass):ba.children(`.${Sa.slideClass}.${Sa.slideDuplicateClass}[data-swiper-slide-index="${My.attr("data-swiper-slide-index")}"]`).addClass(Sa.slideDuplicatePrevClass)),ha.emitSlidesClasses()}function Ev(ha){const ua=this,Sa=ua.rtlTranslate?ua.translate:-ua.translate,{slidesGrid:ba,snapGrid:ka,params:_y,activeIndex:Ty,realIndex:Ay,snapIndex:Ey}=ua;let My=ha,Dy;if(typeof My>"u"){for(let Ly=0;Ly<ba.length;Ly+=1)typeof ba[Ly+1]<"u"?Sa>=ba[Ly]&&Sa<ba[Ly+1]-(ba[Ly+1]-ba[Ly])/2?My=Ly:Sa>=ba[Ly]&&Sa<ba[Ly+1]&&(My=Ly+1):Sa>=ba[Ly]&&(My=Ly);_y.normalizeSlideIndex&&(My<0||typeof My>"u")&&(My=0)}if(ka.indexOf(Sa)>=0)Dy=ka.indexOf(Sa);else{const Ly=Math.min(_y.slidesPerGroupSkip,My);Dy=Ly+Math.floor((My-Ly)/_y.slidesPerGroup)}if(Dy>=ka.length&&(Dy=ka.length-1),My===Ty){Dy!==Ey&&(ua.snapIndex=Dy,ua.emit("snapIndexChange"));return}const Iy=parseInt(ua.slides.eq(My).attr("data-swiper-slide-index")||My,10);Object.assign(ua,{snapIndex:Dy,realIndex:Iy,previousIndex:Ty,activeIndex:My}),ua.emit("activeIndexChange"),ua.emit("snapIndexChange"),Ay!==Iy&&ua.emit("realIndexChange"),(ua.initialized||ua.params.runCallbacksOnInit)&&ua.emit("slideChange")}function Dv(ha){const ua=this,Sa=ua.params,ba=X(ha).closest(`.${Sa.slideClass}`)[0];let ka=!1,_y;if(ba){for(let Ty=0;Ty<ua.slides.length;Ty+=1)if(ua.slides[Ty]===ba){ka=!0,_y=Ty;break}}if(ba&&ka)ua.clickedSlide=ba,ua.virtual&&ua.params.virtual.enabled?ua.clickedIndex=parseInt(X(ba).attr("data-swiper-slide-index"),10):ua.clickedIndex=_y;else{ua.clickedSlide=void 0,ua.clickedIndex=void 0;return}Sa.slideToClickedSlide&&ua.clickedIndex!==void 0&&ua.clickedIndex!==ua.activeIndex&&ua.slideToClickedSlide()}const Lv={updateSize:Cv,updateSlides:$v,updateAutoHeight:Sv,updateSlidesOffset:Vv,updateSlidesProgress:Tv,updateProgress:xv,updateSlidesClasses:Iv,updateActiveIndex:Ev,updateClickedSlide:Dv};function Pv(ha){ha===void 0&&(ha=this.isHorizontal()?"x":"y");const ua=this,{params:Sa,rtlTranslate:ba,translate:ka,$wrapperEl:_y}=ua;if(Sa.virtualTranslate)return ba?-ka:ka;if(Sa.cssMode)return ka;let Ty=cv(_y[0],ha);return ba&&(Ty=-Ty),Ty||0}function Fv(ha,ua){const Sa=this,{rtlTranslate:ba,params:ka,$wrapperEl:_y,wrapperEl:Ty,progress:Ay}=Sa;let Ey=0,My=0;Sa.isHorizontal()?Ey=ba?-ha:ha:My=ha,ka.roundLengths&&(Ey=Math.floor(Ey),My=Math.floor(My)),ka.cssMode?Ty[Sa.isHorizontal()?"scrollLeft":"scrollTop"]=Sa.isHorizontal()?-Ey:-My:ka.virtualTranslate||_y.transform(`translate3d(${Ey}px, ${My}px, 0px)`),Sa.previousTranslate=Sa.translate,Sa.translate=Sa.isHorizontal()?Ey:My;let Iy;const Ly=Sa.maxTranslate()-Sa.minTranslate();Ly===0?Iy=0:Iy=(ha-Sa.minTranslate())/Ly,Iy!==Ay&&Sa.updateProgress(ha),Sa.emit("setTranslate",Sa.translate,ua)}function Mv(){return-this.snapGrid[0]}function Rv(){return-this.snapGrid[this.snapGrid.length-1]}function Bv(ha,ua,Sa,ba,ka){ha===void 0&&(ha=0),ua===void 0&&(ua=this.params.speed),Sa===void 0&&(Sa=!0),ba===void 0&&(ba=!0);const _y=this,{params:Ty,wrapperEl:Ay}=_y;if(_y.animating&&Ty.preventInteractionOnTransition)return!1;const Ey=_y.minTranslate(),My=_y.maxTranslate();let Dy;if(ba&&ha>Ey?Dy=Ey:ba&&ha<My?Dy=My:Dy=ha,_y.updateProgress(Dy),Ty.cssMode){const Iy=_y.isHorizontal();if(ua===0)Ay[Iy?"scrollLeft":"scrollTop"]=-Dy;else{if(!_y.support.smoothScroll)return So({swiper:_y,targetPosition:-Dy,side:Iy?"left":"top"}),!0;Ay.scrollTo({[Iy?"left":"top"]:-Dy,behavior:"smooth"})}return!0}return ua===0?(_y.setTransition(0),_y.setTranslate(Dy),Sa&&(_y.emit("beforeTransitionStart",ua,ka),_y.emit("transitionEnd"))):(_y.setTransition(ua),_y.setTranslate(Dy),Sa&&(_y.emit("beforeTransitionStart",ua,ka),_y.emit("transitionStart")),_y.animating||(_y.animating=!0,_y.onTranslateToWrapperTransitionEnd||(_y.onTranslateToWrapperTransitionEnd=function(Iy){!_y||_y.destroyed||Iy.target===this&&(_y.$wrapperEl[0].removeEventListener("transitionend",_y.onTranslateToWrapperTransitionEnd),_y.$wrapperEl[0].removeEventListener("webkitTransitionEnd",_y.onTranslateToWrapperTransitionEnd),_y.onTranslateToWrapperTransitionEnd=null,delete _y.onTranslateToWrapperTransitionEnd,Sa&&_y.emit("transitionEnd"))}),_y.$wrapperEl[0].addEventListener("transitionend",_y.onTranslateToWrapperTransitionEnd),_y.$wrapperEl[0].addEventListener("webkitTransitionEnd",_y.onTranslateToWrapperTransitionEnd))),!0}const _v={getTranslate:Pv,setTranslate:Fv,minTranslate:Mv,maxTranslate:Rv,translateTo:Bv};function Ov(ha,ua){const Sa=this;Sa.params.cssMode||Sa.$wrapperEl.transition(ha),Sa.emit("setTransition",ha,ua)}function To(ha){let{swiper:ua,runCallbacks:Sa,direction:ba,step:ka}=ha;const{activeIndex:_y,previousIndex:Ty}=ua;let Ay=ba;if(Ay||(_y>Ty?Ay="next":_y<Ty?Ay="prev":Ay="reset"),ua.emit(`transition${ka}`),Sa&&_y!==Ty){if(Ay==="reset"){ua.emit(`slideResetTransition${ka}`);return}ua.emit(`slideChangeTransition${ka}`),Ay==="next"?ua.emit(`slideNextTransition${ka}`):ua.emit(`slidePrevTransition${ka}`)}}function zv(ha,ua){ha===void 0&&(ha=!0);const Sa=this,{params:ba}=Sa;ba.cssMode||(ba.autoHeight&&Sa.updateAutoHeight(),To({swiper:Sa,runCallbacks:ha,direction:ua,step:"Start"}))}function Av(ha,ua){ha===void 0&&(ha=!0);const Sa=this,{params:ba}=Sa;Sa.animating=!1,!ba.cssMode&&(Sa.setTransition(0),To({swiper:Sa,runCallbacks:ha,direction:ua,step:"End"}))}const Wv={setTransition:Ov,transitionStart:zv,transitionEnd:Av};function Nv(ha,ua,Sa,ba,ka){if(ha===void 0&&(ha=0),ua===void 0&&(ua=this.params.speed),Sa===void 0&&(Sa=!0),typeof ha!="number"&&typeof ha!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof ha}] given.`);if(typeof ha=="string"){const Fy=parseInt(ha,10);if(!isFinite(Fy))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${ha}] given.`);ha=Fy}const _y=this;let Ty=ha;Ty<0&&(Ty=0);const{params:Ay,snapGrid:Ey,slidesGrid:My,previousIndex:Dy,activeIndex:Iy,rtlTranslate:Ly,wrapperEl:Py,enabled:Ry}=_y;if(_y.animating&&Ay.preventInteractionOnTransition||!Ry&&!ba&&!ka)return!1;const Vy=Math.min(_y.params.slidesPerGroupSkip,Ty);let Ny=Vy+Math.floor((Ty-Vy)/_y.params.slidesPerGroup);Ny>=Ey.length&&(Ny=Ey.length-1),(Iy||Ay.initialSlide||0)===(Dy||0)&&Sa&&_y.emit("beforeSlideChangeStart");const By=-Ey[Ny];if(_y.updateProgress(By),Ay.normalizeSlideIndex)for(let Fy=0;Fy<My.length;Fy+=1){const zy=-Math.floor(By*100),Hy=Math.floor(My[Fy]*100),Gy=Math.floor(My[Fy+1]*100);typeof My[Fy+1]<"u"?zy>=Hy&&zy<Gy-(Gy-Hy)/2?Ty=Fy:zy>=Hy&&zy<Gy&&(Ty=Fy+1):zy>=Hy&&(Ty=Fy)}if(_y.initialized&&Ty!==Iy&&(!_y.allowSlideNext&&By<_y.translate&&By<_y.minTranslate()||!_y.allowSlidePrev&&By>_y.translate&&By>_y.maxTranslate()&&(Iy||0)!==Ty))return!1;let Oy;if(Ty>Iy?Oy="next":Ty<Iy?Oy="prev":Oy="reset",Ly&&-By===_y.translate||!Ly&&By===_y.translate)return _y.updateActiveIndex(Ty),Ay.autoHeight&&_y.updateAutoHeight(),_y.updateSlidesClasses(),Ay.effect!=="slide"&&_y.setTranslate(By),Oy!=="reset"&&(_y.transitionStart(Sa,Oy),_y.transitionEnd(Sa,Oy)),!1;if(Ay.cssMode){const Fy=_y.isHorizontal(),zy=Ly?By:-By;if(ua===0){const Hy=_y.virtual&&_y.params.virtual.enabled;Hy&&(_y.wrapperEl.style.scrollSnapType="none",_y._immediateVirtual=!0),Py[Fy?"scrollLeft":"scrollTop"]=zy,Hy&&requestAnimationFrame(()=>{_y.wrapperEl.style.scrollSnapType="",_y._swiperImmediateVirtual=!1})}else{if(!_y.support.smoothScroll)return So({swiper:_y,targetPosition:zy,side:Fy?"left":"top"}),!0;Py.scrollTo({[Fy?"left":"top"]:zy,behavior:"smooth"})}return!0}return _y.setTransition(ua),_y.setTranslate(By),_y.updateActiveIndex(Ty),_y.updateSlidesClasses(),_y.emit("beforeTransitionStart",ua,ba),_y.transitionStart(Sa,Oy),ua===0?_y.transitionEnd(Sa,Oy):_y.animating||(_y.animating=!0,_y.onSlideToWrapperTransitionEnd||(_y.onSlideToWrapperTransitionEnd=function(Fy){!_y||_y.destroyed||Fy.target===this&&(_y.$wrapperEl[0].removeEventListener("transitionend",_y.onSlideToWrapperTransitionEnd),_y.$wrapperEl[0].removeEventListener("webkitTransitionEnd",_y.onSlideToWrapperTransitionEnd),_y.onSlideToWrapperTransitionEnd=null,delete _y.onSlideToWrapperTransitionEnd,_y.transitionEnd(Sa,Oy))}),_y.$wrapperEl[0].addEventListener("transitionend",_y.onSlideToWrapperTransitionEnd),_y.$wrapperEl[0].addEventListener("webkitTransitionEnd",_y.onSlideToWrapperTransitionEnd)),!0}function Hv(ha,ua,Sa,ba){if(ha===void 0&&(ha=0),ua===void 0&&(ua=this.params.speed),Sa===void 0&&(Sa=!0),typeof ha=="string"){const Ty=parseInt(ha,10);if(!isFinite(Ty))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${ha}] given.`);ha=Ty}const ka=this;let _y=ha;return ka.params.loop&&(_y+=ka.loopedSlides),ka.slideTo(_y,ua,Sa,ba)}function Gv(ha,ua,Sa){ha===void 0&&(ha=this.params.speed),ua===void 0&&(ua=!0);const ba=this,{animating:ka,enabled:_y,params:Ty}=ba;if(!_y)return ba;let Ay=Ty.slidesPerGroup;Ty.slidesPerView==="auto"&&Ty.slidesPerGroup===1&&Ty.slidesPerGroupAuto&&(Ay=Math.max(ba.slidesPerViewDynamic("current",!0),1));const Ey=ba.activeIndex<Ty.slidesPerGroupSkip?1:Ay;if(Ty.loop){if(ka&&Ty.loopPreventsSlide)return!1;ba.loopFix(),ba._clientLeft=ba.$wrapperEl[0].clientLeft}return Ty.rewind&&ba.isEnd?ba.slideTo(0,ha,ua,Sa):ba.slideTo(ba.activeIndex+Ey,ha,ua,Sa)}function Uv(ha,ua,Sa){ha===void 0&&(ha=this.params.speed),ua===void 0&&(ua=!0);const ba=this,{params:ka,animating:_y,snapGrid:Ty,slidesGrid:Ay,rtlTranslate:Ey,enabled:My}=ba;if(!My)return ba;if(ka.loop){if(_y&&ka.loopPreventsSlide)return!1;ba.loopFix(),ba._clientLeft=ba.$wrapperEl[0].clientLeft}const Dy=Ey?ba.translate:-ba.translate;function Iy(Ny){return Ny<0?-Math.floor(Math.abs(Ny)):Math.floor(Ny)}const Ly=Iy(Dy),Py=Ty.map(Ny=>Iy(Ny));let Ry=Ty[Py.indexOf(Ly)-1];if(typeof Ry>"u"&&ka.cssMode){let Ny;Ty.forEach((By,Oy)=>{Ly>=By&&(Ny=Oy)}),typeof Ny<"u"&&(Ry=Ty[Ny>0?Ny-1:Ny])}let Vy=0;if(typeof Ry<"u"&&(Vy=Ay.indexOf(Ry),Vy<0&&(Vy=ba.activeIndex-1),ka.slidesPerView==="auto"&&ka.slidesPerGroup===1&&ka.slidesPerGroupAuto&&(Vy=Vy-ba.slidesPerViewDynamic("previous",!0)+1,Vy=Math.max(Vy,0))),ka.rewind&&ba.isBeginning){const Ny=ba.params.virtual&&ba.params.virtual.enabled&&ba.virtual?ba.virtual.slides.length-1:ba.slides.length-1;return ba.slideTo(Ny,ha,ua,Sa)}return ba.slideTo(Vy,ha,ua,Sa)}function Yv(ha,ua,Sa){ha===void 0&&(ha=this.params.speed),ua===void 0&&(ua=!0);const ba=this;return ba.slideTo(ba.activeIndex,ha,ua,Sa)}function jv(ha,ua,Sa,ba){ha===void 0&&(ha=this.params.speed),ua===void 0&&(ua=!0),ba===void 0&&(ba=.5);const ka=this;let _y=ka.activeIndex;const Ty=Math.min(ka.params.slidesPerGroupSkip,_y),Ay=Ty+Math.floor((_y-Ty)/ka.params.slidesPerGroup),Ey=ka.rtlTranslate?ka.translate:-ka.translate;if(Ey>=ka.snapGrid[Ay]){const My=ka.snapGrid[Ay],Dy=ka.snapGrid[Ay+1];Ey-My>(Dy-My)*ba&&(_y+=ka.params.slidesPerGroup)}else{const My=ka.snapGrid[Ay-1],Dy=ka.snapGrid[Ay];Ey-My<=(Dy-My)*ba&&(_y-=ka.params.slidesPerGroup)}return _y=Math.max(_y,0),_y=Math.min(_y,ka.slidesGrid.length-1),ka.slideTo(_y,ha,ua,Sa)}function qv(){const ha=this,{params:ua,$wrapperEl:Sa}=ha,ba=ua.slidesPerView==="auto"?ha.slidesPerViewDynamic():ua.slidesPerView;let ka=ha.clickedIndex,_y;if(ua.loop){if(ha.animating)return;_y=parseInt(X(ha.clickedSlide).attr("data-swiper-slide-index"),10),ua.centeredSlides?ka<ha.loopedSlides-ba/2||ka>ha.slides.length-ha.loopedSlides+ba/2?(ha.loopFix(),ka=Sa.children(`.${ua.slideClass}[data-swiper-slide-index="${_y}"]:not(.${ua.slideDuplicateClass})`).eq(0).index(),js(()=>{ha.slideTo(ka)})):ha.slideTo(ka):ka>ha.slides.length-ba?(ha.loopFix(),ka=Sa.children(`.${ua.slideClass}[data-swiper-slide-index="${_y}"]:not(.${ua.slideDuplicateClass})`).eq(0).index(),js(()=>{ha.slideTo(ka)})):ha.slideTo(ka)}else ha.slideTo(ka)}const Xv={slideTo:Nv,slideToLoop:Hv,slideNext:Gv,slidePrev:Uv,slideReset:Yv,slideToClosest:jv,slideToClickedSlide:qv};function Kv(){const ha=this,ua=Ae(),{params:Sa,$wrapperEl:ba}=ha,ka=ba.children().length>0?X(ba.children()[0].parentNode):ba;ka.children(`.${Sa.slideClass}.${Sa.slideDuplicateClass}`).remove();let _y=ka.children(`.${Sa.slideClass}`);if(Sa.loopFillGroupWithBlank){const Ey=Sa.slidesPerGroup-_y.length%Sa.slidesPerGroup;if(Ey!==Sa.slidesPerGroup){for(let My=0;My<Ey;My+=1){const Dy=X(ua.createElement("div")).addClass(`${Sa.slideClass} ${Sa.slideBlankClass}`);ka.append(Dy)}_y=ka.children(`.${Sa.slideClass}`)}}Sa.slidesPerView==="auto"&&!Sa.loopedSlides&&(Sa.loopedSlides=_y.length),ha.loopedSlides=Math.ceil(parseFloat(Sa.loopedSlides||Sa.slidesPerView,10)),ha.loopedSlides+=Sa.loopAdditionalSlides,ha.loopedSlides>_y.length&&ha.params.loopedSlidesLimit&&(ha.loopedSlides=_y.length);const Ty=[],Ay=[];_y.each((Ey,My)=>{X(Ey).attr("data-swiper-slide-index",My)});for(let Ey=0;Ey<ha.loopedSlides;Ey+=1){const My=Ey-Math.floor(Ey/_y.length)*_y.length;Ay.push(_y.eq(My)[0]),Ty.unshift(_y.eq(_y.length-My-1)[0])}for(let Ey=0;Ey<Ay.length;Ey+=1)ka.append(X(Ay[Ey].cloneNode(!0)).addClass(Sa.slideDuplicateClass));for(let Ey=Ty.length-1;Ey>=0;Ey-=1)ka.prepend(X(Ty[Ey].cloneNode(!0)).addClass(Sa.slideDuplicateClass))}function Jv(){const ha=this;ha.emit("beforeLoopFix");const{activeIndex:ua,slides:Sa,loopedSlides:ba,allowSlidePrev:ka,allowSlideNext:_y,snapGrid:Ty,rtlTranslate:Ay}=ha;let Ey;ha.allowSlidePrev=!0,ha.allowSlideNext=!0;const My=-Ty[ua]-ha.getTranslate();ua<ba?(Ey=Sa.length-ba*3+ua,Ey+=ba,ha.slideTo(Ey,0,!1,!0)&&My!==0&&ha.setTranslate((Ay?-ha.translate:ha.translate)-My)):ua>=Sa.length-ba&&(Ey=-Sa.length+ua+ba,Ey+=ba,ha.slideTo(Ey,0,!1,!0)&&My!==0&&ha.setTranslate((Ay?-ha.translate:ha.translate)-My)),ha.allowSlidePrev=ka,ha.allowSlideNext=_y,ha.emit("loopFix")}function Qv(){const ha=this,{$wrapperEl:ua,params:Sa,slides:ba}=ha;ua.children(`.${Sa.slideClass}.${Sa.slideDuplicateClass},.${Sa.slideClass}.${Sa.slideBlankClass}`).remove(),ba.removeAttr("data-swiper-slide-index")}const Zv={loopCreate:Kv,loopFix:Jv,loopDestroy:Qv};function e0(ha){const ua=this;if(ua.support.touch||!ua.params.simulateTouch||ua.params.watchOverflow&&ua.isLocked||ua.params.cssMode)return;const Sa=ua.params.touchEventsTarget==="container"?ua.el:ua.wrapperEl;Sa.style.cursor="move",Sa.style.cursor=ha?"grabbing":"grab"}function t0(){const ha=this;ha.support.touch||ha.params.watchOverflow&&ha.isLocked||ha.params.cssMode||(ha[ha.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const i0={setGrabCursor:e0,unsetGrabCursor:t0};function s0(ha,ua){ua===void 0&&(ua=this);function Sa(ba){if(!ba||ba===Ae()||ba===$e())return null;ba.assignedSlot&&(ba=ba.assignedSlot);const ka=ba.closest(ha);return!ka&&!ba.getRootNode?null:ka||Sa(ba.getRootNode().host)}return Sa(ua)}function n0(ha){const ua=this,Sa=Ae(),ba=$e(),ka=ua.touchEventsData,{params:_y,touches:Ty,enabled:Ay}=ua;if(!Ay||ua.animating&&_y.preventInteractionOnTransition)return;!ua.animating&&_y.cssMode&&_y.loop&&ua.loopFix();let Ey=ha;Ey.originalEvent&&(Ey=Ey.originalEvent);let My=X(Ey.target);if(_y.touchEventsTarget==="wrapper"&&!My.closest(ua.wrapperEl).length||(ka.isTouchEvent=Ey.type==="touchstart",!ka.isTouchEvent&&"which"in Ey&&Ey.which===3)||!ka.isTouchEvent&&"button"in Ey&&Ey.button>0||ka.isTouched&&ka.isMoved)return;_y.noSwipingClass&&_y.noSwipingClass!==""&&Ey.target&&Ey.target.shadowRoot&&ha.path&&ha.path[0]&&(My=X(ha.path[0]));const Dy=_y.noSwipingSelector?_y.noSwipingSelector:`.${_y.noSwipingClass}`,Iy=!!(Ey.target&&Ey.target.shadowRoot);if(_y.noSwiping&&(Iy?s0(Dy,My[0]):My.closest(Dy)[0])){ua.allowClick=!0;return}if(_y.swipeHandler&&!My.closest(_y.swipeHandler)[0])return;Ty.currentX=Ey.type==="touchstart"?Ey.targetTouches[0].pageX:Ey.pageX,Ty.currentY=Ey.type==="touchstart"?Ey.targetTouches[0].pageY:Ey.pageY;const Ly=Ty.currentX,Py=Ty.currentY,Ry=_y.edgeSwipeDetection||_y.iOSEdgeSwipeDetection,Vy=_y.edgeSwipeThreshold||_y.iOSEdgeSwipeThreshold;if(Ry&&(Ly<=Vy||Ly>=ba.innerWidth-Vy))if(Ry==="prevent")ha.preventDefault();else return;if(Object.assign(ka,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),Ty.startX=Ly,Ty.startY=Py,ka.touchStartTime=ki(),ua.allowClick=!0,ua.updateSize(),ua.swipeDirection=void 0,_y.threshold>0&&(ka.allowThresholdMove=!1),Ey.type!=="touchstart"){let Ny=!0;My.is(ka.focusableElements)&&(Ny=!1,My[0].nodeName==="SELECT"&&(ka.isTouched=!1)),Sa.activeElement&&X(Sa.activeElement).is(ka.focusableElements)&&Sa.activeElement!==My[0]&&Sa.activeElement.blur();const By=Ny&&ua.allowTouchMove&&_y.touchStartPreventDefault;(_y.touchStartForcePreventDefault||By)&&!My[0].isContentEditable&&Ey.preventDefault()}ua.params.freeMode&&ua.params.freeMode.enabled&&ua.freeMode&&ua.animating&&!_y.cssMode&&ua.freeMode.onTouchStart(),ua.emit("touchStart",Ey)}function r0(ha){const ua=Ae(),Sa=this,ba=Sa.touchEventsData,{params:ka,touches:_y,rtlTranslate:Ty,enabled:Ay}=Sa;if(!Ay)return;let Ey=ha;if(Ey.originalEvent&&(Ey=Ey.originalEvent),!ba.isTouched){ba.startMoving&&ba.isScrolling&&Sa.emit("touchMoveOpposite",Ey);return}if(ba.isTouchEvent&&Ey.type!=="touchmove")return;const My=Ey.type==="touchmove"&&Ey.targetTouches&&(Ey.targetTouches[0]||Ey.changedTouches[0]),Dy=Ey.type==="touchmove"?My.pageX:Ey.pageX,Iy=Ey.type==="touchmove"?My.pageY:Ey.pageY;if(Ey.preventedByNestedSwiper){_y.startX=Dy,_y.startY=Iy;return}if(!Sa.allowTouchMove){X(Ey.target).is(ba.focusableElements)||(Sa.allowClick=!1),ba.isTouched&&(Object.assign(_y,{startX:Dy,startY:Iy,currentX:Dy,currentY:Iy}),ba.touchStartTime=ki());return}if(ba.isTouchEvent&&ka.touchReleaseOnEdges&&!ka.loop){if(Sa.isVertical()){if(Iy<_y.startY&&Sa.translate<=Sa.maxTranslate()||Iy>_y.startY&&Sa.translate>=Sa.minTranslate()){ba.isTouched=!1,ba.isMoved=!1;return}}else if(Dy<_y.startX&&Sa.translate<=Sa.maxTranslate()||Dy>_y.startX&&Sa.translate>=Sa.minTranslate())return}if(ba.isTouchEvent&&ua.activeElement&&Ey.target===ua.activeElement&&X(Ey.target).is(ba.focusableElements)){ba.isMoved=!0,Sa.allowClick=!1;return}if(ba.allowTouchCallbacks&&Sa.emit("touchMove",Ey),Ey.targetTouches&&Ey.targetTouches.length>1)return;_y.currentX=Dy,_y.currentY=Iy;const Ly=_y.currentX-_y.startX,Py=_y.currentY-_y.startY;if(Sa.params.threshold&&Math.sqrt(Ly**2+Py**2)<Sa.params.threshold)return;if(typeof ba.isScrolling>"u"){let By;Sa.isHorizontal()&&_y.currentY===_y.startY||Sa.isVertical()&&_y.currentX===_y.startX?ba.isScrolling=!1:Ly*Ly+Py*Py>=25&&(By=Math.atan2(Math.abs(Py),Math.abs(Ly))*180/Math.PI,ba.isScrolling=Sa.isHorizontal()?By>ka.touchAngle:90-By>ka.touchAngle)}if(ba.isScrolling&&Sa.emit("touchMoveOpposite",Ey),typeof ba.startMoving>"u"&&(_y.currentX!==_y.startX||_y.currentY!==_y.startY)&&(ba.startMoving=!0),ba.isScrolling){ba.isTouched=!1;return}if(!ba.startMoving)return;Sa.allowClick=!1,!ka.cssMode&&Ey.cancelable&&Ey.preventDefault(),ka.touchMoveStopPropagation&&!ka.nested&&Ey.stopPropagation(),ba.isMoved||(ka.loop&&!ka.cssMode&&Sa.loopFix(),ba.startTranslate=Sa.getTranslate(),Sa.setTransition(0),Sa.animating&&Sa.$wrapperEl.trigger("webkitTransitionEnd transitionend"),ba.allowMomentumBounce=!1,ka.grabCursor&&(Sa.allowSlideNext===!0||Sa.allowSlidePrev===!0)&&Sa.setGrabCursor(!0),Sa.emit("sliderFirstMove",Ey)),Sa.emit("sliderMove",Ey),ba.isMoved=!0;let Ry=Sa.isHorizontal()?Ly:Py;_y.diff=Ry,Ry*=ka.touchRatio,Ty&&(Ry=-Ry),Sa.swipeDirection=Ry>0?"prev":"next",ba.currentTranslate=Ry+ba.startTranslate;let Vy=!0,Ny=ka.resistanceRatio;if(ka.touchReleaseOnEdges&&(Ny=0),Ry>0&&ba.currentTranslate>Sa.minTranslate()?(Vy=!1,ka.resistance&&(ba.currentTranslate=Sa.minTranslate()-1+(-Sa.minTranslate()+ba.startTranslate+Ry)**Ny)):Ry<0&&ba.currentTranslate<Sa.maxTranslate()&&(Vy=!1,ka.resistance&&(ba.currentTranslate=Sa.maxTranslate()+1-(Sa.maxTranslate()-ba.startTranslate-Ry)**Ny)),Vy&&(Ey.preventedByNestedSwiper=!0),!Sa.allowSlideNext&&Sa.swipeDirection==="next"&&ba.currentTranslate<ba.startTranslate&&(ba.currentTranslate=ba.startTranslate),!Sa.allowSlidePrev&&Sa.swipeDirection==="prev"&&ba.currentTranslate>ba.startTranslate&&(ba.currentTranslate=ba.startTranslate),!Sa.allowSlidePrev&&!Sa.allowSlideNext&&(ba.currentTranslate=ba.startTranslate),ka.threshold>0)if(Math.abs(Ry)>ka.threshold||ba.allowThresholdMove){if(!ba.allowThresholdMove){ba.allowThresholdMove=!0,_y.startX=_y.currentX,_y.startY=_y.currentY,ba.currentTranslate=ba.startTranslate,_y.diff=Sa.isHorizontal()?_y.currentX-_y.startX:_y.currentY-_y.startY;return}}else{ba.currentTranslate=ba.startTranslate;return}!ka.followFinger||ka.cssMode||((ka.freeMode&&ka.freeMode.enabled&&Sa.freeMode||ka.watchSlidesProgress)&&(Sa.updateActiveIndex(),Sa.updateSlidesClasses()),Sa.params.freeMode&&ka.freeMode.enabled&&Sa.freeMode&&Sa.freeMode.onTouchMove(),Sa.updateProgress(ba.currentTranslate),Sa.setTranslate(ba.currentTranslate))}function o0(ha){const ua=this,Sa=ua.touchEventsData,{params:ba,touches:ka,rtlTranslate:_y,slidesGrid:Ty,enabled:Ay}=ua;if(!Ay)return;let Ey=ha;if(Ey.originalEvent&&(Ey=Ey.originalEvent),Sa.allowTouchCallbacks&&ua.emit("touchEnd",Ey),Sa.allowTouchCallbacks=!1,!Sa.isTouched){Sa.isMoved&&ba.grabCursor&&ua.setGrabCursor(!1),Sa.isMoved=!1,Sa.startMoving=!1;return}ba.grabCursor&&Sa.isMoved&&Sa.isTouched&&(ua.allowSlideNext===!0||ua.allowSlidePrev===!0)&&ua.setGrabCursor(!1);const My=ki(),Dy=My-Sa.touchStartTime;if(ua.allowClick){const Oy=Ey.path||Ey.composedPath&&Ey.composedPath();ua.updateClickedSlide(Oy&&Oy[0]||Ey.target),ua.emit("tap click",Ey),Dy<300&&My-Sa.lastClickTime<300&&ua.emit("doubleTap doubleClick",Ey)}if(Sa.lastClickTime=ki(),js(()=>{ua.destroyed||(ua.allowClick=!0)}),!Sa.isTouched||!Sa.isMoved||!ua.swipeDirection||ka.diff===0||Sa.currentTranslate===Sa.startTranslate){Sa.isTouched=!1,Sa.isMoved=!1,Sa.startMoving=!1;return}Sa.isTouched=!1,Sa.isMoved=!1,Sa.startMoving=!1;let Iy;if(ba.followFinger?Iy=_y?ua.translate:-ua.translate:Iy=-Sa.currentTranslate,ba.cssMode)return;if(ua.params.freeMode&&ba.freeMode.enabled){ua.freeMode.onTouchEnd({currentPos:Iy});return}let Ly=0,Py=ua.slidesSizesGrid[0];for(let Oy=0;Oy<Ty.length;Oy+=Oy<ba.slidesPerGroupSkip?1:ba.slidesPerGroup){const Fy=Oy<ba.slidesPerGroupSkip-1?1:ba.slidesPerGroup;typeof Ty[Oy+Fy]<"u"?Iy>=Ty[Oy]&&Iy<Ty[Oy+Fy]&&(Ly=Oy,Py=Ty[Oy+Fy]-Ty[Oy]):Iy>=Ty[Oy]&&(Ly=Oy,Py=Ty[Ty.length-1]-Ty[Ty.length-2])}let Ry=null,Vy=null;ba.rewind&&(ua.isBeginning?Vy=ua.params.virtual&&ua.params.virtual.enabled&&ua.virtual?ua.virtual.slides.length-1:ua.slides.length-1:ua.isEnd&&(Ry=0));const Ny=(Iy-Ty[Ly])/Py,By=Ly<ba.slidesPerGroupSkip-1?1:ba.slidesPerGroup;if(Dy>ba.longSwipesMs){if(!ba.longSwipes){ua.slideTo(ua.activeIndex);return}ua.swipeDirection==="next"&&(Ny>=ba.longSwipesRatio?ua.slideTo(ba.rewind&&ua.isEnd?Ry:Ly+By):ua.slideTo(Ly)),ua.swipeDirection==="prev"&&(Ny>1-ba.longSwipesRatio?ua.slideTo(Ly+By):Vy!==null&&Ny<0&&Math.abs(Ny)>ba.longSwipesRatio?ua.slideTo(Vy):ua.slideTo(Ly))}else{if(!ba.shortSwipes){ua.slideTo(ua.activeIndex);return}ua.navigation&&(Ey.target===ua.navigation.nextEl||Ey.target===ua.navigation.prevEl)?Ey.target===ua.navigation.nextEl?ua.slideTo(Ly+By):ua.slideTo(Ly):(ua.swipeDirection==="next"&&ua.slideTo(Ry!==null?Ry:Ly+By),ua.swipeDirection==="prev"&&ua.slideTo(Vy!==null?Vy:Ly))}}function On(){const ha=this,{params:ua,el:Sa}=ha;if(Sa&&Sa.offsetWidth===0)return;ua.breakpoints&&ha.setBreakpoint();const{allowSlideNext:ba,allowSlidePrev:ka,snapGrid:_y}=ha;ha.allowSlideNext=!0,ha.allowSlidePrev=!0,ha.updateSize(),ha.updateSlides(),ha.updateSlidesClasses(),(ua.slidesPerView==="auto"||ua.slidesPerView>1)&&ha.isEnd&&!ha.isBeginning&&!ha.params.centeredSlides?ha.slideTo(ha.slides.length-1,0,!1,!0):ha.slideTo(ha.activeIndex,0,!1,!0),ha.autoplay&&ha.autoplay.running&&ha.autoplay.paused&&ha.autoplay.run(),ha.allowSlidePrev=ka,ha.allowSlideNext=ba,ha.params.watchOverflow&&_y!==ha.snapGrid&&ha.checkOverflow()}function a0(ha){const ua=this;!ua.enabled||ua.allowClick||(ua.params.preventClicks&&ha.preventDefault(),ua.params.preventClicksPropagation&&ua.animating&&(ha.stopPropagation(),ha.stopImmediatePropagation()))}function l0(){const ha=this,{wrapperEl:ua,rtlTranslate:Sa,enabled:ba}=ha;if(!ba)return;ha.previousTranslate=ha.translate,ha.isHorizontal()?ha.translate=-ua.scrollLeft:ha.translate=-ua.scrollTop,ha.translate===0&&(ha.translate=0),ha.updateActiveIndex(),ha.updateSlidesClasses();let ka;const _y=ha.maxTranslate()-ha.minTranslate();_y===0?ka=0:ka=(ha.translate-ha.minTranslate())/_y,ka!==ha.progress&&ha.updateProgress(Sa?-ha.translate:ha.translate),ha.emit("setTranslate",ha.translate,!1)}let zn=!1;function d0(){}const xo=(ha,ua)=>{const Sa=Ae(),{params:ba,touchEvents:ka,el:_y,wrapperEl:Ty,device:Ay,support:Ey}=ha,My=!!ba.nested,Dy=ua==="on"?"addEventListener":"removeEventListener",Iy=ua;if(!Ey.touch)_y[Dy](ka.start,ha.onTouchStart,!1),Sa[Dy](ka.move,ha.onTouchMove,My),Sa[Dy](ka.end,ha.onTouchEnd,!1);else{const Ly=ka.start==="touchstart"&&Ey.passiveListener&&ba.passiveListeners?{passive:!0,capture:!1}:!1;_y[Dy](ka.start,ha.onTouchStart,Ly),_y[Dy](ka.move,ha.onTouchMove,Ey.passiveListener?{passive:!1,capture:My}:My),_y[Dy](ka.end,ha.onTouchEnd,Ly),ka.cancel&&_y[Dy](ka.cancel,ha.onTouchEnd,Ly)}(ba.preventClicks||ba.preventClicksPropagation)&&_y[Dy]("click",ha.onClick,!0),ba.cssMode&&Ty[Dy]("scroll",ha.onScroll),ba.updateOnWindowResize?ha[Iy](Ay.ios||Ay.android?"resize orientationchange observerUpdate":"resize observerUpdate",On,!0):ha[Iy]("observerUpdate",On,!0)};function u0(){const ha=this,ua=Ae(),{params:Sa,support:ba}=ha;ha.onTouchStart=n0.bind(ha),ha.onTouchMove=r0.bind(ha),ha.onTouchEnd=o0.bind(ha),Sa.cssMode&&(ha.onScroll=l0.bind(ha)),ha.onClick=a0.bind(ha),ba.touch&&!zn&&(ua.addEventListener("touchstart",d0),zn=!0),xo(ha,"on")}function h0(){xo(this,"off")}const c0={attachEvents:u0,detachEvents:h0},An=(ha,ua)=>ha.grid&&ua.grid&&ua.grid.rows>1;function f0(){const ha=this,{activeIndex:ua,initialized:Sa,loopedSlides:ba=0,params:ka,$el:_y}=ha,Ty=ka.breakpoints;if(!Ty||Ty&&Object.keys(Ty).length===0)return;const Ay=ha.getBreakpoint(Ty,ha.params.breakpointsBase,ha.el);if(!Ay||ha.currentBreakpoint===Ay)return;const Ey=(Ay in Ty?Ty[Ay]:void 0)||ha.originalParams,My=An(ha,ka),Dy=An(ha,Ey),Iy=ka.enabled;My&&!Dy?(_y.removeClass(`${ka.containerModifierClass}grid ${ka.containerModifierClass}grid-column`),ha.emitContainerClasses()):!My&&Dy&&(_y.addClass(`${ka.containerModifierClass}grid`),(Ey.grid.fill&&Ey.grid.fill==="column"||!Ey.grid.fill&&ka.grid.fill==="column")&&_y.addClass(`${ka.containerModifierClass}grid-column`),ha.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(Vy=>{const Ny=ka[Vy]&&ka[Vy].enabled,By=Ey[Vy]&&Ey[Vy].enabled;Ny&&!By&&ha[Vy].disable(),!Ny&&By&&ha[Vy].enable()});const Ly=Ey.direction&&Ey.direction!==ka.direction,Py=ka.loop&&(Ey.slidesPerView!==ka.slidesPerView||Ly);Ly&&Sa&&ha.changeDirection(),_e(ha.params,Ey);const Ry=ha.params.enabled;Object.assign(ha,{allowTouchMove:ha.params.allowTouchMove,allowSlideNext:ha.params.allowSlideNext,allowSlidePrev:ha.params.allowSlidePrev}),Iy&&!Ry?ha.disable():!Iy&&Ry&&ha.enable(),ha.currentBreakpoint=Ay,ha.emit("_beforeBreakpoint",Ey),Py&&Sa&&(ha.loopDestroy(),ha.loopCreate(),ha.updateSlides(),ha.slideTo(ua-ba+ha.loopedSlides,0,!1)),ha.emit("breakpoint",Ey)}function m0(ha,ua,Sa){if(ua===void 0&&(ua="window"),!ha||ua==="container"&&!Sa)return;let ba=!1;const ka=$e(),_y=ua==="window"?ka.innerHeight:Sa.clientHeight,Ty=Object.keys(ha).map(Ay=>{if(typeof Ay=="string"&&Ay.indexOf("@")===0){const Ey=parseFloat(Ay.substr(1));return{value:_y*Ey,point:Ay}}return{value:Ay,point:Ay}});Ty.sort((Ay,Ey)=>parseInt(Ay.value,10)-parseInt(Ey.value,10));for(let Ay=0;Ay<Ty.length;Ay+=1){const{point:Ey,value:My}=Ty[Ay];ua==="window"?ka.matchMedia(`(min-width: ${My}px)`).matches&&(ba=Ey):My<=Sa.clientWidth&&(ba=Ey)}return ba||"max"}const g0={setBreakpoint:f0,getBreakpoint:m0};function p0(ha,ua){const Sa=[];return ha.forEach(ba=>{typeof ba=="object"?Object.keys(ba).forEach(ka=>{ba[ka]&&Sa.push(ua+ka)}):typeof ba=="string"&&Sa.push(ua+ba)}),Sa}function v0(){const ha=this,{classNames:ua,params:Sa,rtl:ba,$el:ka,device:_y,support:Ty}=ha,Ay=p0(["initialized",Sa.direction,{"pointer-events":!Ty.touch},{"free-mode":ha.params.freeMode&&Sa.freeMode.enabled},{autoheight:Sa.autoHeight},{rtl:ba},{grid:Sa.grid&&Sa.grid.rows>1},{"grid-column":Sa.grid&&Sa.grid.rows>1&&Sa.grid.fill==="column"},{android:_y.android},{ios:_y.ios},{"css-mode":Sa.cssMode},{centered:Sa.cssMode&&Sa.centeredSlides},{"watch-progress":Sa.watchSlidesProgress}],Sa.containerModifierClass);ua.push(...Ay),ka.addClass([...ua].join(" ")),ha.emitContainerClasses()}function b0(){const ha=this,{$el:ua,classNames:Sa}=ha;ua.removeClass(Sa.join(" ")),ha.emitContainerClasses()}const w0={addClasses:v0,removeClasses:b0};function y0(ha,ua,Sa,ba,ka,_y){const Ty=$e();let Ay;function Ey(){_y&&_y()}!X(ha).parent("picture")[0]&&(!ha.complete||!ka)&&ua?(Ay=new Ty.Image,Ay.onload=Ey,Ay.onerror=Ey,ba&&(Ay.sizes=ba),Sa&&(Ay.srcset=Sa),ua&&(Ay.src=ua)):Ey()}function k0(){const ha=this;ha.imagesToLoad=ha.$el.find("img");function ua(){typeof ha>"u"||ha===null||!ha||ha.destroyed||(ha.imagesLoaded!==void 0&&(ha.imagesLoaded+=1),ha.imagesLoaded===ha.imagesToLoad.length&&(ha.params.updateOnImagesReady&&ha.update(),ha.emit("imagesReady")))}for(let Sa=0;Sa<ha.imagesToLoad.length;Sa+=1){const ba=ha.imagesToLoad[Sa];ha.loadImage(ba,ba.currentSrc||ba.getAttribute("src"),ba.srcset||ba.getAttribute("srcset"),ba.sizes||ba.getAttribute("sizes"),!0,ua)}}const C0={loadImage:y0,preloadImages:k0};function $0(){const ha=this,{isLocked:ua,params:Sa}=ha,{slidesOffsetBefore:ba}=Sa;if(ba){const ka=ha.slides.length-1,_y=ha.slidesGrid[ka]+ha.slidesSizesGrid[ka]+ba*2;ha.isLocked=ha.size>_y}else ha.isLocked=ha.snapGrid.length===1;Sa.allowSlideNext===!0&&(ha.allowSlideNext=!ha.isLocked),Sa.allowSlidePrev===!0&&(ha.allowSlidePrev=!ha.isLocked),ua&&ua!==ha.isLocked&&(ha.isEnd=!1),ua!==ha.isLocked&&ha.emit(ha.isLocked?"lock":"unlock")}const S0={checkOverflow:$0},Wn={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function V0(ha,ua){return function(Sa){Sa===void 0&&(Sa={});const ba=Object.keys(Sa)[0],ka=Sa[ba];if(typeof ka!="object"||ka===null){_e(ua,Sa);return}if(["navigation","pagination","scrollbar"].indexOf(ba)>=0&&ha[ba]===!0&&(ha[ba]={auto:!0}),!(ba in ha&&"enabled"in ka)){_e(ua,Sa);return}ha[ba]===!0&&(ha[ba]={enabled:!0}),typeof ha[ba]=="object"&&!("enabled"in ha[ba])&&(ha[ba].enabled=!0),ha[ba]||(ha[ba]={enabled:!1}),_e(ua,Sa)}}const Ts={eventsEmitter:kv,update:Lv,translate:_v,transition:Wv,slide:Xv,loop:Zv,grabCursor:i0,events:c0,breakpoints:g0,checkOverflow:S0,classes:w0,images:C0},xs={};class Ge{constructor(){let ua,Sa;for(var ba=arguments.length,ka=new Array(ba),_y=0;_y<ba;_y++)ka[_y]=arguments[_y];if(ka.length===1&&ka[0].constructor&&Object.prototype.toString.call(ka[0]).slice(8,-1)==="Object"?Sa=ka[0]:[ua,Sa]=ka,Sa||(Sa={}),Sa=_e({},Sa),ua&&!Sa.el&&(Sa.el=ua),Sa.el&&X(Sa.el).length>1){const My=[];return X(Sa.el).each(Dy=>{const Iy=_e({},Sa,{el:Dy});My.push(new Ge(Iy))}),My}const Ty=this;Ty.__swiper__=!0,Ty.support=Vo(),Ty.device=pv({userAgent:Sa.userAgent}),Ty.browser=bv(),Ty.eventsListeners={},Ty.eventsAnyListeners=[],Ty.modules=[...Ty.__modules__],Sa.modules&&Array.isArray(Sa.modules)&&Ty.modules.push(...Sa.modules);const Ay={};Ty.modules.forEach(My=>{My({swiper:Ty,extendParams:V0(Sa,Ay),on:Ty.on.bind(Ty),once:Ty.once.bind(Ty),off:Ty.off.bind(Ty),emit:Ty.emit.bind(Ty)})});const Ey=_e({},Wn,Ay);return Ty.params=_e({},Ey,xs,Sa),Ty.originalParams=_e({},Ty.params),Ty.passedParams=_e({},Sa),Ty.params&&Ty.params.on&&Object.keys(Ty.params.on).forEach(My=>{Ty.on(My,Ty.params.on[My])}),Ty.params&&Ty.params.onAny&&Ty.onAny(Ty.params.onAny),Ty.$=X,Object.assign(Ty,{enabled:Ty.params.enabled,el:ua,classNames:[],slides:X(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return Ty.params.direction==="horizontal"},isVertical(){return Ty.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:Ty.params.allowSlideNext,allowSlidePrev:Ty.params.allowSlidePrev,touchEvents:function(){const My=["touchstart","touchmove","touchend","touchcancel"],Dy=["pointerdown","pointermove","pointerup"];return Ty.touchEventsTouch={start:My[0],move:My[1],end:My[2],cancel:My[3]},Ty.touchEventsDesktop={start:Dy[0],move:Dy[1],end:Dy[2]},Ty.support.touch||!Ty.params.simulateTouch?Ty.touchEventsTouch:Ty.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:Ty.params.focusableElements,lastClickTime:ki(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:Ty.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),Ty.emit("_swiper"),Ty.params.init&&Ty.init(),Ty}enable(){const ua=this;ua.enabled||(ua.enabled=!0,ua.params.grabCursor&&ua.setGrabCursor(),ua.emit("enable"))}disable(){const ua=this;!ua.enabled||(ua.enabled=!1,ua.params.grabCursor&&ua.unsetGrabCursor(),ua.emit("disable"))}setProgress(ua,Sa){const ba=this;ua=Math.min(Math.max(ua,0),1);const ka=ba.minTranslate(),_y=(ba.maxTranslate()-ka)*ua+ka;ba.translateTo(_y,typeof Sa>"u"?0:Sa),ba.updateActiveIndex(),ba.updateSlidesClasses()}emitContainerClasses(){const ua=this;if(!ua.params._emitClasses||!ua.el)return;const Sa=ua.el.className.split(" ").filter(ba=>ba.indexOf("swiper")===0||ba.indexOf(ua.params.containerModifierClass)===0);ua.emit("_containerClasses",Sa.join(" "))}getSlideClasses(ua){const Sa=this;return Sa.destroyed?"":ua.className.split(" ").filter(ba=>ba.indexOf("swiper-slide")===0||ba.indexOf(Sa.params.slideClass)===0).join(" ")}emitSlidesClasses(){const ua=this;if(!ua.params._emitClasses||!ua.el)return;const Sa=[];ua.slides.each(ba=>{const ka=ua.getSlideClasses(ba);Sa.push({slideEl:ba,classNames:ka}),ua.emit("_slideClass",ba,ka)}),ua.emit("_slideClasses",Sa)}slidesPerViewDynamic(ua,Sa){ua===void 0&&(ua="current"),Sa===void 0&&(Sa=!1);const ba=this,{params:ka,slides:_y,slidesGrid:Ty,slidesSizesGrid:Ay,size:Ey,activeIndex:My}=ba;let Dy=1;if(ka.centeredSlides){let Iy=_y[My].swiperSlideSize,Ly;for(let Py=My+1;Py<_y.length;Py+=1)_y[Py]&&!Ly&&(Iy+=_y[Py].swiperSlideSize,Dy+=1,Iy>Ey&&(Ly=!0));for(let Py=My-1;Py>=0;Py-=1)_y[Py]&&!Ly&&(Iy+=_y[Py].swiperSlideSize,Dy+=1,Iy>Ey&&(Ly=!0))}else if(ua==="current")for(let Iy=My+1;Iy<_y.length;Iy+=1)(Sa?Ty[Iy]+Ay[Iy]-Ty[My]<Ey:Ty[Iy]-Ty[My]<Ey)&&(Dy+=1);else for(let Iy=My-1;Iy>=0;Iy-=1)Ty[My]-Ty[Iy]<Ey&&(Dy+=1);return Dy}update(){const ua=this;if(!ua||ua.destroyed)return;const{snapGrid:Sa,params:ba}=ua;ba.breakpoints&&ua.setBreakpoint(),ua.updateSize(),ua.updateSlides(),ua.updateProgress(),ua.updateSlidesClasses();function ka(){const Ty=ua.rtlTranslate?ua.translate*-1:ua.translate,Ay=Math.min(Math.max(Ty,ua.maxTranslate()),ua.minTranslate());ua.setTranslate(Ay),ua.updateActiveIndex(),ua.updateSlidesClasses()}let _y;ua.params.freeMode&&ua.params.freeMode.enabled?(ka(),ua.params.autoHeight&&ua.updateAutoHeight()):((ua.params.slidesPerView==="auto"||ua.params.slidesPerView>1)&&ua.isEnd&&!ua.params.centeredSlides?_y=ua.slideTo(ua.slides.length-1,0,!1,!0):_y=ua.slideTo(ua.activeIndex,0,!1,!0),_y||ka()),ba.watchOverflow&&Sa!==ua.snapGrid&&ua.checkOverflow(),ua.emit("update")}changeDirection(ua,Sa){Sa===void 0&&(Sa=!0);const ba=this,ka=ba.params.direction;return ua||(ua=ka==="horizontal"?"vertical":"horizontal"),ua===ka||ua!=="horizontal"&&ua!=="vertical"||(ba.$el.removeClass(`${ba.params.containerModifierClass}${ka}`).addClass(`${ba.params.containerModifierClass}${ua}`),ba.emitContainerClasses(),ba.params.direction=ua,ba.slides.each(_y=>{ua==="vertical"?_y.style.width="":_y.style.height=""}),ba.emit("changeDirection"),Sa&&ba.update()),ba}changeLanguageDirection(ua){const Sa=this;Sa.rtl&&ua==="rtl"||!Sa.rtl&&ua==="ltr"||(Sa.rtl=ua==="rtl",Sa.rtlTranslate=Sa.params.direction==="horizontal"&&Sa.rtl,Sa.rtl?(Sa.$el.addClass(`${Sa.params.containerModifierClass}rtl`),Sa.el.dir="rtl"):(Sa.$el.removeClass(`${Sa.params.containerModifierClass}rtl`),Sa.el.dir="ltr"),Sa.update())}mount(ua){const Sa=this;if(Sa.mounted)return!0;const ba=X(ua||Sa.params.el);if(ua=ba[0],!ua)return!1;ua.swiper=Sa;const ka=()=>`.${(Sa.params.wrapperClass||"").trim().split(" ").join(".")}`;let _y=(()=>{if(ua&&ua.shadowRoot&&ua.shadowRoot.querySelector){const Ty=X(ua.shadowRoot.querySelector(ka()));return Ty.children=Ay=>ba.children(Ay),Ty}return ba.children?ba.children(ka()):X(ba).children(ka())})();if(_y.length===0&&Sa.params.createElements){const Ty=Ae().createElement("div");_y=X(Ty),Ty.className=Sa.params.wrapperClass,ba.append(Ty),ba.children(`.${Sa.params.slideClass}`).each(Ay=>{_y.append(Ay)})}return Object.assign(Sa,{$el:ba,el:ua,$wrapperEl:_y,wrapperEl:_y[0],mounted:!0,rtl:ua.dir.toLowerCase()==="rtl"||ba.css("direction")==="rtl",rtlTranslate:Sa.params.direction==="horizontal"&&(ua.dir.toLowerCase()==="rtl"||ba.css("direction")==="rtl"),wrongRTL:_y.css("display")==="-webkit-box"}),!0}init(ua){const Sa=this;return Sa.initialized||Sa.mount(ua)===!1||(Sa.emit("beforeInit"),Sa.params.breakpoints&&Sa.setBreakpoint(),Sa.addClasses(),Sa.params.loop&&Sa.loopCreate(),Sa.updateSize(),Sa.updateSlides(),Sa.params.watchOverflow&&Sa.checkOverflow(),Sa.params.grabCursor&&Sa.enabled&&Sa.setGrabCursor(),Sa.params.preloadImages&&Sa.preloadImages(),Sa.params.loop?Sa.slideTo(Sa.params.initialSlide+Sa.loopedSlides,0,Sa.params.runCallbacksOnInit,!1,!0):Sa.slideTo(Sa.params.initialSlide,0,Sa.params.runCallbacksOnInit,!1,!0),Sa.attachEvents(),Sa.initialized=!0,Sa.emit("init"),Sa.emit("afterInit")),Sa}destroy(ua,Sa){ua===void 0&&(ua=!0),Sa===void 0&&(Sa=!0);const ba=this,{params:ka,$el:_y,$wrapperEl:Ty,slides:Ay}=ba;return typeof ba.params>"u"||ba.destroyed||(ba.emit("beforeDestroy"),ba.initialized=!1,ba.detachEvents(),ka.loop&&ba.loopDestroy(),Sa&&(ba.removeClasses(),_y.removeAttr("style"),Ty.removeAttr("style"),Ay&&Ay.length&&Ay.removeClass([ka.slideVisibleClass,ka.slideActiveClass,ka.slideNextClass,ka.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),ba.emit("destroy"),Object.keys(ba.eventsListeners).forEach(Ey=>{ba.off(Ey)}),ua!==!1&&(ba.$el[0].swiper=null,uv(ba)),ba.destroyed=!0),null}static extendDefaults(ua){_e(xs,ua)}static get extendedDefaults(){return xs}static get defaults(){return Wn}static installModule(ua){Ge.prototype.__modules__||(Ge.prototype.__modules__=[]);const Sa=Ge.prototype.__modules__;typeof ua=="function"&&Sa.indexOf(ua)<0&&Sa.push(ua)}static use(ua){return Array.isArray(ua)?(ua.forEach(Sa=>Ge.installModule(Sa)),Ge):(Ge.installModule(ua),Ge)}}Object.keys(Ts).forEach(ha=>{Object.keys(Ts[ha]).forEach(ua=>{Ge.prototype[ua]=Ts[ha][ua]})});Ge.use([wv,yv]);const T0={class:"fv-swiper-container swiper-container",ref:"container"},x0={class:"swiper-wrapper",ref:"wrapper"},I0={class:"fv-SwipeControl-left swiper-slide"},E0=["onClick"],D0={class:"fv-SwipeControl-right swiper-slide"},L0=["onClick"],P0={name:"FvSwipeControl",data(){return{status:"normal",triggerType:"auto",swiper:null,swiperProgress:0,slidesProgress:[],thisLeftOptions:this.leftOptions,thisOptions:this.options}},watch:{value(){this.triggerType="auto",this.swiper.slideTo(1,300,!1),this.status="normal"},status(ha){this.$emit("status-change",ha)},isDisabled(ha){ha?this.swiper.disabled():this.swiper.enable()}},computed:{computedProgress(){return ha=>this.slidesProgress[ha]},computedWidth(){return ha=>this.swiper?this.swiper.width*ha:0},opWidth(){let ha=this.computedWidth(.3);return ha<this.minOpWidth?ha=this.minOpWidth:ha>this.maxOpWidth&&(ha=this.maxOpWidth),ha},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},$theme(){return Y(this.$props).theme.value}},mounted(){this.init(),this.isDisabled?this.swiper.disable():this.swiper.enable()},methods:{init(){this.swiper=new Ge(this.$refs.container,{initialSlide:1,slidesPerView:1,longSwipesRatio:2,shortSwipes:!1,watchSlidesProgress:!0,on:{touchStart:ha=>{this.triggerType="manual"},touchMove:(ha,ua)=>{this.refreshProgress(ha)},touchEnd:(ha,ua)=>{this.refreshProgress(ha)},transitionStart:ha=>{if(this.triggerType==="auto")return;let ua=this.slidesProgress[1];this.status!="normal"&&ua>=-.5&&ua<.5?(this.status="normal",this.swiper.slideTo(1,300,!1)):ua<-.1&&ua>=-.5?this.disabledLeft?(this.status="normal",this.swiper.slideTo(1,300,!1)):(this.swiper.setTransition(300),this.swiper.setTranslate(-this.computedWidth(.7)),this.status="left"):ua<-.5?this.disabledLeftFull?this.swiper.slideTo(1,300,!1):(this.swiper.slidePrev(),this.status="leftFull"):ua>.1&&ua<=.5?this.disabledRight?(this.status="normal",this.swiper.slideTo(1,300,!1)):(this.swiper.setTransition(300),this.swiper.setTranslate(-this.computedWidth(1.3)),this.status="right"):ua>.5&&(this.disabledRightFull?this.swiper.slideTo(1,300,!1):(this.swiper.slideNext(),this.status="rightFull"))},transitionEnd:(ha,ua)=>{this.triggerType="auto",this.refreshProgress(ha),this.status=="rightFull"?this.callFunc(this.thisOptions[this.thisOptions.length-1]):this.status=="leftFull"&&this.callFunc(this.thisLeftOptions[this.thisLeftOptions.length-1])}}})},refreshProgress(ha){this.swiperProgress=ha.progress;let ua=[];for(let Sa=0;Sa<ha.slides.length;Sa++)ua.push(ha.slides[Sa].progress);this.slidesProgress=ua},callFunc(ha){this.valueTrigger(ha.disabled)||ha.func&&ha.func(this.value)},valueTrigger(ha){return typeof ha=="function"?ha():ha}}},F0=Object.assign(P0,{props:{...K,value:{default:()=>({})},minOpWidth:{default:60},maxOpWidth:{default:300},leftOptions:{default:()=>[]},options:{default:()=>[{icon:"Delete",func:()=>{},type:"delete"}]},itemPadding:{default:"0 10px"},disabledLeft:{default:!0},disabledRight:{default:!1},disabledLeftFull:{default:!0},disabledRightFull:{default:!1},disabled:{default:!1}},emits:["status-change"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-SwipeControl",[Sa.$theme]])},[createBaseVNode("div",T0,[createBaseVNode("div",x0,[createBaseVNode("div",I0,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ha.leftOptions,(ka,_y)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-SwipeControl-btn",[Sa.valueTrigger(ka.type)]]),key:_y,style:normalizeStyle$1({width:_y===ha.leftOptions.length-1?"":`${Sa.opWidth/ha.leftOptions.length}px`}),onClick:Ty=>Sa.callFunc(ka)},[createBaseVNode("div",{class:"fv-SwipeControl-btn-content-block",style:normalizeStyle$1({width:`${Sa.opWidth/ha.leftOptions.length}px`})},[withDirectives(createBaseVNode("i",{class:normalizeClass(["ms-Icon",[`ms-Icon--${Sa.valueTrigger(ka.icon)}`]])},null,2),[[vShow,Sa.valueTrigger(ka.icon)]]),withDirectives(createBaseVNode("p",{style:{"margin-left":"5px"}},toDisplayString(Sa.valueTrigger(ka.text)),513),[[vShow,Sa.valueTrigger(ka.text)]])],4)],14,E0))),128))]),createBaseVNode("div",{class:"fv-SwipeControl-main swiper-slide",style:normalizeStyle$1({padding:ha.itemPadding})},[renderSlot(Sa.$slots,"default",{},()=>[createTextVNode(" Swipe Control ")])],4),createBaseVNode("div",D0,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.thisOptions,(ka,_y)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-SwipeControl-btn",[Sa.valueTrigger(ka.type)]]),key:_y,style:normalizeStyle$1({width:_y===Sa.thisOptions.length-1?"":`${Sa.opWidth/Sa.thisOptions.length}px`}),onClick:Ty=>Sa.callFunc(ka)},[createBaseVNode("div",{class:"fv-SwipeControl-btn-content-block",style:normalizeStyle$1({width:`${Sa.opWidth/Sa.thisOptions.length}px`})},[withDirectives(createBaseVNode("i",{class:normalizeClass(["ms-Icon",[`ms-Icon--${Sa.valueTrigger(ka.icon)}`]])},null,2),[[vShow,Sa.valueTrigger(ka.icon)]]),withDirectives(createBaseVNode("p",{style:{"margin-left":"5px"}},toDisplayString(Sa.valueTrigger(ka.text)),513),[[vShow,Sa.valueTrigger(ka.text)]])],4)],14,L0))),128))])],512)],512)],2))}}),M0=J(F0),R0={props:{modelValue:{type:Object,default:()=>({})},row:{type:Object,default:()=>({})},row_index:{type:Number,default:0},i18n:{type:Function,default:ha=>ha},selectPos:{type:Object,default:()=>({})},foreground:{default:""},extensions:{default:()=>[]},dragItem:{default:null},theme:{type:String,default:"system"}},data(){return{dragDown:!1,dropMode:!1}},watch:{row(){this.formatRow()}},computed:{fixedLeftWidth(){let ha=[],ua=0;return this.modelValue.heads.forEach(Sa=>{ha.push(ua),Sa.fixed&&!Sa.fixedSide&&(ua+=Sa.width)}),ha},fixedRightWidth(){let ha=[],ua=0;return this.modelValue.heads.forEach(Sa=>{ha.push(ua),Sa.fixed&&Sa.fixedSide&&(ua+=Sa.width)}),ha},choosenBackground(){try{let ha=ot(this.foreground);return ha=ha.alpha(.2),ha.cssa()}catch{return""}},computedRowStyles(){return this.row.choosen?{background:this.choosenBackground}:{}},computedCellComponent(){return ha=>{let ua=this.extensions.find(Sa=>Sa.type===ha);return ua?ua.cellComponent:null}}},mounted(){this.formatRow()},methods:{formatRow(){let ha={choosen:!1};for(let ua in ha)this.row[ua]||(this.row[ua]=ha[ua]);return ha},handleRowDrag(ha,ua){ha.stopPropagation(),this.$emit("update-drag-item",ua)},handleDragEnd(){this.dragDown=!1},rightClick(ha){let ua=!this.row.choosen;this.row.choosen=!0,this.$emit("rightclick",{event:ha,row:this.row,row_index:this.row_index,clearChoosenAll:ua})},dragOver(ha){if(ha.preventDefault(),ha.stopPropagation(),this.dragItem===this.row)return;const{clientY:ua}=ha,{top:Sa,height:ba}=this.$el.getBoundingClientRect();ua-Sa<ba/2?this.dropMode=!0:this.dropMode=!1},dragLeave(ha){ha.preventDefault(),ha.stopPropagation(),this.dropMode=!1},dropItem(ha){ha.preventDefault(),ha.stopPropagation(),this.dropMode&&this.dragItem&&this.$emit("drop-item",{drop:this.modelValue,drag:this.dragItem}),this.dropMode=!1}}},B0=["draggable"],_0={class:"fv-tableview-quick-tool"};function O0(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-check-box");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-tableview-data-row",[{choosen:Sa.row.choosen}]]),draggable:ka.dragDown,onDragover:ua[6]||(ua[6]=(...Ay)=>_y.dragOver&&_y.dragOver(...Ay)),onDragleave:ua[7]||(ua[7]=(...Ay)=>_y.dragLeave&&_y.dragLeave(...Ay)),onDrop:ua[8]||(ua[8]=(...Ay)=>_y.dropItem&&_y.dropItem(...Ay)),onDragstart:ua[9]||(ua[9]=Ay=>_y.handleRowDrag(Ay,Sa.row)),onDragend:ua[10]||(ua[10]=(...Ay)=>_y.handleDragEnd&&_y.handleDragEnd(...Ay)),onContextmenu:ua[11]||(ua[11]=Ay=>_y.rightClick(Ay))},[createBaseVNode("div",_0,[createBaseVNode("i",{class:"ms-Icon ms-Icon--Add fv-tableview-icon-block fade",onClick:ua[0]||(ua[0]=Ay=>ha.$emit("add-row"))}),createBaseVNode("i",{class:"ms-Icon ms-Icon--GripperDotsVertical fv-tableview-icon-block fade",onClick:ua[1]||(ua[1]=Ay=>_y.rightClick(Ay)),onMousedown:ua[2]||(ua[2]=Ay=>ka.dragDown=!0)},null,32)]),createBaseVNode("p",{class:normalizeClass(["onDrop",[{show:ka.dropMode}]]),style:normalizeStyle$1({background:ka.dropMode?Sa.foreground:""})},null,6),createBaseVNode("div",{class:"fv-tableview-cell-item check-box",style:normalizeStyle$1([_y.computedRowStyles])},[createVNode$1(Ty,{modelValue:Sa.row.choosen,"onUpdate:modelValue":ua[3]||(ua[3]=Ay=>Sa.row.choosen=Ay),background:Sa.foreground,theme:Sa.theme},null,8,["modelValue","background","theme"])],4),(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.modelValue.heads,(Ay,Ey)=>withDirectives((openBlock(),createBlock(resolveDynamicComponent(_y.computedCellComponent(Ay.type)),{modelValue:Sa.row,head:Ay,key:Ey,i18n:Sa.i18n,selectPos:Sa.selectPos,foreground:Sa.foreground,row_index:Sa.row_index,col_index:Ey,fixedLeftWidth:_y.fixedLeftWidth[Ey],fixedRightWidth:_y.fixedRightWidth[Ey],theme:Sa.theme,style:normalizeStyle$1([_y.computedRowStyles]),onDropItem:ua[4]||(ua[4]=My=>ha.$emit("drop-item",My)),onSetSelect:ua[5]||(ua[5]=My=>ha.$emit("set-select",My))},null,40,["modelValue","head","i18n","selectPos","foreground","row_index","col_index","fixedLeftWidth","fixedRightWidth","theme","style"])),[[vShow,Ay.visible]])),128)),createBaseVNode("div",{class:"fv-tableview-cell-item op-tools",style:normalizeStyle$1([_y.computedRowStyles])},null,4)],42,B0)}const Io=ae(R0,[["render",O0]]),z0={props:{extensions:{default:()=>[]},i18n:{type:Function,default:ha=>ha},foreground:{default:"rgba(0, 90, 158, 1)"},theme:{default:"light"}},data(){return{filterValue:""}},computed:{computedIcon(){return ha=>{let ua=this.extensions.find(Sa=>Sa.type===ha.type);return ua?ua.icon:"Cancel"}},isShow(){return ha=>this.filterValue?ha.name.toLowerCase().includes(this.filterValue.toLowerCase()):!0}},methods:{}},A0={class:"fv-tableview-addmenu"},W0=["onClick"],N0={class:"addmenu-left-block"},H0=createBaseVNode("div",{class:"addmenu-right-block"},[createBaseVNode("i",{class:"ms-Icon ms-Icon--ChevronRight"})],-1);function G0(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-text-box");return openBlock(),createElementBlock("div",A0,[createBaseVNode("div",{class:"addmenu-title-block",onClick:ua[0]||(ua[0]=Ay=>Ay.stopPropagation())},toDisplayString(Sa.i18n("New Property")),1),createBaseVNode("div",{style:{position:"relative",padding:"0px 10px"},onClick:ua[2]||(ua[2]=Ay=>Ay.stopPropagation())},[createVNode$1(Ty,{modelValue:ka.filterValue,"onUpdate:modelValue":ua[1]||(ua[1]=Ay=>ka.filterValue=Ay),placeholder:Sa.i18n("Search Property"),theme:Sa.theme,underline:"",icon:"Filter",background:Sa.theme==="dark"?"rgba(0, 0, 0, 0.3)":"","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":Sa.foreground,"border-width":2,"is-box-shadow":!0,style:{width:"100%",height:"35px","margin-bottom":"5px"}},null,8,["modelValue","placeholder","theme","background","focus-border-color"])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.extensions,(Ay,Ey)=>withDirectives((openBlock(),createElementBlock("span",{key:Ey,ref_for:!0,ref:`item-${Ey}`,onClick:My=>ha.$emit("add-column",Ay)},[createBaseVNode("div",N0,[createBaseVNode("i",{class:normalizeClass(["ms-Icon",[`ms-Icon--${_y.computedIcon(Ay)}`]]),style:{"margin-left":"5px"}},null,2),createBaseVNode("p",null,toDisplayString(Ay.name),1)]),H0],8,W0)),[[vShow,_y.isShow(Ay)]])),128))])}const Eo=ae(z0,[["render",G0]]),U0={props:{modelValue:{type:Object,default:()=>({})},heads:{type:Array,default:()=>[]},extensions:{default:()=>[]},i18n:{type:Function,default:ha=>ha},foreground:{default:"rgba(0, 90, 158, 1)"},theme:{default:"light"}},data(){return{dropHead:null,dragDown:!1,dragItem:null}},computed:{computedProperty(){return ha=>this.extensions.find(ua=>ua.type===ha.type)},computedIcon(){return ha=>{let ua=this.extensions.find(Sa=>Sa.type===ha.type);return ua?ua.icon:"Cancel"}},dropBackground(){try{let ha=ot(this.foreground);return ha=ha.alpha(.2),ha.cssa()}catch{return""}}},methods:{handleRowDrag(ha,ua){ha.stopPropagation(),this.dragItem=ua},handleDragEnd(){this.dragDown=!1},dragOver(ha,ua){ha.preventDefault(),ha.stopPropagation();let Sa=this.heads[ua],ba=this.$refs[`item-${ua}`][0];if(this.dragItem===Sa)return;const{clientY:ka}=ha,{top:_y,height:Ty}=ba.getBoundingClientRect();ka-_y<Ty/2?this.dropHead=Sa:this.dropHead=null},dragLeave(ha){ha.preventDefault(),ha.stopPropagation(),this.dropHead=null},dropItem(ha,ua){ha.preventDefault(),ha.stopPropagation(),this.sortHeads(ua,this.dragItem),this.dropHead=null},sortHeads(ha,ua){let Sa=this.heads.findIndex(_y=>_y===ua),ba=this.heads[Sa];this.heads.splice(Sa,1);let ka=this.heads.findIndex(_y=>_y===ha);this.heads.splice(ka,0,ba)},switchVisible(ha){let ua=!ha.visible;ha.visible=ua}}},Y0={class:"fv-tableview-addmenu"},j0={class:"addmenu-title-block"},q0=["draggable","onDragover","onDrop","onDragstart"],X0={class:"addmenu-left-block"},K0={class:"addmenu-right-block"},J0=["onClick"],Q0=createBaseVNode("i",{class:"ms-Icon ms-Icon--ChevronRight"},null,-1),Z0=createBaseVNode("hr",null,null,-1),eb=createBaseVNode("i",{class:"ms-Icon ms-Icon--Add"},null,-1);function tb(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",Y0,[createBaseVNode("div",j0,toDisplayString(Sa.i18n("Properties")),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.heads,(Ty,Ay)=>(openBlock(),createElementBlock("span",{key:Ay,ref_for:!0,ref:`item-${Ay}`,onClick:ua[1]||(ua[1]=Ey=>Ey.stopPropagation()),draggable:ka.dragDown,onDragover:Ey=>_y.dragOver(Ey,Ay),onDragleave:ua[2]||(ua[2]=(...Ey)=>_y.dragLeave&&_y.dragLeave(...Ey)),onDrop:Ey=>_y.dropItem(Ey,Ty),onDragstart:Ey=>_y.handleRowDrag(Ey,Ty),onDragend:ua[3]||(ua[3]=(...Ey)=>_y.handleDragEnd&&_y.handleDragEnd(...Ey))},[createBaseVNode("i",{class:"onDrop",style:normalizeStyle$1({background:ka.dropHead===Ty?_y.dropBackground:""})},null,4),createBaseVNode("div",X0,[createBaseVNode("i",{class:"ms-Icon ms-Icon--GripperDotsVertical",onMousedown:ua[0]||(ua[0]=Ey=>ka.dragDown=!0)},null,32),createBaseVNode("i",{class:normalizeClass(["ms-Icon",[`ms-Icon--${_y.computedIcon(Ty)}`]]),style:{"margin-left":"5px"}},null,2),createBaseVNode("p",null,toDisplayString(Ty.name),1)]),createBaseVNode("div",K0,[createBaseVNode("i",{class:normalizeClass(["ms-Icon icon-block",[`ms-Icon--${Ty.visible?"View":"Hide"}`]]),onClick:Ey=>_y.switchVisible(Ty)},null,10,J0),Q0])],40,q0))),128)),Z0,createBaseVNode("span",{onClick:ua[4]||(ua[4]=Ty=>{ha.$emit("add-click"),Ty.stopPropagation()})},[eb,createBaseVNode("p",null,toDisplayString(Sa.i18n("New Property")),1)])])}const Do=ae(U0,[["render",tb]]),ib={emits:["mousemove","mouseup","touchstart","touchmove","touchend","mousedown","mouseup"],props:{theme:{type:String,default:"system"}},data(){return{moveable:!1}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.Init()},methods:{Init(){window.addEventListener("mousemove",ha=>{this.moveable&&this.$emit("mousemove",ha)}),window.addEventListener("mouseup",ha=>{this.moveable&&this.stop()}),window.addEventListener("touchmove",ha=>{this.moveable&&this.$emit("touchmove",ha)}),window.addEventListener("touchend",ha=>{this.moveable&&this.stop()})},forward(ha){ha.preventDefault(),this.moveable=!0,ha.type==="mousedown"?this.$emit("mousedown",ha):this.$emit("touchstart",ha)},stop(ha){this.moveable=!1,ha&&(ha.type==="mouseup"?this.$emit("mouseup",ha):this.$emit("touchend",ha))}}},sb=createBaseVNode("i",null,null,-1),nb=[sb];function rb(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",{class:"fv-tableview-spliter",onMousedown:ua[0]||(ua[0]=(...Ty)=>_y.forward&&_y.forward(...Ty)),onMouseup:ua[1]||(ua[1]=(...Ty)=>_y.stop&&_y.stop(...Ty)),onTouchstart:ua[2]||(ua[2]=(...Ty)=>_y.forward&&_y.forward(...Ty)),onTouchend:ua[3]||(ua[3]=(...Ty)=>_y.stop&&_y.stop(...Ty))},nb,32)}const Lo=ae(ib,[["render",rb]]),ob={emits:["update:modelValue"],props:{modelValue:{default:!1},el:{default:()=>document.body},wrapperWidth:{default:"300px"},isUnder:{default:!1}},data(){return{thisValue:this.modelValue}},watch:{modelValue(){this.thisValue=this.modelValue},thisValue(){this.$emit("update:modelValue",this.thisValue)}},methods:{}};function ab(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-Affix");return withDirectives((openBlock(),createElementBlock("div",{draggable:"false",class:"fv-tableview-edit-wrapper-background",onClick:ua[1]||(ua[1]=Ay=>{ka.thisValue=!1,Ay.stopPropagation()}),onMousemove:ua[2]||(ua[2]=Ay=>Ay.preventDefault())},[createVNode$1(Ty,{target:Sa.el,left:"0",top:Sa.isUnder?"100%":0,mode:ka.thisValue?"fixed":"relative"},{default:withCtx(()=>[createVNode$1(Transition,{name:"fv-tableview-edit-wrapper"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{draggable:"false",class:"fv-tableview-edit-wrapper-container",style:normalizeStyle$1({width:Sa.wrapperWidth}),onClick:ua[0]||(ua[0]=Ay=>Ay.stopPropagation())},[renderSlot(ha.$slots,"default")],4),[[vShow,ka.thisValue]])]),_:3})]),_:3},8,["target","top","mode"])],544)),[[vShow,ka.thisValue]])}const ns=ae(ob,[["render",ab]]),lb={style:{"margin-left":"5px"}},db={style:{"margin-left":"5px"}},ub={class:"fv-tableview-default-edittool-row",style:{"margin-top":"10px"}},hb={class:"fv-tableview-icon-block"},cb=createBaseVNode("i",{class:"row-icon ms-Icon ms-Icon--Equalizer"},null,-1),fb={class:"row-title"},mb={class:"fv-tableview-default-edittool-row",style:{margin:"10px 0px"}},gb=createBaseVNode("hr",null,null,-1),pb={class:"fv-tableview-default-edittool-row lighter"},vb=createBaseVNode("i",{class:"row-icon ms-Icon ms-Icon--Ascending"},null,-1),bb={class:"row-title"},wb={class:"fv-tableview-default-edittool-row lighter"},yb=createBaseVNode("i",{class:"row-icon ms-Icon ms-Icon--Descending"},null,-1),kb={class:"row-title"},Cb={class:"fv-tableview-default-edittool-row lighter"},$b=createBaseVNode("i",{class:"row-icon ms-Icon ms-Icon--Filter"},null,-1),Sb={class:"row-title"},Vb=createBaseVNode("hr",null,null,-1),Tb=createBaseVNode("i",{class:"row-icon ms-Icon ms-Icon--Hide"},null,-1),xb={class:"row-title"},Ib={class:"row-title"},Eb={class:"fv-tableview-default-edittool-row",style:{"margin-bottom":"10px"}},Db={class:"row-title"},Lb=createBaseVNode("i",{class:"row-icon ms-Icon ms-Icon--Copy"},null,-1),Pb={class:"row-title"},Fb=createBaseVNode("i",{class:"row-icon ms-Icon ms-Icon--Delete"},null,-1),Mb={class:"row-title"},Rb=createBaseVNode("hr",null,null,-1),Bb={class:"fv-tableview-default-edittool-row",style:{"margin-bottom":"10px"}},_b={class:"row-title"},Ob={name:"FvTableViewHeadBase",components:{spliter:Lo,editWrapper:ns},data(){return{mouseDownPos:{disX:0},dropMode:!1,thisKeyValue:this.modelValue.key,show:{edit:!1,editKey:!1}}},watch:{modelValue(){this.formatHead(),this.thisKeyValue=this.modelValue.key},"show.edit"(ha){ha&&this.$nextTick(()=>{this.$refs.text&&this.$refs.text.focus()}),this.show.editKey=!1,this.$emit("show-edit",ha)}},mounted(){this.formatHead()},methods:{formatHead(){if(this.formatFunction)this.formatFunction(this.modelValue);else{let ha={key:"text",name:"",emoji:"📄",type:"text",typeName:"Text",minWidth:60,width:100,fixed:!1,fixedSide:!1,wrap:!1,visible:!0};for(let ua in ha)this.modelValue[ua]||(this.modelValue[ua]=ha[ua]);this.modelValue.__guid||(this.modelValue.__guid=this.GuidWithoutDash())}},switchHide(){this.show.edit=!1;let ha=!this.modelValue.visible;this.modelValue.visible=ha},switchFixed(){this.show.edit=!1;let ha=!this.modelValue.fixed;this.modelValue.fixed=ha},deleteColumn(){this.show.edit=!1,this.$emit("delete-column",this.modelValue)},resizeDown(ha){this.mouseDownPos.disX=ha.clientX},resizeMove(ha){let ua=ha.clientX-this.mouseDownPos.disX;this.mouseDownPos.disX=ha.clientX;let Sa=this.modelValue.width+ua;Sa=Sa<this.modelValue.minWidth?this.modelValue.minWidth:Sa,this.modelValue.width=Sa},dragOver(ha){if(ha.preventDefault(),ha.stopPropagation(),this.dragItem===this.modelValue)return;const{clientX:ua}=ha,{left:Sa,width:ba}=this.$el.getBoundingClientRect();ua-Sa<ba/2?this.dropMode=!0:this.dropMode=!1},dragLeave(ha){ha.preventDefault(),ha.stopPropagation(),this.dropMode=!1},dropItem(ha){ha.preventDefault(),ha.stopPropagation(),this.dropMode&&this.dragItem&&this.$emit("drop-item",{drop:this.modelValue,drag:this.dragItem}),this.dropMode=!1},switchEditKey(){this.show.editKey?this.saveEditKey():(this.show.editKey=!0,this.$nextTick(()=>{this.$refs.keyName.focus()}))},saveEditKey(){!this.thisKeyValue||(this.modelValue.key=this.thisKeyValue,this.show.editKey=!1)},GuidWithoutDash(){function ha(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ha()+ha()+ha()+ha()+ha()+ha()+ha()+ha()}}},Po=Object.assign(Ob,{props:{...K,modelValue:{type:Object,default:()=>({})},index:{type:Number,default:0},i18n:{type:Function,default:ha=>ha},foreground:{default:""},dragItem:{type:Object,default:null},fixedLeftWidth:{default:0},fixedRightWidth:{default:0},wrapperWidth:{default:"220px"},formatFunction:{default:null},isUnder:{type:Boolean,default:!1}},emits:["show-edit","delete-column","duplicate-column","drop-item"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-text-box"),_y=resolveComponent("fv-toggle-switch");return ha.modelValue.__guid?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["fv-tableview-head-item",[{onDrop:Sa.dropMode,fixed:ha.modelValue.fixed}]]),onDragover:ba[16]||(ba[16]=(...Ty)=>Sa.dragOver&&Sa.dragOver(...Ty)),onDragleave:ba[17]||(ba[17]=(...Ty)=>Sa.dragLeave&&Sa.dragLeave(...Ty)),onDrop:ba[18]||(ba[18]=(...Ty)=>Sa.dropItem&&Sa.dropItem(...Ty)),style:normalizeStyle$1({left:ha.modelValue.fixed&&!ha.modelValue.fixedSide?ha.fixedLeftWidth+"px":"",right:ha.modelValue.fixed&&ha.modelValue.fixedSide?ha.fixedRightWidth+"px":"",width:ha.modelValue.width+"px","border-color":Sa.dropMode?ha.foreground:"","z-index":Sa.show.edit?6:""})},[createBaseVNode("div",{class:"fv-tableview-head-content",onClick:ba[0]||(ba[0]=Ty=>Sa.show.edit=!0),onContextmenu:ba[1]||(ba[1]=Ty=>{Ty.preventDefault(),Sa.show.edit=!0})},[renderSlot(Sa.$slots,"default",{},()=>[createBaseVNode("p",lb,toDisplayString(ha.modelValue.emoji),1),createBaseVNode("p",db,toDisplayString(ha.modelValue.name),1)])],32),createVNode$1(Lo,{style:{height:"100%"},onMousedown:ba[2]||(ba[2]=Ty=>Sa.resizeDown(Ty)),onMousemove:ba[3]||(ba[3]=Ty=>Sa.resizeMove(Ty)),onTouchstart:ba[4]||(ba[4]=Ty=>Sa.resizeDown(Ty.targetTouches[0])),onTouchmove:ba[5]||(ba[5]=Ty=>Sa.resizeMove(Ty.targetTouches[0]))}),createVNode$1(ns,{modelValue:Sa.show.edit,"onUpdate:modelValue":ba[15]||(ba[15]=Ty=>Sa.show.edit=Ty),el:()=>Sa.$el,wrapperWidth:ha.wrapperWidth,isUnder:ha.isUnder},{default:withCtx(()=>[renderSlot(Sa.$slots,"entire",{modelValue:ha.modelValue,show:Sa.show.edit},()=>[createBaseVNode("div",ub,[createBaseVNode("p",hb,toDisplayString(ha.modelValue.emoji),1),createVNode$1(ka,{modelValue:ha.modelValue.name,"onUpdate:modelValue":ba[6]||(ba[6]=Ty=>ha.modelValue.name=Ty),placeholder:ha.i18n("Column Name"),theme:Sa.theme,underline:"",ref:"text",background:Sa.theme==="dark"?"rgba(0, 0, 0, 0.3)":"","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":ha.foreground,borderWidth:"2","is-box-shadow":"true",style:{"margin-left":"5px"}},null,8,["modelValue","placeholder","theme","background","focus-border-color"])]),createBaseVNode("div",{class:"fv-tableview-default-edittool-row lighter",style:{"margin-top":"5px"},onClick:ba[7]||(ba[7]=(...Ty)=>Sa.switchEditKey&&Sa.switchEditKey(...Ty))},[cb,createBaseVNode("p",fb,toDisplayString(Sa.show.editKey?ha.i18n("Save Property Key"):ha.i18n("Edit Property Key")),1)]),withDirectives(createBaseVNode("div",mb,[createVNode$1(ka,{modelValue:Sa.thisKeyValue,"onUpdate:modelValue":ba[8]||(ba[8]=Ty=>Sa.thisKeyValue=Ty),placeholder:ha.i18n("Key Name")+" "+ha.i18n("(Press Enter to Confirm)"),ref:"keyName","left-icon":"Link",underline:"","border-color":Sa.thisKeyValue?"rgba(120, 120, 120, 0.1)":"rgba(200, 38, 45, 1)","focus-border-color":Sa.thisKeyValue?ha.foreground:"rgba(200, 38, 45, 1)","border-width":2,"is-box-shadow":!0,style:{width:"10px",height:"35px",flex:"1"},onKeydown:withKeys(Sa.saveEditKey,["enter"])},null,8,["modelValue","placeholder","border-color","focus-border-color","onKeydown"])],512),[[vShow,Sa.show.editKey]]),renderSlot(Sa.$slots,"menu"),gb,createBaseVNode("div",pb,[vb,createBaseVNode("p",bb,toDisplayString(ha.i18n("Sort Ascending")),1)]),createBaseVNode("div",wb,[yb,createBaseVNode("p",kb,toDisplayString(ha.i18n("Sort Descending")),1)]),createBaseVNode("div",Cb,[$b,createBaseVNode("p",Sb,toDisplayString(ha.i18n("Filter")),1)]),Vb,createBaseVNode("div",{class:"fv-tableview-default-edittool-row lighter",onClick:ba[9]||(ba[9]=(...Ty)=>Sa.switchHide&&Sa.switchHide(...Ty))},[Tb,createBaseVNode("p",xb,toDisplayString(ha.i18n("Hide in View")),1)]),createBaseVNode("div",{class:"fv-tableview-default-edittool-row lighter",onClick:ba[10]||(ba[10]=(...Ty)=>Sa.switchFixed&&Sa.switchFixed(...Ty))},[createBaseVNode("i",{class:normalizeClass(["row-icon ms-Icon",[`ms-Icon--${ha.modelValue.fixed?"Unpin":"Pin"}`]])},null,2),createBaseVNode("p",Ib,toDisplayString(ha.modelValue.fixed?ha.i18n("Unfixed Column"):ha.i18n("Fixed Column")),1)]),withDirectives(createBaseVNode("div",Eb,[createBaseVNode("p",Db,toDisplayString(ha.i18n("Fixed Side")),1),createVNode$1(_y,{modelValue:ha.modelValue.fixedSide,"onUpdate:modelValue":ba[11]||(ba[11]=Ty=>ha.modelValue.fixedSide=Ty),on:ha.i18n("Right"),off:ha.i18n("Left"),insideContent:!0,switchOnBackground:ha.foreground,width:"60",style:{"margin-left":"15px"}},null,8,["modelValue","on","off","switchOnBackground"])],512),[[vShow,ha.modelValue.fixed]]),createBaseVNode("div",{class:"fv-tableview-default-edittool-row lighter",onClick:ba[12]||(ba[12]=Ty=>{Sa.show.edit=!1,Sa.$emit("duplicate-column",ha.index)})},[Lb,createBaseVNode("p",Pb,toDisplayString(ha.i18n("Duplicate Column")),1)]),createBaseVNode("div",{class:"fv-tableview-default-edittool-row lighter",onClick:ba[13]||(ba[13]=(...Ty)=>Sa.deleteColumn&&Sa.deleteColumn(...Ty))},[Fb,createBaseVNode("p",Mb,toDisplayString(ha.i18n("Delete Column")),1)]),Rb,createBaseVNode("div",Bb,[createBaseVNode("p",_b,toDisplayString(ha.i18n("Wrap Column")),1),createVNode$1(_y,{modelValue:ha.modelValue.wrap,"onUpdate:modelValue":ba[14]||(ba[14]=Ty=>ha.modelValue.wrap=Ty),on:ha.i18n("Yes"),off:ha.i18n("No"),insideContent:!0,switchOnBackground:ha.foreground,width:"60",style:{"margin-left":"15px"}},null,8,["modelValue","on","off","switchOnBackground"])])])]),_:3},8,["modelValue","el","wrapperWidth","isUnder"])],38)):createCommentVNode("",!0)}}}),zb={class:"fv-tableview-default-content"},Ab={name:"FvTableViewCellBase",components:{editWrapper:ns},data(){return{show:{edit:!1}}},watch:{modelValue(){this.formatCell()},"head.key"(){this.formatCell()},"show.edit"(ha){ha&&this.$nextTick(()=>{this.$refs.text&&this.$refs.text.focus()}),this.$emit("show-edit",ha)}},computed:{isSelected(){let ha=-1,ua=-1,Sa=-1,ba=-1;return this.selectPos.start_row>this.selectPos.end_row?(ha=this.selectPos.end_row,ua=this.selectPos.start_row):(ha=this.selectPos.start_row,ua=this.selectPos.end_row),this.selectPos.start_col>this.selectPos.end_col?(Sa=this.selectPos.end_col,ba=this.selectPos.start_col):(Sa=this.selectPos.start_col,ba=this.selectPos.end_col),ha<=this.row_index&&ua>=this.row_index&&Sa<=this.col_index&&ba>=this.col_index},isFirstSelected(){return this.selectPos.start_row===this.row_index&&this.selectPos.start_col===this.col_index},selectBackground(){try{let ha=ot(this.foreground);return ha=ha.alpha(.1),ha.cssa()}catch{return""}},outlineColor(){try{let ha=ot(this.foreground);return ha=ha.alpha(.6),ha.cssa()}catch{return""}},computedBackground(){return this.isSelected?this.selectBackground:""}},mounted(){this.formatCell()},methods:{formatCell(){if(this.formatFunction)this.formatFunction(this.modelValue,this.head);else{let ha={};ha[this.head.key]="";for(let ua in ha)this.modelValue[ua]||(this.modelValue[ua]=ha[ua]);this.modelValue.__guid||(this.modelValue.__guid=this.GuidWithoutDash())}},clickFunc(){this.show.edit=!0},mouseFunc(ha,ua="down"){ha.preventDefault(),this.$emit("set-select",{event_type:ua,row_index:this.row_index,col_index:this.col_index})},GuidWithoutDash(){function ha(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ha()+ha()+ha()+ha()+ha()+ha()+ha()+ha()}}},Fo=Object.assign(Ab,{props:{...K,modelValue:{type:Object,default:()=>({})},head:{type:Object,default:()=>({})},i18n:{type:Function,default:ha=>ha},selectPos:{type:Object,default:()=>({})},foreground:{default:""},fixedLeftWidth:{default:0},fixedRightWidth:{default:0},wrapperWidth:{default:"220px"},formatFunction:{type:Function,default:null},row_index:{type:Number,default:0},col_index:{type:Number,default:0},isUnder:{type:Boolean,default:!1}},emits:["show-edit","set-select","drop-item"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-text-box");return ha.head.__guid?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["fv-tableview-cell-item",[{wrappable:ha.head.wrap,fixed:ha.head.fixed,selected:Sa.isSelected,"first-selected":Sa.isFirstSelected}]]),style:normalizeStyle$1({left:ha.head.fixed&&!ha.head.fixedSide?ha.fixedLeftWidth+"px":"",right:ha.head.fixed&&ha.head.fixedSide?ha.fixedRightWidth+"px":"",width:ha.head.width+"px","z-index":Sa.show.edit||Sa.isFirstSelected?5:"",background:Sa.computedBackground,"outline-color":Sa.outlineColor})},[createBaseVNode("div",{class:"fv-tableview-cell-content",onMousedown:ba[0]||(ba[0]=_y=>Sa.mouseFunc(_y,"down")),onMouseenter:ba[1]||(ba[1]=_y=>Sa.mouseFunc(_y,"enter")),onClick:ba[2]||(ba[2]=(..._y)=>Sa.clickFunc&&Sa.clickFunc(..._y))},[renderSlot(Sa.$slots,"default",{},()=>[createBaseVNode("p",zb,toDisplayString(ha.modelValue[ha.head.key]),1)])],32),withDirectives(createBaseVNode("p",{class:"fv-tableview-cell-sync-btn",style:normalizeStyle$1({"border-color":Sa.outlineColor}),onMousedown:ba[3]||(ba[3]=_y=>Sa.mouseFunc(_y,"sync-down"))},null,36),[[vShow,Sa.isFirstSelected]]),createVNode$1(ns,{modelValue:Sa.show.edit,"onUpdate:modelValue":ba[5]||(ba[5]=_y=>Sa.show.edit=_y),el:()=>Sa.$el,wrapperWidth:ha.wrapperWidth,isUnder:ha.isUnder},{default:withCtx(()=>[renderSlot(Sa.$slots,"entire",{modelValue:ha.modelValue,show:Sa.show.edit},()=>[createVNode$1(ka,{modelValue:ha.modelValue[ha.head.key],"onUpdate:modelValue":ba[4]||(ba[4]=_y=>ha.modelValue[ha.head.key]=_y),theme:Sa.theme,underline:"",ref:"text",background:Sa.theme==="dark"?"rgba(0, 0, 0, 0.3)":"","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":ha.foreground,borderWidth:"2","is-box-shadow":"true",style:{width:"100%"}},null,8,["modelValue","theme","background","focus-border-color"])])]),_:3},8,["modelValue","el","wrapperWidth","isUnder"])],6)):createCommentVNode("",!0)}}}),Wb={props:{modelValue:{type:Object,default:()=>({})},index:{type:Number,default:0},i18n:{type:Function,default:ha=>ha},foreground:{default:""},dragItem:{type:Object,default:null},fixedLeftWidth:{default:0},fixedRightWidth:{default:0},theme:{type:String,default:"system"}},data(){return{showAsList:[{key:"number",text:"Number",icon:"NumberField"},{key:"bar",text:"Bar",icon:"ChromeMinimizeContrast"},{key:"ring",text:"Ring",icon:"ProgressRingDots"}],currentColors:[],currentFormats:[],colorList:[{name:"gray",color:"#787774"},{name:"purple",color:"#958DF1"},{name:"pink",color:"#f58eda"},{name:"red",color:"#F98181"},{name:"orange",color:"#FBBC88"},{name:"yellow",color:"#FAF594"},{name:"blue",color:"#4086cb"},{name:"teal",color:"#94FADB"},{name:"green",color:"#B9F18D"},{name:"rose",color:"#ee7686"}],numberFormatList:[{key:"Number",text:"Number"},{key:"Number with commas",text:"Number with commas"},{key:"Percent",text:"Percent"},{key:"US Dollar",text:"US Dollar"},{key:"Australian dollar",text:"Australian dollar"},{key:"Canadian dollar",text:"Canadian dollar"},{key:"Singapore dollar",text:"Singapore dollar"},{key:"Euro",text:"Euro"},{key:"Pound",text:"Pound"},{key:"Yen",text:"Yen"},{key:"Ruble",text:"Ruble"},{key:"Rupee",text:"Rupee"},{key:"Won",text:"Won"},{key:"Yuan",text:"Yuan"},{key:"Real",text:"Real"},{key:"Lira",text:"Lira"},{key:"Rupiah",text:"Rupiah"},{key:"Franc",text:"Franc"},{key:"Hong Kong dollar",text:"Hong Kong dollar"},{key:"New Zealand dollar",text:"New Zealand dollar"},{key:"Krona",text:"Krona"},{key:"Norwegian krone",text:"Norwegian krone"},{key:"Mexican peso",text:"Mexican peso"},{key:"Rand",text:"Rand"},{key:"New Taiwan dollar",text:"New Taiwan dollar"},{key:"Danish krone",text:"Danish krone"},{key:"Złoty",text:"Złoty"},{key:"Baht",text:"Baht"},{key:"Forint",text:"Forint"},{key:"Koruna",text:"Koruna"},{key:"Shekel",text:"Shekel"},{key:"Chilean peso",text:"Chilean peso"},{key:"Philippine peso",text:"Philippine peso"},{key:"Dirham",text:"Dirham"},{key:"Colombian peso",text:"Colombian peso"},{key:"Riyal",text:"Riyal"},{key:"Ringgit",text:"Ringgit"},{key:"Leu",text:"Leu"},{key:"Argentine peso",text:"Argentine peso"},{key:"Uruguayan peso",text:"Uruguayan peso"},{key:"Peruvian sol",text:"Peruvian sol"}]}},watch:{"modelValue.showColor"(){this.colorInit()},"modelValue.numberFormat"(){this.formatInit()},currentColors(){let ha=this.currentColors[0].color;this.modelValue.showColor=ha},currentFormats(){let ha=this.currentFormats[0].key;this.modelValue.numberFormat=ha}},computed:{getColorName(){return ha=>ha.slice(0,1).toUpperCase()+ha.slice(1)}},mounted(){this.colorInit(),this.formatInit()},methods:{colorInit(){let ha=this.colorList.find(ua=>ua.color===this.modelValue.showColor);ha?this.currentColors=[ha]:this.currentColors=[]},formatInit(){let ha=this.numberFormatList.find(ua=>ua.key===this.modelValue.numberFormat);ha?this.currentFormats=[ha]:this.currentFormats=[]},formatNumberHead(ha){let ua={key:"number",name:"",emoji:"🔢",type:"number",minWidth:60,width:100,numberFormat:"Number",showAs:"number",showColor:"#958DF1",divideBy:100,showNumber:!0,fixed:!1,fixedSide:!1,wrap:!1,visible:!0};for(let Sa in ua)ha[Sa]||(ha[Sa]=ua[Sa]);ha.__guid||(ha.__guid=this.GuidWithoutDash())},GuidWithoutDash(){function ha(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ha()+ha()+ha()+ha()+ha()+ha()+ha()+ha()}}},Nb={class:"fv-tableview-default-edittool-row between"},Hb={style:{"margin-left":"10px"}},Gb=["title"],Ub=createBaseVNode("hr",null,null,-1),Yb={class:"fv-tableview-number-edittool-inside-block"},jb={class:"number-edittool-title"},qb={class:"hor-block"},Xb=["onClick"],Kb={class:"title-block"},Jb={class:"show-as-config-block"},Qb={class:"show-as-config-item"},Zb={style:{"margin-left":"5px","font-size":"12px"}},ew={class:"show-as-config-custom-drop-down"},tw=createBaseVNode("i",{class:"ms-Icon ms-Icon--ChevronDown"},null,-1),iw={class:"show-as-config-item"},sw={class:"show-as-config-item"};function nw(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-drop-down"),Ay=resolveComponent("fv-text-box"),Ey=resolveComponent("fv-toggle-switch"),My=resolveComponent("fv-table-view-head-base");return openBlock(),createBlock(My,{modelValue:Sa.modelValue,index:Sa.index,i18n:Sa.i18n,foreground:Sa.foreground,fixedLeftWidth:Sa.fixedLeftWidth,fixedRightWidth:Sa.fixedRightWidth,theme:Sa.theme,wrapperWidth:"260px",dragItem:Sa.dragItem,formatFunction:_y.formatNumberHead,onDuplicateColumn:ua[5]||(ua[5]=Dy=>ha.$emit("duplicate-column",Dy)),onDropItem:ua[6]||(ua[6]=Dy=>ha.$emit("drop-item",Dy)),onDeleteColumn:ua[7]||(ua[7]=Dy=>ha.$emit("delete-column",Dy))},{menu:withCtx(()=>[createBaseVNode("div",Nb,[createBaseVNode("span",Hb,toDisplayString(Sa.i18n("Number Format")),1),createVNode$1(Ty,{modelValue:ka.currentFormats,"onUpdate:modelValue":ua[0]||(ua[0]=Dy=>ka.currentFormats=Dy),options:ka.numberFormatList,theme:Sa.theme,placeholder:Sa.i18n("Select Number Format"),style:{width:"120px"}},{options:withCtx(Dy=>[createBaseVNode("p",{title:Sa.i18n(Dy.option.text),style:{"font-size":"12px"}},toDisplayString(Sa.i18n(Dy.option.text)),9,Gb)]),_:1},8,["modelValue","options","theme","placeholder"])]),Ub,createBaseVNode("div",Yb,[createBaseVNode("span",jb,toDisplayString(Sa.i18n("Show as")),1),createBaseVNode("div",qb,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ka.showAsList,(Dy,Iy)=>(openBlock(),createElementBlock("div",{key:Iy,class:"hor-item",style:normalizeStyle$1({color:Sa.modelValue.showAs===Dy.key?Sa.foreground:"","border-color":Sa.modelValue.showAs===Dy.key?Sa.foreground:"","border-width":Sa.modelValue.showAs===Dy.key?"2px":""}),onClick:Ly=>Sa.modelValue.showAs=Dy.key},[createBaseVNode("i",{class:normalizeClass(["ms-Icon icon-block",[`ms-Icon--${Dy.icon}`]])},null,2),createBaseVNode("p",Kb,toDisplayString(Dy.text),1)],12,Xb))),128))]),createBaseVNode("div",Jb,[createBaseVNode("div",Qb,[createBaseVNode("span",null,toDisplayString(Sa.i18n("Color")),1),createVNode$1(Ty,{modelValue:ka.currentColors,"onUpdate:modelValue":ua[1]||(ua[1]=Dy=>ka.currentColors=Dy),theme:Sa.theme,options:ka.colorList,style:{width:"120px","margin-left":"5px"}},{options:withCtx(Dy=>[createBaseVNode("i",{class:"color-block",style:normalizeStyle$1([{background:Dy.option.color},{"flex-shrink":"0"}])},null,4),createBaseVNode("p",Zb,toDisplayString(Sa.i18n(_y.getColorName(Dy.option.name))),1)]),"drop-carrier":withCtx(Dy=>[createBaseVNode("div",ew,[createBaseVNode("i",{class:"color-block",style:normalizeStyle$1({background:Dy.value.length>0?Dy.value[0].color:""})},null,4),createBaseVNode("span",null,toDisplayString(Sa.i18n(_y.getColorName(Dy.value.length>0?Dy.value[0].name:""))),1),tw])]),_:1},8,["modelValue","theme","options"])]),createBaseVNode("div",iw,[createBaseVNode("span",null,toDisplayString(Sa.i18n("Divide by")),1),createVNode$1(Ay,{modelValue:Sa.modelValue.divideBy,"onUpdate:modelValue":ua[2]||(ua[2]=Dy=>Sa.modelValue.divideBy=Dy),placeholder:Sa.i18n("Input value"),theme:Sa.theme,underline:"",ref:"text",background:Sa.theme==="dark"?"rgba(0, 0, 0, 0.3)":"","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":Sa.foreground,borderWidth:"2","is-box-shadow":"true",style:{width:"120px","margin-left":"5px"},onClick:ua[3]||(ua[3]=Dy=>ha.$refs.text.focus())},null,8,["modelValue","placeholder","theme","background","focus-border-color"])]),createBaseVNode("div",sw,[createBaseVNode("span",null,toDisplayString(Sa.i18n("Show Number")),1),createVNode$1(Ey,{modelValue:Sa.modelValue.showNumber,"onUpdate:modelValue":ua[4]||(ua[4]=Dy=>Sa.modelValue.showNumber=Dy),on:Sa.i18n("Yes"),off:Sa.i18n("No"),insideContent:!0,switchOnBackground:Sa.foreground,width:"60",style:{"margin-left":"15px"}},null,8,["modelValue","on","off","switchOnBackground"])])])])]),_:1},8,["modelValue","index","i18n","foreground","fixedLeftWidth","fixedRightWidth","theme","dragItem","formatFunction"])}const rw=ae(Wb,[["render",nw]]),ow={props:{value:{type:Object,default:()=>({})},head:{type:Object,default:()=>({})},i18n:{type:Function,default:ha=>ha},selectPos:{type:Object,default:()=>({})},foreground:{default:""},fixedLeftWidth:{default:0},fixedRightWidth:{default:0},row_index:{type:Number,default:0},col_index:{type:Number,default:0},theme:{type:String,default:"system"}},data(){return{numberFormatList:[{key:"Number",text:"Number",func:ha=>parseFloat(ha).toFixed(2)},{key:"Number with commas",text:"Number with commas",func:ha=>parseFloat(ha).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")},{key:"Percent",text:"Percent",func:ha=>(parseFloat(ha)*100).toFixed(2)+"%"},{key:"US Dollar",text:"US Dollar",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"$"+Math.abs(ua).toFixed(2)}},{key:"Australian dollar",text:"Australian dollar",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"AU$"+Math.abs(ua).toFixed(2)}},{key:"Canadian dollar",text:"Canadian dollar",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"CA$"+Math.abs(ua).toFixed(2)}},{key:"Singapore dollar",text:"Singapore dollar",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"SG$"+Math.abs(ua).toFixed(2)}},{key:"Euro",text:"Euro",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"€"+Math.abs(ua).toFixed(2)}},{key:"Pound",text:"Pound",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"£"+Math.abs(ua).toFixed(2)}},{key:"Yen",text:"Yen",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"¥"+Math.abs(ua).toFixed(2)}},{key:"Ruble",text:"Ruble",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"₽"+Math.abs(ua).toFixed(2)}},{key:"Rupee",text:"Rupee",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"₹"+Math.abs(ua).toFixed(2)}},{key:"Won",text:"Won",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"₩"+Math.abs(ua).toFixed(2)}},{key:"Yuan",text:"Yuan",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"¥"+Math.abs(ua).toFixed(2)}},{key:"Real",text:"Real",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"R$"+Math.abs(ua).toFixed(2)}},{key:"Lira",text:"Lira",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"₺"+Math.abs(ua).toFixed(2)}},{key:"Rupiah",text:"Rupiah",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"Rp"+Math.abs(ua).toFixed(2)}},{key:"Franc",text:"Franc",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"Fr"+Math.abs(ua).toFixed(2)}},{key:"Hong Kong dollar",text:"Hong Kong dollar",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"HK$"+Math.abs(ua).toFixed(2)}},{key:"New Zealand dollar",text:"New Zealand dollar",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"NZ$"+Math.abs(ua).toFixed(2)}},{key:"Krona",text:"Krona",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"kr"+Math.abs(ua).toFixed(2)}},{key:"Norwegian krone",text:"Norwegian krone",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"kr"+Math.abs(ua).toFixed(2)}},{key:"Mexican peso",text:"Mexican peso",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"Mex$"+Math.abs(ua).toFixed(2)}},{key:"Rand",text:"Rand",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"R"+Math.abs(ua).toFixed(2)}},{key:"New Taiwan dollar",text:"New Taiwan dollar",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"NT$"+Math.abs(ua).toFixed(2)}},{key:"Danish krone",text:"Danish krone",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"kr"+Math.abs(ua).toFixed(2)}},{key:"Złoty",text:"Złoty",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"zł"+Math.abs(ua).toFixed(2)}},{key:"Baht",text:"Baht",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"฿"+Math.abs(ua).toFixed(2)}},{key:"Forint",text:"Forint",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"Ft"+Math.abs(ua).toFixed(2)}},{key:"Koruna",text:"Koruna",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"Kč"+Math.abs(ua).toFixed(2)}},{key:"Shekel",text:"Shekel",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"₪"+Math.abs(ua).toFixed(2)}},{key:"Chilean peso",text:"Chilean peso",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"CLP$"+Math.abs(ua).toFixed(2)}},{key:"Philippine peso",text:"Philippine peso",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"₱"+Math.abs(ua).toFixed(2)}},{key:"Dirham",text:"Dirham",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"AED$"+Math.abs(ua).toFixed(2)}},{key:"Colombian peso",text:"Colombian peso",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"COL$"+Math.abs(ua).toFixed(2)}},{key:"Riyal",text:"Riyal",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"﷼"+Math.abs(ua).toFixed(2)}},{key:"Ringgit",text:"Ringgit",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"RM"+Math.abs(ua).toFixed(2)}},{key:"Leu",text:"Leu",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"L"+Math.abs(ua).toFixed(2)}},{key:"Argentine peso",text:"Argentine peso",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"AR$"+Math.abs(ua).toFixed(2)}},{key:"Uruguayan peso",text:"Uruguayan peso",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"UYU$"+Math.abs(ua).toFixed(2)}},{key:"Peruvian sol",text:"Peruvian sol",func:ha=>{let ua=parseFloat(ha),Sa="";return ua<0&&(Sa="-"),Sa+"S/"+Math.abs(ua).toFixed(2)}}]}},computed:{computedPercent(){let ha=parseFloat(this.value[this.head.key]);if(ha.toString()!=="NaN"){if(!this.head.divideBy)return 0;let ua=ha/this.head.divideBy*100;return ua>100&&(ua=100),ua}},computedFormatItem(){return this.numberFormatList.find(ha=>ha.key===this.head.numberFormat)},computedContent(){return this.computedFormatItem?this.computedFormatItem.func(this.value[this.head.key]):this.value[this.head.key]}}},aw={style:{width:"100%","padding-right":"5px",display:"flex","justify-content":"flex-end","align-items":"center"}},lw={class:"fv-tableview-default-content"},dw={style:{width:"100%",display:"flex","justify-content":"flex-end","align-items":"center"}},uw={class:"fv-tableview-default-content"};function hw(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-progress-bar"),Ay=resolveComponent("fv-progress-ring"),Ey=resolveComponent("fv-table-view-cell-base");return openBlock(),createBlock(Ey,{value:Sa.value,head:Sa.head,i18n:Sa.i18n,selectPos:Sa.selectPos,foreground:Sa.foreground,row_index:Sa.row_index,col_index:Sa.col_index,fixedLeftWidth:Sa.fixedLeftWidth,fixedRightWidth:Sa.fixedRightWidth,theme:Sa.theme,onDropItem:ua[0]||(ua[0]=My=>ha.$emit("drop-item",My)),onSetSelect:ua[1]||(ua[1]=My=>ha.$emit("set-select",My))},{default:withCtx(()=>[withDirectives(createBaseVNode("p",{class:"fv-tableview-default-content",style:{width:"100%","text-align":"right"}},toDisplayString(_y.computedContent),513),[[vShow,Sa.head.showAs==="number"]]),withDirectives(createBaseVNode("div",aw,[createBaseVNode("p",lw,toDisplayString(_y.computedContent),1),createVNode$1(Ty,{value:_y.computedPercent,foreground:Sa.head.showColor,style:{width:"10px",flex:"1","margin-left":"5px"}},null,8,["value","foreground"])],512),[[vShow,Sa.head.showAs==="bar"]]),withDirectives(createBaseVNode("div",dw,[createBaseVNode("p",uw,toDisplayString(_y.computedContent),1),createVNode$1(Ay,{value:_y.computedPercent,color:Sa.head.showColor,r:"12",borderWidth:"3"},null,8,["value","color"])],512),[[vShow,Sa.head.showAs==="ring"]])]),_:1},8,["value","head","i18n","selectPos","foreground","row_index","col_index","fixedLeftWidth","fixedRightWidth","theme"])}const cw=ae(ow,[["render",hw]]),fw={name:"Number",type:"number",icon:"NumberField",emoji:"🔢",headComponent:rw,cellComponent:cw,filter:({input:ha,value:ua})=>ha?ha===ua:!0,sortAsc:(ha,ua)=>ha.localeCompare(ua),sortDesc:(ha,ua)=>ua.localeCompare(ha)},mw={props:{modelValue:{type:Object,default:()=>({})},index:{type:Number,default:0},i18n:{type:Function,default:ha=>ha},foreground:{default:""},dragItem:{type:Object,default:null},fixedLeftWidth:{default:0},fixedRightWidth:{default:0},theme:{type:String,default:"system"}},data(){return{currentDateFormats:[],currentTimeFormats:[],dateFormatList:[{key:"full",text:"Full Date"},{key:"mm/dd/YYYY",text:"Month/Day/Year"},{key:"dd/mm/YYYY",text:"Day/Month/Year"},{key:"YYYY/mm/dd",text:"Year/Month/Day"},{key:"relative",text:"Relative"}],timeFormatList:[{key:"hidden",text:"Hidden"},{key:"12",text:"12 Hour"},{key:"24",text:"24 Hour"}]}},watch:{"modelValue.dateFormat"(){this.dateFormatInit()},"modelValue.timeFormat"(){this.timeFormatInit()},currentDateFormats(){let ha=this.currentDateFormats[0].key;this.modelValue.dateFormat=ha},currentTimeFormats(){let ha=this.currentTimeFormats[0].key;this.modelValue.timeFormat=ha}},computed:{},mounted(){this.dateFormatInit(),this.timeFormatInit()},methods:{dateFormatInit(){let ha=this.dateFormatList.find(ua=>ua.key===this.modelValue.dateFormat);ha?this.currentDateFormats=[ha]:this.currentDateFormats=[]},timeFormatInit(){let ha=this.timeFormatList.find(ua=>ua.key===this.modelValue.timeFormat);ha?this.currentTimeFormats=[ha]:this.currentTimeFormats=[]},formatDateHead(ha){let ua={key:"number",name:"",emoji:"📅",type:"number",minWidth:60,width:100,dateFormat:"full",timeFormat:"hidden",showEndDate:!1,fixed:!1,fixedSide:!1,wrap:!1,visible:!0};for(let Sa in ua)ha[Sa]||(this.modelValue[Sa]=ua[Sa]);ha.__guid||(ha.__guid=this.GuidWithoutDash())},GuidWithoutDash(){function ha(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ha()+ha()+ha()+ha()+ha()+ha()+ha()+ha()}}},gw={class:"fv-tableview-default-edittool-row between"},pw={style:{"margin-left":"10px"}},vw=["title"],bw={class:"fv-tableview-default-edittool-row between",style:{"margin-top":"10px","margin-bottom":"10px"}},ww={style:{"margin-left":"10px"}},yw=["title"];function kw(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-drop-down"),Ay=resolveComponent("fv-table-view-head-base");return openBlock(),createBlock(Ay,{modelValue:Sa.modelValue,index:Sa.index,i18n:Sa.i18n,foreground:Sa.foreground,fixedLeftWidth:Sa.fixedLeftWidth,fixedRightWidth:Sa.fixedRightWidth,theme:Sa.theme,wrapperWidth:"260px",dragItem:Sa.dragItem,formatFunction:_y.formatDateHead,onDuplicateColumn:ua[2]||(ua[2]=Ey=>ha.$emit("duplicate-column",Ey)),onDropItem:ua[3]||(ua[3]=Ey=>ha.$emit("drop-item",Ey)),onDeleteColumn:ua[4]||(ua[4]=Ey=>ha.$emit("delete-column",Ey))},{menu:withCtx(()=>[createBaseVNode("div",gw,[createBaseVNode("span",pw,toDisplayString(Sa.i18n("Date Format")),1),createVNode$1(Ty,{modelValue:ka.currentDateFormats,"onUpdate:modelValue":ua[0]||(ua[0]=Ey=>ka.currentDateFormats=Ey),options:ka.dateFormatList,theme:Sa.theme,placeholder:Sa.i18n("Select Date Format"),style:{width:"120px"}},{options:withCtx(Ey=>[createBaseVNode("p",{title:Sa.i18n(Ey.option.text),style:{"font-size":"12px"}},toDisplayString(Sa.i18n(Ey.option.text)),9,vw)]),_:1},8,["modelValue","options","theme","placeholder"])]),createBaseVNode("div",bw,[createBaseVNode("span",ww,toDisplayString(Sa.i18n("Time Format")),1),createVNode$1(Ty,{modelValue:ka.currentTimeFormats,"onUpdate:modelValue":ua[1]||(ua[1]=Ey=>ka.currentTimeFormats=Ey),options:ka.timeFormatList,theme:Sa.theme,placeholder:Sa.i18n("Select Time Format"),style:{width:"120px"}},{options:withCtx(Ey=>[createBaseVNode("p",{title:Sa.i18n(Ey.option.text),style:{"font-size":"12px"}},toDisplayString(Sa.i18n(Ey.option.text)),9,yw)]),_:1},8,["modelValue","options","theme","placeholder"])])]),_:1},8,["modelValue","index","i18n","foreground","fixedLeftWidth","fixedRightWidth","theme","dragItem","formatFunction"])}const Cw=ae(mw,[["render",kw]]),$w={props:{modelValue:{type:Object,default:()=>({})},head:{type:Object,default:()=>({})},i18n:{type:Function,default:ha=>ha},selectPos:{type:Object,default:()=>({})},foreground:{default:""},fixedLeftWidth:{default:0},fixedRightWidth:{default:0},row_index:{type:Number,default:0},col_index:{type:Number,default:0},theme:{type:String,default:"system"}},data(){return{currentChoosenDates:[],startDateStr:"",endDateStr:"",startTimeStr:"",endTimeStr:"",currentDate:new Date}},watch:{"head.dateFormat"(){this.dateInit()},"head.timeFormat"(){this.dateInit()}},computed:{computedContent(){return this.head.timeFormat!=="hidden"?this.head.showEndDate?this.startDateStr+" "+this.startTimeStr+" - "+this.endDateStr+" "+this.endTimeStr:this.startDateStr+" "+this.startTimeStr:this.head.showEndDate?this.startDateStr+" - "+this.endDateStr:this.startDateStr},currentDatesRange(){let ha=[];if(this.currentChoosenDates.length===0)return ha;if(this.currentChoosenDates.length===1)return ha.push({year:this.currentChoosenDates[0].getFullYear(),month:this.currentChoosenDates[0].getMonth(),no:this.currentChoosenDates[0].getDate()}),ha;let ua={year:this.currentChoosenDates[0].getFullYear(),month:this.currentChoosenDates[0].getMonth(),no:this.currentChoosenDates[0].getDate()},Sa={year:this.currentChoosenDates[1].getFullYear(),month:this.currentChoosenDates[1].getMonth(),no:this.currentChoosenDates[1].getDate()};for(let ba=ua.year;ba<=Sa.year;ba++){let ka=0,_y=11;ba==ua.year&&(ka=ua.month),ba==Sa.year&&(_y=Sa.month);for(let Ty=ka;Ty<=_y;Ty++){let Ay=this.getDaysInMonth(Ty+1,ba);for(let Ey=1;Ey<=Ay;Ey++){let My={year:ba,month:Ty,no:Ey};ba===ua.year&&ka===ua.month&&Ey<ua.no||ba===Sa.year&&_y===Sa.month&&Ey>Sa.no||ha.push(My)}}}return ha}},mounted(){this.dateInit()},methods:{formatDate(ha,ua){let Sa={};Sa[ua.key]={start:new Date,end:new Date};for(let ba in Sa)ha[ba]||(ha[ba]=Sa[ba]);if(!ha[ua.key].start){let ba={start:new Date(ha[ua.key].toString()),end:new Date(ha[ua.key].toString())};ha[ua.key]=ba}ha.__guid||(ha.__guid=this.GuidWithoutDash()),this.$watch(`modelValue.${this.head.key}`,()=>{this.dateInit()})},dateInit(){let ha=this.head.key,ua={start:new Date,end:new Date};this.modelValue[ha]&&this.modelValue[ha].start&&(ua.start=new Date(this.modelValue[ha].start)),this.modelValue[ha]&&this.modelValue[ha].end&&(ua.end=new Date(this.modelValue[ha].end)),this.currentDate=ua.start,this.currentChoosenDates=[ua.start,ua.end],this.syncStrValue(),this.$nextTick(()=>{this.$refs.calendar.resetDate()})},setStartDate(){if(!this.modelValue[this.head.key]||!this.modelValue[this.head.key].start)return"Invalid Date";let ha=this.modelValue[this.head.key].start,ua=this.head.dateFormat;if(!ua||ua==="full")return ha.toDateString();let Sa=ua;return this.$SDate.Format(Sa,ha)},setEndDate(){if(!this.modelValue[this.head.key]||!this.modelValue[this.head.key].end)return"Invalid Date";let ha=this.modelValue[this.head.key].end,ua=this.head.dateFormat;if(!ua||ua==="full")return ha.toDateString();let Sa=ua;return this.$SDate.Format(Sa,ha)},setStartTime(){if(!this.modelValue[this.head.key]||!this.modelValue[this.head.key].start)return"Invalid Time";let ha=this.modelValue[this.head.key].start;return this.timeFormat(ha)},setEndTime(){if(!this.modelValue[this.head.key]||!this.modelValue[this.head.key].end)return"Invalid Time";let ha=this.modelValue[this.head.key].end;return this.timeFormat(ha)},syncStrValue(){this.startDateStr=this.setStartDate(),this.endDateStr=this.setEndDate(),this.startTimeStr=this.setStartTime(),this.endTimeStr=this.setEndTime()},selectChoosenDates(ha){this.modelValue[this.head.key]&&this.modelValue[this.head.key].start&&(this.modelValue[this.head.key].start=ha[0]),this.modelValue[this.head.key]&&this.modelValue[this.head.key].end&&(this.modelValue[this.head.key].end=ha[ha.length-1]),this.syncStrValue()},timeFormat(ha){if(this.head.timeFormat.toString()==="12"){let ua=ha.getHours(),Sa=ha.getMinutes(),ba=ua>=12?"PM":"AM";return ua=ua%12,ua=ua||12,this.timeValueFormat(ua)+":"+this.timeValueFormat(Sa)+" "+ba}return this.timeValueFormat(ha.getHours())+":"+this.timeValueFormat(ha.getMinutes())+":"+this.timeValueFormat(ha.getSeconds())},timeValueFormat(ha){return ha<10?"0"+ha:ha},getDaysInMonth(ha,ua){return new Date(ua,ha,0).getDate()},GuidWithoutDash(){function ha(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ha()+ha()+ha()+ha()+ha()+ha()+ha()+ha()}}},Sw={class:"fv-tableview-default-content",style:{width:"100%","text-align":"right"}},Vw={class:"fv-tableview-default-edittool-row"},Tw={class:"fv-tableview-default-edittool-row",style:{"margin-bottom":"10px"}},xw={class:"fv-tableview-default-edittool-row"},Iw={class:"fv-tableview-default-edittool-row",style:{"margin-bottom":"10px"}},Ew=createBaseVNode("hr",null,null,-1),Dw={key:0,class:"fv-tableview-default-edittool-row",style:{"margin-bottom":"10px"}};function Lw(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-text-box"),Ay=resolveComponent("fv-calendar-view"),Ey=resolveComponent("fv-time-picker"),My=resolveComponent("fv-toggle-switch"),Dy=resolveComponent("fv-table-view-cell-base");return openBlock(),createBlock(Dy,{modelValue:Sa.modelValue,head:Sa.head,i18n:Sa.i18n,selectPos:Sa.selectPos,foreground:Sa.foreground,row_index:Sa.row_index,col_index:Sa.col_index,fixedLeftWidth:Sa.fixedLeftWidth,fixedRightWidth:Sa.fixedRightWidth,theme:Sa.theme,formatFunction:_y.formatDate,wrapperWidth:"300px",isUnder:!0,onDropItem:ua[6]||(ua[6]=Iy=>ha.$emit("drop-item",Iy)),onSetSelect:ua[7]||(ua[7]=Iy=>ha.$emit("set-select",Iy))},{default:withCtx(()=>[createBaseVNode("p",Sw,toDisplayString(_y.computedContent),1)]),entire:withCtx(Iy=>[createBaseVNode("div",{class:"fv-tableview-default-edittool-row",style:{"margin-top":"10px"},onClick:ua[0]||(ua[0]=Ly=>Ly.stopPropagation())},[createVNode$1(Ty,{modelValue:ka.startDateStr,theme:Sa.theme,underline:"",background:Sa.theme==="dark"?"rgba(0, 0, 0, 0.3)":"","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":Sa.foreground,"border-width":2,"is-box-shadow":!0,style:{height:"35px"}},null,8,["modelValue","theme","background","border-color","focus-border-color"]),withDirectives(createVNode$1(Ty,{modelValue:ka.startTimeStr,theme:Sa.theme,underline:"",background:Sa.theme==="dark"?"rgba(0, 0, 0, 0.3)":"","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":Sa.foreground,"border-width":2,"is-box-shadow":!0,style:{height:"35px","margin-left":"5px"}},null,8,["modelValue","theme","background","border-color","focus-border-color"]),[[vShow,Sa.head.timeFormat!=="hidden"]])]),withDirectives(createBaseVNode("div",{class:"fv-tableview-default-edittool-row",style:{"margin-top":"5px"},onClick:ua[1]||(ua[1]=Ly=>Ly.stopPropagation())},[createVNode$1(Ty,{modelValue:ka.endDateStr,theme:Sa.theme,underline:"",background:Sa.theme==="dark"?"rgba(0, 0, 0, 0.3)":"","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":Sa.foreground,"border-width":2,"is-box-shadow":!0,style:{height:"35px"}},null,8,["modelValue","theme","background","border-color","focus-border-color"]),withDirectives(createVNode$1(Ty,{modelValue:ka.endTimeStr,theme:Sa.theme,underline:"",background:Sa.theme==="dark"?"rgba(0, 0, 0, 0.3)":"","border-color":"rgba(120, 120, 120, 0.1)","focus-border-color":Sa.foreground,"border-width":2,"is-box-shadow":!0,style:{height:"35px","margin-left":"5px"}},null,8,["modelValue","theme","background","border-color","focus-border-color"]),[[vShow,Sa.head.timeFormat!=="hidden"]])],512),[[vShow,Sa.head.showEndDate]]),createVNode$1(Ay,{modelValue:ka.currentDate,"onUpdate:modelValue":ua[2]||(ua[2]=Ly=>ka.currentDate=Ly),theme:Sa.theme,multiple:Sa.head.showEndDate?"range":"single",ref:"calendar",choosenDates:_y.currentDatesRange,foreground:Sa.foreground,style:{scale:"0.95"},onChoosenDatesObj:_y.selectChoosenDates},{weekday_content:withCtx(Ly=>[createTextVNode(toDisplayString(Sa.i18n(Ly.modelValue)),1)]),_:2},1032,["modelValue","theme","multiple","choosenDates","foreground","onChoosenDatesObj"]),withDirectives(createBaseVNode("div",Vw,[createBaseVNode("span",null,toDisplayString(Sa.i18n("Start Time")),1)],512),[[vShow,Sa.head.showEndDate&&Sa.head.timeFormat!=="hidden"]]),withDirectives(createBaseVNode("div",Tw,[Sa.modelValue[Sa.head.key]&&Sa.modelValue[Sa.head.key].start?(openBlock(),createBlock(Ey,{key:0,modelValue:Sa.modelValue[Sa.head.key].start,"onUpdate:modelValue":ua[3]||(ua[3]=Ly=>Sa.modelValue[Sa.head.key].start=Ly),theme:Sa.theme,timeType:Sa.head.timeFormat=="12"?12:24,style:{width:"100%"},onChange:_y.syncStrValue},null,8,["modelValue","theme","timeType","onChange"])):createCommentVNode("",!0)],512),[[vShow,Sa.head.timeFormat!=="hidden"]]),withDirectives(createBaseVNode("div",xw,[createBaseVNode("span",null,toDisplayString(Sa.i18n("End Time")),1)],512),[[vShow,Sa.head.showEndDate&&Sa.head.timeFormat!=="hidden"]]),withDirectives(createBaseVNode("div",Iw,[Sa.modelValue[Sa.head.key]&&Sa.modelValue[Sa.head.key].end?(openBlock(),createBlock(Ey,{key:0,modelValue:Sa.modelValue[Sa.head.key].end,"onUpdate:modelValue":ua[4]||(ua[4]=Ly=>Sa.modelValue[Sa.head.key].end=Ly),theme:Sa.theme,timeType:Sa.head.timeFormat=="12"?12:24,style:{width:"100%"},onChange:_y.syncStrValue},null,8,["modelValue","theme","timeType","onChange"])):createCommentVNode("",!0)],512),[[vShow,Sa.head.showEndDate&&Sa.head.timeFormat!=="hidden"]]),Ew,Sa.modelValue[Sa.head.key]&&Sa.head.showEndDate!==void 0?(openBlock(),createElementBlock("div",Dw,[createBaseVNode("span",null,toDisplayString(Sa.i18n("End Date")),1),createVNode$1(My,{modelValue:Sa.head.showEndDate,"onUpdate:modelValue":ua[5]||(ua[5]=Ly=>Sa.head.showEndDate=Ly),on:Sa.i18n("Yes"),off:Sa.i18n("No"),insideContent:!0,switchOnBackground:Sa.foreground,width:"60",style:{"margin-left":"15px"}},null,8,["modelValue","on","off","switchOnBackground"])])):createCommentVNode("",!0)]),_:1},8,["modelValue","head","i18n","selectPos","foreground","row_index","col_index","fixedLeftWidth","fixedRightWidth","theme","formatFunction"])}const Pw=ae($w,[["render",Lw]]),Fw={name:"Date",type:"date",icon:"Calendar",emoji:"📅",headComponent:Cw,cellComponent:Pw,filter:({input:ha,value:ua})=>ha?ha===ua:!0,sortAsc:(ha,ua)=>ha.localeCompare(ua),sortDesc:(ha,ua)=>ua.localeCompare(ha)},Mw={props:{modelValue:{type:Object,default:()=>({})},index:{type:Number,default:0},i18n:{type:Function,default:ha=>ha},foreground:{default:""},dragItem:{type:Object,default:null},fixedLeftWidth:{default:0},fixedRightWidth:{default:0},theme:{type:String,default:"system"}},data(){return{}},watch:{},computed:{},mounted(){},methods:{formatEmailHead(ha){let ua={key:"email",name:"",emoji:"@",type:"email",minWidth:60,width:100,fixed:!1,fixedSide:!1,wrap:!1,visible:!0};for(let Sa in ua)ha[Sa]||(ha[Sa]=ua[Sa]);ha.__guid||(ha.__guid=this.GuidWithoutDash())},GuidWithoutDash(){function ha(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ha()+ha()+ha()+ha()+ha()+ha()+ha()+ha()}}};function Rw(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-table-view-head-base");return openBlock(),createBlock(Ty,{modelValue:Sa.modelValue,index:Sa.index,i18n:Sa.i18n,foreground:Sa.foreground,formatFunction:_y.formatEmailHead,fixedLeftWidth:Sa.fixedLeftWidth,fixedRightWidth:Sa.fixedRightWidth,theme:Sa.theme,dragItem:Sa.dragItem,onDuplicateColumn:ua[0]||(ua[0]=Ay=>ha.$emit("duplicate-column",Ay)),onDropItem:ua[1]||(ua[1]=Ay=>ha.$emit("drop-item",Ay)),onDeleteColumn:ua[2]||(ua[2]=Ay=>ha.$emit("delete-column",Ay))},null,8,["modelValue","index","i18n","foreground","formatFunction","fixedLeftWidth","fixedRightWidth","theme","dragItem"])}const Bw=ae(Mw,[["render",Rw]]),_w={props:{value:{type:Object,default:()=>({})},head:{type:Object,default:()=>({})},i18n:{type:Function,default:ha=>ha},selectPos:{type:Object,default:()=>({})},foreground:{default:""},fixedLeftWidth:{default:0},fixedRightWidth:{default:0},row_index:{type:Number,default:0},col_index:{type:Number,default:0},theme:{type:String,default:"system"}},data(){return{}},computed:{}},Ow=["href"];function zw(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-table-view-cell-base");return openBlock(),createBlock(Ty,{value:Sa.value,head:Sa.head,i18n:Sa.i18n,selectPos:Sa.selectPos,foreground:Sa.foreground,row_index:Sa.row_index,col_index:Sa.col_index,fixedLeftWidth:Sa.fixedLeftWidth,fixedRightWidth:Sa.fixedRightWidth,theme:Sa.theme,onDropItem:ua[0]||(ua[0]=Ay=>ha.$emit("drop-item",Ay)),onSetSelect:ua[1]||(ua[1]=Ay=>ha.$emit("set-select",Ay))},{default:withCtx(()=>[createBaseVNode("a",{href:"mailto:"+Sa.value[Sa.head.key],class:"fv-tableview-default-content",style:{width:"100%","text-align":"right"}},toDisplayString(Sa.value[Sa.head.key]),9,Ow)]),_:1},8,["value","head","i18n","selectPos","foreground","row_index","col_index","fixedLeftWidth","fixedRightWidth","theme"])}const Aw=ae(_w,[["render",zw]]),Ww={name:"Email",type:"email",icon:"Accounts",emoji:"@",headComponent:Bw,cellComponent:Aw,filter:({input:ha,value:ua})=>ha?ha===ua:!0,sortAsc:(ha,ua)=>ha.localeCompare(ua),sortDesc:(ha,ua)=>ua.localeCompare(ha)},Nw={class:"fv-tableview-main-wrapper"},Hw={class:"fv-tableview-head-item check-box"},Gw={class:"fv-tableview-head-item op-tools"},Uw=createBaseVNode("i",{class:"ms-Icon ms-Icon--Add"},null,-1),Yw={class:"new-line-title"},jw=createBaseVNode("i",{class:"ms-Icon ms-Icon--Delete"},null,-1),qw=createBaseVNode("i",{class:"ms-Icon ms-Icon--Copy"},null,-1),Xw={name:"FvTableView",components:{tableRow:Io,newProperty:Eo,currentProperty:Do},data(){return{thisExtensions:[],selectPos:{active:!1,syncActive:!1,start_row:-1,start_col:-1,end_row:-1,end_col:-1},drag:{columnItem:null,rowItem:null},show:{addMenu:!1,editMenu:!0}}},computed:{sumWidth(){let ha=0;return this.modelValue.heads.forEach(ua=>{ha+=ua.width}),ha+30+60},fixedLeftWidth(){let ha=[],ua=0;return this.modelValue.heads.forEach(Sa=>{ha.push(ua),Sa.fixed&&!Sa.fixedSide&&(ua+=Sa.width)}),ha},fixedRightWidth(){let ha=[],ua=0;return this.modelValue.heads.forEach(Sa=>{ha.push(ua),Sa.fixed&&Sa.fixedSide&&(ua+=Sa.width)}),ha},currentChoosen(){return this.modelValue.rows.filter(ha=>ha.choosen)},currentChoosenAll(){return this.currentChoosen.length===this.modelValue.rows.length},currentChoosenNum(){return this.currentChoosen.length},choosenBackground(){try{let ha=one(this.foreground);return ha=ha.alpha(.1),ha.cssa()}catch{return""}},computedHeadComponent(){return ha=>{let ua=this.thisExtensions.find(Sa=>Sa.type===ha);return ua?ua.headComponent:null}},$theme(){return Y(this.$props).theme.value}},mounted(){this.eventInit(),this.extensionsInit()},methods:{eventInit(){window.addEventListener("click",this.outSideClickEvent),window.addEventListener("mouseup",this.cellSelectReleaseEvent),window.addEventListener("touchend",this.cellSelectReleaseEvent),window.addEventListener("keydown",this.cellCopyEvent),window.addEventListener("keydown",this.cellPasteEvent)},outSideClickEvent(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||(this.selectPos.start_row=-1,this.selectPos.start_col=-1,this.selectPos.end_row=-1,this.selectPos.end_col=-1)},cellSelectReleaseEvent(){if(this.selectPos.syncActive)if(this.syncRowsFunc)this.syncRowsFunc(this.selectPos);else{let ha=this.selectPos.start_row,ua=this.selectPos.end_row,Sa=this.selectPos.start_col,ba=this.modelValue.heads[Sa].key,ka=this.modelValue.rows[ha][ba];if(ha>ua){let _y=ha;ha=ua,ua=_y}for(let _y=ha;_y<=ua;_y++)this.modelValue.rows[_y][ba]=ka}this.selectPos.active=!1,this.selectPos.syncActive=!1},cellCopyEvent(ha){ha.keyCode===67&&ha.ctrlKey&&this.copyTableFunc&&this.copyTableFunc(this.selectPos)},cellPasteEvent(ha){ha.keyCode===86&&ha.ctrlKey&&this.pastedTableFunc&&this.pastedTableFunc(this.selectPos)},extensionsInit(){let ha={name:"Text",type:"text",icon:"List",emoji:"📝",headComponent:Po,cellComponent:Fo,filter:({input:ua,value:Sa})=>ua?Sa.toLowerCase().indexOf(ua.toLowerCase())!==-1:!0,sortAsc:(ua,Sa)=>ua.localeCompare(Sa),sortDesc:(ua,Sa)=>Sa.localeCompare(ua)};this.thisExtensions=[ha,fw,Fw,Ww,...this.extensions]},duplicateColumn(ha){let ua=JSON.parse(JSON.stringify(this.modelValue.heads[ha])),Sa=this.modelValue.heads[ha];ua.__guid=this.GuidWithoutDash(),ua.key=Sa.key+ua.__guid,ua.name=Sa.name+" Copy",this.modelValue.heads.splice(ha+1,0,ua),this.modelValue.rows.forEach(ba=>{ba[ua.key]=ba[Sa.key]})},swapColumn(ha,ua){let Sa=this.modelValue.heads.findIndex(_y=>_y.__guid===ha.__guid);if(Sa===-1)return;let ba=this.modelValue.heads[Sa];this.modelValue.heads.splice(Sa,1);let ka=this.modelValue.heads.findIndex(_y=>_y.__guid===ua.__guid);ka!==-1&&this.modelValue.heads.splice(ka,0,ba)},duplicateRows(){let ha=this.currentChoosen;if(ha.length===0)return;let ua=this.currentChoosen[this.currentChoosen.length-1],Sa=[];ha.forEach(ba=>{let ka=JSON.parse(JSON.stringify(ba));ka.__guid=this.GuidWithoutDash(),Sa.push(ka)}),this.clearChooseAll(),this.modelValue.rows.splice(this.modelValue.rows.indexOf(ua)+1,0,...Sa)},addColumn(ha){let ua={key:ha.name,name:ha.name,emoji:ha.emoji,type:ha.type};this.modelValue.heads.push(ua)},addRow(ha=null){let ua={};this.modelValue.heads.forEach(Sa=>{ua[Sa.key]=""}),ha===null?this.modelValue.rows.push(ua):this.modelValue.rows.splice(ha+1,0,ua)},swapRow(ha,ua){let Sa=this.modelValue.rows.findIndex(_y=>_y===ha);if(Sa===-1)return;let ba=this.modelValue.rows[Sa];this.modelValue.rows.splice(Sa,1);let ka=this.modelValue.rows.findIndex(_y=>_y===ua);ka!==-1&&this.modelValue.rows.splice(ka,0,ba)},chooseAll(){let ha=!this.currentChoosenAll;this.modelValue.rows.forEach(ua=>{ua.choosen=ha}),this.$emit("choose-items",this.currentChoosen)},clearChooseAll(ha=null){this.modelValue.rows.forEach(ua=>{ha&&ua===ha||(this.row.choosen=!1)})},setSelectPos(ha){const{event_type:ua,row_index:Sa,col_index:ba}=ha;ua==="down"?(this.selectPos.start_row=Sa,this.selectPos.start_col=ba,this.selectPos.end_row=Sa,this.selectPos.end_col=ba,this.selectPos.active=!0):ua==="enter"?this.selectPos.active&&(this.selectPos.end_row=Sa,this.selectPos.syncActive||(this.selectPos.end_col=ba)):ua==="sync-down"&&(this.selectPos.start_row=Sa,this.selectPos.start_col=ba,this.selectPos.end_row=Sa,this.selectPos.end_col=ba,this.selectPos.active=!0,this.selectPos.syncActive=!0)},thisDeleteColumn(ha,ua){this.deleteColumnFunc?this.deleteColumnFunc(ha,ua):this.modelValue.heads.splice(ua,1)},thisDeleteRows(){this.deleteRowsFunc&&this.deleteRowsFunc(this.currentChoosen);let ha=this.currentChoosen;ha.length!==0&&ha.forEach(ua=>{this.modelValue.rows.splice(this.modelValue.rows.indexOf(ua),1)})},handleColumnDrag(ha,ua){ha.stopPropagation(),this.drag.columnItem=ua},rowRightClick(ha){const{event:ua,row:Sa,clearChoosenAll:ba}=ha;ua.preventDefault(),ua.stopPropagation(),ba&&this.clearChooseAll(Sa),this.$refs.rightMenu.rightClick(ua,document.body),this.$emit("rightclick",Sa)},addMenuClick(ha,ua=!0){ha.preventDefault(),ha.stopPropagation(),this.$refs.addMenu.rightClick(ha,document.body),this.show.addMenu=ua,this.show.editMenu=!ua},handleSort(ha,ua=!1){!this.thisExtensions.find(Sa=>Sa.type===ha)||(ua?this.modelValue.sort(this.extension.sortDesc):this.modelValue.sort(this.extension.sortAsc))},GuidWithoutDash(){function ha(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ha()+ha()+ha()+ha()+ha()+ha()+ha()+ha()}},beforeUnmount(){window.removeEventListener("click",this.outSideClickEvent),window.removeEventListener("mouseup",this.cellSelectReleaseEvent),window.removeEventListener("touchend",this.cellSelectReleaseEvent),window.removeEventListener("keydown",this.cellCopyEvent),window.removeEventListener("keydown",this.cellPasteEvent)}},Kw=Object.assign(Xw,{props:{...K,modelValue:{type:Object,default:()=>({})},i18n:{type:Function,default:ha=>ha},foreground:{default:"rgba(0, 90, 158, 1)"},deleteColumnFunc:{type:Function,default:null},deleteRowsFunc:{type:Function,default:null},copyTableFunc:{type:Function,default:null},pastedTableFunc:{type:Function,default:null},syncRowsFunc:{type:Function,default:null},rightMenuBackground:{default:""},extensions:{default:()=>[]}},emits:["choose-items","rightclick","update:modelValue","update:selectPos","update:dragItem"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-check-box"),_y=resolveComponent("fv-right-menu");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-TableView",[Sa.$theme]])},[createBaseVNode("div",Nw,[createBaseVNode("div",{class:"fv-tableview-head-row",style:normalizeStyle$1({width:Sa.sumWidth+"px"})},[createBaseVNode("div",Hw,[createVNode$1(ka,{modelValue:Sa.currentChoosenAll,background:ha.foreground,theme:Sa.$theme,onClick:Sa.chooseAll},null,8,["modelValue","background","theme","onClick"])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(ha.modelValue.heads,(Ty,Ay)=>withDirectives((openBlock(),createBlock(resolveDynamicComponent(Sa.computedHeadComponent(Ty.type)),{modelValue:Ty,key:Ay,index:Ay,i18n:ha.i18n,foreground:ha.foreground,fixedLeftWidth:Sa.fixedLeftWidth[Ay],fixedRightWidth:Sa.fixedRightWidth[Ay],theme:Sa.$theme,dragItem:Sa.drag.columnItem,draggable:"true",onDuplicateColumn:Sa.duplicateColumn,onDragstart:Ey=>Sa.handleColumnDrag(Ey,Ty),onDragend:ba[0]||(ba[0]=Ey=>Sa.drag.columnItem=null),onDropItem:Ey=>Sa.swapColumn(Ey.drag,Ty),onDeleteColumn:Ey=>Sa.thisDeleteColumn(Ey,Ay)},null,40,["modelValue","index","i18n","foreground","fixedLeftWidth","fixedRightWidth","theme","dragItem","onDuplicateColumn","onDragstart","onDropItem","onDeleteColumn"])),[[vShow,Ty.visible]])),128)),createBaseVNode("div",Gw,[createBaseVNode("i",{class:"ms-Icon ms-Icon--Add fv-tableview-icon-block fade",onClick:ba[1]||(ba[1]=Ty=>Sa.addMenuClick(Ty))}),createBaseVNode("i",{class:"ms-Icon ms-Icon--More fv-tableview-icon-block fade",onClick:ba[2]||(ba[2]=Ty=>Sa.addMenuClick(Ty,!1))})])],4),(openBlock(!0),createElementBlock(Fragment,null,renderList(ha.modelValue.rows,(Ty,Ay)=>(openBlock(),createBlock(Io,{key:Ay,modelValue:ha.modelValue,row:Ty,row_index:Ay,i18n:ha.i18n,selectPos:Sa.selectPos,foreground:ha.foreground,theme:Sa.$theme,extensions:Sa.thisExtensions,dragItem:Sa.drag.rowItem,style:normalizeStyle$1({width:Sa.sumWidth+"px"}),onUpdateDragItem:ba[3]||(ba[3]=Ey=>Sa.drag.rowItem=Ey),onDropItem:Ey=>Sa.swapRow(Ey.drag,Ty),onAddRow:Ey=>Sa.addRow(Ay),onSetSelect:Sa.setSelectPos,onRightclick:Sa.rowRightClick},null,8,["modelValue","row","row_index","i18n","selectPos","foreground","theme","extensions","dragItem","style","onDropItem","onAddRow","onSetSelect","onRightclick"]))),128)),createBaseVNode("div",{class:"fv-tableview-data-row newline",style:normalizeStyle$1({width:Sa.sumWidth+"px"}),onClick:ba[4]||(ba[4]=Ty=>Sa.addRow())},[Uw,createBaseVNode("p",Yw,toDisplayString(ha.i18n("New Line")),1)],4)]),createVNode$1(_y,{ref:"rightMenu",theme:Sa.$theme,rightMenuWidth:220,background:ha.rightMenuBackground,fullExpandAnimation:!0,style:{"z-index":"5"}},{default:withCtx(()=>[renderSlot(Sa.$slots,"menu",{},()=>[createBaseVNode("span",{onClick:ba[5]||(ba[5]=Ty=>Sa.thisDeleteRows())},[jw,createBaseVNode("p",null,toDisplayString(ha.i18n("Delete")),1)]),createBaseVNode("span",{onClick:ba[6]||(ba[6]=Ty=>Sa.duplicateRows())},[qw,createBaseVNode("p",null,toDisplayString(ha.i18n("Duplicate")),1)])])]),_:3},8,["theme","background"]),createVNode$1(_y,{ref:"addMenu",theme:Sa.$theme,rightMenuWidth:220,background:ha.rightMenuBackground,fullExpandAnimation:!0,style:{"z-index":"5"}},{default:withCtx(()=>[renderSlot(Sa.$slots,"menu",{},()=>[withDirectives(createVNode$1(Eo,{extensions:Sa.thisExtensions,i18n:ha.i18n,foreground:ha.foreground,theme:Sa.$theme,onAddColumn:Sa.addColumn},null,8,["extensions","i18n","foreground","theme","onAddColumn"]),[[vShow,Sa.show.addMenu]]),withDirectives(createVNode$1(Do,{modelValue:ha.modelValue,heads:ha.modelValue.heads,extensions:Sa.thisExtensions,i18n:ha.i18n,foreground:ha.foreground,theme:Sa.$theme,onAddClick:ba[7]||(ba[7]=Ty=>{Sa.show.editMenu=!1,Sa.show.addMenu=!0})},null,8,["modelValue","heads","extensions","i18n","foreground","theme"]),[[vShow,Sa.show.editMenu]])])]),_:3},8,["theme","background"])],2)}}}),Jw=J(Kw),Qw=J(Fo),Zw=J(Po),e1=["onClick"],t1={class:"fv-tag-default-content"},i1={class:"fv-tag-icon"},s1=["onClick"],n1={class:"fv-tag-icon"},r1=createBaseVNode("i",{class:"ms-Icon ms-Icon--Add fv-tag-icon-btn"},null,-1),o1=[r1],a1={class:"fv-tag-content"},l1={class:"fv-tag-default-content"},d1={name:"FvTag",data(){return{thisValue:this.modelValue,inputValue:"",edit:!1}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)},edit(){this.inputValue!==""&&this.addTag()}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.outSideClickInit()},methods:{outSideClickInit(){window.addEventListener("click",this.outSideClickEvent),window.addEventListener("touchend",this.outSideClickEvent)},outSideClickEvent(ha){let ua=ha.target,Sa=!1;for(;ua&&ua.tagName&&ua.tagName.toLowerCase()!="body";){if(ua==this.$refs.add){Sa=!0;break}ua=ua.parentNode}Sa||(this.edit=!1)},editable(){this.edit=!0,setTimeout(()=>{this.$refs.edit.focus()},10)},addTag(){this.thisValue.push({text:this.inputValue}),this.inputValue="",this.$emit("add-item",{text:this.inputValue})},delTag(ha){let ua=this.thisValue.indexOf(ha);this.thisValue.splice(ua,1),this.$emit("del-item",ha)},getColor(ha){return ha=ot(ha),this.$theme=="dark"?{background:ha.alpha(1).cssa(),borderColor:ha.alpha(1).cssa(),color:"whitesmoke"}:{background:ha.alpha(.1).cssa(),borderColor:ha.alpha(.1).cssa(),color:ha.alpha(1).cssa()}}},beforeUnmount(){window.removeEventListener("click",this.outSideClickEvent),window.removeEventListener("touchend",this.outSideClickEvent)}},u1=Object.assign(d1,{props:{...K,modelValue:{default:()=>[]},newTagPlaceholder:{default:"New Tag"},size:{default:""},newTagBackground:{default:null},fontSize:{default:""},isNewTag:{default:!1},isDel:{default:!1}},emits:["update:modelValue","add-item","del-item","tag-click"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-text-box");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-Tag",[Sa.$theme]])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.thisValue,(_y,Ty)=>(openBlock(),createElementBlock("div",{key:Ty,class:normalizeClass(["fv-tag-item",[_y.type?_y.type:"",ha.size,{disabled:_y.disabled}]]),style:normalizeStyle$1({background:_y.background?Sa.getColor(_y.background).background:"",borderColor:_y.background?Sa.getColor(_y.background).borderColor:"",color:_y.background?Sa.getColor(_y.background).color:""}),onClick:Ay=>Sa.$emit("tag-click",_y)},[createBaseVNode("span",{class:"fv-tag-content",style:normalizeStyle$1({"font-size":ha.fontSize+"px"})},[renderSlot(Sa.$slots,"default",{},()=>[createBaseVNode("p",t1,toDisplayString(_y.text),1)])],4),withDirectives(createBaseVNode("div",i1,[createBaseVNode("i",{class:"ms-Icon ms-Icon--Cancel fv-tag-icon-btn",onClick:Ay=>Sa.delTag(_y)},null,8,s1)],512),[[vShow,ha.isDel&&!_y.disabled]])],14,e1))),128)),withDirectives(createBaseVNode("div",{ref:"add",class:normalizeClass(["fv-tag-item controller",[ha.size]]),style:normalizeStyle$1({background:ha.newTagBackground?Sa.getColor(ha.newTagBackground).background:"",borderColor:ha.newTagBackground?Sa.getColor(ha.newTagBackground).borderColor:"",color:ha.newTagBackground?Sa.getColor(ha.newTagBackground).color:""}),onClick:ba[1]||(ba[1]=(..._y)=>Sa.editable&&Sa.editable(..._y))},[withDirectives(createBaseVNode("div",n1,o1,512),[[vShow,!Sa.edit]]),withDirectives(createBaseVNode("span",a1,[renderSlot(Sa.$slots,"default",{},()=>[createBaseVNode("p",l1,toDisplayString(ha.newTagPlaceholder),1)])],512),[[vShow,!Sa.edit]]),withDirectives(createVNode$1(ka,{modelValue:Sa.inputValue,"onUpdate:modelValue":ba[0]||(ba[0]=_y=>Sa.inputValue=_y),ref:"edit",background:"transparent","border-color":"transparent","focus-border-color":"transparent",placeholder:ha.newTagPlaceholder,style:{width:"auto"},onKeydown:withKeys(Sa.addTag,["enter"])},null,8,["modelValue","placeholder","onKeydown"]),[[vShow,Sa.edit]])],6),[[vShow,ha.isNewTag]])],2)}}}),h1=J(u1),c1={emits:["update:modelValue","keydown","keyup","change","paste","focus","blur"],props:{modelValue:{type:Array,default:()=>[]},inputmode:{default:"text"},type:{default:"text"},mask:{type:String,default:"mask:___"},flag:{type:String,default:"_"},pattern:{type:String,default:"[Ss]*"},readonly:{default:!1},disabled:{default:!1},fontSize:{default:13.3},fontWeight:{default:"normal"},foreground:{default:""},textAlign:{default:"left"},theme:{type:String,default:"global"}},data(){return{thisValue:[],currentPos:0,thisPattern:new RegExp(this.pattern)}},watch:{modelValue(ha){this.syncValue(ha)},mask(ha){this.thisValueInit()},flag(ha){this.thisValueInit()},pattern(ha){this.thisPattern=new RegExp(ha)}},computed:{$theme(){return Y(this.$props).theme.value},maxLength(){let ha=0;for(let ua=0;ua<this.mask.length;ua++)this.mask[ua]==this.flag&&ha++;return ha},renderText(){this.mask;let ha=0,ua="";for(let Sa=0;Sa<this.mask.length;Sa++)if(this.mask[Sa]==this.flag){if(ha>=this.thisValue.length)break;this.thisValue[ha].content!==""?ua+=this.thisValue[ha].content:ua+=this.mask[Sa],ha++}else ua+=this.mask[Sa];return ua},isReadOnly(){return this.readonly.toString()=="true"||this.readonly=="readonly"||this.readonly===""},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""}},mounted(){this.thisValueInit(),this.syncValue(this.modelValue),this.thisPattern=new RegExp(this.pattern),this.$refs.input.addEventListener("paste",ha=>{let ua=ha.clipboardData.getData("text/plain"),Sa=0;for(let ba=0;ba<ua.length;ba++)ua[ba].match(this.thisPattern)&&Sa<this.thisValue.length&&(this.thisValue[Sa].content=ua[ba],Sa++,this.currentPos=this.thisValue[Sa].index+1)})},methods:{thisValueInit(){this.thisValue=[];for(let ha=0;ha<this.mask.length;ha++)this.mask[ha]==this.flag&&this.thisValue.push({index:ha,content:""});this.flag.length!=1&&console.warn("TextBox's flag should only contain 1 char."),this.$refs.input.value=this.renderText},syncValue(ha){for(let ua=0;ua<this.thisValue.length;ua++)ua<ha.length?this.thisValue[ua]={index:this.thisValue[ua].index,content:ha[ua]}:this.thisValue[ua]={index:this.thisValue[ua].index,content:""};this.$refs.input.value=this.renderText},keyDown(ha){this.$emit("keydown",ha);let ua=ha.keyCode,Sa=-1,ba=this.$refs.input.selectionStart,ka=this.$refs.input.selectionEnd,_y=this.clearRange(ba,ka);for(let Ty=ba-1;Ty>=0;Ty--)this.mask[Ty]==this.flag&&Sa++;if(this.isInputCode(ua)&&!ha.crtlKey){if(!this.thisPattern.test(ha.key))return 0;Sa<this.thisValue.length-1&&(this.thisValue[Sa+1]={index:this.thisValue[Sa+1].index,content:ha.key},this.currentPos=this.thisValue[Sa+1].index+1)}else if(ua==8){if(_y)return 0;Sa>-1&&(this.thisValue[Sa]={index:this.thisValue[Sa].index,content:""},this.currentPos=this.thisValue[Sa].index)}},isInputCode(ha){let ua=[[48,57],[65,90],[96,107],[109,111],[186,222]];for(let Sa of ua)if(ha>=Sa[0]&&ha<=Sa[1])return!0;return!1},clearRange(ha,ua){if(ua-ha==0)return 0;let Sa=0;for(let ba=this.thisValue.length-1;ba>=0;ba--)this.thisValue[ba].index+1>ha&&this.thisValue[ba].index+1<=ua&&(this.thisValue[ba]={index:this.thisValue[ba].index,content:""},Sa=ba);return this.currentPos=this.thisValue[Sa].index,!0},input(ha){ha.target.value=this.renderText,this.$refs.input.setSelectionRange(this.currentPos,this.currentPos);let ua=[];for(let Sa=0;Sa<this.thisValue.length;Sa++)ua.push(this.thisValue[Sa].content);this.$emit("update:modelValue",ua)},focusInspect(){this.$refs.input.focus()}}},f1={class:"text-box-container internal"},m1=["inputmode","type","readonly","disabled"];function g1(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",f1,[createBaseVNode("input",{inputmode:Sa.inputmode,type:Sa.type,class:"fv-text-box-input",readonly:_y.isReadOnly,disabled:_y.isDisabled,ref:"input",style:normalizeStyle$1({"font-size":`${Sa.fontSize}px`,"font-weight":Sa.fontWeight,color:Sa.foreground,"text-align":Sa.textAlign}),onInput:ua[0]||(ua[0]=(...Ty)=>_y.input&&_y.input(...Ty)),onKeydown:ua[1]||(ua[1]=(...Ty)=>_y.keyDown&&_y.keyDown(...Ty)),onKeyup:ua[2]||(ua[2]=Ty=>ha.$emit("keyup",Ty)),onChange:ua[3]||(ua[3]=Ty=>ha.$emit("change",Ty)),onPaste:ua[4]||(ua[4]=Ty=>ha.$emit("paste",Ty)),onFocus:ua[5]||(ua[5]=Ty=>ha.$emit("focus",!0)),onBlur:ua[6]||(ua[6]=Ty=>ha.$emit("blur",!1))},null,44,m1)])}const p1=ae(c1,[["render",g1]]),v1={components:{maskInput:p1},emits:["update:modelValue","update:focus","keydown","keyup","change","paste","focus","blur"],props:{modelValue:{default:""},mode:{default:"default"},inputmode:{default:"text"},placeholder:{default:""},type:{default:"text"},mask:{type:String,default:"mask:___"},flag:{type:String,default:"_"},pattern:{type:String,default:"[Ss]*"},inputRules:{type:String,default:"[Ss]*"},readonly:{default:!1},focus:{default:!1},maxlength:{default:""},disabled:{default:!1},fontSize:{default:13.3},fontWeight:{default:"normal"},foreground:{default:""},textAlign:{default:"left"},theme:{type:String,default:"global"}},data(){return{thisValue:(typeof this.modelValue).toString()=="string"?this.modelValue:"",thisMaskValue:(typeof this.modelValue).toString()=="object"?this.modelValue:[],thisPattern:new RegExp(this.partten),thisInputRules:new RegExp(this.inputRules)}},watch:{modelValue(ha){(typeof ha).toString()=="string"?this.thisValue=ha:this.thisMaskValue=ha},mode(ha){ha=="default"?this.thisValue="":this.thisMaskValue=[]},thisValue(ha,ua){!ha||this.thisInputRules.test(ha)?this.$emit("update:modelValue",ha):ha=ua},thisMaskValue(ha){this.$emit("update:modelValue",ha)},pattern(ha){this.thisPattern=new RegExp(ha)},inputRules(ha){this.thisInputRules=new RegExp(ha)}},computed:{$theme(){return Y(this.$props).theme.value},isReadOnly(){return this.readonly.toString()=="true"||this.readonly=="readonly"||this.readonly===""},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""}},mounted(){this.thisPattern=new RegExp(this.pattern),this.thisInputRules=new RegExp(this.inputRules)},methods:{keyDown(ha){this.$emit("keydown",ha),ha.key&&(ha.key.length>1||this.thisPattern.test(ha.key)||ha.preventDefault())},focusInspect(){this.mode=="mask"?this.$refs.mask_input.focusInspect():this.$refs.input.focus()}}},b1={class:"text-box-container"},w1=["inputmode","type","placeholder","readonly","disabled","maxlength"];function y1(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("mask-input");return openBlock(),createElementBlock("div",b1,[Sa.mode=="default"?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":ua[0]||(ua[0]=Ay=>ka.thisValue=Ay),inputmode:Sa.inputmode,type:Sa.type,placeholder:Sa.placeholder,class:"fv-text-box-input",readonly:_y.isReadOnly,disabled:_y.isDisabled,maxlength:Sa.maxlength,ref:"input",style:normalizeStyle$1({"font-size":`${Sa.fontSize}px`,"font-weight":Sa.fontWeight,color:Sa.foreground,"text-align":Sa.textAlign}),onKeydown:ua[1]||(ua[1]=(...Ay)=>_y.keyDown&&_y.keyDown(...Ay)),onKeyup:ua[2]||(ua[2]=Ay=>ha.$emit("keyup",Ay)),onChange:ua[3]||(ua[3]=Ay=>ha.$emit("change",Ay)),onPaste:ua[4]||(ua[4]=Ay=>ha.$emit("paste",Ay)),onFocus:ua[5]||(ua[5]=Ay=>ha.$emit("update:focus",!0)),onBlur:ua[6]||(ua[6]=Ay=>ha.$emit("update:focus",!1))},null,44,w1)),[[vModelDynamic,ka.thisValue]]):createCommentVNode("",!0),Sa.mode=="mask"?(openBlock(),createBlock(Ty,{key:1,ref:"mask_input",modelValue:ka.thisMaskValue,"onUpdate:modelValue":ua[7]||(ua[7]=Ay=>ka.thisMaskValue=Ay),inputmode:Sa.inputmode,type:Sa.type,placeholder:Sa.placeholder,mask:Sa.mask,flag:Sa.flag,pattern:Sa.pattern,readonly:_y.isReadOnly,disabled:_y.isDisabled,fontSize:Sa.fontSize,fontWeight:Sa.fontWeight,textAlign:Sa.textAlign,onKeydown:ua[8]||(ua[8]=Ay=>ha.$emit("keydown",Ay)),onKeyup:ua[9]||(ua[9]=Ay=>ha.$emit("keyup",Ay)),onChange:ua[10]||(ua[10]=Ay=>ha.$emit("change",Ay)),onPaste:ua[11]||(ua[11]=Ay=>ha.$emit("paste",Ay)),onFocus:ua[12]||(ua[12]=Ay=>ha.$emit("update:focus",!0)),onBlur:ua[13]||(ua[13]=Ay=>ha.$emit("update:focus",!1))},null,8,["modelValue","inputmode","type","placeholder","mask","flag","pattern","readonly","disabled","fontSize","fontWeight","textAlign"])):createCommentVNode("",!0)])}const Mo=ae(v1,[["render",y1]]),k1={class:"fix-block"},C1={class:"fix-block"},$1={name:"FvTextBox",components:{coreInput:Mo},data(){return{thisValue:this.modelValue.toString(),isFocus:!1,timer:{debounce:null}}},watch:{modelValue(ha){this.thisValue=ha.toString()},thisValue(ha){clearTimeout(this.timer.debounce),this.timer.debounce=setTimeout(()=>{this.$emit("debounce-input",this.thisValue)},this.debounceDelay),this.$emit("update:modelValue",ha)}},computed:{$theme(){return Y(this.$props).theme.value},isUnderline(){return this.underline.toString()=="true"||this.underline=="underline"||this.underline===""},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},borderLightColor(){return this.revealBorderColor?this.revealBorderColor:this.$theme=="light"?"rgba(121, 119, 117, 0.6)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.6)":"rgba(121, 119, 117, 0.6)"},backgroundLightColor(){return this.revealBackgroundColor?this.revealBackgroundColor:this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"}},mounted(){},methods:{focus(){this.$refs.core.focusInspect()}}},S1=Object.assign($1,{props:{...K,modelValue:{default:""},mode:{default:"default"},inputmode:{default:"text"},placeholder:{default:""},type:{default:"text"},mask:{type:String,default:"mask:___"},flag:{type:String,default:"_"},pattern:{type:String,default:"[Ss]*"},inputRules:{type:String,default:"[Ss]*"},readonly:{default:!1},maxlength:{default:""},prefix:{default:""},suffix:{default:""},leftIcon:{default:""},icon:{default:""},underline:{default:!1},background:{default:""},borderWidth:{default:1},borderColor:{default:""},focusBorderColor:{default:""},fontSize:{default:13.3},fontWeight:{default:"normal"},foreground:{default:""},borderRadius:{default:3},textAlign:{default:"left"},isBoxShadow:{default:!1},revealBorder:{default:!1},revealBorderColor:{default:!1},revealBackgroundColor:{default:!1},status:{default:""},debounceDelay:{default:300},disabled:{default:!1}},emits:["update:modelValue","debounce-input","keydown","keyup","change","paste","left-icon-click","icon-click","click"],setup(ha,{expose:ua,emit:Sa}){const ba=ref(null);return ua({focus:()=>{ba.value.focusInspect()}}),(ka,_y)=>{const Ty=resolveComponent("fv-reveal-container");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-TextBox",[ka.$theme,ha.status,ka.isFocus?"focus":"",ka.isDisabled?"disabled":"",ka.isUnderline?"underline":"",{shadow:ha.isBoxShadow}]]),style:normalizeStyle$1([{background:ha.background,borderRadius:`${ha.borderRadius}px`}]),onClick:_y[8]||(_y[8]=Ay=>ka.isFocus=!0)},[createVNode$1(Ty,{parent:()=>ka.$el,class:"fv-text-box-reveal-container",backgroundColor:ka.backgroundLightColor,borderColor:ka.borderLightColor,backgroundGradientSize:120,borderGradientSize:60,borderWidth:ha.borderWidth,borderRadius:ha.borderRadius,disabled:ka.isDisabled||!ha.revealBorder},null,8,["parent","backgroundColor","borderColor","borderWidth","borderRadius","disabled"]),createBaseVNode("div",{class:"fv-text-box-wrapper-container",style:normalizeStyle$1({borderWidth:`${ha.borderWidth}px`,borderColor:ka.isFocus?ha.focusBorderColor:ha.borderColor,borderRadius:`${ha.borderRadius}px`})},[withDirectives(createBaseVNode("div",k1,[createBaseVNode("p",null,toDisplayString(ha.prefix),1)],512),[[vShow,ha.prefix!=""]]),withDirectives(createBaseVNode("i",{class:normalizeClass(["ms-Icon icon-block",[`ms-Icon--${ha.leftIcon}`]]),onClick:_y[0]||(_y[0]=Ay=>ka.$emit("left-icon-click",Ay))},null,2),[[vShow,ha.leftIcon!=""]]),createVNode$1(Mo,{modelValue:ka.thisValue,"onUpdate:modelValue":_y[1]||(_y[1]=Ay=>ka.thisValue=Ay),ref_key:"core",ref:ba,mode:ha.mode,inputmode:ha.inputmode,type:ha.type,placeholder:ha.placeholder,mask:ha.mask,flag:ha.flag,pattern:ha.pattern,inputRules:ha.inputRules,readonly:ha.readonly,maxlength:ha.maxlength,disabled:ha.disabled,fontSize:ha.fontSize,fontWeight:ha.fontWeight,foreground:ha.foreground,textAlign:ha.textAlign,focus:ka.isFocus,"onUpdate:focus":_y[2]||(_y[2]=Ay=>ka.isFocus=Ay),onKeydown:_y[3]||(_y[3]=Ay=>ka.$emit("keydown",Ay)),onKeyup:_y[4]||(_y[4]=Ay=>ka.$emit("keyup",Ay)),onChange:_y[5]||(_y[5]=Ay=>ka.$emit("change",Ay)),onPaste:_y[6]||(_y[6]=Ay=>ka.$emit("paste",Ay))},null,8,["modelValue","mode","inputmode","type","placeholder","mask","flag","pattern","inputRules","readonly","maxlength","disabled","fontSize","fontWeight","foreground","textAlign","focus"]),withDirectives(createBaseVNode("i",{class:normalizeClass(["ms-Icon icon-block",[`ms-Icon--${ha.icon}`]]),onClick:_y[7]||(_y[7]=Ay=>ka.$emit("icon-click",Ay))},null,2),[[vShow,ha.icon!=""]]),withDirectives(createBaseVNode("div",C1,[createBaseVNode("p",null,toDisplayString(ha.suffix),1)],512),[[vShow,ha.suffix!=""]])],4)],6)}}}),V1=J(S1),T1=["placeholder","readonly","disabled","maxlength"],x1={name:"FvTextField",data(){return{thisValue:(typeof this.modelValue).toString()=="string"?this.modelValue:"",isFocus:!1}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)}},computed:{$theme(){return Y(this.$props).theme.value},isUnderline(){return this.underline.toString()=="true"||this.underline=="underline"||this.underline===""},isReadOnly(){return this.readonly.toString()=="true"||this.readonly=="readonly"||this.readonly===""},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},borderLightColor(){return this.revealBorderColor?this.revealBorderColor:this.$theme=="light"?"rgba(121, 119, 117, 0.6)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.6)":"rgba(121, 119, 117, 0.6)"},backgroundLightColor(){return this.revealBackgroundColor?this.revealBackgroundColor:this.$theme=="light"?"rgba(121, 119, 117, 0.3)":this.$theme=="dark"||this.$theme=="custom"?"rgba(255, 255, 255, 0.3)":"rgba(121, 119, 117, 0.3)"}},mounted(){},methods:{focus(ha,ua){this.isFocus=ha,ha?this.$emit("focus",ua):this.$emit("blur",ua)}}},I1=Object.assign(x1,{props:{...K,modelValue:{default:""},readonly:{default:!1},placeholder:{default:""},maxlength:{default:""},disabled:{default:!1},underline:{default:!1},background:{default:""},borderWidth:{default:1},borderColor:{default:""},focusBorderColor:{default:""},fontSize:{default:13.8},fontWeight:{default:"normal"},foreground:{default:""},textAlign:{default:"left"},borderRadius:{default:3},isBoxShadow:{default:!1},revealBorder:{default:!1},revealBorderColor:{default:!1},revealBackgroundColor:{default:!1},status:{default:""}},emits:["update:modelValue","focus","blur","keydown","keyup","change","paste"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-reveal-container");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-TextField",[Sa.$theme,ha.status,{focus:Sa.isFocus},{disabled:Sa.isDisabled},{underline:Sa.isUnderline},{shadow:ha.isBoxShadow}]]),style:normalizeStyle$1([{background:ha.background,borderRadius:`${ha.borderRadius}px`}])},[createVNode$1(ka,{parent:()=>Sa.$el,class:"fv-text-field-reveal-container",backgroundColor:Sa.backgroundLightColor,borderColor:Sa.borderLightColor,backgroundGradientSize:120,borderGradientSize:60,borderWidth:ha.borderWidth,borderRadius:ha.borderRadius,disabled:Sa.isDisabled||!ha.revealBorder},null,8,["parent","backgroundColor","borderColor","borderWidth","borderRadius","disabled"]),createBaseVNode("div",{class:"text-field-wrapper-container",style:normalizeStyle$1({borderWidth:`${ha.borderWidth}px`,borderColor:Sa.isFocus?ha.focusBorderColor:ha.borderColor,borderRadius:`${ha.borderRadius}px`})},[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":ba[0]||(ba[0]=_y=>Sa.thisValue=_y),placeholder:ha.placeholder,class:"fv-text-field-input",readonly:Sa.isReadOnly,disabled:Sa.isDisabled,maxlength:ha.maxlength,style:normalizeStyle$1({"font-size":`${ha.fontSize}px`,"font-weight":ha.fontWeight,color:ha.foreground,"text-align":ha.textAlign}),onKeydown:ba[1]||(ba[1]=_y=>Sa.$emit("keydown",_y)),onKeyup:ba[2]||(ba[2]=_y=>Sa.$emit("keyup",_y)),onChange:ba[3]||(ba[3]=_y=>Sa.$emit("change",_y)),onPaste:ba[4]||(ba[4]=_y=>Sa.$emit("paste",_y)),onFocus:ba[5]||(ba[5]=_y=>Sa.focus(!0,_y)),onBlur:ba[6]||(ba[6]=_y=>Sa.focus(!1,_y))},null,44,T1),[[vModelText,Sa.thisValue]])],4)],6)}}}),E1=J(I1),D1={class:"fv-TimePicker__input-item"},L1={class:"fv-TimePicker__options-body"},P1=["onClick"],F1=createBaseVNode("i",{class:"ms-Icon ms-Icon--CaretUpSolid8"},null,-1),M1=[F1],R1=["onClick"],B1=["onClick"],_1=createBaseVNode("i",{class:"ms-Icon ms-Icon--CaretDownSolid8"},null,-1),O1=[_1],z1={class:"fv-TimePicker__options-bar"},A1=createBaseVNode("i",{class:"ms-Icon ms-Icon--Accept"},null,-1),W1=[A1],N1=createBaseVNode("i",{class:"ms-Icon ms-Icon--Cancel"},null,-1),H1=[N1],G1={name:"FvTimePicker",directives:{hover:{bind(ha,{value:ua}){ua!==void 0&&typeof ua=="function"&&(ha.enterFunction=()=>{ua(!0,ha)},ha.leaveFunction=()=>{ua(!1,ha)},ha.addEventListener("mouseover",ha.enterFunction),ha.addEventListener("mouseleave",ha.leaveFunction))},unbind(ha){ha.enterFunction!==void 0&&typeof ha.enterFunction=="function"&&(ha.removeEventListener("mouseover",ha.hoverFunction),ha.removeEventListener("mouseleave",ha.leaveFunction))}}},data(){return{show:!1,data:[[],[]],window:{event:{click:ha=>{let ua=ha.target,Sa=!1;for(;ua;){if(ua==this.$el){Sa=!0;break}ua=ua.parentNode}Sa||(this.show=!1)}}},config:{optionCount:9,buffer:1},selected:{date:this.modelValue},options:{}}},watch:{show(ha){ha?(this.selected.date=this.modelValue,this.init()):this.config.clickLock=!1}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.init(),this.loadEvent()},beforeUnmount(){this.removeEvent()},methods:{focus(){this.disabled||(this.show=!0)},accept(){this.$emit("update:modelValue",new Date(this.selected.date)),this.$emit("change",new Date(this.selected.date)),this.show=!1},cancel(){this.show=!1},init(){this.data=[[],[]],this.timeType=="12"&&this.data.push([]),this.size=[this.timeType==12?12:24,60,2];for(let ha=0;ha<this.data.length;++ha){let ua=this.data[ha];this.setOptions(ua,this.size[ha],ha)}},nPrev(ha,ua,Sa=1,ba=1){ha=Math.round(ha);let ka=Sa*ua;return(ha+ka-ba-Sa)%ua+ba},nNext(ha,ua,Sa=1,ba=1){ha=Math.round(ha);let ka=ba*ua;return(ha+ka+Sa-ba)%ua+ba},loadEvent(){for(let ha in this.window.event){let ua=this.window.event[ha];window.addEventListener(ha,ua)}},setOptions(ha,ua,Sa){let ba=this.config.optionCount+this.config.buffer*2,ka,_y=this.selected.date;switch(Sa){case 0:ka=this.nPrev(_y.getHours(),ua,Math.floor(ba/2),0);break;case 1:ka=this.nPrev(_y.getMinutes(),ua,Math.floor(ba/2),0,0);break;case 2:ka=this.nPrev(Math.floor(_y.getHours()/11.9),ua,Math.floor(ba/2),0);break}for(let Ty=0;Ty<ba;++Ty)Sa==2&&Ty!=5&&Ty-ka!=5&&Ty-ka!=4?ha.push(ka-3):ha.push(ka),ka=this.nNext(ka,ua,1,Sa==0?1:0);this.$nextTick(()=>{this.loadSlide(ua,Sa)})},loadSlide(ha,ua){let Sa=`col${ua}`,ba=this.$refs[Sa][0].scrollTop=40*this.config.buffer;this.options[Sa]={},this.options[Sa].scroll&&this.$refs[Sa][0].removeEventListener("scroll",this.options[Sa].scroll),this.options[Sa].scroll=()=>{if(ua==2){if(this.$refs[Sa][0].scrollTop>ba){if(this.selected.date.getHours()>11){this.$refs[Sa][0].scrollTop=ba;return}}else if(this.selected.date.getHours()<=11){this.$refs[Sa][0].scrollTop=ba;return}}this.slideCol(ba,Sa,()=>{this.data[ua].shift();let ka,_y;switch(ua){case 0:_y=this.timeType==12?this.selected.date.getHours()>=12?12:0:1,ka=this.nNext(this.selected.date.getHours(),ha,0),this.selected.date.setHours(this.nNext(ka,ha,1,_y));break;case 1:ka=this.nNext(this.selected.date.getMinutes(),ha,0,0),this.selected.date.setMinutes(this.nNext(ka,ha,1,0));break;case 2:ka=Math.floor(this.selected.date.getHours()/11.9),ka==0&&this.selected.date.setHours(this.selected.date.getHours()+12);break}let Ty=this.nNext(ka,ha,(this.config.optionCount-1)/2+this.config.buffer+1,0);ua==2&&(Ty=-1),this.data[ua].push(Ty)},()=>{this.data[ua].pop();let ka,_y;switch(ua){case 0:_y=this.timeType==12?this.selected.date.getHours()>=12?12:0:1,ka=this.nNext(this.selected.date.getHours(),ha,0),this.selected.date.setHours(this.nPrev(ka,ha,1,_y));break;case 1:ka=this.nNext(this.selected.date.getMinutes(),ha,0,0),this.selected.date.setMinutes(this.nPrev(ka,ha,1,0));break;case 2:ka=Math.floor(this.selected.date.getHours()/12),ka==1&&this.selected.date.setHours(this.selected.date.getHours()-12);break}let Ty=this.nPrev(ka,ha,(this.config.optionCount-1)/2+this.config.buffer+1,0);ua==2&&(Ty=-1),this.data[ua].unshift(Ty)})},this.$refs[Sa][0].addEventListener("scroll",this.options[Sa].scroll)},removeEvent(){for(let ha in this.window.event){let ua=this.window.event[ha];window.removeEventListener(ha,ua)}for(let ha in this.options)this.$refs[ha][0].removeEventListener("scroll",this.options[ha].scroll)},slideCol(ha,ua,Sa,ba){Math.abs(this.$refs[ua][0].scrollTop-ha)>=20&&(this.$refs[ua][0].scrollTop>ha?Sa():ba(),this.$nextTick(()=>{this.$refs[ua][0].scrollTop=ha}))},async clickItem(ha,ua){if(this.config.clickLock)return;this.config.clickLock=!0,this.$refs[ha][0].scrollTop=this.config.buffer*40;let Sa=this.$refs[ha][0].scrollTop;this.$refs[ha][0].scrollTop+=ua-5;let ba=Math.abs(ua-5);if(ba>0){let ka=setInterval(()=>{if(this.$refs[ha][0].scrollTop==Sa&&(--ba,!ba)){clearInterval(ka),this.config.clickLock=!1;return}this.config.scrollLock=!0,this.$refs[ha][0].scrollTop+=(ua-5)*3},20)}else this.config.clickLock=!1},numberFixTwo(ha){return ha<10?"0"+ha:ha},showTime(ha,ua){return ha==0?this.nNext(ua,this.timeType==12?12:24,0,this.timeType==12?1:0):ha==1?this.numberFixTwo(this.nNext(ua,60,0,0)):ua>=0?this.period[ua]:""},hover(ha,ua){this.hoverColor!==void 0&&(ha?(ua.hoverStatus===!1||ua.hoverStatus===void 0)&&(ua.style.backgroundColor&&(ua.backgroundColor=ua.style.backgroundColor),ua.style.backgroundColor=this.hoverColor):ua.backgroundColor!==void 0?ua.style.backgroundColor=ua.backgroundColor:ua.style.backgroundColor=null,ua.hoverStatus=ha)},hoverUpAndDown(ha,ua){let Sa=ua.querySelector(".fv-TimePicker__options-body-col-down"),ba=ua.querySelector(".fv-TimePicker__options-body-col-up");ha?((Sa.hoverStatus===!1||Sa.hoverStatus===void 0)&&(Sa.style.backgroundColor&&(Sa.backgroundColor=Sa.style.backgroundColor),Sa.style.backgroundColor=this.hoverColor),(ba.hoverStatus===!1||ba.hoverStatus===void 0)&&(ba.style.backgroundColor&&(ba.backgroundColor=ba.style.backgroundColor),ba.style.backgroundColor=this.hoverColor)):(Sa.backgroundColor!==void 0?Sa.style.backgroundColor=Sa.backgroundColor:Sa.style.backgroundColor=null,ba.backgroundColor!==void 0?ba.style.backgroundColor=ba.backgroundColor:ba.style.backgroundColor=null),Sa.hoverStatus=ha,ba.hoverStatus=ha}}},U1=Object.assign(G1,{props:{...K,timeType:{type:Number,default:12},modelValue:{type:Date,default:()=>new Date},period:{type:Array,default:()=>["A.M.","P.M."]},inputBackground:{default:""},innerBorderColor:{type:String,default:"rgba(200, 200, 200, 0.3)"},selectedBackground:{default:""},optionBackground:{default:""},disabled:{type:Boolean,default:!1},hoverColor:{type:String,default:void 0}},emits:["update:modelValue","change","focus"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveDirective("hover");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-TimePicker",[Sa.$theme,{disabled:ha.disabled}]])},[createBaseVNode("div",{class:"fv-TimePicker__input",style:normalizeStyle$1({background:ha.inputBackground}),onClick:ba[0]||(ba[0]=_y=>Sa.focus())},[createBaseVNode("button",D1,toDisplayString(Sa.showTime(0,ha.modelValue.getHours())),1),createBaseVNode("button",{class:"fv-TimePicker__input-item",style:normalizeStyle$1({borderColor:ha.innerBorderColor})},toDisplayString(Sa.showTime(1,ha.modelValue.getMinutes())),5),ha.timeType==12?(openBlock(),createElementBlock("button",{key:0,style:normalizeStyle$1({borderColor:ha.innerBorderColor}),class:"fv-TimePicker__input-item"},toDisplayString(Sa.showTime(2,Math.floor(ha.modelValue.getHours()/11.9))),5)):createCommentVNode("",!0)],4),createVNode$1(Transition,{name:"fv-TimePicker__options"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"fv-TimePicker__options",style:normalizeStyle$1({background:ha.optionBackground})},[createBaseVNode("div",L1,[createBaseVNode("div",{class:"fv-TimePicker__options-body-mask",style:normalizeStyle$1({background:ha.selectedBackground})},null,4),(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.data,(_y,Ty)=>withDirectives((openBlock(),createElementBlock("div",{key:`options-col${Ty}`,class:"fv-TimePicker__options-body-col"},[createBaseVNode("div",{class:"fv-TimePicker__options-body-col-up",onClick:Ay=>Sa.clickItem(`col${Ty}`,4)},M1,8,P1),createBaseVNode("div",{class:"fv-TimePicker__options-body-items",ref_for:!0,ref:`col${Ty}`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(_y,(Ay,Ey)=>withDirectives((openBlock(),createElementBlock("div",{class:"fv-TimePicker__options-body-item",key:`options-col-item${Ty}-${Ay}-${Ey}`,onClick:My=>Sa.clickItem(`col${Ty}`,Ey)},[createTextVNode(toDisplayString(Sa.showTime(Ty,Ay)),1)],8,R1)),[[ka,Sa.hover]])),128))],512),createBaseVNode("div",{class:"fv-TimePicker__options-body-col-down",onClick:Ay=>Sa.clickItem(`col${Ty}`,6)},O1,8,B1)])),[[ka,Sa.hoverUpAndDown]])),128))]),createBaseVNode("div",z1,[withDirectives((openBlock(),createElementBlock("button",{class:"fv-TimePicker__options-bar-accept",onClick:ba[1]||(ba[1]=(..._y)=>Sa.accept&&Sa.accept(..._y))},W1)),[[ka,Sa.hover]]),withDirectives((openBlock(),createElementBlock("button",{class:"fv-TimePicker__options-bar-cancel",onClick:ba[2]||(ba[2]=(..._y)=>Sa.cancel&&Sa.cancel(..._y))},H1)),[[ka,Sa.hover]])])],4),[[vShow,Sa.show]])]),_:1})],2)}}}),Y1=J(U1),j1={emits:["mousedown","mouseup","touchstart","touchend","mousemove","touchmove"],props:{value:{default:!1},left:{default:5},ringBackground:{default:""},theme:{type:String,default:"global"}},data(){return{thisValue:this.value,moveable:!1}},watch:{value(ha){this.thisValue=ha}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.Init()},methods:{Init(){window.addEventListener("mousemove",ha=>{this.moveable&&this.$emit("mousemove",ha)}),window.addEventListener("mouseup",ha=>{this.moveable&&this.stop()}),window.addEventListener("touchmove",ha=>{this.moveable&&this.$emit("touchmove",ha)}),window.addEventListener("touchend",ha=>{this.moveable&&this.stop()})},forward(ha){ha.preventDefault(),this.moveable=!0,ha.type==="mousedown"?this.$emit("mousedown",ha):this.$emit("touchstart",ha)},stop(ha){this.moveable=!1,ha&&(ha.type==="mouseup"?this.$emit("mouseup",ha):this.$emit("touchend",ha))}}};function q1(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",{class:"fv-toggle-ring",style:normalizeStyle$1({left:ka.moveable?`${Sa.left}px`:"",background:Sa.value?"":Sa.ringBackground}),onMousedown:ua[0]||(ua[0]=(...Ty)=>_y.forward&&_y.forward(...Ty)),onMouseup:ua[1]||(ua[1]=(...Ty)=>_y.stop&&_y.stop(...Ty)),onTouchstart:ua[2]||(ua[2]=(...Ty)=>_y.forward&&_y.forward(...Ty)),onTouchend:ua[3]||(ua[3]=(...Ty)=>_y.stop&&_y.stop(...Ty))},null,36)}const Ro=ae(j1,[["render",q1]]),X1={name:"FvToggleSwitch",components:{toggleRing:Ro},data(){return{thisValue:this.modelValue,disX:0,mouseMove:!1,currentLeft:0,toggleLeft:""}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.$emit("update:modelValue",ha)},currentLeft(){this.toggleLeft=this.computedLeft}},computed:{$theme(){return Y(this.$props).theme.value},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},computedLeft(){return!this.$refs.border||this.currentLeft<5?5:this.currentLeft>this.$refs.border.clientWidth-17?this.$refs.border.clientWidth-17:this.currentLeft},finalWidth(){return isNaN(this.width)?this.width:`${this.width}px`},finalHeight(){return isNaN(this.height)?this.height:`${this.height}px`}},methods:{toggleDown(ha){this.isDisabled||(ha.type.indexOf("mouse")<0&&(ha=ha.targetTouches[0]),this.disX=ha.clientX-this.$refs.toggle.$el.offsetLeft)},toggleMove(ha){this.isDisabled||(ha.type.indexOf("mouse")<0&&(ha=ha.targetTouches[0]),this.mouseMove=!0,this.currentLeft=ha.clientX-this.disX)},toggleUp(ha){ha.stopPropagation(),!this.isDisabled&&(this.mouseMove?this.$refs.toggle.$el.offsetLeft+this.$refs.toggle.$el.clientWidth/2>this.$refs.border.clientWidth/2?this.thisValue=!0:this.thisValue=!1:this.thisValue=!this.thisValue,this.mouseMove=!1,this.$emit("toggle",this.thisValue),this.currentLeft=this.$refs.toggle.$el.offsetLeft,this.disX=0)},toggle(ha){this.isDisabled||(this.thisValue=!this.thisValue,this.$emit("toggle",this.thisValue))}}},K1=Object.assign(X1,{props:{...K,modelValue:{default:!1},on:{default:"On"},off:{default:"Off"},onForeground:{default:""},offForeground:{default:""},width:{default:40},height:{default:20},borderColor:{default:""},ringBackground:{default:""},switchOnBackground:{default:""},insideContent:{default:!1},disabled:{default:!1}},setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-ToggleSwitch",[Sa.$theme,Sa.isDisabled?"disabled":""]]),onMouseup:ba[0]||(ba[0]=(...ka)=>Sa.toggle&&Sa.toggle(...ka))},[createBaseVNode("div",{class:normalizeClass(["fv-toggle-border",{"toggle-on":Sa.thisValue}]),ref:"border",style:normalizeStyle$1([{width:Sa.finalWidth,height:Sa.finalHeight,background:Sa.thisValue?ha.switchOnBackground:"",borderColor:Sa.thisValue?"":ha.borderColor}])},[createVNode$1(Ro,{value:Sa.thisValue,left:Sa.toggleLeft,ringBackground:ha.ringBackground,theme:Sa.$theme,ref:"toggle",onMousedown:Sa.toggleDown,onTouchstart:Sa.toggleDown,onMousemove:Sa.toggleMove,onTouchmove:Sa.toggleMove,onMouseup:Sa.toggleUp,onTouchend:Sa.toggleUp},null,8,["value","left","ringBackground","theme","onMousedown","onTouchstart","onMousemove","onTouchmove","onMouseup","onTouchend"]),withDirectives(createBaseVNode("p",{class:"fv-toggle-inside-content",style:normalizeStyle$1({left:Sa.thisValue?"10px":"",right:Sa.thisValue?"":"10px",color:Sa.thisValue?"white":ha.offForeground})},toDisplayString(Sa.thisValue?ha.on:ha.off),5),[[vShow,ha.insideContent]])],6),withDirectives(createBaseVNode("p",{class:"fv-toggle-content",style:normalizeStyle$1({color:Sa.thisValue?ha.onForeground:ha.offForeground})},toDisplayString(Sa.thisValue?ha.on:ha.off),5),[[vShow,!ha.insideContent]])],34))}}),J1=J(K1),Q1={name:"TreeViewItem",emits:["require-render","selected-change","set-drag-item","drop-item","handle-click","item-drag-over","item-drag-leave","item-drop"],props:{modelValue:{type:Object,default:()=>({})},parent:{type:Object,default:()=>({})},kIndex:{default:0},deep:{default:0},space:{default:20},expandClickMode:{default:"icon"},backgroundColorHover:{default:""},backgroundColorActive:{default:""},foreground:{default:"rgba(0, 90, 158, 1)"},dropBackgroundColor:{default:"rgba(0, 90, 158, 0.1)"},draggable:{default:!1},checkable:{default:!1},expandedIcon:{default:"ChevronDownSmall"},unexpandedIcon:{default:"ChevronRightSmall"},itemHeight:{default:30},showLoading:{default:!1},expandedIconPosition:{default:"left"},dragItem:{default:()=>({item:null,parent:null})},theme:{type:String,default:"global"}},data(){return{isRender:!1,cssMode:"normal",dropMode:"none",dragMode:!1,timer:{drop:null,delayExpand:null,requireRender:null}}},watch:{},computed:{backgroundColor(){return this.cssMode==="hover"?this.backgroundColorHover:this.cssMode==="active"?this.backgroundColorActive:""}},mounted(){this.requireRenderInit()},methods:{requireRenderInit(){clearInterval(this.timer.requireRender),this.timer.requireRender=setInterval(()=>{if(this.isRender){clearInterval(this.timer.requireRender);return}(!this.parent||this.parent.expanded)&&(this.$emit("require-render",async()=>{for(this.isRender=!0;!this.$el.style;)await new Promise(ha=>{setTimeout(()=>{ha(1)},30)})}),clearInterval(this.timer.requireRender))},100)},expandClick(ha="icon",ua){if(this.valueTrigger(this.modelValue.disabled))return;let Sa=ua.target,ba=!1;for(;Sa&&Sa.tagName&&Sa.tagName.toLowerCase()!="body";){if(Sa===this.$refs.expander||Sa===this.$refs.check.$el){ba=!0;break}Sa=Sa.parentNode}if(ba||(this.$emit("selected-change",this.modelValue),this.modelValue.selected=!0,this.$emit("handle-click",this.modelValue)),Sa=ua.target,ha==="icon"&&this.expandClickMode==="icon")ua.stopPropagation(),Sa===this.$refs.expander&&(this.modelValue.expanded=!this.modelValue.expanded);else if(ha==="normal"&&this.expandClickMode==="normal"){for(ba=!1;Sa&&Sa.tagName&&Sa.tagName.toLowerCase()!="body";){if(Sa===this.$refs.check.$el){ba=!0;break}Sa=Sa.parentNode}ba||(this.modelValue.expanded=!this.modelValue.expanded)}},switchCSSMode(ha){this.valueTrigger(this.modelValue.disabled)||(this.cssMode=ha)},handleDrag(ha){ha.stopPropagation(),this.modelValue.expanded=!1,console.log("expanded"),this.$emit("set-drag-item",{item:this.modelValue,parent:this.parent}),this.dragMode=!0},isURL(ha){return!!(ha.startsWith("http")||ha.startsWith(".")||ha.startsWith("/"))},changeChildren(ha){if(this.modelValue.children){let ua=this.modelValue.children;for(let Sa=0;Sa<ua.length;Sa++){let ba=ua[Sa];ba.selected=ha,ba.children&&(ua=ua.concat(ba.children))}}},valueTrigger(ha){return typeof ha=="function"?ha():ha},dragOver(ha){if(ha.preventDefault(),ha.stopPropagation(),this.valueTrigger(this.modelValue.disabled)||this.dragItem.item===this.modelValue)return;this.$emit("item-drag-over",{drop:this.modelValue,dropParent:this.parent});const{clientY:ua}=ha,{top:Sa,height:ba}=this.$refs.item.getBoundingClientRect();ua-Sa<ba/2?(this.dropMode="before",clearTimeout(this.timer.delayExpand)):this.valueTrigger(this.modelValue.dropInside)===!1?(this.dropMode="before",clearTimeout(this.timer.delayExpand)):(this.dropMode="enter",this.timer.delayExpand=setTimeout(()=>{this.modelValue.expanded=!0},500)),clearTimeout(this.timer.drop)},dragLeave(ha){ha.preventDefault(),ha.stopPropagation(),this.$emit("item-drag-leave",{drop:this.modelValue,dropParent:this.parent}),clearTimeout(this.timer.drop),this.timer.drop=setTimeout(()=>{this.dropMode="leave"},100)},dropItem(ha){if(ha.preventDefault(),ha.stopPropagation(),this.valueTrigger(this.modelValue.disabled)){this.dropMode="leave";return}this.$emit("item-drop",{drop:this.modelValue,dropParent:this.parent}),this.dragItem&&this.$emit("drop-item",{drop:this.modelValue,dropParent:this.parent,drag:this.dragItem.item,dragParent:this.dragItem.parent,mode:this.dropMode}),this.dropMode="leave"}},beforeUnmount(){clearInterval(this.timer.requireRender)}},Z1=["draggable"],ey={key:0,class:"fv-tree-view-item-expander",style:{"margin-right":"10px"}},ty={class:"fv-tree-view-item-content"},iy=["src"],sy={key:1,class:"fv-tree-view-item-expander"},ny={key:0,class:"fv-tree-view-item-children"};function ry(ha,ua,Sa,ba,ka,_y){const Ty=resolveComponent("fv-check-box"),Ay=resolveComponent("fv-progress-ring"),Ey=resolveComponent("tree-view-item",!0);return ka.isRender?withDirectives((openBlock(),createElementBlock("div",{key:0,class:"fv-tree-view-item",draggable:Sa.draggable,onDragstart:ua[21]||(ua[21]=(...My)=>_y.handleDrag&&_y.handleDrag(...My)),onDragend:ua[22]||(ua[22]=My=>ka.dragMode=!1)},[createBaseVNode("div",{class:normalizeClass(["fv-tree-view-item-container",[{selected:Sa.modelValue.selected,disabled:_y.valueTrigger(Sa.modelValue.disabled)}]]),ref:"item",style:normalizeStyle$1({height:`${Sa.itemHeight}px`,"background-color":ka.dropMode==="enter"?Sa.dropBackgroundColor:_y.backgroundColor,"border-top":ka.dropMode==="before"?`${Sa.itemHeight}px solid transparent`:""}),onDragover:ua[3]||(ua[3]=(...My)=>_y.dragOver&&_y.dragOver(...My)),onDragleave:ua[4]||(ua[4]=(...My)=>_y.dragLeave&&_y.dragLeave(...My)),onDrop:ua[5]||(ua[5]=(...My)=>_y.dropItem&&_y.dropItem(...My)),onClick:ua[6]||(ua[6]=My=>_y.expandClick("normal",My)),onMouseenter:ua[7]||(ua[7]=My=>_y.switchCSSMode("hover")),onMouseleave:ua[8]||(ua[8]=My=>_y.switchCSSMode("normal")),onMousedown:ua[9]||(ua[9]=My=>_y.switchCSSMode("active")),onMouseup:ua[10]||(ua[10]=My=>_y.switchCSSMode("hover")),onTouchstart:ua[11]||(ua[11]=My=>_y.switchCSSMode("active")),onTouchend:ua[12]||(ua[12]=My=>_y.switchCSSMode("normal"))},[withDirectives(createBaseVNode("i",{class:"fv-tree-view-item-choosen-bar",style:normalizeStyle$1({background:Sa.foreground})},null,4),[[vShow,Sa.modelValue.selected&&!Sa.checkable]]),withDirectives(createVNode$1(Ty,{modelValue:Sa.modelValue.selected,"onUpdate:modelValue":ua[0]||(ua[0]=My=>Sa.modelValue.selected=My),theme:Sa.theme,background:Sa.foreground,ref:"check",style:{"margin-right":"10px"},onClick:_y.changeChildren},null,8,["modelValue","theme","background","onClick"]),[[vShow,Sa.checkable]]),createBaseVNode("div",{class:"fv-tree-view-item-container-main",style:normalizeStyle$1({"padding-left":`${Sa.deep*Sa.space}px`})},[Sa.expandedIconPosition==="left"?(openBlock(),createElementBlock("div",ey,[!_y.valueTrigger(Sa.modelValue.loading)||!Sa.showLoading?withDirectives((openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["ms-Icon fv-tree-view-item-expander-icon",[`ms-Icon--${Sa.modelValue.expanded?Sa.expandedIcon:Sa.unexpandedIcon}`]]),ref:"expander",onClick:ua[1]||(ua[1]=My=>_y.expandClick("icon",My))},null,2)),[[vShow,Sa.modelValue.children]]):(openBlock(),createBlock(Ay,{key:1,loading:!0,r:10,borderWidth:"2",color:Sa.foreground,background:"transparent"},null,8,["color"]))])):createCommentVNode("",!0),createBaseVNode("div",ty,[renderSlot(ha.$slots,"default",{item:Sa.modelValue,deep:Sa.deep},()=>[withDirectives(createBaseVNode("i",{class:normalizeClass(["ms-Icon fv-tree-view-item-std-icon",`ms-Icon--${_y.valueTrigger(Sa.modelValue.icon)}`])},null,2),[[vShow,Sa.modelValue.icon&&!_y.isURL(_y.valueTrigger(Sa.modelValue.icon))]]),Sa.modelValue.icon&&_y.isURL(_y.valueTrigger(Sa.modelValue.icon))?(openBlock(),createElementBlock("img",{key:0,class:"fv-tree-view-item-std-icon",src:_y.valueTrigger(Sa.modelValue.icon)},null,8,iy)):createCommentVNode("",!0),createBaseVNode("p",{class:"fv-tree-view-item-text",style:normalizeStyle$1({"margin-left":Sa.modelValue.icon?"10px":""})},toDisplayString(_y.valueTrigger(Sa.modelValue.label)),5)])]),Sa.expandedIconPosition==="right"?(openBlock(),createElementBlock("div",sy,[!_y.valueTrigger(Sa.modelValue.loading)||!Sa.showLoading?withDirectives((openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["ms-Icon fv-tree-view-item-expander-icon",[`ms-Icon--${Sa.modelValue.expanded?Sa.expandedIcon:Sa.unexpandedIcon}`]]),ref:"expander",onClick:ua[2]||(ua[2]=My=>_y.expandClick("icon",My))},null,2)),[[vShow,Sa.modelValue.children]]):(openBlock(),createBlock(Ay,{key:1,loading:!0,r:10,borderWidth:"2",color:Sa.foreground,background:"transparent"},null,8,["color"]))])):createCommentVNode("",!0)],4)],38),createVNode$1(Transition,{name:"fv-tree-view-children-list"},{default:withCtx(()=>[Sa.modelValue.children?withDirectives((openBlock(),createElementBlock("div",ny,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.modelValue.children,(My,Dy)=>(openBlock(),createBlock(Ey,{key:`parent: ${Sa.kIndex}, self: ${Dy}`,modelValue:My,parent:Sa.modelValue,kIndex:Dy,deep:Sa.deep+1,space:Sa.space,expandClickMode:Sa.expandClickMode,draggable:Sa.draggable,checkable:Sa.checkable,foreground:Sa.foreground,expandedIcon:Sa.expandedIcon,unexpandedIcon:Sa.unexpandedIcon,backgroundColorHover:Sa.backgroundColorHover,backgroundColorActive:Sa.backgroundColorActive,itemHeight:Sa.itemHeight,expandedIconPosition:Sa.expandedIconPosition,showLoading:Sa.showLoading,dragItem:Sa.dragItem,theme:Sa.theme,onRequireRender:ua[13]||(ua[13]=Iy=>ha.$emit("require-render",Iy)),onSelectedChange:ua[14]||(ua[14]=Iy=>ha.$emit("selected-change",Iy)),onSetDragItem:ua[15]||(ua[15]=Iy=>ha.$emit("set-drag-item",Iy)),onDropItem:ua[16]||(ua[16]=Iy=>ha.$emit("drop-item",Iy)),onHandleClick:ua[17]||(ua[17]=Iy=>ha.$emit("handle-click",Iy)),onItemDragOver:ua[18]||(ua[18]=Iy=>ha.$emit("item-drag-over",Iy)),onItemDragLeave:ua[19]||(ua[19]=Iy=>ha.$emit("item-drag-leave",Iy)),onItemDrop:ua[20]||(ua[20]=Iy=>ha.$emit("item-drop",Iy))},{default:withCtx(Iy=>[renderSlot(ha.$slots,"default",{item:Iy.item,deep:Iy.deep})]),_:2},1032,["modelValue","parent","kIndex","deep","space","expandClickMode","draggable","checkable","foreground","expandedIcon","unexpandedIcon","backgroundColorHover","backgroundColorActive","itemHeight","expandedIconPosition","showLoading","dragItem","theme"]))),128))],512)),[[vShow,Sa.modelValue.expanded]]):createCommentVNode("",!0)]),_:3})],40,Z1)),[[vShow,_y.valueTrigger(Sa.modelValue.show)!==!1]]):createCommentVNode("",!0)}const Bo=ae(Q1,[["render",ry]]),oy={name:"FvTreeView",components:{TreeViewItem:Bo},data(){return{thisValue:this.modelValue,dragItem:{item:null,parent:null},queueFunction:[],lock:{isQueueRunning:!0}}},watch:{modelValue(){this.thisValue=this.value},async"queueFunction.length"(){if(this.queueFunction.length!==0&&this.lock.isQueueRunning){for(this.lock.isQueueRunning=!1;this.queueFunction.length>0;){let ha=this.queueFunction.shift();try{await ha()}catch(ua){console.log(ua)}}this.lock.isQueueRunning=!0}}},computed:{$theme(){return Y(this.$props).theme.value}},methods:{clearSelected(ha){let ua=this.thisValue;for(let Sa=0;Sa<ua.length;Sa++){let ba=ua[Sa];ba!==ha&&(ba.selected=!1),ba.children&&(ua=ua.concat(ba.children))}},pushRender(ha){this.queueFunction.push(ha)}}},ay=Object.assign(oy,{props:{...K,modelValue:{type:Array,default:()=>[]},space:{default:20},draggable:{default:!1},checkable:{default:!1},expandedIcon:{default:"ChevronDownSmall"},unexpandedIcon:{default:"ChevronRightSmall"},foreground:{default:"rgba(0, 90, 158, 1)"},backgroundColorHover:{default:""},backgroundColorActive:{default:""},expandClickMode:{default:"normal"},expandedIconPosition:{default:"left"},itemHeight:{default:30},showLoading:{default:!1}},emits:["click","drop-item","item-drag-over","item-drag-leave","item-drop"],setup(ha,{emit:ua}){return(Sa,ba)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["fv-TreeView",[Sa.$theme]])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sa.thisValue,(ka,_y)=>(openBlock(),createBlock(Bo,{key:`parent: root, self: ${_y}`,modelValue:ka,parent:null,kIndex:_y,deep:0,space:ha.space,draggable:ha.draggable,checkable:ha.checkable,expandClickMode:ha.expandClickMode,foreground:ha.foreground,expandedIcon:ha.expandedIcon,unexpandedIcon:ha.unexpandedIcon,backgroundColorHover:ha.backgroundColorHover,backgroundColorActive:ha.backgroundColorActive,itemHeight:ha.itemHeight,expandedIconPosition:ha.expandedIconPosition,showLoading:ha.showLoading,dragItem:Sa.dragItem,theme:Sa.$theme,onRequireRender:Sa.pushRender,onSelectedChange:Sa.clearSelected,onSetDragItem:ba[0]||(ba[0]=Ty=>Sa.dragItem=Ty),onDropItem:ba[1]||(ba[1]=Ty=>Sa.$emit("drop-item",{root:Sa.thisValue,...Ty})),onHandleClick:ba[2]||(ba[2]=Ty=>Sa.$emit("click",Ty)),onItemDragOver:ba[3]||(ba[3]=Ty=>Sa.$emit("item-drag-over",{root:Sa.thisValue,...Ty})),onItemDragLeave:ba[4]||(ba[4]=Ty=>Sa.$emit("item-drag-leave",{root:Sa.thisValue,...Ty})),onItemDrop:ba[5]||(ba[5]=Ty=>Sa.$emit("item-drop",{root:Sa.thisValue,...Ty}))},{default:withCtx(Ty=>[renderSlot(Sa.$slots,"default",{item:Ty.item,deep:Ty.deep})]),_:2},1032,["modelValue","kIndex","space","draggable","checkable","expandClickMode","foreground","expandedIcon","unexpandedIcon","backgroundColorHover","backgroundColorActive","itemHeight","expandedIconPosition","showLoading","dragItem","theme","onRequireRender","onSelectedChange"]))),128))],2))}}),ly=J(ay),dy={name:"FvVerifyBox",data(){return{thisValue:[]}},watch:{modelValue(){this.valueFormat()},thisValue:{deep:!0,handler(ha){this.$emit("update:modelValue",ha.join(""))}}},computed:{isUnderline(){return this.underline.toString()=="true"||this.underline=="underline"||this.underline===""},isDisabled(){return this.disabled.toString()=="true"||this.disabled=="disabled"||this.disabled===""},$theme(){return Y(this.$props).theme.value}},mounted(){this.valueFormat()},methods:{valueFormat(){this.thisValue=[];for(let ha=0;ha<this.length;ha++)this.modelValue[ha]?this.thisValue.push(this.modelValue[ha]):this.thisValue.push("")},handleKeyDown(ha,ua){if(ha.preventDefault(),console.log(ha),ha.key.length===1&&!ha.ctrlKey&&(this.thisValue[ua]=ha.key),ha.keyCode===8){this.thisValue[ua]="",ua>0&&this.$refs[`t${ua-1}`][0].focus();return}if(ha.keyCode===86&&ha.ctrlKey){navigator.clipboard.readText().then(Sa=>{for(let ba=0;ba<this.length;ba++)this.thisValue[ba]=Sa[ba]});return}ha.keyCode===13&&this.$emit("confirm",this.thisValue.join("")),ua<this.length-1&&(ha.key.length===1||ha.keyCode===9)&&this.$refs[`t${ua+1}`][0].focus(),ua===this.length-1&&this.$emit("confirm",this.thisValue.join(""))},handlePaste(ha){console.log(ha);let ua=ha.clipboardData.getData("text/plain");for(let Sa=0;Sa<this.length;Sa++)this.thisValue[Sa]=ua[Sa]}}},uy=Object.assign(dy,{props:{...K,modelValue:{default:""},length:{default:4},inputmode:{default:"numeric"},underline:{default:!1},background:{default:""},borderWidth:{default:1},borderColor:{default:""},focusBorderColor:{default:""},fontSize:{default:18},fontWeight:{default:"bold"},foreground:{default:""},borderRadius:{default:3},isBoxShadow:{default:!1},revealBorder:{default:!1},disabled:{default:!1}},emits:["update:modelValue","confirm"],setup(ha,{emit:ua}){return(Sa,ba)=>{const ka=resolveComponent("fv-text-box");return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-VerifyBox",[Sa.$theme]])},[Sa.thisValue.length===ha.length?(openBlock(),createElementBlock("div",{key:0,class:"fv-verify-container",onPaste:ba[0]||(ba[0]=_y=>Sa.handlePaste(_y))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ha.length,(_y,Ty)=>(openBlock(),createBlock(ka,{modelValue:Sa.thisValue[Ty],inputmode:ha.inputmode,class:"fv-verify-unit",theme:Sa.theme,key:Ty,disabled:Sa.isDisabled,maxlength:1,underline:ha.underline,background:ha.background,"border-width":ha.borderWidth,"border-color":ha.borderColor,"focus-border-color":ha.focusBorderColor,"font-size":ha.fontSize,"font-weight":ha.fontWeight,foreground:ha.foreground,textAlign:"center","border-radius":ha.borderRadius,"is-box-shadow":ha.isBoxShadow,"reveal-border":ha.revealBorder,ref_for:!0,ref:`t${Ty}`,onKeydown:Ay=>Sa.handleKeyDown(Ay,Ty)},null,8,["modelValue","inputmode","theme","disabled","underline","background","border-width","border-color","focus-border-color","font-size","font-weight","foreground","border-radius","is-box-shadow","reveal-border","onKeydown"]))),128))],32)):createCommentVNode("",!0)],2)}}}),hy=J(uy),cy={emits:["mousedown","mouseup","touchstart","touchend","mousemove","touchmove"],props:{type:{type:String,default:"horizontal"},theme:{type:String,default:"global"}},data(){return{moveable:!1}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.Init()},methods:{Init(){window.addEventListener("mousemove",ha=>{this.moveable&&this.$emit("mousemove",ha)}),window.addEventListener("mouseup",ha=>{this.moveable&&this.stop()}),window.addEventListener("touchmove",ha=>{this.moveable&&this.$emit("touchmove",ha)}),window.addEventListener("touchend",ha=>{this.moveable&&this.stop()})},forward(ha){ha.preventDefault(),this.moveable=!0,ha.type==="mousedown"?this.$emit("mousedown",ha):this.$emit("touchstart",ha)},stop(ha){this.moveable=!1,ha&&(ha.type==="mouseup"?this.$emit("mouseup",ha):this.$emit("touchend",ha))}}},fy=createBaseVNode("i",null,null,-1),my=[fy];function gy(ha,ua,Sa,ba,ka,_y){return openBlock(),createElementBlock("div",{class:normalizeClass(["fv-web-window-spliter",[{horizontal:Sa.type==="horizontal",vertical:Sa.type==="vertical",both:Sa.type==="both"}]]),onMousedown:ua[0]||(ua[0]=(...Ty)=>_y.forward&&_y.forward(...Ty)),onMouseup:ua[1]||(ua[1]=(...Ty)=>_y.stop&&_y.stop(...Ty)),onTouchstart:ua[2]||(ua[2]=(...Ty)=>_y.forward&&_y.forward(...Ty)),onTouchend:ua[3]||(ua[3]=(...Ty)=>_y.stop&&_y.stop(...Ty))},my,34)}const zi=ae(cy,[["render",gy]]),py={style:{"margin-left":"10px","user-select":"none"}},vy=createBaseVNode("i",{class:"ms-Icon ms-Icon--Cancel"},null,-1),by=[vy],wy={name:"FvWebWindow",components:{spliter:zi},data(){return{thisValue:this.modelValue,moveable:!1,freezeTransition:!0,disX:0,disY:0,disWidth:0,disHeight:0,currentLeft:"0px",currentTop:"0px",currentWidth:0,currentHeight:0,isInit:!0}},watch:{modelValue(ha){this.thisValue=ha},thisValue(ha){this.refreshPos&&ha&&this.posInit(),this.$emit("update:modelValue",ha)},left(ha){this.currentLeft=`${ha}px`},top(ha){this.currentTop=`${ha}px`}},computed:{$theme(){return Y(this.$props).theme.value}},mounted(){this.Init(),this.eventInit()},methods:{Init(){window.addEventListener("mousemove",ha=>{this.moveable&&(this.currentLeft=`${ha.clientX-this.disX}px`,this.currentTop=`${ha.clientY-this.disY}px`)}),window.addEventListener("touchmove",ha=>{ha=ha.targetTouches[0],this.moveable&&(this.currentLeft=`${ha.clientX-this.disX}px`,this.currentTop=`${ha.clientY-this.disY}px`)}),window.addEventListener("mouseup",ha=>{this.moveable&&this.stop()}),window.addEventListener("touchup",ha=>{this.moveable&&this.stop()})},posInit(){let ha=this.$el.clientWidth,ua=this.$el.clientHeight;this.left==0?this.currentLeft=`${window.innerWidth/2-ha/2}px`:this.currentLeft=`${this.left}px`,this.top==0?this.currentTop=`${window.innerHeight/2-ua/2}px`:this.currentTop=`${this.top}px`},eventInit(){let ha=this.$el;new ResizeObserver(()=>{(!this.isResize||this.isInit)&&this.posInit(),this.isInit&&(this.currentWidth=this.$el.clientWidth,this.currentHeight=this.$el.clientHeight,this.isInit=!1)}).observe(ha)},forward(ha){this.moveable=!0,this.freezeTransition=!0,ha.preventDefault();let{clientX:ua,clientY:Sa}=ha.targetTouches?ha.targetTouches[0]:ha;this.disX=ua-this.$el.getBoundingClientRect().left,this.disY=Sa-this.$el.getBoundingClientRect().top},stop(){this.moveable=!1,this.freezeTransition=!1,this.$el.getBoundingClientRect().left<0&&(this.currentLeft="0px"),this.$el.getBoundingClientRect().top<0&&(this.currentTop="0px"),this.$el.getBoundingClientRect().left+this.$el.clientWidth>window.innerWidth&&(this.currentLeft=`${window.innerWidth-this.$el.clientWidth}px`),this.$el.getBoundingClientRect().top+this.$el.clientHeight>window.innerHeight&&(this.currentTop=`${window.innerHeight-this.$el.clientHeight}px`),setTimeout(()=>{this.freezeTransition=!0},300)},resizeStart(ha,ua="h"){let{clientX:Sa,clientY:ba}=ha.targetTouches?ha.targetTouches[0]:ha;ua!=="v"&&(this.disWidth=Sa-this.$el.getBoundingClientRect().right),ua!=="h"&&(this.disHeight=ba-this.$el.getBoundingClientRect().bottom)},resizeMove(ha,ua="h"){let{clientX:Sa,clientY:ba}=ha.targetTouches?ha.targetTouches[0]:ha;ua!=="v"&&(this.currentWidth=Sa-this.$el.getBoundingClientRect().left+this.disWidth+15),ua!=="h"&&(this.currentHeight=ba-this.$el.getBoundingClientRect().top+this.disHeight+15)},stopPropagation(ha){ha.stopPropagation()},close(){this.$emit("close"),this.thisValue=!1}}},yy=Object.assign(wy,{props:{...K,modelValue:{default:!0},title:{type:String,default:"WebWindow"},left:{default:0},top:{default:0},refreshPos:{default:!1},isResize:{default:!1},isAcrylic:{default:!1}},setup(ha,{emit:ua}){return(Sa,ba)=>withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(["fv-WebWindow",[Sa.$theme,{"static-transition":!Sa.freezeTransition,"enabled-resize":ha.isResize,dark:Sa.theme=="dark","is-acrylic":ha.isAcrylic}]]),style:normalizeStyle$1({left:Sa.currentLeft,top:Sa.currentTop,width:Sa.currentWidth==0?"":`${Sa.currentWidth}px`,height:Sa.currentHeight==0?"":`${Sa.currentHeight}px`}),ref:"block"},[createBaseVNode("div",{draggable:"false",class:"title-bar",onMousedown:ba[2]||(ba[2]=(...ka)=>Sa.forward&&Sa.forward(...ka)),onMouseup:ba[3]||(ba[3]=(...ka)=>Sa.stop&&Sa.stop(...ka)),onTouchstart:ba[4]||(ba[4]=(...ka)=>Sa.forward&&Sa.forward(...ka)),onTouchend:ba[5]||(ba[5]=(...ka)=>Sa.stop&&Sa.stop(...ka))},[createBaseVNode("p",py,toDisplayString(ha.title),1),createBaseVNode("button",{class:"control-btn shut-down",onMousedown:ba[0]||(ba[0]=(...ka)=>Sa.stopPropagation&&Sa.stopPropagation(...ka)),onClick:ba[1]||(ba[1]=(...ka)=>Sa.close&&Sa.close(...ka))},by,32)],32),renderSlot(Sa.$slots,"default"),ha.isResize?(openBlock(),createBlock(zi,{key:0,onMousedown:Sa.resizeStart,onTouchstart:Sa.resizeStart,onMousemove:Sa.resizeMove,onTouchmove:Sa.resizeMove},null,8,["onMousedown","onTouchstart","onMousemove","onTouchmove"])):createCommentVNode("",!0),ha.isResize?(openBlock(),createBlock(zi,{key:1,type:"vertical",onMousedown:ba[6]||(ba[6]=ka=>Sa.resizeStart(ka,"v")),onTouchstart:ba[7]||(ba[7]=ka=>Sa.resizeStart(ka,"v")),onMousemove:ba[8]||(ba[8]=ka=>Sa.resizeMove(ka,"v")),onTouchmove:ba[9]||(ba[9]=ka=>Sa.resizeMove(ka,"v"))})):createCommentVNode("",!0),ha.isResize?(openBlock(),createBlock(zi,{key:2,type:"both",onMousedown:ba[10]||(ba[10]=ka=>Sa.resizeStart(ka,"both")),onTouchstart:ba[11]||(ba[11]=ka=>Sa.resizeStart(ka,"both")),onMousemove:ba[12]||(ba[12]=ka=>Sa.resizeMove(ka,"both")),onTouchmove:ba[13]||(ba[13]=ka=>Sa.resizeMove(ka,"both"))})):createCommentVNode("",!0)],6)),[[vShow,Sa.thisValue]])}}),ky=J(yy);class qt{constructor(){Vt(this,"date"),this.date=new Date}static Parse(ua){let Sa=/\d+/g,ba=[],ka;for(;(ka=Sa.exec(ua))!=null;)ba.push(ka[0]);return ba.length<=3?this.StringToDate(ua):this.StringToDateTime(ua)}static get Now(){return new Date}static DateToString(ua){return`${ua.getFullYear()}/${ua.getMonth()+1}/${ua.getDate()} ${ua.getHours()}:${ua.getMinutes()}:${ua.getSeconds()}`}static StringToDate(ua){let Sa=/\d+/g,ba=new Array,ka=new Date,_y;try{for(;(_y=Sa.exec(ua))!=null;)ba.push(_y[0]);return ba.length<=0?new Date:(ba[0].length==4?(ka.setDate(ba[2]),ka.setMonth(ba[1]-1),ka.setFullYear(ba[0])):(ka.setDate(ba[1]),ka.setMonth(ba[0]-1),ka.setFullYear(ba[2])),ka)}catch{return ka}}static StringToDateTime(ua){let Sa=/\d+/g,ba=new Array,ka=this.StringToDate(ua),_y;try{for(;(_y=Sa.exec(ua))!=null;)ba.push(_y[0]);return ba.length<=0?new Date:(ka.setHours(ba[3]),ka.setMinutes(ba[4]),ka.setSeconds(ba[5]),ka)}catch{return ka}}static Format(ua,Sa){let ba;const ka={"Y+":Sa.getFullYear().toString(),"m+":(Sa.getMonth()+1).toString(),"d+":Sa.getDate().toString(),"H+":Sa.getHours().toString(),"M+":Sa.getMinutes().toString(),"S+":Sa.getSeconds().toString()};for(let _y in ka)ba=new RegExp("("+_y+")").exec(ua),ba&&(ua=ua.replace(ba[1],ba[1].length==1?ka[_y]:ka[_y].padStart(ba[1].length,"0")));return ua}static DisTime(ua,Sa){return Sa.getTime()-ua.getTime()}static DisDay(ua,Sa){let ba=qt.DisHour(ua,Sa);return Math.abs(ba)>24?Math.floor(ba/24):ua.getDate()==Sa.getDate()?0:1}static DisHour(ua,Sa){let ba=qt.DisTime(ua,Sa)/36e5;return Math.floor(ba)}static DisMinute(ua,Sa){let ba=qt.DisTime(ua,Sa)/6e4;return Math.floor(ba)}static DisSecond(ua,Sa){return Math.round(qt.DisTime(ua,Sa)/1e3)}static Compare(ua,Sa){return ua.getTime()-Sa.getTime()>0?1:ua.getTime()==Sa.getTime()?0:-1}static IsSameDate(ua,Sa){return!(ua.getFullYear()!==Sa.getFullYear()||ua.getMonth()!==Sa.getMonth()||ua.getDate()!==Sa.getDate())}}class Cy{static ScrollToLoadInit(ua,Sa=null,ba=0){try{ua.addEventListener("scroll",ka=>{ua.scrollTop+ba>=ua.scrollHeight-ua.clientHeight&&Sa!=null&&Sa()})}catch{}}static Guid(){function ua(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ua()+ua()+"-"+ua()+"-"+ua()+"-"+ua()+"-"+ua()+ua()+ua()}static GuidWithoutDash(){function ua(){return((1+Math.random())*65536|0).toString(16).substring(1)}return ua()+ua()+ua()+ua()+ua()+ua()+ua()+ua()}}const $y={install(ha){ha.config.globalProperties.$SDate=qt,ha.config.globalProperties.$SUtility=Cy,ha.config.globalProperties.$FvConfig=dr()}},Sy=[Ma,Oa,Ha,qa,Qa,ol,ru,cu,ku,Mu,vh,Ch,Mh,fc,Ac,Hc,Qc,df,vf,yf,Sf,xf,Ff,Bf,Uf,tm,hm,wm,Lm,Bm,Nm,Um,Xm,sg,og,mg,bg,Sg,Eg,Pg,Jg,ip,ap,mp,bp,$p,M0,Jw,Qw,Zw,h1,V1,E1,Y1,J1,ly,hy,ky],xy={install(ha,ua){const Sa=Ta();ha.use(Sa),ha.use($y);for(const ba of Sy)ha.use(ba)}},_hoisted_1={class:"rec-header"},_hoisted_2={class:"left"},_hoisted_3={key:0,class:"count"},_hoisted_4={class:"weather-toggle"},_hoisted_5={class:"actions"},_hoisted_6={class:"rec-body"},_hoisted_7={key:0,class:"weather-panel"},_hoisted_8={class:"weather-summary"},_hoisted_9={key:0,class:"risk-alerts"},_hoisted_10={key:1,class:"weather-recommendations"},_hoisted_11={class:"rec-footer"},_hoisted_12={key:0,class:"compare"},_hoisted_13={class:"label"},_hoisted_14={class:"chips"},_hoisted_15=["onClick"],_hoisted_16={key:1,class:"placeholder"},_sfc_main=defineComponent({__name:"RecommendSidebar",setup(ha){const ua=useRouter();console.log("RecommendSidebar 初始化 - 路由器:",ua);const Sa=computed(()=>recommendSidebarOpen.value),ba=ref([]),ka=ref([]),_y=ref([]),Ty=ref({summary:"",recommendations:[],riskAlerts:[]}),Ay=ref(!0),Ey=ref({origin:{lat:31.2304,lng:121.4737},destination:{lat:31.1443,lng:121.8091},window:[new Date().toISOString(),new Date(Date.now()+2*60*60*1e3).toISOString()],demand:{type:"normal",weightKg:500,temperature:null},weatherConsideration:{enabled:!0,priority:"medium",avoidSevereWeather:!0,temperatureRange:[-10,40]}});async function My(){try{const Oy=await fetch("/data/vendors.json");ba.value=await Oy.json()}catch{ba.value=[]}}async function Dy(){var Oy;if(ba.value.length)try{if(Ay.value&&((Oy=Ey.value.weatherConsideration)!=null&&Oy.enabled))ka.value=await enhancedMatchVendors(Ey.value,ba.value),Ty.value=getWeatherRecommendations(Ey.value,ka.value);else{const Fy=matchVendors(Ey.value,ba.value);ka.value=Fy.map(zy=>({...zy,weatherScore:void 0,weatherFactors:[],weatherRisk:"low"})),Ty.value={summary:"未启用天气分析",recommendations:[],riskAlerts:[]}}}catch(Fy){console.error("推荐算法执行失败:",Fy);const zy=matchVendors(Ey.value,ba.value);ka.value=zy.map(Hy=>({...Hy,weatherScore:void 0,weatherFactors:[],weatherRisk:"low"})),Ty.value={summary:"天气服务异常，使用基础推荐",recommendations:[],riskAlerts:[]}}}function Iy(Oy){Oy&&(Ey.value={...Ey.value,...Oy}),Dy(),publishBridge({origin:Oy.origin,destination:Oy.destination,route:Oy.route||null,window:Oy.window})}function Ly(Oy){_y.value.find(Fy=>Fy.id===Oy.id)||_y.value.push(Oy)}function Py(Oy){_y.value=_y.value.filter(Fy=>Fy.id!==Oy)}function Ry(){const Oy=getBridge==null?void 0:getBridge();Oy&&(Ey.value.origin=Oy.origin,Ey.value.destination=Oy.destination,Ey.value.route=Oy.route,Oy.window&&(Ey.value.window=Oy.window),Dy())}function Vy(){var Oy,Fy,zy,Hy,Gy,Wy,Uy,Yy;console.log("=== 开始天气分析导航 ===");try{console.log("当前查询数据:",Ey.value);const jy=new URLSearchParams;jy.set("showRoute","true"),(Fy=(Oy=Ey.value)==null?void 0:Oy.origin)!=null&&Fy.lat&&((Hy=(zy=Ey.value)==null?void 0:zy.origin)!=null&&Hy.lng)&&jy.set("origin",`${Ey.value.origin.lat},${Ey.value.origin.lng}`),(Wy=(Gy=Ey.value)==null?void 0:Gy.destination)!=null&&Wy.lat&&((Yy=(Uy=Ey.value)==null?void 0:Uy.destination)!=null&&Yy.lng)&&jy.set("destination",`${Ey.value.destination.lat},${Ey.value.destination.lng}`);const Ky=`/weather?${jy.toString()}`;console.log("导航URL:",Ky),window.location.href=Ky}catch(jy){console.error("天气分析导航异常:",jy),window.location.href="/weather"}}onMounted(async()=>{console.log("RecommendSidebar onMounted - 路由器状态:",ua),console.log("RecommendSidebar onMounted - 路由器push:",typeof(ua==null?void 0:ua.push));const Oy=Ny.value,Fy=Number(localStorage.getItem("rec-width")||"");Oy&&Fy&&!Number.isNaN(Fy)&&Oy.style.setProperty("--rec-width",Fy+"px"),await My(),Dy();try{subscribeBridge==null||subscribeBridge(zy=>{Ey.value.origin=zy.origin,Ey.value.destination=zy.destination,Ey.value.route=zy.route,zy.window&&(Ey.value.window=zy.window),Dy()})}catch{}});const Ny=ref(null);function By(Oy){Oy.preventDefault();const Fy=Ny.value;if(!Fy)return;const zy=Oy.clientX,Hy=Fy.offsetWidth,Gy=Math.min(window.innerWidth*.9,1440),Wy=360,Uy=jy=>{const Ky=zy-jy.clientX;let Xy=Hy+Ky;Xy=Math.max(Wy,Math.min(Gy,Xy)),Fy.style.setProperty("--rec-width",Xy+"px"),localStorage.setItem("rec-width",String(Xy))},Yy=()=>{window.removeEventListener("mousemove",Uy),window.removeEventListener("mouseup",Yy)};window.addEventListener("mousemove",Uy),window.addEventListener("mouseup",Yy)}return(Oy,Fy)=>(openBlock(),createBlock(Teleport,{to:"body"},[withDirectives(createBaseVNode("div",{class:"rec-overlay",onClick:Fy[0]||(Fy[0]=withModifiers((...zy)=>unref(closeRecommend)&&unref(closeRecommend)(...zy),["self"]))},null,512),[[vShow,Sa.value]]),createBaseVNode("aside",{ref_key:"asideRef",ref:Ny,class:normalizeClass(["rec-sidebar",{open:Sa.value}]),role:"complementary","aria-label":"商家推荐侧栏"},[createBaseVNode("header",_hoisted_1,[createBaseVNode("div",_hoisted_2,[Fy[5]||(Fy[5]=createBaseVNode("h3",null,"商家推荐",-1)),ka.value.length?(openBlock(),createElementBlock("span",_hoisted_3,"候选 "+toDisplayString(ka.value.length)+" 家",1)):createCommentVNode("",!0),createBaseVNode("label",_hoisted_4,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":Fy[1]||(Fy[1]=zy=>Ay.value=zy),onChange:Dy},null,544),[[vModelCheckbox,Ay.value]]),Fy[4]||(Fy[4]=createBaseVNode("span",null,"智能天气分析",-1))])]),createBaseVNode("div",_hoisted_5,[createBaseVNode("button",{class:"btn small",onClick:Ry},"从路径读取"),createBaseVNode("button",{class:"btn small weather",onClick:Vy},"🌤️ 天气分析"),createBaseVNode("button",{class:"btn small ghost",onClick:Fy[2]||(Fy[2]=(...zy)=>unref(closeRecommend)&&unref(closeRecommend)(...zy))},"关闭")])]),createBaseVNode("section",_hoisted_6,[createVNode$1(RecQueryForm,{modelValue:Ey.value,"onUpdate:modelValue":Fy[3]||(Fy[3]=zy=>Ey.value=zy),onSubmit:Iy},null,8,["modelValue"]),Ay.value&&Ty.value.summary?(openBlock(),createElementBlock("div",_hoisted_7,[createBaseVNode("div",_hoisted_8,[Fy[6]||(Fy[6]=createBaseVNode("h4",null,"🌤️ 天气分析",-1)),createBaseVNode("p",null,toDisplayString(Ty.value.summary),1)]),Ty.value.riskAlerts.length?(openBlock(),createElementBlock("div",_hoisted_9,[Fy[7]||(Fy[7]=createBaseVNode("h5",null,"⚠️ 风险提醒",-1)),createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ty.value.riskAlerts,zy=>(openBlock(),createElementBlock("li",{key:zy,class:"alert-item"},toDisplayString(zy),1))),128))])])):createCommentVNode("",!0),Ty.value.recommendations.length?(openBlock(),createElementBlock("div",_hoisted_10,[Fy[8]||(Fy[8]=createBaseVNode("h5",null,"💡 建议措施",-1)),createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ty.value.recommendations,zy=>(openBlock(),createElementBlock("li",{key:zy},toDisplayString(zy),1))),128))])])):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode$1(RecResultTable,{items:ka.value,onAddCompare:Ly},null,8,["items"])]),createBaseVNode("footer",_hoisted_11,[_y.value.length?(openBlock(),createElementBlock("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,"对比区（"+toDisplayString(_y.value.length)+"）",1),createBaseVNode("div",_hoisted_14,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_y.value,zy=>(openBlock(),createElementBlock("div",{class:"chip",key:zy.id},[createBaseVNode("span",null,toDisplayString(zy.name),1),createBaseVNode("button",{class:"x",onClick:Hy=>Py(zy.id)},"×",8,_hoisted_15)]))),128))])])):(openBlock(),createElementBlock("div",_hoisted_16,"从上方列表点击“加入对比”"))]),createBaseVNode("div",{class:"resize-handle",onMousedown:By,title:"拖拽调整宽度"},null,32)],2)]))}}),RecommendSidebar=_export_sfc(_sfc_main,[["__scopeId","data-v-0b06800b"]]),MOUNT_ID="recommend-sidebar-portal";function ensureRecommendSidebarMounted(){if(document.getElementById(MOUNT_ID))return;const ha=document.createElement("div");ha.id=MOUNT_ID,document.body.appendChild(ha);const ua=createApp({render:()=>h$1(RecommendSidebar)});ua.use(router),ua.use(createPinia()),ua.use(xy),ua.mount(ha)}typeof window<"u"&&ensureRecommendSidebarMounted();createApp(App).use(createPinia()).use(router).use(xy).mount("#app");
